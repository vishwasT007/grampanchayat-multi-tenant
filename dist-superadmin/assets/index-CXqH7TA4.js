function UI(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var MH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function VI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Db={exports:{}},Hm={};var PN;function BI(){if(PN)return Hm;PN=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:o}}return Hm.Fragment=e,Hm.jsx=t,Hm.jsxs=t,Hm}var LN;function zI(){return LN||(LN=1,Db.exports=BI()),Db.exports}var s=zI(),Mb={exports:{}},fn={};var DN;function qI(){if(DN)return fn;DN=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),v=Symbol.iterator;function b(re){return re===null||typeof re!="object"?null:(re=v&&re[v]||re["@@iterator"],typeof re=="function"?re:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,j={};function S(re,q,Q){this.props=re,this.context=q,this.refs=j,this.updater=Q||T}S.prototype.isReactComponent={},S.prototype.setState=function(re,q){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,q,"setState")},S.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function L(){}L.prototype=S.prototype;function D(re,q,Q){this.props=re,this.context=q,this.refs=j,this.updater=Q||T}var O=D.prototype=new L;O.constructor=D,E(O,S.prototype),O.isPureReactComponent=!0;var te=Array.isArray;function ee(){}var G={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function k(re,q,Q){var se=Q.ref;return{$$typeof:n,type:re,key:q,ref:se!==void 0?se:null,props:Q}}function F(re,q){return k(re.type,q,re.props)}function I(re){return typeof re=="object"&&re!==null&&re.$$typeof===n}function P(re){var q={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(Q){return q[Q]})}var B=/\/+/g;function ue(re,q){return typeof re=="object"&&re!==null&&re.key!=null?P(""+re.key):q.toString(36)}function Ne(re){switch(re.status){case"fulfilled":return re.value;case"rejected":throw re.reason;default:switch(typeof re.status=="string"?re.then(ee,ee):(re.status="pending",re.then(function(q){re.status==="pending"&&(re.status="fulfilled",re.value=q)},function(q){re.status==="pending"&&(re.status="rejected",re.reason=q)})),re.status){case"fulfilled":return re.value;case"rejected":throw re.reason}}throw re}function ce(re,q,Q,se,he){var me=typeof re;(me==="undefined"||me==="boolean")&&(re=null);var be=!1;if(re===null)be=!0;else switch(me){case"bigint":case"string":case"number":be=!0;break;case"object":switch(re.$$typeof){case n:case e:be=!0;break;case g:return be=re._init,ce(be(re._payload),q,Q,se,he)}}if(be)return he=he(re),be=se===""?"."+ue(re,0):se,te(he)?(Q="",be!=null&&(Q=be.replace(B,"$&/")+"/"),ce(he,q,Q,"",function(qe){return qe})):he!=null&&(I(he)&&(he=F(he,Q+(he.key==null||re&&re.key===he.key?"":(""+he.key).replace(B,"$&/")+"/")+be)),q.push(he)),1;be=0;var Le=se===""?".":se+":";if(te(re))for(var ke=0;ke<re.length;ke++)se=re[ke],me=Le+ue(se,ke),be+=ce(se,q,Q,me,he);else if(ke=b(re),typeof ke=="function")for(re=ke.call(re),ke=0;!(se=re.next()).done;)se=se.value,me=Le+ue(se,ke++),be+=ce(se,q,Q,me,he);else if(me==="object"){if(typeof re.then=="function")return ce(Ne(re),q,Q,se,he);throw q=String(re),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return be}function pe(re,q,Q){if(re==null)return re;var se=[],he=0;return ce(re,se,"","",function(me){return q.call(Q,me,he++)}),se}function de(re){if(re._status===-1){var q=re._result;q=q(),q.then(function(Q){(re._status===0||re._status===-1)&&(re._status=1,re._result=Q)},function(Q){(re._status===0||re._status===-1)&&(re._status=2,re._result=Q)}),re._status===-1&&(re._status=0,re._result=q)}if(re._status===1)return re._result.default;throw re._result}var Se=typeof reportError=="function"?reportError:function(re){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof re=="object"&&re!==null&&typeof re.message=="string"?String(re.message):String(re),error:re});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",re);return}console.error(re)},ze={map:pe,forEach:function(re,q,Q){pe(re,function(){q.apply(this,arguments)},Q)},count:function(re){var q=0;return pe(re,function(){q++}),q},toArray:function(re){return pe(re,function(q){return q})||[]},only:function(re){if(!I(re))throw Error("React.Children.only expected to receive a single React element child.");return re}};return fn.Activity=x,fn.Children=ze,fn.Component=S,fn.Fragment=t,fn.Profiler=a,fn.PureComponent=D,fn.StrictMode=r,fn.Suspense=h,fn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,fn.__COMPILER_RUNTIME={__proto__:null,c:function(re){return G.H.useMemoCache(re)}},fn.cache=function(re){return function(){return re.apply(null,arguments)}},fn.cacheSignal=function(){return null},fn.cloneElement=function(re,q,Q){if(re==null)throw Error("The argument must be a React element, but you passed "+re+".");var se=E({},re.props),he=re.key;if(q!=null)for(me in q.key!==void 0&&(he=""+q.key),q)!U.call(q,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&q.ref===void 0||(se[me]=q[me]);var me=arguments.length-2;if(me===1)se.children=Q;else if(1<me){for(var be=Array(me),Le=0;Le<me;Le++)be[Le]=arguments[Le+2];se.children=be}return k(re.type,he,se)},fn.createContext=function(re){return re={$$typeof:c,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null},re.Provider=re,re.Consumer={$$typeof:o,_context:re},re},fn.createElement=function(re,q,Q){var se,he={},me=null;if(q!=null)for(se in q.key!==void 0&&(me=""+q.key),q)U.call(q,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(he[se]=q[se]);var be=arguments.length-2;if(be===1)he.children=Q;else if(1<be){for(var Le=Array(be),ke=0;ke<be;ke++)Le[ke]=arguments[ke+2];he.children=Le}if(re&&re.defaultProps)for(se in be=re.defaultProps,be)he[se]===void 0&&(he[se]=be[se]);return k(re,me,he)},fn.createRef=function(){return{current:null}},fn.forwardRef=function(re){return{$$typeof:u,render:re}},fn.isValidElement=I,fn.lazy=function(re){return{$$typeof:g,_payload:{_status:-1,_result:re},_init:de}},fn.memo=function(re,q){return{$$typeof:f,type:re,compare:q===void 0?null:q}},fn.startTransition=function(re){var q=G.T,Q={};G.T=Q;try{var se=re(),he=G.S;he!==null&&he(Q,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ee,Se)}catch(me){Se(me)}finally{q!==null&&Q.types!==null&&(q.types=Q.types),G.T=q}},fn.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},fn.use=function(re){return G.H.use(re)},fn.useActionState=function(re,q,Q){return G.H.useActionState(re,q,Q)},fn.useCallback=function(re,q){return G.H.useCallback(re,q)},fn.useContext=function(re){return G.H.useContext(re)},fn.useDebugValue=function(){},fn.useDeferredValue=function(re,q){return G.H.useDeferredValue(re,q)},fn.useEffect=function(re,q){return G.H.useEffect(re,q)},fn.useEffectEvent=function(re){return G.H.useEffectEvent(re)},fn.useId=function(){return G.H.useId()},fn.useImperativeHandle=function(re,q,Q){return G.H.useImperativeHandle(re,q,Q)},fn.useInsertionEffect=function(re,q){return G.H.useInsertionEffect(re,q)},fn.useLayoutEffect=function(re,q){return G.H.useLayoutEffect(re,q)},fn.useMemo=function(re,q){return G.H.useMemo(re,q)},fn.useOptimistic=function(re,q){return G.H.useOptimistic(re,q)},fn.useReducer=function(re,q,Q){return G.H.useReducer(re,q,Q)},fn.useRef=function(re){return G.H.useRef(re)},fn.useState=function(re){return G.H.useState(re)},fn.useSyncExternalStore=function(re,q,Q){return G.H.useSyncExternalStore(re,q,Q)},fn.useTransition=function(){return G.H.useTransition()},fn.version="19.2.0",fn}var MN;function U2(){return MN||(MN=1,Mb.exports=qI()),Mb.exports}var W=U2();const E0=VI(W),GI=UI({__proto__:null,default:E0},[W]);var Ob={exports:{}},$m={},Fb={exports:{}},Ub={};var ON;function HI(){return ON||(ON=1,(function(n){function e(ce,pe){var de=ce.length;ce.push(pe);e:for(;0<de;){var Se=de-1>>>1,ze=ce[Se];if(0<a(ze,pe))ce[Se]=pe,ce[de]=ze,de=Se;else break e}}function t(ce){return ce.length===0?null:ce[0]}function r(ce){if(ce.length===0)return null;var pe=ce[0],de=ce.pop();if(de!==pe){ce[0]=de;e:for(var Se=0,ze=ce.length,re=ze>>>1;Se<re;){var q=2*(Se+1)-1,Q=ce[q],se=q+1,he=ce[se];if(0>a(Q,de))se<ze&&0>a(he,Q)?(ce[Se]=he,ce[se]=de,Se=se):(ce[Se]=Q,ce[q]=de,Se=q);else if(se<ze&&0>a(he,de))ce[Se]=he,ce[se]=de,Se=se;else break e}}return pe}function a(ce,pe){var de=ce.sortIndex-pe.sortIndex;return de!==0?de:ce.id-pe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var h=[],f=[],g=1,x=null,v=3,b=!1,T=!1,E=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function O(ce){for(var pe=t(f);pe!==null;){if(pe.callback===null)r(f);else if(pe.startTime<=ce)r(f),pe.sortIndex=pe.expirationTime,e(h,pe);else break;pe=t(f)}}function te(ce){if(E=!1,O(ce),!T)if(t(h)!==null)T=!0,ee||(ee=!0,P());else{var pe=t(f);pe!==null&&Ne(te,pe.startTime-ce)}}var ee=!1,G=-1,U=5,k=-1;function F(){return j?!0:!(n.unstable_now()-k<U)}function I(){if(j=!1,ee){var ce=n.unstable_now();k=ce;var pe=!0;try{e:{T=!1,E&&(E=!1,L(G),G=-1),b=!0;var de=v;try{t:{for(O(ce),x=t(h);x!==null&&!(x.expirationTime>ce&&F());){var Se=x.callback;if(typeof Se=="function"){x.callback=null,v=x.priorityLevel;var ze=Se(x.expirationTime<=ce);if(ce=n.unstable_now(),typeof ze=="function"){x.callback=ze,O(ce),pe=!0;break t}x===t(h)&&r(h),O(ce)}else r(h);x=t(h)}if(x!==null)pe=!0;else{var re=t(f);re!==null&&Ne(te,re.startTime-ce),pe=!1}}break e}finally{x=null,v=de,b=!1}pe=void 0}}finally{pe?P():ee=!1}}}var P;if(typeof D=="function")P=function(){D(I)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ue=B.port2;B.port1.onmessage=I,P=function(){ue.postMessage(null)}}else P=function(){S(I,0)};function Ne(ce,pe){G=S(function(){ce(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ce){ce.callback=null},n.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<ce?Math.floor(1e3/ce):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(ce){switch(v){case 1:case 2:case 3:var pe=3;break;default:pe=v}var de=v;v=pe;try{return ce()}finally{v=de}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(ce,pe){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var de=v;v=ce;try{return pe()}finally{v=de}},n.unstable_scheduleCallback=function(ce,pe,de){var Se=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Se+de:Se):de=Se,ce){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=de+ze,ce={id:g++,callback:pe,priorityLevel:ce,startTime:de,expirationTime:ze,sortIndex:-1},de>Se?(ce.sortIndex=de,e(f,ce),t(h)===null&&ce===t(f)&&(E?(L(G),G=-1):E=!0,Ne(te,de-Se))):(ce.sortIndex=ze,e(h,ce),T||b||(T=!0,ee||(ee=!0,P()))),ce},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(ce){var pe=v;return function(){var de=v;v=pe;try{return ce.apply(this,arguments)}finally{v=de}}}})(Ub)),Ub}var FN;function $I(){return FN||(FN=1,Fb.exports=HI()),Fb.exports}var Vb={exports:{}},Ga={};var UN;function WI(){if(UN)return Ga;UN=1;var n=U2();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,f,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:h,containerInfo:f,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ga.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ga.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,g)},Ga.flushSync=function(h){var f=c.T,g=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=f,r.p=g,r.d.f()}},Ga.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},Ga.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Ga.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,x=u(g,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:b}):g==="script"&&r.d.X(h,{crossOrigin:x,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ga.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},Ga.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,x=u(g,f.crossOrigin);r.d.L(h,g,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ga.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=u(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},Ga.requestFormReset=function(h){r.d.r(h)},Ga.unstable_batchedUpdates=function(h,f){return h(f)},Ga.useFormState=function(h,f,g){return c.H.useFormState(h,f,g)},Ga.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ga.version="19.2.0",Ga}var VN;function H6(){if(VN)return Vb.exports;VN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vb.exports=WI(),Vb.exports}var BN;function KI(){if(BN)return $m;BN=1;var n=$I(),e=U2(),t=H6();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,d=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(d=l.return),i=l.return;while(i)}return l.tag===3?d:null}function c(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function u(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(r(188))}function f(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(r(188));return l!==i?null:i}for(var d=i,m=l;;){var w=d.return;if(w===null)break;var _=w.alternate;if(_===null){if(m=w.return,m!==null){d=m;continue}break}if(w.child===_.child){for(_=w.child;_;){if(_===d)return h(w),i;if(_===m)return h(w),l;_=_.sibling}throw Error(r(188))}if(d.return!==m.return)d=w,m=_;else{for(var V=!1,X=w.child;X;){if(X===d){V=!0,d=w,m=_;break}if(X===m){V=!0,m=w,d=_;break}X=X.sibling}if(!V){for(X=_.child;X;){if(X===d){V=!0,d=_,m=w;break}if(X===m){V=!0,m=_,d=w;break}X=X.sibling}if(!V)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:l}function g(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=g(i),l!==null)return l;i=i.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function ue(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case S:return"Profiler";case j:return"StrictMode";case te:return"Suspense";case ee:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case D:return i.displayName||"Context";case L:return(i._context.displayName||"Context")+".Consumer";case O:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return l=i.displayName||null,l!==null?l:ue(i.type)||"Memo";case U:l=i._payload,i=i._init;try{return ue(i(l))}catch{}}return null}var Ne=Array.isArray,ce=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Se=[],ze=-1;function re(i){return{current:i}}function q(i){0>ze||(i.current=Se[ze],Se[ze]=null,ze--)}function Q(i,l){ze++,Se[ze]=i.current,i.current=l}var se=re(null),he=re(null),me=re(null),be=re(null);function Le(i,l){switch(Q(me,l),Q(he,i),Q(se,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?nN(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=nN(l),i=rN(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(se),Q(se,i)}function ke(){q(se),q(he),q(me)}function qe(i){i.memoizedState!==null&&Q(be,i);var l=se.current,d=rN(l,i.type);l!==d&&(Q(he,i),Q(se,d))}function Je(i){he.current===i&&(q(se),q(he)),be.current===i&&(q(be),Bm._currentValue=de)}var it,at;function ft(i){if(it===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);it=l&&l[1]||"",at=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+i+at}var ae=!1;function st(i,l){if(!i||ae)return"";ae=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(Me){var De=Me}Reflect.construct(i,[],We)}else{try{We.call()}catch(Me){De=Me}i.call(We.prototype)}}else{try{throw Error()}catch(Me){De=Me}(We=i())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(Me){if(Me&&De&&typeof Me.stack=="string")return[Me.stack,De.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),V=_[0],X=_[1];if(V&&X){var fe=V.split(`
`),Re=X.split(`
`);for(w=m=0;m<fe.length&&!fe[m].includes("DetermineComponentFrameRoot");)m++;for(;w<Re.length&&!Re[w].includes("DetermineComponentFrameRoot");)w++;if(m===fe.length||w===Re.length)for(m=fe.length-1,w=Re.length-1;1<=m&&0<=w&&fe[m]!==Re[w];)w--;for(;1<=m&&0<=w;m--,w--)if(fe[m]!==Re[w]){if(m!==1||w!==1)do if(m--,w--,0>w||fe[m]!==Re[w]){var Be=`
`+fe[m].replace(" at new "," at ");return i.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",i.displayName)),Be}while(1<=m&&0<=w);break}}}finally{ae=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?ft(d):""}function rn(i,l){switch(i.tag){case 26:case 27:case 5:return ft(i.type);case 16:return ft("Lazy");case 13:return i.child!==l&&l!==null?ft("Suspense Fallback"):ft("Suspense");case 19:return ft("SuspenseList");case 0:case 15:return st(i.type,!1);case 11:return st(i.type.render,!1);case 1:return st(i.type,!0);case 31:return ft("Activity");default:return""}}function Pt(i){try{var l="",d=null;do l+=rn(i,d),d=i,i=i.return;while(i);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var He=Object.prototype.hasOwnProperty,ct=n.unstable_scheduleCallback,lt=n.unstable_cancelCallback,Mt=n.unstable_shouldYield,Et=n.unstable_requestPaint,sn=n.unstable_now,dn=n.unstable_getCurrentPriorityLevel,Qt=n.unstable_ImmediatePriority,pn=n.unstable_UserBlockingPriority,on=n.unstable_NormalPriority,wt=n.unstable_LowPriority,en=n.unstable_IdlePriority,Nt=n.log,Tr=n.unstable_setDisableYieldValue,ln=null,Lt=null;function Wt(i){if(typeof Nt=="function"&&Tr(i),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(ln,i)}catch{}}var an=Math.clz32?Math.clz32:zt,Tt=Math.log,zn=Math.LN2;function zt(i){return i>>>=0,i===0?32:31-(Tt(i)/zn|0)|0}var qt=256,Hn=262144,At=4194304;function jt(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function xn(i,l,d){var m=i.pendingLanes;if(m===0)return 0;var w=0,_=i.suspendedLanes,V=i.pingedLanes;i=i.warmLanes;var X=m&134217727;return X!==0?(m=X&~_,m!==0?w=jt(m):(V&=X,V!==0?w=jt(V):d||(d=X&~i,d!==0&&(w=jt(d))))):(X=m&~_,X!==0?w=jt(X):V!==0?w=jt(V):d||(d=m&~i,d!==0&&(w=jt(d)))),w===0?0:l!==0&&l!==w&&(l&_)===0&&(_=w&-w,d=l&-l,_>=d||_===32&&(d&4194048)!==0)?l:w}function qs(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function As(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xi(){var i=At;return At<<=1,(At&62914560)===0&&(At=4194304),i}function ms(i){for(var l=[],d=0;31>d;d++)l.push(i);return l}function Ct(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Hi(i,l,d,m,w,_){var V=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var X=i.entanglements,fe=i.expirationTimes,Re=i.hiddenUpdates;for(d=V&~d;0<d;){var Be=31-an(d),We=1<<Be;X[Be]=0,fe[Be]=-1;var De=Re[Be];if(De!==null)for(Re[Be]=null,Be=0;Be<De.length;Be++){var Me=De[Be];Me!==null&&(Me.lane&=-536870913)}d&=~We}m!==0&&va(i,m,0),_!==0&&w===0&&i.tag!==0&&(i.suspendedLanes|=_&~(V&~l))}function va(i,l,d){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-an(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|d&261930}function aa(i,l){var d=i.entangledLanes|=l;for(i=i.entanglements;d;){var m=31-an(d),w=1<<m;w&l|i[m]&l&&(i[m]|=l),d&=~w}}function ia(i,l){var d=l&-l;return d=(d&42)!==0?1:nr(d),(d&(i.suspendedLanes|l))!==0?0:d}function nr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function fr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ns(){var i=pe.p;return i!==0?i:(i=window.event,i===void 0?32:EN(i.type))}function Gs(i,l){var d=pe.p;try{return pe.p=i,l()}finally{pe.p=d}}var Ts=Math.random().toString(36).slice(2),$n="__reactFiber$"+Ts,sr="__reactProps$"+Ts,rs="__reactContainer$"+Ts,oa="__reactEvents$"+Ts,Oa="__reactListeners$"+Ts,xo="__reactHandles$"+Ts,ti="__reactResources$"+Ts,la="__reactMarker$"+Ts;function $i(i){delete i[$n],delete i[sr],delete i[oa],delete i[Oa],delete i[xo]}function wa(i){var l=i[$n];if(l)return l;for(var d=i.parentNode;d;){if(l=d[rs]||d[$n]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(i=uN(i);i!==null;){if(d=i[$n])return d;i=uN(i)}return l}i=d,d=i.parentNode}return null}function Hs(i){if(i=i[$n]||i[rs]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function Na(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function Fa(i){var l=i[ti];return l||(l=i[ti]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ir(i){i[la]=!0}var bl=new Set,ca={};function Ua(i,l){ni(i,l),ni(i+"Capture",l)}function ni(i,l){for(ca[i]=l,i=0;i<l.length;i++)bl.add(l[i])}var zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vl={},wl={};function lc(i){return He.call(wl,i)?!0:He.call(vl,i)?!1:zo.test(i)?wl[i]=!0:(vl[i]=!0,!1)}function ja(i,l,d){if(lc(l))if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+d)}}function Cs(i,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+d)}}function Or(i,l,d,m){if(m===null)i.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(l,d,""+m)}}function wn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Wi(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Va(i,l,d){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,_=m.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return w.call(this)},set:function(V){d=""+V,_.call(this,V)}}),Object.defineProperty(i,l,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(V){d=""+V},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Rn(i){if(!i._valueTracker){var l=Wi(i)?"checked":"value";i._valueTracker=Va(i,l,""+i[l])}}function yo(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return i&&(m=Wi(i)?i.checked?"true":"false":i.value),i=m,i!==d?(l.setValue(i),!0):!1}function $r(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Nr=/[\n"\\]/g;function Fr(i){return i.replace(Nr,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function qo(i,l,d,m,w,_,V,X){i.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?i.type=V:i.removeAttribute("type"),l!=null?V==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+wn(l)):i.value!==""+wn(l)&&(i.value=""+wn(l)):V!=="submit"&&V!=="reset"||i.removeAttribute("value"),l!=null?cc(i,V,wn(l)):d!=null?cc(i,V,wn(d)):m!=null&&i.removeAttribute("value"),w==null&&_!=null&&(i.defaultChecked=!!_),w!=null&&(i.checked=w&&typeof w!="function"&&typeof w!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?i.name=""+wn(X):i.removeAttribute("name")}function nu(i,l,d,m,w,_,V,X){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),l!=null||d!=null){if(!(_!=="submit"&&_!=="reset"||l!=null)){Rn(i);return}d=d!=null?""+wn(d):"",l=l!=null?""+wn(l):d,X||l===i.value||(i.value=l),i.defaultValue=l}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=X?i.checked:!!m,i.defaultChecked=!!m,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(i.name=V),Rn(i)}function cc(i,l,d){l==="number"&&$r(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function $s(i,l,d,m){if(i=i.options,l){l={};for(var w=0;w<d.length;w++)l["$"+d[w]]=!0;for(d=0;d<i.length;d++)w=l.hasOwnProperty("$"+i[d].value),i[d].selected!==w&&(i[d].selected=w),w&&m&&(i[d].defaultSelected=!0)}else{for(d=""+wn(d),l=null,w=0;w<i.length;w++){if(i[w].value===d){i[w].selected=!0,m&&(i[w].defaultSelected=!0);return}l!==null||i[w].disabled||(l=i[w])}l!==null&&(l.selected=!0)}}function uc(i,l,d){if(l!=null&&(l=""+wn(l),l!==i.value&&(i.value=l),d==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=d!=null?""+wn(d):""}function Ki(i,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(Ne(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=wn(l),i.defaultValue=d,m=i.textContent,m===d&&m!==""&&m!==null&&(i.value=m),Rn(i)}function gs(i,l){if(l){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=l;return}}i.textContent=l}var bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dc(i,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,d):typeof d!="number"||d===0||bo.has(l)?l==="float"?i.cssFloat=d:i[l]=(""+d).trim():i[l]=d+"px"}function hc(i,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var w in l)m=l[w],l.hasOwnProperty(w)&&d[w]!==m&&dc(i,w,m)}else for(var _ in l)l.hasOwnProperty(_)&&dc(i,_,l[_])}function Nl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(i){return Yi.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ri(){}var Xi=null;function da(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var vo=null,Ot=null;function Go(i){var l=Hs(i);if(l&&(i=l.stateNode)){var d=i[sr]||null;e:switch(i=l.stateNode,l.type){case"input":if(qo(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Fr(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==i&&m.form===i.form){var w=m[sr]||null;if(!w)throw Error(r(90));qo(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===i.form&&yo(m)}break e;case"textarea":uc(i,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&$s(i,!!d.multiple,l,!1)}}}var _l=!1;function wo(i,l,d){if(_l)return i(l,d);_l=!0;try{var m=i(l);return m}finally{if(_l=!1,(vo!==null||Ot!==null)&&(Fp(),vo&&(l=vo,i=Ot,Ot=vo=null,Go(l),i)))for(l=0;l<i.length;l++)Go(i[l])}}function ps(i,l){var d=i.stateNode;if(d===null)return null;var m=d[sr]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ho=!1;if(ss)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{Ho=!1}var _a=null,$o=null,si=null;function fc(){if(si)return si;var i,l=$o,d=l.length,m,w="value"in _a?_a.value:_a.textContent,_=w.length;for(i=0;i<d&&l[i]===w[i];i++);var V=d-i;for(m=1;m<=V&&l[d-m]===w[_-m];m++);return si=w.slice(i,1<m?1-m:void 0)}function Sa(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Qi(){return!0}function Ea(){return!1}function Wr(i){function l(d,m,w,_,V){this._reactName=d,this._targetInst=w,this.type=m,this.nativeEvent=_,this.target=V,this.currentTarget=null;for(var X in i)i.hasOwnProperty(X)&&(d=i[X],this[X]=d?d(_):_[X]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Qi:Ea,this.isPropagationStopped=Ea,this}return x(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),l}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=Wr(yi),bi=x({},yi,{view:0,detail:0}),No=Wr(bi),vi,wi,Ba,Wo=x({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ut,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ba&&(Ba&&i.type==="mousemove"?(vi=i.screenX-Ba.screenX,wi=i.screenY-Ba.screenY):wi=vi=0,Ba=i),vi)},movementY:function(i){return"movementY"in i?i.movementY:wi}}),Sl=Wr(Wo),Aa=x({},Wo,{dataTransfer:0}),Ni=Wr(Aa),mc=x({},bi,{relatedTarget:0}),ai=Wr(mc),El=x({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),A=Wr(El),H=x({},yi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),oe=Wr(H),ge=x({},yi,{data:0}),we=Wr(ge),Ve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ht={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xt(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=ht[i])?!!l[i]:!1}function Ut(){return xt}var It=x({},bi,{key:function(i){if(i.key){var l=Ve[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Sa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Xe[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ut,charCode:function(i){return i.type==="keypress"?Sa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Sa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),En=Wr(It),mr=x({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=Wr(mr),y=x({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ut}),R=Wr(y),z=x({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z=Wr(z),_e=x({},Wo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=Wr(_e),et=x({},yi,{newState:0,oldState:0}),Zt=Wr(et),gr=[9,13,27,32],bn=ss&&"CompositionEvent"in window,Kn=null;ss&&"documentMode"in document&&(Kn=document.documentMode);var Rs=ss&&"TextEvent"in window&&!Kn,Ws=ss&&(!bn||Kn&&8<Kn&&11>=Kn),ar=" ",Ks=!1;function ii(i,l){switch(i){case"keyup":return gr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var _o=!1;function Ta(i,l){switch(i){case"compositionend":return jo(l);case"keypress":return l.which!==32?null:(Ks=!0,ar);case"textInput":return i=l.data,i===ar&&Ks?null:i;default:return null}}function Ko(i,l){if(_o)return i==="compositionend"||!bn&&ii(i,l)?(i=fc(),si=$o=_a=null,_o=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ws&&l.locale!=="ko"?null:l.data;default:return null}}var ru={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function md(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!ru[i.type]:l==="textarea"}function oi(i,l,d,m){vo?Ot?Ot.push(m):Ot=[m]:vo=m,l=Hp(l,"onChange"),0<l.length&&(d=new Is("onChange","change",null,d,m),i.push({event:d,listeners:l}))}var Ji=null,Yo=null;function gd(i){X5(i,0)}function Zi(i){var l=Na(i);if(yo(l))return i}function Al(i,l){if(i==="change")return l}var za=!1;if(ss){var Ca;if(ss){var So="oninput"in document;if(!So){var Eo=document.createElement("div");Eo.setAttribute("oninput","return;"),So=typeof Eo.oninput=="function"}Ca=So}else Ca=!1;za=Ca&&(!document.documentMode||9<document.documentMode)}function Xo(){Ji&&(Ji.detachEvent("onpropertychange",su),Yo=Ji=null)}function su(i){if(i.propertyName==="value"&&Zi(Yo)){var l=[];oi(l,Yo,i,da(i)),wo(gd,l)}}function au(i,l,d){i==="focusin"?(Xo(),Ji=l,Yo=d,Ji.attachEvent("onpropertychange",su)):i==="focusout"&&Xo()}function Kr(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Zi(Yo)}function wh(i,l){if(i==="click")return Zi(l)}function Ao(i,l){if(i==="input"||i==="change")return Zi(l)}function To(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Ys=typeof Object.is=="function"?Object.is:To;function Qo(i,l){if(Ys(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var d=Object.keys(i),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var w=d[m];if(!He.call(l,w)||!Ys(i[w],l[w]))return!1}return!0}function iu(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ou(i,l){var d=iu(i);i=0;for(var m;d;){if(d.nodeType===3){if(m=i+d.textContent.length,i<=l&&m>=l)return{node:d,offset:l-i};i=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=iu(d)}}function Jo(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Jo(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Zo(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=$r(i.document);l instanceof i.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)i=l.contentWindow;else break;l=$r(i.document)}return l}function Co(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var gc=ss&&"documentMode"in document&&11>=document.documentMode,li=null,el=null,ha=null,ji=!1;function qn(i,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ji||li==null||li!==$r(m)||(m=li,"selectionStart"in m&&Co(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ha&&Qo(ha,m)||(ha=m,m=Hp(el,"onSelect"),0<m.length&&(l=new Is("onSelect","select",null,l,d),i.push({event:l,listeners:m}),l.target=li)))}function Mn(i,l){var d={};return d[i.toLowerCase()]=l.toLowerCase(),d["Webkit"+i]="webkit"+l,d["Moz"+i]="moz"+l,d}var pr={animationend:Mn("Animation","AnimationEnd"),animationiteration:Mn("Animation","AnimationIteration"),animationstart:Mn("Animation","AnimationStart"),transitionrun:Mn("Transition","TransitionRun"),transitionstart:Mn("Transition","TransitionStart"),transitioncancel:Mn("Transition","TransitionCancel"),transitionend:Mn("Transition","TransitionEnd")},Yr={},Io={};ss&&(Io=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function eo(i){if(Yr[i])return Yr[i];if(!pr[i])return i;var l=pr[i],d;for(d in l)if(l.hasOwnProperty(d)&&d in Io)return Yr[i]=l[d];return i}var pc=eo("animationend"),pd=eo("animationiteration"),um=eo("animationstart"),mp=eo("transitionrun"),gp=eo("transitionstart"),pp=eo("transitioncancel"),dm=eo("transitionend"),hm=new Map,xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xc.push("scrollEnd");function _i(i,l){hm.set(i,l),Ua(l,[i])}var xd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ci=[],yc=0,Nh=0;function yd(){for(var i=yc,l=Nh=yc=0;l<i;){var d=ci[l];ci[l++]=null;var m=ci[l];ci[l++]=null;var w=ci[l];ci[l++]=null;var _=ci[l];if(ci[l++]=null,m!==null&&w!==null){var V=m.pending;V===null?w.next=w:(w.next=V.next,V.next=w),m.pending=w}_!==0&&vd(d,w,_)}}function bd(i,l,d,m){ci[yc++]=i,ci[yc++]=l,ci[yc++]=d,ci[yc++]=m,Nh|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function jh(i,l,d,m){return bd(i,l,d,m),fa(i)}function tl(i,l){return bd(i,null,null,l),fa(i)}function vd(i,l,d){i.lanes|=d;var m=i.alternate;m!==null&&(m.lanes|=d);for(var w=!1,_=i.return;_!==null;)_.childLanes|=d,m=_.alternate,m!==null&&(m.childLanes|=d),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(w=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,w&&l!==null&&(w=31-an(d),i=_.hiddenUpdates,m=i[w],m===null?i[w]=[l]:m.push(l),l.lane=d|536870912),_):null}function fa(i){if(50<Lm)throw Lm=0,ab=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var Xs={};function _h(i,l,d,m){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ma(i,l,d,m){return new _h(i,l,d,m)}function Sh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Si(i,l){var d=i.alternate;return d===null?(d=ma(i.tag,l,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=l,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,l=i.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function wd(i,l){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,l=d.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function lu(i,l,d,m,w,_){var V=0;if(m=i,typeof i=="function")Sh(i)&&(V=1);else if(typeof i=="string")V=AI(i,d,se.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=ma(31,d,l,w),i.elementType=k,i.lanes=_,i;case E:return Tl(d.children,w,_,l);case j:V=8,w|=24;break;case S:return i=ma(12,d,l,w|2),i.elementType=S,i.lanes=_,i;case te:return i=ma(13,d,l,w),i.elementType=te,i.lanes=_,i;case ee:return i=ma(19,d,l,w),i.elementType=ee,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:V=10;break e;case L:V=9;break e;case O:V=11;break e;case G:V=14;break e;case U:V=16,m=null;break e}V=29,d=Error(r(130,i===null?"null":typeof i,"")),m=null}return l=ma(V,d,l,w),l.elementType=i,l.type=m,l.lanes=_,l}function Tl(i,l,d,m){return i=ma(7,i,m,l),i.lanes=d,i}function Nd(i,l,d){return i=ma(6,i,null,l),i.lanes=d,i}function Eh(i){var l=ma(18,null,null,0);return l.stateNode=i,l}function cu(i,l,d){return l=ma(4,i.children!==null?i.children:[],i.key,l),l.lanes=d,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Ah=new WeakMap;function Ei(i,l){if(typeof i=="object"&&i!==null){var d=Ah.get(i);return d!==void 0?d:(l={value:i,source:l,stack:Pt(l)},Ah.set(i,l),l)}return{value:i,source:l,stack:Pt(l)}}var uu=[],bc=0,Th=null,jd=0,Ai=[],Ti=0,Cl=null,Ci=1,Ii="";function ui(i,l){uu[bc++]=jd,uu[bc++]=Th,Th=i,jd=l}function xp(i,l,d){Ai[Ti++]=Ci,Ai[Ti++]=Ii,Ai[Ti++]=Cl,Cl=i;var m=Ci;i=Ii;var w=32-an(m)-1;m&=~(1<<w),d+=1;var _=32-an(l)+w;if(30<_){var V=w-w%5;_=(m&(1<<V)-1).toString(32),m>>=V,w-=V,Ci=1<<32-an(l)+w|d<<w|m,Ii=_+i}else Ci=1<<_|d<<w|m,Ii=i}function fm(i){i.return!==null&&(ui(i,1),xp(i,1,0))}function Ch(i){for(;i===Th;)Th=uu[--bc],uu[bc]=null,jd=uu[--bc],uu[bc]=null;for(;i===Cl;)Cl=Ai[--Ti],Ai[Ti]=null,Ii=Ai[--Ti],Ai[Ti]=null,Ci=Ai[--Ti],Ai[Ti]=null}function yp(i,l){Ai[Ti++]=Ci,Ai[Ti++]=Ii,Ai[Ti++]=Cl,Ci=l.id,Ii=l.overflow,Cl=i}var Qs=null,jr=null,Tn=!1,Ia=null,Ur=!1,to=Error(r(519));function Il(i){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw du(Ei(l,i)),to}function mm(i){var l=i.stateNode,d=i.type,m=i.memoizedProps;switch(l[$n]=i,l[sr]=m,d){case"dialog":In("cancel",l),In("close",l);break;case"iframe":case"object":case"embed":In("load",l);break;case"video":case"audio":for(d=0;d<Mm.length;d++)In(Mm[d],l);break;case"source":In("error",l);break;case"img":case"image":case"link":In("error",l),In("load",l);break;case"details":In("toggle",l);break;case"input":In("invalid",l),nu(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":In("invalid",l);break;case"textarea":In("invalid",l),Ki(l,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||eN(l.textContent,d)?(m.popover!=null&&(In("beforetoggle",l),In("toggle",l)),m.onScroll!=null&&In("scroll",l),m.onScrollEnd!=null&&In("scrollend",l),m.onClick!=null&&(l.onclick=ri),l=!0):l=!1,l||Il(i,!0)}function nl(i){for(Qs=i.return;Qs;)switch(Qs.tag){case 5:case 31:case 13:Ur=!1;return;case 27:case 3:Ur=!0;return;default:Qs=Qs.return}}function Js(i){if(i!==Qs)return!1;if(!Tn)return nl(i),Tn=!0,!1;var l=i.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||vb(i.type,i.memoizedProps)),d=!d),d&&jr&&Il(i),nl(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));jr=cN(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));jr=cN(i)}else l===27?(l=jr,Su(i.type)?(i=Sb,Sb=null,jr=i):jr=l):jr=Qs?Lo(i.stateNode.nextSibling):null;return!0}function vc(){jr=Qs=null,Tn=!1}function gm(){var i=Ia;return i!==null&&(Mi===null?Mi=i:Mi.push.apply(Mi,i),Ia=null),i}function du(i){Ia===null?Ia=[i]:Ia.push(i)}var Ih=re(null),Rl=null,Ro=null;function kl(i,l,d){Q(Ih,l._currentValue),l._currentValue=d}function Ri(i){i._currentValue=Ih.current,q(Ih)}function hu(i,l,d){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===d)break;i=i.return}}function wc(i,l,d,m){var w=i.child;for(w!==null&&(w.return=i);w!==null;){var _=w.dependencies;if(_!==null){var V=w.child;_=_.firstContext;e:for(;_!==null;){var X=_;_=w;for(var fe=0;fe<l.length;fe++)if(X.context===l[fe]){_.lanes|=d,X=_.alternate,X!==null&&(X.lanes|=d),hu(_.return,d,i),m||(V=null);break e}_=X.next}}else if(w.tag===18){if(V=w.return,V===null)throw Error(r(341));V.lanes|=d,_=V.alternate,_!==null&&(_.lanes|=d),hu(V,d,i),V=null}else V=w.child;if(V!==null)V.return=w;else for(V=w;V!==null;){if(V===i){V=null;break}if(w=V.sibling,w!==null){w.return=V.return,V=w;break}V=V.return}w=V}}function Pl(i,l,d,m){i=null;for(var w=l,_=!1;w!==null;){if(!_){if((w.flags&524288)!==0)_=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var V=w.alternate;if(V===null)throw Error(r(387));if(V=V.memoizedProps,V!==null){var X=w.type;Ys(w.pendingProps.value,V.value)||(i!==null?i.push(X):i=[X])}}else if(w===be.current){if(V=w.alternate,V===null)throw Error(r(387));V.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(i!==null?i.push(Bm):i=[Bm])}w=w.return}i!==null&&wc(l,i,d,m),l.flags|=262144}function Rh(i){for(i=i.firstContext;i!==null;){if(!Ys(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ll(i){Rl=i,Ro=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zs(i){return bp(Rl,i)}function kh(i,l){return Rl===null&&Ll(i),bp(i,l)}function bp(i,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Ro===null){if(i===null)throw Error(r(308));Ro=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else Ro=Ro.next=l;return d}var _y=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(d,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(d){return d()})}},Sy=n.unstable_scheduleCallback,Ey=n.unstable_NormalPriority,Xr={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fu(){return{controller:new _y,data:new Map,refCount:0}}function _d(i){i.refCount--,i.refCount===0&&Sy(Ey,function(){i.controller.abort()})}var Sd=null,Ph=0,p=0,N=null;function C(i,l){if(Sd===null){var d=Sd=[];Ph=0,p=db(),N={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Ph++,l.then(M,M),l}function M(){if(--Ph===0&&Sd!==null){N!==null&&(N.status="fulfilled");var i=Sd;Sd=null,p=0,N=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function $(i,l){var d=[],m={status:"pending",value:null,reason:null,then:function(w){d.push(w)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var w=0;w<d.length;w++)(0,d[w])(l)},function(w){for(m.status="rejected",m.reason=w,w=0;w<d.length;w++)(0,d[w])(void 0)}),m}var K=ce.S;ce.S=function(i,l){_5=sn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&C(i,l),K!==null&&K(i,l)};var Y=re(null);function J(){var i=Y.current;return i!==null?i:Sr.pooledCache}function ne(i,l){l===null?Q(Y,Y.current):Q(Y,l.pool)}function le(){var i=J();return i===null?null:{parent:Xr._currentValue,pool:i}}var xe=Error(r(460)),Ce=Error(r(474)),ie=Error(r(542)),ve={then:function(){}};function Ee(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Fe(i,l,d){switch(d=i[d],d===void 0?i.push(l):d!==l&&(l.then(ri,ri),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Qe(i),i;default:if(typeof l.status=="string")l.then(ri,ri);else{if(i=Sr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=m}},function(m){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Qe(i),i}throw Oe=l,xe}}function Ae(i){try{var l=i._init;return l(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Oe=d,xe):d}}var Oe=null;function Ge(){if(Oe===null)throw Error(r(459));var i=Oe;return Oe=null,i}function Qe(i){if(i===xe||i===ie)throw Error(r(483))}var Ke=null,yt=0;function ut(i){var l=yt;return yt+=1,Ke===null&&(Ke=[]),Fe(Ke,i,l)}function tn(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function mt(i,l){throw l.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function An(i){function l(je,ye){if(i){var Ie=je.deletions;Ie===null?(je.deletions=[ye],je.flags|=16):Ie.push(ye)}}function d(je,ye){if(!i)return null;for(;ye!==null;)l(je,ye),ye=ye.sibling;return null}function m(je){for(var ye=new Map;je!==null;)je.key!==null?ye.set(je.key,je):ye.set(je.index,je),je=je.sibling;return ye}function w(je,ye){return je=Si(je,ye),je.index=0,je.sibling=null,je}function _(je,ye,Ie){return je.index=Ie,i?(Ie=je.alternate,Ie!==null?(Ie=Ie.index,Ie<ye?(je.flags|=67108866,ye):Ie):(je.flags|=67108866,ye)):(je.flags|=1048576,ye)}function V(je){return i&&je.alternate===null&&(je.flags|=67108866),je}function X(je,ye,Ie,$e){return ye===null||ye.tag!==6?(ye=Nd(Ie,je.mode,$e),ye.return=je,ye):(ye=w(ye,Ie),ye.return=je,ye)}function fe(je,ye,Ie,$e){var Bt=Ie.type;return Bt===E?Be(je,ye,Ie.props.children,$e,Ie.key):ye!==null&&(ye.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===U&&Ae(Bt)===ye.type)?(ye=w(ye,Ie.props),tn(ye,Ie),ye.return=je,ye):(ye=lu(Ie.type,Ie.key,Ie.props,null,je.mode,$e),tn(ye,Ie),ye.return=je,ye)}function Re(je,ye,Ie,$e){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Ie.containerInfo||ye.stateNode.implementation!==Ie.implementation?(ye=cu(Ie,je.mode,$e),ye.return=je,ye):(ye=w(ye,Ie.children||[]),ye.return=je,ye)}function Be(je,ye,Ie,$e,Bt){return ye===null||ye.tag!==7?(ye=Tl(Ie,je.mode,$e,Bt),ye.return=je,ye):(ye=w(ye,Ie),ye.return=je,ye)}function We(je,ye,Ie){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=Nd(""+ye,je.mode,Ie),ye.return=je,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case b:return Ie=lu(ye.type,ye.key,ye.props,null,je.mode,Ie),tn(Ie,ye),Ie.return=je,Ie;case T:return ye=cu(ye,je.mode,Ie),ye.return=je,ye;case U:return ye=Ae(ye),We(je,ye,Ie)}if(Ne(ye)||P(ye))return ye=Tl(ye,je.mode,Ie,null),ye.return=je,ye;if(typeof ye.then=="function")return We(je,ut(ye),Ie);if(ye.$$typeof===D)return We(je,kh(je,ye),Ie);mt(je,ye)}return null}function De(je,ye,Ie,$e){var Bt=ye!==null?ye.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return Bt!==null?null:X(je,ye,""+Ie,$e);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case b:return Ie.key===Bt?fe(je,ye,Ie,$e):null;case T:return Ie.key===Bt?Re(je,ye,Ie,$e):null;case U:return Ie=Ae(Ie),De(je,ye,Ie,$e)}if(Ne(Ie)||P(Ie))return Bt!==null?null:Be(je,ye,Ie,$e,null);if(typeof Ie.then=="function")return De(je,ye,ut(Ie),$e);if(Ie.$$typeof===D)return De(je,ye,kh(je,Ie),$e);mt(je,Ie)}return null}function Me(je,ye,Ie,$e,Bt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return je=je.get(Ie)||null,X(ye,je,""+$e,Bt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case b:return je=je.get($e.key===null?Ie:$e.key)||null,fe(ye,je,$e,Bt);case T:return je=je.get($e.key===null?Ie:$e.key)||null,Re(ye,je,$e,Bt);case U:return $e=Ae($e),Me(je,ye,Ie,$e,Bt)}if(Ne($e)||P($e))return je=je.get(Ie)||null,Be(ye,je,$e,Bt,null);if(typeof $e.then=="function")return Me(je,ye,Ie,ut($e),Bt);if($e.$$typeof===D)return Me(je,ye,Ie,kh(ye,$e),Bt);mt(ye,$e)}return null}function pt(je,ye,Ie,$e){for(var Bt=null,Yn=null,_t=ye,yn=ye=0,Pn=null;_t!==null&&yn<Ie.length;yn++){_t.index>yn?(Pn=_t,_t=null):Pn=_t.sibling;var Xn=De(je,_t,Ie[yn],$e);if(Xn===null){_t===null&&(_t=Pn);break}i&&_t&&Xn.alternate===null&&l(je,_t),ye=_(Xn,ye,yn),Yn===null?Bt=Xn:Yn.sibling=Xn,Yn=Xn,_t=Pn}if(yn===Ie.length)return d(je,_t),Tn&&ui(je,yn),Bt;if(_t===null){for(;yn<Ie.length;yn++)_t=We(je,Ie[yn],$e),_t!==null&&(ye=_(_t,ye,yn),Yn===null?Bt=_t:Yn.sibling=_t,Yn=_t);return Tn&&ui(je,yn),Bt}for(_t=m(_t);yn<Ie.length;yn++)Pn=Me(_t,je,yn,Ie[yn],$e),Pn!==null&&(i&&Pn.alternate!==null&&_t.delete(Pn.key===null?yn:Pn.key),ye=_(Pn,ye,yn),Yn===null?Bt=Pn:Yn.sibling=Pn,Yn=Pn);return i&&_t.forEach(function(Iu){return l(je,Iu)}),Tn&&ui(je,yn),Bt}function Yt(je,ye,Ie,$e){if(Ie==null)throw Error(r(151));for(var Bt=null,Yn=null,_t=ye,yn=ye=0,Pn=null,Xn=Ie.next();_t!==null&&!Xn.done;yn++,Xn=Ie.next()){_t.index>yn?(Pn=_t,_t=null):Pn=_t.sibling;var Iu=De(je,_t,Xn.value,$e);if(Iu===null){_t===null&&(_t=Pn);break}i&&_t&&Iu.alternate===null&&l(je,_t),ye=_(Iu,ye,yn),Yn===null?Bt=Iu:Yn.sibling=Iu,Yn=Iu,_t=Pn}if(Xn.done)return d(je,_t),Tn&&ui(je,yn),Bt;if(_t===null){for(;!Xn.done;yn++,Xn=Ie.next())Xn=We(je,Xn.value,$e),Xn!==null&&(ye=_(Xn,ye,yn),Yn===null?Bt=Xn:Yn.sibling=Xn,Yn=Xn);return Tn&&ui(je,yn),Bt}for(_t=m(_t);!Xn.done;yn++,Xn=Ie.next())Xn=Me(_t,je,yn,Xn.value,$e),Xn!==null&&(i&&Xn.alternate!==null&&_t.delete(Xn.key===null?yn:Xn.key),ye=_(Xn,ye,yn),Yn===null?Bt=Xn:Yn.sibling=Xn,Yn=Xn);return i&&_t.forEach(function(FI){return l(je,FI)}),Tn&&ui(je,yn),Bt}function vr(je,ye,Ie,$e){if(typeof Ie=="object"&&Ie!==null&&Ie.type===E&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case b:e:{for(var Bt=Ie.key;ye!==null;){if(ye.key===Bt){if(Bt=Ie.type,Bt===E){if(ye.tag===7){d(je,ye.sibling),$e=w(ye,Ie.props.children),$e.return=je,je=$e;break e}}else if(ye.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===U&&Ae(Bt)===ye.type){d(je,ye.sibling),$e=w(ye,Ie.props),tn($e,Ie),$e.return=je,je=$e;break e}d(je,ye);break}else l(je,ye);ye=ye.sibling}Ie.type===E?($e=Tl(Ie.props.children,je.mode,$e,Ie.key),$e.return=je,je=$e):($e=lu(Ie.type,Ie.key,Ie.props,null,je.mode,$e),tn($e,Ie),$e.return=je,je=$e)}return V(je);case T:e:{for(Bt=Ie.key;ye!==null;){if(ye.key===Bt)if(ye.tag===4&&ye.stateNode.containerInfo===Ie.containerInfo&&ye.stateNode.implementation===Ie.implementation){d(je,ye.sibling),$e=w(ye,Ie.children||[]),$e.return=je,je=$e;break e}else{d(je,ye);break}else l(je,ye);ye=ye.sibling}$e=cu(Ie,je.mode,$e),$e.return=je,je=$e}return V(je);case U:return Ie=Ae(Ie),vr(je,ye,Ie,$e)}if(Ne(Ie))return pt(je,ye,Ie,$e);if(P(Ie)){if(Bt=P(Ie),typeof Bt!="function")throw Error(r(150));return Ie=Bt.call(Ie),Yt(je,ye,Ie,$e)}if(typeof Ie.then=="function")return vr(je,ye,ut(Ie),$e);if(Ie.$$typeof===D)return vr(je,ye,kh(je,Ie),$e);mt(je,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,ye!==null&&ye.tag===6?(d(je,ye.sibling),$e=w(ye,Ie),$e.return=je,je=$e):(d(je,ye),$e=Nd(Ie,je.mode,$e),$e.return=je,je=$e),V(je)):d(je,ye)}return function(je,ye,Ie,$e){try{yt=0;var Bt=vr(je,ye,Ie,$e);return Ke=null,Bt}catch(_t){if(_t===xe||_t===ie)throw _t;var Yn=ma(29,_t,null,je.mode);return Yn.lanes=$e,Yn.return=je,Yn}finally{}}}var _r=An(!0),hn=An(!1),dt=!1;function rt(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rr(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Kt(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function gn(i,l,d){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(er&2)!==0){var w=m.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),m.pending=l,l=fa(i),vd(i,null,d),l}return bd(i,m,l,d),fa(i)}function Jn(i,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,d|=m,l.lanes=d,aa(i,d)}}function xs(i,l){var d=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var w=null,_=null;if(d=d.firstBaseUpdate,d!==null){do{var V={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};_===null?w=_=V:_=_.next=V,d=d.next}while(d!==null);_===null?w=_=l:_=_.next=l}else w=_=l;d={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=l}var ea=!1;function xr(){if(ea){var i=N;if(i!==null)throw i}}function as(i,l,d,m){ea=!1;var w=i.updateQueue;dt=!1;var _=w.firstBaseUpdate,V=w.lastBaseUpdate,X=w.shared.pending;if(X!==null){w.shared.pending=null;var fe=X,Re=fe.next;fe.next=null,V===null?_=Re:V.next=Re,V=fe;var Be=i.alternate;Be!==null&&(Be=Be.updateQueue,X=Be.lastBaseUpdate,X!==V&&(X===null?Be.firstBaseUpdate=Re:X.next=Re,Be.lastBaseUpdate=fe))}if(_!==null){var We=w.baseState;V=0,Be=Re=fe=null,X=_;do{var De=X.lane&-536870913,Me=De!==X.lane;if(Me?(kn&De)===De:(m&De)===De){De!==0&&De===p&&(ea=!0),Be!==null&&(Be=Be.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var pt=i,Yt=X;De=l;var vr=d;switch(Yt.tag){case 1:if(pt=Yt.payload,typeof pt=="function"){We=pt.call(vr,We,De);break e}We=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Yt.payload,De=typeof pt=="function"?pt.call(vr,We,De):pt,De==null)break e;We=x({},We,De);break e;case 2:dt=!0}}De=X.callback,De!==null&&(i.flags|=64,Me&&(i.flags|=8192),Me=w.callbacks,Me===null?w.callbacks=[De]:Me.push(De))}else Me={lane:De,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Be===null?(Re=Be=Me,fe=We):Be=Be.next=Me,V|=De;if(X=X.next,X===null){if(X=w.shared.pending,X===null)break;Me=X,X=Me.next,Me.next=null,w.lastBaseUpdate=Me,w.shared.pending=null}}while(!0);Be===null&&(fe=We),w.baseState=fe,w.firstBaseUpdate=Re,w.lastBaseUpdate=Be,_===null&&(w.shared.lanes=0),vu|=V,i.lanes=V,i.memoizedState=We}}function ga(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function is(i,l){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)ga(d[i],l)}var vn=re(null),Fn=re(0);function kr(i,l){i=Rc,Q(Fn,i),Q(vn,l),Rc=i|l.baseLanes}function Gn(){Q(Fn,Rc),Q(vn,vn.current)}function ys(){Rc=Fn.current,q(vn),q(Fn)}var Pr=re(null),Un=null;function Qr(i){var l=i.alternate;Q(On,On.current&1),Q(Pr,i),Un===null&&(l===null||vn.current!==null||l.memoizedState!==null)&&(Un=i)}function Zn(i){Q(On,On.current),Q(Pr,i),Un===null&&(Un=i)}function os(i){i.tag===22?(Q(On,On.current),Q(Pr,i),Un===null&&(Un=i)):ls()}function ls(){Q(On,On.current),Q(Pr,Pr.current)}function ir(i){q(Pr),Un===i&&(Un=null),q(On)}var On=re(0);function pa(i){for(var l=i;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||jb(d)||_b(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Vr=0,Ft=null,Vt=null,Vn=null,qa=!1,ki=!1,Ra=!1,cs=0,Dl=0,Ml=null,Lh=0;function yr(){throw Error(r(321))}function pm(i,l){if(l===null)return!1;for(var d=0;d<l.length&&d<i.length;d++)if(!Ys(i[d],l[d]))return!1;return!0}function xm(i,l,d,m,w,_){return Vr=_,Ft=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ce.H=i===null||i.memoizedState===null?Dw:Ly,Ra=!1,_=d(m,w),Ra=!1,ki&&(_=rl(l,d,m,w)),Dh(i),_}function Dh(i){ce.H=Sm;var l=Vt!==null&&Vt.next!==null;if(Vr=0,Vn=Vt=Ft=null,qa=!1,Dl=0,Ml=null,l)throw Error(r(300));i===null||Ps||(i=i.dependencies,i!==null&&Rh(i)&&(Ps=!0))}function rl(i,l,d,m){Ft=i;var w=0;do{if(ki&&(Ml=null),Dl=0,ki=!1,25<=w)throw Error(r(301));if(w+=1,Vn=Vt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ce.H=Mw,_=l(d,m)}while(ki);return _}function Ay(){var i=ce.H,l=i.useState()[0];return l=typeof l.then=="function"?Ol(l):l,i=i.useState()[0],(Vt!==null?Vt.memoizedState:null)!==i&&(Ft.flags|=1024),l}function ym(){var i=cs!==0;return cs=0,i}function bm(i,l,d){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~d}function Mh(i){if(qa){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}qa=!1}Vr=0,Vn=Vt=Ft=null,ki=!1,Dl=cs=0,Ml=null}function ks(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?Ft.memoizedState=Vn=i:Vn=Vn.next=i,Vn}function Br(){if(Vt===null){var i=Ft.alternate;i=i!==null?i.memoizedState:null}else i=Vt.next;var l=Vn===null?Ft.memoizedState:Vn.next;if(l!==null)Vn=l,Vt=i;else{if(i===null)throw Ft.alternate===null?Error(r(467)):Error(r(310));Vt=i,i={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Vn===null?Ft.memoizedState=Vn=i:Vn=Vn.next=i}return Vn}function Ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(i){var l=Dl;return Dl+=1,Ml===null&&(Ml=[]),i=Fe(Ml,i,l),l=Ft,(Vn===null?l.memoizedState:Vn.next)===null&&(l=l.alternate,ce.H=l===null||l.memoizedState===null?Dw:Ly),i}function mu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ol(i);if(i.$$typeof===D)return Zs(i)}throw Error(r(438,String(i)))}function Nc(i){var l=null,d=Ft.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=Ft.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Ed(),Ft.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(i),m=0;m<i;m++)d[m]=F;return l.index++,d}function ko(i,l){return typeof l=="function"?l(i):l}function Oh(i){var l=Br();return gu(l,Vt,i)}function gu(i,l,d){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var w=i.baseQueue,_=m.pending;if(_!==null){if(w!==null){var V=w.next;w.next=_.next,_.next=V}l.baseQueue=w=_,m.pending=null}if(_=i.baseState,w===null)i.memoizedState=_;else{l=w.next;var X=V=null,fe=null,Re=l,Be=!1;do{var We=Re.lane&-536870913;if(We!==Re.lane?(kn&We)===We:(Vr&We)===We){var De=Re.revertLane;if(De===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),We===p&&(Be=!0);else if((Vr&De)===De){Re=Re.next,De===p&&(Be=!0);continue}else We={lane:0,revertLane:Re.revertLane,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},fe===null?(X=fe=We,V=_):fe=fe.next=We,Ft.lanes|=De,vu|=De;We=Re.action,Ra&&d(_,We),_=Re.hasEagerState?Re.eagerState:d(_,We)}else De={lane:We,revertLane:Re.revertLane,gesture:Re.gesture,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},fe===null?(X=fe=De,V=_):fe=fe.next=De,Ft.lanes|=We,vu|=We;Re=Re.next}while(Re!==null&&Re!==l);if(fe===null?V=_:fe.next=X,!Ys(_,i.memoizedState)&&(Ps=!0,Be&&(d=N,d!==null)))throw d;i.memoizedState=_,i.baseState=V,i.baseQueue=fe,m.lastRenderedState=_}return w===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Fh(i){var l=Br(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var m=d.dispatch,w=d.pending,_=l.memoizedState;if(w!==null){d.pending=null;var V=w=w.next;do _=i(_,V.action),V=V.next;while(V!==w);Ys(_,l.memoizedState)||(Ps=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),d.lastRenderedState=_}return[_,m]}function Uh(i,l,d){var m=Ft,w=Br(),_=Tn;if(_){if(d===void 0)throw Error(r(407));d=d()}else d=l();var V=!Ys((Vt||w).memoizedState,d);if(V&&(w.memoizedState=d,Ps=!0),w=w.queue,Ty(wm.bind(null,m,w,i),[i]),w.getSnapshot!==l||V||Vn!==null&&Vn.memoizedState.tag&1){if(m.flags|=2048,_c(9,{destroy:void 0},vm.bind(null,m,w,d,l),null),Sr===null)throw Error(r(349));_||(Vr&127)!==0||sl(m,l,d)}return d}function sl(i,l,d){i.flags|=16384,i={getSnapshot:l,value:d},l=Ft.updateQueue,l===null?(l=Ed(),Ft.updateQueue=l,l.stores=[i]):(d=l.stores,d===null?l.stores=[i]:d.push(i))}function vm(i,l,d,m){l.value=d,l.getSnapshot=m,vp(l)&&Nm(i)}function wm(i,l,d){return d(function(){vp(l)&&Nm(i)})}function vp(i){var l=i.getSnapshot;i=i.value;try{var d=l();return!Ys(i,d)}catch{return!0}}function Nm(i){var l=tl(i,2);l!==null&&Oi(l,i,2)}function Fl(i){var l=ks();if(typeof i=="function"){var d=i;if(i=d(),Ra){Wt(!0);try{d()}finally{Wt(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:i},l}function wp(i,l,d,m){return i.baseState=d,gu(i,Vt,typeof m=="function"?m:ko)}function Np(i,l,d,m,w){if(Ep(i))throw Error(r(485));if(i=l.action,i!==null){var _={payload:w,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){_.listeners.push(V)}};ce.T!==null?d(!0):_.isTransition=!1,m(_),d=l.pending,d===null?(_.next=l.pending=_,jp(l,_)):(_.next=d.next,l.pending=d.next=_)}}function jp(i,l){var d=l.action,m=l.payload,w=i.state;if(l.isTransition){var _=ce.T,V={};ce.T=V;try{var X=d(w,m),fe=ce.S;fe!==null&&fe(V,X),jm(i,l,X)}catch(Re){jc(i,l,Re)}finally{_!==null&&V.types!==null&&(_.types=V.types),ce.T=_}}else try{_=d(w,m),jm(i,l,_)}catch(Re){jc(i,l,Re)}}function jm(i,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){_p(i,l,m)},function(m){return jc(i,l,m)}):_p(i,l,d)}function _p(i,l,d){l.status="fulfilled",l.value=d,Vh(l),i.state=d,l=i.pending,l!==null&&(d=l.next,d===l?i.pending=null:(d=d.next,l.next=d,jp(i,d)))}function jc(i,l,d){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,Vh(l),l=l.next;while(l!==m)}i.action=null}function Vh(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function Ad(i,l){return l}function Po(i,l){if(Tn){var d=Sr.formState;if(d!==null){e:{var m=Ft;if(Tn){if(jr){t:{for(var w=jr,_=Ur;w.nodeType!==8;){if(!_){w=null;break t}if(w=Lo(w.nextSibling),w===null){w=null;break t}}_=w.data,w=_==="F!"||_==="F"?w:null}if(w){jr=Lo(w.nextSibling),m=w.data==="F!";break e}}Il(m)}m=!1}m&&(l=d[0])}}return d=ks(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ad,lastRenderedState:l},d.queue=m,d=kw.bind(null,Ft,m),m.dispatch=d,m=Fl(!1),_=Py.bind(null,Ft,!1,m.queue),m=ks(),w={state:l,dispatch:null,action:i,pending:null},m.queue=w,d=Np.bind(null,Ft,w,_,d),w.dispatch=d,m.memoizedState=i,[l,d,!1]}function al(i){var l=Br();return il(l,Vt,i)}function il(i,l,d){if(l=gu(i,l,Ad)[0],i=Oh(ko)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Ol(l)}catch(V){throw V===xe?ie:V}else m=l;l=Br();var w=l.queue,_=w.dispatch;return d!==l.memoizedState&&(Ft.flags|=2048,_c(9,{destroy:void 0},Bh.bind(null,w,d),null)),[m,_,i]}function Bh(i,l){i.action=l}function zh(i){var l=Br(),d=Vt;if(d!==null)return il(l,d,i);Br(),l=l.memoizedState,d=Br();var m=d.queue.dispatch;return d.memoizedState=i,[l,m,!1]}function _c(i,l,d,m){return i={tag:i,create:d,deps:m,inst:l,next:null},l=Ft.updateQueue,l===null&&(l=Ed(),Ft.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=i.next=i:(m=d.next,d.next=i,i.next=m,l.lastEffect=i),i}function Sp(){return Br().memoizedState}function pu(i,l,d,m){var w=ks();Ft.flags|=i,w.memoizedState=_c(1|l,{destroy:void 0},d,m===void 0?null:m)}function xu(i,l,d,m){var w=Br();m=m===void 0?null:m;var _=w.memoizedState.inst;Vt!==null&&m!==null&&pm(m,Vt.memoizedState.deps)?w.memoizedState=_c(l,_,d,m):(Ft.flags|=i,w.memoizedState=_c(1|l,_,d,m))}function yw(i,l){pu(8390656,8,i,l)}function Ty(i,l){xu(2048,8,i,l)}function kC(i){Ft.flags|=4;var l=Ft.updateQueue;if(l===null)l=Ed(),Ft.updateQueue=l,l.events=[i];else{var d=l.events;d===null?l.events=[i]:d.push(i)}}function bw(i){var l=Br().memoizedState;return kC({ref:l,nextImpl:i}),function(){if((er&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function vw(i,l){return xu(4,2,i,l)}function ww(i,l){return xu(4,4,i,l)}function Nw(i,l){if(typeof l=="function"){i=i();var d=l(i);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function jw(i,l,d){d=d!=null?d.concat([i]):null,xu(4,4,Nw.bind(null,l,i),d)}function Cy(){}function _w(i,l){var d=Br();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&pm(l,m[1])?m[0]:(d.memoizedState=[i,l],i)}function Sw(i,l){var d=Br();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&pm(l,m[1]))return m[0];if(m=i(),Ra){Wt(!0);try{i()}finally{Wt(!1)}}return d.memoizedState=[m,l],m}function Iy(i,l,d){return d===void 0||(Vr&1073741824)!==0&&(kn&261930)===0?i.memoizedState=l:(i.memoizedState=d,i=E5(),Ft.lanes|=i,vu|=i,d)}function Ew(i,l,d,m){return Ys(d,l)?d:vn.current!==null?(i=Iy(i,d,m),Ys(i,l)||(Ps=!0),i):(Vr&42)===0||(Vr&1073741824)!==0&&(kn&261930)===0?(Ps=!0,i.memoizedState=d):(i=E5(),Ft.lanes|=i,vu|=i,l)}function Aw(i,l,d,m,w){var _=pe.p;pe.p=_!==0&&8>_?_:8;var V=ce.T,X={};ce.T=X,Py(i,!1,l,d);try{var fe=w(),Re=ce.S;if(Re!==null&&Re(X,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Be=$(fe,m);_m(i,l,Be,so(i))}else _m(i,l,m,so(i))}catch(We){_m(i,l,{then:function(){},status:"rejected",reason:We},so())}finally{pe.p=_,V!==null&&X.types!==null&&(V.types=X.types),ce.T=V}}function PC(){}function Ry(i,l,d,m){if(i.tag!==5)throw Error(r(476));var w=Tw(i).queue;Aw(i,w,l,de,d===null?PC:function(){return Cw(i),d(m)})}function Tw(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:de},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:d},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function Cw(i){var l=Tw(i);l.next===null&&(l=i.alternate.memoizedState),_m(i,l.next.queue,{},so())}function ky(){return Zs(Bm)}function Iw(){return Br().memoizedState}function Rw(){return Br().memoizedState}function LC(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var d=so();i=Kt(d);var m=gn(l,i,d);m!==null&&(Oi(m,l,d),Jn(m,l,d)),l={cache:fu()},i.payload=l;return}l=l.return}}function DC(i,l,d){var m=so();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Ep(i)?Pw(l,d):(d=jh(i,l,d,m),d!==null&&(Oi(d,i,m),Lw(d,l,m)))}function kw(i,l,d){var m=so();_m(i,l,d,m)}function _m(i,l,d,m){var w={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ep(i))Pw(l,w);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var V=l.lastRenderedState,X=_(V,d);if(w.hasEagerState=!0,w.eagerState=X,Ys(X,V))return bd(i,l,w,0),Sr===null&&yd(),!1}catch{}finally{}if(d=jh(i,l,w,m),d!==null)return Oi(d,i,m),Lw(d,l,m),!0}return!1}function Py(i,l,d,m){if(m={lane:2,revertLane:db(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Ep(i)){if(l)throw Error(r(479))}else l=jh(i,d,m,2),l!==null&&Oi(l,i,2)}function Ep(i){var l=i.alternate;return i===Ft||l!==null&&l===Ft}function Pw(i,l){ki=qa=!0;var d=i.pending;d===null?l.next=l:(l.next=d.next,d.next=l),i.pending=l}function Lw(i,l,d){if((d&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,d|=m,l.lanes=d,aa(i,d)}}var Sm={readContext:Zs,use:mu,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useLayoutEffect:yr,useInsertionEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useSyncExternalStore:yr,useId:yr,useHostTransitionStatus:yr,useFormState:yr,useActionState:yr,useOptimistic:yr,useMemoCache:yr,useCacheRefresh:yr};Sm.useEffectEvent=yr;var Dw={readContext:Zs,use:mu,useCallback:function(i,l){return ks().memoizedState=[i,l===void 0?null:l],i},useContext:Zs,useEffect:yw,useImperativeHandle:function(i,l,d){d=d!=null?d.concat([i]):null,pu(4194308,4,Nw.bind(null,l,i),d)},useLayoutEffect:function(i,l){return pu(4194308,4,i,l)},useInsertionEffect:function(i,l){pu(4,2,i,l)},useMemo:function(i,l){var d=ks();l=l===void 0?null:l;var m=i();if(Ra){Wt(!0);try{i()}finally{Wt(!1)}}return d.memoizedState=[m,l],m},useReducer:function(i,l,d){var m=ks();if(d!==void 0){var w=d(l);if(Ra){Wt(!0);try{d(l)}finally{Wt(!1)}}}else w=l;return m.memoizedState=m.baseState=w,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:w},m.queue=i,i=i.dispatch=DC.bind(null,Ft,i),[m.memoizedState,i]},useRef:function(i){var l=ks();return i={current:i},l.memoizedState=i},useState:function(i){i=Fl(i);var l=i.queue,d=kw.bind(null,Ft,l);return l.dispatch=d,[i.memoizedState,d]},useDebugValue:Cy,useDeferredValue:function(i,l){var d=ks();return Iy(d,i,l)},useTransition:function(){var i=Fl(!1);return i=Aw.bind(null,Ft,i.queue,!0,!1),ks().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,d){var m=Ft,w=ks();if(Tn){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Sr===null)throw Error(r(349));(kn&127)!==0||sl(m,l,d)}w.memoizedState=d;var _={value:d,getSnapshot:l};return w.queue=_,yw(wm.bind(null,m,_,i),[i]),m.flags|=2048,_c(9,{destroy:void 0},vm.bind(null,m,_,d,l),null),d},useId:function(){var i=ks(),l=Sr.identifierPrefix;if(Tn){var d=Ii,m=Ci;d=(m&~(1<<32-an(m)-1)).toString(32)+d,l="_"+l+"R_"+d,d=cs++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=Lh++,l="_"+l+"r_"+d.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:ky,useFormState:Po,useActionState:Po,useOptimistic:function(i){var l=ks();l.memoizedState=l.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Py.bind(null,Ft,!0,d),d.dispatch=l,[i,l]},useMemoCache:Nc,useCacheRefresh:function(){return ks().memoizedState=LC.bind(null,Ft)},useEffectEvent:function(i){var l=ks(),d={impl:i};return l.memoizedState=d,function(){if((er&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Ly={readContext:Zs,use:mu,useCallback:_w,useContext:Zs,useEffect:Ty,useImperativeHandle:jw,useInsertionEffect:vw,useLayoutEffect:ww,useMemo:Sw,useReducer:Oh,useRef:Sp,useState:function(){return Oh(ko)},useDebugValue:Cy,useDeferredValue:function(i,l){var d=Br();return Ew(d,Vt.memoizedState,i,l)},useTransition:function(){var i=Oh(ko)[0],l=Br().memoizedState;return[typeof i=="boolean"?i:Ol(i),l]},useSyncExternalStore:Uh,useId:Iw,useHostTransitionStatus:ky,useFormState:al,useActionState:al,useOptimistic:function(i,l){var d=Br();return wp(d,Vt,i,l)},useMemoCache:Nc,useCacheRefresh:Rw};Ly.useEffectEvent=bw;var Mw={readContext:Zs,use:mu,useCallback:_w,useContext:Zs,useEffect:Ty,useImperativeHandle:jw,useInsertionEffect:vw,useLayoutEffect:ww,useMemo:Sw,useReducer:Fh,useRef:Sp,useState:function(){return Fh(ko)},useDebugValue:Cy,useDeferredValue:function(i,l){var d=Br();return Vt===null?Iy(d,i,l):Ew(d,Vt.memoizedState,i,l)},useTransition:function(){var i=Fh(ko)[0],l=Br().memoizedState;return[typeof i=="boolean"?i:Ol(i),l]},useSyncExternalStore:Uh,useId:Iw,useHostTransitionStatus:ky,useFormState:zh,useActionState:zh,useOptimistic:function(i,l){var d=Br();return Vt!==null?wp(d,Vt,i,l):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:Nc,useCacheRefresh:Rw};Mw.useEffectEvent=bw;function Dy(i,l,d,m){l=i.memoizedState,d=d(m,l),d=d==null?l:x({},l,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var My={enqueueSetState:function(i,l,d){i=i._reactInternals;var m=so(),w=Kt(m);w.payload=l,d!=null&&(w.callback=d),l=gn(i,w,m),l!==null&&(Oi(l,i,m),Jn(l,i,m))},enqueueReplaceState:function(i,l,d){i=i._reactInternals;var m=so(),w=Kt(m);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=gn(i,w,m),l!==null&&(Oi(l,i,m),Jn(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var d=so(),m=Kt(d);m.tag=2,l!=null&&(m.callback=l),l=gn(i,m,d),l!==null&&(Oi(l,i,d),Jn(l,i,d))}};function Ow(i,l,d,m,w,_,V){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,_,V):l.prototype&&l.prototype.isPureReactComponent?!Qo(d,m)||!Qo(w,_):!0}function Fw(i,l,d,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==i&&My.enqueueReplaceState(l,l.state,null)}function Td(i,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(i=i.defaultProps){d===l&&(d=x({},d));for(var w in i)d[w]===void 0&&(d[w]=i[w])}return d}function Uw(i){xd(i)}function Vw(i){console.error(i)}function Bw(i){xd(i)}function Ap(i,l){try{var d=i.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function zw(i,l,d){try{var m=i.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Oy(i,l,d){return d=Kt(d),d.tag=3,d.payload={element:null},d.callback=function(){Ap(i,l)},d}function qw(i){return i=Kt(i),i.tag=3,i}function Gw(i,l,d,m){var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var _=m.value;i.payload=function(){return w(_)},i.callback=function(){zw(l,d,m)}}var V=d.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(i.callback=function(){zw(l,d,m),typeof w!="function"&&(wu===null?wu=new Set([this]):wu.add(this));var X=m.stack;this.componentDidCatch(m.value,{componentStack:X!==null?X:""})})}function MC(i,l,d,m,w){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&Pl(l,d,w,!0),d=Pr.current,d!==null){switch(d.tag){case 31:case 13:return Un===null?Up():d.alternate===null&&us===0&&(us=3),d.flags&=-257,d.flags|=65536,d.lanes=w,m===ve?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),lb(i,m,w)),!1;case 22:return d.flags|=65536,m===ve?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),lb(i,m,w)),!1}throw Error(r(435,d.tag))}return lb(i,m,w),Up(),!1}if(Tn)return l=Pr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,m!==to&&(i=Error(r(422),{cause:m}),du(Ei(i,d)))):(m!==to&&(l=Error(r(423),{cause:m}),du(Ei(l,d))),i=i.current.alternate,i.flags|=65536,w&=-w,i.lanes|=w,m=Ei(m,d),w=Oy(i.stateNode,m,w),xs(i,w),us!==4&&(us=2)),!1;var _=Error(r(520),{cause:m});if(_=Ei(_,d),Pm===null?Pm=[_]:Pm.push(_),us!==4&&(us=2),l===null)return!0;m=Ei(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,i=w&-w,d.lanes|=i,i=Oy(d.stateNode,m,i),xs(d,i),!1;case 1:if(l=d.type,_=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(wu===null||!wu.has(_))))return d.flags|=65536,w&=-w,d.lanes|=w,w=qw(w),Gw(w,i,d,m),xs(d,w),!1}d=d.return}while(d!==null);return!1}var Fy=Error(r(461)),Ps=!1;function ka(i,l,d,m){l.child=i===null?hn(l,null,d,m):_r(l,i.child,d,m)}function Hw(i,l,d,m,w){d=d.render;var _=l.ref;if("ref"in m){var V={};for(var X in m)X!=="ref"&&(V[X]=m[X])}else V=m;return Ll(l),m=xm(i,l,d,V,_,w),X=ym(),i!==null&&!Ps?(bm(i,l,w),Sc(i,l,w)):(Tn&&X&&fm(l),l.flags|=1,ka(i,l,m,w),l.child)}function $w(i,l,d,m,w){if(i===null){var _=d.type;return typeof _=="function"&&!Sh(_)&&_.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=_,Ww(i,l,_,m,w)):(i=lu(d.type,null,m,l,l.mode,w),i.ref=l.ref,i.return=l,l.child=i)}if(_=i.child,!$y(i,w)){var V=_.memoizedProps;if(d=d.compare,d=d!==null?d:Qo,d(V,m)&&i.ref===l.ref)return Sc(i,l,w)}return l.flags|=1,i=Si(_,m),i.ref=l.ref,i.return=l,l.child=i}function Ww(i,l,d,m,w){if(i!==null){var _=i.memoizedProps;if(Qo(_,m)&&i.ref===l.ref)if(Ps=!1,l.pendingProps=m=_,$y(i,w))(i.flags&131072)!==0&&(Ps=!0);else return l.lanes=i.lanes,Sc(i,l,w)}return Uy(i,l,d,m,w)}function Kw(i,l,d,m){var w=m.children,_=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(_=_!==null?_.baseLanes|d:d,i!==null){for(m=l.child=i.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~_}else m=0,l.child=null;return Yw(i,l,_,d,m)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&ne(l,_!==null?_.cachePool:null),_!==null?kr(l,_):Gn(),os(l);else return m=l.lanes=536870912,Yw(i,l,_!==null?_.baseLanes|d:d,d,m)}else _!==null?(ne(l,_.cachePool),kr(l,_),ls(),l.memoizedState=null):(i!==null&&ne(l,null),Gn(),ls());return ka(i,l,w,d),l.child}function Em(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Yw(i,l,d,m,w){var _=J();return _=_===null?null:{parent:Xr._currentValue,pool:_},l.memoizedState={baseLanes:d,cachePool:_},i!==null&&ne(l,null),Gn(),os(l),i!==null&&Pl(i,l,m,!0),l.childLanes=w,null}function Tp(i,l){return l=Ip({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function Xw(i,l,d){return _r(l,i.child,null,d),i=Tp(l,l.pendingProps),i.flags|=2,ir(l),l.memoizedState=null,i}function OC(i,l,d){var m=l.pendingProps,w=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(Tn){if(m.mode==="hidden")return i=Tp(l,m),l.lanes=536870912,Em(null,i);if(Zn(l),(i=jr)?(i=lN(i,Ur),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Cl!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},d=Eh(i),d.return=l,l.child=d,Qs=l,jr=null)):i=null,i===null)throw Il(l);return l.lanes=536870912,null}return Tp(l,m)}var _=i.memoizedState;if(_!==null){var V=_.dehydrated;if(Zn(l),w)if(l.flags&256)l.flags&=-257,l=Xw(i,l,d);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(r(558));else if(Ps||Pl(i,l,d,!1),w=(d&i.childLanes)!==0,Ps||w){if(m=Sr,m!==null&&(V=ia(m,d),V!==0&&V!==_.retryLane))throw _.retryLane=V,tl(i,V),Oi(m,i,V),Fy;Up(),l=Xw(i,l,d)}else i=_.treeContext,jr=Lo(V.nextSibling),Qs=l,Tn=!0,Ia=null,Ur=!1,i!==null&&yp(l,i),l=Tp(l,m),l.flags|=4096;return l}return i=Si(i.child,{mode:m.mode,children:m.children}),i.ref=l.ref,l.child=i,i.return=l,i}function Cp(i,l){var d=l.ref;if(d===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(i===null||i.ref!==d)&&(l.flags|=4194816)}}function Uy(i,l,d,m,w){return Ll(l),d=xm(i,l,d,m,void 0,w),m=ym(),i!==null&&!Ps?(bm(i,l,w),Sc(i,l,w)):(Tn&&m&&fm(l),l.flags|=1,ka(i,l,d,w),l.child)}function Qw(i,l,d,m,w,_){return Ll(l),l.updateQueue=null,d=rl(l,m,d,w),Dh(i),m=ym(),i!==null&&!Ps?(bm(i,l,_),Sc(i,l,_)):(Tn&&m&&fm(l),l.flags|=1,ka(i,l,d,_),l.child)}function Jw(i,l,d,m,w){if(Ll(l),l.stateNode===null){var _=Xs,V=d.contextType;typeof V=="object"&&V!==null&&(_=Zs(V)),_=new d(m,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=My,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=m,_.state=l.memoizedState,_.refs={},rt(l),V=d.contextType,_.context=typeof V=="object"&&V!==null?Zs(V):Xs,_.state=l.memoizedState,V=d.getDerivedStateFromProps,typeof V=="function"&&(Dy(l,d,V,m),_.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(V=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),V!==_.state&&My.enqueueReplaceState(_,_.state,null),as(l,m,_,w),xr(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){_=l.stateNode;var X=l.memoizedProps,fe=Td(d,X);_.props=fe;var Re=_.context,Be=d.contextType;V=Xs,typeof Be=="object"&&Be!==null&&(V=Zs(Be));var We=d.getDerivedStateFromProps;Be=typeof We=="function"||typeof _.getSnapshotBeforeUpdate=="function",X=l.pendingProps!==X,Be||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(X||Re!==V)&&Fw(l,_,m,V),dt=!1;var De=l.memoizedState;_.state=De,as(l,m,_,w),xr(),Re=l.memoizedState,X||De!==Re||dt?(typeof We=="function"&&(Dy(l,d,We,m),Re=l.memoizedState),(fe=dt||Ow(l,d,fe,m,De,Re,V))?(Be||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Re),_.props=m,_.state=Re,_.context=V,m=fe):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{_=l.stateNode,Rr(i,l),V=l.memoizedProps,Be=Td(d,V),_.props=Be,We=l.pendingProps,De=_.context,Re=d.contextType,fe=Xs,typeof Re=="object"&&Re!==null&&(fe=Zs(Re)),X=d.getDerivedStateFromProps,(Re=typeof X=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(V!==We||De!==fe)&&Fw(l,_,m,fe),dt=!1,De=l.memoizedState,_.state=De,as(l,m,_,w),xr();var Me=l.memoizedState;V!==We||De!==Me||dt||i!==null&&i.dependencies!==null&&Rh(i.dependencies)?(typeof X=="function"&&(Dy(l,d,X,m),Me=l.memoizedState),(Be=dt||Ow(l,d,Be,m,De,Me,fe)||i!==null&&i.dependencies!==null&&Rh(i.dependencies))?(Re||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,Me,fe),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,Me,fe)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||V===i.memoizedProps&&De===i.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&De===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Me),_.props=m,_.state=Me,_.context=fe,m=Be):(typeof _.componentDidUpdate!="function"||V===i.memoizedProps&&De===i.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&De===i.memoizedState||(l.flags|=1024),m=!1)}return _=m,Cp(i,l),m=(l.flags&128)!==0,_||m?(_=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,i!==null&&m?(l.child=_r(l,i.child,null,w),l.child=_r(l,null,d,w)):ka(i,l,d,w),l.memoizedState=_.state,i=l.child):i=Sc(i,l,w),i}function Zw(i,l,d,m){return vc(),l.flags|=256,ka(i,l,d,m),l.child}var Vy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function By(i){return{baseLanes:i,cachePool:le()}}function zy(i,l,d){return i=i!==null?i.childLanes&~d:0,l&&(i|=ro),i}function e5(i,l,d){var m=l.pendingProps,w=!1,_=(l.flags&128)!==0,V;if((V=_)||(V=i!==null&&i.memoizedState===null?!1:(On.current&2)!==0),V&&(w=!0,l.flags&=-129),V=(l.flags&32)!==0,l.flags&=-33,i===null){if(Tn){if(w?Qr(l):ls(),(i=jr)?(i=lN(i,Ur),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Cl!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},d=Eh(i),d.return=l,l.child=d,Qs=l,jr=null)):i=null,i===null)throw Il(l);return _b(i)?l.lanes=32:l.lanes=536870912,null}var X=m.children;return m=m.fallback,w?(ls(),w=l.mode,X=Ip({mode:"hidden",children:X},w),m=Tl(m,w,d,null),X.return=l,m.return=l,X.sibling=m,l.child=X,m=l.child,m.memoizedState=By(d),m.childLanes=zy(i,V,d),l.memoizedState=Vy,Em(null,m)):(Qr(l),qy(l,X))}var fe=i.memoizedState;if(fe!==null&&(X=fe.dehydrated,X!==null)){if(_)l.flags&256?(Qr(l),l.flags&=-257,l=Gy(i,l,d)):l.memoizedState!==null?(ls(),l.child=i.child,l.flags|=128,l=null):(ls(),X=m.fallback,w=l.mode,m=Ip({mode:"visible",children:m.children},w),X=Tl(X,w,d,null),X.flags|=2,m.return=l,X.return=l,m.sibling=X,l.child=m,_r(l,i.child,null,d),m=l.child,m.memoizedState=By(d),m.childLanes=zy(i,V,d),l.memoizedState=Vy,l=Em(null,m));else if(Qr(l),_b(X)){if(V=X.nextSibling&&X.nextSibling.dataset,V)var Re=V.dgst;V=Re,m=Error(r(419)),m.stack="",m.digest=V,du({value:m,source:null,stack:null}),l=Gy(i,l,d)}else if(Ps||Pl(i,l,d,!1),V=(d&i.childLanes)!==0,Ps||V){if(V=Sr,V!==null&&(m=ia(V,d),m!==0&&m!==fe.retryLane))throw fe.retryLane=m,tl(i,m),Oi(V,i,m),Fy;jb(X)||Up(),l=Gy(i,l,d)}else jb(X)?(l.flags|=192,l.child=i.child,l=null):(i=fe.treeContext,jr=Lo(X.nextSibling),Qs=l,Tn=!0,Ia=null,Ur=!1,i!==null&&yp(l,i),l=qy(l,m.children),l.flags|=4096);return l}return w?(ls(),X=m.fallback,w=l.mode,fe=i.child,Re=fe.sibling,m=Si(fe,{mode:"hidden",children:m.children}),m.subtreeFlags=fe.subtreeFlags&65011712,Re!==null?X=Si(Re,X):(X=Tl(X,w,d,null),X.flags|=2),X.return=l,m.return=l,m.sibling=X,l.child=m,Em(null,m),m=l.child,X=i.child.memoizedState,X===null?X=By(d):(w=X.cachePool,w!==null?(fe=Xr._currentValue,w=w.parent!==fe?{parent:fe,pool:fe}:w):w=le(),X={baseLanes:X.baseLanes|d,cachePool:w}),m.memoizedState=X,m.childLanes=zy(i,V,d),l.memoizedState=Vy,Em(i.child,m)):(Qr(l),d=i.child,i=d.sibling,d=Si(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,i!==null&&(V=l.deletions,V===null?(l.deletions=[i],l.flags|=16):V.push(i)),l.child=d,l.memoizedState=null,d)}function qy(i,l){return l=Ip({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Ip(i,l){return i=ma(22,i,null,l),i.lanes=0,i}function Gy(i,l,d){return _r(l,i.child,null,d),i=qy(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function t5(i,l,d){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),hu(i.return,l,d)}function Hy(i,l,d,m,w,_){var V=i.memoizedState;V===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:w,treeForkCount:_}:(V.isBackwards=l,V.rendering=null,V.renderingStartTime=0,V.last=m,V.tail=d,V.tailMode=w,V.treeForkCount=_)}function n5(i,l,d){var m=l.pendingProps,w=m.revealOrder,_=m.tail;m=m.children;var V=On.current,X=(V&2)!==0;if(X?(V=V&1|2,l.flags|=128):V&=1,Q(On,V),ka(i,l,m,d),m=Tn?jd:0,!X&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&t5(i,d,l);else if(i.tag===19)t5(i,d,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(w){case"forwards":for(d=l.child,w=null;d!==null;)i=d.alternate,i!==null&&pa(i)===null&&(w=d),d=d.sibling;d=w,d===null?(w=l.child,l.child=null):(w=d.sibling,d.sibling=null),Hy(l,!1,w,d,_,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,w=l.child,l.child=null;w!==null;){if(i=w.alternate,i!==null&&pa(i)===null){l.child=w;break}i=w.sibling,w.sibling=d,d=w,w=i}Hy(l,!0,d,null,_,m);break;case"together":Hy(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function Sc(i,l,d){if(i!==null&&(l.dependencies=i.dependencies),vu|=l.lanes,(d&l.childLanes)===0)if(i!==null){if(Pl(i,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,d=Si(i,i.pendingProps),l.child=d,d.return=l;i.sibling!==null;)i=i.sibling,d=d.sibling=Si(i,i.pendingProps),d.return=l;d.sibling=null}return l.child}function $y(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&Rh(i)))}function FC(i,l,d){switch(l.tag){case 3:Le(l,l.stateNode.containerInfo),kl(l,Xr,i.memoizedState.cache),vc();break;case 27:case 5:qe(l);break;case 4:Le(l,l.stateNode.containerInfo);break;case 10:kl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Zn(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Qr(l),l.flags|=128,null):(d&l.child.childLanes)!==0?e5(i,l,d):(Qr(l),i=Sc(i,l,d),i!==null?i.sibling:null);Qr(l);break;case 19:var w=(i.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(Pl(i,l,d,!1),m=(d&l.childLanes)!==0),w){if(m)return n5(i,l,d);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Q(On,On.current),m)break;return null;case 22:return l.lanes=0,Kw(i,l,d,l.pendingProps);case 24:kl(l,Xr,i.memoizedState.cache)}return Sc(i,l,d)}function r5(i,l,d){if(i!==null)if(i.memoizedProps!==l.pendingProps)Ps=!0;else{if(!$y(i,d)&&(l.flags&128)===0)return Ps=!1,FC(i,l,d);Ps=(i.flags&131072)!==0}else Ps=!1,Tn&&(l.flags&1048576)!==0&&xp(l,jd,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(i=Ae(l.elementType),l.type=i,typeof i=="function")Sh(i)?(m=Td(i,m),l.tag=1,l=Jw(null,l,i,m,d)):(l.tag=0,l=Uy(null,l,i,m,d));else{if(i!=null){var w=i.$$typeof;if(w===O){l.tag=11,l=Hw(null,l,i,m,d);break e}else if(w===G){l.tag=14,l=$w(null,l,i,m,d);break e}}throw l=ue(i)||i,Error(r(306,l,""))}}return l;case 0:return Uy(i,l,l.type,l.pendingProps,d);case 1:return m=l.type,w=Td(m,l.pendingProps),Jw(i,l,m,w,d);case 3:e:{if(Le(l,l.stateNode.containerInfo),i===null)throw Error(r(387));m=l.pendingProps;var _=l.memoizedState;w=_.element,Rr(i,l),as(l,m,null,d);var V=l.memoizedState;if(m=V.cache,kl(l,Xr,m),m!==_.cache&&wc(l,[Xr],d,!0),xr(),m=V.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:V.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=Zw(i,l,m,d);break e}else if(m!==w){w=Ei(Error(r(424)),l),du(w),l=Zw(i,l,m,d);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(jr=Lo(i.firstChild),Qs=l,Tn=!0,Ia=null,Ur=!0,d=hn(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(vc(),m===w){l=Sc(i,l,d);break e}ka(i,l,m,d)}l=l.child}return l;case 26:return Cp(i,l),i===null?(d=mN(l.type,null,l.pendingProps,null))?l.memoizedState=d:Tn||(d=l.type,i=l.pendingProps,m=$p(me.current).createElement(d),m[$n]=l,m[sr]=i,Pa(m,d,i),Ir(m),l.stateNode=m):l.memoizedState=mN(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return qe(l),i===null&&Tn&&(m=l.stateNode=dN(l.type,l.pendingProps,me.current),Qs=l,Ur=!0,w=jr,Su(l.type)?(Sb=w,jr=Lo(m.firstChild)):jr=w),ka(i,l,l.pendingProps.children,d),Cp(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Tn&&((w=m=jr)&&(m=mI(m,l.type,l.pendingProps,Ur),m!==null?(l.stateNode=m,Qs=l,jr=Lo(m.firstChild),Ur=!1,w=!0):w=!1),w||Il(l)),qe(l),w=l.type,_=l.pendingProps,V=i!==null?i.memoizedProps:null,m=_.children,vb(w,_)?m=null:V!==null&&vb(w,V)&&(l.flags|=32),l.memoizedState!==null&&(w=xm(i,l,Ay,null,null,d),Bm._currentValue=w),Cp(i,l),ka(i,l,m,d),l.child;case 6:return i===null&&Tn&&((i=d=jr)&&(d=gI(d,l.pendingProps,Ur),d!==null?(l.stateNode=d,Qs=l,jr=null,i=!0):i=!1),i||Il(l)),null;case 13:return e5(i,l,d);case 4:return Le(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=_r(l,null,m,d):ka(i,l,m,d),l.child;case 11:return Hw(i,l,l.type,l.pendingProps,d);case 7:return ka(i,l,l.pendingProps,d),l.child;case 8:return ka(i,l,l.pendingProps.children,d),l.child;case 12:return ka(i,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,kl(l,l.type,m.value),ka(i,l,m.children,d),l.child;case 9:return w=l.type._context,m=l.pendingProps.children,Ll(l),w=Zs(w),m=m(w),l.flags|=1,ka(i,l,m,d),l.child;case 14:return $w(i,l,l.type,l.pendingProps,d);case 15:return Ww(i,l,l.type,l.pendingProps,d);case 19:return n5(i,l,d);case 31:return OC(i,l,d);case 22:return Kw(i,l,d,l.pendingProps);case 24:return Ll(l),m=Zs(Xr),i===null?(w=J(),w===null&&(w=Sr,_=fu(),w.pooledCache=_,_.refCount++,_!==null&&(w.pooledCacheLanes|=d),w=_),l.memoizedState={parent:m,cache:w},rt(l),kl(l,Xr,w)):((i.lanes&d)!==0&&(Rr(i,l),as(l,null,null,d),xr()),w=i.memoizedState,_=l.memoizedState,w.parent!==m?(w={parent:m,cache:m},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),kl(l,Xr,m)):(m=_.cache,kl(l,Xr,m),m!==w.cache&&wc(l,[Xr],d,!0))),ka(i,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ec(i){i.flags|=4}function Wy(i,l,d,m,w){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(w&335544128)===w)if(i.stateNode.complete)i.flags|=8192;else if(I5())i.flags|=8192;else throw Oe=ve,Ce}else i.flags&=-16777217}function s5(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!bN(l))if(I5())i.flags|=8192;else throw Oe=ve,Ce}function Rp(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?xi():536870912,i.lanes|=l,$h|=l)}function Am(i,l){if(!Tn)switch(i.tailMode){case"hidden":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Lr(i){var l=i.alternate!==null&&i.alternate.child===i.child,d=0,m=0;if(l)for(var w=i.child;w!==null;)d|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)d|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=m,i.childLanes=d,l}function UC(i,l,d){var m=l.pendingProps;switch(Ch(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(l),null;case 1:return Lr(l),null;case 3:return d=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Ri(Xr),ke(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Js(l)?Ec(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,gm())),Lr(l),null;case 26:var w=l.type,_=l.memoizedState;return i===null?(Ec(l),_!==null?(Lr(l),s5(l,_)):(Lr(l),Wy(l,w,null,m,d))):_?_!==i.memoizedState?(Ec(l),Lr(l),s5(l,_)):(Lr(l),l.flags&=-16777217):(i=i.memoizedProps,i!==m&&Ec(l),Lr(l),Wy(l,w,i,m,d)),null;case 27:if(Je(l),d=me.current,w=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Ec(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Lr(l),null}i=se.current,Js(l)?mm(l):(i=dN(w,m,d),l.stateNode=i,Ec(l))}return Lr(l),null;case 5:if(Je(l),w=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Ec(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Lr(l),null}if(_=se.current,Js(l))mm(l);else{var V=$p(me.current);switch(_){case 1:_=V.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:_=V.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":_=V.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":_=V.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":_=V.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof m.is=="string"?V.createElement("select",{is:m.is}):V.createElement("select"),m.multiple?_.multiple=!0:m.size&&(_.size=m.size);break;default:_=typeof m.is=="string"?V.createElement(w,{is:m.is}):V.createElement(w)}}_[$n]=l,_[sr]=m;e:for(V=l.child;V!==null;){if(V.tag===5||V.tag===6)_.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===l)break e;for(;V.sibling===null;){if(V.return===null||V.return===l)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}l.stateNode=_;e:switch(Pa(_,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Ec(l)}}return Lr(l),Wy(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,d),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&Ec(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(i=me.current,Js(l)){if(i=l.stateNode,d=l.memoizedProps,m=null,w=Qs,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}i[$n]=l,i=!!(i.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||eN(i.nodeValue,d)),i||Il(l,!0)}else i=$p(i).createTextNode(m),i[$n]=l,l.stateNode=i}return Lr(l),null;case 31:if(d=l.memoizedState,i===null||i.memoizedState!==null){if(m=Js(l),d!==null){if(i===null){if(!m)throw Error(r(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[$n]=l}else vc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Lr(l),i=!1}else d=gm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return l.flags&256?(ir(l),l):(ir(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Lr(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(w=Js(l),m!==null&&m.dehydrated!==null){if(i===null){if(!w)throw Error(r(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[$n]=l}else vc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Lr(l),w=!1}else w=gm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(ir(l),l):(ir(l),null)}return ir(l),(l.flags&128)!==0?(l.lanes=d,l):(d=m!==null,i=i!==null&&i.memoizedState!==null,d&&(m=l.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),_=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==w&&(m.flags|=2048)),d!==i&&d&&(l.child.flags|=8192),Rp(l,l.updateQueue),Lr(l),null);case 4:return ke(),i===null&&gb(l.stateNode.containerInfo),Lr(l),null;case 10:return Ri(l.type),Lr(l),null;case 19:if(q(On),m=l.memoizedState,m===null)return Lr(l),null;if(w=(l.flags&128)!==0,_=m.rendering,_===null)if(w)Am(m,!1);else{if(us!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(_=pa(i),_!==null){for(l.flags|=128,Am(m,!1),i=_.updateQueue,l.updateQueue=i,Rp(l,i),l.subtreeFlags=0,i=d,d=l.child;d!==null;)wd(d,i),d=d.sibling;return Q(On,On.current&1|2),Tn&&ui(l,m.treeForkCount),l.child}i=i.sibling}m.tail!==null&&sn()>Mp&&(l.flags|=128,w=!0,Am(m,!1),l.lanes=4194304)}else{if(!w)if(i=pa(_),i!==null){if(l.flags|=128,w=!0,i=i.updateQueue,l.updateQueue=i,Rp(l,i),Am(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Tn)return Lr(l),null}else 2*sn()-m.renderingStartTime>Mp&&d!==536870912&&(l.flags|=128,w=!0,Am(m,!1),l.lanes=4194304);m.isBackwards?(_.sibling=l.child,l.child=_):(i=m.last,i!==null?i.sibling=_:l.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=sn(),i.sibling=null,d=On.current,Q(On,w?d&1|2:d&1),Tn&&ui(l,m.treeForkCount),i):(Lr(l),null);case 22:case 23:return ir(l),ys(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(Lr(l),l.subtreeFlags&6&&(l.flags|=8192)):Lr(l),d=l.updateQueue,d!==null&&Rp(l,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),i!==null&&q(Y),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Ri(Xr),Lr(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function VC(i,l){switch(Ch(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Ri(Xr),ke(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Je(l),null;case 31:if(l.memoizedState!==null){if(ir(l),l.alternate===null)throw Error(r(340));vc()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(ir(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));vc()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return q(On),null;case 4:return ke(),null;case 10:return Ri(l.type),null;case 22:case 23:return ir(l),ys(),i!==null&&q(Y),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Ri(Xr),null;case 25:return null;default:return null}}function a5(i,l){switch(Ch(l),l.tag){case 3:Ri(Xr),ke();break;case 26:case 27:case 5:Je(l);break;case 4:ke();break;case 31:l.memoizedState!==null&&ir(l);break;case 13:ir(l);break;case 19:q(On);break;case 10:Ri(l.type);break;case 22:case 23:ir(l),ys(),i!==null&&q(Y);break;case 24:Ri(Xr)}}function Tm(i,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var w=m.next;d=w;do{if((d.tag&i)===i){m=void 0;var _=d.create,V=d.inst;m=_(),V.destroy=m}d=d.next}while(d!==w)}}catch(X){lr(l,l.return,X)}}function yu(i,l,d){try{var m=l.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var _=w.next;m=_;do{if((m.tag&i)===i){var V=m.inst,X=V.destroy;if(X!==void 0){V.destroy=void 0,w=l;var fe=d,Re=X;try{Re()}catch(Be){lr(w,fe,Be)}}}m=m.next}while(m!==_)}}catch(Be){lr(l,l.return,Be)}}function i5(i){var l=i.updateQueue;if(l!==null){var d=i.stateNode;try{is(l,d)}catch(m){lr(i,i.return,m)}}}function o5(i,l,d){d.props=Td(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(m){lr(i,l,m)}}function Cm(i,l){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof d=="function"?i.refCleanup=d(m):d.current=m}}catch(w){lr(i,l,w)}}function Ul(i,l){var d=i.ref,m=i.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(w){lr(i,l,w)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(w){lr(i,l,w)}else d.current=null}function l5(i){var l=i.type,d=i.memoizedProps,m=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(w){lr(i,i.return,w)}}function Ky(i,l,d){try{var m=i.stateNode;lI(m,i.type,d,l),m[sr]=l}catch(w){lr(i,i.return,w)}}function c5(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Su(i.type)||i.tag===4}function Yy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||c5(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Su(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xy(i,l,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(i),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=ri));else if(m!==4&&(m===27&&Su(i.type)&&(d=i.stateNode,l=null),i=i.child,i!==null))for(Xy(i,l,d),i=i.sibling;i!==null;)Xy(i,l,d),i=i.sibling}function kp(i,l,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?d.insertBefore(i,l):d.appendChild(i);else if(m!==4&&(m===27&&Su(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(kp(i,l,d),i=i.sibling;i!==null;)kp(i,l,d),i=i.sibling}function u5(i){var l=i.stateNode,d=i.memoizedProps;try{for(var m=i.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);Pa(l,m,d),l[$n]=i,l[sr]=d}catch(_){lr(i,i.return,_)}}var Ac=!1,Ls=!1,Qy=!1,d5=typeof WeakSet=="function"?WeakSet:Set,xa=null;function BC(i,l){if(i=i.containerInfo,yb=Zp,i=Zo(i),Co(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var w=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{d.nodeType,_.nodeType}catch{d=null;break e}var V=0,X=-1,fe=-1,Re=0,Be=0,We=i,De=null;t:for(;;){for(var Me;We!==d||w!==0&&We.nodeType!==3||(X=V+w),We!==_||m!==0&&We.nodeType!==3||(fe=V+m),We.nodeType===3&&(V+=We.nodeValue.length),(Me=We.firstChild)!==null;)De=We,We=Me;for(;;){if(We===i)break t;if(De===d&&++Re===w&&(X=V),De===_&&++Be===m&&(fe=V),(Me=We.nextSibling)!==null)break;We=De,De=We.parentNode}We=Me}d=X===-1||fe===-1?null:{start:X,end:fe}}else d=null}d=d||{start:0,end:0}}else d=null;for(bb={focusedElem:i,selectionRange:d},Zp=!1,xa=l;xa!==null;)if(l=xa,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,xa=i;else for(;xa!==null;){switch(l=xa,_=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)w=i[d],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,d=l,w=_.memoizedProps,_=_.memoizedState,m=d.stateNode;try{var pt=Td(d.type,w);i=m.getSnapshotBeforeUpdate(pt,_),m.__reactInternalSnapshotBeforeUpdate=i}catch(Yt){lr(d,d.return,Yt)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,d=i.nodeType,d===9)Nb(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Nb(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,xa=i;break}xa=l.return}}function h5(i,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:Cc(i,d),m&4&&Tm(5,d);break;case 1:if(Cc(i,d),m&4)if(i=d.stateNode,l===null)try{i.componentDidMount()}catch(V){lr(d,d.return,V)}else{var w=Td(d.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(w,l,i.__reactInternalSnapshotBeforeUpdate)}catch(V){lr(d,d.return,V)}}m&64&&i5(d),m&512&&Cm(d,d.return);break;case 3:if(Cc(i,d),m&64&&(i=d.updateQueue,i!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{is(i,l)}catch(V){lr(d,d.return,V)}}break;case 27:l===null&&m&4&&u5(d);case 26:case 5:Cc(i,d),l===null&&m&4&&l5(d),m&512&&Cm(d,d.return);break;case 12:Cc(i,d);break;case 31:Cc(i,d),m&4&&g5(i,d);break;case 13:Cc(i,d),m&4&&p5(i,d),m&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=XC.bind(null,d),pI(i,d))));break;case 22:if(m=d.memoizedState!==null||Ac,!m){l=l!==null&&l.memoizedState!==null||Ls,w=Ac;var _=Ls;Ac=m,(Ls=l)&&!_?Ic(i,d,(d.subtreeFlags&8772)!==0):Cc(i,d),Ac=w,Ls=_}break;case 30:break;default:Cc(i,d)}}function f5(i){var l=i.alternate;l!==null&&(i.alternate=null,f5(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&$i(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var zr=null,Pi=!1;function Tc(i,l,d){for(d=d.child;d!==null;)m5(i,l,d),d=d.sibling}function m5(i,l,d){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(ln,d)}catch{}switch(d.tag){case 26:Ls||Ul(d,l),Tc(i,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Ls||Ul(d,l);var m=zr,w=Pi;Su(d.type)&&(zr=d.stateNode,Pi=!1),Tc(i,l,d),Fm(d.stateNode),zr=m,Pi=w;break;case 5:Ls||Ul(d,l);case 6:if(m=zr,w=Pi,zr=null,Tc(i,l,d),zr=m,Pi=w,zr!==null)if(Pi)try{(zr.nodeType===9?zr.body:zr.nodeName==="HTML"?zr.ownerDocument.body:zr).removeChild(d.stateNode)}catch(_){lr(d,l,_)}else try{zr.removeChild(d.stateNode)}catch(_){lr(d,l,_)}break;case 18:zr!==null&&(Pi?(i=zr,iN(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),ef(i)):iN(zr,d.stateNode));break;case 4:m=zr,w=Pi,zr=d.stateNode.containerInfo,Pi=!0,Tc(i,l,d),zr=m,Pi=w;break;case 0:case 11:case 14:case 15:yu(2,d,l),Ls||yu(4,d,l),Tc(i,l,d);break;case 1:Ls||(Ul(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&o5(d,l,m)),Tc(i,l,d);break;case 21:Tc(i,l,d);break;case 22:Ls=(m=Ls)||d.memoizedState!==null,Tc(i,l,d),Ls=m;break;default:Tc(i,l,d)}}function g5(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ef(i)}catch(d){lr(l,l.return,d)}}}function p5(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ef(i)}catch(d){lr(l,l.return,d)}}function zC(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new d5),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new d5),l;default:throw Error(r(435,i.tag))}}function Pp(i,l){var d=zC(i);l.forEach(function(m){if(!d.has(m)){d.add(m);var w=QC.bind(null,i,m);m.then(w,w)}})}function Li(i,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var w=d[m],_=i,V=l,X=V;e:for(;X!==null;){switch(X.tag){case 27:if(Su(X.type)){zr=X.stateNode,Pi=!1;break e}break;case 5:zr=X.stateNode,Pi=!1;break e;case 3:case 4:zr=X.stateNode.containerInfo,Pi=!0;break e}X=X.return}if(zr===null)throw Error(r(160));m5(_,V,w),zr=null,Pi=!1,_=w.alternate,_!==null&&(_.return=null),w.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)x5(l,i),l=l.sibling}var ol=null;function x5(i,l){var d=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Li(l,i),Di(i),m&4&&(yu(3,i,i.return),Tm(3,i),yu(5,i,i.return));break;case 1:Li(l,i),Di(i),m&512&&(Ls||d===null||Ul(d,d.return)),m&64&&Ac&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var w=ol;if(Li(l,i),Di(i),m&512&&(Ls||d===null||Ul(d,d.return)),m&4){var _=d!==null?d.memoizedState:null;if(m=i.memoizedState,d===null)if(m===null)if(i.stateNode===null){e:{m=i.type,d=i.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":_=w.getElementsByTagName("title")[0],(!_||_[la]||_[$n]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=w.createElement(m),w.head.insertBefore(_,w.querySelector("head > title"))),Pa(_,m,d),_[$n]=i,Ir(_),m=_;break e;case"link":var V=xN("link","href",w).get(m+(d.href||""));if(V){for(var X=0;X<V.length;X++)if(_=V[X],_.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&_.getAttribute("rel")===(d.rel==null?null:d.rel)&&_.getAttribute("title")===(d.title==null?null:d.title)&&_.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){V.splice(X,1);break t}}_=w.createElement(m),Pa(_,m,d),w.head.appendChild(_);break;case"meta":if(V=xN("meta","content",w).get(m+(d.content||""))){for(X=0;X<V.length;X++)if(_=V[X],_.getAttribute("content")===(d.content==null?null:""+d.content)&&_.getAttribute("name")===(d.name==null?null:d.name)&&_.getAttribute("property")===(d.property==null?null:d.property)&&_.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&_.getAttribute("charset")===(d.charSet==null?null:d.charSet)){V.splice(X,1);break t}}_=w.createElement(m),Pa(_,m,d),w.head.appendChild(_);break;default:throw Error(r(468,m))}_[$n]=i,Ir(_),m=_}i.stateNode=m}else yN(w,i.type,i.stateNode);else i.stateNode=pN(w,m,i.memoizedProps);else _!==m?(_===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):_.count--,m===null?yN(w,i.type,i.stateNode):pN(w,m,i.memoizedProps)):m===null&&i.stateNode!==null&&Ky(i,i.memoizedProps,d.memoizedProps)}break;case 27:Li(l,i),Di(i),m&512&&(Ls||d===null||Ul(d,d.return)),d!==null&&m&4&&Ky(i,i.memoizedProps,d.memoizedProps);break;case 5:if(Li(l,i),Di(i),m&512&&(Ls||d===null||Ul(d,d.return)),i.flags&32){w=i.stateNode;try{gs(w,"")}catch(pt){lr(i,i.return,pt)}}m&4&&i.stateNode!=null&&(w=i.memoizedProps,Ky(i,w,d!==null?d.memoizedProps:w)),m&1024&&(Qy=!0);break;case 6:if(Li(l,i),Di(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,d=i.stateNode;try{d.nodeValue=m}catch(pt){lr(i,i.return,pt)}}break;case 3:if(Yp=null,w=ol,ol=Wp(l.containerInfo),Li(l,i),ol=w,Di(i),m&4&&d!==null&&d.memoizedState.isDehydrated)try{ef(l.containerInfo)}catch(pt){lr(i,i.return,pt)}Qy&&(Qy=!1,y5(i));break;case 4:m=ol,ol=Wp(i.stateNode.containerInfo),Li(l,i),Di(i),ol=m;break;case 12:Li(l,i),Di(i);break;case 31:Li(l,i),Di(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Pp(i,m)));break;case 13:Li(l,i),Di(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Dp=sn()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Pp(i,m)));break;case 22:w=i.memoizedState!==null;var fe=d!==null&&d.memoizedState!==null,Re=Ac,Be=Ls;if(Ac=Re||w,Ls=Be||fe,Li(l,i),Ls=Be,Ac=Re,Di(i),m&8192)e:for(l=i.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(d===null||fe||Ac||Ls||Cd(i)),d=null,l=i;;){if(l.tag===5||l.tag===26){if(d===null){fe=d=l;try{if(_=fe.stateNode,w)V=_.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{X=fe.stateNode;var We=fe.memoizedProps.style,De=We!=null&&We.hasOwnProperty("display")?We.display:null;X.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(pt){lr(fe,fe.return,pt)}}}else if(l.tag===6){if(d===null){fe=l;try{fe.stateNode.nodeValue=w?"":fe.memoizedProps}catch(pt){lr(fe,fe.return,pt)}}}else if(l.tag===18){if(d===null){fe=l;try{var Me=fe.stateNode;w?oN(Me,!0):oN(fe.stateNode,!1)}catch(pt){lr(fe,fe.return,pt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,Pp(i,d))));break;case 19:Li(l,i),Di(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Pp(i,m)));break;case 30:break;case 21:break;default:Li(l,i),Di(i)}}function Di(i){var l=i.flags;if(l&2){try{for(var d,m=i.return;m!==null;){if(c5(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var w=d.stateNode,_=Yy(i);kp(i,_,w);break;case 5:var V=d.stateNode;d.flags&32&&(gs(V,""),d.flags&=-33);var X=Yy(i);kp(i,X,V);break;case 3:case 4:var fe=d.stateNode.containerInfo,Re=Yy(i);Xy(i,Re,fe);break;default:throw Error(r(161))}}catch(Be){lr(i,i.return,Be)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function y5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;y5(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function Cc(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)h5(i,l.alternate,l),l=l.sibling}function Cd(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:yu(4,l,l.return),Cd(l);break;case 1:Ul(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&o5(l,l.return,d),Cd(l);break;case 27:Fm(l.stateNode);case 26:case 5:Ul(l,l.return),Cd(l);break;case 22:l.memoizedState===null&&Cd(l);break;case 30:Cd(l);break;default:Cd(l)}i=i.sibling}}function Ic(i,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,w=i,_=l,V=_.flags;switch(_.tag){case 0:case 11:case 15:Ic(w,_,d),Tm(4,_);break;case 1:if(Ic(w,_,d),m=_,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Re){lr(m,m.return,Re)}if(m=_,w=m.updateQueue,w!==null){var X=m.stateNode;try{var fe=w.shared.hiddenCallbacks;if(fe!==null)for(w.shared.hiddenCallbacks=null,w=0;w<fe.length;w++)ga(fe[w],X)}catch(Re){lr(m,m.return,Re)}}d&&V&64&&i5(_),Cm(_,_.return);break;case 27:u5(_);case 26:case 5:Ic(w,_,d),d&&m===null&&V&4&&l5(_),Cm(_,_.return);break;case 12:Ic(w,_,d);break;case 31:Ic(w,_,d),d&&V&4&&g5(w,_);break;case 13:Ic(w,_,d),d&&V&4&&p5(w,_);break;case 22:_.memoizedState===null&&Ic(w,_,d),Cm(_,_.return);break;case 30:break;default:Ic(w,_,d)}l=l.sibling}}function Jy(i,l){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&_d(d))}function Zy(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&_d(i))}function ll(i,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)b5(i,l,d,m),l=l.sibling}function b5(i,l,d,m){var w=l.flags;switch(l.tag){case 0:case 11:case 15:ll(i,l,d,m),w&2048&&Tm(9,l);break;case 1:ll(i,l,d,m);break;case 3:ll(i,l,d,m),w&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&_d(i)));break;case 12:if(w&2048){ll(i,l,d,m),i=l.stateNode;try{var _=l.memoizedProps,V=_.id,X=_.onPostCommit;typeof X=="function"&&X(V,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(fe){lr(l,l.return,fe)}}else ll(i,l,d,m);break;case 31:ll(i,l,d,m);break;case 13:ll(i,l,d,m);break;case 23:break;case 22:_=l.stateNode,V=l.alternate,l.memoizedState!==null?_._visibility&2?ll(i,l,d,m):Im(i,l):_._visibility&2?ll(i,l,d,m):(_._visibility|=2,qh(i,l,d,m,(l.subtreeFlags&10256)!==0||!1)),w&2048&&Jy(V,l);break;case 24:ll(i,l,d,m),w&2048&&Zy(l.alternate,l);break;default:ll(i,l,d,m)}}function qh(i,l,d,m,w){for(w=w&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var _=i,V=l,X=d,fe=m,Re=V.flags;switch(V.tag){case 0:case 11:case 15:qh(_,V,X,fe,w),Tm(8,V);break;case 23:break;case 22:var Be=V.stateNode;V.memoizedState!==null?Be._visibility&2?qh(_,V,X,fe,w):Im(_,V):(Be._visibility|=2,qh(_,V,X,fe,w)),w&&Re&2048&&Jy(V.alternate,V);break;case 24:qh(_,V,X,fe,w),w&&Re&2048&&Zy(V.alternate,V);break;default:qh(_,V,X,fe,w)}l=l.sibling}}function Im(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=i,m=l,w=m.flags;switch(m.tag){case 22:Im(d,m),w&2048&&Jy(m.alternate,m);break;case 24:Im(d,m),w&2048&&Zy(m.alternate,m);break;default:Im(d,m)}l=l.sibling}}var Rm=8192;function Gh(i,l,d){if(i.subtreeFlags&Rm)for(i=i.child;i!==null;)v5(i,l,d),i=i.sibling}function v5(i,l,d){switch(i.tag){case 26:Gh(i,l,d),i.flags&Rm&&i.memoizedState!==null&&TI(d,ol,i.memoizedState,i.memoizedProps);break;case 5:Gh(i,l,d);break;case 3:case 4:var m=ol;ol=Wp(i.stateNode.containerInfo),Gh(i,l,d),ol=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=Rm,Rm=16777216,Gh(i,l,d),Rm=m):Gh(i,l,d));break;default:Gh(i,l,d)}}function w5(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function km(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];xa=m,j5(m,i)}w5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N5(i),i=i.sibling}function N5(i){switch(i.tag){case 0:case 11:case 15:km(i),i.flags&2048&&yu(9,i,i.return);break;case 3:km(i);break;case 12:km(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Lp(i)):km(i);break;default:km(i)}}function Lp(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];xa=m,j5(m,i)}w5(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:yu(8,l,l.return),Lp(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Lp(l));break;default:Lp(l)}i=i.sibling}}function j5(i,l){for(;xa!==null;){var d=xa;switch(d.tag){case 0:case 11:case 15:yu(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:_d(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,xa=m;else e:for(d=i;xa!==null;){m=xa;var w=m.sibling,_=m.return;if(f5(m),m===d){xa=null;break e}if(w!==null){w.return=_,xa=w;break e}xa=_}}}var qC={getCacheForType:function(i){var l=Zs(Xr),d=l.data.get(i);return d===void 0&&(d=i(),l.data.set(i,d)),d},cacheSignal:function(){return Zs(Xr).controller.signal}},GC=typeof WeakMap=="function"?WeakMap:Map,er=0,Sr=null,Cn=null,kn=0,or=0,no=null,bu=!1,Hh=!1,eb=!1,Rc=0,us=0,vu=0,Id=0,tb=0,ro=0,$h=0,Pm=null,Mi=null,nb=!1,Dp=0,_5=0,Mp=1/0,Op=null,wu=null,ta=0,Nu=null,Wh=null,kc=0,rb=0,sb=null,S5=null,Lm=0,ab=null;function so(){return(er&2)!==0&&kn!==0?kn&-kn:ce.T!==null?db():ns()}function E5(){if(ro===0)if((kn&536870912)===0||Tn){var i=Hn;Hn<<=1,(Hn&3932160)===0&&(Hn=262144),ro=i}else ro=536870912;return i=Pr.current,i!==null&&(i.flags|=32),ro}function Oi(i,l,d){(i===Sr&&(or===2||or===9)||i.cancelPendingCommit!==null)&&(Kh(i,0),ju(i,kn,ro,!1)),Ct(i,d),((er&2)===0||i!==Sr)&&(i===Sr&&((er&2)===0&&(Id|=d),us===4&&ju(i,kn,ro,!1)),Vl(i))}function A5(i,l,d){if((er&6)!==0)throw Error(r(327));var m=!d&&(l&127)===0&&(l&i.expiredLanes)===0||qs(i,l),w=m?WC(i,l):ob(i,l,!0),_=m;do{if(w===0){Hh&&!m&&ju(i,l,0,!1);break}else{if(d=i.current.alternate,_&&!HC(d)){w=ob(i,l,!1),_=!1;continue}if(w===2){if(_=l,i.errorRecoveryDisabledLanes&_)var V=0;else V=i.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){l=V;e:{var X=i;w=Pm;var fe=X.current.memoizedState.isDehydrated;if(fe&&(Kh(X,V).flags|=256),V=ob(X,V,!1),V!==2){if(eb&&!fe){X.errorRecoveryDisabledLanes|=_,Id|=_,w=4;break e}_=Mi,Mi=w,_!==null&&(Mi===null?Mi=_:Mi.push.apply(Mi,_))}w=V}if(_=!1,w!==2)continue}}if(w===1){Kh(i,0),ju(i,l,0,!0);break}e:{switch(m=i,_=w,_){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ju(m,l,ro,!bu);break e;case 2:Mi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(w=Dp+300-sn(),10<w)){if(ju(m,l,ro,!bu),xn(m,0,!0)!==0)break e;kc=l,m.timeoutHandle=sN(T5.bind(null,m,d,Mi,Op,nb,l,ro,Id,$h,bu,_,"Throttled",-0,0),w);break e}T5(m,d,Mi,Op,nb,l,ro,Id,$h,bu,_,null,-0,0)}}break}while(!0);Vl(i)}function T5(i,l,d,m,w,_,V,X,fe,Re,Be,We,De,Me){if(i.timeoutHandle=-1,We=l.subtreeFlags,We&8192||(We&16785408)===16785408){We={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},v5(l,_,We);var pt=(_&62914560)===_?Dp-sn():(_&4194048)===_?_5-sn():0;if(pt=CI(We,pt),pt!==null){kc=_,i.cancelPendingCommit=pt(M5.bind(null,i,l,_,d,m,w,V,X,fe,Be,We,null,De,Me)),ju(i,_,V,!Re);return}}M5(i,l,_,d,m,w,V,X,fe)}function HC(i){for(var l=i;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var w=d[m],_=w.getSnapshot;w=w.value;try{if(!Ys(_(),w))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ju(i,l,d,m){l&=~tb,l&=~Id,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var w=l;0<w;){var _=31-an(w),V=1<<_;m[_]=-1,w&=~V}d!==0&&va(i,d,l)}function Fp(){return(er&6)===0?(Dm(0),!1):!0}function ib(){if(Cn!==null){if(or===0)var i=Cn.return;else i=Cn,Ro=Rl=null,Mh(i),Ke=null,yt=0,i=Cn;for(;i!==null;)a5(i.alternate,i),i=i.return;Cn=null}}function Kh(i,l){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,dI(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),kc=0,ib(),Sr=i,Cn=d=Si(i.current,null),kn=l,or=0,no=null,bu=!1,Hh=qs(i,l),eb=!1,$h=ro=tb=Id=vu=us=0,Mi=Pm=null,nb=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var w=31-an(m),_=1<<w;l|=i[w],m&=~_}return Rc=l,yd(),d}function C5(i,l){Ft=null,ce.H=Sm,l===xe||l===ie?(l=Ge(),or=3):l===Ce?(l=Ge(),or=4):or=l===Fy?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,no=l,Cn===null&&(us=1,Ap(i,Ei(l,i.current)))}function I5(){var i=Pr.current;return i===null?!0:(kn&4194048)===kn?Un===null:(kn&62914560)===kn||(kn&536870912)!==0?i===Un:!1}function R5(){var i=ce.H;return ce.H=Sm,i===null?Sm:i}function k5(){var i=ce.A;return ce.A=qC,i}function Up(){us=4,bu||(kn&4194048)!==kn&&Pr.current!==null||(Hh=!0),(vu&134217727)===0&&(Id&134217727)===0||Sr===null||ju(Sr,kn,ro,!1)}function ob(i,l,d){var m=er;er|=2;var w=R5(),_=k5();(Sr!==i||kn!==l)&&(Op=null,Kh(i,l)),l=!1;var V=us;e:do try{if(or!==0&&Cn!==null){var X=Cn,fe=no;switch(or){case 8:ib(),V=6;break e;case 3:case 2:case 9:case 6:Pr.current===null&&(l=!0);var Re=or;if(or=0,no=null,Yh(i,X,fe,Re),d&&Hh){V=0;break e}break;default:Re=or,or=0,no=null,Yh(i,X,fe,Re)}}$C(),V=us;break}catch(Be){C5(i,Be)}while(!0);return l&&i.shellSuspendCounter++,Ro=Rl=null,er=m,ce.H=w,ce.A=_,Cn===null&&(Sr=null,kn=0,yd()),V}function $C(){for(;Cn!==null;)P5(Cn)}function WC(i,l){var d=er;er|=2;var m=R5(),w=k5();Sr!==i||kn!==l?(Op=null,Mp=sn()+500,Kh(i,l)):Hh=qs(i,l);e:do try{if(or!==0&&Cn!==null){l=Cn;var _=no;t:switch(or){case 1:or=0,no=null,Yh(i,l,_,1);break;case 2:case 9:if(Ee(_)){or=0,no=null,L5(l);break}l=function(){or!==2&&or!==9||Sr!==i||(or=7),Vl(i)},_.then(l,l);break e;case 3:or=7;break e;case 4:or=5;break e;case 7:Ee(_)?(or=0,no=null,L5(l)):(or=0,no=null,Yh(i,l,_,7));break;case 5:var V=null;switch(Cn.tag){case 26:V=Cn.memoizedState;case 5:case 27:var X=Cn;if(V?bN(V):X.stateNode.complete){or=0,no=null;var fe=X.sibling;if(fe!==null)Cn=fe;else{var Re=X.return;Re!==null?(Cn=Re,Vp(Re)):Cn=null}break t}}or=0,no=null,Yh(i,l,_,5);break;case 6:or=0,no=null,Yh(i,l,_,6);break;case 8:ib(),us=6;break e;default:throw Error(r(462))}}KC();break}catch(Be){C5(i,Be)}while(!0);return Ro=Rl=null,ce.H=m,ce.A=w,er=d,Cn!==null?0:(Sr=null,kn=0,yd(),us)}function KC(){for(;Cn!==null&&!Mt();)P5(Cn)}function P5(i){var l=r5(i.alternate,i,Rc);i.memoizedProps=i.pendingProps,l===null?Vp(i):Cn=l}function L5(i){var l=i,d=l.alternate;switch(l.tag){case 15:case 0:l=Qw(d,l,l.pendingProps,l.type,void 0,kn);break;case 11:l=Qw(d,l,l.pendingProps,l.type.render,l.ref,kn);break;case 5:Mh(l);default:a5(d,l),l=Cn=wd(l,Rc),l=r5(d,l,Rc)}i.memoizedProps=i.pendingProps,l===null?Vp(i):Cn=l}function Yh(i,l,d,m){Ro=Rl=null,Mh(l),Ke=null,yt=0;var w=l.return;try{if(MC(i,w,l,d,kn)){us=1,Ap(i,Ei(d,i.current)),Cn=null;return}}catch(_){if(w!==null)throw Cn=w,_;us=1,Ap(i,Ei(d,i.current)),Cn=null;return}l.flags&32768?(Tn||m===1?i=!0:Hh||(kn&536870912)!==0?i=!1:(bu=i=!0,(m===2||m===9||m===3||m===6)&&(m=Pr.current,m!==null&&m.tag===13&&(m.flags|=16384))),D5(l,i)):Vp(l)}function Vp(i){var l=i;do{if((l.flags&32768)!==0){D5(l,bu);return}i=l.return;var d=UC(l.alternate,l,Rc);if(d!==null){Cn=d;return}if(l=l.sibling,l!==null){Cn=l;return}Cn=l=i}while(l!==null);us===0&&(us=5)}function D5(i,l){do{var d=VC(i.alternate,i);if(d!==null){d.flags&=32767,Cn=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(i=i.sibling,i!==null)){Cn=i;return}Cn=i=d}while(i!==null);us=6,Cn=null}function M5(i,l,d,m,w,_,V,X,fe){i.cancelPendingCommit=null;do Bp();while(ta!==0);if((er&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(_=l.lanes|l.childLanes,_|=Nh,Hi(i,d,_,V,X,fe),i===Sr&&(Cn=Sr=null,kn=0),Wh=l,Nu=i,kc=d,rb=_,sb=w,S5=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,JC(on,function(){return B5(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=ce.T,ce.T=null,w=pe.p,pe.p=2,V=er,er|=4;try{BC(i,l,d)}finally{er=V,pe.p=w,ce.T=m}}ta=1,O5(),F5(),U5()}}function O5(){if(ta===1){ta=0;var i=Nu,l=Wh,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=ce.T,ce.T=null;var m=pe.p;pe.p=2;var w=er;er|=4;try{x5(l,i);var _=bb,V=Zo(i.containerInfo),X=_.focusedElem,fe=_.selectionRange;if(V!==X&&X&&X.ownerDocument&&Jo(X.ownerDocument.documentElement,X)){if(fe!==null&&Co(X)){var Re=fe.start,Be=fe.end;if(Be===void 0&&(Be=Re),"selectionStart"in X)X.selectionStart=Re,X.selectionEnd=Math.min(Be,X.value.length);else{var We=X.ownerDocument||document,De=We&&We.defaultView||window;if(De.getSelection){var Me=De.getSelection(),pt=X.textContent.length,Yt=Math.min(fe.start,pt),vr=fe.end===void 0?Yt:Math.min(fe.end,pt);!Me.extend&&Yt>vr&&(V=vr,vr=Yt,Yt=V);var je=ou(X,Yt),ye=ou(X,vr);if(je&&ye&&(Me.rangeCount!==1||Me.anchorNode!==je.node||Me.anchorOffset!==je.offset||Me.focusNode!==ye.node||Me.focusOffset!==ye.offset)){var Ie=We.createRange();Ie.setStart(je.node,je.offset),Me.removeAllRanges(),Yt>vr?(Me.addRange(Ie),Me.extend(ye.node,ye.offset)):(Ie.setEnd(ye.node,ye.offset),Me.addRange(Ie))}}}}for(We=[],Me=X;Me=Me.parentNode;)Me.nodeType===1&&We.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<We.length;X++){var $e=We[X];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}Zp=!!yb,bb=yb=null}finally{er=w,pe.p=m,ce.T=d}}i.current=l,ta=2}}function F5(){if(ta===2){ta=0;var i=Nu,l=Wh,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=ce.T,ce.T=null;var m=pe.p;pe.p=2;var w=er;er|=4;try{h5(i,l.alternate,l)}finally{er=w,pe.p=m,ce.T=d}}ta=3}}function U5(){if(ta===4||ta===3){ta=0,Et();var i=Nu,l=Wh,d=kc,m=S5;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ta=5:(ta=0,Wh=Nu=null,V5(i,i.pendingLanes));var w=i.pendingLanes;if(w===0&&(wu=null),fr(d),l=l.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(ln,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=ce.T,w=pe.p,pe.p=2,ce.T=null;try{for(var _=i.onRecoverableError,V=0;V<m.length;V++){var X=m[V];_(X.value,{componentStack:X.stack})}}finally{ce.T=l,pe.p=w}}(kc&3)!==0&&Bp(),Vl(i),w=i.pendingLanes,(d&261930)!==0&&(w&42)!==0?i===ab?Lm++:(Lm=0,ab=i):Lm=0,Dm(0)}}function V5(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,_d(l)))}function Bp(){return O5(),F5(),U5(),B5()}function B5(){if(ta!==5)return!1;var i=Nu,l=rb;rb=0;var d=fr(kc),m=ce.T,w=pe.p;try{pe.p=32>d?32:d,ce.T=null,d=sb,sb=null;var _=Nu,V=kc;if(ta=0,Wh=Nu=null,kc=0,(er&6)!==0)throw Error(r(331));var X=er;if(er|=4,N5(_.current),b5(_,_.current,V,d),er=X,Dm(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(ln,_)}catch{}return!0}finally{pe.p=w,ce.T=m,V5(i,l)}}function z5(i,l,d){l=Ei(d,l),l=Oy(i.stateNode,l,2),i=gn(i,l,2),i!==null&&(Ct(i,2),Vl(i))}function lr(i,l,d){if(i.tag===3)z5(i,i,d);else for(;l!==null;){if(l.tag===3){z5(l,i,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(wu===null||!wu.has(m))){i=Ei(d,i),d=qw(2),m=gn(l,d,2),m!==null&&(Gw(d,m,l,i),Ct(m,2),Vl(m));break}}l=l.return}}function lb(i,l,d){var m=i.pingCache;if(m===null){m=i.pingCache=new GC;var w=new Set;m.set(l,w)}else w=m.get(l),w===void 0&&(w=new Set,m.set(l,w));w.has(d)||(eb=!0,w.add(d),i=YC.bind(null,i,l,d),l.then(i,i))}function YC(i,l,d){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,Sr===i&&(kn&d)===d&&(us===4||us===3&&(kn&62914560)===kn&&300>sn()-Dp?(er&2)===0&&Kh(i,0):tb|=d,$h===kn&&($h=0)),Vl(i)}function q5(i,l){l===0&&(l=xi()),i=tl(i,l),i!==null&&(Ct(i,l),Vl(i))}function XC(i){var l=i.memoizedState,d=0;l!==null&&(d=l.retryLane),q5(i,d)}function QC(i,l){var d=0;switch(i.tag){case 31:case 13:var m=i.stateNode,w=i.memoizedState;w!==null&&(d=w.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),q5(i,d)}function JC(i,l){return ct(i,l)}var zp=null,Xh=null,cb=!1,qp=!1,ub=!1,_u=0;function Vl(i){i!==Xh&&i.next===null&&(Xh===null?zp=Xh=i:Xh=Xh.next=i),qp=!0,cb||(cb=!0,eI())}function Dm(i,l){if(!ub&&qp){ub=!0;do for(var d=!1,m=zp;m!==null;){if(i!==0){var w=m.pendingLanes;if(w===0)var _=0;else{var V=m.suspendedLanes,X=m.pingedLanes;_=(1<<31-an(42|i)+1)-1,_&=w&~(V&~X),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(d=!0,W5(m,_))}else _=kn,_=xn(m,m===Sr?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||qs(m,_)||(d=!0,W5(m,_));m=m.next}while(d);ub=!1}}function ZC(){G5()}function G5(){qp=cb=!1;var i=0;_u!==0&&uI()&&(i=_u);for(var l=sn(),d=null,m=zp;m!==null;){var w=m.next,_=H5(m,l);_===0?(m.next=null,d===null?zp=w:d.next=w,w===null&&(Xh=d)):(d=m,(i!==0||(_&3)!==0)&&(qp=!0)),m=w}ta!==0&&ta!==5||Dm(i),_u!==0&&(_u=0)}function H5(i,l){for(var d=i.suspendedLanes,m=i.pingedLanes,w=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var V=31-an(_),X=1<<V,fe=w[V];fe===-1?((X&d)===0||(X&m)!==0)&&(w[V]=As(X,l)):fe<=l&&(i.expiredLanes|=X),_&=~X}if(l=Sr,d=kn,d=xn(i,i===l?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,d===0||i===l&&(or===2||or===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&lt(m),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||qs(i,d)){if(l=d&-d,l===i.callbackPriority)return l;switch(m!==null&&lt(m),fr(d)){case 2:case 8:d=pn;break;case 32:d=on;break;case 268435456:d=en;break;default:d=on}return m=$5.bind(null,i),d=ct(d,m),i.callbackPriority=l,i.callbackNode=d,l}return m!==null&&m!==null&&lt(m),i.callbackPriority=2,i.callbackNode=null,2}function $5(i,l){if(ta!==0&&ta!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Bp()&&i.callbackNode!==d)return null;var m=kn;return m=xn(i,i===Sr?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(A5(i,m,l),H5(i,sn()),i.callbackNode!=null&&i.callbackNode===d?$5.bind(null,i):null)}function W5(i,l){if(Bp())return null;A5(i,l,!0)}function eI(){hI(function(){(er&6)!==0?ct(Qt,ZC):G5()})}function db(){if(_u===0){var i=p;i===0&&(i=qt,qt<<=1,(qt&261888)===0&&(qt=256)),_u=i}return _u}function K5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ua(""+i)}function Y5(i,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,i.id&&d.setAttribute("form",i.id),l.parentNode.insertBefore(d,l),i=new FormData(i),d.parentNode.removeChild(d),i}function tI(i,l,d,m,w){if(l==="submit"&&d&&d.stateNode===w){var _=K5((w[sr]||null).action),V=m.submitter;V&&(l=(l=V[sr]||null)?K5(l.formAction):V.getAttribute("formAction"),l!==null&&(_=l,V=null));var X=new Is("action","action",null,m,w);i.push({event:X,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(_u!==0){var fe=V?Y5(w,V):new FormData(w);Ry(d,{pending:!0,data:fe,method:w.method,action:_},null,fe)}}else typeof _=="function"&&(X.preventDefault(),fe=V?Y5(w,V):new FormData(w),Ry(d,{pending:!0,data:fe,method:w.method,action:_},_,fe))},currentTarget:w}]})}}for(var hb=0;hb<xc.length;hb++){var fb=xc[hb],nI=fb.toLowerCase(),rI=fb[0].toUpperCase()+fb.slice(1);_i(nI,"on"+rI)}_i(pc,"onAnimationEnd"),_i(pd,"onAnimationIteration"),_i(um,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(mp,"onTransitionRun"),_i(gp,"onTransitionStart"),_i(pp,"onTransitionCancel"),_i(dm,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),Ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mm));function X5(i,l){l=(l&4)!==0;for(var d=0;d<i.length;d++){var m=i[d],w=m.event;m=m.listeners;e:{var _=void 0;if(l)for(var V=m.length-1;0<=V;V--){var X=m[V],fe=X.instance,Re=X.currentTarget;if(X=X.listener,fe!==_&&w.isPropagationStopped())break e;_=X,w.currentTarget=Re;try{_(w)}catch(Be){xd(Be)}w.currentTarget=null,_=fe}else for(V=0;V<m.length;V++){if(X=m[V],fe=X.instance,Re=X.currentTarget,X=X.listener,fe!==_&&w.isPropagationStopped())break e;_=X,w.currentTarget=Re;try{_(w)}catch(Be){xd(Be)}w.currentTarget=null,_=fe}}}}function In(i,l){var d=l[oa];d===void 0&&(d=l[oa]=new Set);var m=i+"__bubble";d.has(m)||(Q5(l,i,2,!1),d.add(m))}function mb(i,l,d){var m=0;l&&(m|=4),Q5(d,i,m,l)}var Gp="_reactListening"+Math.random().toString(36).slice(2);function gb(i){if(!i[Gp]){i[Gp]=!0,bl.forEach(function(d){d!=="selectionchange"&&(sI.has(d)||mb(d,!1,i),mb(d,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Gp]||(l[Gp]=!0,mb("selectionchange",!1,l))}}function Q5(i,l,d,m){switch(EN(l)){case 2:var w=kI;break;case 8:w=PI;break;default:w=Ib}d=w.bind(null,l,d,i),w=void 0,!Ho||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),m?w!==void 0?i.addEventListener(l,d,{capture:!0,passive:w}):i.addEventListener(l,d,!0):w!==void 0?i.addEventListener(l,d,{passive:w}):i.addEventListener(l,d,!1)}function pb(i,l,d,m,w){var _=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var V=m.tag;if(V===3||V===4){var X=m.stateNode.containerInfo;if(X===w)break;if(V===4)for(V=m.return;V!==null;){var fe=V.tag;if((fe===3||fe===4)&&V.stateNode.containerInfo===w)return;V=V.return}for(;X!==null;){if(V=wa(X),V===null)return;if(fe=V.tag,fe===5||fe===6||fe===26||fe===27){m=_=V;continue e}X=X.parentNode}}m=m.return}wo(function(){var Re=_,Be=da(d),We=[];e:{var De=hm.get(i);if(De!==void 0){var Me=Is,pt=i;switch(i){case"keypress":if(Sa(d)===0)break e;case"keydown":case"keyup":Me=En;break;case"focusin":pt="focus",Me=ai;break;case"focusout":pt="blur",Me=ai;break;case"beforeblur":case"afterblur":Me=ai;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=Sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=Ni;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=R;break;case pc:case pd:case um:Me=A;break;case dm:Me=Z;break;case"scroll":case"scrollend":Me=No;break;case"wheel":Me=Pe;break;case"copy":case"cut":case"paste":Me=oe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=rr;break;case"toggle":case"beforetoggle":Me=Zt}var Yt=(l&4)!==0,vr=!Yt&&(i==="scroll"||i==="scrollend"),je=Yt?De!==null?De+"Capture":null:De;Yt=[];for(var ye=Re,Ie;ye!==null;){var $e=ye;if(Ie=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||Ie===null||je===null||($e=ps(ye,je),$e!=null&&Yt.push(Om(ye,$e,Ie))),vr)break;ye=ye.return}0<Yt.length&&(De=new Me(De,pt,null,d,Be),We.push({event:De,listeners:Yt}))}}if((l&7)===0){e:{if(De=i==="mouseover"||i==="pointerover",Me=i==="mouseout"||i==="pointerout",De&&d!==Xi&&(pt=d.relatedTarget||d.fromElement)&&(wa(pt)||pt[rs]))break e;if((Me||De)&&(De=Be.window===Be?Be:(De=Be.ownerDocument)?De.defaultView||De.parentWindow:window,Me?(pt=d.relatedTarget||d.toElement,Me=Re,pt=pt?wa(pt):null,pt!==null&&(vr=o(pt),Yt=pt.tag,pt!==vr||Yt!==5&&Yt!==27&&Yt!==6)&&(pt=null)):(Me=null,pt=Re),Me!==pt)){if(Yt=Sl,$e="onMouseLeave",je="onMouseEnter",ye="mouse",(i==="pointerout"||i==="pointerover")&&(Yt=rr,$e="onPointerLeave",je="onPointerEnter",ye="pointer"),vr=Me==null?De:Na(Me),Ie=pt==null?De:Na(pt),De=new Yt($e,ye+"leave",Me,d,Be),De.target=vr,De.relatedTarget=Ie,$e=null,wa(Be)===Re&&(Yt=new Yt(je,ye+"enter",pt,d,Be),Yt.target=Ie,Yt.relatedTarget=vr,$e=Yt),vr=$e,Me&&pt)t:{for(Yt=aI,je=Me,ye=pt,Ie=0,$e=je;$e;$e=Yt($e))Ie++;$e=0;for(var Bt=ye;Bt;Bt=Yt(Bt))$e++;for(;0<Ie-$e;)je=Yt(je),Ie--;for(;0<$e-Ie;)ye=Yt(ye),$e--;for(;Ie--;){if(je===ye||ye!==null&&je===ye.alternate){Yt=je;break t}je=Yt(je),ye=Yt(ye)}Yt=null}else Yt=null;Me!==null&&J5(We,De,Me,Yt,!1),pt!==null&&vr!==null&&J5(We,vr,pt,Yt,!0)}}e:{if(De=Re?Na(Re):window,Me=De.nodeName&&De.nodeName.toLowerCase(),Me==="select"||Me==="input"&&De.type==="file")var Yn=Al;else if(md(De))if(za)Yn=Ao;else{Yn=Kr;var _t=au}else Me=De.nodeName,!Me||Me.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Re&&Nl(Re.elementType)&&(Yn=Al):Yn=wh;if(Yn&&(Yn=Yn(i,Re))){oi(We,Yn,d,Be);break e}_t&&_t(i,De,Re),i==="focusout"&&Re&&De.type==="number"&&Re.memoizedProps.value!=null&&cc(De,"number",De.value)}switch(_t=Re?Na(Re):window,i){case"focusin":(md(_t)||_t.contentEditable==="true")&&(li=_t,el=Re,ha=null);break;case"focusout":ha=el=li=null;break;case"mousedown":ji=!0;break;case"contextmenu":case"mouseup":case"dragend":ji=!1,qn(We,d,Be);break;case"selectionchange":if(gc)break;case"keydown":case"keyup":qn(We,d,Be)}var yn;if(bn)e:{switch(i){case"compositionstart":var Pn="onCompositionStart";break e;case"compositionend":Pn="onCompositionEnd";break e;case"compositionupdate":Pn="onCompositionUpdate";break e}Pn=void 0}else _o?ii(i,d)&&(Pn="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(Pn="onCompositionStart");Pn&&(Ws&&d.locale!=="ko"&&(_o||Pn!=="onCompositionStart"?Pn==="onCompositionEnd"&&_o&&(yn=fc()):(_a=Be,$o="value"in _a?_a.value:_a.textContent,_o=!0)),_t=Hp(Re,Pn),0<_t.length&&(Pn=new we(Pn,i,null,d,Be),We.push({event:Pn,listeners:_t}),yn?Pn.data=yn:(yn=jo(d),yn!==null&&(Pn.data=yn)))),(yn=Rs?Ta(i,d):Ko(i,d))&&(Pn=Hp(Re,"onBeforeInput"),0<Pn.length&&(_t=new we("onBeforeInput","beforeinput",null,d,Be),We.push({event:_t,listeners:Pn}),_t.data=yn)),tI(We,i,Re,d,Be)}X5(We,l)})}function Om(i,l,d){return{instance:i,listener:l,currentTarget:d}}function Hp(i,l){for(var d=l+"Capture",m=[];i!==null;){var w=i,_=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||_===null||(w=ps(i,d),w!=null&&m.unshift(Om(i,w,_)),w=ps(i,l),w!=null&&m.push(Om(i,w,_))),i.tag===3)return m;i=i.return}return[]}function aI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function J5(i,l,d,m,w){for(var _=l._reactName,V=[];d!==null&&d!==m;){var X=d,fe=X.alternate,Re=X.stateNode;if(X=X.tag,fe!==null&&fe===m)break;X!==5&&X!==26&&X!==27||Re===null||(fe=Re,w?(Re=ps(d,_),Re!=null&&V.unshift(Om(d,Re,fe))):w||(Re=ps(d,_),Re!=null&&V.push(Om(d,Re,fe)))),d=d.return}V.length!==0&&i.push({event:l,listeners:V})}var iI=/\r\n?/g,oI=/\u0000|\uFFFD/g;function Z5(i){return(typeof i=="string"?i:""+i).replace(iI,`
`).replace(oI,"")}function eN(i,l){return l=Z5(l),Z5(i)===l}function br(i,l,d,m,w,_){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||gs(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&gs(i,""+m);break;case"className":Cs(i,"class",m);break;case"tabIndex":Cs(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Cs(i,d,m);break;case"style":hc(i,m,_);break;case"data":if(l!=="object"){Cs(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){i.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(d);break}m=ua(""+m),i.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(d==="formAction"?(l!=="input"&&br(i,l,"name",w.name,w,null),br(i,l,"formEncType",w.formEncType,w,null),br(i,l,"formMethod",w.formMethod,w,null),br(i,l,"formTarget",w.formTarget,w,null)):(br(i,l,"encType",w.encType,w,null),br(i,l,"method",w.method,w,null),br(i,l,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(d);break}m=ua(""+m),i.setAttribute(d,m);break;case"onClick":m!=null&&(i.onclick=ri);break;case"onScroll":m!=null&&In("scroll",i);break;case"onScrollEnd":m!=null&&In("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}d=ua(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(d,""+m):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":m===!0?i.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(d,m):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(d,m):i.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(d):i.setAttribute(d,m);break;case"popover":In("beforetoggle",i),In("toggle",i),ja(i,"popover",m);break;case"xlinkActuate":Or(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Or(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Or(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Or(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Or(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Or(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Or(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Or(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Or(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ja(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=jl.get(d)||d,ja(i,d,m))}}function xb(i,l,d,m,w,_){switch(d){case"style":hc(i,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"children":typeof m=="string"?gs(i,m):(typeof m=="number"||typeof m=="bigint")&&gs(i,""+m);break;case"onScroll":m!=null&&In("scroll",i);break;case"onScrollEnd":m!=null&&In("scrollend",i);break;case"onClick":m!=null&&(i.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ca.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(w=d.endsWith("Capture"),l=d.slice(2,w?d.length-7:void 0),_=i[sr]||null,_=_!=null?_[d]:null,typeof _=="function"&&i.removeEventListener(l,_,w),typeof m=="function")){typeof _!="function"&&_!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(l,m,w);break e}d in i?i[d]=m:m===!0?i.setAttribute(d,""):ja(i,d,m)}}}function Pa(i,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":In("error",i),In("load",i);var m=!1,w=!1,_;for(_ in d)if(d.hasOwnProperty(_)){var V=d[_];if(V!=null)switch(_){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:br(i,l,_,V,d,null)}}w&&br(i,l,"srcSet",d.srcSet,d,null),m&&br(i,l,"src",d.src,d,null);return;case"input":In("invalid",i);var X=_=V=w=null,fe=null,Re=null;for(m in d)if(d.hasOwnProperty(m)){var Be=d[m];if(Be!=null)switch(m){case"name":w=Be;break;case"type":V=Be;break;case"checked":fe=Be;break;case"defaultChecked":Re=Be;break;case"value":_=Be;break;case"defaultValue":X=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(r(137,l));break;default:br(i,l,m,Be,d,null)}}nu(i,_,X,fe,Re,V,w,!1);return;case"select":In("invalid",i),m=V=_=null;for(w in d)if(d.hasOwnProperty(w)&&(X=d[w],X!=null))switch(w){case"value":_=X;break;case"defaultValue":V=X;break;case"multiple":m=X;default:br(i,l,w,X,d,null)}l=_,d=V,i.multiple=!!m,l!=null?$s(i,!!m,l,!1):d!=null&&$s(i,!!m,d,!0);return;case"textarea":In("invalid",i),_=w=m=null;for(V in d)if(d.hasOwnProperty(V)&&(X=d[V],X!=null))switch(V){case"value":m=X;break;case"defaultValue":w=X;break;case"children":_=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(91));break;default:br(i,l,V,X,d,null)}Ki(i,m,w,_);return;case"option":for(fe in d)if(d.hasOwnProperty(fe)&&(m=d[fe],m!=null))switch(fe){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:br(i,l,fe,m,d,null)}return;case"dialog":In("beforetoggle",i),In("toggle",i),In("cancel",i),In("close",i);break;case"iframe":case"object":In("load",i);break;case"video":case"audio":for(m=0;m<Mm.length;m++)In(Mm[m],i);break;case"image":In("error",i),In("load",i);break;case"details":In("toggle",i);break;case"embed":case"source":case"link":In("error",i),In("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in d)if(d.hasOwnProperty(Re)&&(m=d[Re],m!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:br(i,l,Re,m,d,null)}return;default:if(Nl(l)){for(Be in d)d.hasOwnProperty(Be)&&(m=d[Be],m!==void 0&&xb(i,l,Be,m,d,void 0));return}}for(X in d)d.hasOwnProperty(X)&&(m=d[X],m!=null&&br(i,l,X,m,d,null))}function lI(i,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,_=null,V=null,X=null,fe=null,Re=null,Be=null;for(Me in d){var We=d[Me];if(d.hasOwnProperty(Me)&&We!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":fe=We;default:m.hasOwnProperty(Me)||br(i,l,Me,null,m,We)}}for(var De in m){var Me=m[De];if(We=d[De],m.hasOwnProperty(De)&&(Me!=null||We!=null))switch(De){case"type":_=Me;break;case"name":w=Me;break;case"checked":Re=Me;break;case"defaultChecked":Be=Me;break;case"value":V=Me;break;case"defaultValue":X=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,l));break;default:Me!==We&&br(i,l,De,Me,m,We)}}qo(i,V,X,fe,Re,Be,_,w);return;case"select":Me=V=X=De=null;for(_ in d)if(fe=d[_],d.hasOwnProperty(_)&&fe!=null)switch(_){case"value":break;case"multiple":Me=fe;default:m.hasOwnProperty(_)||br(i,l,_,null,m,fe)}for(w in m)if(_=m[w],fe=d[w],m.hasOwnProperty(w)&&(_!=null||fe!=null))switch(w){case"value":De=_;break;case"defaultValue":X=_;break;case"multiple":V=_;default:_!==fe&&br(i,l,w,_,m,fe)}l=X,d=V,m=Me,De!=null?$s(i,!!d,De,!1):!!m!=!!d&&(l!=null?$s(i,!!d,l,!0):$s(i,!!d,d?[]:"",!1));return;case"textarea":Me=De=null;for(X in d)if(w=d[X],d.hasOwnProperty(X)&&w!=null&&!m.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:br(i,l,X,null,m,w)}for(V in m)if(w=m[V],_=d[V],m.hasOwnProperty(V)&&(w!=null||_!=null))switch(V){case"value":De=w;break;case"defaultValue":Me=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==_&&br(i,l,V,w,m,_)}uc(i,De,Me);return;case"option":for(var pt in d)if(De=d[pt],d.hasOwnProperty(pt)&&De!=null&&!m.hasOwnProperty(pt))switch(pt){case"selected":i.selected=!1;break;default:br(i,l,pt,null,m,De)}for(fe in m)if(De=m[fe],Me=d[fe],m.hasOwnProperty(fe)&&De!==Me&&(De!=null||Me!=null))switch(fe){case"selected":i.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:br(i,l,fe,De,m,Me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in d)De=d[Yt],d.hasOwnProperty(Yt)&&De!=null&&!m.hasOwnProperty(Yt)&&br(i,l,Yt,null,m,De);for(Re in m)if(De=m[Re],Me=d[Re],m.hasOwnProperty(Re)&&De!==Me&&(De!=null||Me!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,l));break;default:br(i,l,Re,De,m,Me)}return;default:if(Nl(l)){for(var vr in d)De=d[vr],d.hasOwnProperty(vr)&&De!==void 0&&!m.hasOwnProperty(vr)&&xb(i,l,vr,void 0,m,De);for(Be in m)De=m[Be],Me=d[Be],!m.hasOwnProperty(Be)||De===Me||De===void 0&&Me===void 0||xb(i,l,Be,De,m,Me);return}}for(var je in d)De=d[je],d.hasOwnProperty(je)&&De!=null&&!m.hasOwnProperty(je)&&br(i,l,je,null,m,De);for(We in m)De=m[We],Me=d[We],!m.hasOwnProperty(We)||De===Me||De==null&&Me==null||br(i,l,We,De,m,Me)}function tN(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var w=d[m],_=w.transferSize,V=w.initiatorType,X=w.duration;if(_&&X&&tN(V)){for(V=0,X=w.responseEnd,m+=1;m<d.length;m++){var fe=d[m],Re=fe.startTime;if(Re>X)break;var Be=fe.transferSize,We=fe.initiatorType;Be&&tN(We)&&(fe=fe.responseEnd,V+=Be*(fe<X?1:(X-Re)/(fe-Re)))}if(--m,l+=8*(_+V)/(w.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var yb=null,bb=null;function $p(i){return i.nodeType===9?i:i.ownerDocument}function nN(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rN(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function vb(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var wb=null;function uI(){var i=window.event;return i&&i.type==="popstate"?i===wb?!1:(wb=i,!0):(wb=null,!1)}var sN=typeof setTimeout=="function"?setTimeout:void 0,dI=typeof clearTimeout=="function"?clearTimeout:void 0,aN=typeof Promise=="function"?Promise:void 0,hI=typeof queueMicrotask=="function"?queueMicrotask:typeof aN<"u"?function(i){return aN.resolve(null).then(i).catch(fI)}:sN;function fI(i){setTimeout(function(){throw i})}function Su(i){return i==="head"}function iN(i,l){var d=l,m=0;do{var w=d.nextSibling;if(i.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"||d==="/&"){if(m===0){i.removeChild(w),ef(l);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Fm(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,Fm(d);for(var _=d.firstChild;_;){var V=_.nextSibling,X=_.nodeName;_[la]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&_.rel.toLowerCase()==="stylesheet"||d.removeChild(_),_=V}}else d==="body"&&Fm(i.ownerDocument.body);d=w}while(d);ef(l)}function oN(i,l){var d=i;i=0;do{var m=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=m}while(d)}function Nb(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Nb(d),$i(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function mI(i,l,d,m){for(;i.nodeType===1;){var w=d;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[la])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==w.rel||i.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||i.getAttribute("title")!==(w.title==null?null:w.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(w.src==null?null:w.src)||i.getAttribute("type")!==(w.type==null?null:w.type)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var _=w.name==null?null:""+w.name;if(w.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Lo(i.nextSibling),i===null)break}return null}function gI(i,l,d){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Lo(i.nextSibling),i===null))return null;return i}function lN(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Lo(i.nextSibling),i===null))return null;return i}function jb(i){return i.data==="$?"||i.data==="$~"}function _b(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function pI(i,l){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||d.readyState!=="loading")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Lo(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var Sb=null;function cN(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(l===0)return Lo(i.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}i=i.nextSibling}return null}function uN(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return i;l--}else d!=="/$"&&d!=="/&"||l++}i=i.previousSibling}return null}function dN(i,l,d){switch(l=$p(d),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Fm(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);$i(i)}var Do=new Map,hN=new Set;function Wp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Pc=pe.d;pe.d={f:xI,r:yI,D:bI,C:vI,L:wI,m:NI,X:_I,S:jI,M:SI};function xI(){var i=Pc.f(),l=Fp();return i||l}function yI(i){var l=Hs(i);l!==null&&l.tag===5&&l.type==="form"?Cw(l):Pc.r(i)}var Qh=typeof document>"u"?null:document;function fN(i,l,d){var m=Qh;if(m&&typeof l=="string"&&l){var w=Fr(l);w='link[rel="'+i+'"][href="'+w+'"]',typeof d=="string"&&(w+='[crossorigin="'+d+'"]'),hN.has(w)||(hN.add(w),i={rel:i,crossOrigin:d,href:l},m.querySelector(w)===null&&(l=m.createElement("link"),Pa(l,"link",i),Ir(l),m.head.appendChild(l)))}}function bI(i){Pc.D(i),fN("dns-prefetch",i,null)}function vI(i,l){Pc.C(i,l),fN("preconnect",i,l)}function wI(i,l,d){Pc.L(i,l,d);var m=Qh;if(m&&i&&l){var w='link[rel="preload"][as="'+Fr(l)+'"]';l==="image"&&d&&d.imageSrcSet?(w+='[imagesrcset="'+Fr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(w+='[imagesizes="'+Fr(d.imageSizes)+'"]')):w+='[href="'+Fr(i)+'"]';var _=w;switch(l){case"style":_=Jh(i);break;case"script":_=Zh(i)}Do.has(_)||(i=x({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:i,as:l},d),Do.set(_,i),m.querySelector(w)!==null||l==="style"&&m.querySelector(Um(_))||l==="script"&&m.querySelector(Vm(_))||(l=m.createElement("link"),Pa(l,"link",i),Ir(l),m.head.appendChild(l)))}}function NI(i,l){Pc.m(i,l);var d=Qh;if(d&&i){var m=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+Fr(m)+'"][href="'+Fr(i)+'"]',_=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Zh(i)}if(!Do.has(_)&&(i=x({rel:"modulepreload",href:i},l),Do.set(_,i),d.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Vm(_)))return}m=d.createElement("link"),Pa(m,"link",i),Ir(m),d.head.appendChild(m)}}}function jI(i,l,d){Pc.S(i,l,d);var m=Qh;if(m&&i){var w=Fa(m).hoistableStyles,_=Jh(i);l=l||"default";var V=w.get(_);if(!V){var X={loading:0,preload:null};if(V=m.querySelector(Um(_)))X.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":l},d),(d=Do.get(_))&&Eb(i,d);var fe=V=m.createElement("link");Ir(fe),Pa(fe,"link",i),fe._p=new Promise(function(Re,Be){fe.onload=Re,fe.onerror=Be}),fe.addEventListener("load",function(){X.loading|=1}),fe.addEventListener("error",function(){X.loading|=2}),X.loading|=4,Kp(V,l,m)}V={type:"stylesheet",instance:V,count:1,state:X},w.set(_,V)}}}function _I(i,l){Pc.X(i,l);var d=Qh;if(d&&i){var m=Fa(d).hoistableScripts,w=Zh(i),_=m.get(w);_||(_=d.querySelector(Vm(w)),_||(i=x({src:i,async:!0},l),(l=Do.get(w))&&Ab(i,l),_=d.createElement("script"),Ir(_),Pa(_,"link",i),d.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(w,_))}}function SI(i,l){Pc.M(i,l);var d=Qh;if(d&&i){var m=Fa(d).hoistableScripts,w=Zh(i),_=m.get(w);_||(_=d.querySelector(Vm(w)),_||(i=x({src:i,async:!0,type:"module"},l),(l=Do.get(w))&&Ab(i,l),_=d.createElement("script"),Ir(_),Pa(_,"link",i),d.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(w,_))}}function mN(i,l,d,m){var w=(w=me.current)?Wp(w):null;if(!w)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Jh(d.href),d=Fa(w).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=Jh(d.href);var _=Fa(w).hoistableStyles,V=_.get(i);if(V||(w=w.ownerDocument||w,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,V),(_=w.querySelector(Um(i)))&&!_._p&&(V.instance=_,V.state.loading=5),Do.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Do.set(i,d),_||EI(w,i,d,V.state))),l&&m===null)throw Error(r(528,""));return V}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Zh(d),d=Fa(w).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Jh(i){return'href="'+Fr(i)+'"'}function Um(i){return'link[rel="stylesheet"]['+i+"]"}function gN(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function EI(i,l,d,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Pa(l,"link",d),Ir(l),i.head.appendChild(l))}function Zh(i){return'[src="'+Fr(i)+'"]'}function Vm(i){return"script[async]"+i}function pN(i,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+Fr(d.href)+'"]');if(m)return l.instance=m,Ir(m),m;var w=x({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Ir(m),Pa(m,"style",w),Kp(m,d.precedence,i),l.instance=m;case"stylesheet":w=Jh(d.href);var _=i.querySelector(Um(w));if(_)return l.state.loading|=4,l.instance=_,Ir(_),_;m=gN(d),(w=Do.get(w))&&Eb(m,w),_=(i.ownerDocument||i).createElement("link"),Ir(_);var V=_;return V._p=new Promise(function(X,fe){V.onload=X,V.onerror=fe}),Pa(_,"link",m),l.state.loading|=4,Kp(_,d.precedence,i),l.instance=_;case"script":return _=Zh(d.src),(w=i.querySelector(Vm(_)))?(l.instance=w,Ir(w),w):(m=d,(w=Do.get(_))&&(m=x({},d),Ab(m,w)),i=i.ownerDocument||i,w=i.createElement("script"),Ir(w),Pa(w,"link",m),i.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Kp(m,d.precedence,i));return l.instance}function Kp(i,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,_=w,V=0;V<m.length;V++){var X=m[V];if(X.dataset.precedence===l)_=X;else if(_!==w)break}_?_.parentNode.insertBefore(i,_.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(i,l.firstChild))}function Eb(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Ab(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Yp=null;function xN(i,l,d){if(Yp===null){var m=new Map,w=Yp=new Map;w.set(d,m)}else w=Yp,m=w.get(d),m||(m=new Map,w.set(d,m));if(m.has(i))return m;for(m.set(i,null),d=d.getElementsByTagName(i),w=0;w<d.length;w++){var _=d[w];if(!(_[la]||_[$n]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var V=_.getAttribute(l)||"";V=i+V;var X=m.get(V);X?X.push(_):m.set(V,[_])}}return m}function yN(i,l,d){i=i.ownerDocument||i,i.head.insertBefore(d,l==="title"?i.querySelector("head > title"):null)}function AI(i,l,d){if(d===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function bN(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function TI(i,l,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var w=Jh(m.href),_=l.querySelector(Um(w));if(_){l=_._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=Xp.bind(i),l.then(i,i)),d.state.loading|=4,d.instance=_,Ir(_);return}_=l.ownerDocument||l,m=gN(m),(w=Do.get(w))&&Eb(m,w),_=_.createElement("link"),Ir(_);var V=_;V._p=new Promise(function(X,fe){V.onload=X,V.onerror=fe}),Pa(_,"link",m),d.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=Xp.bind(i),l.addEventListener("load",d),l.addEventListener("error",d))}}var Tb=0;function CI(i,l){return i.stylesheets&&i.count===0&&Jp(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var m=setTimeout(function(){if(i.stylesheets&&Jp(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+l);0<i.imgBytes&&Tb===0&&(Tb=62500*cI());var w=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Jp(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Tb?50:800)+l);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function Xp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Qp=null;function Jp(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Qp=new Map,l.forEach(II,i),Qp=null,Xp.call(i))}function II(i,l){if(!(l.state.loading&4)){var d=Qp.get(i);if(d)var m=d.get(null);else{d=new Map,Qp.set(i,d);for(var w=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<w.length;_++){var V=w[_];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(d.set(V.dataset.precedence,V),m=V)}m&&d.set(null,m)}w=l.instance,V=w.getAttribute("data-precedence"),_=d.get(V)||m,_===m&&d.set(null,w),d.set(V,w),this.count++,m=Xp.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),_?_.parentNode.insertBefore(w,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(w,i.firstChild)),l.state.loading|=4}}var Bm={$$typeof:D,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function RI(i,l,d,m,w,_,V,X,fe){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ms(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ms(0),this.hiddenUpdates=ms(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=_,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function vN(i,l,d,m,w,_,V,X,fe,Re,Be,We){return i=new RI(i,l,d,V,fe,Re,Be,We,X),l=1,_===!0&&(l|=24),_=ma(3,null,null,l),i.current=_,_.stateNode=i,l=fu(),l.refCount++,i.pooledCache=l,l.refCount++,_.memoizedState={element:m,isDehydrated:d,cache:l},rt(_),i}function wN(i){return i?(i=Xs,i):Xs}function NN(i,l,d,m,w,_){w=wN(w),m.context===null?m.context=w:m.pendingContext=w,m=Kt(l),m.payload={element:d},_=_===void 0?null:_,_!==null&&(m.callback=_),d=gn(i,m,l),d!==null&&(Oi(d,i,l),Jn(d,i,l))}function jN(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<l?d:l}}function Cb(i,l){jN(i,l),(i=i.alternate)&&jN(i,l)}function _N(i){if(i.tag===13||i.tag===31){var l=tl(i,67108864);l!==null&&Oi(l,i,67108864),Cb(i,67108864)}}function SN(i){if(i.tag===13||i.tag===31){var l=so();l=nr(l);var d=tl(i,l);d!==null&&Oi(d,i,l),Cb(i,l)}}var Zp=!0;function kI(i,l,d,m){var w=ce.T;ce.T=null;var _=pe.p;try{pe.p=2,Ib(i,l,d,m)}finally{pe.p=_,ce.T=w}}function PI(i,l,d,m){var w=ce.T;ce.T=null;var _=pe.p;try{pe.p=8,Ib(i,l,d,m)}finally{pe.p=_,ce.T=w}}function Ib(i,l,d,m){if(Zp){var w=Rb(m);if(w===null)pb(i,l,m,e0,d),AN(i,m);else if(DI(w,i,l,d,m))m.stopPropagation();else if(AN(i,m),l&4&&-1<LI.indexOf(i)){for(;w!==null;){var _=Hs(w);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var V=jt(_.pendingLanes);if(V!==0){var X=_;for(X.pendingLanes|=2,X.entangledLanes|=2;V;){var fe=1<<31-an(V);X.entanglements[1]|=fe,V&=~fe}Vl(_),(er&6)===0&&(Mp=sn()+500,Dm(0))}}break;case 31:case 13:X=tl(_,2),X!==null&&Oi(X,_,2),Fp(),Cb(_,2)}if(_=Rb(m),_===null&&pb(i,l,m,e0,d),_===w)break;w=_}w!==null&&m.stopPropagation()}else pb(i,l,m,null,d)}}function Rb(i){return i=da(i),kb(i)}var e0=null;function kb(i){if(e0=null,i=wa(i),i!==null){var l=o(i);if(l===null)i=null;else{var d=l.tag;if(d===13){if(i=c(l),i!==null)return i;i=null}else if(d===31){if(i=u(l),i!==null)return i;i=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return e0=i,null}function EN(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dn()){case Qt:return 2;case pn:return 8;case on:case wt:return 32;case en:return 268435456;default:return 32}default:return 32}}var Pb=!1,Eu=null,Au=null,Tu=null,zm=new Map,qm=new Map,Cu=[],LI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AN(i,l){switch(i){case"focusin":case"focusout":Eu=null;break;case"dragenter":case"dragleave":Au=null;break;case"mouseover":case"mouseout":Tu=null;break;case"pointerover":case"pointerout":zm.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":qm.delete(l.pointerId)}}function Gm(i,l,d,m,w,_){return i===null||i.nativeEvent!==_?(i={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:_,targetContainers:[w]},l!==null&&(l=Hs(l),l!==null&&_N(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),i)}function DI(i,l,d,m,w){switch(l){case"focusin":return Eu=Gm(Eu,i,l,d,m,w),!0;case"dragenter":return Au=Gm(Au,i,l,d,m,w),!0;case"mouseover":return Tu=Gm(Tu,i,l,d,m,w),!0;case"pointerover":var _=w.pointerId;return zm.set(_,Gm(zm.get(_)||null,i,l,d,m,w)),!0;case"gotpointercapture":return _=w.pointerId,qm.set(_,Gm(qm.get(_)||null,i,l,d,m,w)),!0}return!1}function TN(i){var l=wa(i.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){i.blockedOn=l,Gs(i.priority,function(){SN(d)});return}}else if(l===31){if(l=u(d),l!==null){i.blockedOn=l,Gs(i.priority,function(){SN(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function t0(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var d=Rb(i.nativeEvent);if(d===null){d=i.nativeEvent;var m=new d.constructor(d.type,d);Xi=m,d.target.dispatchEvent(m),Xi=null}else return l=Hs(d),l!==null&&_N(l),i.blockedOn=d,!1;l.shift()}return!0}function CN(i,l,d){t0(i)&&d.delete(l)}function MI(){Pb=!1,Eu!==null&&t0(Eu)&&(Eu=null),Au!==null&&t0(Au)&&(Au=null),Tu!==null&&t0(Tu)&&(Tu=null),zm.forEach(CN),qm.forEach(CN)}function n0(i,l){i.blockedOn===l&&(i.blockedOn=null,Pb||(Pb=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,MI)))}var r0=null;function IN(i){r0!==i&&(r0=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){r0===i&&(r0=null);for(var l=0;l<i.length;l+=3){var d=i[l],m=i[l+1],w=i[l+2];if(typeof m!="function"){if(kb(m||d)===null)continue;break}var _=Hs(d);_!==null&&(i.splice(l,3),l-=3,Ry(_,{pending:!0,data:w,method:d.method,action:m},m,w))}}))}function ef(i){function l(fe){return n0(fe,i)}Eu!==null&&n0(Eu,i),Au!==null&&n0(Au,i),Tu!==null&&n0(Tu,i),zm.forEach(l),qm.forEach(l);for(var d=0;d<Cu.length;d++){var m=Cu[d];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Cu.length&&(d=Cu[0],d.blockedOn===null);)TN(d),d.blockedOn===null&&Cu.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var w=d[m],_=d[m+1],V=w[sr]||null;if(typeof _=="function")V||IN(d);else if(V){var X=null;if(_&&_.hasAttribute("formAction")){if(w=_,V=_[sr]||null)X=V.formAction;else if(kb(w)!==null)continue}else X=V.action;typeof X=="function"?d[m+1]=X:(d.splice(m,3),m-=3),IN(d)}}}function RN(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(V){return w=V})},focusReset:"manual",scroll:"manual"})}function l(){w!==null&&(w(),w=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),w!==null&&(w(),w=null)}}}function Lb(i){this._internalRoot=i}s0.prototype.render=Lb.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=so();NN(d,m,i,l,null,null)},s0.prototype.unmount=Lb.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;NN(i.current,2,null,i,null,null),Fp(),l[rs]=null}};function s0(i){this._internalRoot=i}s0.prototype.unstable_scheduleHydration=function(i){if(i){var l=ns();i={blockedOn:null,target:i,priority:l};for(var d=0;d<Cu.length&&l!==0&&l<Cu[d].priority;d++);Cu.splice(d,0,i),d===0&&TN(i)}};var kN=e.version;if(kN!=="19.2.0")throw Error(r(527,kN,"19.2.0"));pe.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(l),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var OI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ce,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var a0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!a0.isDisabled&&a0.supportsFiber)try{ln=a0.inject(OI),Lt=a0}catch{}}return $m.createRoot=function(i,l){if(!a(i))throw Error(r(299));var d=!1,m="",w=Uw,_=Vw,V=Bw;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(V=l.onRecoverableError)),l=vN(i,1,!1,null,null,d,m,null,w,_,V,RN),i[rs]=l.current,gb(i),new Lb(l)},$m.hydrateRoot=function(i,l,d){if(!a(i))throw Error(r(299));var m=!1,w="",_=Uw,V=Vw,X=Bw,fe=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(_=d.onUncaughtError),d.onCaughtError!==void 0&&(V=d.onCaughtError),d.onRecoverableError!==void 0&&(X=d.onRecoverableError),d.formState!==void 0&&(fe=d.formState)),l=vN(i,1,!0,l,d??null,m,w,fe,_,V,X,RN),l.context=wN(null),d=l.current,m=so(),m=nr(m),w=Kt(m),w.callback=null,gn(d,w,m),d=m,l.current.lanes=d,Ct(l,d),Vl(l),i[rs]=l.current,gb(i),new s0(l)},$m.version="19.2.0",$m}var zN;function YI(){if(zN)return Ob.exports;zN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ob.exports=KI(),Ob.exports}var XI=YI();H6();function _g(){return _g=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_g.apply(this,arguments)}var qu;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(qu||(qu={}));const qN="popstate";function QI(n){n===void 0&&(n={});function e(r,a){let{pathname:o,search:c,hash:u}=r.location;return P1("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Y0(a)}return ZI(e,t,null,n)}function _s(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function V2(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JI(){return Math.random().toString(36).substr(2,8)}function GN(n,e){return{usr:n.state,key:n.key,idx:e}}function P1(n,e,t,r){return t===void 0&&(t=null),_g({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?em(e):e,{state:t,key:e&&e.key||r||JI()})}function Y0(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function em(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function ZI(n,e,t,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,u=qu.Pop,h=null,f=g();f==null&&(f=0,c.replaceState(_g({},c.state,{idx:f}),""));function g(){return(c.state||{idx:null}).idx}function x(){u=qu.Pop;let j=g(),S=j==null?null:j-f;f=j,h&&h({action:u,location:E.location,delta:S})}function v(j,S){u=qu.Push;let L=P1(E.location,j,S);f=g()+1;let D=GN(L,f),O=E.createHref(L);try{c.pushState(D,"",O)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(O)}o&&h&&h({action:u,location:E.location,delta:1})}function b(j,S){u=qu.Replace;let L=P1(E.location,j,S);f=g();let D=GN(L,f),O=E.createHref(L);c.replaceState(D,"",O),o&&h&&h({action:u,location:E.location,delta:0})}function T(j){let S=a.location.origin!=="null"?a.location.origin:a.location.href,L=typeof j=="string"?j:Y0(j);return L=L.replace(/ $/,"%20"),_s(S,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,S)}let E={get action(){return u},get location(){return n(a,c)},listen(j){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(qN,x),h=j,()=>{a.removeEventListener(qN,x),h=null}},createHref(j){return e(a,j)},createURL:T,encodeLocation(j){let S=T(j);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:b,go(j){return c.go(j)}};return E}var HN;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(HN||(HN={}));function e8(n,e,t){return t===void 0&&(t="/"),t8(n,e,t)}function t8(n,e,t,r){let a=typeof e=="string"?em(e):e,o=B2(a.pathname||"/",t);if(o==null)return null;let c=$6(n);n8(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let f=m8(o);u=d8(c[h],f)}return u}function $6(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let a=(o,c,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(_s(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let f=$u([r,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(_s(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),$6(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:c8(f,o.index),routesMeta:g})};return n.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,c);else for(let h of W6(o.path))a(o,c,h)}),e}function W6(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=W6(r.join("/")),u=[];return u.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&u.push(...c),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function n8(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:u8(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const r8=/^:[\w-]+$/,s8=3,a8=2,i8=1,o8=10,l8=-2,$N=n=>n==="*";function c8(n,e){let t=n.split("/"),r=t.length;return t.some($N)&&(r+=l8),e&&(r+=a8),t.filter(a=>!$N(a)).reduce((a,o)=>a+(r8.test(o)?s8:o===""?i8:o8),r)}function u8(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function d8(n,e,t){let{routesMeta:r}=n,a={},o="/",c=[];for(let u=0;u<r.length;++u){let h=r[u],f=u===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",x=h8({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),v=h.route;if(!x)return null;Object.assign(a,x.params),c.push({params:a,pathname:$u([o,x.pathname]),pathnameBase:b8($u([o,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(o=$u([o,x.pathnameBase]))}return c}function h8(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=f8(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((f,g,x)=>{let{paramName:v,isOptional:b}=g;if(v==="*"){let E=u[x]||"";c=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const T=u[x];return b&&!T?f[v]=void 0:f[v]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:n}}function f8(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),V2(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function m8(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return V2(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function B2(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const g8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p8=n=>g8.test(n);function x8(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?em(n):n,o;if(t)if(p8(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),V2(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+t))}t.startsWith("/")?o=WN(t.substring(1),"/"):o=WN(t,e)}else o=e;return{pathname:o,search:v8(r),hash:w8(a)}}function WN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Bb(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y8(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function z2(n,e){let t=y8(n);return e?t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function q2(n,e,t,r){r===void 0&&(r=!1);let a;typeof n=="string"?a=em(n):(a=_g({},n),_s(!a.pathname||!a.pathname.includes("?"),Bb("?","pathname","search",a)),_s(!a.pathname||!a.pathname.includes("#"),Bb("#","pathname","hash",a)),_s(!a.search||!a.search.includes("#"),Bb("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,u;if(c==null)u=t;else{let x=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),x-=1;a.pathname=v.join("/")}u=x>=0?e[x]:"/"}let h=x8(a,u),f=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}const $u=n=>n.join("/").replace(/\/\/+/g,"/"),b8=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),v8=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,w8=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function N8(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const K6=["post","put","patch","delete"];new Set(K6);const j8=["get",...K6];new Set(j8);function Sg(){return Sg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Sg.apply(this,arguments)}const G2=W.createContext(null),_8=W.createContext(null),od=W.createContext(null),Dx=W.createContext(null),rc=W.createContext({outlet:null,matches:[],isDataRoute:!1}),Y6=W.createContext(null);function S8(n,e){let{relative:t}=e===void 0?{}:e;tm()||_s(!1);let{basename:r,navigator:a}=W.useContext(od),{hash:o,pathname:c,search:u}=Q6(n,{relative:t}),h=c;return r!=="/"&&(h=c==="/"?r:$u([r,c])),a.createHref({pathname:h,search:u,hash:o})}function tm(){return W.useContext(Dx)!=null}function ld(){return tm()||_s(!1),W.useContext(Dx).location}function X6(n){W.useContext(od).static||W.useLayoutEffect(n)}function Ar(){let{isDataRoute:n}=W.useContext(rc);return n?V8():E8()}function E8(){tm()||_s(!1);let n=W.useContext(G2),{basename:e,future:t,navigator:r}=W.useContext(od),{matches:a}=W.useContext(rc),{pathname:o}=ld(),c=JSON.stringify(z2(a,t.v7_relativeSplatPath)),u=W.useRef(!1);return X6(()=>{u.current=!0}),W.useCallback(function(f,g){if(g===void 0&&(g={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let x=q2(f,JSON.parse(c),o,g.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:$u([e,x.pathname])),(g.replace?r.replace:r.push)(x,g.state,g)},[e,r,c,o,n])}const A8=W.createContext(null);function T8(n){let e=W.useContext(rc).outlet;return e&&W.createElement(A8.Provider,{value:n},e)}function pl(){let{matches:n}=W.useContext(rc),e=n[n.length-1];return e?e.params:{}}function Q6(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=W.useContext(od),{matches:a}=W.useContext(rc),{pathname:o}=ld(),c=JSON.stringify(z2(a,r.v7_relativeSplatPath));return W.useMemo(()=>q2(n,JSON.parse(c),o,t==="path"),[n,c,o,t])}function C8(n,e){return I8(n,e)}function I8(n,e,t,r){tm()||_s(!1);let{navigator:a}=W.useContext(od),{matches:o}=W.useContext(rc),c=o[o.length-1],u=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let f=ld(),g;if(e){var x;let j=typeof e=="string"?em(e):e;h==="/"||(x=j.pathname)!=null&&x.startsWith(h)||_s(!1),g=j}else g=f;let v=g.pathname||"/",b=v;if(h!=="/"){let j=h.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let T=e8(n,{pathname:b}),E=D8(T&&T.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:$u([h,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?h:$u([h,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,t,r);return e&&E?W.createElement(Dx.Provider,{value:{location:Sg({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:qu.Pop}},E):E}function R8(){let n=U8(),e=N8(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:a},t):null,null)}const k8=W.createElement(R8,null);class P8 extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?W.createElement(rc.Provider,{value:this.props.routeContext},W.createElement(Y6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function L8(n){let{routeContext:e,match:t,children:r}=n,a=W.useContext(G2);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),W.createElement(rc.Provider,{value:e},r)}function D8(n,e,t,r){var a;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var o;if(!t)return null;if(t.errors)n=t.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,u=(a=t)==null?void 0:a.errors;if(u!=null){let g=c.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);g>=0||_s(!1),c=c.slice(0,Math.min(c.length,g+1))}let h=!1,f=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<c.length;g++){let x=c[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=g),x.route.id){let{loaderData:v,errors:b}=t,T=x.route.loader&&v[x.route.id]===void 0&&(!b||b[x.route.id]===void 0);if(x.route.lazy||T){h=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((g,x,v)=>{let b,T=!1,E=null,j=null;t&&(b=u&&x.route.id?u[x.route.id]:void 0,E=x.route.errorElement||k8,h&&(f<0&&v===0?(B8("route-fallback"),T=!0,j=null):f===v&&(T=!0,j=x.route.hydrateFallbackElement||null)));let S=e.concat(c.slice(0,v+1)),L=()=>{let D;return b?D=E:T?D=j:x.route.Component?D=W.createElement(x.route.Component,null):x.route.element?D=x.route.element:D=g,W.createElement(L8,{match:x,routeContext:{outlet:g,matches:S,isDataRoute:t!=null},children:D})};return t&&(x.route.ErrorBoundary||x.route.errorElement||v===0)?W.createElement(P8,{location:t.location,revalidation:t.revalidation,component:E,error:b,children:L(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):L()},null)}var J6=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(J6||{}),Z6=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(Z6||{});function M8(n){let e=W.useContext(G2);return e||_s(!1),e}function O8(n){let e=W.useContext(_8);return e||_s(!1),e}function F8(n){let e=W.useContext(rc);return e||_s(!1),e}function e3(n){let e=F8(),t=e.matches[e.matches.length-1];return t.route.id||_s(!1),t.route.id}function U8(){var n;let e=W.useContext(Y6),t=O8(),r=e3();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function V8(){let{router:n}=M8(J6.UseNavigateStable),e=e3(Z6.UseNavigateStable),t=W.useRef(!1);return X6(()=>{t.current=!0}),W.useCallback(function(a,o){o===void 0&&(o={}),t.current&&(typeof a=="number"?n.navigate(a):n.navigate(a,Sg({fromRouteId:e},o)))},[n,e])}const KN={};function B8(n,e,t){KN[n]||(KN[n]=!0)}function z8(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function H2(n){let{to:e,replace:t,state:r,relative:a}=n;tm()||_s(!1);let{future:o,static:c}=W.useContext(od),{matches:u}=W.useContext(rc),{pathname:h}=ld(),f=Ar(),g=q2(e,z2(u,o.v7_relativeSplatPath),h,a==="path"),x=JSON.stringify(g);return W.useEffect(()=>f(JSON.parse(x),{replace:t,state:r,relative:a}),[f,x,a,t,r]),null}function t3(n){return T8(n.context)}function Dt(n){_s(!1)}function q8(n){let{basename:e="/",children:t=null,location:r,navigationType:a=qu.Pop,navigator:o,static:c=!1,future:u}=n;tm()&&_s(!1);let h=e.replace(/^\/*/,"/"),f=W.useMemo(()=>({basename:h,navigator:o,static:c,future:Sg({v7_relativeSplatPath:!1},u)}),[h,u,o,c]);typeof r=="string"&&(r=em(r));let{pathname:g="/",search:x="",hash:v="",state:b=null,key:T="default"}=r,E=W.useMemo(()=>{let j=B2(g,h);return j==null?null:{location:{pathname:j,search:x,hash:v,state:b,key:T},navigationType:a}},[h,g,x,v,b,T,a]);return E==null?null:W.createElement(od.Provider,{value:f},W.createElement(Dx.Provider,{children:t,value:E}))}function G8(n){let{children:e,location:t}=n;return C8(L1(e),t)}new Promise(()=>{});function L1(n,e){e===void 0&&(e=[]);let t=[];return W.Children.forEach(n,(r,a)=>{if(!W.isValidElement(r))return;let o=[...e,a];if(r.type===W.Fragment){t.push.apply(t,L1(r.props.children,o));return}r.type!==Dt&&_s(!1),!r.props.index||!r.props.children||_s(!1);let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=L1(r.props.children,o)),t.push(c)}),t}function D1(){return D1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},D1.apply(this,arguments)}function H8(n,e){if(n==null)return{};var t={},r=Object.keys(n),a,o;for(o=0;o<r.length;o++)a=r[o],!(e.indexOf(a)>=0)&&(t[a]=n[a]);return t}function $8(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function W8(n,e){return n.button===0&&(!e||e==="_self")&&!$8(n)}const K8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Y8="6";try{window.__reactRouterVersion=Y8}catch{}const X8="startTransition",YN=GI[X8];function Q8(n){let{basename:e,children:t,future:r,window:a}=n,o=W.useRef();o.current==null&&(o.current=QI({window:a,v5Compat:!0}));let c=o.current,[u,h]=W.useState({action:c.action,location:c.location}),{v7_startTransition:f}=r||{},g=W.useCallback(x=>{f&&YN?YN(()=>h(x)):h(x)},[h,f]);return W.useLayoutEffect(()=>c.listen(g),[c,g]),W.useEffect(()=>z8(r),[r]),W.createElement(q8,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:c,future:r})}const J8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_n=W.forwardRef(function(e,t){let{onClick:r,relative:a,reloadDocument:o,replace:c,state:u,target:h,to:f,preventScrollReset:g,viewTransition:x}=e,v=H8(e,K8),{basename:b}=W.useContext(od),T,E=!1;if(typeof f=="string"&&Z8.test(f)&&(T=f,J8))try{let D=new URL(window.location.href),O=f.startsWith("//")?new URL(D.protocol+f):new URL(f),te=B2(O.pathname,b);O.origin===D.origin&&te!=null?f=te+O.search+O.hash:E=!0}catch{}let j=S8(f,{relative:a}),S=eR(f,{replace:c,state:u,target:h,preventScrollReset:g,relative:a,viewTransition:x});function L(D){r&&r(D),D.defaultPrevented||S(D)}return W.createElement("a",D1({},v,{href:T||j,onClick:E||o?r:L,ref:t,target:h}))});var XN;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(XN||(XN={}));var QN;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(QN||(QN={}));function eR(n,e){let{target:t,replace:r,state:a,preventScrollReset:o,relative:c,viewTransition:u}=e===void 0?{}:e,h=Ar(),f=ld(),g=Q6(n,{relative:c});return W.useCallback(x=>{if(W8(x,t)){x.preventDefault();let v=r!==void 0?r:Y0(f)===Y0(g);h(n,{replace:v,state:a,preventScrollReset:o,relative:c,viewTransition:u})}},[f,h,g,r,a,t,n,o,c,u])}const tR={en:{nav:{home:"Home",about:"About Village",panchayat:"Gram Panchayat",services:"Services",schemes:"Schemes",downloads:"Forms & Downloads",education:"Education & Anganwadi",gallery:"Gallery",financials:"Financials",notices:"Notices & Tenders",contact:"Contact"},home:{welcomeTitle:"Welcome to",knowMore:"Know More",quickInfo:"Quick Information",phone:"Phone",email:"Email",address:"Address",timings:"Office Timings",quickLinks:"Quick Links",payPropertyTax:"Pay Property Tax",payWaterTax:"Pay Water Tax",viewSchemes:"View Schemes",downloadForms:"Download Forms",latestNotices:"Latest Notices",viewAllNotices:"View All Notices",highlights:"Highlights",members:"Gram Panchayat Members",popularSchemes:"Popular Schemes",importantServices:"Important Services",recentPrograms:"Recent Programs & Events",viewAllPrograms:"View All Programs"},common:{learnMore:"Learn More",readMore:"Read More",viewDetails:"View Details",download:"Download",submit:"Submit",cancel:"Cancel",search:"Search",filter:"Filter",all:"All",active:"Active",closed:"Closed",upcoming:"Upcoming",loading:"Loading...",noResults:"No results found"},footer:{contactUs:"Contact Us",quickLinks:"Quick Links",importantLinks:"Important Links",followUs:"Follow Us",copyright:"All rights reserved"}},mr:{nav:{home:"",about:"",panchayat:"",services:"",schemes:"",downloads:"  ",education:"  ",gallery:"",financials:" ",notices:"  ",contact:""},home:{welcomeTitle:"  ",knowMore:" ",quickInfo:" ",phone:"",email:"",address:"",timings:" ",quickLinks:" ",payPropertyTax:"  ",payWaterTax:"  ",viewSchemes:" ",downloadForms:"  ",latestNotices:" ",viewAllNotices:"  ",highlights:" ",members:" ",popularSchemes:" ",importantServices:" ",recentPrograms:" ",viewAllPrograms:"  "},common:{learnMore:"  ",readMore:" ",viewDetails:" ",download:"",submit:" ",cancel:" ",search:"",filter:"",all:"",active:"",closed:"",upcoming:"",loading:"  ...",noResults:"   "},footer:{contactUs:"  ",quickLinks:" ",importantLinks:" ",followUs:"  ",copyright:"  "}}},n3=W.createContext(),fs=()=>{const n=W.useContext(n3);if(!n)throw new Error("useLanguage must be used within a LanguageProvider");return n},nR=({children:n})=>{const[e,t]=W.useState(()=>localStorage.getItem("language")||"mr");W.useEffect(()=>{localStorage.setItem("language",e),document.documentElement.lang=e},[e]);const c={language:e,setLanguage:t,toggleLanguage:()=>{t(u=>u==="en"?"mr":"en")},t:u=>{const h=u.split(".");let f=tR[e];for(const g of h)f=f?.[g];return f||u},getContent:u=>u?typeof u=="string"?u:u[e]||u.en||u.mr||"":""};return s.jsx(n3.Provider,{value:c,children:n})},rR=()=>{};var JN={};const r3=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},sR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],u=n[t++],h=((a&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},s3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,u=c?n[a+1]:0,h=a+2<n.length,f=h?n[a+2]:0,g=o>>2,x=(o&3)<<4|u>>4;let v=(u&15)<<2|f>>6,b=f&63;h||(b=64,c||(v=64)),r.push(t[g],t[x],t[v],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(r3(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):sR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],u=a<n.length?t[n.charAt(a)]:0;++a;const f=a<n.length?t[n.charAt(a)]:64;++a;const x=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||u==null||f==null||x==null)throw new aR;const v=o<<2|u>>4;if(r.push(v),f!==64){const b=u<<4&240|f>>2;if(r.push(b),x!==64){const T=f<<6&192|x;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class aR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iR=function(n){const e=r3(n);return s3.encodeByteArray(e,!0)},X0=function(n){return iR(n).replace(/\./g,"")},a3=function(n){try{return s3.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function i3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oR=()=>i3().__FIREBASE_DEFAULTS__,lR=()=>{if(typeof process>"u"||typeof JN>"u")return;const n=JN.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&a3(n[1]);return e&&JSON.parse(e)},Mx=()=>{try{return rR()||oR()||lR()||cR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},o3=n=>Mx()?.emulatorHosts?.[n],l3=n=>{const e=o3(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},c3=()=>Mx()?.config,u3=n=>Mx()?.[`_${n}`];class uR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function cd(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $2(n){return(await fetch(n,{credentials:"include"})).ok}function d3(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[X0(JSON.stringify(t)),X0(JSON.stringify(c)),""].join(".")}const lg={};function dR(){const n={prod:[],emulator:[]};for(const e of Object.keys(lg))lg[e]?n.emulator.push(e):n.prod.push(e);return n}function hR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let ZN=!1;function W2(n,e){if(typeof window>"u"||typeof document>"u"||!cd(window.location.host)||lg[n]===e||lg[n]||ZN)return;lg[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=dR().prod.length>0;function c(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{ZN=!0,c()},v}function g(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function x(){const v=hR(r),b=t("text"),T=document.getElementById(b)||document.createElement("span"),E=t("learnmore"),j=document.getElementById(E)||document.createElement("a"),S=t("preprendIcon"),L=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const D=v.element;u(D),g(j,E);const O=f();h(L,S),D.append(L,T,j,O),document.body.appendChild(D)}o?(T.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function ra(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ra())}function h3(){const n=Mx()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xR(){const n=ra();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function f3(){return!h3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m3(){return!h3()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function g3(){try{return typeof indexedDB=="object"}catch{return!1}}function yR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const bR="FirebaseError";class sc extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=bR,Object.setPrototypeOf(this,sc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hg.prototype.create)}}class Hg{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?vR(o,r):"Error",u=`${this.serviceName}: ${c} (${a}).`;return new sc(a,u,r)}}function vR(n,e){return n.replace(wR,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const wR=/\{\$([^}]+)}/g;function NR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Xd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],c=e[a];if(ej(o)&&ej(c)){if(!Xd(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function ej(n){return n!==null&&typeof n=="object"}function $g(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tg(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function ng(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function jR(n,e){const t=new _R(n,e);return t.subscribe.bind(t)}class _R{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");SR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=zb),a.error===void 0&&(a.error=zb),a.complete===void 0&&(a.complete=zb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zb(){}function Cr(n){return n&&n._delegate?n._delegate:n}class Zu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const kd="[DEFAULT]";class ER{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new uR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TR(e))try{this.getOrInitializeService({instanceIdentifier:kd})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=kd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kd){return this.instances.has(e)}getOptions(e=kd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kd){return this.component?this.component.multipleInstances?e:kd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AR(n){return n===kd?void 0:n}function TR(n){return n.instantiationMode==="EAGER"}class CR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ER(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ln;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ln||(Ln={}));const IR={debug:Ln.DEBUG,verbose:Ln.VERBOSE,info:Ln.INFO,warn:Ln.WARN,error:Ln.ERROR,silent:Ln.SILENT},RR=Ln.INFO,kR={[Ln.DEBUG]:"log",[Ln.VERBOSE]:"log",[Ln.INFO]:"info",[Ln.WARN]:"warn",[Ln.ERROR]:"error"},PR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=kR[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K2{constructor(e){this.name=e,this._logLevel=RR,this._logHandler=PR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ln))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ln.DEBUG,...e),this._logHandler(this,Ln.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ln.VERBOSE,...e),this._logHandler(this,Ln.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ln.INFO,...e),this._logHandler(this,Ln.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ln.WARN,...e),this._logHandler(this,Ln.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ln.ERROR,...e),this._logHandler(this,Ln.ERROR,...e)}}const LR=(n,e)=>e.some(t=>n instanceof t);let tj,nj;function DR(){return tj||(tj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MR(){return nj||(nj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p3=new WeakMap,M1=new WeakMap,x3=new WeakMap,qb=new WeakMap,Y2=new WeakMap;function OR(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Wu(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&p3.set(t,n)}).catch(()=>{}),Y2.set(e,n),e}function FR(n){if(M1.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});M1.set(n,e)}let O1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return M1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||x3.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function UR(n){O1=n(O1)}function VR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Gb(this),e,...t);return x3.set(r,e.sort?e.sort():[e]),Wu(r)}:MR().includes(n)?function(...e){return n.apply(Gb(this),e),Wu(p3.get(this))}:function(...e){return Wu(n.apply(Gb(this),e))}}function BR(n){return typeof n=="function"?VR(n):(n instanceof IDBTransaction&&FR(n),LR(n,DR())?new Proxy(n,O1):n)}function Wu(n){if(n instanceof IDBRequest)return OR(n);if(qb.has(n))return qb.get(n);const e=BR(n);return e!==n&&(qb.set(n,e),Y2.set(e,n)),e}const Gb=n=>Y2.get(n);function zR(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),u=Wu(c);return r&&c.addEventListener("upgradeneeded",h=>{r(Wu(c.result),h.oldVersion,h.newVersion,Wu(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const qR=["get","getKey","getAll","getAllKeys","count"],GR=["put","add","delete","clear"],Hb=new Map;function rj(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Hb.get(e))return Hb.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=GR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||qR.includes(t)))return;const o=async function(c,...u){const h=this.transaction(c,a?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),a&&h.done]))[0]};return Hb.set(e,o),o}UR(n=>({...n,get:(e,t,r)=>rj(e,t)||n.get(e,t,r),has:(e,t)=>!!rj(e,t)||n.has(e,t)}));class HR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($R(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function $R(n){return n.getComponent()?.type==="VERSION"}const F1="@firebase/app",sj="0.14.6";const $c=new K2("@firebase/app"),WR="@firebase/app-compat",KR="@firebase/analytics-compat",YR="@firebase/analytics",XR="@firebase/app-check-compat",QR="@firebase/app-check",JR="@firebase/auth",ZR="@firebase/auth-compat",ek="@firebase/database",tk="@firebase/data-connect",nk="@firebase/database-compat",rk="@firebase/functions",sk="@firebase/functions-compat",ak="@firebase/installations",ik="@firebase/installations-compat",ok="@firebase/messaging",lk="@firebase/messaging-compat",ck="@firebase/performance",uk="@firebase/performance-compat",dk="@firebase/remote-config",hk="@firebase/remote-config-compat",fk="@firebase/storage",mk="@firebase/storage-compat",gk="@firebase/firestore",pk="@firebase/ai",xk="@firebase/firestore-compat",yk="firebase",bk="12.6.0";const U1="[DEFAULT]",vk={[F1]:"fire-core",[WR]:"fire-core-compat",[YR]:"fire-analytics",[KR]:"fire-analytics-compat",[QR]:"fire-app-check",[XR]:"fire-app-check-compat",[JR]:"fire-auth",[ZR]:"fire-auth-compat",[ek]:"fire-rtdb",[tk]:"fire-data-connect",[nk]:"fire-rtdb-compat",[rk]:"fire-fn",[sk]:"fire-fn-compat",[ak]:"fire-iid",[ik]:"fire-iid-compat",[ok]:"fire-fcm",[lk]:"fire-fcm-compat",[ck]:"fire-perf",[uk]:"fire-perf-compat",[dk]:"fire-rc",[hk]:"fire-rc-compat",[fk]:"fire-gcs",[mk]:"fire-gcs-compat",[gk]:"fire-fst",[xk]:"fire-fst-compat",[pk]:"fire-vertex","fire-js":"fire-js",[yk]:"fire-js-all"};const Q0=new Map,wk=new Map,V1=new Map;function aj(n,e){try{n.container.addComponent(e)}catch(t){$c.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Qd(n){const e=n.name;if(V1.has(e))return $c.debug(`There were multiple attempts to register component ${e}.`),!1;V1.set(e,n);for(const t of Q0.values())aj(t,n);for(const t of wk.values())aj(t,n);return!0}function Ox(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function oo(n){return n==null?!1:n.settings!==void 0}const Nk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ku=new Hg("app","Firebase",Nk);class jk{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ku.create("app-deleted",{appName:this._name})}}const fh=bk;function y3(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:U1,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Ku.create("bad-app-name",{appName:String(a)});if(t||(t=c3()),!t)throw Ku.create("no-options");const o=Q0.get(a);if(o){if(Xd(t,o.options)&&Xd(r,o.config))return o;throw Ku.create("duplicate-app",{appName:a})}const c=new CR(a);for(const h of V1.values())c.addComponent(h);const u=new jk(t,r,c);return Q0.set(a,u),u}function X2(n=U1){const e=Q0.get(n);if(!e&&n===U1&&c3())return y3();if(!e)throw Ku.create("no-app",{appName:n});return e}function Yl(n,e,t){let r=vk[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$c.warn(c.join(" "));return}Qd(new Zu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const _k="firebase-heartbeat-database",Sk=1,Eg="firebase-heartbeat-store";let $b=null;function b3(){return $b||($b=zR(_k,Sk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Eg)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ku.create("idb-open",{originalErrorMessage:n.message})})),$b}async function Ek(n){try{const t=(await b3()).transaction(Eg),r=await t.objectStore(Eg).get(v3(n));return await t.done,r}catch(e){if(e instanceof sc)$c.warn(e.message);else{const t=Ku.create("idb-get",{originalErrorMessage:e?.message});$c.warn(t.message)}}}async function ij(n,e){try{const r=(await b3()).transaction(Eg,"readwrite");await r.objectStore(Eg).put(e,v3(n)),await r.done}catch(t){if(t instanceof sc)$c.warn(t.message);else{const r=Ku.create("idb-set",{originalErrorMessage:t?.message});$c.warn(r.message)}}}function v3(n){return`${n.name}!${n.options.appId}`}const Ak=1024,Tk=30;class Ck{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Rk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=oj();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>Tk){const a=kk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$c.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=oj(),{heartbeatsToSend:t,unsentEntries:r}=Ik(this._heartbeatsCache.heartbeats),a=X0(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return $c.warn(e),""}}}function oj(){return new Date().toISOString().substring(0,10)}function Ik(n,e=Ak){const t=[];let r=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),lj(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),lj(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Rk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g3()?yR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Ek(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ij(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ij(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lj(n){return X0(JSON.stringify({version:2,heartbeats:n})).length}function kk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Pk(n){Qd(new Zu("platform-logger",e=>new HR(e),"PRIVATE")),Qd(new Zu("heartbeat",e=>new Ck(e),"PRIVATE")),Yl(F1,sj,n),Yl(F1,sj,"esm2020"),Yl("fire-js","")}Pk("");function w3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lk=w3,N3=new Hg("auth","Firebase",w3());const J0=new K2("@firebase/auth");function Dk(n,...e){J0.logLevel<=Ln.WARN&&J0.warn(`Auth (${fh}): ${n}`,...e)}function A0(n,...e){J0.logLevel<=Ln.ERROR&&J0.error(`Auth (${fh}): ${n}`,...e)}function fl(n,...e){throw Q2(n,...e)}function Xl(n,...e){return Q2(n,...e)}function j3(n,e,t){const r={...Lk(),[e]:t};return new Hg("auth","Firebase",r).create(e,{appName:n.name})}function Gc(n){return j3(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Q2(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return N3.create(n,...e)}function Jt(n,e,...t){if(!n)throw Q2(e,...t)}function Vc(n){const e="INTERNAL ASSERTION FAILED: "+n;throw A0(e),new Error(e)}function Wc(n,e){n||Vc(e)}function B1(){return typeof self<"u"&&self.location?.href||""}function Mk(){return cj()==="http:"||cj()==="https:"}function cj(){return typeof self<"u"&&self.location?.protocol||null}function Ok(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mk()||gR()||"connection"in navigator)?navigator.onLine:!0}function Fk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Wg{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wc(t>e,"Short delay should be less than long delay!"),this.isMobile=fR()||pR()}get(){return Ok()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function J2(n,e){Wc(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class _3{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Uk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Vk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bk=new Wg(3e4,6e4);function Qc(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Jc(n,e,t,r,a={}){return S3(n,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const u=$g({key:n.config.apiKey,...c}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:h,...o};return mR()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&cd(n.emulatorConfig.host)&&(f.credentials="include"),_3.fetch()(await E3(n,n.config.apiHost,t,u),f)})}async function S3(n,e,t){n._canInitEmulator=!1;const r={...Uk,...e};try{const a=new qk(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw i0(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw i0(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw i0(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw i0(n,"user-disabled",c);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw j3(n,g,f);fl(n,g)}}catch(a){if(a instanceof sc)throw a;fl(n,"network-request-failed",{message:String(a)})}}async function Kg(n,e,t,r,a={}){const o=await Jc(n,e,t,r,a);return"mfaPendingCredential"in o&&fl(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function E3(n,e,t,r){const a=`${e}${t}?${r}`,o=n,c=o.config.emulator?J2(n.config,a):`${n.config.apiScheme}://${a}`;return Vk.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function zk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Xl(this.auth,"network-request-failed")),Bk.get())})}}function i0(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Xl(n,e,r);return a.customData._tokenResponse=t,a}function uj(n){return n!==void 0&&n.enterprise!==void 0}class Gk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Hk(n,e){return Jc(n,"GET","/v2/recaptchaConfig",Qc(n,e))}async function $k(n,e){return Jc(n,"POST","/v1/accounts:delete",e)}async function Z0(n,e){return Jc(n,"POST","/v1/accounts:lookup",e)}function cg(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Wk(n,e=!1){const t=Cr(n),r=await t.getIdToken(e),a=Z2(r);Jt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:r,authTime:cg(Wb(a.auth_time)),issuedAtTime:cg(Wb(a.iat)),expirationTime:cg(Wb(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Wb(n){return Number(n)*1e3}function Z2(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return A0("JWT malformed, contained fewer than 3 sections"),null;try{const a=a3(t);return a?JSON.parse(a):(A0("Failed to decode base64 JWT payload"),null)}catch(a){return A0("Caught error parsing JWT payload as JSON",a?.toString()),null}}function dj(n){const e=Z2(n);return Jt(e,"internal-error"),Jt(typeof e.exp<"u","internal-error"),Jt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ag(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof sc&&Kk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Kk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class Yk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class z1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cg(this.lastLoginAt),this.creationTime=cg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ex(n){const e=n.auth,t=await n.getIdToken(),r=await Ag(n,Z0(e,{idToken:t}));Jt(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?A3(a.providerUserInfo):[],c=Qk(n.providerData,o),u=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!c?.length,f=u?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new z1(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function Xk(n){const e=Cr(n);await ex(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qk(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function A3(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function Jk(n,e){const t=await S3(n,{},async()=>{const r=$g({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await E3(n,a,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return n.emulatorConfig&&cd(n.emulatorConfig.host)&&(h.credentials="include"),_3.fetch()(c,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Zk(n,e){return Jc(n,"POST","/v2/accounts:revokeToken",Qc(n,e))}class _f{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Jt(e.idToken,"internal-error"),Jt(typeof e.idToken<"u","internal-error"),Jt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Jt(e.length!==0,"internal-error");const t=dj(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Jt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await Jk(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,c=new _f;return r&&(Jt(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Jt(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Jt(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _f,this.toJSON())}_performRefresh(){return Vc("not implemented")}}function Ru(n,e){Jt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class dl{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new Yk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new z1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ag(this,this.stsTokenManager.getToken(this.auth,e));return Jt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Wk(this,e)}reload(){return Xk(this)}_assign(e){this!==e&&(Jt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new dl({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ex(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oo(this.auth.app))return Promise.reject(Gc(this.auth));const e=await this.getIdToken();return await Ag(this,$k(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,u=t.tenantId??void 0,h=t._redirectEventId??void 0,f=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:x,emailVerified:v,isAnonymous:b,providerData:T,stsTokenManager:E}=t;Jt(x&&E,e,"internal-error");const j=_f.fromJSON(this.name,E);Jt(typeof x=="string",e,"internal-error"),Ru(r,e.name),Ru(a,e.name),Jt(typeof v=="boolean",e,"internal-error"),Jt(typeof b=="boolean",e,"internal-error"),Ru(o,e.name),Ru(c,e.name),Ru(u,e.name),Ru(h,e.name),Ru(f,e.name),Ru(g,e.name);const S=new dl({uid:x,auth:e,email:a,emailVerified:v,displayName:r,isAnonymous:b,photoURL:c,phoneNumber:o,tenantId:u,stsTokenManager:j,createdAt:f,lastLoginAt:g});return T&&Array.isArray(T)&&(S.providerData=T.map(L=>({...L}))),h&&(S._redirectEventId=h),S}static async _fromIdTokenResponse(e,t,r=!1){const a=new _f;a.updateFromServerResponse(t);const o=new dl({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await ex(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Jt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?A3(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,u=new _f;u.updateFromIdToken(r);const h=new dl({uid:a.localId,auth:e,stsTokenManager:u,isAnonymous:c}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new z1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(h,f),h}}const hj=new Map;function Bc(n){Wc(n instanceof Function,"Expected a class definition");let e=hj.get(n);return e?(Wc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,hj.set(n,e),e)}class T3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}T3.type="NONE";const fj=T3;function T0(n,e,t){return`firebase:${n}:${e}:${t}`}class Sf{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=T0(this.userKey,a.apiKey,o),this.fullPersistenceKey=T0("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Z0(this.auth,{idToken:e}).catch(()=>{});return t?dl._fromGetAccountInfoResponse(this.auth,t,e):null}return dl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Sf(Bc(fj),e,r);const a=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=a[0]||Bc(fj);const c=T0(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const g=await f._get(c);if(g){let x;if(typeof g=="string"){const v=await Z0(e,{idToken:g}).catch(()=>{});if(!v)break;x=await dl._fromGetAccountInfoResponse(e,v,g)}else x=dl._fromJSON(e,g);f!==o&&(u=x),o=f;break}}catch{}const h=a.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Sf(o,e,r):(o=h[0],u&&await o._set(c,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(c)}catch{}})),new Sf(o,e,r))}}function mj(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L3(e))return"Blackberry";if(D3(e))return"Webos";if(I3(e))return"Safari";if((e.includes("chrome/")||R3(e))&&!e.includes("edge/"))return"Chrome";if(P3(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function C3(n=ra()){return/firefox\//i.test(n)}function I3(n=ra()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R3(n=ra()){return/crios\//i.test(n)}function k3(n=ra()){return/iemobile/i.test(n)}function P3(n=ra()){return/android/i.test(n)}function L3(n=ra()){return/blackberry/i.test(n)}function D3(n=ra()){return/webos/i.test(n)}function ev(n=ra()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function eP(n=ra()){return ev(n)&&!!window.navigator?.standalone}function tP(){return xR()&&document.documentMode===10}function M3(n=ra()){return ev(n)||P3(n)||D3(n)||L3(n)||/windows phone/i.test(n)||k3(n)}function O3(n,e=[]){let t;switch(n){case"Browser":t=mj(ra());break;case"Worker":t=`${mj(ra())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fh}/${r}`}class nP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,u)=>{try{const h=e(o);c(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function rP(n,e={}){return Jc(n,"GET","/v2/passwordPolicy",Qc(n,e))}const sP=6;class aP{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??sP,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class iP{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gj(this),this.idTokenSubscription=new gj(this),this.beforeStateQueue=new nP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Bc(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Sf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Z0(this,{idToken:e}),r=await dl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(oo(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(r=u.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ex(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Fk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oo(this.app))return Promise.reject(Gc(this));const t=e?Cr(e):null;return t&&Jt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Jt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oo(this.app)?Promise.reject(Gc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oo(this.app)?Promise.reject(Gc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rP(this),t=new aP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hg("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Zk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Bc(e)||this._popupRedirectResolver;Jt(t,this,"argument-error"),this.redirectPersistenceManager=await Sf.create(this,[Bc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Jt(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(oo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Dk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ud(n){return Cr(n)}class gj{constructor(e){this.auth=e,this.observer=null,this.addObserver=jR(t=>this.observer=t)}get next(){return Jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oP(n){Fx=n}function F3(n){return Fx.loadJS(n)}function lP(){return Fx.recaptchaEnterpriseScript}function cP(){return Fx.gapiScript}function uP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class dP{constructor(){this.enterprise=new hP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class hP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const fP="recaptcha-enterprise",U3="NO_RECAPTCHA";class mP{constructor(e){this.type=fP,this.auth=ud(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,u)=>{Hk(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new Gk(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,c(f.siteKey)}}).catch(h=>{u(h)})})}function a(o,c,u){const h=window.grecaptcha;uj(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c(U3)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dP().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(u=>{if(!t&&uj(window.grecaptcha))a(u,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=lP();h.length!==0&&(h+=u),F3(h).then(()=>{a(u,o,c)}).catch(f=>{c(f)})}}).catch(u=>{c(u)})})}}async function pj(n,e,t,r=!1,a=!1){const o=new mP(n);let c;if(a)c=U3;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function tx(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await pj(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await pj(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(o)})}function gP(n,e){const t=Ox(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Xd(o,e??{}))return a;fl(a,"already-initialized")}return t.initialize({options:e})}function pP(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Bc);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function xP(n,e,t){const r=ud(n);Jt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=V3(e),{host:c,port:u}=yP(e),h=u===null?"":`:${u}`,f={url:`${o}//${c}${h}/`},g=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Jt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Jt(Xd(f,r.config.emulator)&&Xd(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,cd(c)?($2(`${o}//${c}${h}`),W2("Auth",!0)):bP()}function V3(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yP(n){const e=V3(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:xj(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:xj(c)}}}function xj(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function bP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class tv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vc("not implemented")}_getIdTokenResponse(e){return Vc("not implemented")}_linkToIdToken(e,t){return Vc("not implemented")}_getReauthenticationResolver(e){return Vc("not implemented")}}async function vP(n,e){return Jc(n,"POST","/v1/accounts:signUp",e)}async function wP(n,e){return Kg(n,"POST","/v1/accounts:signInWithPassword",Qc(n,e))}async function NP(n,e){return Jc(n,"POST","/v1/accounts:sendOobCode",Qc(n,e))}async function jP(n,e){return NP(n,e)}async function _P(n,e){return Kg(n,"POST","/v1/accounts:signInWithEmailLink",Qc(n,e))}async function SP(n,e){return Kg(n,"POST","/v1/accounts:signInWithEmailLink",Qc(n,e))}class Tg extends tv{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Tg(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Tg(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tx(e,t,"signInWithPassword",wP);case"emailLink":return _P(e,{email:this._email,oobCode:this._password});default:fl(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tx(e,r,"signUpPassword",vP);case"emailLink":return SP(e,{idToken:t,email:this._email,oobCode:this._password});default:fl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ef(n,e){return Kg(n,"POST","/v1/accounts:signInWithIdp",Qc(n,e))}const EP="http://localhost";class Jd extends tv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Jd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=t;if(!r||!a)return null;const c=new Jd(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ef(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ef(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ef(e,t)}buildRequest(){const e={requestUri:EP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$g(t)}return e}}function AP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TP(n){const e=tg(ng(n)).link,t=e?tg(ng(e)).deep_link_id:null,r=tg(ng(n)).deep_link_id;return(r?tg(ng(r)).link:null)||r||t||e||n}class nv{constructor(e){const t=tg(ng(e)),r=t.apiKey??null,a=t.oobCode??null,o=AP(t.mode??null);Jt(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=TP(e);try{return new nv(t)}catch{return null}}}class nm{constructor(){this.providerId=nm.PROVIDER_ID}static credential(e,t){return Tg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=nv.parseLink(t);return Jt(r,"argument-error"),Tg._fromEmailAndCode(e,r.code,r.tenantId)}}nm.PROVIDER_ID="password";nm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class B3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Yg extends B3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ou extends Yg{constructor(){super("facebook.com")}static credential(e){return Jd._fromParams({providerId:Ou.PROVIDER_ID,signInMethod:Ou.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ou.credentialFromTaggedObject(e)}static credentialFromError(e){return Ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ou.credential(e.oauthAccessToken)}catch{return null}}}Ou.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ou.PROVIDER_ID="facebook.com";class Fu extends Yg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Jd._fromParams({providerId:Fu.PROVIDER_ID,signInMethod:Fu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fu.credentialFromTaggedObject(e)}static credentialFromError(e){return Fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Fu.credential(t,r)}catch{return null}}}Fu.GOOGLE_SIGN_IN_METHOD="google.com";Fu.PROVIDER_ID="google.com";class Uu extends Yg{constructor(){super("github.com")}static credential(e){return Jd._fromParams({providerId:Uu.PROVIDER_ID,signInMethod:Uu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uu.credentialFromTaggedObject(e)}static credentialFromError(e){return Uu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uu.credential(e.oauthAccessToken)}catch{return null}}}Uu.GITHUB_SIGN_IN_METHOD="github.com";Uu.PROVIDER_ID="github.com";class Vu extends Yg{constructor(){super("twitter.com")}static credential(e,t){return Jd._fromParams({providerId:Vu.PROVIDER_ID,signInMethod:Vu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Vu.credentialFromTaggedObject(e)}static credentialFromError(e){return Vu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Vu.credential(t,r)}catch{return null}}}Vu.TWITTER_SIGN_IN_METHOD="twitter.com";Vu.PROVIDER_ID="twitter.com";async function CP(n,e){return Kg(n,"POST","/v1/accounts:signUp",Qc(n,e))}class Zd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await dl._fromIdTokenResponse(e,r,a),c=yj(r);return new Zd({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=yj(r);return new Zd({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function yj(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class nx extends sc{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,nx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new nx(e,t,r,a)}}function z3(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?nx._fromErrorAndOperation(n,o,e,r):o})}async function IP(n,e,t=!1){const r=await Ag(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zd._forOperation(n,"link",r)}async function RP(n,e,t=!1){const{auth:r}=n;if(oo(r.app))return Promise.reject(Gc(r));const a="reauthenticate";try{const o=await Ag(n,z3(r,a,e,n),t);Jt(o.idToken,r,"internal-error");const c=Z2(o.idToken);Jt(c,r,"internal-error");const{sub:u}=c;return Jt(n.uid===u,r,"user-mismatch"),Zd._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&fl(r,"user-mismatch"),o}}async function q3(n,e,t=!1){if(oo(n.app))return Promise.reject(Gc(n));const r="signIn",a=await z3(n,r,e),o=await Zd._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function kP(n,e){return q3(ud(n),e)}async function G3(n){const e=ud(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function H3(n,e,t){const r=ud(n);await tx(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",jP)}async function PP(n,e,t){if(oo(n.app))return Promise.reject(Gc(n));const r=ud(n),c=await tx(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CP).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&G3(n),h}),u=await Zd._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(u.user),u}function $3(n,e,t){return oo(n.app)?Promise.reject(Gc(n)):kP(Cr(n),nm.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&G3(n),r})}function LP(n,e,t,r){return Cr(n).onIdTokenChanged(e,t,r)}function DP(n,e,t){return Cr(n).beforeAuthStateChanged(e,t)}function W3(n,e,t,r){return Cr(n).onAuthStateChanged(e,t,r)}function MP(n){return Cr(n).signOut()}const rx="__sak";class K3{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rx,"1"),this.storage.removeItem(rx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const OP=1e3,FP=10;class Y3 extends K3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,u,h)=>{this.notifyListeners(c,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);tP()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,FP):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},OP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y3.type="LOCAL";const UP=Y3;class X3 extends K3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}X3.type="SESSION";const Q3=X3;function VP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Ux{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Ux(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const u=Array.from(c).map(async f=>f(t.origin,o)),h=await VP(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ux.receivers=[];function rv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class BP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((u,h)=>{const f=rv("",20);a.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(x){const v=x;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ql(){return window}function zP(n){Ql().location.href=n}function J3(){return typeof Ql().WorkerGlobalScope<"u"&&typeof Ql().importScripts=="function"}async function qP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GP(){return navigator?.serviceWorker?.controller||null}function HP(){return J3()?self:null}const Z3="firebaseLocalStorageDb",$P=1,sx="firebaseLocalStorage",eS="fbase_key";class Xg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vx(n,e){return n.transaction([sx],e?"readwrite":"readonly").objectStore(sx)}function WP(){const n=indexedDB.deleteDatabase(Z3);return new Xg(n).toPromise()}function q1(){const n=indexedDB.open(Z3,$P);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(sx,{keyPath:eS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(sx)?e(r):(r.close(),await WP(),e(await q1()))})})}async function bj(n,e,t){const r=Vx(n,!0).put({[eS]:e,value:t});return new Xg(r).toPromise()}async function KP(n,e){const t=Vx(n,!1).get(e),r=await new Xg(t).toPromise();return r===void 0?null:r.value}function vj(n,e){const t=Vx(n,!0).delete(e);return new Xg(t).toPromise()}const YP=800,XP=3;class tS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await q1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>XP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ux._getInstance(HP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qP(),!this.activeServiceWorker)return;this.sender=new BP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await q1();return await bj(e,rx,"1"),await vj(e,rx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>bj(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>KP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>vj(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Vx(a,!1).getAll();return new Xg(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tS.type="LOCAL";const QP=tS;new Wg(3e4,6e4);function JP(n,e){return e?Bc(e):(Jt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class sv extends tv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ef(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ef(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ef(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ZP(n){return q3(n.auth,new sv(n),n.bypassAuthState)}function e7(n){const{auth:e,user:t}=n;return Jt(t,e,"internal-error"),RP(t,new sv(n),n.bypassAuthState)}async function t7(n){const{auth:e,user:t}=n;return Jt(t,e,"internal-error"),IP(t,new sv(n),n.bypassAuthState)}class nS{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:c,type:u}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZP;case"linkViaPopup":case"linkViaRedirect":return t7;case"reauthViaPopup":case"reauthViaRedirect":return e7;default:fl(this.auth,"internal-error")}}resolve(e){Wc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const n7=new Wg(2e3,1e4);class wf extends nS{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,wf.currentPopupAction&&wf.currentPopupAction.cancel(),wf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Jt(e,this.auth,"internal-error"),e}async onExecution(){Wc(this.filter.length===1,"Popup operations only handle one event");const e=rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wf.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,n7.get())};e()}}wf.currentPopupAction=null;const r7="pendingRedirect",C0=new Map;class s7 extends nS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=C0.get(this.auth._key());if(!e){try{const r=await a7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}C0.set(this.auth._key(),e)}return this.bypassAuthState||C0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a7(n,e){const t=l7(e),r=o7(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function i7(n,e){C0.set(n._key(),e)}function o7(n){return Bc(n._redirectPersistence)}function l7(n){return T0(r7,n.config.apiKey,n.name)}async function c7(n,e,t=!1){if(oo(n.app))return Promise.reject(Gc(n));const r=ud(n),a=JP(r,e),c=await new s7(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const u7=600*1e3;class d7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h7(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!rS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Xl(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=u7&&this.cachedEventUids.clear(),this.cachedEventUids.has(wj(e))}saveEventToCache(e){this.cachedEventUids.add(wj(e)),this.lastProcessedEventTime=Date.now()}}function wj(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function rS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function h7(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rS(n);default:return!1}}async function f7(n,e={}){return Jc(n,"GET","/v1/projects",e)}const m7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g7=/^https?/;async function p7(n){if(n.config.emulator)return;const{authorizedDomains:e}=await f7(n);for(const t of e)try{if(x7(t))return}catch{}fl(n,"unauthorized-domain")}function x7(n){const e=B1(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!g7.test(t))return!1;if(m7.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const y7=new Wg(3e4,6e4);function Nj(){const n=Ql().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function b7(n){return new Promise((e,t)=>{function r(){Nj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nj(),t(Xl(n,"network-request-failed"))},timeout:y7.get()})}if(Ql().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ql().gapi?.load)r();else{const a=uP("iframefcb");return Ql()[a]=()=>{gapi.load?r():t(Xl(n,"network-request-failed"))},F3(`${cP()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw I0=null,e})}let I0=null;function v7(n){return I0=I0||b7(n),I0}const w7=new Wg(5e3,15e3),N7="__/auth/iframe",j7="emulator/auth/iframe",_7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E7(n){const e=n.config;Jt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?J2(e,j7):`https://${n.config.authDomain}/${N7}`,r={apiKey:e.apiKey,appName:n.name,v:fh},a=S7.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${$g(r).slice(1)}`}async function A7(n){const e=await v7(n),t=Ql().gapi;return Jt(t,n,"internal-error"),e.open({where:document.body,url:E7(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_7,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=Xl(n,"network-request-failed"),u=Ql().setTimeout(()=>{o(c)},w7.get());function h(){Ql().clearTimeout(u),a(r)}r.ping(h).then(h,()=>{o(c)})}))}const T7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C7=500,I7=600,R7="_blank",k7="http://localhost";class jj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P7(n,e,t,r=C7,a=I7){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...T7,width:r.toString(),height:a.toString(),top:o,left:c},f=ra().toLowerCase();t&&(u=R3(f)?R7:t),C3(f)&&(e=e||k7,h.scrollbars="yes");const g=Object.entries(h).reduce((v,[b,T])=>`${v}${b}=${T},`,"");if(eP(f)&&u!=="_self")return L7(e||"",u),new jj(null);const x=window.open(e||"",u,g);Jt(x,n,"popup-blocked");try{x.focus()}catch{}return new jj(x)}function L7(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const D7="__/auth/handler",M7="emulator/auth/handler",O7=encodeURIComponent("fac");async function _j(n,e,t,r,a,o){Jt(n.config.authDomain,n,"auth-domain-config-required"),Jt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:fh,eventId:a};if(e instanceof B3){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",NR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,x]of Object.entries({}))c[g]=x}if(e instanceof Yg){const g=e.getScopes().filter(x=>x!=="");g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const u=c;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await n._getAppCheckToken(),f=h?`#${O7}=${encodeURIComponent(h)}`:"";return`${F7(n)}?${$g(u).slice(1)}${f}`}function F7({config:n}){return n.emulator?J2(n,M7):`https://${n.authDomain}/${D7}`}const Kb="webStorageSupport";class U7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q3,this._completeRedirectFn=c7,this._overrideRedirectResult=i7}async _openPopup(e,t,r,a){Wc(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await _j(e,t,r,B1(),a);return P7(e,o,rv())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await _j(e,t,r,B1(),a);return zP(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Wc(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await A7(e),r=new d7(e);return t.register("authEvent",a=>(Jt(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kb,{type:Kb},a=>{const o=a?.[0]?.[Kb];o!==void 0&&t(!!o),fl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=p7(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return M3()||I3()||ev()}}const V7=U7;var Sj="@firebase/auth",Ej="1.11.1";class B7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function z7(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q7(n){Qd(new Zu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=r.options;Jt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O3(n)},f=new iP(r,a,o,h);return pP(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Qd(new Zu("auth-internal",e=>{const t=ud(e.getProvider("auth").getImmediate());return(r=>new B7(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yl(Sj,Ej,z7(n)),Yl(Sj,Ej,"esm2020")}const G7=300,H7=u3("authIdTokenMaxAge")||G7;let Aj=null;const $7=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>H7)return;const a=t?.token;Aj!==a&&(Aj=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function W7(n=X2()){const e=Ox(n,"auth");if(e.isInitialized())return e.getImmediate();const t=gP(n,{popupRedirectResolver:V7,persistence:[QP,UP,Q3]}),r=u3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=$7(o.toString());DP(t,c,()=>c(t.currentUser)),LP(t,u=>c(u))}}const a=o3("auth");return a&&xP(t,`http://${a}`),t}function K7(){return document.getElementsByTagName("head")?.[0]??document}oP({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=Xl("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",K7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q7("Browser");var Tj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Yu,sS;(function(){var n;function e(G,U){function k(){}k.prototype=U.prototype,G.F=U.prototype,G.prototype=new k,G.prototype.constructor=G,G.D=function(F,I,P){for(var B=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)B[ue-2]=arguments[ue];return U.prototype[I].apply(F,B)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(G,U,k){k||(k=0);const F=Array(16);if(typeof U=="string")for(var I=0;I<16;++I)F[I]=U.charCodeAt(k++)|U.charCodeAt(k++)<<8|U.charCodeAt(k++)<<16|U.charCodeAt(k++)<<24;else for(I=0;I<16;++I)F[I]=U[k++]|U[k++]<<8|U[k++]<<16|U[k++]<<24;U=G.g[0],k=G.g[1],I=G.g[2];let P=G.g[3],B;B=U+(P^k&(I^P))+F[0]+3614090360&4294967295,U=k+(B<<7&4294967295|B>>>25),B=P+(I^U&(k^I))+F[1]+3905402710&4294967295,P=U+(B<<12&4294967295|B>>>20),B=I+(k^P&(U^k))+F[2]+606105819&4294967295,I=P+(B<<17&4294967295|B>>>15),B=k+(U^I&(P^U))+F[3]+3250441966&4294967295,k=I+(B<<22&4294967295|B>>>10),B=U+(P^k&(I^P))+F[4]+4118548399&4294967295,U=k+(B<<7&4294967295|B>>>25),B=P+(I^U&(k^I))+F[5]+1200080426&4294967295,P=U+(B<<12&4294967295|B>>>20),B=I+(k^P&(U^k))+F[6]+2821735955&4294967295,I=P+(B<<17&4294967295|B>>>15),B=k+(U^I&(P^U))+F[7]+4249261313&4294967295,k=I+(B<<22&4294967295|B>>>10),B=U+(P^k&(I^P))+F[8]+1770035416&4294967295,U=k+(B<<7&4294967295|B>>>25),B=P+(I^U&(k^I))+F[9]+2336552879&4294967295,P=U+(B<<12&4294967295|B>>>20),B=I+(k^P&(U^k))+F[10]+4294925233&4294967295,I=P+(B<<17&4294967295|B>>>15),B=k+(U^I&(P^U))+F[11]+2304563134&4294967295,k=I+(B<<22&4294967295|B>>>10),B=U+(P^k&(I^P))+F[12]+1804603682&4294967295,U=k+(B<<7&4294967295|B>>>25),B=P+(I^U&(k^I))+F[13]+4254626195&4294967295,P=U+(B<<12&4294967295|B>>>20),B=I+(k^P&(U^k))+F[14]+2792965006&4294967295,I=P+(B<<17&4294967295|B>>>15),B=k+(U^I&(P^U))+F[15]+1236535329&4294967295,k=I+(B<<22&4294967295|B>>>10),B=U+(I^P&(k^I))+F[1]+4129170786&4294967295,U=k+(B<<5&4294967295|B>>>27),B=P+(k^I&(U^k))+F[6]+3225465664&4294967295,P=U+(B<<9&4294967295|B>>>23),B=I+(U^k&(P^U))+F[11]+643717713&4294967295,I=P+(B<<14&4294967295|B>>>18),B=k+(P^U&(I^P))+F[0]+3921069994&4294967295,k=I+(B<<20&4294967295|B>>>12),B=U+(I^P&(k^I))+F[5]+3593408605&4294967295,U=k+(B<<5&4294967295|B>>>27),B=P+(k^I&(U^k))+F[10]+38016083&4294967295,P=U+(B<<9&4294967295|B>>>23),B=I+(U^k&(P^U))+F[15]+3634488961&4294967295,I=P+(B<<14&4294967295|B>>>18),B=k+(P^U&(I^P))+F[4]+3889429448&4294967295,k=I+(B<<20&4294967295|B>>>12),B=U+(I^P&(k^I))+F[9]+568446438&4294967295,U=k+(B<<5&4294967295|B>>>27),B=P+(k^I&(U^k))+F[14]+3275163606&4294967295,P=U+(B<<9&4294967295|B>>>23),B=I+(U^k&(P^U))+F[3]+4107603335&4294967295,I=P+(B<<14&4294967295|B>>>18),B=k+(P^U&(I^P))+F[8]+1163531501&4294967295,k=I+(B<<20&4294967295|B>>>12),B=U+(I^P&(k^I))+F[13]+2850285829&4294967295,U=k+(B<<5&4294967295|B>>>27),B=P+(k^I&(U^k))+F[2]+4243563512&4294967295,P=U+(B<<9&4294967295|B>>>23),B=I+(U^k&(P^U))+F[7]+1735328473&4294967295,I=P+(B<<14&4294967295|B>>>18),B=k+(P^U&(I^P))+F[12]+2368359562&4294967295,k=I+(B<<20&4294967295|B>>>12),B=U+(k^I^P)+F[5]+4294588738&4294967295,U=k+(B<<4&4294967295|B>>>28),B=P+(U^k^I)+F[8]+2272392833&4294967295,P=U+(B<<11&4294967295|B>>>21),B=I+(P^U^k)+F[11]+1839030562&4294967295,I=P+(B<<16&4294967295|B>>>16),B=k+(I^P^U)+F[14]+4259657740&4294967295,k=I+(B<<23&4294967295|B>>>9),B=U+(k^I^P)+F[1]+2763975236&4294967295,U=k+(B<<4&4294967295|B>>>28),B=P+(U^k^I)+F[4]+1272893353&4294967295,P=U+(B<<11&4294967295|B>>>21),B=I+(P^U^k)+F[7]+4139469664&4294967295,I=P+(B<<16&4294967295|B>>>16),B=k+(I^P^U)+F[10]+3200236656&4294967295,k=I+(B<<23&4294967295|B>>>9),B=U+(k^I^P)+F[13]+681279174&4294967295,U=k+(B<<4&4294967295|B>>>28),B=P+(U^k^I)+F[0]+3936430074&4294967295,P=U+(B<<11&4294967295|B>>>21),B=I+(P^U^k)+F[3]+3572445317&4294967295,I=P+(B<<16&4294967295|B>>>16),B=k+(I^P^U)+F[6]+76029189&4294967295,k=I+(B<<23&4294967295|B>>>9),B=U+(k^I^P)+F[9]+3654602809&4294967295,U=k+(B<<4&4294967295|B>>>28),B=P+(U^k^I)+F[12]+3873151461&4294967295,P=U+(B<<11&4294967295|B>>>21),B=I+(P^U^k)+F[15]+530742520&4294967295,I=P+(B<<16&4294967295|B>>>16),B=k+(I^P^U)+F[2]+3299628645&4294967295,k=I+(B<<23&4294967295|B>>>9),B=U+(I^(k|~P))+F[0]+4096336452&4294967295,U=k+(B<<6&4294967295|B>>>26),B=P+(k^(U|~I))+F[7]+1126891415&4294967295,P=U+(B<<10&4294967295|B>>>22),B=I+(U^(P|~k))+F[14]+2878612391&4294967295,I=P+(B<<15&4294967295|B>>>17),B=k+(P^(I|~U))+F[5]+4237533241&4294967295,k=I+(B<<21&4294967295|B>>>11),B=U+(I^(k|~P))+F[12]+1700485571&4294967295,U=k+(B<<6&4294967295|B>>>26),B=P+(k^(U|~I))+F[3]+2399980690&4294967295,P=U+(B<<10&4294967295|B>>>22),B=I+(U^(P|~k))+F[10]+4293915773&4294967295,I=P+(B<<15&4294967295|B>>>17),B=k+(P^(I|~U))+F[1]+2240044497&4294967295,k=I+(B<<21&4294967295|B>>>11),B=U+(I^(k|~P))+F[8]+1873313359&4294967295,U=k+(B<<6&4294967295|B>>>26),B=P+(k^(U|~I))+F[15]+4264355552&4294967295,P=U+(B<<10&4294967295|B>>>22),B=I+(U^(P|~k))+F[6]+2734768916&4294967295,I=P+(B<<15&4294967295|B>>>17),B=k+(P^(I|~U))+F[13]+1309151649&4294967295,k=I+(B<<21&4294967295|B>>>11),B=U+(I^(k|~P))+F[4]+4149444226&4294967295,U=k+(B<<6&4294967295|B>>>26),B=P+(k^(U|~I))+F[11]+3174756917&4294967295,P=U+(B<<10&4294967295|B>>>22),B=I+(U^(P|~k))+F[2]+718787259&4294967295,I=P+(B<<15&4294967295|B>>>17),B=k+(P^(I|~U))+F[9]+3951481745&4294967295,G.g[0]=G.g[0]+U&4294967295,G.g[1]=G.g[1]+(I+(B<<21&4294967295|B>>>11))&4294967295,G.g[2]=G.g[2]+I&4294967295,G.g[3]=G.g[3]+P&4294967295}r.prototype.v=function(G,U){U===void 0&&(U=G.length);const k=U-this.blockSize,F=this.C;let I=this.h,P=0;for(;P<U;){if(I==0)for(;P<=k;)a(this,G,P),P+=this.blockSize;if(typeof G=="string"){for(;P<U;)if(F[I++]=G.charCodeAt(P++),I==this.blockSize){a(this,F),I=0;break}}else for(;P<U;)if(F[I++]=G[P++],I==this.blockSize){a(this,F),I=0;break}}this.h=I,this.o+=U},r.prototype.A=function(){var G=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);G[0]=128;for(var U=1;U<G.length-8;++U)G[U]=0;U=this.o*8;for(var k=G.length-8;k<G.length;++k)G[k]=U&255,U/=256;for(this.v(G),G=Array(16),U=0,k=0;k<4;++k)for(let F=0;F<32;F+=8)G[U++]=this.g[k]>>>F&255;return G};function o(G,U){var k=u;return Object.prototype.hasOwnProperty.call(k,G)?k[G]:k[G]=U(G)}function c(G,U){this.h=U;const k=[];let F=!0;for(let I=G.length-1;I>=0;I--){const P=G[I]|0;F&&P==U||(k[I]=P,F=!1)}this.g=k}var u={};function h(G){return-128<=G&&G<128?o(G,function(U){return new c([U|0],U<0?-1:0)}):new c([G|0],G<0?-1:0)}function f(G){if(isNaN(G)||!isFinite(G))return x;if(G<0)return j(f(-G));const U=[];let k=1;for(let F=0;G>=k;F++)U[F]=G/k|0,k*=4294967296;return new c(U,0)}function g(G,U){if(G.length==0)throw Error("number format error: empty string");if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(G.charAt(0)=="-")return j(g(G.substring(1),U));if(G.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=f(Math.pow(U,8));let F=x;for(let P=0;P<G.length;P+=8){var I=Math.min(8,G.length-P);const B=parseInt(G.substring(P,P+I),U);I<8?(I=f(Math.pow(U,I)),F=F.j(I).add(f(B))):(F=F.j(k),F=F.add(f(B)))}return F}var x=h(0),v=h(1),b=h(16777216);n=c.prototype,n.m=function(){if(E(this))return-j(this).m();let G=0,U=1;for(let k=0;k<this.g.length;k++){const F=this.i(k);G+=(F>=0?F:4294967296+F)*U,U*=4294967296}return G},n.toString=function(G){if(G=G||10,G<2||36<G)throw Error("radix out of range: "+G);if(T(this))return"0";if(E(this))return"-"+j(this).toString(G);const U=f(Math.pow(G,6));var k=this;let F="";for(;;){const I=O(k,U).g;k=S(k,I.j(U));let P=((k.g.length>0?k.g[0]:k.h)>>>0).toString(G);if(k=I,T(k))return P+F;for(;P.length<6;)P="0"+P;F=P+F}},n.i=function(G){return G<0?0:G<this.g.length?this.g[G]:this.h};function T(G){if(G.h!=0)return!1;for(let U=0;U<G.g.length;U++)if(G.g[U]!=0)return!1;return!0}function E(G){return G.h==-1}n.l=function(G){return G=S(this,G),E(G)?-1:T(G)?0:1};function j(G){const U=G.g.length,k=[];for(let F=0;F<U;F++)k[F]=~G.g[F];return new c(k,~G.h).add(v)}n.abs=function(){return E(this)?j(this):this},n.add=function(G){const U=Math.max(this.g.length,G.g.length),k=[];let F=0;for(let I=0;I<=U;I++){let P=F+(this.i(I)&65535)+(G.i(I)&65535),B=(P>>>16)+(this.i(I)>>>16)+(G.i(I)>>>16);F=B>>>16,P&=65535,B&=65535,k[I]=B<<16|P}return new c(k,k[k.length-1]&-2147483648?-1:0)};function S(G,U){return G.add(j(U))}n.j=function(G){if(T(this)||T(G))return x;if(E(this))return E(G)?j(this).j(j(G)):j(j(this).j(G));if(E(G))return j(this.j(j(G)));if(this.l(b)<0&&G.l(b)<0)return f(this.m()*G.m());const U=this.g.length+G.g.length,k=[];for(var F=0;F<2*U;F++)k[F]=0;for(F=0;F<this.g.length;F++)for(let I=0;I<G.g.length;I++){const P=this.i(F)>>>16,B=this.i(F)&65535,ue=G.i(I)>>>16,Ne=G.i(I)&65535;k[2*F+2*I]+=B*Ne,L(k,2*F+2*I),k[2*F+2*I+1]+=P*Ne,L(k,2*F+2*I+1),k[2*F+2*I+1]+=B*ue,L(k,2*F+2*I+1),k[2*F+2*I+2]+=P*ue,L(k,2*F+2*I+2)}for(G=0;G<U;G++)k[G]=k[2*G+1]<<16|k[2*G];for(G=U;G<2*U;G++)k[G]=0;return new c(k,0)};function L(G,U){for(;(G[U]&65535)!=G[U];)G[U+1]+=G[U]>>>16,G[U]&=65535,U++}function D(G,U){this.g=G,this.h=U}function O(G,U){if(T(U))throw Error("division by zero");if(T(G))return new D(x,x);if(E(G))return U=O(j(G),U),new D(j(U.g),j(U.h));if(E(U))return U=O(G,j(U)),new D(j(U.g),U.h);if(G.g.length>30){if(E(G)||E(U))throw Error("slowDivide_ only works with positive integers.");for(var k=v,F=U;F.l(G)<=0;)k=te(k),F=te(F);var I=ee(k,1),P=ee(F,1);for(F=ee(F,2),k=ee(k,2);!T(F);){var B=P.add(F);B.l(G)<=0&&(I=I.add(k),P=B),F=ee(F,1),k=ee(k,1)}return U=S(G,I.j(U)),new D(I,U)}for(I=x;G.l(U)>=0;){for(k=Math.max(1,Math.floor(G.m()/U.m())),F=Math.ceil(Math.log(k)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),P=f(k),B=P.j(U);E(B)||B.l(G)>0;)k-=F,P=f(k),B=P.j(U);T(P)&&(P=v),I=I.add(P),G=S(G,B)}return new D(I,G)}n.B=function(G){return O(this,G).h},n.and=function(G){const U=Math.max(this.g.length,G.g.length),k=[];for(let F=0;F<U;F++)k[F]=this.i(F)&G.i(F);return new c(k,this.h&G.h)},n.or=function(G){const U=Math.max(this.g.length,G.g.length),k=[];for(let F=0;F<U;F++)k[F]=this.i(F)|G.i(F);return new c(k,this.h|G.h)},n.xor=function(G){const U=Math.max(this.g.length,G.g.length),k=[];for(let F=0;F<U;F++)k[F]=this.i(F)^G.i(F);return new c(k,this.h^G.h)};function te(G){const U=G.g.length+1,k=[];for(let F=0;F<U;F++)k[F]=G.i(F)<<1|G.i(F-1)>>>31;return new c(k,G.h)}function ee(G,U){const k=U>>5;U%=32;const F=G.g.length-k,I=[];for(let P=0;P<F;P++)I[P]=U>0?G.i(P+k)>>>U|G.i(P+k+1)<<32-U:G.i(P+k);return new c(I,G.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,sS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=g,Yu=c}).apply(typeof Tj<"u"?Tj:typeof self<"u"?self:typeof window<"u"?window:{});var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var aS,rg,iS,R0,G1,oS,lS,cS;(function(){var n,e=Object.defineProperty;function t(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof o0=="object"&&o0];for(var R=0;R<y.length;++R){var z=y[R];if(z&&z.Math==Math)return z}throw Error("Cannot find global object")}var r=t(this);function a(y,R){if(R)e:{var z=r;y=y.split(".");for(var Z=0;Z<y.length-1;Z++){var _e=y[Z];if(!(_e in z))break e;z=z[_e]}y=y[y.length-1],Z=z[y],R=R(Z),R!=Z&&R!=null&&e(z,y,{configurable:!0,writable:!0,value:R})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(R){var z=[],Z;for(Z in R)Object.prototype.hasOwnProperty.call(R,Z)&&z.push([Z,R[Z]]);return z}});var o=o||{},c=this||self;function u(y){var R=typeof y;return R=="object"&&y!=null||R=="function"}function h(y,R,z){return y.call.apply(y.bind,arguments)}function f(y,R,z){return f=h,f.apply(null,arguments)}function g(y,R){var z=Array.prototype.slice.call(arguments,1);return function(){var Z=z.slice();return Z.push.apply(Z,arguments),y.apply(this,Z)}}function x(y,R){function z(){}z.prototype=R.prototype,y.Z=R.prototype,y.prototype=new z,y.prototype.constructor=y,y.Ob=function(Z,_e,Pe){for(var et=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)et[Zt-2]=arguments[Zt];return R.prototype[_e].apply(Z,et)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function b(y){const R=y.length;if(R>0){const z=Array(R);for(let Z=0;Z<R;Z++)z[Z]=y[Z];return z}return[]}function T(y,R){for(let Z=1;Z<arguments.length;Z++){const _e=arguments[Z];var z=typeof _e;if(z=z!="object"?z:_e?Array.isArray(_e)?"array":z:"null",z=="array"||z=="object"&&typeof _e.length=="number"){z=y.length||0;const Pe=_e.length||0;y.length=z+Pe;for(let et=0;et<Pe;et++)y[z+et]=_e[et]}else y.push(_e)}}class E{constructor(R,z){this.i=R,this.j=z,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function j(y){c.setTimeout(()=>{throw y},0)}function S(){var y=G;let R=null;return y.g&&(R=y.g,y.g=y.g.next,y.g||(y.h=null),R.next=null),R}class L{constructor(){this.h=this.g=null}add(R,z){const Z=D.get();Z.set(R,z),this.h?this.h.next=Z:this.g=Z,this.h=Z}}var D=new E(()=>new O,y=>y.reset());class O{constructor(){this.next=this.g=this.h=null}set(R,z){this.h=R,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ee=!1,G=new L,U=()=>{const y=Promise.resolve(void 0);te=()=>{y.then(k)}};function k(){for(var y;y=S();){try{y.h.call(y.g)}catch(z){j(z)}var R=D;R.j(y),R.h<100&&(R.h++,y.next=R.g,R.g=y)}ee=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(y,R){this.type=y,this.g=this.target=R,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,R=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const z=()=>{};c.addEventListener("test",z,R),c.removeEventListener("test",z,R)}catch{}return y})();function B(y){return/^[\s\xa0]*$/.test(y)}function ue(y,R){I.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,R)}x(ue,I),ue.prototype.init=function(y,R){const z=this.type=y.type,Z=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=R,R=y.relatedTarget,R||(z=="mouseover"?R=y.fromElement:z=="mouseout"&&(R=y.toElement)),this.relatedTarget=R,Z?(this.clientX=Z.clientX!==void 0?Z.clientX:Z.pageX,this.clientY=Z.clientY!==void 0?Z.clientY:Z.pageY,this.screenX=Z.screenX||0,this.screenY=Z.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),ce=0;function pe(y,R,z,Z,_e){this.listener=y,this.proxy=null,this.src=R,this.type=z,this.capture=!!Z,this.ha=_e,this.key=++ce,this.da=this.fa=!1}function de(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Se(y,R,z){for(const Z in y)R.call(z,y[Z],Z,y)}function ze(y,R){for(const z in y)R.call(void 0,y[z],z,y)}function re(y){const R={};for(const z in y)R[z]=y[z];return R}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(y,R){let z,Z;for(let _e=1;_e<arguments.length;_e++){Z=arguments[_e];for(z in Z)y[z]=Z[z];for(let Pe=0;Pe<q.length;Pe++)z=q[Pe],Object.prototype.hasOwnProperty.call(Z,z)&&(y[z]=Z[z])}}function se(y){this.src=y,this.g={},this.h=0}se.prototype.add=function(y,R,z,Z,_e){const Pe=y.toString();y=this.g[Pe],y||(y=this.g[Pe]=[],this.h++);const et=me(y,R,Z,_e);return et>-1?(R=y[et],z||(R.fa=!1)):(R=new pe(R,this.src,Pe,!!Z,_e),R.fa=z,y.push(R)),R};function he(y,R){const z=R.type;if(z in y.g){var Z=y.g[z],_e=Array.prototype.indexOf.call(Z,R,void 0),Pe;(Pe=_e>=0)&&Array.prototype.splice.call(Z,_e,1),Pe&&(de(R),y.g[z].length==0&&(delete y.g[z],y.h--))}}function me(y,R,z,Z){for(let _e=0;_e<y.length;++_e){const Pe=y[_e];if(!Pe.da&&Pe.listener==R&&Pe.capture==!!z&&Pe.ha==Z)return _e}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Le={};function ke(y,R,z,Z,_e){if(Array.isArray(R)){for(let Pe=0;Pe<R.length;Pe++)ke(y,R[Pe],z,Z,_e);return null}return z=Pt(z),y&&y[Ne]?y.J(R,z,u(Z)?!!Z.capture:!1,_e):qe(y,R,z,!1,Z,_e)}function qe(y,R,z,Z,_e,Pe){if(!R)throw Error("Invalid event type");const et=u(_e)?!!_e.capture:!!_e;let Zt=st(y);if(Zt||(y[be]=Zt=new se(y)),z=Zt.add(R,z,Z,et,Pe),z.proxy)return z;if(Z=Je(),z.proxy=Z,Z.src=y,Z.listener=z,y.addEventListener)P||(_e=et),_e===void 0&&(_e=!1),y.addEventListener(R.toString(),Z,_e);else if(y.attachEvent)y.attachEvent(ft(R.toString()),Z);else if(y.addListener&&y.removeListener)y.addListener(Z);else throw Error("addEventListener and attachEvent are unavailable.");return z}function Je(){function y(z){return R.call(y.src,y.listener,z)}const R=ae;return y}function it(y,R,z,Z,_e){if(Array.isArray(R))for(var Pe=0;Pe<R.length;Pe++)it(y,R[Pe],z,Z,_e);else Z=u(Z)?!!Z.capture:!!Z,z=Pt(z),y&&y[Ne]?(y=y.i,Pe=String(R).toString(),Pe in y.g&&(R=y.g[Pe],z=me(R,z,Z,_e),z>-1&&(de(R[z]),Array.prototype.splice.call(R,z,1),R.length==0&&(delete y.g[Pe],y.h--)))):y&&(y=st(y))&&(R=y.g[R.toString()],y=-1,R&&(y=me(R,z,Z,_e)),(z=y>-1?R[y]:null)&&at(z))}function at(y){if(typeof y!="number"&&y&&!y.da){var R=y.src;if(R&&R[Ne])he(R.i,y);else{var z=y.type,Z=y.proxy;R.removeEventListener?R.removeEventListener(z,Z,y.capture):R.detachEvent?R.detachEvent(ft(z),Z):R.addListener&&R.removeListener&&R.removeListener(Z),(z=st(R))?(he(z,y),z.h==0&&(z.src=null,R[be]=null)):de(y)}}}function ft(y){return y in Le?Le[y]:Le[y]="on"+y}function ae(y,R){if(y.da)y=!0;else{R=new ue(R,this);const z=y.listener,Z=y.ha||y.src;y.fa&&at(y),y=z.call(Z,R)}return y}function st(y){return y=y[be],y instanceof se?y:null}var rn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pt(y){return typeof y=="function"?y:(y[rn]||(y[rn]=function(R){return y.handleEvent(R)}),y[rn])}function He(){F.call(this),this.i=new se(this),this.M=this,this.G=null}x(He,F),He.prototype[Ne]=!0,He.prototype.removeEventListener=function(y,R,z,Z){it(this,y,R,z,Z)};function ct(y,R){var z,Z=y.G;if(Z)for(z=[];Z;Z=Z.G)z.push(Z);if(y=y.M,Z=R.type||R,typeof R=="string")R=new I(R,y);else if(R instanceof I)R.target=R.target||y;else{var _e=R;R=new I(Z,y),Q(R,_e)}_e=!0;let Pe,et;if(z)for(et=z.length-1;et>=0;et--)Pe=R.g=z[et],_e=lt(Pe,Z,!0,R)&&_e;if(Pe=R.g=y,_e=lt(Pe,Z,!0,R)&&_e,_e=lt(Pe,Z,!1,R)&&_e,z)for(et=0;et<z.length;et++)Pe=R.g=z[et],_e=lt(Pe,Z,!1,R)&&_e}He.prototype.N=function(){if(He.Z.N.call(this),this.i){var y=this.i;for(const R in y.g){const z=y.g[R];for(let Z=0;Z<z.length;Z++)de(z[Z]);delete y.g[R],y.h--}}this.G=null},He.prototype.J=function(y,R,z,Z){return this.i.add(String(y),R,!1,z,Z)},He.prototype.K=function(y,R,z,Z){return this.i.add(String(y),R,!0,z,Z)};function lt(y,R,z,Z){if(R=y.i.g[String(R)],!R)return!0;R=R.concat();let _e=!0;for(let Pe=0;Pe<R.length;++Pe){const et=R[Pe];if(et&&!et.da&&et.capture==z){const Zt=et.listener,gr=et.ha||et.src;et.fa&&he(y.i,et),_e=Zt.call(gr,Z)!==!1&&_e}}return _e&&!Z.defaultPrevented}function Mt(y,R){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:c.setTimeout(y,R||0)}function Et(y){y.g=Mt(()=>{y.g=null,y.i&&(y.i=!1,Et(y))},y.l);const R=y.h;y.h=null,y.m.apply(null,R)}class sn extends F{constructor(R,z){super(),this.m=R,this.l=z,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Et(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dn(y){F.call(this),this.h=y,this.g={}}x(dn,F);var Qt=[];function pn(y){Se(y.g,function(R,z){this.g.hasOwnProperty(z)&&at(R)},y),y.g={}}dn.prototype.N=function(){dn.Z.N.call(this),pn(this)},dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var on=c.JSON.stringify,wt=c.JSON.parse,en=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function Nt(){}function Tr(){}var ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Lt(){I.call(this,"d")}x(Lt,I);function Wt(){I.call(this,"c")}x(Wt,I);var an={},Tt=null;function zn(){return Tt=Tt||new He}an.Ia="serverreachability";function zt(y){I.call(this,an.Ia,y)}x(zt,I);function qt(y){const R=zn();ct(R,new zt(R))}an.STAT_EVENT="statevent";function Hn(y,R){I.call(this,an.STAT_EVENT,y),this.stat=R}x(Hn,I);function At(y){const R=zn();ct(R,new Hn(R,y))}an.Ja="timingevent";function jt(y,R){I.call(this,an.Ja,y),this.size=R}x(jt,I);function xn(y,R){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},R)}function qs(){this.g=!0}qs.prototype.ua=function(){this.g=!1};function As(y,R,z,Z,_e,Pe){y.info(function(){if(y.g)if(Pe){var et="",Zt=Pe.split("&");for(let bn=0;bn<Zt.length;bn++){var gr=Zt[bn].split("=");if(gr.length>1){const Kn=gr[0];gr=gr[1];const Rs=Kn.split("_");et=Rs.length>=2&&Rs[1]=="type"?et+(Kn+"="+gr+"&"):et+(Kn+"=redacted&")}}}else et=null;else et=Pe;return"XMLHTTP REQ ("+Z+") [attempt "+_e+"]: "+R+`
`+z+`
`+et})}function xi(y,R,z,Z,_e,Pe,et){y.info(function(){return"XMLHTTP RESP ("+Z+") [ attempt "+_e+"]: "+R+`
`+z+`
`+Pe+" "+et})}function ms(y,R,z,Z){y.info(function(){return"XMLHTTP TEXT ("+R+"): "+Hi(y,z)+(Z?" "+Z:"")})}function Ct(y,R){y.info(function(){return"TIMEOUT: "+R})}qs.prototype.info=function(){};function Hi(y,R){if(!y.g)return R;if(!R)return null;try{const Pe=JSON.parse(R);if(Pe){for(y=0;y<Pe.length;y++)if(Array.isArray(Pe[y])){var z=Pe[y];if(!(z.length<2)){var Z=z[1];if(Array.isArray(Z)&&!(Z.length<1)){var _e=Z[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(let et=1;et<Z.length;et++)Z[et]=""}}}}return on(Pe)}catch{return R}}var va={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},aa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ia;function nr(){}x(nr,Nt),nr.prototype.g=function(){return new XMLHttpRequest},ia=new nr;function fr(y){return encodeURIComponent(String(y))}function ns(y){var R=1;y=y.split(":");const z=[];for(;R>0&&y.length;)z.push(y.shift()),R--;return y.length&&z.push(y.join(":")),z}function Gs(y,R,z,Z){this.j=y,this.i=R,this.l=z,this.S=Z||1,this.V=new dn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ts}function Ts(){this.i=null,this.g="",this.h=!1}var $n={},sr={};function rs(y,R,z){y.M=1,y.A=yo(Or(R)),y.u=z,y.R=!0,oa(y,null)}function oa(y,R){y.F=Date.now(),la(y),y.B=Or(y.A);var z=y.B,Z=y.S;Array.isArray(Z)||(Z=[String(Z)]),Nl(z.i,"t",Z),y.C=0,z=y.j.L,y.h=new Ts,y.g=ht(y.j,z?R:null,!y.u),y.P>0&&(y.O=new sn(f(y.Y,y,y.g),y.P)),R=y.V,z=y.g,Z=y.ba;var _e="readystatechange";Array.isArray(_e)||(_e&&(Qt[0]=_e.toString()),_e=Qt);for(let Pe=0;Pe<_e.length;Pe++){const et=ke(z,_e[Pe],Z||R.handleEvent,!1,R.h||R);if(!et)break;R.g[et.key]=et}R=y.J?re(y.J):{},y.u?(y.v||(y.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,R)):(y.v="GET",y.g.ea(y.B,y.v,null,R)),qt(),As(y.i,y.v,y.B,y.l,y.S,y.u)}Gs.prototype.ba=function(y){y=y.target;const R=this.O;R&&Ea(y)==3?R.j():this.Y(y)},Gs.prototype.Y=function(y){try{if(y==this.g)e:{const Zt=Ea(this.g),gr=this.g.ya(),bn=this.g.ca();if(!(Zt<3)&&(Zt!=3||this.g&&(this.h.h||this.g.la()||Wr(this.g)))){this.K||Zt!=4||gr==7||(gr==8||bn<=0?qt(3):qt(2)),wa(this);var R=this.g.ca();this.X=R;var z=Oa(this);if(this.o=R==200,xi(this.i,this.v,this.B,this.l,this.S,Zt,R),this.o){if(this.U&&!this.L){t:{if(this.g){var Z,_e=this.g;if((Z=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Z)){var Pe=Z;break t}}Pe=null}if(y=Pe)ms(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fa(this,y);else{this.o=!1,this.m=3,At(12),Na(this),Hs(this);break e}}if(this.R){y=!0;let Kn;for(;!this.K&&this.C<z.length;)if(Kn=ti(this,z),Kn==sr){Zt==4&&(this.m=4,At(14),y=!1),ms(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==$n){this.m=4,At(15),ms(this.i,this.l,z,"[Invalid Chunk]"),y=!1;break}else ms(this.i,this.l,Kn,null),Fa(this,Kn);if(xo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||z.length!=0||this.h.h||(this.m=1,At(16),y=!1),this.o=this.o&&y,!y)ms(this.i,this.l,z,"[Invalid Chunked Response]"),Na(this),Hs(this);else if(z.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),El(et),et.P=!0,At(11))}}else ms(this.i,this.l,z,null),Fa(this,z);Zt==4&&Na(this),this.o&&!this.K&&(Zt==4?oe(this.j,this):(this.o=!1,la(this)))}else yi(this.g),R==400&&z.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Na(this),Hs(this)}}}catch{}finally{}};function Oa(y){if(!xo(y))return y.g.la();const R=Wr(y.g);if(R==="")return"";let z="";const Z=R.length,_e=Ea(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Na(y),Hs(y),"";y.h.i=new c.TextDecoder}for(let Pe=0;Pe<Z;Pe++)y.h.h=!0,z+=y.h.i.decode(R[Pe],{stream:!(_e&&Pe==Z-1)});return R.length=0,y.h.g+=z,y.C=0,y.h.g}function xo(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function ti(y,R){var z=y.C,Z=R.indexOf(`
`,z);return Z==-1?sr:(z=Number(R.substring(z,Z)),isNaN(z)?$n:(Z+=1,Z+z>R.length?sr:(R=R.slice(Z,Z+z),y.C=Z+z,R)))}Gs.prototype.cancel=function(){this.K=!0,Na(this)};function la(y){y.T=Date.now()+y.H,$i(y,y.H)}function $i(y,R){if(y.D!=null)throw Error("WatchDog timer not null");y.D=xn(f(y.aa,y),R)}function wa(y){y.D&&(c.clearTimeout(y.D),y.D=null)}Gs.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Ct(this.i,this.B),this.M!=2&&(qt(),At(17)),Na(this),this.m=2,Hs(this)):$i(this,this.T-y)};function Hs(y){y.j.I==0||y.K||oe(y.j,y)}function Na(y){wa(y);var R=y.O;R&&typeof R.dispose=="function"&&R.dispose(),y.O=null,pn(y.V),y.g&&(R=y.g,y.g=null,R.abort(),R.dispose())}function Fa(y,R){try{var z=y.j;if(z.I!=0&&(z.g==y||ni(z.h,y))){if(!y.L&&ni(z.h,y)&&z.I==3){try{var Z=z.Ba.g.parse(R)}catch{Z=null}if(Array.isArray(Z)&&Z.length==3){var _e=Z;if(_e[0]==0){e:if(!z.v){if(z.g)if(z.g.F+3e3<y.F)H(z),vi(z);else break e;ai(z),At(18)}}else z.xa=_e[1],0<z.xa-z.K&&_e[2]<37500&&z.F&&z.A==0&&!z.C&&(z.C=xn(f(z.Va,z),6e3));Ua(z.h)<=1&&z.ta&&(z.ta=void 0)}else we(z,11)}else if((y.L||z.g==y)&&H(z),!B(R))for(_e=z.Ba.g.parse(R),R=0;R<_e.length;R++){let bn=_e[R];const Kn=bn[0];if(!(Kn<=z.K))if(z.K=Kn,bn=bn[1],z.I==2)if(bn[0]=="c"){z.M=bn[1],z.ba=bn[2];const Rs=bn[3];Rs!=null&&(z.ka=Rs,z.j.info("VER="+z.ka));const Ws=bn[4];Ws!=null&&(z.za=Ws,z.j.info("SVER="+z.za));const ar=bn[5];ar!=null&&typeof ar=="number"&&ar>0&&(Z=1.5*ar,z.O=Z,z.j.info("backChannelRequestTimeoutMs_="+Z)),Z=z;const Ks=y.g;if(Ks){const ii=Ks.g?Ks.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ii){var Pe=Z.h;Pe.g||ii.indexOf("spdy")==-1&&ii.indexOf("quic")==-1&&ii.indexOf("h2")==-1||(Pe.j=Pe.l,Pe.g=new Set,Pe.h&&(zo(Pe,Pe.h),Pe.h=null))}if(Z.G){const jo=Ks.g?Ks.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(Z.wa=jo,Rn(Z.J,Z.G,jo))}}z.I=3,z.l&&z.l.ra(),z.aa&&(z.T=Date.now()-y.F,z.j.info("Handshake RTT: "+z.T+"ms")),Z=z;var et=y;if(Z.na=Xe(Z,Z.L?Z.ba:null,Z.W),et.L){vl(Z.h,et);var Zt=et,gr=Z.O;gr&&(Zt.H=gr),Zt.D&&(wa(Zt),la(Zt)),Z.g=et}else mc(Z);z.i.length>0&&Ba(z)}else bn[0]!="stop"&&bn[0]!="close"||we(z,7);else z.I==3&&(bn[0]=="stop"||bn[0]=="close"?bn[0]=="stop"?we(z,7):No(z):bn[0]!="noop"&&z.l&&z.l.qa(bn),z.A=0)}}qt(4)}catch{}}var Ir=class{constructor(y,R){this.g=y,this.map=R}};function bl(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ca(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ua(y){return y.h?1:y.g?y.g.size:0}function ni(y,R){return y.h?y.h==R:y.g?y.g.has(R):!1}function zo(y,R){y.g?y.g.add(R):y.h=R}function vl(y,R){y.h&&y.h==R?y.h=null:y.g&&y.g.has(R)&&y.g.delete(R)}bl.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function wl(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let R=y.i;for(const z of y.g.values())R=R.concat(z.G);return R}return b(y.i)}var lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ja(y,R){if(y){y=y.split("&");for(let z=0;z<y.length;z++){const Z=y[z].indexOf("=");let _e,Pe=null;Z>=0?(_e=y[z].substring(0,Z),Pe=y[z].substring(Z+1)):_e=y[z],R(_e,Pe?decodeURIComponent(Pe.replace(/\+/g," ")):"")}}}function Cs(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;y instanceof Cs?(this.l=y.l,wn(this,y.j),this.o=y.o,this.g=y.g,Wi(this,y.u),this.h=y.h,Va(this,jl(y.i)),this.m=y.m):y&&(R=String(y).match(lc))?(this.l=!1,wn(this,R[1]||"",!0),this.o=$r(R[2]||""),this.g=$r(R[3]||"",!0),Wi(this,R[4]),this.h=$r(R[5]||"",!0),Va(this,R[6]||"",!0),this.m=$r(R[7]||"")):(this.l=!1,this.i=new Ki(null,this.l))}Cs.prototype.toString=function(){const y=[];var R=this.j;R&&y.push(Nr(R,qo,!0),":");var z=this.g;return(z||R=="file")&&(y.push("//"),(R=this.o)&&y.push(Nr(R,qo,!0),"@"),y.push(fr(z).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z=this.u,z!=null&&y.push(":",String(z))),(z=this.h)&&(this.g&&z.charAt(0)!="/"&&y.push("/"),y.push(Nr(z,z.charAt(0)=="/"?cc:nu,!0))),(z=this.i.toString())&&y.push("?",z),(z=this.m)&&y.push("#",Nr(z,uc)),y.join("")},Cs.prototype.resolve=function(y){const R=Or(this);let z=!!y.j;z?wn(R,y.j):z=!!y.o,z?R.o=y.o:z=!!y.g,z?R.g=y.g:z=y.u!=null;var Z=y.h;if(z)Wi(R,y.u);else if(z=!!y.h){if(Z.charAt(0)!="/")if(this.g&&!this.h)Z="/"+Z;else{var _e=R.h.lastIndexOf("/");_e!=-1&&(Z=R.h.slice(0,_e+1)+Z)}if(_e=Z,_e==".."||_e==".")Z="";else if(_e.indexOf("./")!=-1||_e.indexOf("/.")!=-1){Z=_e.lastIndexOf("/",0)==0,_e=_e.split("/");const Pe=[];for(let et=0;et<_e.length;){const Zt=_e[et++];Zt=="."?Z&&et==_e.length&&Pe.push(""):Zt==".."?((Pe.length>1||Pe.length==1&&Pe[0]!="")&&Pe.pop(),Z&&et==_e.length&&Pe.push("")):(Pe.push(Zt),Z=!0)}Z=Pe.join("/")}else Z=_e}return z?R.h=Z:z=y.i.toString()!=="",z?Va(R,jl(y.i)):z=!!y.m,z&&(R.m=y.m),R};function Or(y){return new Cs(y)}function wn(y,R,z){y.j=z?$r(R,!0):R,y.j&&(y.j=y.j.replace(/:$/,""))}function Wi(y,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);y.u=R}else y.u=null}function Va(y,R,z){R instanceof Ki?(y.i=R,ua(y.i,y.l)):(z||(R=Nr(R,$s)),y.i=new Ki(R,y.l))}function Rn(y,R,z){y.i.set(R,z)}function yo(y){return Rn(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function $r(y,R){return y?R?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Nr(y,R,z){return typeof y=="string"?(y=encodeURI(y).replace(R,Fr),z&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Fr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var qo=/[#\/\?@]/g,nu=/[#\?:]/g,cc=/[#\?]/g,$s=/[#\?@]/g,uc=/#/g;function Ki(y,R){this.h=this.g=null,this.i=y||null,this.j=!!R}function gs(y){y.g||(y.g=new Map,y.h=0,y.i&&ja(y.i,function(R,z){y.add(decodeURIComponent(R.replace(/\+/g," ")),z)}))}n=Ki.prototype,n.add=function(y,R){gs(this),this.i=null,y=Yi(this,y);let z=this.g.get(y);return z||this.g.set(y,z=[]),z.push(R),this.h+=1,this};function bo(y,R){gs(y),R=Yi(y,R),y.g.has(R)&&(y.i=null,y.h-=y.g.get(R).length,y.g.delete(R))}function dc(y,R){return gs(y),R=Yi(y,R),y.g.has(R)}n.forEach=function(y,R){gs(this),this.g.forEach(function(z,Z){z.forEach(function(_e){y.call(R,_e,Z,this)},this)},this)};function hc(y,R){gs(y);let z=[];if(typeof R=="string")dc(y,R)&&(z=z.concat(y.g.get(Yi(y,R))));else for(y=Array.from(y.g.values()),R=0;R<y.length;R++)z=z.concat(y[R]);return z}n.set=function(y,R){return gs(this),this.i=null,y=Yi(this,y),dc(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[R]),this.h+=1,this},n.get=function(y,R){return y?(y=hc(this,y),y.length>0?String(y[0]):R):R};function Nl(y,R,z){bo(y,R),z.length>0&&(y.i=null,y.g.set(Yi(y,R),b(z)),y.h+=z.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],R=Array.from(this.g.keys());for(let Z=0;Z<R.length;Z++){var z=R[Z];const _e=fr(z);z=hc(this,z);for(let Pe=0;Pe<z.length;Pe++){let et=_e;z[Pe]!==""&&(et+="="+fr(z[Pe])),y.push(et)}}return this.i=y.join("&")};function jl(y){const R=new Ki;return R.i=y.i,y.g&&(R.g=new Map(y.g),R.h=y.h),R}function Yi(y,R){return R=String(R),y.j&&(R=R.toLowerCase()),R}function ua(y,R){R&&!y.j&&(gs(y),y.i=null,y.g.forEach(function(z,Z){const _e=Z.toLowerCase();Z!=_e&&(bo(this,Z),Nl(this,_e,z))},y)),y.j=R}function ri(y,R){const z=new qs;if(c.Image){const Z=new Image;Z.onload=g(da,z,"TestLoadImage: loaded",!0,R,Z),Z.onerror=g(da,z,"TestLoadImage: error",!1,R,Z),Z.onabort=g(da,z,"TestLoadImage: abort",!1,R,Z),Z.ontimeout=g(da,z,"TestLoadImage: timeout",!1,R,Z),c.setTimeout(function(){Z.ontimeout&&Z.ontimeout()},1e4),Z.src=y}else R(!1)}function Xi(y,R){const z=new qs,Z=new AbortController,_e=setTimeout(()=>{Z.abort(),da(z,"TestPingServer: timeout",!1,R)},1e4);fetch(y,{signal:Z.signal}).then(Pe=>{clearTimeout(_e),Pe.ok?da(z,"TestPingServer: ok",!0,R):da(z,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(_e),da(z,"TestPingServer: error",!1,R)})}function da(y,R,z,Z,_e){try{_e&&(_e.onload=null,_e.onerror=null,_e.onabort=null,_e.ontimeout=null),Z(z)}catch{}}function vo(){this.g=new en}function Ot(y){this.i=y.Sb||null,this.h=y.ab||!1}x(Ot,Nt),Ot.prototype.g=function(){return new Go(this.i,this.h)};function Go(y,R){He.call(this),this.H=y,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Go,He),n=Go.prototype,n.open=function(y,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=R,this.readyState=1,ps(this)},n.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(R.body=y),(this.H||c).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wo(this)),this.readyState=0},n.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ps(this)),this.g&&(this.readyState=3,ps(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_l(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function _l(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}n.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var R=y.value?y.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!y.done}))&&(this.response=this.responseText+=R)}y.done?wo(this):ps(this),this.readyState==3&&_l(this)}},n.Oa=function(y){this.g&&(this.response=this.responseText=y,wo(this))},n.Na=function(y){this.g&&(this.response=y,wo(this))},n.ga=function(){this.g&&wo(this)};function wo(y){y.readyState=4,y.l=null,y.j=null,y.B=null,ps(y)}n.setRequestHeader=function(y,R){this.A.append(y,R)},n.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],R=this.h.entries();for(var z=R.next();!z.done;)z=z.value,y.push(z[0]+": "+z[1]),z=R.next();return y.join(`\r
`)};function ps(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Go.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function ss(y){let R="";return Se(y,function(z,Z){R+=Z,R+=":",R+=z,R+=`\r
`}),R}function Ho(y,R,z){e:{for(Z in z){var Z=!1;break e}Z=!0}Z||(z=ss(z),typeof y=="string"?z!=null&&fr(z):Rn(y,R,z))}function Wn(y){He.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Wn,He);var _a=/^https?$/i,$o=["POST","PUT"];n=Wn.prototype,n.Fa=function(y){this.H=y},n.ea=function(y,R,z,Z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);R=R?R.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ia.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(R,String(y),!0),this.B=!1}catch(Pe){si(this,Pe);return}if(y=z||"",z=new Map(this.headers),Z)if(Object.getPrototypeOf(Z)===Object.prototype)for(var _e in Z)z.set(_e,Z[_e]);else if(typeof Z.keys=="function"&&typeof Z.get=="function")for(const Pe of Z.keys())z.set(Pe,Z.get(Pe));else throw Error("Unknown input type for opt_headers: "+String(Z));Z=Array.from(z.keys()).find(Pe=>Pe.toLowerCase()=="content-type"),_e=c.FormData&&y instanceof c.FormData,!(Array.prototype.indexOf.call($o,R,void 0)>=0)||Z||_e||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pe,et]of z)this.g.setRequestHeader(Pe,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(Pe){si(this,Pe)}};function si(y,R){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=R,y.o=5,fc(y),Qi(y)}function fc(y){y.A||(y.A=!0,ct(y,"complete"),ct(y,"error"))}n.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,ct(this,"complete"),ct(this,"abort"),Qi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),Wn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Sa(this):this.Xa())},n.Xa=function(){Sa(this)};function Sa(y){if(y.h&&typeof o<"u"){if(y.v&&Ea(y)==4)setTimeout(y.Ca.bind(y),0);else if(ct(y,"readystatechange"),Ea(y)==4){y.h=!1;try{const Pe=y.ca();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var z;if(!(z=R)){var Z;if(Z=Pe===0){let et=String(y.D).match(lc)[1]||null;!et&&c.self&&c.self.location&&(et=c.self.location.protocol.slice(0,-1)),Z=!_a.test(et?et.toLowerCase():"")}z=Z}if(z)ct(y,"complete"),ct(y,"success");else{y.o=6;try{var _e=Ea(y)>2?y.g.statusText:""}catch{_e=""}y.l=_e+" ["+y.ca()+"]",fc(y)}}finally{Qi(y)}}}}function Qi(y,R){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const z=y.g;y.g=null,R||ct(y,"ready");try{z.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ea(y){return y.g?y.g.readyState:0}n.ca=function(){try{return Ea(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(y){if(this.g){var R=this.g.responseText;return y&&R.indexOf(y)==0&&(R=R.substring(y.length)),wt(R)}};function Wr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function yi(y){const R={};y=(y.g&&Ea(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let Z=0;Z<y.length;Z++){if(B(y[Z]))continue;var z=ns(y[Z]);const _e=z[0];if(z=z[1],typeof z!="string")continue;z=z.trim();const Pe=R[_e]||[];R[_e]=Pe,Pe.push(z)}ze(R,function(Z){return Z.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Is(y,R,z){return z&&z.internalChannelParams&&z.internalChannelParams[y]||R}function bi(y){this.za=0,this.i=[],this.j=new qs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Is("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Is("baseRetryDelayMs",5e3,y),this.Za=Is("retryDelaySeedMs",1e4,y),this.Ta=Is("forwardChannelMaxRetries",2,y),this.va=Is("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new bl(y&&y.concurrentRequestLimit),this.Ba=new vo,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=bi.prototype,n.ka=8,n.I=1,n.connect=function(y,R,z,Z){At(0),this.W=y,this.H=R||{},z&&Z!==void 0&&(this.H.OSID=z,this.H.OAID=Z),this.F=this.X,this.J=Xe(this,null,this.W),Ba(this)};function No(y){if(wi(y),y.I==3){var R=y.V++,z=Or(y.J);if(Rn(z,"SID",y.M),Rn(z,"RID",R),Rn(z,"TYPE","terminate"),Aa(y,z),R=new Gs(y,y.j,R),R.M=2,R.A=yo(Or(z)),z=!1,c.navigator&&c.navigator.sendBeacon)try{z=c.navigator.sendBeacon(R.A.toString(),"")}catch{}!z&&c.Image&&(new Image().src=R.A,z=!0),z||(R.g=ht(R.j,null),R.g.ea(R.A)),R.F=Date.now(),la(R)}Ve(y)}function vi(y){y.g&&(El(y),y.g.cancel(),y.g=null)}function wi(y){vi(y),y.v&&(c.clearTimeout(y.v),y.v=null),H(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&c.clearTimeout(y.m),y.m=null)}function Ba(y){if(!ca(y.h)&&!y.m){y.m=!0;var R=y.Ea;te||U(),ee||(te(),ee=!0),G.add(R,y),y.D=0}}function Wo(y,R){return Ua(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=R.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=xn(f(y.Ea,y,R),ge(y,y.D)),y.D++,!0)}n.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const _e=new Gs(this,this.j,y);let Pe=this.o;if(this.U&&(Pe?(Pe=re(Pe),Q(Pe,this.U)):Pe=this.U),this.u!==null||this.R||(_e.J=Pe,Pe=null),this.S)e:{for(var R=0,z=0;z<this.i.length;z++){t:{var Z=this.i[z];if("__data__"in Z.map&&(Z=Z.map.__data__,typeof Z=="string")){Z=Z.length;break t}Z=void 0}if(Z===void 0)break;if(R+=Z,R>4096){R=z;break e}if(R===4096||z===this.i.length-1){R=z+1;break e}}R=1e3}else R=1e3;R=Ni(this,_e,R),z=Or(this.J),Rn(z,"RID",y),Rn(z,"CVER",22),this.G&&Rn(z,"X-HTTP-Session-Id",this.G),Aa(this,z),Pe&&(this.R?R="headers="+fr(ss(Pe))+"&"+R:this.u&&Ho(z,this.u,Pe)),zo(this.h,_e),this.Ra&&Rn(z,"TYPE","init"),this.S?(Rn(z,"$req",R),Rn(z,"SID","null"),_e.U=!0,rs(_e,z,null)):rs(_e,z,R),this.I=2}}else this.I==3&&(y?Sl(this,y):this.i.length==0||ca(this.h)||Sl(this))};function Sl(y,R){var z;R?z=R.l:z=y.V++;const Z=Or(y.J);Rn(Z,"SID",y.M),Rn(Z,"RID",z),Rn(Z,"AID",y.K),Aa(y,Z),y.u&&y.o&&Ho(Z,y.u,y.o),z=new Gs(y,y.j,z,y.D+1),y.u===null&&(z.J=y.o),R&&(y.i=R.G.concat(y.i)),R=Ni(y,z,1e3),z.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),zo(y.h,z),rs(z,Z,R)}function Aa(y,R){y.H&&Se(y.H,function(z,Z){Rn(R,Z,z)}),y.l&&Se({},function(z,Z){Rn(R,Z,z)})}function Ni(y,R,z){z=Math.min(y.i.length,z);const Z=y.l?f(y.l.Ka,y.l,y):null;e:{var _e=y.i;let Zt=-1;for(;;){const gr=["count="+z];Zt==-1?z>0?(Zt=_e[0].g,gr.push("ofs="+Zt)):Zt=0:gr.push("ofs="+Zt);let bn=!0;for(let Kn=0;Kn<z;Kn++){var Pe=_e[Kn].g;const Rs=_e[Kn].map;if(Pe-=Zt,Pe<0)Zt=Math.max(0,_e[Kn].g-100),bn=!1;else try{Pe="req"+Pe+"_"||"";try{var et=Rs instanceof Map?Rs:Object.entries(Rs);for(const[Ws,ar]of et){let Ks=ar;u(ar)&&(Ks=on(ar)),gr.push(Pe+Ws+"="+encodeURIComponent(Ks))}}catch(Ws){throw gr.push(Pe+"type="+encodeURIComponent("_badmap")),Ws}}catch{Z&&Z(Rs)}}if(bn){et=gr.join("&");break e}}et=void 0}return y=y.i.splice(0,z),R.G=y,et}function mc(y){if(!y.g&&!y.v){y.Y=1;var R=y.Da;te||U(),ee||(te(),ee=!0),G.add(R,y),y.A=0}}function ai(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=xn(f(y.Da,y),ge(y,y.A)),y.A++,!0)}n.Da=function(){if(this.v=null,A(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=xn(f(this.Wa,this),y)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),vi(this),A(this))};function El(y){y.B!=null&&(c.clearTimeout(y.B),y.B=null)}function A(y){y.g=new Gs(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var R=Or(y.na);Rn(R,"RID","rpc"),Rn(R,"SID",y.M),Rn(R,"AID",y.K),Rn(R,"CI",y.F?"0":"1"),!y.F&&y.ia&&Rn(R,"TO",y.ia),Rn(R,"TYPE","xmlhttp"),Aa(y,R),y.u&&y.o&&Ho(R,y.u,y.o),y.O&&(y.g.H=y.O);var z=y.g;y=y.ba,z.M=1,z.A=yo(Or(R)),z.u=null,z.R=!0,oa(z,y)}n.Va=function(){this.C!=null&&(this.C=null,vi(this),ai(this),At(19))};function H(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function oe(y,R){var z=null;if(y.g==R){H(y),El(y),y.g=null;var Z=2}else if(ni(y.h,R))z=R.G,vl(y.h,R),Z=1;else return;if(y.I!=0){if(R.o)if(Z==1){z=R.u?R.u.length:0,R=Date.now()-R.F;var _e=y.D;Z=zn(),ct(Z,new jt(Z,z)),Ba(y)}else mc(y);else if(_e=R.m,_e==3||_e==0&&R.X>0||!(Z==1&&Wo(y,R)||Z==2&&ai(y)))switch(z&&z.length>0&&(R=y.h,R.i=R.i.concat(z)),_e){case 1:we(y,5);break;case 4:we(y,10);break;case 3:we(y,6);break;default:we(y,2)}}}function ge(y,R){let z=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(z*=2),z*R}function we(y,R){if(y.j.info("Error code "+R),R==2){var z=f(y.bb,y),Z=y.Ua;const _e=!Z;Z=new Cs(Z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||wn(Z,"https"),yo(Z),_e?ri(Z.toString(),z):Xi(Z.toString(),z)}else At(2);y.I=0,y.l&&y.l.pa(R),Ve(y),wi(y)}n.bb=function(y){y?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Ve(y){if(y.I=0,y.ja=[],y.l){const R=wl(y.h);(R.length!=0||y.i.length!=0)&&(T(y.ja,R),T(y.ja,y.i),y.h.i.length=0,b(y.i),y.i.length=0),y.l.oa()}}function Xe(y,R,z){var Z=z instanceof Cs?Or(z):new Cs(z);if(Z.g!="")R&&(Z.g=R+"."+Z.g),Wi(Z,Z.u);else{var _e=c.location;Z=_e.protocol,R=R?R+"."+_e.hostname:_e.hostname,_e=+_e.port;const Pe=new Cs(null);Z&&wn(Pe,Z),R&&(Pe.g=R),_e&&Wi(Pe,_e),z&&(Pe.h=z),Z=Pe}return z=y.G,R=y.wa,z&&R&&Rn(Z,z,R),Rn(Z,"VER",y.ka),Aa(y,Z),Z}function ht(y,R,z){if(R&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=y.Aa&&!y.ma?new Wn(new Ot({ab:z})):new Wn(y.ma),R.Fa(y.L),R}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xt(){}n=xt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ut(){}Ut.prototype.g=function(y,R){return new It(y,R)};function It(y,R){He.call(this),this.g=new bi(R),this.l=y,this.h=R&&R.messageUrlParams||null,y=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(y?y["X-WebChannel-Content-Type"]=R.messageContentType:y={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(y?y["X-WebChannel-Client-Profile"]=R.sa:y={"X-WebChannel-Client-Profile":R.sa}),this.g.U=y,(y=R&&R.Qb)&&!B(y)&&(this.g.u=y),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!B(R)&&(this.g.G=R,y=this.h,y!==null&&R in y&&(y=this.h,R in y&&delete y[R])),this.j=new rr(this)}x(It,He),It.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){No(this.g)},It.prototype.o=function(y){var R=this.g;if(typeof y=="string"){var z={};z.__data__=y,y=z}else this.v&&(z={},z.__data__=on(y),y=z);R.i.push(new Ir(R.Ya++,y)),R.I==3&&Ba(R)},It.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,It.Z.N.call(this)};function En(y){Lt.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var R=y.__sm__;if(R){e:{for(const z in R){y=z;break e}y=void 0}(this.i=y)&&(y=this.i,R=R!==null&&y in R?R[y]:void 0),this.data=R}else this.data=y}x(En,Lt);function mr(){Wt.call(this),this.status=1}x(mr,Wt);function rr(y){this.g=y}x(rr,xt),rr.prototype.ra=function(){ct(this.g,"a")},rr.prototype.qa=function(y){ct(this.g,new En(y))},rr.prototype.pa=function(y){ct(this.g,new mr)},rr.prototype.oa=function(){ct(this.g,"b")},Ut.prototype.createWebChannel=Ut.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,cS=function(){return new Ut},lS=function(){return zn()},oS=an,G1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},va.NO_ERROR=0,va.TIMEOUT=8,va.HTTP_ERROR=6,R0=va,aa.COMPLETE="complete",iS=aa,Tr.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",He.prototype.listen=He.prototype.J,rg=Tr,Wn.prototype.listenOnce=Wn.prototype.K,Wn.prototype.getLastError=Wn.prototype.Ha,Wn.prototype.getLastErrorCode=Wn.prototype.ya,Wn.prototype.getStatus=Wn.prototype.ca,Wn.prototype.getResponseJson=Wn.prototype.La,Wn.prototype.getResponseText=Wn.prototype.la,Wn.prototype.send=Wn.prototype.ea,Wn.prototype.setWithCredentials=Wn.prototype.Fa,aS=Wn}).apply(typeof o0<"u"?o0:typeof self<"u"?self:typeof window<"u"?window:{});const Cj="@firebase/firestore",Ij="4.9.2";let La=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};La.UNAUTHENTICATED=new La(null),La.GOOGLE_CREDENTIALS=new La("google-credentials-uid"),La.FIRST_PARTY=new La("first-party-uid"),La.MOCK_USER=new La("mock-user");let rm="12.3.0";const eh=new K2("@firebase/firestore");function mf(){return eh.logLevel}function Ze(n,...e){if(eh.logLevel<=Ln.DEBUG){const t=e.map(av);eh.debug(`Firestore (${rm}): ${n}`,...t)}}function fi(n,...e){if(eh.logLevel<=Ln.ERROR){const t=e.map(av);eh.error(`Firestore (${rm}): ${n}`,...t)}}function th(n,...e){if(eh.logLevel<=Ln.WARN){const t=e.map(av);eh.warn(`Firestore (${rm}): ${n}`,...t)}}function av(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function vt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,uS(n,r,t)}function uS(n,e,t){let r=`FIRESTORE (${rm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw fi(r),new Error(r)}function kt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||uS(e,a,r)}function un(n,e){return n}const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends sc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class dS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(La.UNAUTHENTICATED)))}shutdown(){}}class X7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Q7{constructor(e){this.t=e,this.currentUser=La.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){kt(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new Jl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Jl,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},u=h=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Jl)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string",31837,{l:r}),new dS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new La(e)}}class J7{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=La.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Z7{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new J7(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(La.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){kt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Ze("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Rj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(kt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Rj(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class iv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=tL(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function cn(n,e){return n<e?-1:n>e?1:0}function H1(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),o=e.charAt(r);if(a!==o)return Yb(a)===Yb(o)?cn(a,o):Yb(a)?1:-1}return cn(n.length,e.length)}const nL=55296,rL=57343;function Yb(n){const e=n.charCodeAt(0);return e>=nL&&e<=rL}function Df(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}function hS(n){return n+"\0"}const kj="__name__";class ql{constructor(e,t,r){t===void 0?t=0:t>e.length&&vt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&vt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ql.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ql?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=ql.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return cn(e.length,t.length)}static compareSegments(e,t){const r=ql.isNumericId(e),a=ql.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?ql.extractNumericId(e).compare(ql.extractNumericId(t)):H1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yu.fromString(e.substring(4,e.length-2))}}class tr extends ql{construct(e,t,r){return new tr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new tt(Ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new tr(t)}static emptyPath(){return new tr([])}}const sL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jr extends ql{construct(e,t,r){return new Jr(e,t,r)}static isValidIdentifier(e){return sL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kj}static keyField(){return new Jr([kj])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new tt(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const u=e[a];if(u==="\\"){if(a+1===e.length)throw new tt(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new tt(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else u==="`"?(c=!c,a++):u!=="."||c?(r+=u,a++):(o(),a++)}if(o(),c)throw new tt(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jr(t)}static emptyPath(){return new Jr([])}}class ot{constructor(e){this.path=e}static fromPath(e){return new ot(tr.fromString(e))}static fromName(e){return new ot(tr.fromString(e).popFirst(5))}static empty(){return new ot(tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new tr(e.slice()))}}function fS(n,e,t){if(!t)throw new tt(Ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aL(n,e,t,r){if(e===!0&&r===!0)throw new tt(Ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Pj(n){if(!ot.isDocumentKey(n))throw new tt(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Lj(n){if(ot.isDocumentKey(n))throw new tt(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Bx(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":vt(12329,{type:typeof n})}function gi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new tt(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bx(n);throw new tt(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Fs(n,e){const t={typeString:n};return e&&(t.value=e),t}function Qg(n,e){if(!mS(n))throw new tt(Ue.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new tt(Ue.INVALID_ARGUMENT,t);return!0}const Dj=-62135596800,Mj=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Mj);return new gt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tt(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tt(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Dj)throw new tt(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mj}_compareTo(e){return this.seconds===e.seconds?cn(this.nanoseconds,e.nanoseconds):cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qg(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Fs("string",gt._jsonSchemaVersion),seconds:Fs("number"),nanoseconds:Fs("number")};class Gt{static fromTimestamp(e){return new Gt(e)}static min(){return new Gt(new gt(0,0))}static max(){return new Gt(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Cg=-1;class ax{constructor(e,t,r,a){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=a}}function $1(n){return n.fields.find((e=>e.kind===2))}function Pd(n){return n.fields.filter((e=>e.kind!==2))}ax.UNKNOWN_ID=-1;class k0{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ig{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ig(0,fo.min())}}function iL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Gt.fromTimestamp(r===1e9?new gt(t+1,0):new gt(t,r));return new fo(a,ot.empty(),e)}function gS(n){return new fo(n.readTime,n.key,Cg)}class fo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new fo(Gt.min(),ot.empty(),Cg)}static max(){return new fo(Gt.max(),ot.empty(),Cg)}}function ov(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ot.comparator(n.documentKey,e.documentKey),t!==0?t:cn(n.largestBatchId,e.largestBatchId))}const pS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function mh(n){if(n.code!==Ue.FAILED_PRECONDITION||n.message!==pS)throw n;Ze("LocalStore","Unexpectedly lost primary lease")}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.reject(t)}static resolve(e){return new Te(((t,r)=>{t(e)}))}static reject(e){return new Te(((t,r)=>{r(e)}))}static waitFor(e){return new Te(((t,r)=>{let a=0,o=0,c=!1;e.forEach((u=>{++a,u.next((()=>{++o,c&&o===a&&t()}),(h=>r(h)))})),c=!0,o===a&&t()}))}static or(e){let t=Te.resolve(!1);for(const r of e)t=t.next((a=>a?Te.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,o)=>{r.push(t.call(this,a,o))})),this.waitFor(r)}static mapArray(e,t){return new Te(((r,a)=>{const o=e.length,c=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;t(e[f]).next((g=>{c[f]=g,++u,u===o&&r(c)}),(g=>a(g)))}}))}static doWhile(e,t){return new Te(((r,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):r()};o()}))}}const io="SimpleDb";class zx{static open(e,t,r,a){try{return new zx(t,e.transaction(a,r))}catch(o){throw new ug(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Jl,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new ug(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=lv(r.target.error);this.S.reject(new ug(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Ze(io,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new lL(t)}}class Xu{static delete(e){return Ze(io,"Removing database:",e),Md(i3().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!g3())return!1;if(Xu.F())return!0;const e=ra(),t=Xu.M(e),r=0<t&&t<10,a=yS(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Xu.M(ra())===12.2&&fi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Ze(io,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const c=o.target.result;t(c)},a.onblocked=()=>{r(new ug(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const c=o.target.error;c.name==="VersionError"?r(new tt(Ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new tt(Ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new ug(e,c))},a.onupgradeneeded=o=>{Ze(io,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const c=o.target.result;this.N.k(c,a.transaction,o.oldVersion,this.version).next((()=>{Ze(io,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,a){const o=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const u=zx.open(this.db,e,o?"readonly":"readwrite",r),h=a(u).next((f=>(u.C(),f))).catch((f=>(u.abort(f),Te.reject(f)))).toPromise();return h.catch((()=>{})),await u.D,h}catch(u){const h=u,f=h.name!=="FirebaseError"&&c<3;if(Ze(io,"Transaction failed with error:",h.message,"Retrying:",f),this.close(),!f)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function yS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class oL{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Md(this.U.delete())}}class ug extends tt{constructor(e,t){super(Ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function dd(n){return n.name==="IndexedDbTransactionError"}class lL{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(Ze(io,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ze(io,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Md(r)}add(e){return Ze(io,"ADD",this.store.name,e,e),Md(this.store.add(e))}get(e){return Md(this.store.get(e)).next((t=>(t===void 0&&(t=null),Ze(io,"GET",this.store.name,e,t),t)))}delete(e){return Ze(io,"DELETE",this.store.name,e),Md(this.store.delete(e))}count(){return Ze(io,"COUNT",this.store.name),Md(this.store.count())}J(e,t){const r=this.options(e,t),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(r.range);return new Te(((c,u)=>{o.onerror=h=>{u(h.target.error)},o.onsuccess=h=>{c(h.target.result)}}))}{const o=this.cursor(r),c=[];return this.H(o,((u,h)=>{c.push(h)})).next((()=>c))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new Te(((a,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{a(c.target.result)}}))}Z(e,t){Ze(io,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const a=this.cursor(r);return this.H(a,((o,c,u)=>u.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.H(a,t)}te(e){const t=this.cursor({});return new Te(((r,a)=>{t.onerror=o=>{const c=lv(o.target.error);a(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next((u=>{u?c.continue():r()})):r()}}))}H(e,t){const r=[];return new Te(((a,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const u=c.target.result;if(!u)return void a();const h=new oL(u),f=t(u.primaryKey,u.value,h);if(f instanceof Te){const g=f.catch((x=>(h.done(),Te.reject(x))));r.push(g)}h.isDone?a():h.G===null?u.continue():u.continue(h.G)}})).next((()=>Te.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Md(n){return new Te(((e,t)=>{n.onsuccess=r=>{const a=r.target.result;e(a)},n.onerror=r=>{const a=lv(r.target.error);t(a)}}))}let Oj=!1;function lv(n){const e=Xu.M(ra());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Oj||(Oj=!0,setTimeout((()=>{throw r}),0)),r}}return n}const dg="IndexBackfiller";class cL{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){Ze(dg,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();Ze(dg,`Documents written: ${t}`)}catch(t){dd(t)?Ze(dg,"Ignoring IndexedDB error during index backfill: ",t):await mh(t)}await this.re(6e4)}))}}class uL{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let a=t,o=!0;return Te.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return Ze(dg,`Processing collection: ${c}`),this.oe(e,c,a).next((u=>{a-=u,r.add(c)}));o=!1})))).next((()=>t-a))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,r).next((o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,o))).next((u=>(Ze(dg,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u)))).next((()=>c.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((a,o)=>{const c=gS(o);ov(c,r)>0&&(r=c)})),new fo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Oo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Oo.ce=-1;const zd=-1;function qx(n){return n==null}function Rg(n){return n===0&&1/n==-1/0}function dL(n){return typeof n=="number"&&Number.isInteger(n)&&!Rg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const ix="";function Ja(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Fj(e)),e=hL(n.get(t),e);return Fj(e)}function hL(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case ix:t+="";break;default:t+=o}}return t}function Fj(n){return n+ix+""}function Gl(n){const e=n.length;if(kt(e>=2,64408,{path:n}),e===2)return kt(n.charAt(0)===ix&&n.charAt(1)==="",56145,{path:n}),tr.emptyPath();const t=e-2,r=[];let a="";for(let o=0;o<e;){const c=n.indexOf(ix,o);switch((c<0||c>t)&&vt(50515,{path:n}),n.charAt(c+1)){case"":const u=n.substring(o,c);let h;a.length===0?h=u:(a+=u,h=a,a=""),r.push(h);break;case"":a+=n.substring(o,c),a+="\0";break;case"":a+=n.substring(o,c+1);break;default:vt(61167,{path:n})}o=c+2}return new tr(r)}const Ld="remoteDocuments",Jg="owner",tf="owner",kg="mutationQueues",fL="userId",ul="mutations",Uj="batchId",Bd="userMutationsIndex",Vj=["userId","batchId"];function P0(n,e){return[n,Ja(e)]}function bS(n,e,t){return[n,Ja(e),t]}const mL={},Mf="documentMutations",ox="remoteDocumentsV14",gL=["prefixPath","collectionGroup","readTime","documentId"],L0="documentKeyIndex",pL=["prefixPath","collectionGroup","documentId"],vS="collectionGroupIndex",xL=["collectionGroup","readTime","prefixPath","documentId"],Pg="remoteDocumentGlobal",W1="remoteDocumentGlobalKey",Of="targets",wS="queryTargetsIndex",yL=["canonicalId","targetId"],Ff="targetDocuments",bL=["targetId","path"],cv="documentTargetsIndex",vL=["path","targetId"],lx="targetGlobalKey",qd="targetGlobal",Lg="collectionParents",wL=["collectionId","parent"],Uf="clientMetadata",NL="clientId",Gx="bundles",jL="bundleId",Hx="namedQueries",_L="name",uv="indexConfiguration",SL="indexId",K1="collectionGroupIndex",EL="collectionGroup",hg="indexState",AL=["indexId","uid"],NS="sequenceNumberIndex",TL=["uid","sequenceNumber"],fg="indexEntries",CL=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jS="documentKeyIndex",IL=["indexId","uid","orderedDocumentKey"],$x="documentOverlays",RL=["userId","collectionPath","documentId"],Y1="collectionPathOverlayIndex",kL=["userId","collectionPath","largestBatchId"],_S="collectionGroupOverlayIndex",PL=["userId","collectionGroup","largestBatchId"],dv="globals",LL="name",SS=[kg,ul,Mf,Ld,Of,Jg,qd,Ff,Uf,Pg,Lg,Gx,Hx],DL=[...SS,$x],ES=[kg,ul,Mf,ox,Of,Jg,qd,Ff,Uf,Pg,Lg,Gx,Hx,$x],AS=ES,hv=[...AS,uv,hg,fg],ML=hv,TS=[...hv,dv],OL=TS;class X1 extends xS{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function sa(n,e){const t=un(n);return Xu.O(t.le,e)}function Bj(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Hr{constructor(e,t){this.comparator=e,this.root=t||Da.EMPTY}insert(e,t){return new Hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Da.BLACK,null,null))}remove(e){return new Hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Da.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new l0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new l0(this.root,e,this.comparator,!1)}getReverseIterator(){return new l0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new l0(this.root,e,this.comparator,!0)}}class l0{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Da{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Da.RED,this.left=a??Da.EMPTY,this.right=o??Da.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Da(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Da.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Da.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Da.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Da.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}Da.EMPTY=null,Da.RED=!0,Da.BLACK=!1;Da.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new Da(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dr{constructor(e){this.comparator=e,this.data=new Hr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zj(this.data.getIterator())}getIteratorFrom(e){return new zj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof dr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new dr(this.comparator);return t.data=e,t}}class zj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nf(n){return n.hasNext()?n.getNext():void 0}class Ui{constructor(e){this.fields=e,e.sort(Jr.comparator)}static empty(){return new Ui([])}unionWith(e){let t=new dr(Jr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ui(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Df(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class IS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new IS("Invalid base64 string: "+o):o}})(e);return new Vs(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new Vs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vs.EMPTY_BYTE_STRING=new Vs("");const FL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kc(n){if(kt(!!n,39018),typeof n=="string"){let e=0;const t=FL.exec(n);if(kt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gr(n.seconds),nanos:Gr(n.nanos)}}function Gr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Yc(n){return typeof n=="string"?Vs.fromBase64String(n):Vs.fromUint8Array(n)}const RS="server_timestamp",kS="__type__",PS="__previous_value__",LS="__local_write_time__";function fv(n){return(n?.mapValue?.fields||{})[kS]?.stringValue===RS}function Wx(n){const e=n.mapValue.fields[PS];return fv(e)?Wx(e):e}function Dg(n){const e=Kc(n.mapValue.fields[LS].timestampValue);return new gt(e.seconds,e.nanos)}class UL{constructor(e,t,r,a,o,c,u,h,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=g}}const cx="(default)";class nh{constructor(e,t){this.projectId=e,this.database=t||cx}static empty(){return new nh("","")}get isDefaultDatabase(){return this.database===cx}isEqual(e){return e instanceof nh&&e.projectId===this.projectId&&e.database===this.database}}const mv="__type__",DS="__max__",Gu={mapValue:{fields:{__type__:{stringValue:DS}}}},gv="__vector__",Vf="value",D0={nullValue:"NULL_VALUE"};function ed(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fv(n)?4:MS(n)?9007199254740991:Kx(n)?10:11:vt(28295,{value:n})}function tc(n,e){if(n===e)return!0;const t=ed(n);if(t!==ed(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dg(n).isEqual(Dg(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Kc(a.timestampValue),u=Kc(o.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return Yc(a.bytesValue).isEqual(Yc(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return Gr(a.geoPointValue.latitude)===Gr(o.geoPointValue.latitude)&&Gr(a.geoPointValue.longitude)===Gr(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Gr(a.integerValue)===Gr(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Gr(a.doubleValue),u=Gr(o.doubleValue);return c===u?Rg(c)===Rg(u):isNaN(c)&&isNaN(u)}return!1})(n,e);case 9:return Df(n.arrayValue.values||[],e.arrayValue.values||[],tc);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},u=o.mapValue.fields||{};if(Bj(c)!==Bj(u))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(u[h]===void 0||!tc(c[h],u[h])))return!1;return!0})(n,e);default:return vt(52216,{left:n})}}function Mg(n,e){return(n.values||[]).find((t=>tc(t,e)))!==void 0}function td(n,e){if(n===e)return 0;const t=ed(n),r=ed(e);if(t!==r)return cn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return cn(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const u=Gr(o.integerValue||o.doubleValue),h=Gr(c.integerValue||c.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(n,e);case 3:return qj(n.timestampValue,e.timestampValue);case 4:return qj(Dg(n),Dg(e));case 5:return H1(n.stringValue,e.stringValue);case 6:return(function(o,c){const u=Yc(o),h=Yc(c);return u.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const u=o.split("/"),h=c.split("/");for(let f=0;f<u.length&&f<h.length;f++){const g=cn(u[f],h[f]);if(g!==0)return g}return cn(u.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const u=cn(Gr(o.latitude),Gr(c.latitude));return u!==0?u:cn(Gr(o.longitude),Gr(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Gj(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const u=o.fields||{},h=c.fields||{},f=u[Vf]?.arrayValue,g=h[Vf]?.arrayValue,x=cn(f?.values?.length||0,g?.values?.length||0);return x!==0?x:Gj(f,g)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Gu.mapValue&&c===Gu.mapValue)return 0;if(o===Gu.mapValue)return 1;if(c===Gu.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),f=c.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let x=0;x<h.length&&x<g.length;++x){const v=H1(h[x],g[x]);if(v!==0)return v;const b=td(u[h[x]],f[g[x]]);if(b!==0)return b}return cn(h.length,g.length)})(n.mapValue,e.mapValue);default:throw vt(23264,{he:t})}}function qj(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return cn(n,e);const t=Kc(n),r=Kc(e),a=cn(t.seconds,r.seconds);return a!==0?a:cn(t.nanos,r.nanos)}function Gj(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=td(t[a],r[a]);if(o)return o}return cn(t.length,r.length)}function Bf(n){return Q1(n)}function Q1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Kc(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Yc(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ot.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=Q1(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${Q1(t.fields[c])}`;return a+"}"})(n.mapValue):vt(61005,{value:n})}function M0(n){switch(ed(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wx(n);return e?16+M0(e):16;case 5:return 2*n.stringValue.length;case 6:return Yc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+M0(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return hd(r.fields,((o,c)=>{a+=o.length+M0(c)})),a})(n.mapValue);default:throw vt(13486,{value:n})}}function Og(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function J1(n){return!!n&&"integerValue"in n}function Fg(n){return!!n&&"arrayValue"in n}function Hj(n){return!!n&&"nullValue"in n}function $j(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function O0(n){return!!n&&"mapValue"in n}function Kx(n){return(n?.mapValue?.fields||{})[mv]?.stringValue===gv}function mg(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return hd(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=mg(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mg(n.arrayValue.values[t]);return e}return{...n}}function MS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===DS}const OS={mapValue:{fields:{[mv]:{stringValue:gv},[Vf]:{arrayValue:{}}}}};function VL(n){return"nullValue"in n?D0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Og(nh.empty(),ot.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Kx(n)?OS:{mapValue:{}}:vt(35942,{value:n})}function BL(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Og(nh.empty(),ot.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?OS:"mapValue"in n?Kx(n)?{mapValue:{}}:Gu:vt(61959,{value:n})}function Wj(n,e){const t=td(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Kj(n,e){const t=td(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Qa{constructor(e){this.value=e}static empty(){return new Qa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!O0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mg(t)}setAll(e){let t=Jr.emptyPath(),r={},a=[];e.forEach(((c,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,a),r={},a=[],t=u.popLast()}c?r[u.lastSegment()]=mg(c):a.push(u.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());O0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];O0(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){hd(t,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new Qa(mg(this.value))}}function FS(n){const e=[];return hd(n.fields,((t,r)=>{const a=new Jr([t]);if(O0(r)){const o=FS(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new Ui(e)}class hs{constructor(e,t,r,a,o,c,u){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=u}static newInvalidDocument(e){return new hs(e,0,Gt.min(),Gt.min(),Gt.min(),Qa.empty(),0)}static newFoundDocument(e,t,r,a){return new hs(e,1,t,Gt.min(),r,a,0)}static newNoDocument(e,t){return new hs(e,2,t,Gt.min(),Gt.min(),Qa.empty(),0)}static newUnknownDocument(e,t){return new hs(e,3,t,Gt.min(),Gt.min(),Qa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zf{constructor(e,t){this.position=e,this.inclusive=t}}function Yj(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?r=ot.comparator(ot.fromName(c.referenceValue),t.key):r=td(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xj(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!tc(n.position[t],e.position[t]))return!1;return!0}class Ug{constructor(e,t="asc"){this.field=e,this.dir=t}}function zL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class US{}class Dn extends US{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new qL(e,t,r):t==="array-contains"?new $L(e,r):t==="in"?new HS(e,r):t==="not-in"?new WL(e,r):t==="array-contains-any"?new KL(e,r):new Dn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new GL(e,r):new HL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(td(t,this.value)):t!==null&&ed(this.value)===ed(t)&&this.matchesComparison(td(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends US{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ur(e,t)}matches(e){return qf(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qf(n){return n.op==="and"}function Z1(n){return n.op==="or"}function pv(n){return VS(n)&&qf(n)}function VS(n){for(const e of n.filters)if(e instanceof ur)return!1;return!0}function e2(n){if(n instanceof Dn)return n.field.canonicalString()+n.op.toString()+Bf(n.value);if(pv(n))return n.filters.map((e=>e2(e))).join(",");{const e=n.filters.map((t=>e2(t))).join(",");return`${n.op}(${e})`}}function BS(n,e){return n instanceof Dn?(function(r,a){return a instanceof Dn&&r.op===a.op&&r.field.isEqual(a.field)&&tc(r.value,a.value)})(n,e):n instanceof ur?(function(r,a){return a instanceof ur&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,u)=>o&&BS(c,a.filters[u])),!0):!1})(n,e):void vt(19439)}function zS(n,e){const t=n.filters.concat(e);return ur.create(t,n.op)}function qS(n){return n instanceof Dn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Bf(t.value)}`})(n):n instanceof ur?(function(t){return t.op.toString()+" {"+t.getFilters().map(qS).join(" ,")+"}"})(n):"Filter"}class qL extends Dn{constructor(e,t,r){super(e,t,r),this.key=ot.fromName(r.referenceValue)}matches(e){const t=ot.comparator(e.key,this.key);return this.matchesComparison(t)}}class GL extends Dn{constructor(e,t){super(e,"in",t),this.keys=GS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class HL extends Dn{constructor(e,t){super(e,"not-in",t),this.keys=GS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function GS(n,e){return(e.arrayValue?.values||[]).map((t=>ot.fromName(t.referenceValue)))}class $L extends Dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fg(t)&&Mg(t.arrayValue,this.value)}}class HS extends Dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Mg(this.value.arrayValue,t)}}class WL extends Dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Mg(this.value.arrayValue,t)}}class KL extends Dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Mg(this.value.arrayValue,r)))}}class YL{constructor(e,t=null,r=[],a=[],o=null,c=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=u,this.Te=null}}function t2(n,e=null,t=[],r=[],a=null,o=null,c=null){return new YL(n,e,t,r,a,o,c)}function rh(n){const e=un(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>e2(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),qx(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Bf(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Bf(r))).join(",")),e.Te=t}return e.Te}function Zg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!BS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Xj(n.startAt,e.startAt)&&Xj(n.endAt,e.endAt)}function ux(n){return ot.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function dx(n,e){return n.filters.filter((t=>t instanceof Dn&&t.field.isEqual(e)))}function Qj(n,e,t){let r=D0,a=!0;for(const o of dx(n,e)){let c=D0,u=!0;switch(o.op){case"<":case"<=":c=VL(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,u=!1;break;case"!=":case"not-in":c=D0}Wj({value:r,inclusive:a},{value:c,inclusive:u})<0&&(r=c,a=u)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];Wj({value:r,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(r=c,a=t.inclusive);break}}return{value:r,inclusive:a}}function Jj(n,e,t){let r=Gu,a=!0;for(const o of dx(n,e)){let c=Gu,u=!0;switch(o.op){case">=":case">":c=BL(o.value),u=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,u=!1;break;case"!=":case"not-in":c=Gu}Kj({value:r,inclusive:a},{value:c,inclusive:u})>0&&(r=c,a=u)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];Kj({value:r,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(r=c,a=t.inclusive);break}}return{value:r,inclusive:a}}class sm{constructor(e,t=null,r=[],a=[],o=null,c="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XL(n,e,t,r,a,o,c,u){return new sm(n,e,t,r,a,o,c,u)}function Yx(n){return new sm(n)}function Zj(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $S(n){return n.collectionGroup!==null}function gg(n){const e=un(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new dr(Jr.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Ug(o,r))})),t.has(Jr.keyField().canonicalString())||e.Ie.push(new Ug(Jr.keyField(),r))}return e.Ie}function Fo(n){const e=un(n);return e.Ee||(e.Ee=QL(e,gg(n))),e.Ee}function QL(n,e){if(n.limitType==="F")return t2(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Ug(a.field,o)}));const t=n.endAt?new zf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new zf(n.startAt.position,n.startAt.inclusive):null;return t2(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function n2(n,e){const t=n.filters.concat([e]);return new sm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function r2(n,e,t){return new sm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Xx(n,e){return Zg(Fo(n),Fo(e))&&n.limitType===e.limitType}function WS(n){return`${rh(Fo(n))}|lt:${n.limitType}`}function gf(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>qS(a))).join(", ")}]`),qx(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Bf(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Bf(a))).join(",")),`Target(${r})`})(Fo(n))}; limitType=${n.limitType})`}function ep(n,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ot.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,a){for(const o of gg(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(c,u,h){const f=Yj(c,u,h);return c.inclusive?f<=0:f<0})(r.startAt,gg(r),a)||r.endAt&&!(function(c,u,h){const f=Yj(c,u,h);return c.inclusive?f>=0:f>0})(r.endAt,gg(r),a))})(n,e)}function JL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KS(n){return(e,t)=>{let r=!1;for(const a of gg(n)){const o=ZL(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function ZL(n,e,t){const r=n.field.isKeyField()?ot.comparator(e.key,t.key):(function(o,c,u){const h=c.data.field(o),f=u.data.field(o);return h!==null&&f!==null?td(h,f):vt(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:n.dir})}}class Zc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){hd(this.inner,((t,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return CS(this.inner)}size(){return this.innerSize}}const eD=new Hr(ot.comparator);function co(){return eD}const YS=new Hr(ot.comparator);function sg(...n){let e=YS;for(const t of n)e=e.insert(t.key,t);return e}function XS(n){let e=YS;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Hl(){return pg()}function QS(){return pg()}function pg(){return new Zc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const tD=new Hr(ot.comparator),nD=new dr(ot.comparator);function Sn(...n){let e=nD;for(const t of n)e=e.add(t);return e}const rD=new dr(cn);function sD(){return rD}function xv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rg(e)?"-0":e}}function JS(n){return{integerValue:""+n}}function aD(n,e){return dL(e)?JS(e):xv(n,e)}class Qx{constructor(){this._=void 0}}function iD(n,e,t){return n instanceof Gf?(function(a,o){const c={fields:{[kS]:{stringValue:RS},[LS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&fv(o)&&(o=Wx(o)),o&&(c.fields[PS]=o),{mapValue:c}})(t,e):n instanceof Hf?eE(n,e):n instanceof $f?tE(n,e):(function(a,o){const c=ZS(a,o),u=e_(c)+e_(a.Ae);return J1(c)&&J1(a.Ae)?JS(u):xv(a.serializer,u)})(n,e)}function oD(n,e,t){return n instanceof Hf?eE(n,e):n instanceof $f?tE(n,e):t}function ZS(n,e){return n instanceof Vg?(function(r){return J1(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Gf extends Qx{}class Hf extends Qx{constructor(e){super(),this.elements=e}}function eE(n,e){const t=nE(e);for(const r of n.elements)t.some((a=>tc(a,r)))||t.push(r);return{arrayValue:{values:t}}}class $f extends Qx{constructor(e){super(),this.elements=e}}function tE(n,e){let t=nE(e);for(const r of n.elements)t=t.filter((a=>!tc(a,r)));return{arrayValue:{values:t}}}class Vg extends Qx{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function e_(n){return Gr(n.integerValue||n.doubleValue)}function nE(n){return Fg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rE{constructor(e,t){this.field=e,this.transform=t}}function lD(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof Hf&&a instanceof Hf||r instanceof $f&&a instanceof $f?Df(r.elements,a.elements,tc):r instanceof Vg&&a instanceof Vg?tc(r.Ae,a.Ae):r instanceof Gf&&a instanceof Gf})(n.transform,e.transform)}class cD{constructor(e,t){this.version=e,this.transformResults=t}}class na{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new na}static exists(e){return new na(void 0,e)}static updateTime(e){return new na(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function F0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Jx{}function sE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new tp(n.key,na.none()):new am(n.key,n.data,na.none());{const t=n.data,r=Qa.empty();let a=new dr(Jr.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new eu(n.key,r,new Ui(a.toArray()),na.none())}}function uD(n,e,t){n instanceof am?(function(a,o,c){const u=a.value.clone(),h=n_(a.fieldTransforms,o,c.transformResults);u.setAll(h),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(n,e,t):n instanceof eu?(function(a,o,c){if(!F0(a.precondition,o))return void o.convertToUnknownDocument(c.version);const u=n_(a.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(aE(a)),h.setAll(u),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function xg(n,e,t,r){return n instanceof am?(function(o,c,u,h){if(!F0(o.precondition,c))return u;const f=o.value.clone(),g=r_(o.fieldTransforms,h,c);return f.setAll(g),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof eu?(function(o,c,u,h){if(!F0(o.precondition,c))return u;const f=r_(o.fieldTransforms,h,c),g=c.data;return g.setAll(aE(o)),g.setAll(f),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((x=>x.field)))})(n,e,t,r):(function(o,c,u){return F0(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u})(n,e,t)}function dD(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=ZS(r.transform,a||null);o!=null&&(t===null&&(t=Qa.empty()),t.set(r.field,o))}return t||null}function t_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Df(r,a,((o,c)=>lD(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class am extends Jx{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class eu extends Jx{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function aE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function n_(n,e,t){const r=new Map;kt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,u=e.data.field(o.field);r.set(o.field,oD(c,u,t[a]))}return r}function r_(n,e,t){const r=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);r.set(a.field,iD(o,c,e))}return r}class tp extends Jx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iE extends Jx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yv{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&uD(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=xg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=xg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=QS();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let u=this.applyToLocalView(c,o.mutatedFields);u=t.has(a.key)?null:u;const h=sE(c,u);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Gt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Sn())}isEqual(e){return this.batchId===e.batchId&&Df(this.mutations,e.mutations,((t,r)=>t_(t,r)))&&Df(this.baseMutations,e.baseMutations,((t,r)=>t_(t,r)))}}class bv{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){kt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return tD})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new bv(e,t,r,a)}}class vv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hD{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ms,Bn;function fD(n){switch(n){case Ue.OK:return vt(64938);case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0;default:return vt(15467,{code:n})}}function oE(n){if(n===void 0)return fi("GRPC error has no .code"),Ue.UNKNOWN;switch(n){case Ms.OK:return Ue.OK;case Ms.CANCELLED:return Ue.CANCELLED;case Ms.UNKNOWN:return Ue.UNKNOWN;case Ms.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case Ms.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case Ms.INTERNAL:return Ue.INTERNAL;case Ms.UNAVAILABLE:return Ue.UNAVAILABLE;case Ms.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case Ms.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case Ms.NOT_FOUND:return Ue.NOT_FOUND;case Ms.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case Ms.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case Ms.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case Ms.ABORTED:return Ue.ABORTED;case Ms.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case Ms.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case Ms.DATA_LOSS:return Ue.DATA_LOSS;default:return vt(39323,{code:n})}}(Bn=Ms||(Ms={}))[Bn.OK=0]="OK",Bn[Bn.CANCELLED=1]="CANCELLED",Bn[Bn.UNKNOWN=2]="UNKNOWN",Bn[Bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bn[Bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bn[Bn.NOT_FOUND=5]="NOT_FOUND",Bn[Bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bn[Bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bn[Bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bn[Bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bn[Bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bn[Bn.ABORTED=10]="ABORTED",Bn[Bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bn[Bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bn[Bn.INTERNAL=13]="INTERNAL",Bn[Bn.UNAVAILABLE=14]="UNAVAILABLE",Bn[Bn.DATA_LOSS=15]="DATA_LOSS";function mD(){return new TextEncoder}const gD=new Yu([4294967295,4294967295],0);function s_(n){const e=mD().encode(n),t=new sS;return t.update(e),new Uint8Array(t.digest())}function a_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Yu([t,r],0),new Yu([a,o],0)]}class wv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ag(`Invalid padding: ${t}`);if(r<0)throw new ag(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ag(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ag(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Yu.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Yu.fromNumber(r)));return a.compare(gD)===1&&(a=new Yu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=s_(e),[r,a]=a_(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new wv(o,a,t);return r.forEach((u=>c.insert(u))),c}insert(e){if(this.ge===0)return;const t=s_(e),[r,a]=a_(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ag extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zx{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,np.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Zx(Gt.min(),a,new Hr(cn),co(),Sn())}}class np{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new np(r,t,Sn(),Sn(),Sn())}}class U0{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class lE{constructor(e,t){this.targetId=e,this.Ce=t}}class cE{constructor(e,t,r=Vs.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class i_{constructor(){this.ve=0,this.Fe=o_(),this.Me=Vs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Sn(),t=Sn(),r=Sn();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:vt(38017,{changeType:o})}})),new np(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=o_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pD{constructor(e){this.Ge=e,this.ze=new Map,this.je=co(),this.Je=c0(),this.He=c0(),this.Ye=new Hr(cn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(ux(o))if(r===0){const c=new ot(o.path);this.et(t,c,hs.newNoDocument(c,Gt.min()))}else kt(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const u=this.ut(e),h=u?this.ct(u,e,c):1;if(h!==0){this.it(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let c,u;try{c=Yc(r).toUint8Array()}catch(h){if(h instanceof IS)return th("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new wv(c,a,o)}catch(h){return th(h instanceof ag?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),u=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const u=this.ot(c);if(u){if(o.current&&ux(u.target)){const h=new ot(u.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,hs.newNoDocument(h,e))}o.Be&&(t.set(c,o.ke()),o.qe())}}));let r=Sn();this.He.forEach(((o,c)=>{let u=!0;c.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Zx(e,t,this.Ye,this.je,r);return this.je=co(),this.Je=c0(),this.He=c0(),this.Ye=new Hr(cn),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new i_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new dr(cn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new dr(cn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ze("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new i_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function c0(){return new Hr(ot.comparator)}function o_(){return new Hr(ot.comparator)}const xD={asc:"ASCENDING",desc:"DESCENDING"},yD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bD={and:"AND",or:"OR"};class vD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function s2(n,e){return n.useProto3Json||qx(e)?e:{value:e}}function Wf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wD(n,e){return Wf(n,e.toTimestamp())}function mi(n){return kt(!!n,49232),Gt.fromTimestamp((function(t){const r=Kc(t);return new gt(r.seconds,r.nanos)})(n))}function Nv(n,e){return a2(n,e).canonicalString()}function a2(n,e){const t=(function(a){return new tr(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function dE(n){const e=tr.fromString(n);return kt(vE(e),10190,{key:e.toString()}),e}function hx(n,e){return Nv(n.databaseId,e.path)}function Gd(n,e){const t=dE(e);if(t.get(1)!==n.databaseId.projectId)throw new tt(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new tt(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ot(mE(t))}function hE(n,e){return Nv(n.databaseId,e)}function fE(n){const e=dE(n);return e.length===4?tr.emptyPath():mE(e)}function i2(n){return new tr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mE(n){return kt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function l_(n,e,t){return{name:hx(n,e),fields:t.value.mapValue.fields}}function ND(n,e,t){const r=Gd(n,e.name),a=mi(e.updateTime),o=e.createTime?mi(e.createTime):Gt.min(),c=new Qa({mapValue:{fields:e.fields}}),u=hs.newFoundDocument(r,a,o,c);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function jD(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:vt(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(kt(g===void 0||typeof g=="string",58123),Vs.fromBase64String(g||"")):(kt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Vs.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&(function(f){const g=f.code===void 0?Ue.UNKNOWN:oE(f.code);return new tt(g,f.message||"")})(c);t=new cE(r,a,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Gd(n,r.document.name),o=mi(r.document.updateTime),c=r.document.createTime?mi(r.document.createTime):Gt.min(),u=new Qa({mapValue:{fields:r.document.fields}}),h=hs.newFoundDocument(a,o,c,u),f=r.targetIds||[],g=r.removedTargetIds||[];t=new U0(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Gd(n,r.document),o=r.readTime?mi(r.readTime):Gt.min(),c=hs.newNoDocument(a,o),u=r.removedTargetIds||[];t=new U0([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Gd(n,r.document),o=r.removedTargetIds||[];t=new U0([],o,a,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new hD(a,o),u=r.targetId;t=new lE(u,c)}}return t}function fx(n,e){let t;if(e instanceof am)t={update:l_(n,e.key,e.value)};else if(e instanceof tp)t={delete:hx(n,e.key)};else if(e instanceof eu)t={update:l_(n,e.key,e.data),updateMask:CD(e.fieldMask)};else{if(!(e instanceof iE))return vt(16599,{Vt:e.type});t={verify:hx(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const u=c.transform;if(u instanceof Gf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Hf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof $f)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Vg)return{fieldPath:c.field.canonicalString(),increment:u.Ae};throw vt(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:wD(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:vt(27497)})(n,e.precondition)),t}function o2(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?na.updateTime(mi(o.updateTime)):o.exists!==void 0?na.exists(o.exists):na.none()})(e.currentDocument):na.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(c,u){let h=null;if("setToServerValue"in u)kt(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),h=new Gf;else if("appendMissingElements"in u){const g=u.appendMissingElements.values||[];h=new Hf(g)}else if("removeAllFromArray"in u){const g=u.removeAllFromArray.values||[];h=new $f(g)}else"increment"in u?h=new Vg(c,u.increment):vt(16584,{proto:u});const f=Jr.fromServerFormat(u.fieldPath);return new rE(f,h)})(n,a))):[];if(e.update){e.update.name;const a=Gd(n,e.update.name),o=new Qa({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(h){const f=h.fieldPaths||[];return new Ui(f.map((g=>Jr.fromServerFormat(g))))})(e.updateMask);return new eu(a,o,c,t,r)}return new am(a,o,t,r)}if(e.delete){const a=Gd(n,e.delete);return new tp(a,t)}if(e.verify){const a=Gd(n,e.verify);return new iE(a,t)}return vt(1463,{proto:e})}function _D(n,e){return n&&n.length>0?(kt(e!==void 0,14353),n.map((t=>(function(a,o){let c=a.updateTime?mi(a.updateTime):mi(o);return c.isEqual(Gt.min())&&(c=mi(o)),new cD(c,a.transformResults||[])})(t,e)))):[]}function gE(n,e){return{documents:[hE(n,e.path)]}}function pE(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=hE(n,a);const o=(function(f){if(f.length!==0)return bE(ur.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(f){if(f.length!==0)return f.map((g=>(function(v){return{field:pf(v.field),direction:ED(v.dir)}})(g)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const u=s2(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:a}}function xE(n){let e=fE(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){kt(r===1,65062);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(x){const v=yE(x);return v instanceof ur&&pv(v)?v.getFilters():[v]})(t.where));let c=[];t.orderBy&&(c=(function(x){return x.map((v=>(function(T){return new Ug(xf(T.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(v)))})(t.orderBy));let u=null;t.limit&&(u=(function(x){let v;return v=typeof x=="object"?x.value:x,qx(v)?null:v})(t.limit));let h=null;t.startAt&&(h=(function(x){const v=!!x.before,b=x.values||[];return new zf(b,v)})(t.startAt));let f=null;return t.endAt&&(f=(function(x){const v=!x.before,b=x.values||[];return new zf(b,v)})(t.endAt)),XL(e,a,c,o,u,"F",h,f)}function SD(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=xf(t.unaryFilter.field);return Dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=xf(t.unaryFilter.field);return Dn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xf(t.unaryFilter.field);return Dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xf(t.unaryFilter.field);return Dn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Dn.create(xf(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ur.create(t.compositeFilter.filters.map((r=>yE(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(t.compositeFilter.op))})(n):vt(30097,{filter:n})}function ED(n){return xD[n]}function AD(n){return yD[n]}function TD(n){return bD[n]}function pf(n){return{fieldPath:n.canonicalString()}}function xf(n){return Jr.fromServerFormat(n.fieldPath)}function bE(n){return n instanceof Dn?(function(t){if(t.op==="=="){if($j(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NAN"}};if(Hj(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($j(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NOT_NAN"}};if(Hj(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pf(t.field),op:AD(t.op),value:t.value}}})(n):n instanceof ur?(function(t){const r=t.getFilters().map((a=>bE(a)));return r.length===1?r[0]:{compositeFilter:{op:TD(t.op),filters:r}}})(n):vt(54877,{filter:n})}function CD(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function vE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class zc{constructor(e,t,r,a,o=Gt.min(),c=Gt.min(),u=Vs.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new zc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wE{constructor(e){this.yt=e}}function ID(n,e){let t;if(e.document)t=ND(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ot.fromSegments(e.noDocument.path),a=ah(e.noDocument.readTime);t=hs.newNoDocument(r,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return vt(56709);{const r=ot.fromSegments(e.unknownDocument.path),a=ah(e.unknownDocument.version);t=hs.newUnknownDocument(r,a)}}return e.readTime&&t.setReadTime((function(a){const o=new gt(a[0],a[1]);return Gt.fromTimestamp(o)})(e.readTime)),t}function c_(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:mx(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,c){return{name:hx(o,c.key),fields:c.data.value.mapValue.fields,updateTime:Wf(o,c.version.toTimestamp()),createTime:Wf(o,c.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:sh(e.version)};else{if(!e.isUnknownDocument())return vt(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:sh(e.version)}}return r}function mx(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function sh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ah(n){const e=new gt(n.seconds,n.nanoseconds);return Gt.fromTimestamp(e)}function Od(n,e){const t=(e.baseMutations||[]).map((o=>o2(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const u=e.mutations[o+1];c.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>o2(n.yt,o))),a=gt.fromMillis(e.localWriteTimeMs);return new yv(e.batchId,a,t,r)}function ig(n){const e=ah(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?ah(n.lastLimboFreeSnapshotVersion):Gt.min();let r;return r=(function(o){return o.documents!==void 0})(n.query)?(function(o){const c=o.documents.length;return kt(c===1,1966,{count:c}),Fo(Yx(fE(o.documents[0])))})(n.query):(function(o){return Fo(xE(o))})(n.query),new zc(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Vs.fromBase64String(n.resumeToken))}function NE(n,e){const t=sh(e.snapshotVersion),r=sh(e.lastLimboFreeSnapshotVersion);let a;a=ux(e.target)?gE(n.yt,e.target):pE(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:rh(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function jE(n){const e=xE({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?r2(e,e.limit,"L"):e}function Xb(n,e){return new vv(e.largestBatchId,o2(n.yt,e.overlayMutation))}function u_(n,e){const t=e.path.lastSegment();return[n,Ja(e.path.popLast()),t]}function d_(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:sh(r.readTime),documentKey:Ja(r.documentKey.path),largestBatchId:r.largestBatchId}}class RD{getBundleMetadata(e,t){return h_(e).get(t).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:ah(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,t){return h_(e).put((function(a){return{bundleId:a.id,createTime:sh(mi(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return f_(e).get(t).next((r=>{if(r)return(function(o){return{name:o.name,query:jE(o.bundledQuery),readTime:ah(o.readTime)}})(r)}))}saveNamedQuery(e,t){return f_(e).put((function(a){return{name:a.name,readTime:sh(mi(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function h_(n){return sa(n,Gx)}function f_(n){return sa(n,Hx)}class ey{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new ey(e,r)}getOverlay(e,t){return Wm(e).get(u_(this.userId,t)).next((r=>r?Xb(this.serializer,r):null))}getOverlays(e,t){const r=Hl();return Te.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,t,r){const a=[];return r.forEach(((o,c)=>{const u=new vv(t,c);a.push(this.St(e,u))})),Te.waitFor(a)}removeOverlaysForBatchId(e,t,r){const a=new Set;t.forEach((c=>a.add(Ja(c.getCollectionPath()))));const o=[];return a.forEach((c=>{const u=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(Wm(e).Z(Y1,u))})),Te.waitFor(o)}getOverlaysForCollection(e,t,r){const a=Hl(),o=Ja(t),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Wm(e).J(Y1,c).next((u=>{for(const h of u){const f=Xb(this.serializer,h);a.set(f.getKey(),f)}return a}))}getOverlaysForCollectionGroup(e,t,r,a){const o=Hl();let c;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Wm(e).ee({index:_S,range:u},((h,f,g)=>{const x=Xb(this.serializer,f);o.size()<a||x.largestBatchId===c?(o.set(x.getKey(),x),c=x.largestBatchId):g.done()})).next((()=>o))}St(e,t){return Wm(e).put((function(a,o,c){const[u,h,f]=u_(o,c.mutation.key);return{userId:o,collectionPath:h,documentId:f,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:fx(a.yt,c.mutation)}})(this.serializer,this.userId,t))}}function Wm(n){return sa(n,$x)}class kD{bt(e){return sa(e,dv)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?Vs.fromUint8Array(r):Vs.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Fd{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Gr(e.integerValue));else if("doubleValue"in e){const r=Gr(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Rg(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Kc(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Yc(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?MS(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Kx(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):vt(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const a of Object.keys(r))this.Ot(a,t),this.Ct(r[a],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const a=Vf,o=r[a].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Gr(o)),this.Ot(a,t),this.Ct(r[a],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const a of r)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),ot.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Fd.Kt=new Fd;const rf=255;function PD(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function m_(n){const e=64-(function(r){let a=0;for(let o=0;o<8;++o){const c=PD(255&r[o]);if(a+=c,c!==8)break}return a})(n);return Math.ceil(e/8)}class LD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const a=t.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const t=this.en(e),r=m_(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),r=m_(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(rf),this.sn(255)}_n(){this.an(rf),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let a=1;a<t.length;++a)t[a]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===rf?(this.sn(rf),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===rf?(this.an(rf),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class DD{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class MD{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Km{constructor(){this.cn=new LD,this.ln=new DD(this.cn),this.hn=new MD(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ud{constructor(e,t,r,a){this.Tn=e,this.In=t,this.En=r,this.dn=a}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new Ud(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:V0(this.En),directionalValue:V0(this.dn),orderedDocumentKey:V0(t),documentKey:r.path.toArray()}}Vn(e,t,r){const a=this.Rn(e,t,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function ku(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=g_(n.En,e.En),t!==0?t:(t=g_(n.dn,e.dn),t!==0?t:ot.comparator(n.In,e.In)))}function g_(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function V0(n){return m3()?(function(t){let r="";for(let a=0;a<t.length;a++)r+=String.fromCharCode(t[a]);return r})(n):n}function p_(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(n)}class x_{constructor(e){this.mn=new dr(((t,r)=>Jr.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(kt(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=$1(e);if(t!==void 0&&!this.wn(t))return!1;const r=Pd(e);let a=new Set,o=0,c=0;for(;o<r.length&&this.wn(r[o]);++o)a=a.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!a.has(u.field.canonicalString())){const h=r[o];if(!this.Sn(u,h)||!this.bn(this.fn[c++],h))return!1}++o}for(;o<r.length;++o){const u=r[o];if(c>=this.fn.length||!this.bn(this.fn[c++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new dr(Jr.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new k0(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new k0(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new k0(r.field,r.dir==="asc"?0:1)));return new ax(ax.UNKNOWN_ID,this.collectionId,t,Ig.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function _E(n){if(kt(n instanceof Dn||n instanceof ur,20012),n instanceof Dn){if(n instanceof HS){const t=n.value.arrayValue?.values?.map((r=>Dn.create(n.field,"==",r)))||[];return ur.create(t,"or")}return n}const e=n.filters.map((t=>_E(t)));return ur.create(e,n.op)}function OD(n){if(n.getFilters().length===0)return[];const e=u2(_E(n));return kt(SE(e),7391),l2(e)||c2(e)?[e]:e.getFilters()}function l2(n){return n instanceof Dn}function c2(n){return n instanceof ur&&pv(n)}function SE(n){return l2(n)||c2(n)||(function(t){if(t instanceof ur&&Z1(t)){for(const r of t.getFilters())if(!l2(r)&&!c2(r))return!1;return!0}return!1})(n)}function u2(n){if(kt(n instanceof Dn||n instanceof ur,34018),n instanceof Dn)return n;if(n.filters.length===1)return u2(n.filters[0]);const e=n.filters.map((r=>u2(r)));let t=ur.create(e,n.op);return t=gx(t),SE(t)?t:(kt(t instanceof ur,64498),kt(qf(t),40251),kt(t.filters.length>1,57927),t.filters.reduce(((r,a)=>jv(r,a))))}function jv(n,e){let t;return kt(n instanceof Dn||n instanceof ur,38388),kt(e instanceof Dn||e instanceof ur,25473),t=n instanceof Dn?e instanceof Dn?(function(a,o){return ur.create([a,o],"and")})(n,e):y_(n,e):e instanceof Dn?y_(e,n):(function(a,o){if(kt(a.filters.length>0&&o.filters.length>0,48005),qf(a)&&qf(o))return zS(a,o.getFilters());const c=Z1(a)?a:o,u=Z1(a)?o:a,h=c.filters.map((f=>jv(f,u)));return ur.create(h,"or")})(n,e),gx(t)}function y_(n,e){if(qf(e))return zS(e,n.getFilters());{const t=e.filters.map((r=>jv(n,r)));return ur.create(t,"or")}}function gx(n){if(kt(n instanceof Dn||n instanceof ur,11850),n instanceof Dn)return n;const e=n.getFilters();if(e.length===1)return gx(e[0]);if(VS(n))return n;const t=e.map((a=>gx(a))),r=[];return t.forEach((a=>{a instanceof Dn?r.push(a):a instanceof ur&&(a.op===n.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:ur.create(r,n.op)}class FD{constructor(){this.Cn=new _v}addToCollectionParentIndex(e,t){return this.Cn.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(fo.min())}updateCollectionGroup(e,t,r){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class _v{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new dr(tr.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new dr(tr.comparator)).toArray()}}const b_="IndexedDbIndexManager",u0=new Uint8Array(0);class UD{constructor(e,t){this.databaseId=t,this.vn=new _v,this.Fn=new Zc((r=>rh(r)),((r,a)=>Zg(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const o={collectionId:r,parent:Ja(a)};return v_(e).put(o)}return Te.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[hS(t),""],!1,!0);return v_(e).J(a).next((o=>{for(const c of o){if(c.collectionId!==t)break;r.push(Gl(c.parent))}return r}))}addFieldIndex(e,t){const r=Ym(e),a=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(t);delete a.indexId;const o=r.add(a);if(t.indexState){const c=af(e);return o.next((u=>{c.put(d_(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const r=Ym(e),a=af(e),o=sf(e);return r.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Ym(e),r=sf(e),a=af(e);return t.Z().next((()=>r.Z())).next((()=>a.Z()))}createTargetIndexes(e,t){return Te.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const o=new x_(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const r=sf(e);let a=!0;const o=new Map;return Te.forEach(this.Mn(t),(c=>this.xn(e,c).next((u=>{a&&(a=!!u),o.set(c,u)})))).next((()=>{if(a){let c=Sn();const u=[];return Te.forEach(o,((h,f)=>{Ze(b_,`Using index ${(function(D){return`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map((O=>`${O.fieldPath}:${O.kind}`)).join(",")}`})(h)} to execute ${rh(t)}`);const g=(function(D,O){const te=$1(O);if(te===void 0)return null;for(const ee of dx(D,te.fieldPath))switch(ee.op){case"array-contains-any":return ee.value.arrayValue.values||[];case"array-contains":return[ee.value]}return null})(f,h),x=(function(D,O){const te=new Map;for(const ee of Pd(O))for(const G of dx(D,ee.fieldPath))switch(G.op){case"==":case"in":te.set(ee.fieldPath.canonicalString(),G.value);break;case"not-in":case"!=":return te.set(ee.fieldPath.canonicalString(),G.value),Array.from(te.values())}return null})(f,h),v=(function(D,O){const te=[];let ee=!0;for(const G of Pd(O)){const U=G.kind===0?Qj(D,G.fieldPath,D.startAt):Jj(D,G.fieldPath,D.startAt);te.push(U.value),ee&&(ee=U.inclusive)}return new zf(te,ee)})(f,h),b=(function(D,O){const te=[];let ee=!0;for(const G of Pd(O)){const U=G.kind===0?Jj(D,G.fieldPath,D.endAt):Qj(D,G.fieldPath,D.endAt);te.push(U.value),ee&&(ee=U.inclusive)}return new zf(te,ee)})(f,h),T=this.On(h,f,v),E=this.On(h,f,b),j=this.Nn(h,f,x),S=this.Bn(h.indexId,g,T,v.inclusive,E,b.inclusive,j);return Te.forEach(S,(L=>r.Y(L,t.limit).next((D=>{D.forEach((O=>{const te=ot.fromSegments(O.documentKey);c.has(te)||(c=c.add(te),u.push(te))}))}))))})).next((()=>u))}return Te.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=OD(ur.create(e.filters,"and")).map((r=>t2(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,a,o,c,u){const h=(t!=null?t.length:1)*Math.max(r.length,o.length),f=h/(t!=null?t.length:1),g=[];for(let x=0;x<h;++x){const v=t?this.Ln(t[x/f]):u0,b=this.kn(e,v,r[x%f],a),T=this.qn(e,v,o[x%f],c),E=u.map((j=>this.kn(e,v,j,!0)));g.push(...this.createRange(b,T,E))}return g}kn(e,t,r,a){const o=new Ud(e,ot.empty(),t,r);return a?o:o.An()}qn(e,t,r,a){const o=new Ud(e,ot.empty(),t,r);return a?o.An():o}xn(e,t){const r=new x_(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let c=null;for(const u of o)r.yn(u)&&(!c||u.fields.length>c.fields.length)&&(c=u);return c}))}getIndexType(e,t){let r=2;const a=this.Mn(t);return Te.forEach(a,(o=>this.xn(e,o).next((c=>{c?r!==0&&c.fields.length<(function(h){let f=new dr(Jr.comparator),g=!1;for(const x of h.filters)for(const v of x.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:f=f.add(v.field));for(const x of h.orderBy)x.field.isKeyField()||(f=f.add(x.field));return f.size+(g?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(t)&&a.length>1&&r===2?1:r))}Qn(e,t){const r=new Km;for(const a of Pd(e)){const o=t.data.field(a.fieldPath);if(o==null)return null;const c=r.Pn(a.kind);Fd.Kt.Dt(o,c)}return r.un()}Ln(e){const t=new Km;return Fd.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new Km;return Fd.Kt.Dt(Og(this.databaseId,t),r.Pn((function(o){const c=Pd(o);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let a=[];a.push(new Km);let o=0;for(const c of Pd(e)){const u=r[o++];for(const h of a)if(this.Un(t,c.fieldPath)&&Fg(u))a=this.Kn(a,c,u);else{const f=h.Pn(c.kind);Fd.Kt.Dt(u,f)}}return this.Wn(a)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const a=[...e],o=[];for(const c of r.arrayValue.values||[])for(const u of a){const h=new Km;h.seed(u.un()),Fd.Kt.Dt(c,h.Pn(t.kind)),o.push(h)}return o}Un(e,t){return!!e.filters.find((r=>r instanceof Dn&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=Ym(e),a=af(e);return(t?r.J(K1,IDBKeyRange.bound(t,t)):r.J()).next((o=>{const c=[];return Te.forEach(o,(u=>a.get([u.indexId,this.uid]).next((h=>{c.push((function(g,x){const v=x?new Ig(x.sequenceNumber,new fo(ah(x.readTime),new ot(Gl(x.documentKey)),x.largestBatchId)):Ig.empty(),b=g.fields.map((([T,E])=>new k0(Jr.fromServerFormat(T),E)));return new ax(g.indexId,g.collectionGroup,b,v)})(u,h))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,a)=>{const o=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:cn(r.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const a=Ym(e),o=af(e);return this.Gn(e).next((c=>a.J(K1,IDBKeyRange.bound(t,t)).next((u=>Te.forEach(u,(h=>o.put(d_(h.indexId,this.uid,c,r))))))))}updateIndexEntries(e,t){const r=new Map;return Te.forEach(t,((a,o)=>{const c=r.get(a.collectionGroup);return(c?Te.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((u=>(r.set(a.collectionGroup,u),Te.forEach(u,(h=>this.zn(e,a,h).next((f=>{const g=this.jn(o,h);return f.isEqual(g)?Te.resolve():this.Jn(e,o,h,f,g)})))))))}))}Hn(e,t,r,a){return sf(e).put(a.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,a){return sf(e).delete(a.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const a=sf(e);let o=new dr(ku);return a.ee({index:jS,range:IDBKeyRange.only([r.indexId,this.uid,V0(this.$n(r,t))])},((c,u)=>{o=o.add(new Ud(r.indexId,t,p_(u.arrayValue),p_(u.directionalValue)))})).next((()=>o))}jn(e,t){let r=new dr(ku);const a=this.Qn(t,e);if(a==null)return r;const o=$1(t);if(o!=null){const c=e.data.field(o.fieldPath);if(Fg(c))for(const u of c.arrayValue.values||[])r=r.add(new Ud(t.indexId,e.key,this.Ln(u),a))}else r=r.add(new Ud(t.indexId,e.key,u0,a));return r}Jn(e,t,r,a,o){Ze(b_,"Updating index entries for document '%s'",t.key);const c=[];return(function(h,f,g,x,v){const b=h.getIterator(),T=f.getIterator();let E=nf(b),j=nf(T);for(;E||j;){let S=!1,L=!1;if(E&&j){const D=g(E,j);D<0?L=!0:D>0&&(S=!0)}else E!=null?L=!0:S=!0;S?(x(j),j=nf(T)):L?(v(E),E=nf(b)):(E=nf(b),j=nf(T))}})(a,o,ku,(u=>{c.push(this.Hn(e,t,r,u))}),(u=>{c.push(this.Yn(e,t,r,u))})),Te.waitFor(c)}Gn(e){let t=1;return af(e).ee({index:NS,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,o)=>{o.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((c,u)=>ku(c,u))).filter(((c,u,h)=>!u||ku(c,h[u-1])!==0));const a=[];a.push(e);for(const c of r){const u=ku(c,e),h=ku(c,t);if(u===0)a[0]=e.An();else if(u>0&&h<0)a.push(c),a.push(c.An());else if(h>0)break}a.push(t);const o=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const u=a[c].Vn(this.uid,u0,ot.empty()),h=a[c+1].Vn(this.uid,u0,ot.empty());o.push(IDBKeyRange.bound(u,h))}return o}Zn(e,t){return ku(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(w_)}getMinOffset(e,t){return Te.mapArray(this.Mn(t),(r=>this.xn(e,r).next((a=>a||vt(44426))))).next(w_)}}function v_(n){return sa(n,Lg)}function sf(n){return sa(n,fg)}function Ym(n){return sa(n,uv)}function af(n){return sa(n,hg)}function w_(n){kt(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const a=n[r].indexState.offset;ov(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new fo(e.readTime,e.documentKey,t)}const N_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EE=41943040;class Xa{static withCacheSize(e){return new Xa(e,Xa.DEFAULT_COLLECTION_PERCENTILE,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}function AE(n,e,t){const r=n.store(ul),a=n.store(Mf),o=[],c=IDBKeyRange.only(t.batchId);let u=0;const h=r.ee({range:c},((g,x,v)=>(u++,v.delete())));o.push(h.next((()=>{kt(u===1,47070,{batchId:t.batchId})})));const f=[];for(const g of t.mutations){const x=bS(e,g.key.path,t.batchId);o.push(a.delete(x)),f.push(g.key)}return Te.waitFor(o).next((()=>f))}function px(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw vt(14731);e=n.noDocument}return JSON.stringify(e).length}Xa.DEFAULT_COLLECTION_PERCENTILE=10,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xa.DEFAULT=new Xa(EE,Xa.DEFAULT_COLLECTION_PERCENTILE,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xa.DISABLED=new Xa(-1,0,0);class ty{constructor(e,t,r,a){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=a,this.Xn={}}static wt(e,t,r,a){kt(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new ty(o,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pu(e).ee({index:Bd,range:r},((a,o,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,r,a){const o=yf(e),c=Pu(e);return c.add({}).next((u=>{kt(typeof u=="number",49019);const h=new yv(u,t,r,a),f=(function(b,T,E){const j=E.baseMutations.map((L=>fx(b.yt,L))),S=E.mutations.map((L=>fx(b.yt,L)));return{userId:T,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:j,mutations:S}})(this.serializer,this.userId,h),g=[];let x=new dr(((v,b)=>cn(v.canonicalString(),b.canonicalString())));for(const v of a){const b=bS(this.userId,v.key.path,u);x=x.add(v.key.path.popLast()),g.push(c.put(f)),g.push(o.put(b,mL))}return x.forEach((v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[u]=h.keys()})),Te.waitFor(g).next((()=>h))}))}lookupMutationBatch(e,t){return Pu(e).get(t).next((r=>r?(kt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),Od(this.serializer,r)):null))}er(e,t){return this.Xn[t]?Te.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const a=r.keys();return this.Xn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Pu(e).ee({index:Bd,range:a},((c,u,h)=>{u.userId===this.userId&&(kt(u.batchId>=r,47524,{tr:r}),o=Od(this.serializer,u)),h.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=zd;return Pu(e).ee({index:Bd,range:t,reverse:!0},((a,o,c)=>{r=o.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,zd],[this.userId,Number.POSITIVE_INFINITY]);return Pu(e).J(Bd,t).next((r=>r.map((a=>Od(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=P0(this.userId,t.path),a=IDBKeyRange.lowerBound(r),o=[];return yf(e).ee({range:a},((c,u,h)=>{const[f,g,x]=c,v=Gl(g);if(f===this.userId&&t.path.isEqual(v))return Pu(e).get(x).next((b=>{if(!b)throw vt(61480,{nr:c,batchId:x});kt(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:x}),o.push(Od(this.serializer,b))}));h.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dr(cn);const a=[];return t.forEach((o=>{const c=P0(this.userId,o.path),u=IDBKeyRange.lowerBound(c),h=yf(e).ee({range:u},((f,g,x)=>{const[v,b,T]=f,E=Gl(b);v===this.userId&&o.path.isEqual(E)?r=r.add(T):x.done()}));a.push(h)})),Te.waitFor(a).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,o=P0(this.userId,r),c=IDBKeyRange.lowerBound(o);let u=new dr(cn);return yf(e).ee({range:c},((h,f,g)=>{const[x,v,b]=h,T=Gl(v);x===this.userId&&r.isPrefixOf(T)?T.length===a&&(u=u.add(b)):g.done()})).next((()=>this.rr(e,u)))}rr(e,t){const r=[],a=[];return t.forEach((o=>{a.push(Pu(e).get(o).next((c=>{if(c===null)throw vt(35274,{batchId:o});kt(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:o}),r.push(Od(this.serializer,c))})))})),Te.waitFor(a).next((()=>r))}removeMutationBatch(e,t){return AE(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),Te.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Te.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return yf(e).ee({range:r},((o,c,u)=>{if(o[0]===this.userId){const h=Gl(o[1]);a.push(h)}else u.done()})).next((()=>{kt(a.length===0,56720,{sr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return TE(e,this.userId,t)}_r(e){return CE(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:zd,lastStreamToken:""}))}}function TE(n,e,t){const r=P0(e,t.path),a=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return yf(n).ee({range:o,X:!0},((u,h,f)=>{const[g,x,v]=u;g===e&&x===a&&(c=!0),f.done()})).next((()=>c))}function Pu(n){return sa(n,ul)}function yf(n){return sa(n,Mf)}function CE(n){return sa(n,kg)}class ih{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ih(0)}static cr(){return new ih(-1)}}class VD{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new ih(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Gt.fromTimestamp(new gt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.hr(e,a))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>of(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(kt(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let a=0;const o=[];return of(e).ee(((c,u)=>{const h=ig(u);h.sequenceNumber<=t&&r.get(h.targetId)===null&&(a++,o.push(this.removeTargetData(e,h)))})).next((()=>Te.waitFor(o))).next((()=>a))}forEachTarget(e,t){return of(e).ee(((r,a)=>{const o=ig(a);t(o)}))}lr(e){return j_(e).get(lx).next((t=>(kt(t!==null,2888),t)))}hr(e,t){return j_(e).put(lx,t)}Pr(e,t){return of(e).put(NE(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=rh(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return of(e).ee({range:a,index:wS},((c,u,h)=>{const f=ig(u);Zg(t,f.target)&&(o=f,h.done())})).next((()=>o))}addMatchingKeys(e,t,r){const a=[],o=Bu(e);return t.forEach((c=>{const u=Ja(c.path);a.push(o.put({targetId:r,path:u})),a.push(this.referenceDelegate.addReference(e,r,c))})),Te.waitFor(a)}removeMatchingKeys(e,t,r){const a=Bu(e);return Te.forEach(t,(o=>{const c=Ja(o.path);return Te.waitFor([a.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,t){const r=Bu(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Bu(e);let o=Sn();return a.ee({range:r,X:!0},((c,u,h)=>{const f=Gl(c[1]),g=new ot(f);o=o.add(g)})).next((()=>o))}containsKey(e,t){const r=Ja(t.path),a=IDBKeyRange.bound([r],[hS(r)],!1,!0);let o=0;return Bu(e).ee({index:cv,X:!0,range:a},(([c,u],h,f)=>{c!==0&&(o++,f.done())})).next((()=>o>0))}At(e,t){return of(e).get(t).next((r=>r?ig(r):null))}}function of(n){return sa(n,Of)}function j_(n){return sa(n,qd)}function Bu(n){return sa(n,Ff)}const __="LruGarbageCollector",BD=1048576;function S_([n,e],[t,r]){const a=cn(n,t);return a===0?cn(e,r):a}class zD{constructor(e){this.Ir=e,this.buffer=new dr(S_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();S_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class IE{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ze(__,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dd(t)?Ze(__,"Ignoring IndexedDB error during garbage collection: ",t):await mh(t)}await this.Vr(3e5)}))}}class qD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Te.resolve(Oo.ce);const r=new zD(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(N_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,o,c,u,h,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,c=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(r=x,u=Date.now(),this.removeTargets(e,r,t)))).next((x=>(o=x,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(f=Date.now(),mf()<=Ln.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(u-c)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${x} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:x}))))}}function RE(n,e){return new qD(n,e)}class GD{constructor(e,t){this.db=e,this.garbageCollector=RE(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,a)=>t(a)))}addReference(e,t,r){return d0(e,r)}removeReference(e,t,r){return d0(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return d0(e,t)}br(e,t){return(function(a,o){let c=!1;return CE(a).te((u=>TE(a,u,o).next((h=>(h&&(c=!0),Te.resolve(!h)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.Sr(e,((c,u)=>{if(u<=t){const h=this.br(e,c).next((f=>{if(!f)return o++,r.getEntry(e,c).next((()=>(r.removeEntry(c,Gt.min()),Bu(e).delete((function(x){return[0,Ja(x.path)]})(c)))))}));a.push(h)}})).next((()=>Te.waitFor(a))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return d0(e,t)}Sr(e,t){const r=Bu(e);let a,o=Oo.ce;return r.ee({index:cv},(([c,u],{path:h,sequenceNumber:f})=>{c===0?(o!==Oo.ce&&t(new ot(Gl(a)),o),o=f,a=h):o=Oo.ce})).next((()=>{o!==Oo.ce&&t(new ot(Gl(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function d0(n,e){return Bu(n).put((function(r,a){return{targetId:0,path:Ja(r.path),sequenceNumber:a}})(e,n.currentSequenceNumber))}class kE{constructor(){this.changes=new Zc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class HD{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Rd(e).put(r)}removeEntry(e,t,r){return Rd(e).delete((function(o,c){const u=o.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],mx(c),u[u.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=hs.newInvalidDocument(t);return Rd(e).ee({index:L0,range:IDBKeyRange.only(Xm(t))},((a,o)=>{r=this.Cr(t,o)})).next((()=>r))}vr(e,t){let r={size:0,document:hs.newInvalidDocument(t)};return Rd(e).ee({index:L0,range:IDBKeyRange.only(Xm(t))},((a,o)=>{r={document:this.Cr(t,o),size:px(o)}})).next((()=>r))}getEntries(e,t){let r=co();return this.Fr(e,t,((a,o)=>{const c=this.Cr(a,o);r=r.insert(a,c)})).next((()=>r))}Mr(e,t){let r=co(),a=new Hr(ot.comparator);return this.Fr(e,t,((o,c)=>{const u=this.Cr(o,c);r=r.insert(o,u),a=a.insert(o,px(c))})).next((()=>({documents:r,Or:a})))}Fr(e,t,r){if(t.isEmpty())return Te.resolve();let a=new dr(T_);t.forEach((h=>a=a.add(h)));const o=IDBKeyRange.bound(Xm(a.first()),Xm(a.last())),c=a.getIterator();let u=c.getNext();return Rd(e).ee({index:L0,range:o},((h,f,g)=>{const x=ot.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;u&&T_(u,x)<0;)r(u,null),u=c.getNext();u&&u.isEqual(x)&&(r(u,f),u=c.hasNext()?c.getNext():null),u?g.j(Xm(u)):g.done()})).next((()=>{for(;u;)r(u,null),u=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,r,a,o){const c=t.path,u=[c.popLast().toArray(),c.lastSegment(),mx(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Rd(e).J(IDBKeyRange.bound(u,h,!0)).next((f=>{o?.incrementDocumentReadCount(f.length);let g=co();for(const x of f){const v=this.Cr(ot.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);v.isFoundDocument()&&(ep(t,v)||a.has(v.key))&&(g=g.insert(v.key,v))}return g}))}getAllFromCollectionGroup(e,t,r,a){let o=co();const c=A_(t,r),u=A_(t,fo.max());return Rd(e).ee({index:vS,range:IDBKeyRange.bound(c,u,!0)},((h,f,g)=>{const x=this.Cr(ot.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(x.key,x),o.size===a&&g.done()})).next((()=>o))}newChangeBuffer(e){return new $D(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return E_(e).get(W1).next((t=>(kt(!!t,20021),t)))}Dr(e,t){return E_(e).put(W1,t)}Cr(e,t){if(t){const r=ID(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Gt.min())))return r}return hs.newInvalidDocument(e)}}function PE(n){return new HD(n)}class $D extends kE{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Zc((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const t=[];let r=0,a=new dr(((o,c)=>cn(o.canonicalString(),c.canonicalString())));return this.changes.forEach(((o,c)=>{const u=this.Br.get(o);if(t.push(this.Nr.removeEntry(e,o,u.readTime)),c.isValidDocument()){const h=c_(this.Nr.serializer,c);a=a.add(o.path.popLast());const f=px(h);r+=f-u.size,t.push(this.Nr.addEntry(e,o,h))}else if(r-=u.size,this.trackRemovals){const h=c_(this.Nr.serializer,c.convertToNoDocument(Gt.min()));t.push(this.Nr.addEntry(e,o,h))}})),a.forEach((o=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Nr.updateMetadata(e,r)),Te.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:a})=>(a.forEach(((o,c)=>{this.Br.set(o,{size:c,readTime:r.get(o).readTime})})),r)))}}function E_(n){return sa(n,Pg)}function Rd(n){return sa(n,ox)}function Xm(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function A_(n,e){const t=e.documentKey.path.toArray();return[n,mx(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function T_(n,e){const t=n.path.toArray(),r=e.path.toArray();let a=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(a=cn(t[o],r[o]),a)return a;return a=cn(t.length,r.length),a||(a=cn(t[t.length-2],r[r.length-2]),a||cn(t[t.length-1],r[r.length-1]))}class WD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class LE{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&xg(r.mutation,a,Ui.empty(),gt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Sn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Sn()){const a=Hl();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((o=>{let c=sg();return o.forEach(((u,h)=>{c=c.insert(u,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Hl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Sn())))}populateOverlays(e,t,r){const a=[];return r.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,u)=>{t.set(c,u)}))}))}computeViews(e,t,r,a){let o=co();const c=pg(),u=(function(){return pg()})();return t.forEach(((h,f)=>{const g=r.get(f.key);a.has(f.key)&&(g===void 0||g.mutation instanceof eu)?o=o.insert(f.key,f):g!==void 0?(c.set(f.key,g.mutation.getFieldMask()),xg(g.mutation,f,g.mutation.getFieldMask(),gt.now())):c.set(f.key,Ui.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((f,g)=>c.set(f,g))),t.forEach(((f,g)=>u.set(f,new WD(g,c.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=pg();let a=new Hr(((c,u)=>c-u)),o=Sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const u of c)u.keys().forEach((h=>{const f=t.get(h);if(f===null)return;let g=r.get(h)||Ui.empty();g=u.applyToLocalView(f,g),r.set(h,g);const x=(a.get(u.batchId)||Sn()).add(h);a=a.insert(u.batchId,x)}))})).next((()=>{const c=[],u=a.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,g=h.value,x=QS();g.forEach((v=>{if(!o.has(v)){const b=sE(t.get(v),r.get(v));b!==null&&x.set(v,b),o=o.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,x))}return Te.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(c){return ot.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$S(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):Te.resolve(Hl());let u=Cg,h=o;return c.next((f=>Te.forEach(f,((g,x)=>(u<x.largestBatchId&&(u=x.largestBatchId),o.get(g)?Te.resolve():this.remoteDocumentCache.getEntry(e,g).next((v=>{h=h.insert(g,v)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,h,f,Sn()))).next((g=>({batchId:u,changes:XS(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ot(t)).next((r=>{let a=sg();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let c=sg();return this.indexManager.getCollectionParents(e,o).next((u=>Te.forEach(u,(h=>{const f=(function(x,v){return new sm(v,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,a).next((g=>{g.forEach(((x,v)=>{c=c.insert(x,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a)))).next((c=>{o.forEach(((h,f)=>{const g=f.getKey();c.get(g)===null&&(c=c.insert(g,hs.newInvalidDocument(g)))}));let u=sg();return c.forEach(((h,f)=>{const g=o.get(h);g!==void 0&&xg(g.mutation,f,Ui.empty(),gt.now()),ep(t,f)&&(u=u.insert(h,f))})),u}))}}class KD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:mi(a.createTime)}})(t)),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:jE(a.bundledQuery),readTime:mi(a.readTime)}})(t)),Te.resolve()}}class YD{constructor(){this.overlays=new Hr(ot.comparator),this.qr=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Hl();return Te.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,o)=>{this.St(e,t,o)})),Te.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Te.resolve()}getOverlaysForCollection(e,t,r){const a=Hl(),o=t.length+1,c=new ot(t.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return Te.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Hr(((f,g)=>f-g));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=Hl(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const u=Hl(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,g)=>u.set(f,g))),!(u.size()>=a)););return Te.resolve(u)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new vv(t,r));let o=this.qr.get(t);o===void 0&&(o=Sn(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}class XD{constructor(){this.sessionToken=Vs.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Te.resolve()}}class Sv{constructor(){this.Qr=new dr(ya.$r),this.Ur=new dr(ya.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new ya(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new ya(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ot(new tr([])),r=new ya(t,e),a=new ya(t,e+1),o=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ot(new tr([])),r=new ya(t,e),a=new ya(t,e+1);let o=Sn();return this.Ur.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new ya(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ya{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ot.comparator(e.key,t.key)||cn(e.Yr,t.Yr)}static Kr(e,t){return cn(e.Yr,t.Yr)||ot.comparator(e.key,t.key)}}class QD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new dr(ya.$r)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new yv(o,t,r,a);this.mutationQueue.push(c);for(const u of a)this.Zr=this.Zr.add(new ya(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Te.resolve(c)}lookupMutationBatch(e,t){return Te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),o=a<0?0:a;return Te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?zd:this.tr-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ya(t,0),a=new ya(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(c=>{const u=this.Xr(c.Yr);o.push(u)})),Te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dr(cn);return t.forEach((a=>{const o=new ya(a,0),c=new ya(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(u=>{r=r.add(u.Yr)}))})),Te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;ot.isDocumentKey(o)||(o=o.child(""));const c=new ya(new ot(o),0);let u=new dr(cn);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===a&&(u=u.add(h.Yr)),!0)}),c),Te.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){kt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Te.forEach(t.mutations,(a=>{const o=new ya(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new ya(t,0),a=this.Zr.firstAfterOrEqual(r);return Te.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class JD{constructor(e){this.ri=e,this.docs=(function(){return new Hr(ot.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Te.resolve(r?r.document.mutableCopy():hs.newInvalidDocument(t))}getEntries(e,t){let r=co();return t.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():hs.newInvalidDocument(a))})),Te.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=co();const c=t.path,u=new ot(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||ov(gS(g),r)<=0||(a.has(g.key)||ep(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Te.resolve(o)}getAllFromCollectionGroup(e,t,r,a){vt(9500)}ii(e,t){return Te.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new ZD(this)}getSize(e){return Te.resolve(this.size)}}class ZD extends kE{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),Te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class eM{constructor(e){this.persistence=e,this.si=new Zc((t=>rh(t)),Zg),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.oi=0,this._i=new Sv,this.targetCount=0,this.ai=ih.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ih(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.Pr(t),Te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.si.forEach(((c,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),a++)})),Te.waitFor(o).next((()=>a))}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Te.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Te.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),Te.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Te.resolve(r)}containsKey(e,t){return Te.resolve(this._i.containsKey(t))}}class Ev{constructor(e,t){this.ui={},this.overlays={},this.ci=new Oo(0),this.li=!1,this.li=!0,this.hi=new XD,this.referenceDelegate=e(this),this.Pi=new eM(this),this.indexManager=new FD,this.remoteDocumentCache=(function(a){return new JD(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new wE(t),this.Ii=new KD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new QD(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Ze("MemoryPersistence","Starting transaction:",e);const a=new tM(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,t){return Te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class tM extends xS{constructor(e){super(),this.currentSequenceNumber=e}}class ny{constructor(e){this.persistence=e,this.Ri=new Sv,this.Vi=null}static mi(e){return new ny(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Te.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.fi,(r=>{const a=ot.fromPath(r);return this.gi(e,a).next((o=>{o||t.removeEntry(a,Gt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Te.or([()=>Te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class xx{constructor(e,t){this.persistence=e,this.pi=new Zc((r=>Ja(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=RE(this,t)}static mi(e,t){return new xx(e,t)}Ei(){}di(e){return Te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Te.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?Te.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((u=>{u||(r++,o.removeEntry(c,Gt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Te.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=M0(e.data.value)),t}br(e,t,r){return Te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return Te.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class nM{constructor(e){this.serializer=e}k(e,t,r,a){const o=new zx("createOrUpgrade",t);r<1&&a>=1&&((function(h){h.createObjectStore(Jg)})(e),(function(h){h.createObjectStore(kg,{keyPath:fL}),h.createObjectStore(ul,{keyPath:Uj,autoIncrement:!0}).createIndex(Bd,Vj,{unique:!0}),h.createObjectStore(Mf)})(e),C_(e),(function(h){h.createObjectStore(Ld)})(e));let c=Te.resolve();return r<3&&a>=3&&(r!==0&&((function(h){h.deleteObjectStore(Ff),h.deleteObjectStore(Of),h.deleteObjectStore(qd)})(e),C_(e)),c=c.next((()=>(function(h){const f=h.store(qd),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Gt.min().toTimestamp(),targetCount:0};return f.put(lx,g)})(o)))),r<4&&a>=4&&(r!==0&&(c=c.next((()=>(function(h,f){return f.store(ul).J().next((x=>{h.deleteObjectStore(ul),h.createObjectStore(ul,{keyPath:Uj,autoIncrement:!0}).createIndex(Bd,Vj,{unique:!0});const v=f.store(ul),b=x.map((T=>v.put(T)));return Te.waitFor(b)}))})(e,o)))),c=c.next((()=>{(function(h){h.createObjectStore(Uf,{keyPath:NL})})(e)}))),r<5&&a>=5&&(c=c.next((()=>this.yi(o)))),r<6&&a>=6&&(c=c.next((()=>((function(h){h.createObjectStore(Pg)})(e),this.wi(o))))),r<7&&a>=7&&(c=c.next((()=>this.Si(o)))),r<8&&a>=8&&(c=c.next((()=>this.bi(e,o)))),r<9&&a>=9&&(c=c.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(c=c.next((()=>this.Di(o)))),r<11&&a>=11&&(c=c.next((()=>{(function(h){h.createObjectStore(Gx,{keyPath:jL})})(e),(function(h){h.createObjectStore(Hx,{keyPath:_L})})(e)}))),r<12&&a>=12&&(c=c.next((()=>{(function(h){const f=h.createObjectStore($x,{keyPath:RL});f.createIndex(Y1,kL,{unique:!1}),f.createIndex(_S,PL,{unique:!1})})(e)}))),r<13&&a>=13&&(c=c.next((()=>(function(h){const f=h.createObjectStore(ox,{keyPath:gL});f.createIndex(L0,pL),f.createIndex(vS,xL)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(Ld)))),r<14&&a>=14&&(c=c.next((()=>this.Fi(e,o)))),r<15&&a>=15&&(c=c.next((()=>(function(h){h.createObjectStore(uv,{keyPath:SL,autoIncrement:!0}).createIndex(K1,EL,{unique:!1}),h.createObjectStore(hg,{keyPath:AL}).createIndex(NS,TL,{unique:!1}),h.createObjectStore(fg,{keyPath:CL}).createIndex(jS,IL,{unique:!1})})(e)))),r<16&&a>=16&&(c=c.next((()=>{t.objectStore(hg).clear()})).next((()=>{t.objectStore(fg).clear()}))),r<17&&a>=17&&(c=c.next((()=>{(function(h){h.createObjectStore(dv,{keyPath:LL})})(e)}))),r<18&&a>=18&&m3()&&(c=c.next((()=>{t.objectStore(hg).clear()})).next((()=>{t.objectStore(fg).clear()}))),c}wi(e){let t=0;return e.store(Ld).ee(((r,a)=>{t+=px(a)})).next((()=>{const r={byteSize:t};return e.store(Pg).put(W1,r)}))}yi(e){const t=e.store(kg),r=e.store(ul);return t.J().next((a=>Te.forEach(a,(o=>{const c=IDBKeyRange.bound([o.userId,zd],[o.userId,o.lastAcknowledgedBatchId]);return r.J(Bd,c).next((u=>Te.forEach(u,(h=>{kt(h.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const f=Od(this.serializer,h);return AE(e,o.userId,f).next((()=>{}))}))))}))))}Si(e){const t=e.store(Ff),r=e.store(Ld);return e.store(qd).get(lx).next((a=>{const o=[];return r.ee(((c,u)=>{const h=new tr(c),f=(function(x){return[0,Ja(x)]})(h);o.push(t.get(f).next((g=>g?Te.resolve():(x=>t.put({targetId:0,path:Ja(x),sequenceNumber:a.highestListenSequenceNumber}))(h))))})).next((()=>Te.waitFor(o)))}))}bi(e,t){e.createObjectStore(Lg,{keyPath:wL});const r=t.store(Lg),a=new _v,o=c=>{if(a.add(c)){const u=c.lastSegment(),h=c.popLast();return r.put({collectionId:u,parent:Ja(h)})}};return t.store(Ld).ee({X:!0},((c,u)=>{const h=new tr(c);return o(h.popLast())})).next((()=>t.store(Mf).ee({X:!0},(([c,u,h],f)=>{const g=Gl(u);return o(g.popLast())}))))}Di(e){const t=e.store(Of);return t.ee(((r,a)=>{const o=ig(a),c=NE(this.serializer,o);return t.put(c)}))}Ci(e,t){const r=t.store(Ld),a=[];return r.ee(((o,c)=>{const u=t.store(ox),h=(function(x){return x.document?new ot(tr.fromString(x.document.name).popFirst(5)):x.noDocument?ot.fromSegments(x.noDocument.path):x.unknownDocument?ot.fromSegments(x.unknownDocument.path):vt(36783)})(c).path.toArray(),f={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(u.put(f))})).next((()=>Te.waitFor(a)))}Fi(e,t){const r=t.store(ul),a=PE(this.serializer),o=new Ev(ny.mi,this.serializer.yt);return r.J().next((c=>{const u=new Map;return c.forEach((h=>{let f=u.get(h.userId)??Sn();Od(this.serializer,h).keys().forEach((g=>f=f.add(g))),u.set(h.userId,f)})),Te.forEach(u,((h,f)=>{const g=new La(f),x=ey.wt(this.serializer,g),v=o.getIndexManager(g),b=ty.wt(g,this.serializer,v,o.referenceDelegate);return new LE(a,b,x,v).recalculateAndSaveOverlaysForDocumentKeys(new X1(t,Oo.ce),h).next()}))}))}}function C_(n){n.createObjectStore(Ff,{keyPath:bL}).createIndex(cv,vL,{unique:!0}),n.createObjectStore(Of,{keyPath:"targetId"}).createIndex(wS,yL,{unique:!0}),n.createObjectStore(qd)}const Lu="IndexedDbPersistence",Qb=18e5,Jb=5e3,Zb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",rM="main";class Av{constructor(e,t,r,a,o,c,u,h,f,g,x=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=o,this.window=c,this.document=u,this.xi=f,this.Oi=g,this.Ni=x,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!Av.v())throw new tt(Ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new GD(this,a),this.$i=t+rM,this.serializer=new wE(h),this.Ui=new Xu(this.$i,this.Ni,new nM(this.serializer)),this.hi=new kD,this.Pi=new VD(this.referenceDelegate,this.serializer),this.remoteDocumentCache=PE(this.serializer),this.Ii=new RD,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,g===!1&&fi(Lu,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tt(Ue.FAILED_PRECONDITION,Zb);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Oo(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>h0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(dd(e))return Ze(Lu,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ze(Lu,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Qm(e).get(tf).next((t=>Te.resolve(this.es(t))))}ts(e){return h0(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Qb)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=sa(t,Uf);return r.J().next((a=>{const o=this.ss(a,Qb),c=a.filter((u=>o.indexOf(u)===-1));return Te.forEach(c,(u=>r.delete(u.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Te.resolve(!0):Qm(e).get(tf).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Jb)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new tt(Ue.FAILED_PRECONDITION,Zb);return!1}}return!(!this.networkEnabled||!this.inForeground)||h0(e).J().next((r=>this.ss(r,Jb).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,u=this.networkEnabled===a.networkEnabled;if(o||c&&u)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&Ze(Lu,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Jg,Uf],(e=>{const t=new X1(e,Oo.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>h0(e).J().next((t=>this.ss(t,Qb).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return ty.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new UD(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return ey.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){Ze(Lu,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",o=(function(h){return h===18?OL:h===17?TS:h===16?ML:h===15?hv:h===14?AS:h===13?ES:h===12?DL:h===11?SS:void vt(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,a,o,(u=>(c=new X1(u,this.ci?this.ci.next():Oo.ce),t==="readwrite-primary"?this.Hi(c).next((h=>!!h||this.Yi(c))).next((h=>{if(!h)throw fi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new tt(Ue.FAILED_PRECONDITION,pS);return r(c)})).next((h=>this.Xi(c).next((()=>h)))):this.Is(c).next((()=>r(c)))))).then((u=>(c.raiseOnCommittedEvent(),u)))}Is(e){return Qm(e).get(tf).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Jb)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new tt(Ue.FAILED_PRECONDITION,Zb)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qm(e).put(tf,t)}static v(){return Xu.v()}Zi(e){const t=Qm(e);return t.get(tf).next((r=>this.es(r)?(Ze(Lu,"Releasing primary lease."),t.delete(tf)):Te.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(fi(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;f3()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return Ze(Lu,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return fi(Lu,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){fi("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Qm(n){return sa(n,Jg)}function h0(n){return sa(n,Uf)}function sM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Tv{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=Sn(),a=Sn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Tv(e,t.fromCache,r,a)}}class aM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class DE{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return f3()?8:yS(ra())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.ys(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,t,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new aM;return this.Ss(e,t,c).next((u=>{if(o.result=u,this.Vs)return this.bs(e,t,c,u.size)}))})).next((()=>o.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(mf()<=Ln.DEBUG&&Ze("QueryEngine","SDK will not create cache indexes for query:",gf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Te.resolve()):(mf()<=Ln.DEBUG&&Ze("QueryEngine","Query:",gf(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(mf()<=Ln.DEBUG&&Ze("QueryEngine","The SDK decides to create cache indexes for query:",gf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fo(t))):Te.resolve())}ys(e,t){if(Zj(t))return Te.resolve(null);let r=Fo(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=r2(t,null,"F"),r=Fo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=Sn(...o);return this.ps.getDocuments(e,c).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(t,u);return this.Cs(t,f,c,h.readTime)?this.ys(e,r2(t,null,"F")):this.vs(e,f,t,h)}))))})))))}ws(e,t,r,a){return Zj(t)||a.isEqual(Gt.min())?Te.resolve(null):this.ps.getDocuments(e,r).next((o=>{const c=this.Ds(t,o);return this.Cs(t,c,r,a)?Te.resolve(null):(mf()<=Ln.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),gf(t)),this.vs(e,c,t,iL(a,Cg)).next((u=>u)))}))}Ds(e,t){let r=new dr(KS(e));return t.forEach(((a,o)=>{ep(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,t,r){return mf()<=Ln.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",gf(t)),this.ps.getDocumentsMatchingQuery(e,t,fo.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const Cv="LocalStore",iM=3e8;class oM{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Hr(cn),this.xs=new Zc((o=>rh(o)),Zg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LE(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function ME(n,e,t,r){return new oM(n,e,t,r)}async function OE(n,e){const t=un(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],u=[];let h=Sn();for(const f of a){c.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of o){u.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:u})))}))}))}function lM(n,e){const t=un(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,f,g){const x=f.batch,v=x.keys();let b=Te.resolve();return v.forEach((T=>{b=b.next((()=>g.getEntry(h,T))).next((E=>{const j=f.docVersions.get(T);kt(j!==null,48541),E.version.compareTo(j)<0&&(x.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),g.addEntry(E)))}))})),b.next((()=>u.mutationQueue.removeMutationBatch(h,x)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=Sn();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function FE(n){const e=un(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function cM(n,e){const t=un(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const u=[];e.targetChanges.forEach(((g,x)=>{const v=a.get(x);if(!v)return;u.push(t.Pi.removeMatchingKeys(o,g.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(o,g.addedDocuments,x))));let b=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?b=b.withResumeToken(Vs.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,r)),a=a.insert(x,b),(function(E,j,S){return E.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=iM?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(v,b,g)&&u.push(t.Pi.updateTargetData(o,b))}));let h=co(),f=Sn();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),u.push(uM(o,c,e.documentUpdates).next((g=>{h=g.ks,f=g.qs}))),!r.isEqual(Gt.min())){const g=t.Pi.getLastRemoteSnapshotVersion(o).next((x=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(g)}return Te.waitFor(u).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,h,f))).next((()=>h))})).then((o=>(t.Ms=a,o)))}function uM(n,e,t){let r=Sn(),a=Sn();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let c=co();return t.forEach(((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(u)),h.isNoDocument()&&h.version.isEqual(Gt.min())?(e.removeEntry(u,h.readTime),c=c.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),c=c.insert(u,h)):Ze(Cv,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function dM(n,e){const t=un(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=zd),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function hM(n,e){const t=un(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((o=>o?(a=o,Te.resolve(a)):t.Pi.allocateTargetId(r).next((c=>(a=new zc(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function d2(n,e,t){const r=un(n),a=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!dd(c))throw c;Ze(Cv,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function I_(n,e,t){const r=un(n);let a=Gt.min(),o=Sn();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,f,g){const x=un(h),v=x.xs.get(g);return v!==void 0?Te.resolve(x.Ms.get(v)):x.Pi.getTargetData(f,g)})(r,c,Fo(e)).next((u=>{if(u)return a=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,u.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?a:Gt.min(),t?o:Sn()))).next((u=>(fM(r,JL(e),u),{documents:u,Qs:o})))))}function fM(n,e,t){let r=n.Os.get(e)||Gt.min();t.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}class R_{constructor(){this.activeTargetIds=sD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UE{constructor(){this.Mo=new R_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new R_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mM{Oo(e){}shutdown(){}}const k_="ConnectivityMonitor";class P_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ze(k_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ze(k_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let f0=null;function h2(){return f0===null?f0=(function(){return 268435456+Math.round(2147483648*Math.random())})():f0++,"0x"+f0.toString(16)}const e1="RestConnection",gM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===cx?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,o){const c=h2(),u=this.zo(e,t.toUriEncodedString());Ze(e1,`Sending RPC '${e}' ${c}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,o);const{host:f}=new URL(u),g=cd(f);return this.Jo(e,u,h,r,g).then((x=>(Ze(e1,`Received RPC '${e}' ${c}: `,x),x)),(x=>{throw th(e1,`RPC '${e}' ${c} failed with error: `,x,"url: ",u,"request:",r),x}))}Ho(e,t,r,a,o,c){return this.Go(e,t,r,a,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rm})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,t){const r=gM[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class xM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ha="WebChannelConnection";class yM extends pM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,o){const c=h2();return new Promise(((u,h)=>{const f=new aS;f.setWithCredentials(!0),f.listenOnce(iS.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case R0.NO_ERROR:const x=f.getResponseJson();Ze(Ha,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),u(x);break;case R0.TIMEOUT:Ze(Ha,`RPC '${e}' ${c} timed out`),h(new tt(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case R0.HTTP_ERROR:const v=f.getStatus();if(Ze(Ha,`RPC '${e}' ${c} failed with status:`,v,"response text:",f.getResponseText()),v>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const T=b?.error;if(T&&T.status&&T.message){const E=(function(S){const L=S.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(L)>=0?L:Ue.UNKNOWN})(T.status);h(new tt(E,T.message))}else h(new tt(Ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new tt(Ue.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ze(Ha,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);Ze(Ha,`RPC '${e}' ${c} sending request:`,a),f.send(t,"POST",g,r,15)}))}T_(e,t,r){const a=h2(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=cS(),u=lS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=o.join("");Ze(Ha,`Creating RPC '${e}' stream ${a}: ${g}`,h);const x=c.createWebChannel(g,h);this.I_(x);let v=!1,b=!1;const T=new xM({Yo:j=>{b?Ze(Ha,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(v||(Ze(Ha,`Opening RPC '${e}' stream ${a} transport.`),x.open(),v=!0),Ze(Ha,`RPC '${e}' stream ${a} sending:`,j),x.send(j))},Zo:()=>x.close()}),E=(j,S,L)=>{j.listen(S,(D=>{try{L(D)}catch(O){setTimeout((()=>{throw O}),0)}}))};return E(x,rg.EventType.OPEN,(()=>{b||(Ze(Ha,`RPC '${e}' stream ${a} transport opened.`),T.o_())})),E(x,rg.EventType.CLOSE,(()=>{b||(b=!0,Ze(Ha,`RPC '${e}' stream ${a} transport closed`),T.a_(),this.E_(x))})),E(x,rg.EventType.ERROR,(j=>{b||(b=!0,th(Ha,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),T.a_(new tt(Ue.UNAVAILABLE,"The operation could not be completed")))})),E(x,rg.EventType.MESSAGE,(j=>{if(!b){const S=j.data[0];kt(!!S,16349);const L=S,D=L?.error||L[0]?.error;if(D){Ze(Ha,`RPC '${e}' stream ${a} received error:`,D);const O=D.status;let te=(function(U){const k=Ms[U];if(k!==void 0)return oE(k)})(O),ee=D.message;te===void 0&&(te=Ue.INTERNAL,ee="Unknown error status: "+O+" with message "+D.message),b=!0,T.a_(new tt(te,ee)),x.close()}else Ze(Ha,`RPC '${e}' stream ${a} received:`,S),T.u_(S)}})),E(u,oS.STAT_EVENT,(j=>{j.stat===G1.PROXY?Ze(Ha,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===G1.NOPROXY&&Ze(Ha,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function bM(){return typeof window<"u"?window:null}function B0(){return typeof document<"u"?document:null}function ry(n){return new vD(n,!0)}class VE{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&Ze("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const L_="PersistentStream";class BE{constructor(e,t,r,a,o,c,u,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new VE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ue.RESOURCE_EXHAUSTED?(fi(t.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new tt(Ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ze(L_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ze(L_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vM extends BE{constructor(e,t,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=jD(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Gt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Gt.min():c.readTime?mi(c.readTime):Gt.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=i2(this.serializer),t.addTarget=(function(o,c){let u;const h=c.target;if(u=ux(h)?{documents:gE(o,h)}:{query:pE(o,h).ft},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=uE(o,c.resumeToken);const f=s2(o,c.expectedCount);f!==null&&(u.expectedCount=f)}else if(c.snapshotVersion.compareTo(Gt.min())>0){u.readTime=Wf(o,c.snapshotVersion.toTimestamp());const f=s2(o,c.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=SD(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=i2(this.serializer),t.removeTarget=e,this.q_(t)}}class wM extends BE{constructor(e,t,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=_D(e.writeResults,e.commitTime),r=mi(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=i2(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>fx(this.serializer,r)))};this.q_(t)}}class NM{}class jM extends NM{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new tt(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,a2(t,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new tt(Ue.UNKNOWN,o.toString())}))}Ho(e,t,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Ho(e,a2(t,r),a,c,u,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new tt(Ue.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _M{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fi(t),this.aa=!1):Ze("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oh="RemoteStore";class SM{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{gh(this)&&(Ze(oh,"Restarting streams for network reachability change."),await(async function(h){const f=un(h);f.Ea.add(4),await rp(f),f.Ra.set("Unknown"),f.Ea.delete(4),await sy(f)})(this))}))})),this.Ra=new _M(r,a)}}async function sy(n){if(gh(n))for(const e of n.da)await e(!0)}async function rp(n){for(const e of n.da)await e(!1)}function zE(n,e){const t=un(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Pv(t)?kv(t):im(t).O_()&&Rv(t,e))}function Iv(n,e){const t=un(n),r=im(t);t.Ia.delete(e),r.O_()&&qE(t,e),t.Ia.size===0&&(r.O_()?r.L_():gh(t)&&t.Ra.set("Unknown"))}function Rv(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Gt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}im(n).Y_(e)}function qE(n,e){n.Va.Ue(e),im(n).Z_(e)}function kv(n){n.Va=new pD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),im(n).start(),n.Ra.ua()}function Pv(n){return gh(n)&&!im(n).x_()&&n.Ia.size>0}function gh(n){return un(n).Ea.size===0}function GE(n){n.Va=void 0}async function EM(n){n.Ra.set("Online")}async function AM(n){n.Ia.forEach(((e,t)=>{Rv(n,e)}))}async function TM(n,e){GE(n),Pv(n)?(n.Ra.ha(e),kv(n)):n.Ra.set("Unknown")}async function CM(n,e,t){if(n.Ra.set("Online"),e instanceof cE&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const u of o.targetIds)a.Ia.has(u)&&(await a.remoteSyncer.rejectListen(u,c),a.Ia.delete(u),a.Va.removeTarget(u))})(n,e)}catch(r){Ze(oh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yx(n,r)}else if(e instanceof U0?n.Va.Ze(e):e instanceof lE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Gt.min()))try{const r=await FE(n.localStore);t.compareTo(r)>=0&&await(function(o,c){const u=o.Va.Tt(c);return u.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(h.resumeToken,c))}})),u.targetMismatches.forEach(((h,f)=>{const g=o.Ia.get(h);if(!g)return;o.Ia.set(h,g.withResumeToken(Vs.EMPTY_BYTE_STRING,g.snapshotVersion)),qE(o,h);const x=new zc(g.target,h,f,g.sequenceNumber);Rv(o,x)})),o.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){Ze(oh,"Failed to raise snapshot:",r),await yx(n,r)}}async function yx(n,e,t){if(!dd(e))throw e;n.Ea.add(1),await rp(n),n.Ra.set("Offline"),t||(t=()=>FE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ze(oh,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await sy(n)}))}function HE(n,e){return e().catch((t=>yx(n,t,e)))}async function sp(n){const e=un(n),t=nd(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zd;for(;IM(e);)try{const a=await dM(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,RM(e,a)}catch(a){await yx(e,a)}$E(e)&&WE(e)}function IM(n){return gh(n)&&n.Ta.length<10}function RM(n,e){n.Ta.push(e);const t=nd(n);t.O_()&&t.X_&&t.ea(e.mutations)}function $E(n){return gh(n)&&!nd(n).x_()&&n.Ta.length>0}function WE(n){nd(n).start()}async function kM(n){nd(n).ra()}async function PM(n){const e=nd(n);for(const t of n.Ta)e.ea(t.mutations)}async function LM(n,e,t){const r=n.Ta.shift(),a=bv.from(r,e,t);await HE(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await sp(n)}async function DM(n,e){e&&nd(n).X_&&await(async function(r,a){if((function(c){return fD(c)&&c!==Ue.ABORTED})(a.code)){const o=r.Ta.shift();nd(r).B_(),await HE(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await sp(r)}})(n,e),$E(n)&&WE(n)}async function D_(n,e){const t=un(n);t.asyncQueue.verifyOperationInProgress(),Ze(oh,"RemoteStore received new credentials");const r=gh(t);t.Ea.add(3),await rp(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await sy(t)}async function MM(n,e){const t=un(n);e?(t.Ea.delete(2),await sy(t)):e||(t.Ea.add(2),await rp(t),t.Ra.set("Unknown"))}function im(n){return n.ma||(n.ma=(function(t,r,a){const o=un(t);return o.sa(),new vM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:EM.bind(null,n),t_:AM.bind(null,n),r_:TM.bind(null,n),H_:CM.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Pv(n)?kv(n):n.Ra.set("Unknown")):(await n.ma.stop(),GE(n))}))),n.ma}function nd(n){return n.fa||(n.fa=(function(t,r,a){const o=un(t);return o.sa(),new wM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:kM.bind(null,n),r_:DM.bind(null,n),ta:PM.bind(null,n),na:LM.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await sp(n)):(await n.fa.stop(),n.Ta.length>0&&(Ze(oh,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Lv{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Jl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const c=Date.now()+r,u=new Lv(e,t,c,a,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new tt(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dv(n,e){if(fi("AsyncQueue",`${e}: ${n}`),dd(n))return new tt(Ue.UNAVAILABLE,`${e}: ${n}`);throw n}class Af{static emptySet(e){return new Af(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ot.comparator(t.key,r.key):(t,r)=>ot.comparator(t.key,r.key),this.keyedMap=sg(),this.sortedSet=new Hr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Af)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Af;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class M_{constructor(){this.ga=new Hr(ot.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Kf{constructor(e,t,r,a,o,c,u,h,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,a,o){const c=[];return t.forEach((u=>{c.push({type:0,doc:u})})),new Kf(e,t,Af.emptySet(t),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class OM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class FM{constructor(){this.queries=O_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=un(t),o=a.queries;a.queries=O_(),o.forEach(((c,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new tt(Ue.ABORTED,"Firestore shutting down"))}}function O_(){return new Zc((n=>WS(n)),Xx)}async function KE(n,e){const t=un(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new OM,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const u=Dv(c,`Initialization of query '${gf(e.query)}' failed`);return void e.onError(u)}t.queries.set(a,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Mv(t)}async function YE(n,e){const t=un(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function UM(n,e){const t=un(n);let r=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const u of c.Sa)u.Fa(a)&&(r=!0);c.wa=a}}r&&Mv(t)}function VM(n,e,t){const r=un(n),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(t);r.queries.delete(e)}function Mv(n){n.Ca.forEach((e=>{e.next()}))}var f2,F_;(F_=f2||(f2={})).Ma="default",F_.Cache="cache";class XE{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Kf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Kf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==f2.Cache}}class QE{constructor(e){this.key=e}}class JE{constructor(e){this.key=e}}class BM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Sn(),this.mutatedKeys=Sn(),this.eu=KS(e),this.tu=new Af(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new M_,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,u=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,x)=>{const v=a.get(g),b=ep(this.query,x)?x:null,T=!!v&&this.mutatedKeys.has(v.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let j=!1;v&&b?v.data.isEqual(b.data)?T!==E&&(r.track({type:3,doc:b}),j=!0):this.su(v,b)||(r.track({type:2,doc:b}),j=!0,(h&&this.eu(b,h)>0||f&&this.eu(b,f)<0)&&(u=!0)):!v&&b?(r.track({type:0,doc:b}),j=!0):v&&!b&&(r.track({type:1,doc:v}),j=!0,(h||f)&&(u=!0)),j&&(b?(c=c.add(b),o=E?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:c,iu:r,Cs:u,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,x)=>(function(b,T){const E=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:j})}};return E(b)-E(T)})(g.type,x.type)||this.eu(g.doc,x.doc))),this.ou(r),a=a??!1;const u=t&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,f=h!==this.Za;return this.Za=h,c.length!==0||f?{snapshot:new Kf(this.query,e.tu,o,c,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Sn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new JE(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new QE(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Sn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Kf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ov="SyncEngine";class zM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class qM{constructor(e){this.key=e,this.hu=!1}}class GM{constructor(e,t,r,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Zc((u=>WS(u)),Xx),this.Iu=new Map,this.Eu=new Set,this.du=new Hr(ot.comparator),this.Au=new Map,this.Ru=new Sv,this.Vu={},this.mu=new Map,this.fu=ih.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HM(n,e,t=!0){const r=sA(n);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await ZE(r,e,t,!0),a}async function $M(n,e){const t=sA(n);await ZE(t,e,!0,!1)}async function ZE(n,e,t,r){const a=await hM(n.localStore,Fo(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await WM(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&zE(n.remoteStore,a),u}async function WM(n,e,t,r,a){n.pu=(x,v,b)=>(async function(E,j,S,L){let D=j.view.ru(S);D.Cs&&(D=await I_(E.localStore,j.query,!1).then((({documents:G})=>j.view.ru(G,D))));const O=L&&L.targetChanges.get(j.targetId),te=L&&L.targetMismatches.get(j.targetId)!=null,ee=j.view.applyChanges(D,E.isPrimaryClient,O,te);return V_(E,j.targetId,ee.au),ee.snapshot})(n,x,v,b);const o=await I_(n.localStore,e,!0),c=new BM(e,o.Qs),u=c.ru(o.documents),h=np.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),f=c.applyChanges(u,n.isPrimaryClient,h);V_(n,t,f.au);const g=new zM(e,t,c);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function KM(n,e,t){const r=un(n),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!Xx(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await d2(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Iv(r.remoteStore,a.targetId),m2(r,a.targetId)})).catch(mh)):(m2(r,a.targetId),await d2(r.localStore,a.targetId,!0))}async function YM(n,e){const t=un(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Iv(t.remoteStore,r.targetId))}async function XM(n,e,t){const r=aA(n);try{const a=await(function(c,u){const h=un(c),f=gt.now(),g=u.reduce(((b,T)=>b.add(T.key)),Sn());let x,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let T=co(),E=Sn();return h.Ns.getEntries(b,g).next((j=>{T=j,T.forEach(((S,L)=>{L.isValidDocument()||(E=E.add(S))}))})).next((()=>h.localDocuments.getOverlayedDocuments(b,T))).next((j=>{x=j;const S=[];for(const L of u){const D=dD(L,x.get(L.key).overlayedDocument);D!=null&&S.push(new eu(L.key,D,FS(D.value.mapValue),na.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,S,u)})).next((j=>{v=j;const S=j.applyToLocalDocumentSet(x,E);return h.documentOverlayCache.saveOverlays(b,j.batchId,S)}))})).then((()=>({batchId:v.batchId,changes:XS(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,u,h){let f=c.Vu[c.currentUser.toKey()];f||(f=new Hr(cn)),f=f.insert(u,h),c.Vu[c.currentUser.toKey()]=f})(r,a.batchId,t),await ap(r,a.changes),await sp(r.remoteStore)}catch(a){const o=Dv(a,"Failed to persist write");t.reject(o)}}async function eA(n,e){const t=un(n);try{const r=await cM(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=t.Au.get(o);c&&(kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?kt(c.hu,14607):a.removedDocuments.size>0&&(kt(c.hu,42227),c.hu=!1))})),await ap(t,r,e)}catch(r){await mh(r)}}function U_(n,e,t){const r=un(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((o,c)=>{const u=c.view.va(e);u.snapshot&&a.push(u.snapshot)})),(function(c,u){const h=un(c);h.onlineState=u;let f=!1;h.queries.forEach(((g,x)=>{for(const v of x.Sa)v.va(u)&&(f=!0)})),f&&Mv(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QM(n,e,t){const r=un(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),o=a&&a.key;if(o){let c=new Hr(ot.comparator);c=c.insert(o,hs.newNoDocument(o,Gt.min()));const u=Sn().add(o),h=new Zx(Gt.min(),new Map,new Hr(cn),c,u);await eA(r,h),r.du=r.du.remove(o),r.Au.delete(e),Fv(r)}else await d2(r.localStore,e,!1).then((()=>m2(r,e,t))).catch(mh)}async function JM(n,e){const t=un(n),r=e.batch.batchId;try{const a=await lM(t.localStore,e);nA(t,r,null),tA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ap(t,a)}catch(a){await mh(a)}}async function ZM(n,e,t){const r=un(n);try{const a=await(function(c,u){const h=un(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return h.mutationQueue.lookupMutationBatch(f,u).next((x=>(kt(x!==null,37113),g=x.keys(),h.mutationQueue.removeMutationBatch(f,x)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>h.localDocuments.getDocuments(f,g)))}))})(r.localStore,e);nA(r,e,t),tA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ap(r,a)}catch(a){await mh(a)}}function tA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function nA(n,e,t){const r=un(n);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function m2(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||rA(n,r)}))}function rA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Iv(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Fv(n))}function V_(n,e,t){for(const r of t)r instanceof QE?(n.Ru.addReference(r.key,e),e9(n,r)):r instanceof JE?(Ze(Ov,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||rA(n,r.key)):vt(19791,{wu:r})}function e9(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Ze(Ov,"New document in limbo: "+t),n.Eu.add(r),Fv(n))}function Fv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ot(tr.fromString(e)),r=n.fu.next();n.Au.set(r,new qM(t)),n.du=n.du.insert(t,r),zE(n.remoteStore,new zc(Fo(Yx(t.path)),r,"TargetPurposeLimboResolution",Oo.ce))}}async function ap(n,e,t){const r=un(n),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{c.push(r.pu(h,e,t).then((f=>{if((f||t)&&r.isPrimaryClient){const g=f?!f.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){a.push(f);const g=Tv.As(h.targetId,f);o.push(g)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(h,f){const g=un(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>Te.forEach(f,(v=>Te.forEach(v.Es,(b=>g.persistence.referenceDelegate.addReference(x,v.targetId,b))).next((()=>Te.forEach(v.ds,(b=>g.persistence.referenceDelegate.removeReference(x,v.targetId,b)))))))))}catch(x){if(!dd(x))throw x;Ze(Cv,"Failed to update sequence numbers: "+x)}for(const x of f){const v=x.targetId;if(!x.fromCache){const b=g.Ms.get(v),T=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(T);g.Ms=g.Ms.insert(v,E)}}})(r.localStore,o))}async function t9(n,e){const t=un(n);if(!t.currentUser.isEqual(e)){Ze(Ov,"User change. New user:",e.toKey());const r=await OE(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((u=>{u.forEach((h=>{h.reject(new tt(Ue.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ap(t,r.Ls)}}function n9(n,e){const t=un(n),r=t.Au.get(e);if(r&&r.hu)return Sn().add(r.key);{let a=Sn();const o=t.Iu.get(e);if(!o)return a;for(const c of o){const u=t.Tu.get(c);a=a.unionWith(u.view.nu)}return a}}function sA(n){const e=un(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=eA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QM.bind(null,e),e.Pu.H_=UM.bind(null,e.eventManager),e.Pu.yu=VM.bind(null,e.eventManager),e}function aA(n){const e=un(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZM.bind(null,e),e}class Bg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ry(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ME(this.persistence,new DE,e.initialUser,this.serializer)}Cu(e){return new Ev(ny.mi,this.serializer)}Du(e){return new UE}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bg.provider={build:()=>new Bg};class r9 extends Bg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){kt(this.persistence.referenceDelegate instanceof xx,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new IE(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Xa.withCacheSize(this.cacheSizeBytes):Xa.DEFAULT;return new Ev((r=>xx.mi(r,t)),this.serializer)}}class s9 extends Bg{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await aA(this.xu.syncEngine),await sp(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return ME(this.persistence,new DE,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new IE(r,e.asyncQueue,t)}Mu(e,t){const r=new uL(t,this.persistence);return new cL(e.asyncQueue,r)}Cu(e){const t=sM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Xa.withCacheSize(this.cacheSizeBytes):Xa.DEFAULT;return new Av(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,bM(),B0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new UE}}class bx{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t9.bind(null,this.syncEngine),await MM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FM})()}createDatastore(e){const t=ry(e.databaseInfo.databaseId),r=(function(o){return new yM(o)})(e.databaseInfo);return(function(o,c,u,h){return new jM(o,c,u,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,o,c,u){return new SM(r,a,o,c,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>U_(this.syncEngine,t,0)),(function(){return P_.v()?new P_:new mM})())}createSyncEngine(e,t){return(function(a,o,c,u,h,f,g){const x=new GM(a,o,c,u,h,f);return g&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=un(t);Ze(oh,"RemoteStore shutting down."),r.Ea.add(5),await rp(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bx.provider={build:()=>new bx};class iA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const rd="FirestoreClient";class a9{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=La.UNAUTHENTICATED,this.clientId=iv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{Ze(rd,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ze(rd,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Dv(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function t1(n,e){n.asyncQueue.verifyOperationInProgress(),Ze(rd,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await OE(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function B_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await i9(n);Ze(rd,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>D_(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>D_(e.remoteStore,a))),n._onlineComponents=e}async function i9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ze(rd,"Using user provided OfflineComponentProvider");try{await t1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Ue.FAILED_PRECONDITION||a.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;th("Error using user provided cache. Falling back to memory cache: "+t),await t1(n,new Bg)}}else Ze(rd,"Using default OfflineComponentProvider"),await t1(n,new r9(void 0));return n._offlineComponents}async function oA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ze(rd,"Using user provided OnlineComponentProvider"),await B_(n,n._uninitializedComponentsProvider._online)):(Ze(rd,"Using default OnlineComponentProvider"),await B_(n,new bx))),n._onlineComponents}function o9(n){return oA(n).then((e=>e.syncEngine))}async function lA(n){const e=await oA(n),t=e.eventManager;return t.onListen=HM.bind(null,e.syncEngine),t.onUnlisten=KM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$M.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=YM.bind(null,e.syncEngine),t}function l9(n,e,t={}){const r=new Jl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,u,h,f){const g=new iA({next:v=>{g.Nu(),c.enqueueAndForget((()=>YE(o,x)));const b=v.docs.has(u);!b&&v.fromCache?f.reject(new tt(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&h&&h.source==="server"?f.reject(new tt(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),x=new XE(Yx(u.path),g,{includeMetadataChanges:!0,qa:!0});return KE(o,x)})(await lA(n),n.asyncQueue,e,t,r))),r.promise}function cA(n,e,t={}){const r=new Jl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,u,h,f){const g=new iA({next:v=>{g.Nu(),c.enqueueAndForget((()=>YE(o,x))),v.fromCache&&h.source==="server"?f.reject(new tt(Ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),x=new XE(u,g,{includeMetadataChanges:!0,qa:!0});return KE(o,x)})(await lA(n),n.asyncQueue,e,t,r))),r.promise}function uA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const z_=new Map;const dA="firestore.googleapis.com",q_=!0;class G_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new tt(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dA,this.ssl=q_}else this.host=e.host,this.ssl=e.ssl??q_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BD)throw new tt(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new tt(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new tt(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new tt(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ay{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tt(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new tt(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Y7;switch(r.type){case"firstParty":return new Z7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new tt(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=z_.get(t);r&&(Ze("ComponentProvider","Removing Datastore"),z_.delete(t),r.terminate())})(this),Promise.resolve()}}function c9(n,e,t,r={}){n=gi(n,ay);const a=cd(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;a&&($2(`https://${u}`),W2("Firestore",!0)),o.host!==dA&&o.host!==u&&th("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:u,ssl:a,emulatorOptions:r};if(!Xd(h,c)&&(n._setSettings(h),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=La.MOCK_USER;else{f=d3(r.mockUserToken,n._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new tt(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new La(x)}n._authCredentials=new X7(new dS(f,g))}}class fd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fd(this.firestore,e,this._query)}}class js{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new js(this.firestore,e,this._key)}toJSON(){return{type:js._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Qg(t,js._jsonSchema))return new js(e,r||null,new ot(tr.fromString(t.referencePath)))}}js._jsonSchemaVersion="firestore/documentReference/1.0",js._jsonSchema={type:Fs("string",js._jsonSchemaVersion),referencePath:Fs("string")};class Qu extends fd{constructor(e,t,r){super(e,t,Yx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new js(this.firestore,null,new ot(e))}withConverter(e){return new Qu(this.firestore,e,this._path)}}function Ht(n,e,...t){if(n=Cr(n),fS("collection","path",e),n instanceof ay){const r=tr.fromString(e,...t);return Lj(r),new Qu(n,null,r)}{if(!(n instanceof js||n instanceof Qu))throw new tt(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tr.fromString(e,...t));return Lj(r),new Qu(n.firestore,null,r)}}function St(n,e,...t){if(n=Cr(n),arguments.length===1&&(e=iv.newId()),fS("doc","path",e),n instanceof ay){const r=tr.fromString(e,...t);return Pj(r),new js(n,null,new ot(r))}{if(!(n instanceof js||n instanceof Qu))throw new tt(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tr.fromString(e,...t));return Pj(r),new js(n.firestore,n instanceof Qu?n.converter:null,new ot(r))}}const H_="AsyncQueue";class $_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new VE(this,"async_queue_retry"),this._c=()=>{const r=B0();r&&Ze(H_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=B0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=B0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Jl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dd(e))throw e;Ze(H_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fi("INTERNAL UNHANDLED ERROR: ",W_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Lv.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&vt(47125,{Pc:W_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function W_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ac extends ay{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new $_,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $_(e),this._firestoreClient=void 0,await e}}}function u9(n,e){const t=typeof n=="object"?n:X2(),r=typeof n=="string"?n:cx,a=Ox(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=l3("firestore");o&&c9(a,...o)}return a}function ip(n){if(n._terminated)throw new tt(Ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||hA(n),n._firestoreClient}function hA(n){const e=n._freezeSettings(),t=(function(a,o,c,u){return new UL(a,o,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,uA(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new a9(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}function d9(n,e){th("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return h9(n,bx.provider,{build:r=>new s9(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function h9(n,e,t){if((n=gi(n,ac))._firestoreClient||n._terminated)throw new tt(Ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new tt(Ue.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},hA(n)}class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(Vs.fromBase64String(e))}catch(t){throw new tt(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mo(Vs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qg(e,Mo._jsonSchema))return Mo.fromBase64String(e.bytes)}}Mo._jsonSchemaVersion="firestore/bytes/1.0",Mo._jsonSchema={type:Fs("string",Mo._jsonSchemaVersion),bytes:Fs("string")};class op{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new tt(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class iy{constructor(e){this._methodName=e}}class Zl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tt(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tt(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return cn(this._lat,e._lat)||cn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zl._jsonSchemaVersion}}static fromJSON(e){if(Qg(e,Zl._jsonSchema))return new Zl(e.latitude,e.longitude)}}Zl._jsonSchemaVersion="firestore/geoPoint/1.0",Zl._jsonSchema={type:Fs("string",Zl._jsonSchemaVersion),latitude:Fs("number"),longitude:Fs("number")};class ec{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ec._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qg(e,ec._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ec(e.vectorValues);throw new tt(Ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ec._jsonSchemaVersion="firestore/vectorValue/1.0",ec._jsonSchema={type:Fs("string",ec._jsonSchemaVersion),vectorValues:Fs("object")};const f9=/^__.*__$/;class m9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new eu(e,this.data,this.fieldMask,t,this.fieldTransforms):new am(e,this.data,t,this.fieldTransforms)}}class fA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new eu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:n})}}class Uv{constructor(e,t,r,a,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Uv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vx(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(mA(this.Ac)&&f9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class g9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ry(e)}Cc(e,t,r,a=!1){return new Uv({Ac:e,methodName:t,Dc:r,path:Jr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lp(n){const e=n._freezeSettings(),t=ry(n._databaseId);return new g9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Vv(n,e,t,r,a,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,e,t,a);zv("Data must be an object, but it was:",c,r);const u=xA(r,c);let h,f;if(o.merge)h=new Ui(c.fieldMask),f=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const x of o.mergeFields){const v=g2(e,x,t);if(!c.contains(v))throw new tt(Ue.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);bA(g,v)||g.push(v)}h=new Ui(g),f=c.fieldTransforms.filter((x=>h.covers(x.field)))}else h=null,f=c.fieldTransforms;return new m9(new Qa(u),h,f)}class oy extends iy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oy}}class Bv extends iy{_toFieldTransform(e){return new rE(e.path,new Gf)}isEqual(e){return e instanceof Bv}}function gA(n,e,t,r){const a=n.Cc(1,e,t);zv("Data must be an object, but it was:",a,r);const o=[],c=Qa.empty();hd(r,((h,f)=>{const g=qv(e,h,t);f=Cr(f);const x=a.yc(g);if(f instanceof oy)o.push(g);else{const v=cp(f,x);v!=null&&(o.push(g),c.set(g,v))}}));const u=new Ui(o);return new fA(c,u,a.fieldTransforms)}function pA(n,e,t,r,a,o){const c=n.Cc(1,e,t),u=[g2(e,r,t)],h=[a];if(o.length%2!=0)throw new tt(Ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(g2(e,o[v])),h.push(o[v+1]);const f=[],g=Qa.empty();for(let v=u.length-1;v>=0;--v)if(!bA(f,u[v])){const b=u[v];let T=h[v];T=Cr(T);const E=c.yc(b);if(T instanceof oy)f.push(b);else{const j=cp(T,E);j!=null&&(f.push(b),g.set(b,j))}}const x=new Ui(f);return new fA(g,x,c.fieldTransforms)}function p9(n,e,t,r=!1){return cp(t,n.Cc(r?4:3,e))}function cp(n,e){if(yA(n=Cr(n)))return zv("Unsupported field value:",e,n),xA(n,e);if(n instanceof iy)return(function(r,a){if(!mA(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const u of r){let h=cp(u,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}})(n,e)}return(function(r,a){if((r=Cr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aD(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=gt.fromDate(r);return{timestampValue:Wf(a.serializer,o)}}if(r instanceof gt){const o=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wf(a.serializer,o)}}if(r instanceof Zl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mo)return{bytesValue:uE(a.serializer,r._byteString)};if(r instanceof js){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Nv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ec)return(function(c,u){return{mapValue:{fields:{[mv]:{stringValue:gv},[Vf]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return xv(u.serializer,f)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Bx(r)}`)})(n,e)}function xA(n,e){const t={};return CS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hd(n,((r,a)=>{const o=cp(a,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function yA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof gt||n instanceof Zl||n instanceof Mo||n instanceof js||n instanceof iy||n instanceof ec)}function zv(n,e,t){if(!yA(t)||!mS(t)){const r=Bx(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function g2(n,e,t){if((e=Cr(e))instanceof op)return e._internalPath;if(typeof e=="string")return qv(n,e);throw vx("Field path arguments must be of type string or ",n,!1,void 0,t)}const x9=new RegExp("[~\\*/\\[\\]]");function qv(n,e,t){if(e.search(x9)>=0)throw vx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new op(...e.split("."))._internalPath}catch{throw vx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vx(n,e,t,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new tt(Ue.INVALID_ARGUMENT,u+n+h)}function bA(n,e){return n.some((t=>t.isEqual(e)))}class vA{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new js(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ly("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class y9 extends vA{data(){return super.data()}}function ly(n,e){return typeof e=="string"?qv(n,e):e instanceof op?e._internalPath:e._delegate._internalPath}function b9(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new tt(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gv{}class wA extends Gv{}function Es(n,e,...t){let r=[];e instanceof Gv&&r.push(e),r=r.concat(t),(function(o){const c=o.filter((h=>h instanceof Hv)).length,u=o.filter((h=>h instanceof cy)).length;if(c>1||c>0&&u>0)throw new tt(Ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class cy extends wA{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new cy(e,t,r)}_apply(e){const t=this._parse(e);return NA(e._query,t),new fd(e.firestore,e.converter,n2(e._query,t))}_parse(e){const t=lp(e.firestore);return(function(o,c,u,h,f,g,x){let v;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new tt(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Y_(x,g);const T=[];for(const E of x)T.push(K_(h,o,E));v={arrayValue:{values:T}}}else v=K_(h,o,x)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Y_(x,g),v=p9(u,c,x,g==="in"||g==="not-in");return Dn.create(f,g,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Za(n,e,t){const r=e,a=ly("where",n);return cy._create(a,r,t)}class Hv extends Gv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hv(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ur.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let c=a;const u=o.getFlattenedFilters();for(const h of u)NA(c,h),c=n2(c,h)})(e._query,t),new fd(e.firestore,e.converter,n2(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $v extends wA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $v(e,t)}_apply(e){const t=(function(a,o,c){if(a.startAt!==null)throw new tt(Ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new tt(Ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ug(o,c)})(e._query,this._field,this._direction);return new fd(e.firestore,e.converter,(function(a,o){const c=a.explicitOrderBy.concat([o]);return new sm(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function ic(n,e="asc"){const t=e,r=ly("orderBy",n);return $v._create(r,t)}function K_(n,e,t){if(typeof(t=Cr(t))=="string"){if(t==="")throw new tt(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$S(e)&&t.indexOf("/")!==-1)throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tr.fromString(t));if(!ot.isDocumentKey(r))throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Og(n,new ot(r))}if(t instanceof js)return Og(n,t._key);throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bx(t)}.`)}function Y_(n,e){if(!Array.isArray(n)||n.length===0)throw new tt(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NA(n,e){const t=(function(a,o){for(const c of a)for(const u of c.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new tt(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new tt(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class v9{convertValue(e,t="none"){switch(ed(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return hd(e,((a,o)=>{r[a]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[Vf].arrayValue?.values?.map((r=>Gr(r.doubleValue)));return new ec(t)}convertGeoPoint(e){return new Zl(Gr(e.latitude),Gr(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Wx(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Dg(e));default:return null}}convertTimestamp(e){const t=Kc(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tr.fromString(e);kt(vE(r),9688,{name:e});const a=new nh(r.get(1),r.get(3)),o=new ot(r.popFirst(5));return a.isEqual(t)||fi(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function Wv(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class og{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hd extends vA{constructor(e,t,r,a,o,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new z0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ly("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new tt(Ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Hd._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Hd._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hd._jsonSchema={type:Fs("string",Hd._jsonSchemaVersion),bundleSource:Fs("string","DocumentSnapshot"),bundleName:Fs("string"),bundle:Fs("string")};class z0 extends Hd{data(e={}){return super.data(e)}}class $d{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new og(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new z0(this._firestore,this._userDataWriter,r.key,r,new og(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tt(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((u=>{const h=new z0(a._firestore,a._userDataWriter,u.doc.key,u.doc,new og(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const h=new z0(a._firestore,a._userDataWriter,u.doc.key,u.doc,new og(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,g=-1;return u.type!==0&&(f=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),g=c.indexOf(u.doc.key)),{type:w9(u.type),doc:h,oldIndex:f,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new tt(Ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$d._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=iv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function w9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:n})}}function zs(n){n=gi(n,js);const e=gi(n.firestore,ac);return l9(ip(e),n._key).then((t=>j9(e,n,t)))}$d._jsonSchemaVersion="firestore/querySnapshot/1.0",$d._jsonSchema={type:Fs("string",$d._jsonSchemaVersion),bundleSource:Fs("string","QuerySnapshot"),bundleName:Fs("string"),bundle:Fs("string")};class Kv extends v9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new js(this.firestore,null,t)}}function wr(n){n=gi(n,fd);const e=gi(n.firestore,ac),t=ip(e),r=new Kv(e);return b9(n._query),cA(t,n._query).then((a=>new $d(e,r,n,a)))}function N9(n){n=gi(n,fd);const e=gi(n.firestore,ac),t=ip(e),r=new Kv(e);return cA(t,n._query,{source:"server"}).then((a=>new $d(e,r,n,a)))}function lh(n,e,t){n=gi(n,js);const r=gi(n.firestore,ac),a=Wv(n.converter,e,t);return up(r,[Vv(lp(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,na.none())])}function go(n,e,t,...r){n=gi(n,js);const a=gi(n.firestore,ac),o=lp(a);let c;return c=typeof(e=Cr(e))=="string"||e instanceof op?pA(o,"updateDoc",n._key,e,t,r):gA(o,"updateDoc",n._key,e),up(a,[c.toMutation(n._key,na.exists(!0))])}function Uo(n){return up(gi(n.firestore,ac),[new tp(n._key,na.none())])}function bs(n,e){const t=gi(n.firestore,ac),r=St(n),a=Wv(n.converter,e);return up(t,[Vv(lp(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,na.exists(!1))]).then((()=>r))}function up(n,e){return(function(r,a){const o=new Jl;return r.asyncQueue.enqueueAndForget((async()=>XM(await o9(r),a,o))),o.promise})(ip(n),e)}function j9(n,e,t){const r=t.docs.get(e._key),a=new Kv(n);return new Hd(n,a,e._key,r,new og(t.hasPendingWrites,t.fromCache),e.converter)}class _9{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lp(e)}set(e,t,r){this._verifyNotCommitted();const a=n1(e,this._firestore),o=Wv(a.converter,t,r),c=Vv(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,na.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const o=n1(e,this._firestore);let c;return c=typeof(t=Cr(t))=="string"||t instanceof op?pA(this._dataReader,"WriteBatch.update",o._key,t,r,a):gA(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,na.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=n1(e,this._firestore);return this._mutations=this._mutations.concat(new tp(t._key,na.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tt(Ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function n1(n,e){if((n=Cr(n)).firestore!==e)throw new tt(Ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Xt(){return new Bv("serverTimestamp")}function uy(n){return ip(n=gi(n,ac)),new _9(n,(e=>up(n,e)))}(function(e,t=!0){(function(a){rm=a})(fh),Qd(new Zu("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),u=new ac(new Q7(r.getProvider("auth-internal")),new eL(c,r.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new tt(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nh(f.options.projectId,g)})(c,a),c);return o={useFetchStreams:t,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Yl(Cj,Ij,e),Yl(Cj,Ij,"esm2020")})();var S9="firebase",E9="12.6.0";Yl(S9,E9,"app");const jA="firebasestorage.googleapis.com",_A="storageBucket",A9=120*1e3,T9=600*1e3,C9=1e3;class ts extends sc{constructor(e,t,r=0){super(r1(e),`Firebase Storage: ${t} (${r1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ts.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return r1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mr||(Mr={}));function r1(n){return"storage/"+n}function Yv(){const n="An unknown error occurred, please check the error payload for server response.";return new ts(Mr.UNKNOWN,n)}function I9(n){return new ts(Mr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function R9(n){return new ts(Mr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function k9(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ts(Mr.UNAUTHENTICATED,n)}function P9(){return new ts(Mr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function L9(n){return new ts(Mr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function SA(){return new ts(Mr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EA(){return new ts(Mr.CANCELED,"User canceled the upload/download.")}function D9(n){return new ts(Mr.INVALID_URL,"Invalid URL '"+n+"'.")}function M9(n){return new ts(Mr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function O9(){return new ts(Mr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_A+"' property when initializing the app?")}function AA(){return new ts(Mr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function F9(){return new ts(Mr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function U9(){return new ts(Mr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function V9(n){return new ts(Mr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function p2(n){return new ts(Mr.INVALID_ARGUMENT,n)}function TA(){return new ts(Mr.APP_DELETED,"The Firebase app was deleted.")}function B9(n){return new ts(Mr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yg(n,e){return new ts(Mr.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Jm(n){throw new ts(Mr.INTERNAL_ERROR,"Internal error: "+n)}class uo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=uo.makeFromUrl(e,t)}catch{return new uo(e,"")}if(r.path==="")return r;throw M9(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const c="(/(.*))?$",u=new RegExp("^gs://"+a+c,"i"),h={bucket:1,path:3};function f(O){O.path_=decodeURIComponent(O.path)}const g="v[A-Za-z0-9_]+",x=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp(`^https?://${x}/${g}/b/${a}/o${v}`,"i"),T={bucket:1,path:3},E=t===jA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",S=new RegExp(`^https?://${E}/${a}/${j}`,"i"),D=[{regex:u,indices:h,postModify:o},{regex:b,indices:T,postModify:f},{regex:S,indices:{bucket:1,path:2},postModify:f}];for(let O=0;O<D.length;O++){const te=D[O],ee=te.regex.exec(e);if(ee){const G=ee[te.indices.bucket];let U=ee[te.indices.path];U||(U=""),r=new uo(G,U),te.postModify(r);break}}if(r==null)throw D9(e);return r}}class z9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function q9(n,e,t){let r=1,a=null,o=null,c=!1,u=0;function h(){return u===2}let f=!1;function g(...j){f||(f=!0,e.apply(null,j))}function x(j){a=setTimeout(()=>{a=null,n(b,h())},j)}function v(){o&&clearTimeout(o)}function b(j,...S){if(f){v();return}if(j){v(),g.call(null,j,...S);return}if(h()||c){v(),g.call(null,j,...S);return}r<64&&(r*=2);let D;u===1?(u=2,D=0):D=(r+Math.random())*1e3,x(D)}let T=!1;function E(j){T||(T=!0,v(),!f&&(a!==null?(j||(u=2),clearTimeout(a),x(0)):j||(u=1)))}return x(0),o=setTimeout(()=>{c=!0,E(!0)},t),E}function G9(n){n(!1)}function H9(n){return n!==void 0}function $9(n){return typeof n=="function"}function W9(n){return typeof n=="object"&&!Array.isArray(n)}function dy(n){return typeof n=="string"||n instanceof String}function X_(n){return Xv()&&n instanceof Blob}function Xv(){return typeof Blob<"u"}function Q_(n,e,t,r){if(r<e)throw p2(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw p2(`Invalid value for '${n}'. Expected ${t} or less.`)}function om(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function CA(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var Wd;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Wd||(Wd={}));function IA(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||a||o}class K9{constructor(e,t,r,a,o,c,u,h,f,g,x,v=!0,b=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=x,this.retry=v,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,E)=>{this.resolve_=T,this.reject_=E,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new m0(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const u=o.getErrorCode()===Wd.NO_ERROR,h=o.getStatus();if(!u||IA(h,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Wd.ABORT;r(!1,new m0(!1,null,g));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new m0(f,o))})},t=(r,a)=>{const o=this.resolve_,c=this.reject_,u=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());H9(h)?o(h):o()}catch(h){c(h)}else if(u!==null){const h=Yv();h.serverResponse=u.getErrorText(),this.errorCallback_?c(this.errorCallback_(u,h)):c(h)}else if(a.canceled){const h=this.appDelete_?TA():EA();c(h)}else{const h=SA();c(h)}};this.canceled_?t(!1,new m0(!1,null,!0)):this.backoffId_=q9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&G9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class m0{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Y9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function X9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Q9(n,e){e&&(n["X-Firebase-GMPID"]=e)}function J9(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Z9(n,e,t,r,a,o,c=!0,u=!1){const h=CA(n.urlParams),f=n.url+h,g=Object.assign({},n.headers);return Q9(g,e),Y9(g,t),X9(g,o),J9(g,r),new K9(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,u)}function eO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tO(...n){const e=eO();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Xv())return new Blob(n);throw new ts(Mr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nO(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function rO(n){if(typeof atob>"u")throw V9("base-64");return atob(n)}const $l={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class s1{constructor(e,t){this.data=e,this.contentType=t||null}}function sO(n,e){switch(n){case $l.RAW:return new s1(RA(e));case $l.BASE64:case $l.BASE64URL:return new s1(kA(n,e));case $l.DATA_URL:return new s1(iO(e),oO(e))}throw Yv()}function RA(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,c=n.charCodeAt(++t);r=65536|(o&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function aO(n){let e;try{e=decodeURIComponent(n)}catch{throw yg($l.DATA_URL,"Malformed data URL.")}return RA(e)}function kA(n,e){switch(n){case $l.BASE64:{const a=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(a||o)throw yg(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case $l.BASE64URL:{const a=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(a||o)throw yg(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=rO(e)}catch(a){throw a.message.includes("polyfill")?a:yg(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class PA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw yg($l.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=lO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function iO(n){const e=new PA(n);return e.base64?kA($l.BASE64,e.rest):aO(e.rest)}function oO(n){return new PA(n).contentType}function lO(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Uc{constructor(e,t){let r=0,a="";X_(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(X_(this.data_)){const r=this.data_,a=nO(r,e,t);return a===null?null:new Uc(a)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Uc(r,!0)}}static getBlob(...e){if(Xv()){const t=e.map(r=>r instanceof Uc?r.data_:r);return new Uc(tO.apply(null,t))}else{const t=e.map(c=>dy(c)?sO($l.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const a=new Uint8Array(r);let o=0;return t.forEach(c=>{for(let u=0;u<c.length;u++)a[o++]=c[u]}),new Uc(a,!0)}}uploadData(){return this.data_}}function LA(n){let e;try{e=JSON.parse(n)}catch{return null}return W9(e)?e:null}function cO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function uO(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function DA(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function dO(n,e){return e}class di{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||dO}}let g0=null;function hO(n){return!dy(n)||n.length<2?n:DA(n)}function Qv(){if(g0)return g0;const n=[];n.push(new di("bucket")),n.push(new di("generation")),n.push(new di("metageneration")),n.push(new di("name","fullPath",!0));function e(o,c){return hO(c)}const t=new di("name");t.xform=e,n.push(t);function r(o,c){return c!==void 0?Number(c):c}const a=new di("size");return a.xform=r,n.push(a),n.push(new di("timeCreated")),n.push(new di("updated")),n.push(new di("md5Hash",null,!0)),n.push(new di("cacheControl",null,!0)),n.push(new di("contentDisposition",null,!0)),n.push(new di("contentEncoding",null,!0)),n.push(new di("contentLanguage",null,!0)),n.push(new di("contentType",null,!0)),n.push(new di("metadata","customMetadata",!0)),g0=n,g0}function fO(n,e){function t(){const r=n.bucket,a=n.fullPath,o=new uo(r,a);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function mO(n,e,t){const r={};r.type="file";const a=t.length;for(let o=0;o<a;o++){const c=t[o];r[c.local]=c.xform(r,e[c.server])}return fO(r,n),r}function MA(n,e,t){const r=LA(e);return r===null?null:mO(n,r,t)}function gO(n,e,t,r){const a=LA(e);if(a===null||!dy(a.downloadTokens))return null;const o=a.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(f=>{const g=n.bucket,x=n.fullPath,v="/b/"+c(g)+"/o/"+c(x),b=om(v,t,r),T=CA({alt:"media",token:f});return b+T})[0]}function OA(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const o=e[a];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class ph{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Hc(n){if(!n)throw Yv()}function Jv(n,e){function t(r,a){const o=MA(n,a,e);return Hc(o!==null),o}return t}function pO(n,e){function t(r,a){const o=MA(n,a,e);return Hc(o!==null),gO(o,a,n.host,n._protocol)}return t}function dp(n){function e(t,r){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=P9():a=k9():t.getStatus()===402?a=R9(n.bucket):t.getStatus()===403?a=L9(n.path):a=r,a.status=t.getStatus(),a.serverResponse=r.serverResponse,a}return e}function Zv(n){const e=dp(n);function t(r,a){let o=e(r,a);return r.getStatus()===404&&(o=I9(n.path)),o.serverResponse=a.serverResponse,o}return t}function xO(n,e,t){const r=e.fullServerUrl(),a=om(r,n.host,n._protocol),o="GET",c=n.maxOperationRetryTime,u=new ph(a,o,Jv(n,t),c);return u.errorHandler=Zv(e),u}function yO(n,e,t){const r=e.fullServerUrl(),a=om(r,n.host,n._protocol),o="GET",c=n.maxOperationRetryTime,u=new ph(a,o,pO(n,t),c);return u.errorHandler=Zv(e),u}function bO(n,e){const t=e.fullServerUrl(),r=om(t,n.host,n._protocol),a="DELETE",o=n.maxOperationRetryTime;function c(h,f){}const u=new ph(r,a,c,o);return u.successCodes=[200,204],u.errorHandler=Zv(e),u}function vO(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function FA(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=vO(null,e)),r}function UA(n,e,t,r,a){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function u(){let D="";for(let O=0;O<2;O++)D=D+Math.random().toString().slice(2);return D}const h=u();c["Content-Type"]="multipart/related; boundary="+h;const f=FA(e,r,a),g=OA(f,t),x="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+h+"--",b=Uc.getBlob(x,r,v);if(b===null)throw AA();const T={name:f.fullPath},E=om(o,n.host,n._protocol),j="POST",S=n.maxUploadRetryTime,L=new ph(E,j,Jv(n,t),S);return L.urlParams=T,L.headers=c,L.body=b.uploadData(),L.errorHandler=dp(e),L}class wx{constructor(e,t,r,a){this.current=e,this.total=t,this.finalized=!!r,this.metadata=a||null}}function ew(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Hc(!1)}return Hc(!!t&&(e||["active"]).indexOf(t)!==-1),t}function wO(n,e,t,r,a){const o=e.bucketOnlyServerUrl(),c=FA(e,r,a),u={name:c.fullPath},h=om(o,n.host,n._protocol),f="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},x=OA(c,t),v=n.maxUploadRetryTime;function b(E){ew(E);let j;try{j=E.getResponseHeader("X-Goog-Upload-URL")}catch{Hc(!1)}return Hc(dy(j)),j}const T=new ph(h,f,b,v);return T.urlParams=u,T.headers=g,T.body=x,T.errorHandler=dp(e),T}function NO(n,e,t,r){const a={"X-Goog-Upload-Command":"query"};function o(f){const g=ew(f,["active","final"]);let x=null;try{x=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Hc(!1)}x||Hc(!1);const v=Number(x);return Hc(!isNaN(v)),new wx(v,r.size(),g==="final")}const c="POST",u=n.maxUploadRetryTime,h=new ph(t,c,o,u);return h.headers=a,h.errorHandler=dp(e),h}const J_=256*1024;function jO(n,e,t,r,a,o,c,u){const h=new wx(0,0);if(c?(h.current=c.current,h.total=c.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw F9();const f=h.total-h.current;let g=f;a>0&&(g=Math.min(g,a));const x=h.current,v=x+g;let b="";g===0?b="finalize":f===g?b="upload, finalize":b="upload";const T={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":`${h.current}`},E=r.slice(x,v);if(E===null)throw AA();function j(O,te){const ee=ew(O,["active","final"]),G=h.current+g,U=r.size();let k;return ee==="final"?k=Jv(e,o)(O,te):k=null,new wx(G,U,ee==="final",k)}const S="POST",L=e.maxUploadRetryTime,D=new ph(t,S,j,L);return D.headers=T,D.body=E.uploadData(),D.progressCallback=u||null,D.errorHandler=dp(n),D}const Fi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function a1(n){switch(n){case"running":case"pausing":case"canceling":return Fi.RUNNING;case"paused":return Fi.PAUSED;case"success":return Fi.SUCCESS;case"canceled":return Fi.CANCELED;case"error":return Fi.ERROR;default:return Fi.ERROR}}class _O{constructor(e,t,r){if($9(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function lf(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class SO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a,o){if(this.sent_)throw Jm("cannot .send() more than once");if(cd(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class EO extends SO{initXhr(){this.xhr_.responseType="text"}}function zu(){return new EO}class AO{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Qv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(Mr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(IA(a.status,[]))if(o)a=SA();else{this.sleepTime=Math.max(this.sleepTime*2,C9),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(Mr.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,o)=>{this._resolve=a,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=wO(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,zu,e,t);this._request=a,a.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const a=NO(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(a,zu,t,r);this._request=o,o.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=J_*this._chunkMultiplier,t=new wx(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((a,o)=>{let c;try{c=jO(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const u=this._ref.storage._makeRequest(c,zu,a,o,!1);this._request=u,u.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){J_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=xO(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(r,zu,e,t);this._request=a,a.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=UA(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,zu,e,t);this._request=a,a.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=EA(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=a1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,a){const o=new _O(t||void 0,r||void 0,a||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(a1(this._state)){case Fi.SUCCESS:lf(this._resolve.bind(null,this.snapshot))();break;case Fi.CANCELED:case Fi.ERROR:const t=this._reject;lf(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(a1(this._state)){case Fi.RUNNING:case Fi.PAUSED:e.next&&lf(e.next.bind(e,this.snapshot))();break;case Fi.SUCCESS:e.complete&&lf(e.complete.bind(e))();break;case Fi.CANCELED:case Fi.ERROR:e.error&&lf(e.error.bind(e,this._error))();break;default:e.error&&lf(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class ch{constructor(e,t){this._service=e,t instanceof uo?this._location=t:this._location=uo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ch(e,t)}get root(){const e=new uo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DA(this._location.path)}get storage(){return this._service}get parent(){const e=cO(this._location.path);if(e===null)return null;const t=new uo(this._location.bucket,e);return new ch(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw B9(e)}}function TO(n,e,t){n._throwIfRoot("uploadBytes");const r=UA(n.storage,n._location,Qv(),new Uc(e,!0),t);return n.storage.makeRequestWithTokens(r,zu).then(a=>({metadata:a,ref:n}))}function CO(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new AO(n,new Uc(e),t)}function IO(n){n._throwIfRoot("getDownloadURL");const e=yO(n.storage,n._location,Qv());return n.storage.makeRequestWithTokens(e,zu).then(t=>{if(t===null)throw U9();return t})}function RO(n){n._throwIfRoot("deleteObject");const e=bO(n.storage,n._location);return n.storage.makeRequestWithTokens(e,zu)}function kO(n,e){const t=uO(n._location.path,e),r=new uo(n._location.bucket,t);return new ch(n.storage,r)}function PO(n){return/^[A-Za-z]+:\/\//.test(n)}function LO(n,e){return new ch(n,e)}function VA(n,e){if(n instanceof tw){const t=n;if(t._bucket==null)throw O9();const r=new ch(t,t._bucket);return e!=null?VA(r,e):r}else return e!==void 0?kO(n,e):n}function DO(n,e){if(e&&PO(e)){if(n instanceof tw)return LO(n,e);throw p2("To use ref(service, url), the first argument must be a Storage instance.")}else return VA(n,e)}function Z_(n,e){const t=e?.[_A];return t==null?null:uo.makeFromBucketSpec(t,n)}function MO(n,e,t,r={}){n.host=`${e}:${t}`;const a=cd(e);a&&($2(`https://${n.host}/b`),W2("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:d3(o,n.app.options.projectId))}class tw{constructor(e,t,r,a,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=jA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=A9,this._maxUploadRetryTime=T9,this._requests=new Set,a!=null?this._bucket=uo.makeFromBucketSpec(a,this._host):this._bucket=Z_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=uo.makeFromBucketSpec(this._url,e):this._bucket=Z_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Q_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Q_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(oo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ch(this,e)}_makeRequest(e,t,r,a,o=!0){if(this._deleted)return new z9(TA());{const c=Z9(e,this._appId,r,a,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const e4="@firebase/storage",t4="0.14.0";const BA="storage";function OO(n,e,t){return n=Cr(n),TO(n,e,t)}function FO(n,e,t){return n=Cr(n),CO(n,e,t)}function zA(n){return n=Cr(n),IO(n)}function qA(n){return n=Cr(n),RO(n)}function hy(n,e){return n=Cr(n),DO(n,e)}function UO(n=X2(),e){n=Cr(n);const r=Ox(n,BA).getImmediate({identifier:e}),a=l3("storage");return a&&VO(r,...a),r}function VO(n,e,t,r={}){MO(n,e,t,r)}function BO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new tw(t,r,a,e,fh)}function zO(){Qd(new Zu(BA,BO,"PUBLIC").setMultipleInstances(!0)),Yl(e4,t4,""),Yl(e4,t4,"esm2020")}zO();const Mc={apiKey:"AIzaSyB67ZvBQ7DLy3nErDuWSorBtbwgKeoWCw4",authDomain:"grampanchayat-multi-tenant.firebaseapp.com",projectId:"grampanchayat-multi-tenant",storageBucket:"grampanchayat-multi-tenant.firebasestorage.app",messagingSenderId:"595321745876",appId:"1:595321745876:web:3073e006f4a418207e2641",measurementId:void 0};if(!Mc.apiKey||!Mc.projectId)throw console.error(" Firebase environment variables are not loaded!"),console.error("Missing variables:",{apiKey:!Mc.apiKey,authDomain:!Mc.authDomain,projectId:!Mc.projectId,storageBucket:!Mc.storageBucket,messagingSenderId:!Mc.messagingSenderId,appId:!Mc.appId}),new Error("Firebase configuration is incomplete. Please check environment variables.");const nw=y3(Mc),Ye=u9(nw);d9(Ye).then(()=>{console.log(" Firestore offline persistence enabled")}).catch(n=>{n.code==="failed-precondition"?console.warn(" Multiple tabs open, persistence can only be enabled in one tab at a time"):n.code==="unimplemented"&&console.warn(" Current browser does not support persistence")});const nc=W7(nw),fy=UO(nw),n4={"grampanchayatpindkepaarlodha.in":"pindkepar","www.grampanchayatpindkepaarlodha.in":"pindkepar",localhost:"development","127.0.0.1":"development"},bg=[{id:"pindkepar",name:"Gram Panchayat Pindkepar Lodha",nameHi:"   ",domain:"grampanchayatpindkepaarlodha.in",active:!0},{id:"demo",name:"Demo Gram Panchayat",nameHi:"  ",domain:"demo",active:!0}],qO=()=>{const e=new URLSearchParams(window.location.search).get("tenant");if(e&&bg.find(o=>o.id===e))return console.log(" Tenant from query parameter:",e),e;const t=window.location.hostname;if(n4[t]){const a=n4[t];if(a==="development"){const o=bg.find(c=>c.active);if(o)return console.log(" Development mode - Using default tenant:",o.id),console.log(" Tip: Use ?tenant=TENANT_ID to test other GPs"),o.id}return console.log(" Tenant from domain:",a),a}if(t.includes(".grampanchayats.in")){const a=t.split(".")[0];if(a!=="www")return console.log(" Tenant from subdomain:",a),a}if(t.endsWith(".web.app")||t.endsWith(".firebaseapp.com")){const a=t.split(".")[0];if(a&&a!=="www"){const o=a.replace(/-/g,"").toLowerCase();return console.log(" Tenant from Firebase subdomain:",o,"(from",a+")"),o}}const r=bg.find(a=>a.active);return r?(console.log(" Using default tenant:",r.id),r.id):(console.warn(" No tenant detected, using fallback"),"pindkepar")};let p0=null;const sd=()=>(p0||(p0=qO(),console.log(" Current Tenant:",p0)),p0),GO=()=>{const n=sd(),e=bg.find(t=>t.id===n);return e||(console.warn(` Tenant "${n}" not found in ALL_TENANTS`),{id:n,name:`GP ${n}`,nameHi:`  ${n}`,active:!1})},HO=()=>bg.filter(n=>n.active);async function $O(n,e){try{const r=(await $3(nc,n,e)).user,a=sd(),o=await zs(St(Ye,"gramPanchayats",a,"users",r.uid));if(!o.exists()){console.log("User not found in current tenant, searching all tenants...");const c=await GA(r.uid);if(!c)throw new Error("User data not found");return{uid:r.uid,email:r.email,...c}}return{uid:r.uid,email:r.email,...o.data()}}catch(t){throw console.error("Sign in error:",t),t}}async function GA(n){const e=["pindkepar","demo","warghat"];for(const t of e)try{const r=await zs(St(Ye,"gramPanchayats",t,"users",n));if(r.exists())return console.log(` User found in tenant: ${t}`),r.data()}catch(r){console.error(`Error checking tenant ${t}:`,r)}return null}async function WO(){try{return await MP(nc),!0}catch(n){throw console.error("Sign out error:",n),n}}async function KO(n,e,t,r=null){try{const o=(await PP(nc,n,e)).user,c=r||sd();return await lh(St(Ye,"gramPanchayats",c,"users",o.uid),{email:o.email,role:"admin",tenant:c,...t,createdAt:Xt(),updatedAt:Xt()}),{uid:o.uid,email:o.email,...t}}catch(a){throw console.error("Create admin error:",a),a}}function YO(n){return W3(nc,async e=>{if(e){const t=sd(),r=await zs(St(Ye,"gramPanchayats",t,"users",e.uid));if(r.exists())n({uid:e.uid,email:e.email,...r.data()});else{const a=await GA(e.uid);n(a?{uid:e.uid,email:e.email,...a}:null)}}else n(null)})}const HA=W.createContext(),rw=()=>{const n=W.useContext(HA);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},XO=({children:n})=>{const[e,t]=W.useState(null),[r,a]=W.useState(!0);W.useEffect(()=>{const h=YO(f=>{t(f?{uid:f.uid,email:f.email,name:f.displayName||f.email,role:"ADMIN"}:null),a(!1)});return()=>h()},[]);const u={user:e,login:async h=>{try{const{email:f,password:g}=h,x=await $O(f,g);return{success:!0}}catch(f){console.error("Login error:",f);let g="Login failed. Please try again.";return f.code==="auth/user-not-found"?g="No account found with this email.":f.code==="auth/wrong-password"?g="Incorrect password.":f.code==="auth/invalid-email"?g="Invalid email address.":f.code==="auth/too-many-requests"&&(g="Too many failed attempts. Please try again later."),{success:!1,error:g}}},logout:async()=>{try{await WO()}catch(h){console.error("Logout error:",h)}},loading:r,isAuthenticated:!!e};return s.jsx(HA.Provider,{value:u,children:n})},Ds={panchayatName:{en:"Gram Panchayat Shivpur",mr:" "},tagline:{en:"Working for Village Development",mr:"  "},logo:"/logo.png",contact:{phone:"+91 1234567890",email:"grampanchayat@example.com",address:{en:"Village Shivpur, Taluka Sample, District Example, Maharashtra - 411001",mr:" ,  ,  ,  - "}},officeTimings:{en:"Monday to Friday: 10:00 AM - 5:00 PM",mr:"  :     "},socialMedia:{facebook:"https://facebook.com",twitter:"https://twitter.com",youtube:"https://youtube.com"}},Nn=()=>`gramPanchayats/${sd()}`,$t={settings:()=>`${Nn()}/settings`,siteSettings:()=>`${Nn()}/settings/siteConfig`,theme:()=>`${Nn()}/theme`,themeConfig:()=>`${Nn()}/theme/config`,features:()=>`${Nn()}/features`,featuresConfig:()=>`${Nn()}/features/config`,members:()=>`${Nn()}/members`,member:n=>`${Nn()}/members/${n}`,staff:()=>`${Nn()}/staff`,staffMember:n=>`${Nn()}/staff/${n}`,notices:()=>`${Nn()}/notices`,notice:n=>`${Nn()}/notices/${n}`,announcements:()=>`${Nn()}/announcements`,announcement:n=>`${Nn()}/announcements/${n}`,services:()=>`${Nn()}/services`,service:n=>`${Nn()}/services/${n}`,schemes:()=>`${Nn()}/schemes`,scheme:n=>`${Nn()}/schemes/${n}`,forms:()=>`${Nn()}/forms`,form:n=>`${Nn()}/forms/${n}`,programs:()=>`${Nn()}/programs`,program:n=>`${Nn()}/programs/${n}`,gallery:()=>`${Nn()}/gallery`,galleryItem:n=>`${Nn()}/gallery/${n}`,villages:()=>`${Nn()}/villages`,village:n=>`${Nn()}/villages/${n}`,demographics:()=>`${Nn()}/demographics`,populationBreakdowns:()=>`${Nn()}/populationBreakdowns`,villageGroups:()=>`${Nn()}/villageGroups`,infrastructure:()=>`${Nn()}/infrastructure`,statisticsYears:()=>`${Nn()}/statisticsYears`,financials:()=>`${Nn()}/financials`,financial:n=>`${Nn()}/financials/${n}`,grievances:()=>`${Nn()}/grievances`,grievance:n=>`${Nn()}/grievances/${n}`,pages:()=>`${Nn()}/pages`,page:n=>`${Nn()}/pages/${n}`,metadata:()=>`${Nn()}/metadata`,metadataConfig:()=>`${Nn()}/metadata/config`},Nx=async()=>{try{const n=St(Ye,$t.siteSettings()),e=await zs(n);return e.exists()?e.data():null}catch(n){throw console.error("Error fetching settings:",n),n}},$A=async n=>{try{const e=St(Ye,$t.siteSettings());return await lh(e,n,{merge:!0}),console.log("Settings updated successfully in Firebase"),n}catch(e){throw console.error("Error updating settings:",e),e}},QO=async n=>{try{const e=await Nx();return e||(await $A(n),console.log("Settings initialized with default data"),n)}catch(e){throw console.error("Error initializing settings:",e),e}},WA=W.createContext(),JO=({children:n})=>{const[e,t]=W.useState(null),[r,a]=W.useState(!0);return W.useEffect(()=>{(async()=>{try{a(!0);const c=await Nx();if(c)t(c),console.log("Site settings loaded from Firebase:",c);else{const u=await QO(Ds);t(u),console.log("Site settings initialized in Firebase")}}catch(c){console.error("Error loading site settings:",c),t(Ds)}finally{a(!1)}})()},[]),s.jsx(WA.Provider,{value:{settings:e,loading:r,refresh:async()=>{const o=await Nx();o&&t(o)}},children:n})},tu=()=>{const n=W.useContext(WA);if(n===void 0)throw new Error("useSiteSettings must be used within a SiteSettingsProvider");return n},ZO=W.createContext(),hi={primaryColor:"#1e40af",secondaryColor:"#059669",accentColor:"#f59e0b",fontFamily:"Inter, sans-serif",headerHeight:"80px",borderRadius:"8px",useCustomHomepage:!1,useCustomNavbar:!1,useCustomFooter:!1};function eF({children:n}){const[e,t]=W.useState(hi),[r,a]=W.useState(!0),[o,c]=W.useState(null);W.useEffect(()=>{u()},[]);const u=async()=>{try{a(!0);const v=St(Ye,$t.themeConfig()),b=await zs(v);if(b.exists()){const T={...hi,...b.data()};t(T),h(T),console.log(" Theme loaded for tenant:",sd())}else console.log(" Using default theme for tenant:",sd()),h(hi)}catch(v){console.error("Error loading theme:",v),c(v),h(hi)}finally{a(!1)}},h=v=>{const b=document.documentElement;b.style.setProperty("--color-primary",v.primaryColor||hi.primaryColor),b.style.setProperty("--color-secondary",v.secondaryColor||hi.secondaryColor),b.style.setProperty("--color-accent",v.accentColor||hi.accentColor),b.style.setProperty("--font-family",v.fontFamily||hi.fontFamily),b.style.setProperty("--header-height",v.headerHeight||hi.headerHeight),b.style.setProperty("--border-radius",v.borderRadius||hi.borderRadius),document.body.style.fontFamily=v.fontFamily||hi.fontFamily},x={theme:e,loading:r,error:o,updateTheme:async v=>{try{const b=St(Ye,$t.themeConfig()),T={...e,...v};return await setDoc(b,T),t(T),h(T),!0}catch(b){throw console.error("Error updating theme:",b),b}},resetTheme:async()=>{try{const v=St(Ye,$t.themeConfig());return await setDoc(v,hi),t(hi),h(hi),!0}catch(v){throw console.error("Error resetting theme:",v),v}},defaultTheme:hi};return s.jsx(ZO.Provider,{value:x,children:!r&&n})}const KA=async n=>{try{const e=await zs(St(Ye,"globalConfig","superAdmins","users",n));return e.exists()&&e.data().role==="superadmin"}catch(e){return console.error("Error checking super admin status:",e),!1}},tF=async n=>{try{const e=await zs(St(Ye,"globalConfig","superAdmins","users",n));return e.exists()?{id:e.id,...e.data()}:null}catch(e){throw console.error("Error getting super admin profile:",e),e}},nF=async n=>{try{await go(St(Ye,"globalConfig","superAdmins","users",n),{lastLogin:gt.now()})}catch(e){console.error("Error updating last login:",e)}},my=async()=>{try{const n=Ht(Ye,"globalConfig","metadata","gramPanchayats"),e=await wr(n),t=[];return e.forEach(r=>{t.push({id:r.id,...r.data()})}),t.sort((r,a)=>{const o=r.createdAt?.toDate?.()||new Date(0);return(a.createdAt?.toDate?.()||new Date(0))-o})}catch(n){throw console.error("Error getting all GPs:",n),n}},sw=async n=>{try{const e=await zs(St(Ye,"globalConfig","metadata","gramPanchayats",n));return e.exists()?{id:e.id,...e.data()}:null}catch(e){throw console.error("Error getting GP:",e),e}},rF=async n=>{try{const{id:e,name:t,nameMarathi:r,domain:a,adminEmail:o,adminPassword:c,...u}=n;if(!e||!t||!a||!o||!c)throw new Error("Missing required fields");if((await zs(St(Ye,"globalConfig","metadata","gramPanchayats",e))).exists())throw new Error(`Gram Panchayat with ID "${e}" already exists`);const f={id:e,name:t,nameMarathi:r||"",domain:a,domainStatus:"pending",active:!0,createdAt:gt.now(),updatedAt:gt.now(),adminEmail:o,adminPassword:c,...u};await lh(St(Ye,"globalConfig","metadata","gramPanchayats",e),f);const g=`pending_${e}_${Date.now()}`;return await lh(St(Ye,`gramPanchayats/${e}/users`,g),{email:o,name:u.adminName||"Admin",role:"admin",tenantId:e,createdAt:gt.now(),active:!0,createdBy:"superadmin",password:c,passwordLastChanged:gt.now(),isPending:!0,note:"Auth user will be created on first login or by Cloud Function"}),await xh({action:"create_gp",gpId:e,gpName:t,adminEmail:o,timestamp:gt.now()}),{success:!0,gpId:e,adminEmail:o,message:`Gram Panchayat "${t}" created successfully. Admin can login with provided credentials.`}}catch(e){throw console.error("Error creating GP:",e),e}},sF=async(n,e)=>{try{return await go(St(Ye,"globalConfig","metadata","gramPanchayats",n),{...e,updatedAt:gt.now()}),await xh({action:"update_gp",gpId:n,updates:e,timestamp:gt.now()}),{success:!0,message:"GP updated successfully"}}catch(t){throw console.error("Error updating GP:",t),t}},YA=async(n,e)=>{try{return await go(St(Ye,"globalConfig","metadata","gramPanchayats",n),{active:e,updatedAt:gt.now()}),await xh({action:e?"activate_gp":"deactivate_gp",gpId:n,timestamp:gt.now()}),{success:!0}}catch(t){throw console.error("Error toggling GP status:",t),t}},XA=async n=>{try{const e=await sw(n);if(!e)throw new Error("GP not found");console.log(" Starting deletion of GP:",n),console.log(" Deleting GP users...");const t=await wr(Ht(Ye,`gramPanchayats/${n}/users`)),r=[];for(const o of t.docs)r.push(Uo(St(Ye,`gramPanchayats/${n}/users`,o.id)));await Promise.all(r),console.log(" User documents deleted");const a=["notices","announcements","members","services","schemes","gallery","forms","grievances","financials","downloads","settings"];for(const o of a){console.log(` Deleting ${o}...`);const u=(await wr(Ht(Ye,`gramPanchayats/${n}/${o}`))).docs.map(h=>Uo(h.ref));await Promise.all(u)}return console.log(" All subcollections deleted"),await Uo(St(Ye,"globalConfig","metadata","gramPanchayats",n)),console.log(" GP metadata deleted - Cloud Functions will handle hosting site & Auth user cleanup"),await xh({action:"delete_gp",gpId:n,gpData:e,timestamp:gt.now()}),{success:!0,message:" GP deleted successfully! Cloud Functions are automatically cleaning up hosting site and Auth users.",automated:!0,note:"No manual steps required - everything is handled automatically by Cloud Functions."}}catch(e){throw console.error("Error deleting GP:",e),e}},QA=async()=>{try{const n=[],e=await my();for(const t of e){const r=Ht(Ye,`gramPanchayats/${t.id}/users`);(await wr(Es(r,Za("role","==","admin")))).forEach(o=>{n.push({id:o.id,gpId:t.id,gpName:t.name,...o.data()})})}return n}catch(n){throw console.error("Error getting all admin users:",n),n}},aF=async n=>{try{return await H3(nc,n),await xh({action:"reset_password",email:n,timestamp:gt.now()}),{success:!0,message:"Password reset email sent"}}catch(e){throw console.error("Error resetting password:",e),e}},iF=async(n,e)=>{try{const t=await zs(St(Ye,`gramPanchayats/${n}/users`,e));if(!t.exists())throw new Error("User not found");const r=t.data(),a=r.initialPassword?atob(r.initialPassword):null;return await xh({action:"view_password",userId:e,gpId:n,timestamp:gt.now()}),{password:a,createdAt:r.createdAt,passwordLastChanged:r.passwordLastChanged}}catch(t){throw console.error("Error getting initial password:",t),t}},oF=async(n,e,t,r=null)=>{try{const a=r||JA(12);return await go(St(Ye,`gramPanchayats/${n}/users`,e),{initialPassword:btoa(a),passwordLastChanged:gt.now(),passwordChangedBy:"superadmin"}),await H3(nc,t),await xh({action:"generate_new_password",userId:e,gpId:n,email:t,timestamp:gt.now()}),{success:!0,password:a,message:"Password updated. User should use the password reset email to set this password."}}catch(a){throw console.error("Error generating new password:",a),a}},lF=async()=>{try{const n=await my(),e=await QA(),t=n.filter(u=>u.active).length,r=n.filter(u=>!u.active).length,a=e.filter(u=>u.active).length,o=n.filter(u=>u.domainStatus==="active").length,c=n.filter(u=>u.domainStatus==="pending").length;return{totalGPs:n.length,activeGPs:t,inactiveGPs:r,totalUsers:e.length,activeUsers:a,domainsActive:o,domainsPending:c,lastUpdated:new Date}}catch(n){throw console.error("Error getting system stats:",n),n}},xh=async n=>{try{const e=Ht(Ye,"globalConfig","metadata","activityLogs");await lh(St(e),{...n,timestamp:n.timestamp||gt.now()})}catch(e){console.error("Error logging activity:",e)}},JA=(n=16)=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t="abcdefghijklmnopqrstuvwxyz",r="0123456789",o=e+t+r+"@#";let c="";c+=e[Math.floor(Math.random()*e.length)],c+=t[Math.floor(Math.random()*t.length)],c+=r[Math.floor(Math.random()*r.length)],c+="@#"[Math.floor(Math.random()*2)];for(let u=4;u<n;u++)c+=o[Math.floor(Math.random()*o.length)];return c.split("").sort(()=>Math.random()-.5).join("")},cF=async n=>{try{const e=Ht(Ye,`gramPanchayats/${n}/users`),t=await wr(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),r.sort((a,o)=>{const c=a.createdAt?.toDate?.()||new Date(0);return(o.createdAt?.toDate?.()||new Date(0))-c})}catch(e){throw console.error("Error getting GP users:",e),e}},uF=async n=>{try{const e={totalUsers:0,totalNotices:0,totalGrievances:0,storageUsed:0};try{const t=await wr(Ht(Ye,`gramPanchayats/${n}/users`));e.totalUsers=t.size}catch(t){console.error("Error counting users:",t)}try{const t=await wr(Ht(Ye,`gramPanchayats/${n}/notices`));e.totalNotices=t.size}catch(t){console.error("Error counting notices:",t)}try{const t=await wr(Ht(Ye,`gramPanchayats/${n}/grievances`));e.totalGrievances=t.size}catch(t){console.error("Error counting grievances:",t)}return e}catch(e){return console.error("Error getting GP stats:",e),null}},ZA=W.createContext(),eT=()=>{const n=W.useContext(ZA);if(!n)throw new Error("useSuperAdmin must be used within SuperAdminProvider");return n},dF=({children:n})=>{const[e,t]=W.useState(null),[r,a]=W.useState(!0),[o,c]=W.useState(null);W.useEffect(()=>{const f=W3(nc,async g=>{if(a(!0),c(null),g)try{if(await KA(g.uid)){const v=await tF(g.uid);t({uid:g.uid,email:g.email,...v}),await nF(g.uid)}else t(null),c("You do not have super admin permissions")}catch(x){console.error("Error checking super admin status:",x),c(x.message),t(null)}else t(null);a(!1)});return()=>f()},[]);const h={superAdmin:e,loading:r,error:o,isAuthenticated:!!e,hasPermission:f=>e&&e.permissions?.includes(f)||!1};return s.jsx(ZA.Provider,{value:h,children:n})};const hF=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fF=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),r4=n=>{const e=fF(n);return e.charAt(0).toUpperCase()+e.slice(1)},tT=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),mF=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var gF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pF=W.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...u},h)=>W.createElement("svg",{ref:h,...gF,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:tT("lucide",a),...!o&&!mF(u)&&{"aria-hidden":"true"},...u},[...c.map(([f,g])=>W.createElement(f,g)),...Array.isArray(o)?o:[o]]));const nt=(n,e)=>{const t=W.forwardRef(({className:r,...a},o)=>W.createElement(pF,{ref:o,iconNode:e,className:tT(`lucide-${hF(r4(n))}`,`lucide-${n}`,r),...a}));return t.displayName=r4(n),t};const xF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],po=nt("arrow-left",xF);const yF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Oc=nt("arrow-right",yF);const bF=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ju=nt("award",bF);const vF=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],x2=nt("baby",vF);const wF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Vi=nt("bell",wF);const NF=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],zg=nt("book-open",NF);const jF=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Yf=nt("briefcase",jF);const _F=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],hl=nt("building-2",_F);const SF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zr=nt("calendar",SF);const EF=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],s4=nt("camera",EF);const AF=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],nT=nt("chart-column",AF);const TF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],CF=nt("chevron-left",TF);const IF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gy=nt("chevron-right",IF);const RF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qn=nt("circle-alert",RF);const kF=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bi=nt("circle-check-big",kF);const PF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Nf=nt("circle-user",PF);const LF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],uh=nt("circle-x",LF);const DF=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xf=nt("clock",DF);const MF=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],y2=nt("copy",MF);const OF=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],a4=nt("credit-card",OF);const FF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],UF=nt("dollar-sign",FF);const VF=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vo=nt("download",VF);const BF=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],jx=nt("droplets",BF);const zF=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_x=nt("external-link",zF);const qF=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],yh=nt("eye-off",qF);const GF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zi=nt("eye",GF);const HF=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],b2=nt("facebook",HF);const $F=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],WF=nt("file-check",$F);const KF=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hr=nt("file-text",KF);const YF=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],XF=nt("file",YF);const QF=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],i4=nt("folder-open",QF);const JF=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],py=nt("funnel",JF);const ZF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Qf=nt("globe",ZF);const eU=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],o4=nt("graduation-cap",eU);const tU=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],nU=nt("hash",tU);const rU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],sU=nt("house",rU);const aU=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],iU=nt("image-plus",aU);const oU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ma=nt("image",oU);const lU=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Sx=nt("indian-rupee",lU);const cU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],v2=nt("info",cU);const uU=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],dU=nt("instagram",uU);const hU=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],fU=nt("key-round",hU);const mU=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Tf=nt("languages",mU);const gU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],pU=nt("layout-dashboard",gU);const xU=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],l4=nt("link",xU);const yU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bU=nt("loader-circle",yU);const vU=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],xy=nt("loader",vU);const wU=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],c4=nt("log-in",wU);const NU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],w2=nt("lock",NU);const jU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rT=nt("log-out",jU);const _U=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],mo=nt("mail",_U);const SU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ml=nt("map-pin",SU);const EU=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Ex=nt("megaphone",EU);const AU=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],sT=nt("menu",AU);const TU=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Cf=nt("message-square",TU);const CU=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],IU=nt("pen-line",CU);const RU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],hp=nt("pen",RU);const kU=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],lo=nt("phone",kU);const PU=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],LU=nt("piggy-bank",PU);const DU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ss=nt("plus",DU);const MU=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],aT=nt("power",MU);const OU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ax=nt("refresh-cw",OU);const FU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Bs=nt("save",FU);const UU=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],N2=nt("school",UU);const VU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qi=nt("search",VU);const BU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],u4=nt("send",BU);const zU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iT=nt("settings",zU);const qU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Wl=nt("shield",qU);const GU=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Os=nt("sparkles",GU);const HU=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ad=nt("square-pen",HU);const $U=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],oT=nt("target",$U);const WU=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ei=nt("trash-2",WU);const KU=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],vg=nt("trending-down",KU);const YU=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Kd=nt("trending-up",YU);const XU=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],aw=nt("triangle-alert",XU);const QU=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],lT=nt("twitter",QU);const JU=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Jf=nt("upload",JU);const ZU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],eV=nt("user-plus",ZU);const tV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Zf=nt("user",tV);const nV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Us=nt("users",nV);const rV=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],j2=nt("video",rV);const sV=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],_2=nt("wallet",sV);const aV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pi=nt("x",aV);const iV=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],oV=nt("youtube",iV),lV=()=>{const[n,e]=W.useState(!1),[t,r]=W.useState(!1),{language:a,toggleLanguage:o,t:c,getContent:u}=fs(),{settings:h,loading:f}=tu(),g=ld();W.useEffect(()=>{const b=()=>{r(window.scrollY>20)};return window.addEventListener("scroll",b),()=>window.removeEventListener("scroll",b)},[]);const x=[{path:"/",label:c("nav.home")},{path:"/about",label:c("nav.about")},{path:"/panchayat",label:c("nav.panchayat")},{path:"/services",label:c("nav.services")},{path:"/schemes",label:c("nav.schemes")},{path:"/downloads",label:c("nav.downloads")},{path:"/education",label:c("nav.education")},{path:"/gallery",label:c("nav.gallery")},{path:"/financials",label:c("nav.financials")},{path:"/village-statistics",label:a==="en"?"Statistics":""},{path:"/notices",label:c("nav.notices")},{path:"/contact",label:c("nav.contact")}],v=b=>g.pathname===b;return f||!h?s.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-md",children:s.jsx("div",{className:"h-20 flex items-center justify-center",children:s.jsx("div",{className:"w-8 h-8 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"})})}):s.jsxs("header",{className:`sticky top-0 z-50 transition-all duration-300 ${t?"shadow-xl":"shadow-md"}`,children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 via-blue-900 to-green-600 text-white py-1.5",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex flex-wrap justify-between items-center text-xs",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-4 items-center",children:[h?.contact?.phone&&s.jsxs("a",{href:`tel:${h.contact.phone}`,className:"flex items-center gap-1 hover:text-orange-200 transition-colors",children:[s.jsx(lo,{size:12}),s.jsx("span",{className:"font-medium",children:h.contact.phone})]}),h?.contact?.email&&s.jsxs("a",{href:`mailto:${h.contact.email}`,className:"hidden sm:flex items-center gap-1 hover:text-orange-200 transition-colors",children:[s.jsx(mo,{size:12}),s.jsx("span",{className:"font-medium truncate max-w-[160px]",children:h.contact.email})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-1 text-white/90",children:[s.jsx(Xf,{size:12}),s.jsx("span",{className:"font-medium",children:u(h.officeTimings)})]})]}),s.jsxs("button",{onClick:o,className:"flex items-center gap-1.5 px-2.5 py-1 bg-white/20 hover:bg-white/30 rounded-md transition-all font-semibold text-xs",children:[s.jsx(Qf,{size:12}),s.jsx("span",{children:a==="en"?"EN":""})]})]})})}),s.jsx("div",{className:`bg-white border-b border-gray-100 transition-all duration-300 ${t?"py-2":"py-3"}`,children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center lg:justify-center lg:relative",children:[s.jsxs(_n,{to:"/",className:"group text-center",children:[s.jsx("h1",{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-bold bg-gradient-to-r from-gray-900 via-blue-900 to-gray-900 bg-clip-text text-transparent leading-tight group-hover:from-orange-600 group-hover:via-orange-700 group-hover:to-orange-600 transition-all duration-300",children:u(h.panchayatName)}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 leading-tight font-medium hidden sm:block mt-0.5",children:u(h.tagline)}),s.jsxs("div",{className:"w-20 h-0.5 mx-auto mt-1 flex rounded-full overflow-hidden",children:[s.jsx("div",{className:"flex-1 bg-orange-600"}),s.jsx("div",{className:"flex-1 bg-white"}),s.jsx("div",{className:"flex-1 bg-green-600"})]})]}),s.jsx("button",{onClick:()=>e(!n),className:"lg:hidden p-2 text-gray-700 hover:bg-orange-50 rounded-lg transition-colors",children:n?s.jsx(pi,{size:22}):s.jsx(sT,{size:22})})]})})}),s.jsx("nav",{className:`bg-gradient-to-r from-blue-900 via-gray-800 to-blue-900 ${n?"block":"hidden"} lg:block`,children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("ul",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-center lg:gap-0.5",children:x.map(b=>s.jsx("li",{className:"relative group",children:s.jsxs(_n,{to:b.path,onClick:()=>e(!1),className:`block px-3 lg:px-4 py-2.5 lg:py-2.5 text-white font-medium transition-all relative overflow-hidden text-sm ${v(b.path)?"bg-orange-600 lg:bg-transparent":"hover:bg-white/10"}`,children:[v(b.path)&&s.jsx("span",{className:"hidden lg:block absolute bottom-0 left-0 right-0 h-0.5 bg-orange-500"}),s.jsx("span",{className:"hidden lg:block absolute inset-0 bg-gradient-to-r from-transparent via-orange-500/20 to-transparent transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"}),s.jsx("span",{className:"relative z-10",children:b.label})]})},b.path))})})})]})},cV=()=>{const{t:n,getContent:e}=fs(),{settings:t,loading:r}=tu();if(r||!t)return null;const a=[{path:"/",label:n("nav.home")},{path:"/services",label:n("nav.services")},{path:"/schemes",label:n("nav.schemes")},{path:"/downloads",label:n("nav.downloads")},{path:"/notices",label:n("nav.notices")}],o=[{label:"Ministry of Panchayati Raj",url:"https://panchayat.gov.in"},{label:"Digital India",url:"https://digitalindia.gov.in"},{label:"MyGov",url:"https://mygov.in"}];return s.jsxs("footer",{className:"bg-gray-900 text-gray-300",children:[s.jsx("div",{className:"container-custom py-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:e(t.panchayatName)}),s.jsx("p",{className:"text-sm mb-4",children:e(t.tagline)}),t.socialMedia&&s.jsxs("div",{className:"flex gap-3",children:[t.socialMedia.facebook&&s.jsx("a",{href:t.socialMedia.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-gray-700 hover:bg-primary-600 rounded-full flex items-center justify-center transition-colors",children:s.jsx(b2,{size:16})}),t.socialMedia.twitter&&s.jsx("a",{href:t.socialMedia.twitter,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-gray-700 hover:bg-primary-600 rounded-full flex items-center justify-center transition-colors",children:s.jsx(lT,{size:16})}),t.socialMedia.youtube&&s.jsx("a",{href:t.socialMedia.youtube,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-gray-700 hover:bg-primary-600 rounded-full flex items-center justify-center transition-colors",children:s.jsx(oV,{size:16})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:n("footer.quickLinks")}),s.jsxs("ul",{className:"space-y-2",children:[a.map(c=>s.jsx("li",{children:s.jsx(_n,{to:c.path,className:"text-sm hover:text-primary-400 transition-colors",children:c.label})},c.path)),s.jsx("li",{children:s.jsx(_n,{to:"/admin/login",className:"text-sm hover:text-primary-400 transition-colors font-semibold",children:" Admin Login"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:n("footer.importantLinks")}),s.jsx("ul",{className:"space-y-2",children:o.map(c=>s.jsx("li",{children:s.jsx("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:text-primary-400 transition-colors",children:c.label})},c.url))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:n("footer.contactUs")}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex gap-2 text-sm",children:[s.jsx(ml,{size:16,className:"flex-shrink-0 mt-1"}),s.jsx("span",{children:e(t.contact.address)})]}),s.jsxs("li",{className:"flex gap-2 text-sm",children:[s.jsx(lo,{size:16,className:"flex-shrink-0"}),s.jsx("a",{href:`tel:${t.contact.phone}`,className:"hover:text-primary-400 transition-colors",children:t.contact.phone})]}),s.jsxs("li",{className:"flex gap-2 text-sm",children:[s.jsx(mo,{size:16,className:"flex-shrink-0"}),s.jsx("a",{href:`mailto:${t.contact.email}`,className:"hover:text-primary-400 transition-colors",children:t.contact.email})]})]})]})]})}),s.jsx("div",{className:"border-t border-gray-800",children:s.jsx("div",{className:"container-custom py-4",children:s.jsx("div",{className:"text-center text-sm",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," ",e(t.panchayatName),". ",n("footer.copyright"),"."]})})})})]})};async function uV(){try{const n=Ht(Ye,$t.announcements()),e=Es(n,ic("createdAt","desc")),r=(await wr(e)).docs.map(o=>({id:o.id,...o.data(),createdAt:o.data().createdAt?.toDate?.()||new Date,updatedAt:o.data().updatedAt?.toDate?.()||new Date})),a={high:3,medium:2,low:1};return r.sort((o,c)=>{const u=(a[c.priority]||0)-(a[o.priority]||0);return u!==0?u:c.createdAt-o.createdAt})}catch(n){throw console.error("Error getting announcements:",n),n}}async function dV(){try{const n=Ht(Ye,$t.announcements()),e=Es(n,Za("isActive","==",!0)),r=(await wr(e)).docs.map(o=>({id:o.id,...o.data(),createdAt:o.data().createdAt?.toDate?.()||new Date})),a={high:3,medium:2,low:1};return r.sort((o,c)=>{const u=(a[c.priority]||0)-(a[o.priority]||0);return u!==0?u:c.createdAt-o.createdAt})}catch(n){throw console.error("Error getting active announcements:",n),n}}async function hV(n){try{const e=St(Ye,$t.announcement(n)),t=await zs(e);if(t.exists()){const r=t.data();return{id:t.id,...r,createdAt:r.createdAt?.toDate?.()||new Date,updatedAt:r.updatedAt?.toDate?.()||new Date}}return null}catch(e){throw console.error("Error getting announcement:",e),e}}async function fV(n){try{const e=Ht(Ye,$t.announcements());return(await bs(e,{...n,createdAt:Xt(),updatedAt:Xt()})).id}catch(e){throw console.error("Error creating announcement:",e),e}}async function cT(n,e){try{const t=St(Ye,$t.announcement(n));await go(t,{...e,updatedAt:Xt()})}catch(t){throw console.error("Error updating announcement:",t),t}}async function mV(n){try{const e=St(Ye,$t.announcement(n));await Uo(e)}catch(e){throw console.error("Error deleting announcement:",e),e}}async function gV(n,e){try{await cT(n,{isActive:e})}catch(t){throw console.error("Error toggling announcement status:",t),t}}function pV(){const[n,e]=W.useState([]),[t,r]=W.useState(0),[a,o]=W.useState(!0),{getContent:c}=fs();W.useEffect(()=>{u()},[]),W.useEffect(()=>{if(n.length>1){const b=setInterval(()=>{r(T=>(T+1)%n.length)},5e3);return()=>clearInterval(b)}},[n.length]);const u=async()=>{try{const b=await dV();e(b)}catch(b){console.error("Error loading announcements:",b)}},h=()=>{o(!1)};if(!a||n.length===0)return null;const f=n[t],g={info:{bg:"bg-blue-500",icon:v2},warning:{bg:"bg-yellow-500",icon:aw},alert:{bg:"bg-red-500",icon:Qn},success:{bg:"bg-green-500",icon:Bi}},x=g[f?.type]||g.info,v=x.icon;return s.jsxs("div",{className:`${x.bg} text-white shadow-lg relative overflow-hidden`,children:[s.jsx("div",{className:"absolute inset-0 opacity-10",children:s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')]"})}),s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-3 relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx(v,{className:"flex-shrink-0 animate-pulse",size:24}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("p",{className:"font-bold text-sm sm:text-base",children:c(f.title)}),s.jsx("span",{className:"text-white/80 text-sm hidden sm:inline",children:""}),s.jsx("p",{className:"text-white/90 text-sm",children:c(f.message)})]})})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[f.link&&s.jsxs("a",{href:f.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-3 py-1.5 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-semibold transition-colors backdrop-blur-sm",children:[s.jsx("span",{className:"hidden sm:inline",children:"Read More"}),s.jsx(_x,{size:14})]}),s.jsx("button",{onClick:h,className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",title:"Close",children:s.jsx(pi,{size:18})})]})]}),n.length>1&&s.jsx("div",{className:"flex justify-center gap-1.5 mt-2",children:n.map((b,T)=>s.jsx("button",{onClick:()=>r(T),className:`h-1.5 rounded-full transition-all ${T===t?"w-6 bg-white":"w-1.5 bg-white/40 hover:bg-white/60"}`,title:`Announcement ${T+1}`},T))})]})]})}const xV=()=>s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(lV,{}),s.jsx(pV,{}),s.jsx("main",{className:"flex-1",children:s.jsx(t3,{})}),s.jsx(cV,{})]}),yV=({children:n})=>{const{isAuthenticated:e,loading:t}=rw();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e?n:s.jsx(H2,{to:"/admin/login",replace:!0})};function cf({children:n,requiredPermission:e=null}){const{superAdmin:t,loading:r,isAuthenticated:a,hasPermission:o}=eT(),c=ld();return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/10 backdrop-blur-md rounded-full mb-4 border border-white/20",children:s.jsx(Wl,{className:"w-10 h-10 text-white animate-pulse"})}),s.jsxs("div",{className:"flex items-center justify-center gap-3 text-white",children:[s.jsx(xy,{className:"w-6 h-6 animate-spin"}),s.jsx("p",{className:"text-lg",children:"Verifying super admin access..."})]})]})}):!a||!t?s.jsx(H2,{to:"/superadmin/login",state:{from:c},replace:!0}):e&&!o(e)?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 max-w-md text-center border border-white/20",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-500/20 rounded-full mb-4",children:s.jsx(Wl,{className:"w-8 h-8 text-red-200"})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-indigo-200 mb-6",children:"You do not have permission to access this feature."}),s.jsxs("p",{className:"text-sm text-indigo-300 mb-6",children:["Required permission: ",s.jsx("span",{className:"font-mono bg-white/10 px-2 py-1 rounded",children:e})]}),s.jsx("button",{onClick:()=>window.history.back(),className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-6 py-2 rounded-lg hover:from-indigo-600 hover:to-purple-700 transition",children:"Go Back"})]})}):n}const bV=()=>{const[n,e]=W.useState(!1),{user:t,logout:r}=rw(),{language:a,toggleLanguage:o}=fs(),c=ld(),u=Ar(),h=()=>{r(),u("/admin/login")},f=[{path:"/admin/dashboard",label:"Dashboard",icon:pU},{path:"/admin/members",label:"Members & Staff",icon:Us},{path:"/admin/services",label:"Services",icon:Yf},{path:"/admin/schemes",label:"Schemes",icon:hr},{path:"/admin/forms",label:"Forms & Downloads",icon:Vo},{path:"/admin/gallery",label:"Gallery",icon:Ma},{path:"/admin/financials",label:"Financials",icon:UF},{path:"/admin/notices",label:"Notices & Tenders",icon:Vi},{path:"/admin/announcements",label:"Announcements",icon:Ex},{path:"/admin/grievances",label:"Grievances",icon:Cf},{path:"/admin/village-statistics",label:"Village Statistics",icon:hr},{path:"/admin/settings",label:"Settings",icon:iT}],g=x=>c.pathname===x;return s.jsxs("div",{className:"min-h-screen bg-gray-100",children:[s.jsx("header",{className:"bg-white shadow-md fixed top-0 left-0 right-0 z-40",children:s.jsxs("div",{className:"flex justify-between items-center px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>e(!n),className:"lg:hidden p-2 hover:bg-gray-100 rounded",children:n?s.jsx(pi,{size:24}):s.jsx(sT,{size:24})}),s.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Admin Panel"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right hidden sm:block",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-800",children:t?.name}),s.jsx("p",{className:"text-xs text-gray-500",children:t?.role})]}),s.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",title:a==="en"?"Switch to Marathi":"Switch to English",children:[s.jsx(Tf,{size:18}),s.jsx("span",{className:"hidden sm:inline text-sm",children:a==="en"?"EN":""})]}),s.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[s.jsx(rT,{size:18}),s.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}),s.jsx("aside",{className:`fixed top-16 left-0 bottom-0 w-64 bg-white shadow-lg transform transition-transform duration-200 z-30 ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:s.jsx("nav",{className:"p-4 space-y-2 overflow-y-auto h-full",children:f.map(x=>{const v=x.icon;return s.jsxs(_n,{to:x.path,onClick:()=>e(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${g(x.path)?"bg-primary-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(v,{size:20}),s.jsx("span",{className:"font-medium",children:x.label})]},x.path)})})}),s.jsx("main",{className:"pt-16 lg:pl-64 min-h-screen",children:s.jsx("div",{className:"p-6",children:s.jsx(t3,{})})}),n&&s.jsx("div",{onClick:()=>e(!1),className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden"})]})};function vV(){const[n,e]=W.useState(!1);return GO(),HO(),null}const wV=()=>{const{t:n,getContent:e}=fs(),{settings:t,loading:r}=tu();return r||!t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-blue-50 to-green-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-orange-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading..."})]})}):s.jsxs("div",{className:"overflow-hidden",children:[s.jsxs("section",{className:"relative overflow-hidden min-h-[650px] md:min-h-[700px] lg:min-h-[750px] flex items-center",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-600 via-white to-green-600",children:s.jsx("div",{className:"absolute inset-0 opacity-10",children:s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')] opacity-20"})})}),s.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 md:w-48 md:h-48 opacity-5 animate-spin-slow",children:s.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[s.jsx("circle",{cx:"100",cy:"100",r:"80",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-blue-900"}),[...Array(24)].map((a,o)=>s.jsx("line",{x1:"100",y1:"100",x2:"100",y2:"20",stroke:"currentColor",strokeWidth:"2",className:"text-blue-900",transform:`rotate(${o*15} 100 100)`},o))]})}),s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10 py-16 md:py-20",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs("div",{className:"text-center mb-8 md:mb-12 animate-fade-in-up",children:[s.jsx("div",{className:"inline-block mb-6 p-4 bg-white rounded-full shadow-2xl",children:s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-orange-600 via-blue-900 to-green-600 rounded-full flex items-center justify-center",children:s.jsx(Ju,{className:"text-white w-8 h-8 md:w-10 md:h-10"})})}),s.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 text-gray-900 leading-tight",children:[s.jsx("span",{className:"block text-orange-600",children:n("home.welcomeTitle")}),s.jsx("span",{className:"block mt-2 bg-gradient-to-r from-blue-900 via-gray-800 to-blue-900 bg-clip-text text-transparent",children:e(t.panchayatName)})]}),s.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-gray-700 font-medium max-w-3xl mx-auto mb-8 px-4",children:e(t.tagline)}),s.jsxs("div",{className:"w-32 h-1 mx-auto mb-8 flex rounded-full overflow-hidden shadow-lg",children:[s.jsx("div",{className:"flex-1 bg-orange-600"}),s.jsx("div",{className:"flex-1 bg-white"}),s.jsx("div",{className:"flex-1 bg-green-600"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[s.jsxs(_n,{to:"/about",className:"group inline-flex items-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-8 py-4 rounded-lg text-base md:text-lg font-semibold shadow-xl hover:shadow-2xl transition-all transform hover:scale-105",children:[n("home.knowMore"),s.jsx(Oc,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),s.jsxs(_n,{to:"/services",className:"group inline-flex items-center gap-2 bg-white hover:bg-gray-50 text-gray-900 px-8 py-4 rounded-lg text-base md:text-lg font-semibold shadow-xl hover:shadow-2xl transition-all transform hover:scale-105 border-2 border-gray-200",children:[n("home.importantServices"),s.jsx(_x,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]})})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:s.jsx("svg",{viewBox:"0 0 1440 120",className:"w-full h-16 md:h-24 fill-current text-white",children:s.jsx("path",{d:"M0,64L48,69.3C96,75,192,85,288,80C384,75,480,53,576,48C672,43,768,53,864,58.7C960,64,1056,64,1152,58.7C1248,53,1344,43,1392,37.3L1440,32L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z"})})})]}),s.jsx("section",{className:"py-12 md:py-16 lg:py-20 bg-gradient-to-br from-gray-50 via-blue-50/30 to-orange-50/30",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-10 md:mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:n("home.quickInfo")}),s.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-600 to-green-600 mx-auto rounded-full"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 max-w-7xl mx-auto",children:[s.jsx("div",{className:"group bg-white p-6 md:p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-l-4 border-orange-600 transform hover:-translate-y-2",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:s.jsx(lo,{className:"text-white",size:24})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:n("home.phone")}),s.jsx("a",{href:`tel:${t.contact.phone}`,className:"text-gray-700 hover:text-orange-600 font-medium transition-colors block truncate",children:t.contact.phone})]})]})}),s.jsx("div",{className:"group bg-white p-6 md:p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-l-4 border-green-600 transform hover:-translate-y-2",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-green-600 to-green-700 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:s.jsx(mo,{className:"text-white",size:24})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:n("home.email")}),s.jsx("a",{href:`mailto:${t.contact.email}`,className:"text-gray-700 hover:text-green-600 font-medium transition-colors block break-all text-sm md:text-base",children:t.contact.email})]})]})}),s.jsx("div",{className:"group bg-white p-6 md:p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-l-4 border-blue-600 transform hover:-translate-y-2",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:s.jsx(ml,{className:"text-white",size:24})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:n("home.address")}),s.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:e(t.contact.address)})]})]})}),s.jsx("div",{className:"group bg-white p-6 md:p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-l-4 border-orange-600 transform hover:-translate-y-2",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:s.jsx(Xf,{className:"text-white",size:24})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:n("home.timings")}),s.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:e(t.officeTimings)})]})]})})]})]})}),s.jsx("section",{className:"py-12 md:py-16 lg:py-20 bg-white",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-10 md:mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:n("home.quickLinks")}),s.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-600 to-green-600 mx-auto rounded-full"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 max-w-7xl mx-auto",children:[s.jsxs(_n,{to:"/financials#property-tax",className:"group relative bg-gradient-to-br from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white p-6 md:p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx(Sx,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),s.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2",children:n("home.payPropertyTax")}),s.jsx("p",{className:"text-white/90 text-sm mb-4",children:"Pay your property tax online"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[s.jsx("span",{children:"Pay Now"}),s.jsx(Oc,{size:18,className:"group-hover:translate-x-2 transition-transform"})]})]})]}),s.jsxs(_n,{to:"/financials#water-tax",className:"group relative bg-gradient-to-br from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white p-6 md:p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx(Sx,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),s.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2",children:n("home.payWaterTax")}),s.jsx("p",{className:"text-white/90 text-sm mb-4",children:"Pay your water bill online"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[s.jsx("span",{children:"Pay Now"}),s.jsx(Oc,{size:18,className:"group-hover:translate-x-2 transition-transform"})]})]})]}),s.jsxs(_n,{to:"/schemes",className:"group relative bg-gradient-to-br from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white p-6 md:p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx(Yf,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),s.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2",children:n("home.viewSchemes")}),s.jsx("p",{className:"text-white/90 text-sm mb-4",children:"Browse government schemes"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[s.jsx("span",{children:"View All"}),s.jsx(Oc,{size:18,className:"group-hover:translate-x-2 transition-transform"})]})]})]}),s.jsxs(_n,{to:"/downloads",className:"group relative bg-gradient-to-br from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white p-6 md:p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx(Vo,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),s.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2",children:n("home.downloadForms")}),s.jsx("p",{className:"text-white/90 text-sm mb-4",children:"Download application forms"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[s.jsx("span",{children:"Download"}),s.jsx(Oc,{size:18,className:"group-hover:translate-x-2 transition-transform"})]})]})]})]})]})}),s.jsxs("section",{className:"py-12 md:py-16 lg:py-20 bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 text-white relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 opacity-10",children:s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')]"})}),s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[s.jsxs("div",{className:"text-center mb-10 md:mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-3",children:n("home.highlights")}),s.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-400 to-green-400 mx-auto rounded-full"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 max-w-6xl mx-auto",children:[s.jsxs(_n,{to:"/panchayat",className:"group bg-white/10 backdrop-blur-sm p-8 md:p-10 rounded-2xl text-center hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl border border-white/20",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-400 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform shadow-xl",children:s.jsx(Us,{className:"text-white",size:40})}),s.jsx("p",{className:"text-xl font-semibold mb-2 text-orange-300",children:n("home.members")}),s.jsx("p",{className:"text-white/80 text-sm",children:"Panchayat Representatives"}),s.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-orange-300 text-sm font-semibold opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("span",{children:"View Details"}),s.jsx(Oc,{size:16})]})]}),s.jsxs(_n,{to:"/schemes",className:"group bg-white/10 backdrop-blur-sm p-8 md:p-10 rounded-2xl text-center hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl border border-white/20",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-green-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform shadow-xl",children:s.jsx(Yf,{className:"text-white",size:40})}),s.jsx("p",{className:"text-xl font-semibold mb-2 text-green-300",children:n("home.popularSchemes")}),s.jsx("p",{className:"text-white/80 text-sm",children:"Government Schemes"}),s.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-green-300 text-sm font-semibold opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("span",{children:"View Details"}),s.jsx(Oc,{size:16})]})]}),s.jsxs(_n,{to:"/services",className:"group bg-white/10 backdrop-blur-sm p-8 md:p-10 rounded-2xl text-center hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl border border-white/20",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-400 to-blue-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform shadow-xl",children:s.jsx(hr,{className:"text-white",size:40})}),s.jsx("p",{className:"text-xl font-semibold mb-2 text-blue-300",children:n("home.importantServices")}),s.jsx("p",{className:"text-white/80 text-sm",children:"Panchayat Services"}),s.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-blue-300 text-sm font-semibold opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("span",{children:"View Details"}),s.jsx(Oc,{size:16})]})]})]})]})]})]})},yy={ABOUT:"about",EDUCATION:"education"},uT=async n=>{try{const e=St(Ye,$t.pages(),n),t=await zs(e);if(t.exists()){const r=t.data();return{id:t.id,...r,updatedAt:r.updatedAt?.toDate?.()?.toISOString?.()||r.updatedAt,createdAt:r.createdAt?.toDate?.()?.toISOString?.()||r.createdAt}}else return console.log(`No ${n} page content found`),null}catch(e){throw console.error(`Error fetching ${n} page content:`,e),new Error(`Failed to fetch ${n} page content`)}},dT=async(n,e)=>{try{const t=St(Ye,$t.pages(),n),a=!(await zs(t)).exists(),o={...e,updatedAt:gt.now(),...a&&{createdAt:gt.now()}};await lh(t,o,{merge:!0}),console.log(`${n} page content ${a?"created":"updated"}`)}catch(t){throw console.error(`Error updating ${n} page content:`,t),new Error(`Failed to update ${n} page content`)}},hT=async()=>await uT(yy.ABOUT),d4=async n=>await dT(yy.ABOUT,n),fT=async()=>await uT(yy.EDUCATION),h4=async n=>await dT(yy.EDUCATION,n),NV=()=>{const{t:n,language:e,getContent:t}=fs(),{settings:r,loading:a}=tu(),[o,c]=W.useState(null),[u,h]=W.useState(!0);return W.useEffect(()=>{(async()=>{try{h(!0);const g=await hT();c(g)}catch(g){console.error("Error loading about content:",g),c(null)}finally{h(!1)}})()},[]),u||a?s.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-orange-50 via-blue-50 to-green-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-orange-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading..."})]})}):r?o?s.jsxs("div",{className:"overflow-hidden",children:[s.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-orange-600 via-white to-green-600 py-16 md:py-24",children:[s.jsx("div",{className:"absolute inset-0 opacity-10",children:s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')]"})}),s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("div",{className:"inline-block mb-6 p-4 bg-white rounded-full shadow-2xl",children:s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-orange-600 via-blue-900 to-green-600 rounded-full flex items-center justify-center",children:s.jsx(Ju,{className:"text-white w-8 h-8 md:w-10 md:h-10"})})}),s.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-6 text-gray-900",children:[e==="en"?"About":"",s.jsx("span",{className:"block mt-2 bg-gradient-to-r from-orange-600 via-blue-900 to-green-600 bg-clip-text text-transparent",children:t(r.panchayatName)})]}),s.jsxs("div",{className:"w-32 h-1 mx-auto mb-6 flex rounded-full overflow-hidden shadow-lg",children:[s.jsx("div",{className:"flex-1 bg-orange-600"}),s.jsx("div",{className:"flex-1 bg-white"}),s.jsx("div",{className:"flex-1 bg-green-600"})]}),s.jsx("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed",children:t(o.description)})]})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:s.jsx("svg",{viewBox:"0 0 1440 120",className:"w-full h-12 md:h-16 fill-current text-white",children:s.jsx("path",{d:"M0,64L48,69.3C96,75,192,85,288,80C384,75,480,53,576,48C672,43,768,53,864,58.7C960,64,1056,64,1152,58.7C1248,53,1344,43,1392,37.3L1440,32L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z"})})})]}),s.jsx("section",{className:"py-12 md:py-16 bg-white",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:[s.jsxs("div",{className:"group relative bg-gradient-to-br from-orange-500 to-orange-600 text-white p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx(Us,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),s.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:o.population}),s.jsx("div",{className:"text-white/90 text-lg",children:e==="en"?"Population":""})]})]}),s.jsxs("div",{className:"group relative bg-gradient-to-br from-green-600 to-green-700 text-white p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx(ml,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),s.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:o.area}),s.jsx("div",{className:"text-white/90 text-lg",children:e==="en"?"Area":""})]})]}),s.jsxs("div",{className:"group relative bg-gradient-to-br from-blue-600 to-blue-700 text-white p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx(sU,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),s.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:o.households}),s.jsx("div",{className:"text-white/90 text-lg",children:e==="en"?"Households":""})]})]})]})})})}),(o.history||o.vision||o.mission)&&s.jsx("section",{className:"py-12 md:py-16 lg:py-20 bg-gradient-to-br from-gray-50 via-blue-50/30 to-orange-50/30",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-10 md:mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:e==="en"?"Our Journey":" "}),s.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-600 to-green-600 mx-auto rounded-full"})]}),s.jsxs("div",{className:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:[o.history&&s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-t-4 border-orange-600",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:s.jsx(Zr,{className:"text-orange-600",size:24})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e==="en"?"History":""})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:t(o.history)})]}),o.vision&&s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-t-4 border-green-600",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:s.jsx(zi,{className:"text-green-600",size:24})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e==="en"?"Vision":""})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:t(o.vision)})]}),o.mission&&s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-t-4 border-blue-600",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:s.jsx(oT,{className:"text-blue-600",size:24})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e==="en"?"Mission":""})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:t(o.mission)})]})]})]})}),o.importantPlaces&&o.importantPlaces.length>0&&s.jsxs("section",{className:"py-12 md:py-16 lg:py-20 bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 text-white relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 opacity-10",children:s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')]"})}),s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[s.jsxs("div",{className:"text-center mb-10 md:mb-12",children:[s.jsx(Os,{className:"w-12 h-12 mx-auto mb-4 text-orange-400"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-3",children:e==="en"?"Important Places":" "}),s.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-400 to-green-400 mx-auto rounded-full"})]}),s.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:o.importantPlaces.map((f,g)=>s.jsxs("div",{className:"group bg-white/10 backdrop-blur-sm rounded-2xl overflow-hidden hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl border border-white/20",children:[f.photoUrl&&s.jsx("div",{className:"h-48 overflow-hidden",children:s.jsx("img",{src:f.photoUrl,alt:t(f.name),className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),!f.photoUrl&&s.jsx("div",{className:"h-48 bg-gradient-to-br from-orange-400 to-green-400 flex items-center justify-center",children:s.jsx(ml,{size:64,className:"text-white opacity-50"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:t(f.name)}),s.jsx("p",{className:"text-white/80 leading-relaxed",children:t(f.description)})]})]},f.id))})]})]})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-16",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx(Ju,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:e==="en"?"No About Information Available":"   "}),s.jsx("p",{className:"text-gray-600",children:e==="en"?"About page content has not been added yet.":"     ."})]})}):null},f4=()=>sd(),jV=(n,e,t=null)=>t?`${f4()}/${n}/${t}/${e}`:`${f4()}/${n}/${e}`;async function by(n,e,t=null,r=null){try{const a=t||`${Date.now()}_${n.name}`,o=jV(e,a,r),c=hy(fy,o),u=await OO(c,n);return await zA(u.ref)}catch(a){throw console.error("Error uploading image:",a),a}}async function vy(n){try{const e=_V(n);if(!e)throw new Error("Invalid file URL");const t=hy(fy,e);return await qA(t),!0}catch(e){throw console.error("Error deleting image:",e),e}}function _V(n){try{if(!n.startsWith("https://firebasestorage.googleapis.com/v0/b/"))return null;const t=n.split("/o/")[1]?.split("?")[0];return t?decodeURIComponent(t):null}catch(e){return console.error("Error extracting path:",e),null}}async function mT(n,e){try{const t=Array.from(n).map(r=>by(r,e));return await Promise.all(t)}catch(t){throw console.error("Error uploading multiple images:",t),t}}const iw=async()=>{try{const n=Ht(Ye,$t.members()),e=Es(n,ic("position","asc")),t=await wr(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),r}catch(n){throw console.error("Error fetching members:",n),n}},ow=async n=>{try{const e=St(Ye,$t.members(),n),t=await zs(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){throw console.error("Error fetching member:",e),e}},SV=async(n,e=null)=>{try{let t=n.photo||"";e&&(t=await by(e,"members"));const r=Ht(Ye,$t.members()),a=await bs(r,{...n,photo:t,createdAt:gt.now(),updatedAt:gt.now()});return console.log("Member created successfully with ID:",a.id),a.id}catch(t){throw console.error("Error creating member:",t),t}},EV=async(n,e,t=null)=>{try{let r=e.photo||"";if(t){const o=await ow(n);if(o&&o.photo)try{await vy(o.photo)}catch(c){console.warn("Failed to delete old photo:",c)}r=await by(t,"members")}const a=St(Ye,$t.members(),n);return await go(a,{...e,photo:r,updatedAt:gt.now()}),console.log("Member updated successfully:",n),n}catch(r){throw console.error("Error updating member:",r),r}},AV=async n=>{try{const e=await ow(n);if(e&&e.photo)try{await vy(e.photo)}catch(r){console.warn("Failed to delete member photo:",r)}const t=St(Ye,$t.members(),n);return await Uo(t),console.log("Member deleted successfully:",n),!0}catch(e){throw console.error("Error deleting member:",e),e}},TV=()=>{const{t:n,getContent:e}=fs(),{settings:t,loading:r}=tu(),[a,o]=W.useState([]),[c,u]=W.useState(!0);W.useEffect(()=>{(async()=>{try{u(!0);const b=await iw();o(Array.isArray(b)?b:[])}catch(b){console.error("Error loading members:",b),o([])}finally{u(!1)}})()},[]);const h=a.filter(v=>v.type==="SARPANCH"),f=a.filter(v=>v.type==="UPSARPANCH"),g=a.filter(v=>v.type==="MEMBER"),x=a.filter(v=>v.type==="STAFF");return c||r?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):t?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("section",{className:"relative bg-gradient-to-br from-orange-600 via-white to-green-600 py-20",children:[s.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm"}),s.jsx("div",{className:"container-custom relative z-10",children:s.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[s.jsxs("div",{className:"inline-flex items-center gap-3 mb-6 px-6 py-3 bg-gradient-to-r from-orange-600 to-green-600 rounded-full shadow-lg",children:[s.jsx(hl,{className:"text-white",size:28}),s.jsx("span",{className:"text-white font-bold text-xl",children:"Gram Panchayat"})]}),s.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-orange-600 to-green-600 bg-clip-text text-transparent",children:n("nav.panchayat")}),s.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:"Meet our elected representatives and dedicated office staff committed to serving our community"}),s.jsxs("div",{className:"mt-8 flex items-center justify-center gap-8 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-orange-600 rounded-full"}),s.jsx("span",{children:"Saffron - Courage & Sacrifice"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full"}),s.jsx("span",{children:"Green - Growth & Prosperity"})]})]})]})})]}),s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),s.jsx(hl,{className:"text-blue-900",size:32}),s.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),s.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:"Office Information"}),s.jsx("p",{className:"text-gray-600",children:"Your gateway to local governance and public services"})]}),s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsx("div",{className:"bg-gradient-to-br from-orange-50 via-white to-green-50 rounded-2xl shadow-xl overflow-hidden border border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-0",children:[s.jsxs("div",{className:"relative h-80 lg:h-auto",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-600/20 to-green-600/20"}),s.jsx("img",{src:t.officePhoto||"https://via.placeholder.com/600x400",alt:"Gram Panchayat Office",className:"w-full h-full object-cover"}),s.jsxs("div",{className:"absolute bottom-6 left-6 right-6 bg-white/90 backdrop-blur-sm rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Government of India"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Serving the community since establishment"})]})]}),s.jsxs("div",{className:"p-8 lg:p-12 space-y-6",children:[s.jsxs("div",{className:"flex gap-4 group",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-orange-600 to-orange-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(ml,{className:"text-white",size:24})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-lg mb-2 text-blue-900",children:"Office Address"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:e(t.contact.address)})]})]}),s.jsxs("div",{className:"flex gap-4 group",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-blue-900 to-blue-800 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(Xf,{className:"text-white",size:24})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-lg mb-2 text-blue-900",children:"Working Hours"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:e(t.officeTimings)})]})]}),s.jsxs("div",{className:"flex gap-4 group",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-green-600 to-green-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(lo,{className:"text-white",size:24})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-lg mb-2 text-blue-900",children:"Contact Details"}),s.jsx("p",{className:"text-gray-700 mb-1",children:s.jsx("a",{href:`tel:${t.contact.phone}`,className:"hover:text-orange-600 transition-colors",children:t.contact.phone})}),s.jsx("p",{className:"text-gray-700",children:s.jsxs("a",{href:`mailto:${t.contact.email}`,className:"hover:text-orange-600 transition-colors flex items-center gap-2",children:[s.jsx(mo,{size:16}),t.contact.email]})})]})]})]})]})})})]})}),h.length>0&&s.jsx("section",{className:"py-16 bg-gradient-to-br from-orange-50 via-white to-green-50",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),s.jsx(Ju,{className:"text-blue-900",size:32}),s.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),s.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e(h[0].designation)}),s.jsx("p",{className:"text-gray-600",children:"Head of the Gram Panchayat"})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border-t-4 border-orange-600",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),s.jsx("div",{className:"p-8 md:p-12",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-orange-600 to-green-600 rounded-full opacity-20 blur-xl"}),s.jsx("div",{className:"relative w-56 h-56 rounded-full border-8 border-white shadow-2xl overflow-hidden bg-gradient-to-br from-orange-100 to-green-100 flex items-center justify-center",children:h[0].photo?s.jsx("img",{src:h[0].photo,alt:e(h[0].name),className:"w-full h-full object-cover"}):s.jsx(Nf,{size:140,className:"text-gray-400"})}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-gradient-to-r from-orange-600 to-green-600 text-white px-6 py-2 rounded-full shadow-lg text-sm font-bold",children:"SARPANCH"})]}),s.jsxs("div",{className:"flex-1 text-center md:text-left space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-blue-900 mb-2",children:e(h[0].name)}),s.jsx("p",{className:"text-xl text-orange-600 font-semibold mb-1",children:e(h[0].designation)})]}),s.jsxs("div",{className:"inline-flex items-center gap-3 bg-gradient-to-r from-orange-50 to-green-50 px-6 py-3 rounded-xl border border-orange-200",children:[s.jsx(lo,{size:20,className:"text-orange-600"}),s.jsx("a",{href:`tel:${h[0].phone}`,className:"text-blue-900 hover:text-orange-600 transition-colors font-semibold",children:h[0].phone})]}),h[0].termStart&&s.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[s.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-1",children:"Current Term"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[new Date(h[0].termStart).getFullYear()," - ",new Date(h[0].termEnd).getFullYear()]})]}),s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsx("p",{className:"text-sm text-gray-600 italic leading-relaxed",children:'"Committed to the development and welfare of our village community"'})})]})]})})]})})]})}),f.length>0&&s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),s.jsx(Ju,{className:"text-blue-900",size:32}),s.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),s.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e(f[0].designation)}),s.jsx("p",{className:"text-gray-600",children:"Vice-Head of the Gram Panchayat"})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 via-white to-green-50 rounded-2xl shadow-2xl overflow-hidden border-t-4 border-green-600",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-600 to-orange-600 h-2"}),s.jsx("div",{className:"p-8 md:p-12",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-green-600 to-orange-600 rounded-full opacity-20 blur-xl"}),s.jsx("div",{className:"relative w-56 h-56 rounded-full border-8 border-white shadow-2xl overflow-hidden bg-gradient-to-br from-green-100 to-orange-100 flex items-center justify-center",children:f[0].photo?s.jsx("img",{src:f[0].photo,alt:e(f[0].name),className:"w-full h-full object-cover"}):s.jsx(Nf,{size:140,className:"text-gray-400"})}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-gradient-to-r from-green-600 to-orange-600 text-white px-6 py-2 rounded-full shadow-lg text-sm font-bold",children:"UP-SARPANCH"})]}),s.jsxs("div",{className:"flex-1 text-center md:text-left space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-bold text-blue-900 mb-2",children:e(f[0].name)}),s.jsx("p",{className:"text-xl text-green-600 font-semibold mb-1",children:e(f[0].designation)})]}),s.jsxs("div",{className:"inline-flex items-center gap-3 bg-gradient-to-r from-green-50 to-orange-50 px-6 py-3 rounded-xl border border-green-200",children:[s.jsx(lo,{size:20,className:"text-green-600"}),s.jsx("a",{href:`tel:${f[0].phone}`,className:"text-blue-900 hover:text-green-600 transition-colors font-semibold",children:f[0].phone})]}),f[0].termStart&&s.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[s.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-1",children:"Current Term"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[new Date(f[0].termStart).getFullYear()," - ",new Date(f[0].termEnd).getFullYear()]})]}),s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsx("p",{className:"text-sm text-gray-600 italic leading-relaxed",children:'"Supporting the vision of progress and prosperity for our community"'})})]})]})})]})})]})}),g.length>0&&s.jsx("section",{className:"py-16 bg-gradient-to-br from-orange-50 via-white to-green-50",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),s.jsx(Us,{className:"text-blue-900",size:32}),s.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),s.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:"Gram Panchayat Members"}),s.jsx("p",{className:"text-gray-600",children:"Elected representatives serving our community"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:g.map((v,b)=>s.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-orange-600 hover:scale-105",children:[s.jsx("div",{className:"h-1 bg-gradient-to-r from-orange-600 to-green-600"}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-orange-600 to-green-600 rounded-full opacity-0 group-hover:opacity-20 blur-lg transition-opacity"}),s.jsx("div",{className:"relative w-32 h-32 mx-auto rounded-full border-4 border-white shadow-xl overflow-hidden bg-gradient-to-br from-orange-100 to-green-100 flex items-center justify-center",children:v.photo?s.jsx("img",{src:v.photo,alt:e(v.name),className:"w-full h-full object-cover"}):s.jsx(Nf,{size:80,className:"text-gray-400"})}),s.jsx("div",{className:"absolute -top-2 -right-2 w-10 h-10 bg-gradient-to-r from-orange-600 to-green-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:b+1})]}),s.jsxs("div",{className:"text-center space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-1 group-hover:text-orange-600 transition-colors",children:e(v.name)}),s.jsx("p",{className:"text-orange-600 font-semibold text-sm",children:e(v.designation)})]}),s.jsx("div",{className:"pt-3 border-t border-gray-200",children:s.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-orange-50 to-green-50 px-4 py-2 rounded-lg border border-orange-200",children:[s.jsx(lo,{size:16,className:"text-orange-600"}),s.jsx("a",{href:`tel:${v.phone}`,className:"text-blue-900 hover:text-orange-600 transition-colors text-sm font-medium",children:v.phone})]})})]})]})]},v.id))})]})}),x.length>0&&s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),s.jsx(hl,{className:"text-blue-900",size:32}),s.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),s.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:"Office Staff"}),s.jsx("p",{className:"text-gray-600",children:"Dedicated professionals serving the public"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.map((v,b)=>s.jsxs("div",{className:"group bg-gradient-to-br from-green-50 via-white to-orange-50 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-green-600 hover:scale-105",children:[s.jsx("div",{className:"h-1 bg-gradient-to-r from-green-600 to-orange-600"}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-green-600 to-orange-600 rounded-full opacity-0 group-hover:opacity-20 blur-lg transition-opacity"}),s.jsx("div",{className:"relative w-32 h-32 mx-auto rounded-full border-4 border-white shadow-xl overflow-hidden bg-gradient-to-br from-green-100 to-orange-100 flex items-center justify-center",children:v.photo?s.jsx("img",{src:v.photo,alt:e(v.name),className:"w-full h-full object-cover"}):s.jsx(Nf,{size:80,className:"text-gray-400"})}),s.jsx("div",{className:"absolute -top-2 -right-2 w-10 h-10 bg-gradient-to-r from-green-600 to-orange-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:b+1})]}),s.jsxs("div",{className:"text-center space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-1 group-hover:text-green-600 transition-colors",children:e(v.name)}),s.jsx("p",{className:"text-green-600 font-semibold text-sm",children:e(v.designation)})]}),s.jsx("div",{className:"pt-3 border-t border-gray-200",children:s.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-green-50 to-orange-50 px-4 py-2 rounded-lg border border-green-200",children:[s.jsx(lo,{size:16,className:"text-green-600"}),s.jsx("a",{href:`tel:${v.phone}`,className:"text-blue-900 hover:text-green-600 transition-colors text-sm font-medium",children:v.phone})]})})]})]})]},v.id))})]})})]}):null},lw=async()=>{try{const n=Ht(Ye,$t.services()),e=Es(n,ic("name.en","asc")),t=await wr(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),r}catch(n){throw console.error("Error fetching services:",n),n}},CV=async n=>{try{const e=St(Ye,$t.services(),n),t=await zs(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){throw console.error("Error fetching service:",e),e}},IV=async n=>{try{const e=Ht(Ye,$t.services()),t=await bs(e,{...n,createdAt:gt.now(),updatedAt:gt.now()});return console.log("Service created successfully with ID:",t.id),t.id}catch(e){throw console.error("Error creating service:",e),e}},RV=async(n,e)=>{try{const t=St(Ye,$t.services(),n);return await go(t,{...e,updatedAt:gt.now()}),console.log("Service updated successfully:",n),n}catch(t){throw console.error("Error updating service:",t),t}},kV=async n=>{try{const e=St(Ye,$t.services(),n);return await Uo(e),console.log("Service deleted successfully:",n),!0}catch(e){throw console.error("Error deleting service:",e),e}},PV=()=>{const{t:n,getContent:e}=fs(),[t,r]=W.useState(""),[a,o]=W.useState("All"),[c,u]=W.useState([]),[h,f]=W.useState(!0);W.useEffect(()=>{(async()=>{try{f(!0);const b=await lw();u(Array.isArray(b)?b:[])}catch(b){console.error("Error loading services:",b),u([])}finally{f(!1)}})()},[]);const g=["All","Certificate","Tax","NOC","Other"],x=c.filter(v=>{const b=e(v.name).toLowerCase().includes(t.toLowerCase()),T=a==="All"||v.category===a;return b&&T});return h?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):s.jsxs("div",{children:[s.jsx("section",{className:"bg-gradient-to-r from-primary-600 to-primary-800 text-white py-16",children:s.jsxs("div",{className:"container-custom",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:n("nav.services")}),s.jsx("p",{className:"text-xl text-primary-100",children:"Explore various services provided by Gram Panchayat"})]})}),s.jsx("section",{className:"py-12",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"mb-8 flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:n("common.search"),value:t,onChange:v=>r(v.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:g.map(v=>s.jsx("button",{onClick:()=>o(v),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===v?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:v},v))})]}),c.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500 text-lg",children:n("common.language")==="en"?"No services have been added yet.":"     ."})}):x.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500 text-lg",children:n("common.noResults")})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:x.map(v=>s.jsxs("div",{className:"card p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:e(v.name)}),s.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 text-sm font-medium rounded-full",children:v.category})]}),s.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:e(v.description)}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Fees: "}),s.jsx("span",{className:"font-semibold text-gray-700",children:v.fees})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Time: "}),s.jsx("span",{className:"font-semibold text-gray-700",children:v.processingTime})]})]}),s.jsxs(_n,{to:`/services/${v.id}`,className:"mt-4 inline-flex items-center gap-1 text-primary-600 hover:text-primary-700 font-medium",children:[n("common.viewDetails"),s.jsx(gy,{size:16})]})]},v.id))})]})})]})},cw=async()=>{try{const n=Ht(Ye,$t.schemes()),e=Es(n,ic("name.en","asc")),t=await wr(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),r}catch(n){throw console.error("Error fetching schemes:",n),n}},LV=async n=>{try{const e=St(Ye,$t.schemes(),n),t=await zs(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){throw console.error("Error fetching scheme:",e),e}},DV=async n=>{try{const e=Ht(Ye,$t.schemes()),t=await bs(e,{...n,createdAt:gt.now(),updatedAt:gt.now()});return console.log("Scheme created successfully with ID:",t.id),t.id}catch(e){throw console.error("Error creating scheme:",e),e}},MV=async(n,e)=>{try{const t=St(Ye,$t.schemes(),n);return await go(t,{...e,updatedAt:gt.now()}),console.log("Scheme updated successfully:",n),n}catch(t){throw console.error("Error updating scheme:",t),t}},OV=async n=>{try{const e=St(Ye,$t.schemes(),n);return await Uo(e),console.log("Scheme deleted successfully:",n),!0}catch(e){throw console.error("Error deleting scheme:",e),e}},FV=()=>{const{t:n,getContent:e}=fs(),[t,r]=W.useState(""),[a,o]=W.useState("All"),[c,u]=W.useState("All"),[h,f]=W.useState([]),[g,x]=W.useState(!0);W.useEffect(()=>{(async()=>{try{x(!0);const j=await cw();f(Array.isArray(j)?j:[])}catch(j){console.error("Error loading schemes:",j),f([])}finally{x(!1)}})()},[]);const v=["All","CENTRAL","STATE","LOCAL","OTHER"],b=["All","ACTIVE","CLOSED","UPCOMING"],T=h.filter(E=>{const j=e(E.name).toLowerCase().includes(t.toLowerCase()),S=a==="All"||E.category===a,L=c==="All"||E.status===c;return j&&S&&L});return g?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):s.jsxs("div",{children:[s.jsx("section",{className:"bg-gradient-to-r from-primary-600 to-primary-800 text-white py-16",children:s.jsxs("div",{className:"container-custom",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:n("nav.schemes")}),s.jsx("p",{className:"text-xl text-primary-100",children:"Government schemes and welfare programs for villagers"})]})}),s.jsx("section",{className:"py-12",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"mb-8 space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:n("common.search"),value:t,onChange:E=>r(E.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex gap-2 flex-wrap",children:v.map(E=>s.jsx("button",{onClick:()=>o(E),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===E?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:E},E))}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:b.map(E=>s.jsx("button",{onClick:()=>u(E),className:`px-4 py-2 rounded-lg font-medium transition-colors ${c===E?"bg-secondary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:E},E))})]})]}),h.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500 text-lg",children:n("common.language")==="en"?"No schemes have been added yet.":"     ."})}):T.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500 text-lg",children:n("common.noResults")})}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:T.map(E=>s.jsxs("div",{className:"card p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 flex-1",children:e(E.name)}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded-full",children:E.category}),s.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${E.status==="ACTIVE"?"bg-green-100 text-green-700":E.status==="CLOSED"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:E.status})]})]}),s.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:e(E.description)}),s.jsxs(_n,{to:`/schemes/${E.id}`,className:"inline-flex items-center gap-1 text-primary-600 hover:text-primary-700 font-medium",children:[n("common.viewDetails"),s.jsx(gy,{size:16})]})]},E.id))})]})})]})},UV="forms",uw=async()=>{try{const n=Ht(Ye,$t.forms()),e=Es(n,ic("createdAt","desc")),t=await wr(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),console.log(`Loaded ${r.length} forms from Firebase`),r}catch(n){throw console.error("Error loading forms:",n),n}},VV=async n=>{try{const e=St(Ye,$t.forms(),n),t=await zs(e);if(t.exists())return{id:t.id,...t.data()};throw new Error("Form not found")}catch(e){throw console.error("Error loading form:",e),e}},gT=async(n,e,t=null)=>{try{if(n.type!=="application/pdf")throw new Error("Only PDF files are allowed");const r=10*1024*1024;if(n.size>r)throw new Error("File size must be less than 10MB");const a=`${Date.now()}_${n.name}`,o=hy(fy,`${UV}/${e}/${a}`),c=FO(o,n);return new Promise((u,h)=>{c.on("state_changed",f=>{const g=f.bytesTransferred/f.totalBytes*100;console.log(`Upload progress: ${g}%`),t&&t(g)},f=>{console.error("Error uploading PDF:",f),h(f)},async()=>{const f=await zA(c.snapshot.ref);console.log("PDF uploaded successfully:",f),u(f)})})}catch(r){throw console.error("Error in uploadPDF:",r),r}},pT=async n=>{try{if(!n){console.log("No file URL provided, skipping deletion");return}const e=n.split("/o/");if(e.length<2){console.warn("Invalid file URL format");return}const t=e[1],r=decodeURIComponent(t.split("?")[0]),a=hy(fy,r);await qA(a),console.log("PDF deleted from storage:",r)}catch(e){if(e.code==="storage/object-not-found")console.log("File already deleted or does not exist");else throw console.error("Error deleting PDF:",e),e}},BV=async(n,e,t=null)=>{try{const r=Ht(Ye,$t.forms()),a={titleEn:n.titleEn||"",titleMr:n.titleMr||"",descriptionEn:n.descriptionEn||"",descriptionMr:n.descriptionMr||"",category:n.category||"General",language:n.language||"BOTH",fileUrl:"",fileName:e.name,fileSize:e.size,createdAt:Xt(),updatedAt:Xt()},o=await bs(r,a);console.log("Form document created with ID:",o.id);const c=await gT(e,o.id,t);return await go(o,{fileUrl:c}),console.log("Form updated with file URL"),o.id}catch(r){throw console.error("Error creating form:",r),r}},zV=async(n,e,t=null,r=null,a=null)=>{try{const o=St(Ye,$t.forms(),n),c={titleEn:e.titleEn||"",titleMr:e.titleMr||"",descriptionEn:e.descriptionEn||"",descriptionMr:e.descriptionMr||"",category:e.category||"General",language:e.language||"BOTH",updatedAt:Xt()};if(t){r&&await pT(r);const u=await gT(t,n,a);c.fileUrl=u,c.fileName=t.name,c.fileSize=t.size}await go(o,c),console.log("Form updated:",n)}catch(o){throw console.error("Error updating form:",o),o}},qV=async(n,e)=>{try{e&&await pT(e);const t=St(Ye,$t.forms(),n);await Uo(t),console.log("Form deleted:",n)}catch(t){throw console.error("Error deleting form:",t),t}},GV=()=>{const{language:n}=fs(),[e,t]=W.useState([]),[r,a]=W.useState(""),[o,c]=W.useState("ALL"),[u,h]=W.useState(!0);W.useEffect(()=>{(async()=>{try{h(!0);const E=await uw();console.log("Fetched forms:",E),console.log("First form data:",E[0]),t(E)}catch(E){console.error("Error loading forms:",E),t([])}finally{h(!1)}})()},[]);const f=["ALL",...new Set(e.map(T=>T.category))],g=e.filter(T=>{const E=T.titleEn&&T.titleEn.toLowerCase().includes(r.toLowerCase())||T.titleMr&&T.titleMr.toLowerCase().includes(r.toLowerCase()),j=o==="ALL"||T.category===o;return E&&j}),x=T=>({Certificate:"from-blue-500 to-blue-600 border-blue-400",APPLICATION:"from-green-500 to-green-600 border-green-400",Tax:"from-orange-500 to-orange-600 border-orange-400",LICENSE:"from-purple-500 to-purple-600 border-purple-400",OTHER:"from-gray-500 to-gray-600 border-gray-400"})[T]||"from-gray-500 to-gray-600 border-gray-400",v=T=>({Certificate:"",APPLICATION:"",Tax:"",LICENSE:"",OTHER:""})[T]||"",b=T=>{console.log("Download clicked for form:",T),console.log("File URL:",T.fileUrl),T.fileUrl&&T.fileUrl.trim()!==""?window.open(T.fileUrl,"_blank"):(console.error("File URL is missing or empty for form:",T.id),alert(n==="en"?"Download link not available. Please contact administrator.":"   .    ."))};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[s.jsxs("section",{className:"relative bg-gradient-to-br from-orange-600 via-white to-green-600 py-20 overflow-hidden",children:[s.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[s.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-10 right-10 w-40 h-40 bg-blue-900 rounded-full blur-3xl"})]}),s.jsx("div",{className:"container-custom relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md px-6 py-3 rounded-full mb-6 border border-white/30 shadow-lg",children:[s.jsx(i4,{className:"text-blue-900",size:24}),s.jsx("span",{className:"text-blue-900 font-bold text-lg",children:n==="en"?"Document Center":" "})]}),s.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 text-blue-900 leading-tight",children:n==="en"?"Forms & Downloads":"  "}),s.jsx("p",{className:"text-xl md:text-2xl text-gray-700 mb-8 leading-relaxed",children:n==="en"?"Download application forms, certificates, and important documents with ease":" ,       "}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-orange-200",children:[s.jsx("div",{className:"text-3xl font-bold text-orange-600",children:e.length}),s.jsx("div",{className:"text-sm text-gray-600 font-medium",children:n==="en"?"Total Forms":" "})]}),s.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-green-200",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:f.length-1}),s.jsx("div",{className:"text-sm text-gray-600 font-medium",children:n==="en"?"Categories":""})]}),s.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-blue-200 col-span-2 md:col-span-1",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"24/7"}),s.jsx("div",{className:"text-sm text-gray-600 font-medium",children:n==="en"?"Available":""})]})]})]})}),s.jsx("div",{className:"absolute bottom-0 left-0 w-full",children:s.jsx("svg",{viewBox:"0 0 1440 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z",fill:"white"})})})]}),s.jsx("section",{className:"py-8 -mt-12 relative z-20",children:s.jsx("div",{className:"container-custom",children:s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl border-t-4 border-orange-600",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(qi,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-orange-500 group-focus-within:text-orange-600 transition-colors",size:22}),s.jsx("input",{type:"text",placeholder:n==="en"?"Search forms by name...":"  ...",value:r,onChange:T=>a(T.target.value),className:"w-full pl-12 pr-4 py-4 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all text-gray-700 font-medium"})]}),s.jsxs("div",{className:"relative group",children:[s.jsx(py,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-green-600 group-focus-within:text-green-700 transition-colors z-10",size:22}),s.jsx("select",{value:o,onChange:T=>c(T.target.value),className:"w-full pl-12 pr-4 py-4 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-green-600 focus:ring-2 focus:ring-green-200 appearance-none bg-white transition-all text-gray-700 font-medium cursor-pointer",children:f.map(T=>s.jsx("option",{value:T,children:T==="ALL"?n==="en"?" All Categories":"  ":`${v(T)} ${T}`},T))}),s.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),r||o!=="ALL"?s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[s.jsx(Os,{size:16,className:"text-orange-500"}),s.jsx("span",{children:n==="en"?`Found ${g.length} form${g.length!==1?"s":""}`:`${g.length}  `})]})}):null]})})}),s.jsx("section",{className:"py-12",children:s.jsxs("div",{className:"container-custom",children:[u?s.jsxs("div",{className:"flex flex-col justify-center items-center py-20",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-b-4 border-t-4 border-orange-600"}),s.jsx(hr,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-orange-600",size:32})]}),s.jsx("p",{className:"text-gray-600 font-semibold mt-6 text-lg",children:n==="en"?"Loading forms...":"   ..."})]}):g.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:g.map((T,E)=>s.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-lg border-t-4 border-orange-600 overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2",style:{animationDelay:`${E*50}ms`},children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-orange-100 to-green-100 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsx("div",{className:"relative bg-gradient-to-r from-blue-900 to-blue-800 p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-4 bg-white/20 backdrop-blur-sm rounded-xl shadow-lg group-hover:scale-110 transition-transform duration-300",children:s.jsx(hr,{className:"text-white",size:32})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-white text-lg leading-tight mb-2 line-clamp-2",children:n==="en"?T.titleEn:T.titleMr||T.titleEn}),s.jsx("div",{className:"inline-flex items-center gap-2",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r ${x(T.category)} text-white shadow-md border-2`,children:[v(T.category)," ",T.category]})})]})]})}),s.jsxs("div",{className:"relative p-6 space-y-4",children:[s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-3 min-h-[60px]",children:n==="en"?T.descriptionEn:T.descriptionMr||T.descriptionEn}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[T.language&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-semibold bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-md",children:[s.jsx(Tf,{size:14}),T.language]}),T.createdAt&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-semibold bg-gray-100 text-gray-700 border border-gray-300",children:[s.jsx(Zr,{size:14}),(()=>{try{return(T.createdAt?.toDate?T.createdAt.toDate():new Date(T.createdAt)).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}catch{return"Recent"}})()]})]}),s.jsxs("button",{onClick:()=>b(T),className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-xl hover:from-orange-700 hover:to-orange-600 transition-all shadow-lg hover:shadow-xl font-bold text-sm group-hover:scale-105 transform duration-300",children:[s.jsx(Vo,{size:20,className:"animate-bounce"}),s.jsx("span",{children:n==="en"?"Download Form":"  "}),s.jsx(Oc,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]}),T.fileName&&s.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-gray-100 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600 flex-1 min-w-0",children:[s.jsx(XF,{size:14,className:"flex-shrink-0 text-blue-600"}),s.jsx("span",{className:"truncate font-medium",children:T.fileName})]}),T.fileSize&&s.jsxs("span",{className:"ml-3 text-gray-500 font-semibold bg-white px-2 py-1 rounded-md border border-gray-300",children:[(T.fileSize/1024).toFixed(1)," KB"]})]})}),s.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsx(Os,{className:"text-yellow-400",size:24})})]},T.id))}):s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"inline-block p-8 bg-gradient-to-br from-orange-50 to-green-50 rounded-full mb-6 border-4 border-orange-200",children:s.jsx(i4,{size:80,className:"text-orange-600"})}),s.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-3",children:n==="en"?"No Forms Available":"   "}),s.jsx("p",{className:"text-gray-600 text-lg max-w-md mx-auto",children:n==="en"?"Forms and documents will be displayed here once they are uploaded by the admin.":"         ."})]}),g.length>0&&s.jsxs("div",{className:"mt-16 bg-gradient-to-br from-blue-50 via-white to-green-50 border-2 border-blue-300 rounded-2xl p-8 shadow-xl",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl shadow-lg",children:s.jsx(v2,{className:"text-white",size:28})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2",children:n==="en"?"How to Download & Submit Forms":"     "}),s.jsx("p",{className:"text-gray-600",children:n==="en"?"Follow these simple steps to complete your application":"        "})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"relative bg-white rounded-xl p-6 shadow-md border-t-4 border-orange-600 hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"absolute -top-4 left-6 w-12 h-12 bg-gradient-to-br from-orange-600 to-orange-700 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:"1"}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(Vo,{className:"text-orange-600",size:24}),s.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:n==="en"?"Download":""})]}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n==="en"?'Click the "Download Form" button to get the PDF file on your device':'  PDF   "  "   '})]})]}),s.jsxs("div",{className:"relative bg-white rounded-xl p-6 shadow-md border-t-4 border-green-600 hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"absolute -top-4 left-6 w-12 h-12 bg-gradient-to-br from-green-600 to-green-700 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:"2"}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(WF,{className:"text-green-600",size:24}),s.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:n==="en"?"Fill Form":" "})]}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n==="en"?"Complete all required fields accurately and attach necessary documents":"         "})]})]}),s.jsxs("div",{className:"relative bg-white rounded-xl p-6 shadow-md border-t-4 border-blue-600 hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"absolute -top-4 left-6 w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:"3"}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(Bi,{className:"text-blue-600",size:24}),s.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:n==="en"?"Submit":" "})]}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n==="en"?"Submit the completed form at the Gram Panchayat office during working hours":"        "})]})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-800 flex items-start gap-2",children:[s.jsx(v2,{size:18,className:"flex-shrink-0 mt-0.5"}),s.jsx("span",{children:n==="en"?"For any assistance, please contact the Gram Panchayat office during working hours or call our helpline.":" ,            ."})]})})]})]})})]})},HV=()=>{const{t:n,language:e}=fs(),[t,r]=W.useState(null),[a,o]=W.useState(!0);return W.useEffect(()=>{(async()=>{try{o(!0);const u=await fT();r(u)}catch(u){console.error("Error loading education content:",u),r(null)}finally{o(!1)}})()},[]),a?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#ff6b00]"})}):t?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("section",{className:"relative bg-gradient-to-br from-orange-600 via-white to-green-600 py-20",children:[s.jsx("div",{className:"absolute inset-0 bg-white/85 backdrop-blur-sm"}),s.jsx("div",{className:"container-custom relative z-10",children:s.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[s.jsxs("div",{className:"inline-flex items-center gap-3 mb-6 px-6 py-3 bg-gradient-to-r from-orange-600 to-green-600 rounded-full shadow-lg",children:[s.jsx(o4,{className:"text-white",size:32}),s.jsx("span",{className:"text-white font-bold text-xl",children:e==="en"?"Education":""})]}),s.jsx("h1",{className:"text-5xl font-bold mb-6 bg-gradient-to-r from-orange-600 to-green-600 bg-clip-text text-transparent",children:n("nav.education")}),s.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:e==="en"?t.description.en:t.description.mr}),s.jsxs("div",{className:"mt-8 flex items-center justify-center gap-8 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-orange-600 rounded-full"}),s.jsx("span",{children:e==="en"?"Knowledge & Wisdom":"  "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full"}),s.jsx("span",{children:e==="en"?"Growth & Progress":"  "})]})]})]})})]}),s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),s.jsx(Kd,{className:"text-blue-900",size:32}),s.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),s.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e==="en"?"Education at a Glance":"  "}),s.jsx("p",{className:"text-gray-600",children:"Key metrics and achievements in education"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"group bg-gradient-to-br from-blue-50 to-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all border-t-4 border-blue-600 hover:scale-105",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(Ju,{className:"text-white",size:32})}),s.jsx(Os,{className:"text-blue-300",size:24})]}),s.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:t.stats.literacyRate}),s.jsx("div",{className:"text-gray-700 font-semibold",children:e==="en"?"Literacy Rate":" "})]}),s.jsxs("div",{className:"group bg-gradient-to-br from-green-50 to-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all border-t-4 border-green-600 hover:scale-105",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-600 to-green-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(Us,{className:"text-white",size:32})}),s.jsx(Os,{className:"text-green-300",size:24})]}),s.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:t.stats.totalStudents}),s.jsx("div",{className:"text-gray-700 font-semibold",children:e==="en"?"Total Students":" "})]}),s.jsxs("div",{className:"group bg-gradient-to-br from-orange-50 to-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all border-t-4 border-orange-600 hover:scale-105",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-600 to-orange-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(o4,{className:"text-white",size:32})}),s.jsx(Os,{className:"text-orange-300",size:24})]}),s.jsx("div",{className:"text-4xl font-bold text-orange-600 mb-2",children:t.stats.totalTeachers}),s.jsx("div",{className:"text-gray-700 font-semibold",children:e==="en"?"Total Teachers":" "})]}),s.jsxs("div",{className:"group bg-gradient-to-br from-purple-50 to-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all border-t-4 border-purple-600 hover:scale-105",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-purple-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(oT,{className:"text-white",size:32})}),s.jsx(Os,{className:"text-purple-300",size:24})]}),s.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:t.stats.schoolDropoutRate}),s.jsx("div",{className:"text-gray-700 font-semibold",children:e==="en"?"Dropout Rate":"  "})]})]})]})}),t.schools.length>0&&s.jsx("section",{className:"py-16 bg-gradient-to-br from-orange-50 via-white to-green-50",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),s.jsx(N2,{className:"text-blue-900",size:32}),s.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),s.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e==="en"?"Our Schools":" "}),s.jsx("p",{className:"text-gray-600",children:"Centers of excellence nurturing young minds"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.schools.map((c,u)=>s.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all overflow-hidden border-t-4 border-orange-600 hover:scale-105",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2 group-hover:text-orange-600 transition-colors",children:e==="en"?c.name.en:c.name.mr}),s.jsx("span",{className:"inline-block px-4 py-1 bg-gradient-to-r from-orange-100 to-green-100 text-orange-700 rounded-full text-sm font-semibold",children:e==="en"?c.type.en:c.type.mr})]}),s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:u+1})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-xl text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:c.students}),s.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:e==="en"?"Students":""})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-xl text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:c.teachers}),s.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:e==="en"?"Teachers":""})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-xl text-center",children:[s.jsx("div",{className:"text-lg font-bold text-orange-600 mb-1",children:c.classes}),s.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:e==="en"?"Classes":""})]})]}),s.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:e==="en"?c.description.en:c.description.mr}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-green-50 p-6 rounded-xl border border-orange-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Ju,{className:"text-orange-600",size:20}),s.jsx("div",{className:"text-sm font-bold text-blue-900",children:e==="en"?"Facilities & Amenities":"  "})]}),s.jsx("div",{className:"text-sm text-gray-700 leading-relaxed",children:e==="en"?c.facilities.en:c.facilities.mr})]})]})]},c.id))})]})}),t.anganwadis.length>0&&s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),s.jsx(x2,{className:"text-blue-900",size:32}),s.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),s.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e==="en"?"Anganwadi Centers":""}),s.jsx("p",{className:"text-gray-600",children:"Early childhood care and development"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.anganwadis.map((c,u)=>s.jsxs("div",{className:"group bg-gradient-to-br from-green-50 via-white to-orange-50 rounded-2xl shadow-xl hover:shadow-2xl transition-all overflow-hidden border-t-4 border-green-600 hover:scale-105",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-600 to-orange-600 h-2"}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2 group-hover:text-green-600 transition-colors",children:e==="en"?c.name.en:c.name.mr}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),s.jsx("span",{className:"font-semibold",children:e==="en"?c.location.en:c.location.mr})]})]}),s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-600 to-orange-600 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:u+1})]}),s.jsx("div",{className:"bg-gradient-to-br from-green-100 to-orange-100 p-6 rounded-xl mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-1",children:c.children}),s.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:e==="en"?"Children":""})]}),s.jsx("div",{className:"w-px h-12 bg-gray-300"}),s.jsxs("div",{className:"text-center px-4",children:[s.jsx(x2,{className:"mx-auto text-orange-600 mb-1",size:28}),s.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:e==="en"?"Age 0-6":" -"})]})]})}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 bg-white p-3 rounded-lg border border-green-200",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-600 to-green-700 rounded-full flex items-center justify-center",children:s.jsx(Us,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 font-semibold",children:e==="en"?"Worker":""}),s.jsx("div",{className:"text-sm font-bold text-gray-800",children:e==="en"?c.worker.en:c.worker.mr})]})]}),s.jsxs("div",{className:"flex items-center gap-3 bg-white p-3 rounded-lg border border-orange-200",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-600 to-orange-700 rounded-full flex items-center justify-center",children:s.jsx(Us,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 font-semibold",children:e==="en"?"Helper":""}),s.jsx("div",{className:"text-sm font-bold text-gray-800",children:e==="en"?c.helper.en:c.helper.mr})]})]})]}),s.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:e==="en"?c.description.en:c.description.mr}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-orange-50 p-6 rounded-xl border border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Ju,{className:"text-green-600",size:20}),s.jsx("div",{className:"text-sm font-bold text-blue-900",children:e==="en"?"Services Provided":"  "})]}),s.jsx("div",{className:"text-sm text-gray-700 leading-relaxed",children:e==="en"?c.services.en:c.services.mr})]})]})]},c.id))})]})}),t.programs.length>0&&s.jsx("section",{className:"py-16 bg-gradient-to-br from-orange-50 via-white to-green-50",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),s.jsx(zg,{className:"text-blue-900",size:32}),s.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),s.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e==="en"?"Educational Programs":" "}),s.jsx("p",{className:"text-gray-600",children:"Empowering communities through learning initiatives"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.programs.map((c,u)=>s.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all overflow-hidden border-t-4 border-blue-600 hover:scale-105",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 h-2"}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(zg,{className:"text-white",size:24})}),s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:u+1})]}),s.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4 group-hover:text-blue-600 transition-colors leading-snug",children:e==="en"?c.name.en:c.name.mr}),s.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:e==="en"?c.description.en:c.description.mr}),s.jsxs("div",{className:"space-y-3",children:[c.timing&&s.jsxs("div",{className:"flex items-start gap-3 bg-gradient-to-r from-blue-50 to-purple-50 p-3 rounded-lg border border-blue-200",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 font-semibold mb-1",children:e==="en"?"Timing":""}),s.jsx("div",{className:"text-sm text-gray-800 font-medium",children:e==="en"?c.timing.en:c.timing.mr})]})]}),c.participants&&s.jsxs("div",{className:"flex items-start gap-3 bg-gradient-to-r from-green-50 to-orange-50 p-3 rounded-lg border border-green-200",children:[s.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 font-semibold mb-1",children:e==="en"?"Participants":""}),s.jsx("div",{className:"text-sm text-gray-800 font-medium",children:c.participants})]})]}),c.beneficiaries&&s.jsxs("div",{className:"flex items-start gap-3 bg-gradient-to-r from-green-50 to-orange-50 p-3 rounded-lg border border-green-200",children:[s.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 font-semibold mb-1",children:e==="en"?"Beneficiaries":""}),s.jsx("div",{className:"text-sm text-gray-800 font-medium",children:c.beneficiaries})]})]}),c.coordinator&&s.jsxs("div",{className:"flex items-start gap-3 bg-gradient-to-r from-orange-50 to-purple-50 p-3 rounded-lg border border-orange-200",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-600 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 font-semibold mb-1",children:e==="en"?"Coordinator":""}),s.jsx("div",{className:"text-sm text-gray-800 font-medium",children:e==="en"?c.coordinator.en:c.coordinator.mr})]})]})]})]})]},c.id))})]})})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-16",children:s.jsxs("div",{className:"container-custom text-center",children:[s.jsx(N2,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:e==="en"?"No Education Data Available":"   "}),s.jsx("p",{className:"text-gray-600",children:e==="en"?"Education information has not been added yet.":"     ."})]})})},dw=async()=>{try{const n=Es(Ht(Ye,$t.gallery()),ic("date","desc"));return(await wr(n)).docs.map(t=>({id:t.id,...t.data(),date:t.data().date?.toDate?.()||new Date(t.data().date),createdAt:t.data().createdAt?.toDate?.()||new Date,updatedAt:t.data().updatedAt?.toDate?.()||new Date}))}catch(n){throw console.error("Error getting gallery programs:",n),new Error("Failed to fetch gallery programs")}},xT=async n=>{try{const e=St(Ye,$t.gallery(),n),t=await zs(e);if(!t.exists())throw new Error("Program not found");return{id:t.id,...t.data(),date:t.data().date?.toDate?.()||new Date(t.data().date),createdAt:t.data().createdAt?.toDate?.()||new Date,updatedAt:t.data().updatedAt?.toDate?.()||new Date}}catch(e){throw console.error("Error getting program:",e),new Error("Failed to fetch program")}},$V=async(n,e=[])=>{try{let t=[];if(e&&e.length>0){const o=`gallery/${Date.now()}`;t=await mT(e,o)}const r={titleEn:n.titleEn||"",titleMr:n.titleMr||"",descriptionEn:n.descriptionEn||"",descriptionMr:n.descriptionMr||"",date:gt.fromDate(new Date(n.date)),images:t,youtubeLink:n.youtubeLink||"",createdAt:Xt(),updatedAt:Xt()};return{id:(await bs(Ht(Ye,$t.gallery()),r)).id,...r,date:new Date(n.date),createdAt:new Date,updatedAt:new Date}}catch(t){throw console.error("Error creating program:",t),new Error("Failed to create gallery program")}},WV=async(n,e,t=[],r=[])=>{try{const a=St(Ye,$t.gallery(),n);let o=[];if(t&&t.length>0){const h=`gallery/${n}`;o=await mT(t,h)}const c=[...r,...o],u={titleEn:e.titleEn||"",titleMr:e.titleMr||"",descriptionEn:e.descriptionEn||"",descriptionMr:e.descriptionMr||"",date:gt.fromDate(new Date(e.date)),images:c,youtubeLink:e.youtubeLink||"",updatedAt:Xt()};return await go(a,u),{id:n,...u,date:new Date(e.date),updatedAt:new Date}}catch(a){throw console.error("Error updating program:",a),new Error("Failed to update gallery program")}},KV=async n=>{try{const e=await xT(n);e.images&&e.images.length>0&&await Promise.all(e.images.map(t=>vy(t).catch(r=>{console.warn("Failed to delete image:",t,r)}))),await Uo(St(Ye,$t.gallery(),n))}catch(e){throw console.error("Error deleting program:",e),new Error("Failed to delete gallery program")}},i1=n=>{if(!n)return null;n=n.trim();const e=[/(?:youtube\.com\/watch\?v=)([^&\s]+)/,/(?:youtube\.com\/embed\/)([^?&\s]+)/,/(?:youtube\.com\/v\/)([^?&\s]+)/,/(?:youtu\.be\/)([^?&\s]+)/,/(?:youtube\.com\/watch\?.*&v=)([^&\s]+)/];for(const t of e){const r=n.match(t);if(r&&r[1])return r[1]}return null},YV=n=>`https://www.youtube.com/embed/${n}?rel=0&modestbranding=1`,XV=(n,e="hqdefault")=>`https://img.youtube.com/vi/${n}/${e}.jpg`,QV=()=>{const{language:n}=fs(),[e,t]=W.useState([]),[r,a]=W.useState(!0),[o,c]=W.useState(null),[u,h]=W.useState(0),[f,g]=W.useState(0);W.useEffect(()=>{x()},[]);const x=async()=>{try{a(!0);const O=(await dw()).sort((te,ee)=>new Date(ee.date)-new Date(te.date));t(O)}catch(D){console.error("Error loading gallery programs:",D),t([])}finally{a(!1)}},v=D=>new Date(D).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),b=(D,O)=>{c(D),h(O),g(0)},T=()=>{c(null),g(0)},E=()=>{if(!o)return;const D=S(o),O=f===0?D-1:f-1;g(O)},j=()=>{if(!o)return;const D=S(o),O=f===D-1?0:f+1;g(O)},S=D=>{const O=D.images&&D.images.length>0?D.images.length:0,te=D.youtubeLink&&i1(D.youtubeLink)?1:0;return O+te},L=(D,O)=>{if(!D)return!1;const te=D.images&&D.images.length>0?D.images.length:0;return O>=te};return W.useEffect(()=>{const D=O=>{if(!o)return;const te=S(o);O.key==="ArrowLeft"&&te>1&&E(),O.key==="ArrowRight"&&te>1&&j(),O.key==="Escape"&&T()};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[o,u,f]),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("section",{className:"relative bg-gradient-to-br from-orange-600 via-white to-green-600 py-20",children:[s.jsx("div",{className:"absolute inset-0 bg-white/85 backdrop-blur-sm"}),s.jsx("div",{className:"container-custom relative z-10",children:s.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[s.jsxs("div",{className:"inline-flex items-center gap-3 mb-6 px-6 py-3 bg-gradient-to-r from-orange-600 to-green-600 rounded-full shadow-lg",children:[s.jsx(s4,{className:"text-white",size:32}),s.jsx("span",{className:"text-white font-bold text-xl",children:n==="en"?"Photo Gallery":" "})]}),s.jsx("h1",{className:"text-5xl font-bold mb-6 bg-gradient-to-r from-orange-600 to-green-600 bg-clip-text text-transparent",children:n==="en"?"Visual Chronicles":" "}),s.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:n==="en"?"Capturing moments of progress, celebration, and community spirit in our village":"  ,      "}),s.jsxs("div",{className:"mt-8 flex items-center justify-center gap-8 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-orange-600 rounded-full"}),s.jsx("span",{children:n==="en"?"Events & Programs":"  "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full"}),s.jsx("span",{children:n==="en"?"Development Activities":" "})]})]})]})})]}),s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),s.jsx(Ma,{className:"text-blue-900",size:32}),s.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),s.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:n==="en"?"Programs & Events":"  "}),s.jsx("p",{className:"text-gray-600",children:n==="en"?"Browse through our collection of memorable moments":"    "})]}),r?s.jsxs("div",{className:"flex flex-col justify-center items-center py-16",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-orange-600 mb-4"}),s.jsx("p",{className:"text-gray-600 font-semibold",children:n==="en"?"Loading gallery...":"   ..."})]}):e.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((D,O)=>{const te=D.youtubeLink?i1(D.youtubeLink):null,ee=te!==null,G=D.images&&D.images.length>0,U=ee?XV(te,"hqdefault"):G?D.images[0]:"https://via.placeholder.com/400x300?text=No+Media",k=(G?D.images.length:0)+(ee?1:0);return s.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl overflow-hidden cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-2xl border-t-4 border-orange-600",onClick:()=>b(D,O),children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),s.jsxs("div",{className:"relative h-64 overflow-hidden bg-gradient-to-br from-orange-100 to-green-100",children:[s.jsx("img",{src:U,alt:n==="en"?D.titleEn:D.titleMr,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:F=>{F.target.src="https://via.placeholder.com/400x300?text=No+Media"}}),ee&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsx("div",{className:"w-20 h-20 bg-red-600/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-2xl transform transition-transform group-hover:scale-110",children:s.jsx("div",{className:"w-0 h-0 border-t-8 border-t-transparent border-l-12 border-l-white border-b-8 border-b-transparent ml-1"})})}),k>1&&s.jsx("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-orange-600 to-green-600 text-white px-4 py-2 rounded-full text-sm font-bold flex items-center gap-2 shadow-lg",children:G&&ee?s.jsxs(s.Fragment,{children:[s.jsx(Ma,{size:16}),s.jsx("span",{children:D.images.length}),s.jsx(j2,{size:16}),s.jsx("span",{children:"1"})]}):G?s.jsxs(s.Fragment,{children:[s.jsx(Ma,{size:16}),s.jsxs("span",{children:[D.images.length," ",n==="en"?"Photos":""]})]}):null}),s.jsx("div",{className:"absolute top-4 left-4 w-12 h-12 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center text-blue-900 font-bold text-lg shadow-lg",children:O+1}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center",children:s.jsxs("div",{className:"text-white text-center p-6 transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:[s.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(zi,{size:32})}),s.jsx("p",{className:"font-bold text-lg",children:n==="en"?"View Gallery":" "}),k>0&&s.jsxs("p",{className:"text-sm text-white/80 mt-1",children:[G&&`${D.images.length} ${n==="en"?"photos":""}`,G&&ee&&" + ",ee&&`1 ${n==="en"?"video":""}`]})]})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"font-bold text-xl text-blue-900 mb-2 line-clamp-2 flex-1 group-hover:text-orange-600 transition-colors",children:n==="en"?D.titleEn:D.titleMr||D.titleEn}),s.jsx(Os,{className:"text-orange-500 flex-shrink-0 ml-2",size:20})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed",children:n==="en"?D.descriptionEn:D.descriptionMr||D.descriptionEn}),s.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-orange-50 to-green-50 px-4 py-2 rounded-lg border border-orange-200",children:[s.jsx(Zr,{size:16,className:"text-orange-600"}),s.jsx("span",{className:"text-sm font-semibold text-gray-700",children:v(D.date)})]})]})]},D.id)})}):s.jsxs("div",{className:"text-center py-16 bg-gradient-to-br from-orange-50 to-green-50 rounded-2xl border-2 border-dashed border-orange-300",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-orange-100 to-green-100 rounded-full mb-6",children:s.jsx(Ma,{size:48,className:"text-orange-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-3",children:n==="en"?"No Photos Available":"   "}),s.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:n==="en"?"Photos and programs will be displayed here once they are uploaded by the admin.":"         ."})]})]})}),o&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-hidden",onClick:T,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/95 via-blue-900/80 to-black/95 backdrop-blur-sm"}),s.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-orange-600/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-green-600/10 rounded-full blur-3xl"}),s.jsxs("div",{className:"relative max-w-7xl w-full max-h-[95vh] flex flex-col z-10",onClick:D=>D.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 bg-white/10 backdrop-blur-md rounded-2xl px-6 py-4 border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center shadow-lg",children:s.jsx(s4,{size:24,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-white font-bold text-xl",children:n==="en"?"Photo Gallery":" "}),s.jsx("p",{className:"text-white/70 text-sm",children:n==="en"?o.titleEn:o.titleMr||o.titleEn})]})]}),s.jsx("button",{onClick:T,className:"w-12 h-12 bg-white/10 hover:bg-red-600 backdrop-blur-sm text-white rounded-full flex items-center justify-center transition-all shadow-lg hover:shadow-red-500/50 hover:scale-110","aria-label":"Close",children:s.jsx(pi,{size:24})})]}),S(o)>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:D=>{D.stopPropagation(),E()},className:"absolute left-4 top-1/2 -translate-y-1/2 w-14 h-14 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 backdrop-blur-sm text-white rounded-full flex items-center justify-center transition-all z-20 shadow-xl hover:scale-110","aria-label":"Previous Media",children:s.jsx(CF,{size:32})}),s.jsx("button",{onClick:D=>{D.stopPropagation(),j()},className:"absolute right-4 top-1/2 -translate-y-1/2 w-14 h-14 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 backdrop-blur-sm text-white rounded-full flex items-center justify-center transition-all z-20 shadow-xl hover:scale-110","aria-label":"Next Media",children:s.jsx(gy,{size:32})})]}),s.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-black/50 to-blue-900/30 backdrop-blur-md rounded-2xl mb-4 p-8 border border-white/20 shadow-2xl overflow-hidden",children:s.jsx("div",{className:"relative w-full",children:L(o,f)?s.jsxs("div",{className:"w-full max-w-5xl mx-auto",children:[s.jsxs("div",{className:"relative pb-[56.25%]",children:[" ",s.jsx("iframe",{src:YV(i1(o.youtubeLink)),title:`${n==="en"?o.titleEn:o.titleMr} - YouTube Video`,className:"absolute top-0 left-0 w-full h-full rounded-xl shadow-2xl",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]}),s.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-red-600 to-red-700 text-white px-5 py-2 rounded-full font-bold text-lg shadow-xl flex items-center gap-2",children:[s.jsx(j2,{size:20}),s.jsx("span",{children:n==="en"?"YouTube Video":"YouTube "})]})]}):s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("img",{src:o.images[f],alt:`${n==="en"?o.titleEn:o.titleMr} - Image ${f+1}`,className:"max-w-full max-h-[60vh] object-contain rounded-xl shadow-2xl",onError:D=>{D.target.src="https://via.placeholder.com/800x600?text=No+Image"}}),o.images&&o.images.length>0&&s.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-orange-600 to-green-600 text-white px-5 py-2 rounded-full font-bold text-lg shadow-xl flex items-center gap-2",children:[s.jsx(Ma,{size:20}),s.jsxs("span",{children:[f+1," / ",o.images.length]})]})]})})}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl p-6 text-white border border-white/20 shadow-2xl",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600/20 to-green-600/20 h-1 rounded-full mb-6"}),s.jsx("div",{className:"flex justify-between items-start mb-6",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center shadow-lg",children:s.jsx(Os,{size:20,className:"text-white"})}),s.jsx("h3",{className:"text-2xl font-bold text-white",children:n==="en"?o.titleEn:o.titleMr||o.titleEn})]}),s.jsx("p",{className:"text-white/80 mb-4 leading-relaxed pl-13",children:n==="en"?o.descriptionEn:o.descriptionMr||o.descriptionEn}),s.jsxs("div",{className:"flex items-center gap-3 bg-white/10 backdrop-blur-sm px-4 py-3 rounded-xl border border-white/20 w-fit",children:[s.jsx(Zr,{size:20,className:"text-orange-400"}),s.jsx("span",{className:"font-semibold",children:v(o.date)})]})]})}),o.images.length>1&&s.jsxs("div",{className:"border-t border-white/20 pt-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center",children:s.jsx(Ma,{size:16,className:"text-white"})}),s.jsx("h4",{className:"font-bold text-white",children:n==="en"?"All Photos":" "}),s.jsxs("span",{className:"text-white/60 text-sm",children:["(",o.images.length,")"]})]}),s.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-orange-600 scrollbar-track-white/10",children:o.images.map((D,O)=>s.jsxs("button",{onClick:te=>{te.stopPropagation(),g(O)},className:`relative flex-shrink-0 w-24 h-24 rounded-xl overflow-hidden transition-all group ${O===f?"ring-4 ring-orange-500 scale-110 shadow-xl shadow-orange-500/50":"ring-2 ring-white/30 hover:ring-white/60 hover:scale-105"}`,children:[s.jsx("img",{src:D,alt:`Thumbnail ${O+1}`,className:"w-full h-full object-cover",onError:te=>{te.target.src="https://via.placeholder.com/80x80?text=No+Image"}}),O===f&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-orange-600/50 to-transparent flex items-end justify-center pb-1",children:s.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-lg",children:s.jsx(zi,{size:14,className:"text-orange-600"})})}),s.jsx("div",{className:"absolute top-1 right-1 w-6 h-6 bg-black/70 backdrop-blur-sm rounded-full flex items-center justify-center text-white text-xs font-bold",children:O+1})]},O))})]})]}),s.jsxs("div",{className:"mt-3 flex items-center justify-center gap-6 text-white/50 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("kbd",{className:"px-2 py-1 bg-white/10 rounded border border-white/20",children:""}),s.jsx("span",{children:n==="en"?"Previous":""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("kbd",{className:"px-2 py-1 bg-white/10 rounded border border-white/20",children:""}),s.jsx("span",{children:n==="en"?"Next":""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("kbd",{className:"px-2 py-1 bg-white/10 rounded border border-white/20",children:"ESC"}),s.jsx("span",{children:n==="en"?"Close":" "})]})]})]})]})]})},yT=Ht(Ye,$t.financials()),bT=async()=>{try{const n=Es(yT,ic("transactionDate","desc")),e=await wr(n),t=[];return e.forEach(r=>{const a=r.data();t.push({id:r.id,...a,transactionDate:a.transactionDate?.toDate?.()?.toISOString?.()||a.transactionDate,createdAt:a.createdAt?.toDate?.()?.toISOString?.()||a.createdAt,updatedAt:a.updatedAt?.toDate?.()?.toISOString?.()||a.updatedAt})}),t}catch(n){throw console.error("Error fetching financial records:",n),new Error("Failed to fetch financial records")}},JV=async n=>{try{const e=St(Ye,$t.financials(),n),t=await zs(e);if(t.exists()){const r=t.data();return{id:t.id,...r,transactionDate:r.transactionDate?.toDate?.()?.toISOString?.()||r.transactionDate,createdAt:r.createdAt?.toDate?.()?.toISOString?.()||r.createdAt,updatedAt:r.updatedAt?.toDate?.()?.toISOString?.()||r.updatedAt}}else throw new Error("Record not found")}catch(e){throw console.error("Error fetching record:",e),new Error("Failed to fetch record")}},ZV=async n=>{try{if(!n.type||!n.category||!n.amount||!n.transactionDate)throw new Error("Missing required fields");const e=n.transactionDate instanceof Date?gt.fromDate(n.transactionDate):gt.fromDate(new Date(n.transactionDate)),t={type:n.type,category:n.category,subcategory:n.subcategory||"",subcategoryMr:n.subcategoryMr||"",amount:parseFloat(n.amount),description:n.description||"",descriptionMr:n.descriptionMr||"",transactionDate:e,paymentMode:n.paymentMode||"CASH",referenceNumber:n.referenceNumber||"",receivedFrom:n.receivedFrom||"",receivedFromMr:n.receivedFromMr||"",paidTo:n.paidTo||"",paidToMr:n.paidToMr||"",attachment:n.attachment||null,createdAt:gt.now(),updatedAt:gt.now()},r=await bs(yT,t);return console.log("Financial record created with ID:",r.id),r.id}catch(e){throw console.error("Error creating financial record:",e),new Error("Failed to create financial record")}},eB=async(n,e)=>{try{const t=St(Ye,$t.financials(),n);let r=e.transactionDate;r&&!(r instanceof gt)&&(r=r instanceof Date?gt.fromDate(r):gt.fromDate(new Date(r)));const a={...e,...r&&{transactionDate:r},...e.amount&&{amount:parseFloat(e.amount)},updatedAt:gt.now()};Object.keys(a).forEach(o=>a[o]===void 0&&delete a[o]),await go(t,a),console.log("Financial record updated:",n)}catch(t){throw console.error("Error updating financial record:",t),new Error("Failed to update financial record")}},tB=async n=>{try{const e=St(Ye,$t.financials(),n);await Uo(e),console.log("Financial record deleted:",n)}catch(e){throw console.error("Error deleting financial record:",e),new Error("Failed to delete financial record")}},nB=()=>{const{t:n,language:e}=fs(),[t,r]=W.useState([]),[a,o]=W.useState("ALL"),[c,u]=W.useState("ALL"),[h,f]=W.useState(!0);W.useEffect(()=>{(async()=>{try{f(!0);const j=await bT();r(j)}catch(j){console.error("Error loading transactions:",j),r([])}finally{f(!1)}})()},[]);const g={totalIncome:t.filter(E=>E.type==="INCOME").reduce((E,j)=>E+j.amount,0),totalExpense:t.filter(E=>E.type==="EXPENSE").reduce((E,j)=>E+j.amount,0),balance:0,transactionCount:t.length};g.balance=g.totalIncome-g.totalExpense;const x=["ALL",...new Set(t.map(E=>new Date(E.transactionDate).getFullYear()))],v=t.filter(E=>{const j=a==="ALL"||E.type===a,S=c==="ALL"||new Date(E.transactionDate).getFullYear().toString()===c;return j&&S}),b=E=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(E),T=E=>new Date(E).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"});return h?s.jsxs("div",{children:[s.jsx("section",{className:"bg-gradient-to-r from-[#ff6b00] to-[#ff8533] text-white py-16",children:s.jsxs("div",{className:"container-custom",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:e==="en"?"Financial Transparency":" "}),s.jsx("p",{className:"text-xl text-white/90",children:e==="en"?"Complete transparency of Gram Panchayat income and expenditure":"     "})]})}),s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#ff6b00]"})})]}):s.jsxs("div",{children:[s.jsx("section",{className:"bg-gradient-to-r from-[#ff6b00] to-[#ff8533] text-white py-16",children:s.jsxs("div",{className:"container-custom",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:e==="en"?"Financial Transparency":" "}),s.jsx("p",{className:"text-xl text-white/90",children:e==="en"?"Complete transparency of Gram Panchayat income and expenditure":"     "})]})}),s.jsx("section",{className:"py-12 bg-gray-50",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-green-300 shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Kd,{className:"text-green-600",size:24})}),s.jsx("span",{className:"text-green-700 font-semibold text-sm",children:e==="en"?"Total Income":" "})]}),s.jsx("div",{className:"text-3xl font-bold text-green-800",children:b(g.totalIncome)}),s.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[t.filter(E=>E.type==="INCOME").length," ",e==="en"?"transactions":""]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-red-300 shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:s.jsx(vg,{className:"text-red-600",size:24})}),s.jsx("span",{className:"text-red-700 font-semibold text-sm",children:e==="en"?"Total Expense":" "})]}),s.jsx("div",{className:"text-3xl font-bold text-red-800",children:b(g.totalExpense)}),s.jsxs("div",{className:"text-sm text-red-600 mt-1",children:[t.filter(E=>E.type==="EXPENSE").length," ",e==="en"?"transactions":""]})]}),s.jsxs("div",{className:`bg-white p-6 rounded-xl border-2 ${g.balance>=0?"border-blue-300":"border-orange-300"} shadow-lg`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:`p-3 ${g.balance>=0?"bg-blue-100":"bg-orange-100"} rounded-lg`,children:s.jsx(_2,{className:`${g.balance>=0?"text-blue-600":"text-orange-600"}`,size:24})}),s.jsx("span",{className:`${g.balance>=0?"text-blue-700":"text-orange-700"} font-semibold text-sm`,children:e==="en"?"Balance":""})]}),s.jsx("div",{className:`text-3xl font-bold ${g.balance>=0?"text-blue-800":"text-orange-800"}`,children:b(g.balance)}),s.jsx("div",{className:`text-sm ${g.balance>=0?"text-blue-600":"text-orange-600"} mt-1`,children:g.balance>=0?e==="en"?"Surplus":"":e==="en"?"Deficit":""})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-purple-300 shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(hr,{className:"text-purple-600",size:24})}),s.jsx("span",{className:"text-purple-700 font-semibold text-sm",children:e==="en"?"Total":""})]}),s.jsx("div",{className:"text-3xl font-bold text-purple-800",children:g.transactionCount}),s.jsx("div",{className:"text-sm text-purple-600 mt-1",children:e==="en"?"Transactions":""})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6 border-2 border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(py,{size:20,className:"text-gray-500"}),s.jsxs("select",{value:a,onChange:E=>o(E.target.value),className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:[s.jsx("option",{value:"ALL",children:e==="en"?"All Types":" "}),s.jsx("option",{value:"INCOME",children:e==="en"?"Income":""}),s.jsx("option",{value:"EXPENSE",children:e==="en"?"Expense":""})]}),s.jsx("select",{value:c,onChange:E=>u(E.target.value),className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:x.map(E=>s.jsx("option",{value:E,children:E==="ALL"?e==="en"?"All Years":" ":E},E))})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-2 border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#138808] to-[#1aa910] text-white px-6 py-4",children:s.jsx("h2",{className:"text-2xl font-bold",children:e==="en"?"Recent Transactions":" "})}),v.length>0?s.jsx("div",{className:"divide-y divide-gray-200",children:v.map(E=>s.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:`p-2 rounded-lg ${E.type==="INCOME"?"bg-green-100":"bg-red-100"}`,children:E.type==="INCOME"?s.jsx(Kd,{className:`${E.type==="INCOME"?"text-green-600":"text-red-600"}`,size:20}):s.jsx(vg,{className:"text-red-600",size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-800",children:e==="en"?E.subcategory:E.subcategoryMr}),s.jsx("p",{className:"text-sm text-gray-600",children:e==="en"?E.description:E.descriptionMr})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500",children:[e==="en"?"Date":"",":"]}),s.jsxs("div",{className:"flex items-center gap-1 text-gray-700 font-semibold",children:[s.jsx(Zr,{size:14}),T(E.transactionDate)]})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500",children:[E.type==="INCOME"?e==="en"?"Received From":" ":e==="en"?"Paid To":" ",":"]}),s.jsx("div",{className:"text-gray-700 font-semibold",children:E.type==="INCOME"?e==="en"?E.receivedFrom:E.receivedFromMr:e==="en"?E.paidTo:E.paidToMr})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500",children:[e==="en"?"Payment Mode":" ",":"]}),s.jsx("div",{className:"text-gray-700 font-semibold",children:E.paymentMode.replace("_"," ")})]})]}),E.referenceNumber&&s.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[e==="en"?"Ref":"",": ",E.referenceNumber]})]}),s.jsxs("div",{className:"ml-6 text-right",children:[s.jsxs("div",{className:`text-2xl font-bold ${E.type==="INCOME"?"text-green-600":"text-red-600"}`,children:[E.type==="INCOME"?"+":"-"," ",b(E.amount)]}),s.jsx("span",{className:`inline-block mt-2 px-3 py-1 rounded-full text-xs font-semibold ${E.type==="INCOME"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:E.type==="INCOME"?e==="en"?"Income":"":e==="en"?"Expense":""})]})]})},E.id))}):s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(hr,{size:64,className:"mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:e==="en"?"No transactions available yet":"    "}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:e==="en"?"Financial data will be displayed here once transactions are added by the admin":"        "})]})]})]})})]})},hw=async()=>{try{const n=Ht(Ye,$t.notices()),e=Es(n,ic("startDate","desc")),t=await wr(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),console.log(`Loaded ${r.length} notices from Firebase`),r}catch(n){throw console.error("Error loading notices:",n),n}},rB=async()=>{try{const n=await hw(),e=new Date;e.setHours(0,0,0,0);const t=n.filter(r=>{const a=new Date(r.startDate),o=new Date(r.endDate);return a<=e&&o>=e});return console.log(`Found ${t.length} active notices`),t}catch(n){throw console.error("Error loading active notices:",n),n}},sB=async n=>{try{const e=St(Ye,$t.notices(),n),t=await zs(e);if(t.exists())return{id:t.id,...t.data()};throw new Error("Notice not found")}catch(e){throw console.error("Error loading notice:",e),e}},aB=async n=>{try{const e=Ht(Ye,$t.notices()),t={titleEn:n.titleEn||"",titleMr:n.titleMr||"",type:n.type||"ANNOUNCEMENT",descriptionEn:n.descriptionEn||"",descriptionMr:n.descriptionMr||"",startDate:n.startDate,endDate:n.endDate,showOnHome:n.showOnHome||!1,createdAt:Xt(),updatedAt:Xt()},r=await bs(e,t);return console.log("Notice created with ID:",r.id),r.id}catch(e){throw console.error("Error creating notice:",e),e}},iB=async(n,e)=>{try{const t=St(Ye,$t.notices(),n),r={titleEn:e.titleEn||"",titleMr:e.titleMr||"",type:e.type||"ANNOUNCEMENT",descriptionEn:e.descriptionEn||"",descriptionMr:e.descriptionMr||"",startDate:e.startDate,endDate:e.endDate,showOnHome:e.showOnHome||!1,updatedAt:Xt()};await go(t,r),console.log("Notice updated:",n)}catch(t){throw console.error("Error updating notice:",t),t}},oB=async n=>{try{const e=St(Ye,$t.notices(),n);await Uo(e),console.log("Notice deleted:",n)}catch(e){throw console.error("Error deleting notice:",e),e}},lB=()=>{const{language:n}=fs(),[e,t]=W.useState([]),[r,a]=W.useState(!0),[o,c]=W.useState("ALL");W.useEffect(()=>{u()},[]);const u=async()=>{try{a(!0);const E=(await rB()).sort((j,S)=>new Date(S.startDate)-new Date(j.startDate));t(E)}catch(T){console.error("Error loading notices:",T),t([])}finally{a(!1)}},h=e.filter(T=>o==="ALL"||T.type===o),f=T=>new Date(T).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),g=T=>{switch(T){case"MEETING":return s.jsx(Vi,{className:"w-5 h-5"});case"TENDER":return s.jsx(hr,{className:"w-5 h-5"});case"ANNOUNCEMENT":return s.jsx(Ex,{className:"w-5 h-5"});default:return s.jsx(hr,{className:"w-5 h-5"})}},x=T=>{switch(T){case"MEETING":return"from-blue-500 to-blue-600";case"TENDER":return"from-green-500 to-green-600";case"ANNOUNCEMENT":return"from-orange-500 to-orange-600";case"EVENT":return"from-purple-500 to-purple-600";case"URGENT":return"from-red-500 to-red-600";default:return"from-gray-500 to-gray-600"}},v=T=>{switch(T){case"MEETING":return"text-blue-700";case"TENDER":return"text-green-700";case"ANNOUNCEMENT":return"text-orange-700";case"EVENT":return"text-purple-700";case"URGENT":return"text-red-700";default:return"text-gray-700"}},b=T=>{const E=new Date(T),S=Math.ceil((E-new Date)/(1e3*60*60*24));return S<=7&&S>=0};return s.jsxs("div",{children:[s.jsxs("section",{className:"relative py-20 overflow-hidden bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-orange-600/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-green-600/20 rounded-full blur-3xl animate-pulse delay-700"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white/5 rounded-full blur-2xl"})]}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-orange-600 via-white to-green-600"}),s.jsx("div",{className:"container-custom relative z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-600 to-green-600 rounded-full mb-6 shadow-2xl shadow-orange-500/50 animate-bounce-slow",children:s.jsx(Vi,{size:40,className:"text-white"})}),s.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4 tracking-tight",children:n==="en"?"Notices & Announcements":"  "}),s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[s.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-transparent via-orange-500 to-orange-600 rounded-full"}),s.jsx(Os,{className:"text-orange-400",size:24}),s.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-green-600 via-green-500 to-transparent rounded-full"})]}),s.jsx("p",{className:"text-xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:n==="en"?"Stay updated with important notices, meetings, tenders, and announcements":" , ,     "}),s.jsxs("div",{className:"flex items-center justify-center gap-8 mt-8 text-white/60",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm",children:n==="en"?"Official":""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse delay-300"}),s.jsx("span",{className:"text-sm",children:n==="en"?"Verified":""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse delay-700"}),s.jsx("span",{className:"text-sm",children:n==="en"?"Updated":""})]})]})]})})]}),s.jsx("section",{className:"py-8 bg-gradient-to-br from-orange-50 via-white to-green-50",children:s.jsx("div",{className:"container-custom",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-t-4 border-orange-600 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center shadow-lg",children:s.jsx(py,{size:20,className:"text-white"})}),s.jsx("label",{className:"font-bold text-blue-900 text-lg",children:n==="en"?"Filter by Type":"  "})]}),s.jsxs("select",{value:o,onChange:T=>c(T.target.value),className:"flex-1 min-w-[200px] px-5 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-600 focus:ring-2 focus:ring-orange-200 bg-gradient-to-r from-orange-50 to-green-50 font-semibold text-gray-700 transition-all hover:border-orange-500",children:[s.jsx("option",{value:"ALL",children:n==="en"?" All Types":"  "}),s.jsx("option",{value:"MEETING",children:" Meeting"}),s.jsx("option",{value:"TENDER",children:" Tender"}),s.jsx("option",{value:"ANNOUNCEMENT",children:" Announcement"}),s.jsx("option",{value:"EVENT",children:" Event"}),s.jsx("option",{value:"URGENT",children:" Urgent"}),s.jsx("option",{value:"OTHER",children:" Other"})]}),o!=="ALL"&&s.jsx("button",{onClick:()=>c("ALL"),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg text-gray-700 font-semibold transition-all",children:n==="en"?"Clear Filter":"  "})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-semibold text-orange-600",children:h.length})," ",n==="en"?o==="ALL"?"active notices found":`${o.toLowerCase()} notices found`:o==="ALL"?"  ":`${o.toLowerCase()}  `]})})]})]})})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"container-custom",children:[r?s.jsxs("div",{className:"flex flex-col justify-center items-center py-16",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-orange-600 mb-4"}),s.jsx("p",{className:"text-gray-600 font-semibold",children:n==="en"?"Loading notices...":"   ..."})]}):h.length>0?s.jsx("div",{className:"space-y-6",children:h.map((T,E)=>s.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-orange-600 transform hover:scale-[1.02]",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),s.jsx("div",{className:`bg-gradient-to-r ${x(T.type)} p-6`,children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[s.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:E+1}),s.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-white/90 rounded-full flex items-center justify-center shadow-lg",children:s.jsx("div",{className:`${v(T.type)}`,children:g(T.type)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[s.jsx("span",{className:`px-4 py-1.5 rounded-full text-sm font-bold bg-white/95 ${v(T.type)} shadow-md`,children:T.type}),b(T.endDate)&&s.jsxs("span",{className:"px-4 py-1.5 rounded-full text-sm font-bold bg-red-100 text-red-700 flex items-center gap-2 shadow-md animate-pulse",children:[s.jsx(aw,{size:16}),n==="en"?"Expiring Soon":"   "]})]}),s.jsx("h2",{className:"font-bold text-white text-2xl mb-2 leading-tight",children:n==="en"?T.titleEn:T.titleMr||T.titleEn}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-white text-sm font-semibold",children:[s.jsx(Zr,{size:16}),s.jsx("span",{children:f(T.startDate)})]}),s.jsx(gy,{size:16,className:"text-white/60"}),s.jsxs("div",{className:"flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-white text-sm font-semibold",children:[s.jsx(Zr,{size:16}),s.jsx("span",{children:f(T.endDate)})]})]})]})]})})}),s.jsxs("div",{className:"p-8 bg-gradient-to-br from-gray-50 to-white",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center mt-1",children:s.jsx(hr,{size:16,className:"text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-blue-900 text-lg mb-3",children:n==="en"?"Description":""}),s.jsx("p",{className:"text-gray-700 text-base leading-relaxed",children:n==="en"?T.descriptionEn:T.descriptionMr||T.descriptionEn})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[s.jsx("div",{className:"bg-white rounded-xl p-4 border-l-4 border-green-600 shadow-md hover:shadow-lg transition-all",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Zr,{size:20,className:"text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:n==="en"?"Start Date":" "}),s.jsx("p",{className:"font-bold text-gray-800",children:f(T.startDate)})]})]})}),s.jsx("div",{className:"bg-white rounded-xl p-4 border-l-4 border-red-600 shadow-md hover:shadow-lg transition-all",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Zr,{size:20,className:"text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:n==="en"?"End Date":" "}),s.jsx("p",{className:"font-bold text-gray-800",children:f(T.endDate)})]})]})})]})]})]},T.id))}):s.jsxs("div",{className:"text-center py-16 bg-gradient-to-br from-orange-50 to-green-50 rounded-2xl border-2 border-dashed border-orange-300",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-orange-100 to-green-100 rounded-full mb-6",children:s.jsx(Vi,{size:48,className:"text-orange-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-3",children:n==="en"?"No Active Notices":"   "}),s.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:n==="en"?"There are currently no active notices. Check back later for updates.":"    .   ."})]}),h.length>0&&s.jsxs("div",{className:"mt-12 bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl shadow-xl border-t-4 border-blue-600 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 h-2"}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-full flex items-center justify-center shadow-lg flex-shrink-0",children:s.jsx(Qn,{size:24,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-blue-900 text-2xl mb-2",children:n==="en"?"Important Information":" "}),s.jsx("p",{className:"text-blue-700 text-sm",children:n==="en"?"Please read the following guidelines carefully":"     "})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3 bg-white/50 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"1"})}),s.jsx("p",{className:"text-blue-900 font-medium",children:n==="en"?"Please check the start and end dates for each notice carefully":"        "})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-white/50 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"2"})}),s.jsx("p",{className:"text-blue-900 font-medium",children:n==="en"?"For tender submissions, contact the Gram Panchayat office before the deadline":" ,      "})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-white/50 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"3"})}),s.jsx("p",{className:"text-blue-900 font-medium",children:n==="en"?"Meeting attendance is mandatory for all members and important for village development":"          "})]})]})]})]})]})})]})},cB=()=>{const{t:n,getContent:e}=fs(),{settings:t}=tu(),[r,a]=W.useState({name:"",phone:"",email:"",category:"QUERY",subject:"",message:""}),[o,c]=W.useState(!1),u=f=>{a({...r,[f.target.name]:f.target.value})},h=f=>{f.preventDefault(),console.log("Form submitted:",r),c(!0),setTimeout(()=>{c(!1),a({name:"",phone:"",email:"",category:"QUERY",subject:"",message:""})},3e3)};return s.jsxs("div",{children:[s.jsxs("section",{className:"relative py-20 overflow-hidden bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-orange-600/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-green-600/20 rounded-full blur-3xl animate-pulse delay-700"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white/5 rounded-full blur-2xl"})]}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-orange-600 via-white to-green-600"}),s.jsx("div",{className:"container-custom relative z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-600 to-green-600 rounded-full mb-6 shadow-2xl shadow-orange-500/50 animate-bounce-slow",children:s.jsx(Cf,{size:40,className:"text-white"})}),s.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4 tracking-tight",children:n("nav.contact")}),s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[s.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-transparent via-orange-500 to-orange-600 rounded-full"}),s.jsx(Os,{className:"text-orange-400",size:24}),s.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-green-600 via-green-500 to-transparent rounded-full"})]}),s.jsx("p",{className:"text-xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Get in touch with us or submit your grievances"}),s.jsxs("div",{className:"flex items-center justify-center gap-8 mt-8 text-white/60",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm",children:"24/7 Available"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse delay-300"}),s.jsx("span",{className:"text-sm",children:"Quick Response"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse delay-700"}),s.jsx("span",{className:"text-sm",children:"Verified"})]})]})]})})]}),s.jsx("section",{className:"py-16 bg-gradient-to-br from-orange-50 via-white to-green-50",children:s.jsx("div",{className:"container-custom",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),s.jsx(lo,{className:"text-blue-900",size:32}),s.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),s.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:"Contact Information"}),s.jsx("p",{className:"text-gray-600",children:"Reach out to us through any of the following channels"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-orange-600 transform hover:scale-105",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center shadow-lg",children:s.jsx(lo,{className:"text-white",size:28})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-xl text-blue-900 mb-2",children:"Phone"}),s.jsxs("a",{href:`tel:${t?.contact?.phone||""}`,className:"text-orange-600 hover:text-orange-700 text-lg font-semibold flex items-center gap-2 group-hover:gap-3 transition-all",children:[t?.contact?.phone||"Not available",s.jsx(Os,{size:18,className:"group-hover:animate-spin"})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Available during office hours"})]})]})})]}),s.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-green-600 transform hover:scale-105",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-600 to-orange-600 h-2"}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-br from-green-600 to-orange-600 rounded-full flex items-center justify-center shadow-lg",children:s.jsx(mo,{className:"text-white",size:28})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-xl text-blue-900 mb-2",children:"Email"}),s.jsxs("a",{href:`mailto:${t?.contact?.email||""}`,className:"text-green-600 hover:text-green-700 text-lg font-semibold flex items-center gap-2 group-hover:gap-3 transition-all break-all",children:[t?.contact?.email||"Not available",s.jsx(Os,{size:18,className:"group-hover:animate-spin flex-shrink-0"})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"We respond within 24 hours"})]})]})})]}),s.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-blue-600 transform hover:scale-105",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 h-2"}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-700 rounded-full flex items-center justify-center shadow-lg",children:s.jsx(ml,{className:"text-white",size:28})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-xl text-blue-900 mb-2",children:"Address"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:e(t?.contact?.address)||"Not available"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2 flex items-center gap-2",children:[s.jsx(Xf,{size:16}),e(t?.officeTimings)||"Mon - Fri: 10:00 AM - 5:00 PM"]})]})]})})]})]}),s.jsx("div",{className:"mt-8",children:t?.googleMapsLink?s.jsx("div",{className:"h-80 bg-white rounded-2xl shadow-xl overflow-hidden border-2 border-orange-300",children:s.jsx("iframe",{src:t.googleMapsLink,width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Gram Panchayat Location"})}):s.jsx("div",{className:"h-64 bg-gradient-to-br from-orange-100 to-green-100 rounded-2xl shadow-xl overflow-hidden border-2 border-dashed border-orange-300 flex items-center justify-center group hover:border-solid transition-all",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white rounded-full mb-3 shadow-lg",children:s.jsx(ml,{size:32,className:"text-orange-600"})}),s.jsx("p",{className:"text-gray-600 font-semibold",children:"Map will be embedded here"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Interactive location map"})]})})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),s.jsx(u4,{className:"text-blue-900",size:32}),s.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),s.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:"Send us a Message"}),s.jsx("p",{className:"text-gray-600",children:"Fill out the form below and we'll get back to you soon"})]}),o?s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border-t-4 border-green-600 animate-fade-in",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 h-2"}),s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-green-600 to-green-700 rounded-full mb-6 shadow-2xl shadow-green-500/50 animate-bounce",children:s.jsx(Bi,{className:"text-white",size:48})}),s.jsx("h3",{className:"text-3xl font-bold text-blue-900 mb-3",children:"Message Sent Successfully!"}),s.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"We will get back to you soon."}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("div",{className:"h-1 w-16 bg-gradient-to-r from-orange-600 to-green-600 rounded-full"}),s.jsx(Os,{className:"text-green-600",size:20}),s.jsx("div",{className:"h-1 w-16 bg-gradient-to-r from-green-600 to-orange-600 rounded-full"})]})]})]}):s.jsxs("form",{onSubmit:h,className:"bg-white rounded-2xl shadow-2xl overflow-hidden border-t-4 border-orange-600",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[s.jsx(Zf,{size:18,className:"text-orange-600"}),"Name *"]}),s.jsx("input",{type:"text",name:"name",required:!0,value:r.name,onChange:u,placeholder:"Enter your full name",className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-orange-600 focus:ring-2 focus:ring-orange-200 transition-all bg-gradient-to-r from-orange-50/50 to-green-50/50 hover:border-orange-400"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[s.jsx(lo,{size:18,className:"text-green-600"}),"Phone *"]}),s.jsx("input",{type:"tel",name:"phone",required:!0,value:r.phone,onChange:u,placeholder:"Enter your phone number",className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-green-600 focus:ring-2 focus:ring-green-200 transition-all bg-gradient-to-r from-green-50/50 to-orange-50/50 hover:border-green-400"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[s.jsx(mo,{size:18,className:"text-blue-600"}),"Email"]}),s.jsx("input",{type:"email",name:"email",value:r.email,onChange:u,placeholder:"Enter your email address",className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200 transition-all bg-gradient-to-r from-blue-50/50 to-white hover:border-blue-400"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[s.jsx(Cf,{size:18,className:"text-orange-600"}),"Category *"]}),s.jsxs("select",{name:"category",required:!0,value:r.category,onChange:u,className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-orange-600 focus:ring-2 focus:ring-orange-200 transition-all bg-gradient-to-r from-orange-50/50 to-green-50/50 hover:border-orange-400 font-semibold text-gray-700",children:[s.jsx("option",{value:"QUERY",children:" Query"}),s.jsx("option",{value:"COMPLAINT",children:" Complaint"}),s.jsx("option",{value:"SUGGESTION",children:" Suggestion"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[s.jsx(Os,{size:18,className:"text-green-600"}),"Subject *"]}),s.jsx("input",{type:"text",name:"subject",required:!0,value:r.subject,onChange:u,placeholder:"Enter the subject of your message",className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-green-600 focus:ring-2 focus:ring-green-200 transition-all bg-gradient-to-r from-green-50/50 to-orange-50/50 hover:border-green-400"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[s.jsx(Cf,{size:18,className:"text-blue-600"}),"Message *"]}),s.jsx("textarea",{name:"message",required:!0,rows:"5",value:r.message,onChange:u,placeholder:"Type your message here...",className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200 transition-all bg-gradient-to-br from-blue-50/50 to-white hover:border-blue-400 resize-none"})]}),s.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-600 to-green-600 hover:from-orange-700 hover:to-green-700 text-white font-bold py-4 px-6 rounded-xl flex items-center justify-center gap-3 transition-all transform hover:scale-105 shadow-xl hover:shadow-2xl",children:[s.jsx(u4,{size:24}),s.jsx("span",{className:"text-lg",children:n("common.submit")}),s.jsx(Os,{size:20,className:"animate-pulse"})]}),s.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[s.jsxs("p",{className:"text-sm text-gray-600 text-center",children:[s.jsx("span",{className:"font-semibold text-orange-600",children:"*"})," Required fields"]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3 text-xs text-gray-500",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{children:"Your information is secure with us"})]})]})]})]})]})]})})})]})},uB=()=>{const n=Ar(),{login:e}=rw(),[t,r]=W.useState({email:"",password:""}),[a,o]=W.useState(""),[c,u]=W.useState(!1),h=g=>{r({...t,[g.target.name]:g.target.value}),o("")},f=async g=>{g.preventDefault(),u(!0),o("");const x=await e(t);x.success?n("/admin/dashboard"):o(x.error||"Invalid credentials"),u(!1)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center px-3 sm:px-4 py-6 sm:py-12 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 sm:w-96 h-64 sm:h-96 bg-orange-600/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-64 sm:w-96 h-64 sm:h-96 bg-green-600/20 rounded-full blur-3xl animate-pulse delay-700"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 sm:w-96 h-64 sm:h-96 bg-white/5 rounded-full blur-2xl"})]}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 sm:h-2 bg-gradient-to-r from-orange-600 via-white to-green-600"}),s.jsxs("div",{className:"max-w-md w-full relative z-10",children:[s.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-2xl overflow-hidden border-t-4 border-orange-600",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-1.5 sm:h-2"}),s.jsxs("div",{className:"text-center pt-8 sm:pt-12 pb-6 sm:pb-8 px-4 sm:px-8 bg-gradient-to-br from-blue-50 to-white",children:[s.jsxs("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-br from-orange-600 to-green-600 rounded-full mb-4 sm:mb-6 shadow-2xl shadow-orange-500/50 animate-bounce-slow",children:[s.jsx(Wl,{className:"text-white",size:32}),s.jsx(Wl,{className:"text-white hidden sm:block",size:48})]}),s.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-blue-900 mb-2 sm:mb-3",children:"Admin Login"}),s.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[s.jsx("div",{className:"h-0.5 sm:h-1 w-12 sm:w-16 bg-gradient-to-r from-transparent via-orange-500 to-orange-600 rounded-full"}),s.jsx(Os,{className:"text-orange-400",size:16}),s.jsx(Os,{className:"text-orange-400 hidden sm:block",size:20}),s.jsx("div",{className:"h-0.5 sm:h-1 w-12 sm:w-16 bg-gradient-to-r from-green-600 via-green-500 to-transparent rounded-full"})]}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-semibold",children:"Gram Panchayat Management System"}),s.jsxs("div",{className:"inline-flex items-center gap-2 mt-3 sm:mt-4 px-3 sm:px-4 py-1.5 sm:py-2 bg-white/80 backdrop-blur-sm rounded-full border border-orange-200 shadow-md",children:[s.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-700 font-semibold",children:"Secure Access"})]})]}),a&&s.jsx("div",{className:"mx-4 sm:mx-8 mt-6 sm:mt-8",children:s.jsxs("div",{className:"bg-red-50 border-l-4 border-red-600 rounded-lg p-3 sm:p-4 flex items-start gap-2 sm:gap-3 shadow-lg",children:[s.jsx(Qn,{className:"text-red-600 flex-shrink-0 mt-0.5",size:18}),s.jsx(Qn,{className:"text-red-600 flex-shrink-0 mt-0.5 hidden sm:block",size:20}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-red-900 mb-1 text-sm sm:text-base",children:"Login Failed"}),s.jsx("p",{className:"text-red-700 text-xs sm:text-sm",children:a})]})]})}),s.jsxs("form",{onSubmit:f,className:"p-4 sm:p-8 space-y-4 sm:space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold text-blue-900 mb-2",children:[s.jsx(mo,{size:16,className:"text-orange-600"}),s.jsx(mo,{size:18,className:"text-orange-600 hidden sm:block"}),"Email Address"]}),s.jsx("input",{type:"email",name:"email",required:!0,value:t.email,onChange:h,className:"w-full px-4 sm:px-5 py-2.5 sm:py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-orange-600 focus:ring-2 focus:ring-orange-200 transition-all bg-gradient-to-r from-orange-50/50 to-green-50/50 hover:border-orange-400 text-gray-900 font-medium text-sm sm:text-base",placeholder:"admin@example.com"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold text-blue-900 mb-2",children:[s.jsx(w2,{size:16,className:"text-green-600"}),s.jsx(w2,{size:18,className:"text-green-600 hidden sm:block"}),"Password"]}),s.jsx("input",{type:"password",name:"password",required:!0,value:t.password,onChange:h,className:"w-full px-4 sm:px-5 py-2.5 sm:py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-green-600 focus:ring-2 focus:ring-green-200 transition-all bg-gradient-to-r from-green-50/50 to-orange-50/50 hover:border-green-400 text-gray-900 font-medium text-sm sm:text-base",placeholder:"Enter your password"})]}),s.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-orange-600 to-green-600 hover:from-orange-700 hover:to-green-700 text-white font-bold py-3 sm:py-4 px-4 sm:px-6 rounded-xl flex items-center justify-center gap-2 sm:gap-3 transition-all transform hover:scale-105 shadow-xl hover:shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[s.jsx(c4,{size:20}),s.jsx(c4,{size:24,className:"hidden sm:block"}),s.jsx("span",{className:"text-base sm:text-lg",children:c?"Logging in...":"Login to Admin Panel"}),!c&&s.jsx(Os,{size:18,className:"animate-pulse sm:hidden"}),!c&&s.jsx(Os,{size:20,className:"animate-pulse hidden sm:block"})]}),c&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 sm:h-5 sm:w-5 border-b-2 border-orange-600"}),s.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Authenticating..."})]})]}),s.jsx("div",{className:"px-4 sm:px-8 pb-4 sm:pb-8",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-xl p-3 sm:p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[s.jsx(Wl,{size:18,className:"text-blue-600 flex-shrink-0 mt-0.5 sm:hidden"}),s.jsx(Wl,{size:20,className:"text-blue-600 flex-shrink-0 mt-0.5 hidden sm:block"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-blue-900 text-xs sm:text-sm mb-1",children:"Authorized Personnel Only"}),s.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 leading-relaxed",children:"This portal is restricted to authorized Gram Panchayat administrators. Unauthorized access is prohibited and may be subject to legal action."})]})]})})})]}),s.jsx("div",{className:"mt-4 sm:mt-6 text-center px-4",children:s.jsxs("div",{className:"inline-flex items-center gap-2 text-white/80 text-xs sm:text-sm",children:[s.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{children:"Government of India Initiative"})]})})]})]})},dB=()=>{const{t:n}=fs(),[e,t]=W.useState(!0),[r,a]=W.useState({members:0,services:0,schemes:0,activeNotices:0,programs:0,forms:0}),[o,c]=W.useState([]),[u,h]=W.useState([]);W.useEffect(()=>{f()},[]);const f=async()=>{try{t(!0);const[x,v,b,T,E,j]=await Promise.all([iw(),lw(),cw(),hw(),dw(),uw()]);a({members:x?.length||0,services:v?.length||0,schemes:b?.length||0,activeNotices:T?.filter(S=>S.status==="ACTIVE")?.length||0,programs:E?.length||0,forms:j?.length||0}),c(T?.slice(0,3)||[]),h(E?.slice(0,3)||[])}catch(x){console.error("Error loading dashboard data:",x)}finally{t(!1)}},g=[{title:"Total Members",count:r.members,icon:Us,color:"from-orange-500 to-orange-600",link:"/admin/members"},{title:"Services",count:r.services,icon:hr,color:"from-green-600 to-green-700",link:"/admin/services"},{title:"Schemes",count:r.schemes,icon:Yf,color:"from-blue-800 to-blue-900",link:"/admin/schemes"},{title:"Active Notices",count:r.activeNotices,icon:Vi,color:"from-purple-500 to-purple-600",link:"/admin/notices"},{title:"Programs",count:r.programs,icon:Ma,color:"from-pink-500 to-pink-600",link:"/admin/gallery"},{title:"Forms",count:r.forms,icon:Vo,color:"from-indigo-500 to-indigo-600",link:"/admin/forms"}];return e?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Admin Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening with your Gram Panchayat."})]}),s.jsxs(_n,{to:"/admin/settings",className:"flex items-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[s.jsx(iT,{size:20}),"Site Settings"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map((x,v)=>s.jsxs(_n,{to:x.link,className:"bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all transform hover:scale-105 overflow-hidden group",children:[s.jsx("div",{className:`bg-gradient-to-br ${x.color} p-6 text-white`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/80 text-sm font-medium mb-1",children:x.title}),s.jsx("p",{className:"text-4xl font-bold",children:x.count})]}),s.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center group-hover:bg-white/30 transition-colors",children:s.jsx(x.icon,{size:32})})]})}),s.jsx("div",{className:"p-4 bg-gray-50",children:s.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:["Manage ",x.title,s.jsx(Kd,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})})]},v))}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(eV,{size:24,className:"text-orange-600"}),"Quick Actions"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(_n,{to:"/admin/members/new",className:"flex items-center gap-3 p-4 border-2 border-orange-200 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-all group",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center group-hover:bg-orange-200 transition-colors",children:s.jsx(Us,{size:20,className:"text-orange-600"})}),s.jsx("span",{className:"font-semibold text-gray-700",children:"Add Member"})]}),s.jsxs(_n,{to:"/admin/services/new",className:"flex items-center gap-3 p-4 border-2 border-green-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all group",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center group-hover:bg-green-200 transition-colors",children:s.jsx(hr,{size:20,className:"text-green-600"})}),s.jsx("span",{className:"font-semibold text-gray-700",children:"Add Service"})]}),s.jsxs(_n,{to:"/admin/notices/new",className:"flex items-center gap-3 p-4 border-2 border-purple-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-all group",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:s.jsx(Vi,{size:20,className:"text-purple-600"})}),s.jsx("span",{className:"font-semibold text-gray-700",children:"Add Notice"})]}),s.jsxs(_n,{to:"/admin/gallery/new",className:"flex items-center gap-3 p-4 border-2 border-pink-200 rounded-lg hover:border-pink-500 hover:bg-pink-50 transition-all group",children:[s.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center group-hover:bg-pink-200 transition-colors",children:s.jsx(Ma,{size:20,className:"text-pink-600"})}),s.jsx("span",{className:"font-semibold text-gray-700",children:"Add Program"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(IU,{size:24,className:"text-blue-600"}),"Content Management"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(_n,{to:"/admin/content/about",className:"flex items-center gap-3 p-4 border-2 border-blue-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all group",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:s.jsx(hr,{size:20,className:"text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-700",children:"Edit About Page"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Village info, history, vision & mission"})]})]}),s.jsxs(_n,{to:"/admin/content/education",className:"flex items-center gap-3 p-4 border-2 border-indigo-200 rounded-lg hover:border-indigo-500 hover:bg-indigo-50 transition-all group",children:[s.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center group-hover:bg-indigo-200 transition-colors",children:s.jsx(zg,{size:20,className:"text-indigo-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-700",children:"Edit Education Page"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Schools, anganwadis & programs"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Vi,{size:24,className:"text-purple-600"}),"Recent Notices"]}),s.jsx(_n,{to:"/admin/notices",className:"text-orange-600 hover:text-orange-700 font-semibold text-sm",children:"View All "})]}),s.jsx("div",{className:"space-y-3",children:o.length>0?o.map(x=>s.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-orange-300 hover:bg-orange-50/50 transition-all",children:s.jsx("div",{className:"flex items-start justify-between gap-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:x.title.en}),s.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:x.description.en}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Zr,{size:12}),new Date(x.startDate).toLocaleDateString()]}),s.jsx("span",{className:`px-2 py-1 rounded-full ${x.status==="ACTIVE"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:x.status})]})]})})},x.id)):s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No notices yet"})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Ma,{size:24,className:"text-pink-600"}),"Recent Programs"]}),s.jsx(_n,{to:"/admin/gallery",className:"text-orange-600 hover:text-orange-700 font-semibold text-sm",children:"View All "})]}),s.jsx("div",{className:"space-y-3",children:u.length>0?u.map(x=>s.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-orange-300 hover:bg-orange-50/50 transition-all",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("img",{src:x.images?.[0]||"/placeholder.jpg",alt:x.titleEn||"Program",className:"w-16 h-16 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:x.titleEn}),s.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:x.descriptionEn}),s.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(Zr,{size:12}),new Date(x.date).toLocaleDateString()]})]})]})},x.id)):s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No programs yet"})})]})]})]})},hB=()=>{const[n,e]=W.useState([]),[t,r]=W.useState(""),[a,o]=W.useState("ALL"),[c,u]=W.useState(!0);W.useEffect(()=>{(async()=>{try{u(!0);const v=await iw();e(v)}catch(v){console.error("Error loading members:",v)}finally{u(!1)}})()},[]);const h=n.filter(x=>{const v=x.name.en.toLowerCase().includes(t.toLowerCase())||x.name.mr.includes(t),b=a==="ALL"||x.type===a;return v&&b}),f=async x=>{if(window.confirm("Are you sure you want to delete this member?"))try{await AV(x),e(n.filter(v=>v.id!==x)),console.log("Member deleted successfully")}catch(v){console.error("Error deleting member:",v),alert("Failed to delete member. Please try again.")}},g=x=>({SARPANCH:"bg-orange-100 text-orange-700",UPSARPANCH:"bg-green-100 text-green-700",MEMBER:"bg-blue-100 text-blue-700",STAFF:"bg-purple-100 text-purple-700"})[x]||"bg-gray-100 text-gray-700";return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Members Management"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage Sarpanch, Upsarpanch, Members and Staff"})]}),s.jsxs(_n,{to:"/admin/members/new",className:"flex items-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[s.jsx(Ss,{size:20}),"Add Member"]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search members...",value:t,onChange:x=>r(x.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsxs("select",{value:a,onChange:x=>o(x.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"ALL",children:"All Members"}),s.jsx("option",{value:"SARPANCH",children:"Sarpanch"}),s.jsx("option",{value:"UPSARPANCH",children:"Upsarpanch"}),s.jsx("option",{value:"MEMBER",children:"Members"}),s.jsx("option",{value:"STAFF",children:"Staff"})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.length>0?h.map(x=>s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all",children:[s.jsx("div",{className:"h-48 bg-gradient-to-br from-orange-100 to-green-100 flex items-center justify-center",children:x.photo?s.jsx("img",{src:x.photo,alt:x.name.en,className:"w-full h-full object-cover"}):s.jsx(Nf,{size:80,className:"text-gray-400"})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:x.name.en}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:x.name.mr})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${g(x.type)}`,children:x.type})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-semibold",children:"Designation:"})," ",x.designation.en]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-semibold",children:"Phone:"})," ",x.phone]}),x.termStart&&s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-semibold",children:"Term:"})," ",new Date(x.termStart).getFullYear()," - ",new Date(x.termEnd).getFullYear()]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(_n,{to:`/admin/members/edit/${x.id}`,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:[s.jsx(ad,{size:16}),"Edit"]}),s.jsxs("button",{onClick:()=>f(x.id),className:"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:[s.jsx(ei,{size:16}),"Delete"]})]})]})]},x.id)):s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(Nf,{size:64,className:"mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No members found"}),s.jsxs(_n,{to:"/admin/members/new",className:"inline-flex items-center gap-2 mt-4 text-orange-600 hover:text-orange-700 font-semibold",children:[s.jsx(Ss,{size:20}),"Add your first member"]})]})})]})},fB=async n=>{if(!n||n.trim()==="")return"";try{const e=`https://api.mymemory.translated.net/get?q=${encodeURIComponent(n)}&langpair=en|mr`,r=await(await fetch(e)).json();return r.responseStatus===200&&r.responseData?r.responseData.translatedText:(console.error("Translation API error:",r),n)}catch(e){return console.error("Translation error:",e),n}},jn=({label:n,name:e,value:t={en:"",mr:""},onChange:r,required:a=!1,type:o="text",placeholder:c="",rows:u=3,disabled:h=!1})=>{const[f,g]=W.useState(!1),[x,v]=W.useState(!0),[b,T]=W.useState(null),E=o==="textarea",j=D=>{const O=D.target.value;if(r({...t,en:O}),x&&O.trim()){b&&clearTimeout(b);const te=setTimeout(async()=>{g(!0);try{const ee=await fB(O);r({en:O,mr:ee})}catch(ee){console.error("Translation failed:",ee)}finally{g(!1)}},1500);T(te)}},S=D=>{const O=D.target.value;r({...t,mr:O})};W.useEffect(()=>()=>{b&&clearTimeout(b)},[b]);const L=E?"textarea":"input";return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[n," ",a&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("input",{type:"checkbox",id:`auto-translate-${e}`,checked:x,onChange:D=>v(D.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsxs("label",{htmlFor:`auto-translate-${e}`,className:"text-gray-600 flex items-center gap-1",children:[s.jsx(Tf,{size:14}),"Auto-translate to Marathi",f&&s.jsx(bU,{size:14,className:"animate-spin text-primary-600 ml-1"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"English"}),s.jsx(L,{type:E?void 0:o,rows:E?u:void 0,value:t.en||"",onChange:j,placeholder:c||`Enter ${n} in English`,required:a,disabled:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:[" (Marathi)",f&&s.jsx("span",{className:"ml-2 text-primary-600 text-xs",children:"Translating..."})]}),s.jsx(L,{type:E?void 0:o,rows:E?u:void 0,value:t.mr||"",onChange:S,placeholder:`${n}  `,disabled:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"}),x&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Auto-translated. You can edit manually."})]})]})]})},m4=()=>{const n=Ar(),{id:e}=pl(),t=!!e,[r,a]=W.useState({name:{en:"",mr:""},designation:{en:"",mr:""},phone:"",type:"MEMBER",position:0,termStart:"",termEnd:"",photo:""}),[o,c]=W.useState(null),[u,h]=W.useState({}),[f,g]=W.useState(!1),[x,v]=W.useState(!1);W.useEffect(()=>{(async()=>{if(t&&e)try{g(!0);const D=await ow(e);D&&a({name:D.name||{en:"",mr:""},designation:D.designation||{en:"",mr:""},phone:D.phone||"",type:D.type||"MEMBER",position:D.position||0,termStart:D.termStart||"",termEnd:D.termEnd||"",photo:D.photo||""})}catch(D){console.error("Error loading member:",D),alert("Failed to load member. Please try again.")}finally{g(!1)}})()},[t,e]);const b=(L,D)=>{a(O=>({...O,[L]:D})),u[L]&&h(O=>({...O,[L]:""}))},T=L=>{const{name:D,value:O}=L.target;a(te=>({...te,[D]:O})),u[D]&&h(te=>({...te,[D]:""}))},E=()=>{const L={};return r.name.en.trim()||(L.name="Member name is required"),r.designation.en.trim()||(L.designation="Designation is required"),r.phone.trim()?/^[\+]?[0-9]{10,13}$/.test(r.phone.replace(/\s/g,""))||(L.phone="Invalid phone number"):L.phone="Phone number is required",r.type||(L.type="Member type is required"),r.termStart&&r.termEnd&&r.termEnd<r.termStart&&(L.termEnd="End date must be after start date"),L},j=async L=>{L.preventDefault();const D=E();if(Object.keys(D).length>0){h(D);return}v(!0);try{const O={name:r.name,designation:r.designation,phone:r.phone,type:r.type,position:parseInt(r.position)||0,photo:r.photo,...r.termStart&&{termStart:r.termStart},...r.termEnd&&{termEnd:r.termEnd}};t?(await EV(e,O,o),console.log("Member updated successfully")):(await SV(O,o),console.log("Member created successfully")),n("/admin/members")}catch(O){console.error("Error saving member:",O),alert("Failed to save member. Please try again.")}finally{v(!1)}},S=L=>{const D=L.target.files[0];if(D){c(D);const O=new FileReader;O.onloadend=()=>{a(te=>({...te,photo:O.result}))},O.readAsDataURL(D)}};return f?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n("/admin/members"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(po,{size:24})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:t?"Edit Member":"Add New Member"}),s.jsx("p",{className:"text-gray-600 mt-1",children:t?"Update member information":"Fill in the details to add a new member"})]})]}),s.jsx("form",{onSubmit:j,className:"bg-white rounded-xl shadow-lg p-8",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Photo"}),s.jsxs("div",{className:"flex items-center gap-6",children:[r.photo?s.jsx("img",{src:r.photo,alt:"Member photo",className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-200"}):s.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center",children:s.jsx(Jf,{size:32,className:"text-gray-400"})}),s.jsxs("div",{children:[s.jsx("input",{type:"file",id:"photo",accept:"image/*",onChange:S,className:"hidden"}),s.jsxs("label",{htmlFor:"photo",className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold cursor-pointer transition-all",children:[s.jsx(Jf,{size:16}),"Choose Photo"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Recommended: 400x400px, Max 2MB"})]})]})]}),s.jsxs("div",{children:[s.jsx(jn,{label:"Member Name",name:"name",value:r.name,onChange:L=>b("name",L),required:!0,placeholder:"Enter member name"}),u.name&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.name})]}),s.jsxs("div",{children:[s.jsx(jn,{label:"Designation",name:"designation",value:r.designation,onChange:L=>b("designation",L),required:!0,placeholder:"Enter designation"}),u.designation&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.designation})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:T,className:`w-full px-4 py-3 border ${u.phone?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent`,placeholder:"+91 1234567890"}),u.phone&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.phone})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"type",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Member Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"type",name:"type",value:r.type,onChange:T,className:`w-full px-4 py-3 border ${u.type?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent`,children:[s.jsx("option",{value:"SARPANCH",children:"Sarpanch"}),s.jsx("option",{value:"UPSARPANCH",children:"Upsarpanch"}),s.jsx("option",{value:"MEMBER",children:"Member"}),s.jsx("option",{value:"STAFF",children:"Staff"})]}),u.type&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.type})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"position",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Display Order"}),s.jsx("input",{type:"number",id:"position",name:"position",value:r.position,onChange:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"1"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Lower numbers appear first"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"termStart",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Term Start Date",s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Optional)"})]}),s.jsx("input",{type:"date",id:"termStart",name:"termStart",value:r.termStart,onChange:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"YYYY-MM-DD"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"termEnd",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Term End Date",s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Optional)"})]}),s.jsx("input",{type:"date",id:"termEnd",name:"termEnd",value:r.termEnd,onChange:T,min:r.termStart,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"YYYY-MM-DD"}),r.termStart&&r.termEnd&&r.termEnd<r.termStart&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:"End date must be after start date"})]})]}),s.jsxs("div",{className:"flex gap-4 pt-6 border-t",children:[s.jsx("button",{type:"button",onClick:()=>n("/admin/members"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-all",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:x,className:"flex items-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-8 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all disabled:opacity-50",children:[s.jsx(Bs,{size:20}),x?"Saving...":t?"Update Member":"Add Member"]})]})]})})]})},mB=()=>{const[n,e]=W.useState([]),[t,r]=W.useState(""),[a,o]=W.useState("ALL"),[c,u]=W.useState(!0),h=["ALL","Certificate","Tax","License","Registration","Other"];W.useEffect(()=>{(async()=>{try{u(!0);const b=await lw();e(b)}catch(b){console.error("Error loading services:",b)}finally{u(!1)}})()},[]);const f=n.filter(v=>{const b=v.name.en.toLowerCase().includes(t.toLowerCase())||v.name.mr.includes(t),T=a==="ALL"||v.category===a;return b&&T}),g=async v=>{if(window.confirm("Are you sure you want to delete this service?"))try{await kV(v),e(n.filter(b=>b.id!==v)),console.log("Service deleted successfully")}catch(b){console.error("Error deleting service:",b),alert("Failed to delete service. Please try again.")}},x=v=>({Certificate:"bg-blue-100 text-blue-700",Tax:"bg-green-100 text-green-700",License:"bg-purple-100 text-purple-700",Registration:"bg-orange-100 text-orange-700",Other:"bg-gray-100 text-gray-700"})[v]||"bg-gray-100 text-gray-700";return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Services Management"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all services provided by Gram Panchayat"})]}),s.jsxs(_n,{to:"/admin/services/new",className:"flex items-center gap-2 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[s.jsx(Ss,{size:20}),"Add Service"]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search services...",value:t,onChange:v=>r(v.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsx("select",{value:a,onChange:v=>o(v.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:h.map(v=>s.jsx("option",{value:v,children:v==="ALL"?"All Categories":v},v))})]})}),s.jsx("div",{className:"grid grid-cols-1 gap-6",children:f.length>0?f.map(v=>s.jsx("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center",children:s.jsx(hr,{size:24,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:v.name.en}),s.jsx("p",{className:"text-gray-600",children:v.name.mr})]})]})}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${x(v.category)}`,children:v.category})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600 text-sm",children:v.description.en})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Fees:"}),s.jsx("span",{className:"text-green-600 font-bold",children:v.fees})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Processing Time:"}),s.jsx("span",{className:"text-blue-600 font-semibold",children:v.processingTime})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Required Documents"}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:s.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans",children:v.requiredDocuments.en})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"How to Apply"}),s.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:s.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans",children:v.howToApply.en})})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsxs(_n,{to:`/admin/services/edit/${v.id}`,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-semibold transition-all",children:[s.jsx(ad,{size:18}),"Edit Service"]}),s.jsxs("button",{onClick:()=>g(v.id),className:"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:[s.jsx(ei,{size:18}),"Delete"]})]})]})},v.id)):s.jsxs("div",{className:"col-span-full text-center py-12 bg-white rounded-xl shadow-lg",children:[s.jsx(hr,{size:64,className:"mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No services found"}),s.jsxs(_n,{to:"/admin/services/new",className:"inline-flex items-center gap-2 mt-4 text-green-600 hover:text-green-700 font-semibold",children:[s.jsx(Ss,{size:20}),"Add your first service"]})]})})]})},g4=()=>{const n=Ar(),{id:e}=pl(),t=!!e,[r,a]=W.useState({name:{en:"",mr:""},category:"Certificate",description:{en:"",mr:""},requiredDocuments:{en:"",mr:""},fees:"",processingTime:"",howToApply:{en:"",mr:""}}),[o,c]=W.useState({}),[u,h]=W.useState(!1),[f,g]=W.useState(!1),x=["Certificate","Tax","License","Registration","Other"];W.useEffect(()=>{(async()=>{if(t&&e)try{h(!0);const S=await CV(e);S&&a({name:S.name||{en:"",mr:""},category:S.category||"Certificate",description:S.description||{en:"",mr:""},requiredDocuments:S.requiredDocuments||{en:"",mr:""},fees:S.fees||"",processingTime:S.processingTime||"",howToApply:S.howToApply||{en:"",mr:""}})}catch(S){console.error("Error loading service:",S),alert("Failed to load service. Please try again.")}finally{h(!1)}})()},[t,e]);const v=(j,S)=>{a(L=>({...L,[j]:S})),o[j]&&c(L=>({...L,[j]:""}))},b=j=>{const{name:S,value:L}=j.target;a(D=>({...D,[S]:L})),o[S]&&c(D=>({...D,[S]:""}))},T=()=>{const j={};return r.name.en.trim()||(j.name="Service name is required"),r.description.en.trim()||(j.description="Description is required"),r.requiredDocuments.en.trim()||(j.requiredDocuments="Required documents is required"),r.fees.trim()||(j.fees="Fees is required"),r.processingTime.trim()||(j.processingTime="Processing time is required"),r.howToApply.en.trim()||(j.howToApply="How to apply is required"),j},E=async j=>{j.preventDefault();const S=T();if(Object.keys(S).length>0){c(S);return}g(!0);try{const L={name:r.name,category:r.category,description:r.description,requiredDocuments:r.requiredDocuments,fees:r.fees,processingTime:r.processingTime,howToApply:r.howToApply};t?(await RV(e,L),console.log("Service updated successfully")):(await IV(L),console.log("Service created successfully")),n("/admin/services")}catch(L){console.error("Error saving service:",L),alert("Failed to save service. Please try again.")}finally{g(!1)}};return u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n("/admin/services"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(po,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Service":"Add New Service"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update service information":"Add a new service offered by the Panchayat"})]})]})}),s.jsxs("form",{onSubmit:E,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(jn,{label:"Service Name",name:"name",value:r.name,onChange:j=>v("name",j),required:!0,placeholder:"Enter service name"}),o.name&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.name})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("select",{name:"category",value:r.category,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:x.map(j=>s.jsx("option",{value:j,children:j},j))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fees ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"fees",value:r.fees,onChange:b,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.fees?"border-red-500":"border-gray-300"}`,placeholder:"e.g., 100 or Free"}),o.fees&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.fees})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Processing Time ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"processingTime",value:r.processingTime,onChange:b,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.processingTime?"border-red-500":"border-gray-300"}`,placeholder:"e.g., 7 days or 1-2 weeks"}),o.processingTime&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.processingTime})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Description"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(jn,{label:"Service Description",name:"description",type:"textarea",rows:5,value:r.description,onChange:j=>v("description",j),required:!0,placeholder:"Describe the service in detail..."}),o.description&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.description})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Required Documents"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(jn,{label:"Documents Required",name:"requiredDocuments",type:"textarea",rows:5,value:r.requiredDocuments,onChange:j=>v("requiredDocuments",j),required:!0,placeholder:"List required documents..."}),o.requiredDocuments&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.requiredDocuments})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"How to Apply"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(jn,{label:"Application Process",name:"howToApply",type:"textarea",rows:5,value:r.howToApply,onChange:j=>v("howToApply",j),required:!0,placeholder:"Explain how to apply for this service..."}),o.howToApply&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.howToApply})]})]}),s.jsxs("div",{className:"flex gap-4 justify-end",children:[s.jsx("button",{type:"button",onClick:()=>n("/admin/services"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50",children:[s.jsx(Bs,{className:"w-4 h-4"}),f?"Saving...":t?"Update Service":"Save Service"]})]})]})]})},gB=()=>{const[n,e]=W.useState([]),[t,r]=W.useState(""),[a,o]=W.useState("ALL"),[c,u]=W.useState(!0),h=["ALL","CENTRAL","STATE","DISTRICT"];W.useEffect(()=>{(async()=>{try{u(!0);const T=await cw();e(T)}catch(T){console.error("Error loading schemes:",T)}finally{u(!1)}})()},[]);const f=n.filter(b=>{const T=b.name.en.toLowerCase().includes(t.toLowerCase())||b.name.mr.includes(t),E=a==="ALL"||b.category===a;return T&&E}),g=async b=>{if(window.confirm("Are you sure you want to delete this scheme?"))try{await OV(b),e(n.filter(T=>T.id!==b)),console.log("Scheme deleted successfully")}catch(T){console.error("Error deleting scheme:",T),alert("Failed to delete scheme. Please try again.")}},x=b=>({CENTRAL:"bg-orange-100 text-orange-700",STATE:"bg-green-100 text-green-700",DISTRICT:"bg-blue-100 text-blue-700"})[b]||"bg-gray-100 text-gray-700",v=b=>b==="ACTIVE"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700";return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Schemes Management"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage government schemes and programs"})]}),s.jsxs(_n,{to:"/admin/schemes/new",className:"flex items-center gap-2 bg-gradient-to-r from-blue-800 to-blue-900 hover:from-blue-900 hover:to-blue-950 text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[s.jsx(Ss,{size:20}),"Add Scheme"]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search schemes...",value:t,onChange:b=>r(b.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsx("select",{value:a,onChange:b=>o(b.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:h.map(b=>s.jsx("option",{value:b,children:b==="ALL"?"All Categories":b},b))})]})}),s.jsx("div",{className:"grid grid-cols-1 gap-6",children:f.length>0?f.map(b=>s.jsx("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-800 to-blue-900 rounded-full flex items-center justify-center",children:s.jsx(Yf,{size:24,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:b.name.en}),s.jsx("p",{className:"text-gray-600",children:b.name.mr})]})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${x(b.category)}`,children:b.category}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${v(b.status)}`,children:b.status})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600 text-sm",children:b.description.en})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Eligibility Criteria"}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:s.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans",children:b.eligibility.en})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Required Documents"}),s.jsx("div",{className:"bg-orange-50 p-4 rounded-lg",children:s.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans",children:b.documentsRequired.en})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Application Process"}),s.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-700",children:b.applicationProcess.en})})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsxs(_n,{to:`/admin/schemes/edit/${b.id}`,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-semibold transition-all",children:[s.jsx(ad,{size:18}),"Edit Scheme"]}),s.jsxs("button",{onClick:()=>g(b.id),className:"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:[s.jsx(ei,{size:18}),"Delete"]})]})]})},b.id)):s.jsxs("div",{className:"col-span-full text-center py-12 bg-white rounded-xl shadow-lg",children:[s.jsx(Yf,{size:64,className:"mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No schemes found"}),s.jsxs(_n,{to:"/admin/schemes/new",className:"inline-flex items-center gap-2 mt-4 text-blue-600 hover:text-blue-700 font-semibold",children:[s.jsx(Ss,{size:20}),"Add your first scheme"]})]})})]})};function p4(){const n=Ar(),{id:e}=pl(),t=!!e,[r,a]=W.useState(!1),[o,c]=W.useState(!1),[u,h]=W.useState({name:{en:"",mr:""},category:"CENTRAL",description:{en:"",mr:""},eligibility:{en:"",mr:""},documentsRequired:{en:"",mr:""},applicationProcess:{en:"",mr:""},status:"ACTIVE"}),[f,g]=W.useState({});W.useEffect(()=>{(async()=>{if(t)try{a(!0);const j=await LV(e);j&&h({name:j.name,category:j.category,description:j.description,eligibility:j.eligibility,documentsRequired:{en:j.documentsRequired.en.join(`
`),mr:j.documentsRequired.mr.join(`
`)},applicationProcess:j.applicationProcess,status:j.status})}catch(j){console.error("Error loading scheme:",j)}finally{a(!1)}})()},[e,t]);const x=(E,j)=>{h(S=>({...S,[E]:j})),f[E]&&g(S=>({...S,[E]:""}))},v=E=>{const{name:j,value:S}=E.target;h(L=>({...L,[j]:S})),f[j]&&g(L=>({...L,[j]:""}))},b=()=>{const E={};return u.name.en.trim()||(E.name="Scheme name is required"),u.description.en.trim()||(E.description="Description is required"),u.eligibility.en.trim()||(E.eligibility="Eligibility criteria is required"),u.documentsRequired.en.trim()||(E.documentsRequired="Required documents are required"),u.applicationProcess.en.trim()||(E.applicationProcess="Application process is required"),g(E),Object.keys(E).length===0},T=async E=>{if(E.preventDefault(),!!b())try{c(!0);const j={name:u.name,category:u.category,description:u.description,eligibility:u.eligibility,documentsRequired:{en:u.documentsRequired.en.split(`
`).filter(S=>S.trim()),mr:u.documentsRequired.mr.split(`
`).filter(S=>S.trim())},applicationProcess:u.applicationProcess,status:u.status};t?await MV(e,j):await DV(j),n("/admin/schemes")}catch(j){console.error("Error saving scheme:",j),alert("Failed to save scheme. Please try again.")}finally{c(!1)}};return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n("/admin/schemes"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(po,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Scheme":"Add New Scheme"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update scheme information":"Add a new government scheme"})]})]})}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsx(s.Fragment,{children:s.jsxs("form",{onSubmit:T,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(jn,{label:"Scheme Name",name:"name",value:u.name,onChange:E=>x("name",E),required:!0,placeholder:"Enter scheme name"}),f.name&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.name})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"category",value:u.category,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"CENTRAL",children:"Central Government"}),s.jsx("option",{value:"STATE",children:"State Government"}),s.jsx("option",{value:"DISTRICT",children:"District Level"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"status",value:u.status,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"ACTIVE",children:"Active"}),s.jsx("option",{value:"INACTIVE",children:"Inactive"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Description"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(jn,{label:"Scheme Description",name:"description",type:"textarea",rows:5,value:u.description,onChange:E=>x("description",E),required:!0,placeholder:"Describe the scheme in detail..."}),f.description&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.description})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Eligibility Criteria"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(jn,{label:"Eligibility Criteria",name:"eligibility",type:"textarea",rows:5,value:u.eligibility,onChange:E=>x("eligibility",E),required:!0,placeholder:"Who can apply for this scheme..."}),f.eligibility&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.eligibility})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Required Documents"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(jn,{label:"Documents Required",name:"documentsRequired",type:"textarea",rows:6,value:u.documentsRequired,onChange:E=>x("documentsRequired",E),required:!0,placeholder:"List required documents (one per line)..."}),f.documentsRequired&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.documentsRequired}),s.jsx("p",{className:"text-xs text-gray-500",children:"Enter one document per line"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Application Process"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(jn,{label:"Application Process",name:"applicationProcess",type:"textarea",rows:6,value:u.applicationProcess,onChange:E=>x("applicationProcess",E),required:!0,placeholder:"Explain how to apply for this scheme..."}),f.applicationProcess&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.applicationProcess})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Status"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheme Status"}),s.jsxs("select",{name:"status",value:u.status,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"ACTIVE",children:"Active"}),s.jsx("option",{value:"INACTIVE",children:"Inactive"}),s.jsx("option",{value:"UPCOMING",children:"Upcoming"})]})]})]}),s.jsxs("div",{className:"flex gap-4 justify-end",children:[s.jsx("button",{type:"button",onClick:()=>n("/admin/schemes"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:o,children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,children:[s.jsx(Bs,{className:"w-4 h-4"}),o?"Saving...":t?"Update Scheme":"Save Scheme"]})]})]})})]})}function pB(){const n=Ar(),[e,t]=W.useState([]),[r,a]=W.useState(!0),[o,c]=W.useState(""),[u,h]=W.useState("ALL");W.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const j=await hw();t(j)}catch(j){console.error("Error loading notices:",j),alert("Failed to load notices. Please try again.")}finally{a(!1)}},g=e.filter(j=>{const S=j.titleEn.toLowerCase().includes(o.toLowerCase())||j.titleMr&&j.titleMr.toLowerCase().includes(o.toLowerCase()),L=u==="ALL"||j.type===u;return S&&L}),x=async j=>{if(window.confirm("Are you sure you want to delete this notice?"))try{await oB(j),t(e.filter(S=>S.id!==j))}catch(S){console.error("Error deleting notice:",S),alert("Failed to delete notice. Please try again.")}},v=j=>{switch(j){case"MEETING":return s.jsx(Vi,{className:"w-4 h-4"});case"TENDER":return s.jsx(hr,{className:"w-4 h-4"});case"ANNOUNCEMENT":return s.jsx(Ex,{className:"w-4 h-4"});default:return s.jsx(hr,{className:"w-4 h-4"})}},b=j=>{const S={MEETING:"bg-blue-100 text-blue-700",TENDER:"bg-green-100 text-green-700",ANNOUNCEMENT:"bg-orange-100 text-orange-700"};return s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${S[j]}`,children:[v(j),j]})},T=j=>new Date(j).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),E=j=>{const S=new Date,L=new Date(j.startDate),D=new Date(j.endDate);return S>=L&&S<=D};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Notices Management"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage meetings, tenders, and announcements"})]}),s.jsxs("button",{onClick:()=>n("/admin/notices/new"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-md hover:shadow-lg",children:[s.jsx(Ss,{className:"w-5 h-5"}),"Add Notice"]})]}),r?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg",children:s.jsx(Vi,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Meetings"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(j=>j.type==="MEETING").length})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-green-600 to-green-700 rounded-lg",children:s.jsx(hr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Tenders"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(j=>j.type==="TENDER").length})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg",children:s.jsx(Ex,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Announcements"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(j=>j.type==="ANNOUNCEMENT").length})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg",children:s.jsx(Zr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(j=>E(j)).length})]})]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6 border border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search notices...",value:o,onChange:j=>c(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsx("div",{children:s.jsxs("select",{value:u,onChange:j=>h(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"ALL",children:"All Types"}),s.jsx("option",{value:"MEETING",children:"Meetings"}),s.jsx("option",{value:"TENDER",children:"Tenders"}),s.jsx("option",{value:"ANNOUNCEMENT",children:"Announcements"})]})})]})}),s.jsx("div",{className:"space-y-4",children:g.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center border border-gray-200",children:[s.jsx(Vi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Notices Found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:o||u!=="ALL"?"Try adjusting your filters":"Get started by adding your first notice"}),!o&&u==="ALL"&&s.jsx("button",{onClick:()=>n("/admin/notices/new"),className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all",children:"Add Notice"})]}):g.map(j=>s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b(j.type),E(j)?s.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700 flex items-center gap-1",children:[s.jsx(zi,{className:"w-3 h-3"}),"ACTIVE"]}):s.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600 flex items-center gap-1",children:[s.jsx(yh,{className:"w-3 h-3"}),"INACTIVE"]}),j.showOnHome&&s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:"ON HOMEPAGE"})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-1",children:j.titleEn}),j.titleMr&&s.jsx("p",{className:"text-base text-gray-600 mb-3",children:j.titleMr}),s.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zr,{className:"w-4 h-4"}),s.jsxs("span",{children:["From: ",T(j.startDate)]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zr,{className:"w-4 h-4"}),s.jsxs("span",{children:["To: ",T(j.endDate)]})]})]}),s.jsx("p",{className:"text-gray-700 mb-2",children:j.descriptionEn}),j.descriptionMr&&s.jsx("p",{className:"text-gray-600 text-sm",children:j.descriptionMr})]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsx("button",{onClick:()=>n(`/admin/notices/edit/${j.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:s.jsx(hp,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>x(j.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:s.jsx(ei,{className:"w-5 h-5"})})]})]})},j.id))})]})]})}function x4(){const n=Ar(),{id:e}=pl(),t=!!e,[r,a]=W.useState({titleEn:"",titleMr:"",type:"ANNOUNCEMENT",descriptionEn:"",descriptionMr:"",startDate:"",endDate:"",showOnHome:!1}),[o,c]=W.useState({}),[u,h]=W.useState(!1),[f,g]=W.useState(!1);W.useEffect(()=>{t&&x()},[e,t]);const x=async()=>{try{g(!0);const j=await sB(e);a({titleEn:j.titleEn||"",titleMr:j.titleMr||"",type:j.type||"ANNOUNCEMENT",descriptionEn:j.descriptionEn||"",descriptionMr:j.descriptionMr||"",startDate:j.startDate||"",endDate:j.endDate||"",showOnHome:j.showOnHome||!1})}catch(j){console.error("Error loading notice:",j),alert("Failed to load notice. Redirecting to notices list."),n("/admin/notices")}finally{g(!1)}},v=(j,S,L)=>{const D=S?`${j}${S.charAt(0).toUpperCase()+S.slice(1)}`:j;a(O=>({...O,[D]:L})),o[D]&&c(O=>({...O,[D]:""}))},b=j=>{const{name:S,value:L,type:D,checked:O}=j.target;a(te=>({...te,[S]:D==="checkbox"?O:L})),o[S]&&c(te=>({...te,[S]:""}))},T=()=>{const j={};if(r.titleEn.trim()||(j.titleEn="Title is required"),r.descriptionEn.trim()||(j.descriptionEn="Description is required"),r.startDate||(j.startDate="Start date is required"),r.endDate||(j.endDate="End date is required"),r.startDate&&r.endDate){const S=new Date(r.startDate);new Date(r.endDate)<S&&(j.endDate="End date must be after start date")}return c(j),Object.keys(j).length===0},E=async j=>{if(j.preventDefault(),!!T())try{h(!0);const S={titleEn:r.titleEn,titleMr:r.titleMr,type:r.type,descriptionEn:r.descriptionEn,descriptionMr:r.descriptionMr,startDate:r.startDate,endDate:r.endDate,showOnHome:r.showOnHome};t?(await iB(e,S),alert("Notice updated successfully!")):(await aB(S),alert("Notice created successfully!")),n("/admin/notices")}catch(S){console.error("Error saving notice:",S),alert("Failed to save notice. Please try again.")}finally{h(!1)}};return f?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n("/admin/notices"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:u,children:s.jsx(po,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Notice":"Add New Notice"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update notice information":"Create a new notice, meeting, or tender"})]})]})}),s.jsxs("form",{onSubmit:E,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title (English) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:r.titleEn,onChange:j=>v("title","en",j.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.titleEn?"border-red-500":"border-gray-300"}`,placeholder:"Enter notice title in English",disabled:u}),o.titleEn&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.titleEn})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (Marathi)"}),s.jsx("input",{type:"text",value:r.titleMr,onChange:j=>v("title","mr",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"    ",disabled:u})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"type",value:r.type,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",disabled:u,children:[s.jsx("option",{value:"ANNOUNCEMENT",children:"Announcement"}),s.jsx("option",{value:"MEETING",children:"Meeting"}),s.jsx("option",{value:"TENDER",children:"Tender"}),s.jsx("option",{value:"EVENT",children:"Event"}),s.jsx("option",{value:"HOLIDAY",children:"Holiday"}),s.jsx("option",{value:"URGENT",children:"Urgent"}),s.jsx("option",{value:"OTHER",children:"Other"})]})]}),s.jsx("div",{className:"flex items-center",children:s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"showOnHome",checked:r.showOnHome,onChange:b,className:"w-5 h-5 text-orange-600 border-gray-300 rounded focus:ring-orange-500",disabled:u}),s.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Show on Homepage"})]})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Description"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description (English) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{rows:6,value:r.descriptionEn,onChange:j=>v("description","en",j.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.descriptionEn?"border-red-500":"border-gray-300"}`,placeholder:"Enter detailed description in English",disabled:u}),o.descriptionEn&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.descriptionEn})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Marathi)"}),s.jsx("textarea",{rows:6,value:r.descriptionMr,onChange:j=>v("description","mr",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"    ",disabled:u})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Validity Period"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Start Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",name:"startDate",value:r.startDate,onChange:b,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.startDate?"border-red-500":"border-gray-300"}`,disabled:u}),o.startDate&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.startDate}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"When this notice becomes active"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["End Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",name:"endDate",value:r.endDate,onChange:b,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.endDate?"border-red-500":"border-gray-300"}`,disabled:u}),o.endDate&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.endDate}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"When this notice expires"})]})]}),s.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Note:"})," The notice will automatically be marked as active during the specified date range. After the end date, it will be marked as inactive."]})})]}),s.jsxs("div",{className:"flex gap-4 justify-end",children:[s.jsx("button",{type:"button",onClick:()=>n("/admin/notices"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",disabled:u,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:u,children:u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t?"Updating...":"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bs,{className:"w-4 h-4"}),t?"Update Notice":"Save Notice"]})})]})]})]})}function xB(){const n=Ar(),[e,t]=W.useState([]),[r,a]=W.useState(!0),[o,c]=W.useState("");W.useEffect(()=>{u()},[]);const u=async()=>{try{a(!0);const x=await dw();console.log("Loaded gallery programs from Firebase:",x.length),t(x)}catch(x){console.error("Error loading gallery programs:",x),alert("Failed to load gallery programs")}finally{a(!1)}},h=e.filter(x=>x.titleEn?.toLowerCase().includes(o.toLowerCase())||x.titleMr?.toLowerCase().includes(o.toLowerCase())),f=async x=>{if(window.confirm("Are you sure you want to delete this program/photo? All images will be permanently deleted."))try{await KV(x),t(e.filter(v=>v.id!==x)),alert("Program deleted successfully!")}catch(v){console.error("Error deleting program:",v),alert("Failed to delete program")}},g=x=>new Date(x).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"});return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Gallery Management"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage photos and programs"})]}),s.jsxs("button",{onClick:()=>n("/admin/gallery/new"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-md hover:shadow-lg",children:[s.jsx(Ss,{className:"w-5 h-5"}),"Add Photo/Program"]})]}),r?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg",children:s.jsx(Ma,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Programs"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-green-600 to-green-700 rounded-lg",children:s.jsx(Ma,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Images"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.reduce((x,v)=>x+(v.images?.length||0),0)})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-800 to-blue-900 rounded-lg",children:s.jsx(Zr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"This Month"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(x=>{const v=new Date(x.date),b=new Date;return v.getMonth()===b.getMonth()&&v.getFullYear()===b.getFullYear()}).length})]})]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6 border border-gray-200",children:s.jsxs("div",{className:"relative",children:[s.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search programs...",value:o,onChange:x=>c(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.length===0?s.jsxs("div",{className:"col-span-full bg-white rounded-xl shadow-sm p-12 text-center border border-gray-200",children:[s.jsx(Ma,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Photos Found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:o?"Try adjusting your search":"Get started by adding your first photo or program"}),!o&&s.jsx("button",{onClick:()=>n("/admin/gallery/new"),className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all",children:"Add Photo/Program"})]}):h.map(x=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200 hover:shadow-lg transition-shadow group",children:[s.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden",children:[x.images&&x.images.length>0?s.jsx("img",{src:x.images[0],alt:x.titleEn,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Ma,{className:"w-16 h-16 text-gray-400"})}),x.images&&x.images.length>1&&s.jsx("div",{className:"absolute top-3 left-3",children:s.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/70 text-white shadow-lg flex items-center gap-1",children:[s.jsx(Ma,{className:"w-3 h-3"}),x.images.length," photos"]})}),s.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3",children:[s.jsx("button",{onClick:()=>n(`/admin/gallery/edit/${x.id}`),className:"p-3 bg-white/90 hover:bg-white rounded-lg transition-colors",title:"Edit",children:s.jsx(hp,{className:"w-5 h-5 text-blue-600"})}),s.jsx("button",{onClick:()=>f(x.id),className:"p-3 bg-white/90 hover:bg-white rounded-lg transition-colors",title:"Delete",children:s.jsx(ei,{className:"w-5 h-5 text-red-600"})})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2",children:[s.jsx(Zr,{className:"w-4 h-4"}),s.jsx("span",{children:g(x.date)})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:x.titleEn}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:x.titleMr}),s.jsx("p",{className:"text-gray-700 text-sm line-clamp-2 mb-2",children:x.descriptionEn}),s.jsx("p",{className:"text-gray-600 text-xs line-clamp-2",children:x.descriptionMr})]})]},x.id))})]})]})}const yB=async(n,e=350,t=1920,r=1080)=>new Promise((a,o)=>{const c=n.size/1024;if(c<=e){console.log(`Image ${n.name} is already small enough (${c.toFixed(2)}KB)`),a(n);return}const u=new FileReader;u.onload=h=>{const f=new Image;f.onload=()=>{let g=f.width,x=f.height;if(g>t||x>r){const S=g/x;g>x?(g=t,x=g/S):(x=r,g=x*S)}const v=document.createElement("canvas");v.width=g,v.height=x,v.getContext("2d").drawImage(f,0,0,g,x);let T=.9;const E=e*1024,j=S=>{v.toBlob(L=>{if(!L){o(new Error("Failed to compress image"));return}if(console.log(`Compressed ${n.name}: ${(L.size/1024).toFixed(2)}KB at quality ${S}`),L.size<=E||S<=.5){const D=new File([L],n.name,{type:"image/jpeg",lastModified:Date.now()});console.log(`Final size: ${(D.size/1024).toFixed(2)}KB`),a(D)}else j(S-.1)},"image/jpeg",S)};j(T)},f.onerror=()=>{o(new Error("Failed to load image"))},f.src=h.target.result},u.onerror=()=>{o(new Error("Failed to read file"))},u.readAsDataURL(n)}),bB=n=>{const e=[];if(!n.type.startsWith("image/"))return e.push("File must be an image"),{valid:!1,errors:e};const t=10;return n.size>t*1024*1024?(e.push(`File size must be less than ${t}MB`),{valid:!1,errors:e}):["image/jpeg","image/jpg","image/png","image/webp"].includes(n.type)?{valid:!0,errors:[]}:(e.push("Only JPEG, PNG, and WebP images are allowed"),{valid:!1,errors:e})};function y4(){const n=Ar(),{id:e}=pl(),t=!!e,[r,a]=W.useState({titleEn:"",titleMr:"",descriptionEn:"",descriptionMr:"",date:"",youtubeLink:""}),[o,c]=W.useState([]),[u,h]=W.useState([]),[f,g]=W.useState([]),[x,v]=W.useState(!1),[b,T]=W.useState({}),[E,j]=W.useState(!1),[S,L]=W.useState(!1);W.useEffect(()=>{t&&D()},[e,t]);const D=async()=>{try{L(!0);const P=await xT(e);a({titleEn:P.titleEn||"",titleMr:P.titleMr||"",descriptionEn:P.descriptionEn||"",descriptionMr:P.descriptionMr||"",date:P.date?.toISOString?.().split("T")[0]||"",youtubeLink:P.youtubeLink||""}),c(P.images||[])}catch(P){console.error("Error loading program:",P),alert("Failed to load program"),n("/admin/gallery")}finally{L(!1)}},O=(P,B,ue)=>{const Ne=`${P}${B.charAt(0).toUpperCase()+B.slice(1)}`;a(ce=>({...ce,[Ne]:ue})),b[P]&&T(ce=>({...ce,[P]:""}))},te=P=>{const{name:B,value:ue}=P.target;a(Ne=>({...Ne,[B]:ue})),b[B]&&T(Ne=>({...Ne,[B]:""}))},ee=async P=>{const B=Array.from(P.target.files);if(B.length!==0){v(!0);try{const ue=[],Ne=[];for(const ce of B){const pe=bB(ce);if(!pe.valid){Ne.push(`${ce.name}: ${pe.errors.join(", ")}`);continue}try{const de=ce.size/1024;console.log(`Original size of ${ce.name}: ${de.toFixed(2)}KB`);let Se=ce;if(de>1024){console.log(`Compressing ${ce.name}...`),Se=await yB(ce,350);const ze=Se.size/1024;console.log(`Compressed ${ce.name}: ${de.toFixed(2)}KB  ${ze.toFixed(2)}KB`)}ue.push(Se)}catch(de){console.error(`Error compressing ${ce.name}:`,de),Ne.push(`${ce.name}: Failed to compress`)}}if(Ne.length>0&&alert(`Some files had errors:
`+Ne.join(`
`)),ue.length===0){v(!1);return}h(ce=>[...ce,...ue]);for(const ce of ue){const pe=new FileReader;pe.onloadend=()=>{g(de=>[...de,pe.result])},pe.readAsDataURL(ce)}if(T(ce=>({...ce,images:""})),ue.length>0){const ce=ue.reduce((pe,de)=>pe+de.size,0)/1024;console.log(`Successfully processed ${ue.length} image(s). Total size: ${ce.toFixed(2)}KB`)}}catch(ue){console.error("Error processing images:",ue),alert("Failed to process images. Please try again.")}finally{v(!1)}}},G=P=>{c(B=>B.filter(ue=>ue!==P))},U=P=>{h(B=>B.filter((ue,Ne)=>Ne!==P)),g(B=>B.filter((ue,Ne)=>Ne!==P))},k=()=>{const P={};r.titleEn.trim()||(P.titleEn="English title is required"),r.descriptionEn.trim()||(P.descriptionEn="English description is required"),r.date||(P.date="Date is required");const B=t&&o.length>0||u.length>0,ue=r.youtubeLink&&r.youtubeLink.trim()!=="";return!B&&!ue&&(P.media="Please provide either images or a YouTube video link"),r.youtubeLink&&r.youtubeLink.trim()!==""&&(/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/.+/.test(r.youtubeLink)||(P.youtubeLink="Please enter a valid YouTube URL")),T(P),Object.keys(P).length===0},F=async P=>{if(P.preventDefault(),!!k())try{j(!0);const B={titleEn:r.titleEn,titleMr:r.titleMr,descriptionEn:r.descriptionEn,descriptionMr:r.descriptionMr,date:r.date,youtubeLink:r.youtubeLink||""};t?(await WV(e,B,u,o),alert("Program updated successfully!")):(await $V(B,u),alert("Program created successfully!")),n("/admin/gallery")}catch(B){console.error("Error saving program:",B),alert("Failed to save program. Please try again.")}finally{j(!1)}};if(S)return s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})});const I=o.length+u.length;return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n("/admin/gallery"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:E,children:s.jsx(po,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Photo/Program":"Add New Photo/Program"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update photo/program information":"Add a new photo or program to the gallery"})]})]})}),s.jsxs("form",{onSubmit:F,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b flex items-center justify-between",children:[s.jsxs("span",{children:["Photos (",I,")"]}),I>0&&s.jsxs("span",{className:"text-sm font-normal text-gray-500",children:[o.length," saved + ",u.length," new"]})]}),s.jsxs("div",{className:"space-y-4",children:[o.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Saved Images"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:o.map((P,B)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:P,alt:`Existing ${B+1}`,className:"w-full h-32 object-cover rounded-lg border border-gray-300"}),s.jsx("button",{type:"button",onClick:()=>G(P),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors shadow-lg opacity-0 group-hover:opacity-100",disabled:E,children:s.jsx(pi,{className:"w-4 h-4"})})]},B))})]}),f.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"New Images (will be uploaded)"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:f.map((P,B)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:P,alt:`New ${B+1}`,className:"w-full h-32 object-cover rounded-lg border border-orange-300"}),s.jsx("button",{type:"button",onClick:()=>U(B),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors shadow-lg opacity-0 group-hover:opacity-100",disabled:E,children:s.jsx(pi,{className:"w-4 h-4"})})]},B))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block",children:[s.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${x?"border-orange-500 bg-orange-50":"border-gray-300 hover:border-orange-500"}`,children:x?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-orange-600 mx-auto mb-3"}),s.jsx("p",{className:"text-orange-600 font-medium mb-1",children:"Compressing images..."}),s.jsx("p",{className:"text-sm text-orange-500",children:"Please wait while we optimize your images"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ma,{className:"w-10 h-10 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 mb-1",children:"Click to upload images"}),s.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, WebP up to 10MB"}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Images over 1MB will be automatically compressed to ~350KB"})]})}),s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:ee,className:"hidden",disabled:E||x})]}),b.media&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:b.media})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b flex items-center gap-2",children:[s.jsx(j2,{className:"w-5 h-5 text-orange-600"}),s.jsx("span",{children:"YouTube Video (Optional)"})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube Video Link"}),s.jsx("input",{type:"url",value:r.youtubeLink,onChange:P=>a({...r,youtubeLink:P.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${b.youtubeLink?"border-red-500":"border-gray-300"}`,placeholder:"https://www.youtube.com/watch?v=...",disabled:E}),b.youtubeLink&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.youtubeLink}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Add a YouTube video link to display alongside or instead of images. Supported formats: youtube.com/watch?v=, youtu.be/"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title (English) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:r.titleEn,onChange:P=>O("title","en",P.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${b.titleEn?"border-red-500":"border-gray-300"}`,placeholder:"Enter program title in English",disabled:E}),b.titleEn&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.titleEn})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (Marathi)"}),s.jsx("input",{type:"text",value:r.titleMr,onChange:P=>O("title","mr",P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"    ",disabled:E})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",name:"date",value:r.date,onChange:te,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${b.date?"border-red-500":"border-gray-300"}`,disabled:E}),b.date&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.date})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Description"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description (English) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{rows:4,value:r.descriptionEn,onChange:P=>O("description","en",P.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${b.descriptionEn?"border-red-500":"border-gray-300"}`,placeholder:"Describe the program or event in English",disabled:E}),b.descriptionEn&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.descriptionEn})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Marathi)"}),s.jsx("textarea",{rows:4,value:r.descriptionMr,onChange:P=>O("description","mr",P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"     ",disabled:E})]})]})]}),s.jsxs("div",{className:"flex gap-4 justify-end",children:[s.jsx("button",{type:"button",onClick:()=>n("/admin/gallery"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",disabled:E,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:E,children:E?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t?"Updating...":"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bs,{className:"w-4 h-4"}),t?"Update Program":"Save Program"]})})]})]})]})}function vB(){const n=Ar(),[e,t]=W.useState([]),[r,a]=W.useState(!0),[o,c]=W.useState(""),[u,h]=W.useState("ALL"),[f,g]=W.useState("ALL");W.useEffect(()=>{x()},[]);const x=async()=>{try{a(!0);const S=await uw();t(S)}catch(S){console.error("Error loading forms:",S),alert("Failed to load forms. Please try again.")}finally{a(!1)}},v=e.filter(S=>{const L=S.titleEn.toLowerCase().includes(o.toLowerCase())||S.titleMr&&S.titleMr.toLowerCase().includes(o.toLowerCase()),D=u==="ALL"||S.category===u,O=f==="ALL"||S.language===f;return L&&D&&O}),b=async(S,L)=>{if(window.confirm("Are you sure you want to delete this form? The PDF file will also be removed."))try{await qV(S,L),t(e.filter(D=>D.id!==S))}catch(D){console.error("Error deleting form:",D),alert("Failed to delete form. Please try again.")}},T=S=>{const L={CERTIFICATE:"bg-blue-100 text-blue-700",APPLICATION:"bg-green-100 text-green-700",TAX:"bg-orange-100 text-orange-700",LICENSE:"bg-purple-100 text-purple-700",OTHER:"bg-gray-100 text-gray-700"};return s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${L[S]}`,children:S})},E=S=>{const L={ENGLISH:"bg-blue-500 text-white",MARATHI:"bg-orange-500 text-white",BOTH:"bg-gradient-to-r from-blue-500 to-orange-500 text-white"};return s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${L[S]}`,children:[s.jsx(Tf,{className:"w-3 h-3"}),S]})},j=S=>{S.fileUrl?window.open(S.fileUrl,"_blank"):alert(" No file URL available for this form. Please edit and re-upload the PDF file.")};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Forms & Downloads"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage downloadable forms and documents"})]}),s.jsxs("button",{onClick:()=>n("/admin/forms/new"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-md hover:shadow-lg",children:[s.jsx(Ss,{className:"w-5 h-5"}),"Upload Form"]})]}),r?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg",children:s.jsx(hr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Forms"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg",children:s.jsx(Tf,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"English"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(S=>S.language==="ENGLISH"||S.language==="BOTH").length})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-600 to-orange-700 rounded-lg",children:s.jsx(Tf,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Marathi"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(S=>S.language==="MARATHI"||S.language==="BOTH").length})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-green-600 to-green-700 rounded-lg",children:s.jsx(Vo,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Downloads"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.reduce((S,L)=>S+(L.downloads||0),0)})]})]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6 border border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search forms...",value:o,onChange:S=>c(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsx("div",{children:s.jsxs("select",{value:u,onChange:S=>h(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"ALL",children:"All Categories"}),s.jsx("option",{value:"CERTIFICATE",children:"Certificate"}),s.jsx("option",{value:"APPLICATION",children:"Application"}),s.jsx("option",{value:"TAX",children:"Tax"}),s.jsx("option",{value:"LICENSE",children:"License"}),s.jsx("option",{value:"OTHER",children:"Other"})]})}),s.jsx("div",{children:s.jsxs("select",{value:f,onChange:S=>g(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"ALL",children:"All Languages"}),s.jsx("option",{value:"ENGLISH",children:"English Only"}),s.jsx("option",{value:"MARATHI",children:"Marathi Only"}),s.jsx("option",{value:"BOTH",children:"Both Languages"})]})})]})}),s.jsx("div",{className:"space-y-4",children:v.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center border border-gray-200",children:[s.jsx(hr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Forms Found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:o||u!=="ALL"||f!=="ALL"?"Try adjusting your filters":"Get started by uploading your first form"}),!o&&u==="ALL"&&f==="ALL"&&s.jsx("button",{onClick:()=>n("/admin/forms/new"),className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all",children:"Upload Form"})]}):v.map(S=>s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[T(S.category),E(S.language),!S.fileUrl&&s.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700 flex items-center gap-1 animate-pulse",children:[s.jsx(aw,{className:"w-3 h-3"}),"Missing File"]})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-1",children:S.titleEn}),S.titleMr&&s.jsx("p",{className:"text-base text-gray-600 mb-3",children:S.titleMr}),s.jsx("p",{className:"text-gray-700 mb-2",children:S.descriptionEn}),S.descriptionMr&&s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:S.descriptionMr}),s.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hr,{className:"w-4 h-4"}),s.jsx("span",{children:S.fileName||"PDF Document"})]}),S.fileSize&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vo,{className:"w-4 h-4"}),s.jsxs("span",{children:[(S.fileSize/1024).toFixed(2)," KB"]})]})]})]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsx("button",{onClick:()=>j(S),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download",children:s.jsx(Vo,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>n(`/admin/forms/edit/${S.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:s.jsx(hp,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>b(S.id,S.fileUrl),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:s.jsx(ei,{className:"w-5 h-5"})})]})]})},S.id))})]})]})}function b4(){const n=Ar(),{id:e}=pl(),t=!!e,[r,a]=W.useState({titleEn:"",titleMr:"",descriptionEn:"",descriptionMr:"",category:"APPLICATION",language:"BOTH",file:null,fileName:"",existingFileUrl:""}),[o,c]=W.useState({}),[u,h]=W.useState(!1),[f,g]=W.useState(0);W.useEffect(()=>{(async()=>{if(t)try{h(!0);const L=await VV(e);L?a({titleEn:L.titleEn||"",titleMr:L.titleMr||"",descriptionEn:L.descriptionEn||"",descriptionMr:L.descriptionMr||"",category:L.category,language:L.language,file:null,fileName:L.fileName||"",existingFileUrl:L.fileUrl||""}):(alert("Form not found"),n("/admin/forms"))}catch(L){console.error("Error loading form:",L),alert("Failed to load form")}finally{h(!1)}})()},[e,t,n]);const x=(S,L)=>{a(D=>({...D,[S]:L})),o[S]&&c(D=>({...D,[S]:""}))},v=S=>{const{name:L,value:D}=S.target;a(O=>({...O,[L]:D})),o[L]&&c(O=>({...O,[L]:""}))},b=S=>{const L=S.target.files[0];if(L){if(L.type!=="application/pdf"){c(D=>({...D,file:"Please select a PDF file"}));return}if(L.size>10*1024*1024){c(D=>({...D,file:"File size should be less than 10MB"}));return}a(D=>({...D,file:L,fileName:L.name})),c(D=>({...D,file:""}))}},T=()=>{a(S=>({...S,file:null,fileName:""}))},E=()=>{const S={};return r.titleEn.trim()||(S.titleEn="English title is required"),r.descriptionEn.trim()||(S.descriptionEn="English description is required"),!r.file&&!t&&(S.file="PDF file is required"),!r.fileName&&!r.file&&(S.file="PDF file is required"),c(S),Object.keys(S).length===0},j=async S=>{if(S.preventDefault(),!!E())try{h(!0),g(0);const L={titleEn:r.titleEn,titleMr:r.titleMr,descriptionEn:r.descriptionEn,descriptionMr:r.descriptionMr,category:r.category,language:r.language};t?(await zV(e,L,r.file,r.existingFileUrl,D=>g(D)),alert("Form updated successfully!")):(await BV(L,r.file,D=>g(D)),alert("Form uploaded successfully!")),n("/admin/forms")}catch(L){console.error("Error saving form:",L),alert(`Failed to ${t?"update":"upload"} form: ${L.message}`)}finally{h(!1),g(0)}};return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n("/admin/forms"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(po,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Form":"Upload New Form"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update form information":"Upload a new downloadable form"})]})]})}),s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"PDF File Upload"}),s.jsxs("div",{className:"space-y-4",children:[r.fileName?s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(hr,{className:"w-8 h-8 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-800",children:r.fileName}),s.jsx("p",{className:"text-sm text-gray-500",children:"PDF Document"})]})]}),s.jsx("button",{type:"button",onClick:T,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(pi,{className:"w-5 h-5"})})]}):s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[s.jsx(Jf,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"Click to upload or drag and drop"}),s.jsx("p",{className:"text-sm text-gray-500",children:"PDF up to 10MB"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block",children:s.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:b,className:`block w-full text-sm text-gray-500
                    file:mr-4 file:py-2 file:px-4
                    file:rounded-lg file:border-0
                    file:text-sm file:font-semibold
                    file:bg-gradient-to-r file:from-orange-500 file:to-orange-600
                    file:text-white hover:file:from-orange-600 hover:file:to-orange-700
                    file:cursor-pointer cursor-pointer`})}),o.file&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.file})]}),u&&f>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsx("span",{children:"Uploading..."}),s.jsxs("span",{children:[f,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-2 rounded-full transition-all duration-300",style:{width:`${f}%`}})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Form Title (English) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:r.titleEn,onChange:S=>x("titleEn",S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter form title in English"}),o.titleEn&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.titleEn})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Form Title (Marathi)"}),s.jsx("input",{type:"text",value:r.titleMr,onChange:S=>x("titleMr",S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"    "})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"category",value:r.category,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"CERTIFICATE",children:"Certificate"}),s.jsx("option",{value:"APPLICATION",children:"Application"}),s.jsx("option",{value:"TAX",children:"Tax"}),s.jsx("option",{value:"LICENSE",children:"License"}),s.jsx("option",{value:"OTHER",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Language ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"language",value:r.language,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"ENGLISH",children:"English Only"}),s.jsx("option",{value:"MARATHI",children:"Marathi Only"}),s.jsx("option",{value:"BOTH",children:"Both Languages"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Description"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description (English) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{rows:4,value:r.descriptionEn,onChange:S=>x("descriptionEn",S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Describe the form and its purpose in English"}),o.descriptionEn&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.descriptionEn})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Marathi)"}),s.jsx("textarea",{rows:4,value:r.descriptionMr,onChange:S=>x("descriptionMr",S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"      "})]})]})]}),s.jsxs("div",{className:"flex gap-4 justify-end",children:[s.jsx("button",{type:"button",onClick:()=>n("/admin/forms"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:u,children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:u,children:[s.jsx(Bs,{className:"w-4 h-4"}),u?t?"Updating...":"Uploading...":t?"Update Form":"Upload Form"]})]})]})]})}function wB(){const{refresh:n}=tu(),[e,t]=W.useState({panchayatName:{en:"",mr:""},tagline:{en:"",mr:""},phone:"",email:"",address:{en:"",mr:""},officeTimings:{en:"",mr:""},facebook:"",twitter:"",instagram:"",officePhoto:"",googleMapsLink:""}),[r,a]=W.useState({}),[o,c]=W.useState(!1),[u,h]=W.useState(!0),[f,g]=W.useState(!1),[x,v]=W.useState(null),[b,T]=W.useState("");W.useEffect(()=>{(async()=>{try{h(!0);const te=await Nx();te?(t({panchayatName:te.panchayatName||{en:"",mr:""},tagline:te.tagline||{en:"",mr:""},phone:te.contact?.phone||"",email:te.contact?.email||"",address:te.contact?.address||{en:"",mr:""},officeTimings:te.officeTimings||{en:"",mr:""},facebook:te.socialMedia?.facebook||"",twitter:te.socialMedia?.twitter||"",instagram:te.socialMedia?.instagram||"",officePhoto:te.officePhoto||"",googleMapsLink:te.googleMapsLink||""}),T(te.officePhoto||"")):t({panchayatName:Ds.panchayatName,tagline:Ds.tagline,phone:Ds.contact.phone,email:Ds.contact.email,address:Ds.contact.address,officeTimings:Ds.officeTimings,facebook:Ds.socialMedia.facebook,twitter:Ds.socialMedia.twitter,instagram:Ds.socialMedia.instagram,officePhoto:"",googleMapsLink:""})}catch(te){console.error("Error loading settings:",te),t({panchayatName:Ds.panchayatName,tagline:Ds.tagline,phone:Ds.contact.phone,email:Ds.contact.email,address:Ds.contact.address,officeTimings:Ds.officeTimings,facebook:Ds.socialMedia.facebook,twitter:Ds.socialMedia.twitter,instagram:Ds.socialMedia.instagram})}finally{h(!1)}})()},[]);const E=(O,te)=>{t(ee=>({...ee,[O]:te})),r[O]&&a(ee=>{const G={...ee};return delete G[O],G})},j=O=>{const te=O.target.files[0];if(te){v(te);const ee=new FileReader;ee.onloadend=()=>{T(ee.result)},ee.readAsDataURL(te)}},S=()=>{v(null),T(""),t(O=>({...O,officePhoto:""}))},L=()=>{const O={};return e.panchayatName.en.trim()||(O.panchayatName="Panchayat name is required"),e.tagline.en.trim()||(O.tagline="Tagline is required"),e.phone.trim()?/^\+?[\d\s-]{10,}$/.test(e.phone)||(O.phone="Invalid phone number"):O.phone="Phone number is required",e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(O.email="Invalid email address"):O.email="Email is required",e.address.en.trim()||(O.address="Address is required"),e.officeTimings.en.trim()||(O.officeTimings="Office timings are required"),a(O),Object.keys(O).length===0},D=async O=>{if(O.preventDefault(),!!L()){g(!0);try{let te=e.officePhoto;if(x){if(e.officePhoto)try{await vy(e.officePhoto)}catch(G){console.warn("Failed to delete old office photo:",G)}te=await by(x,"site")}const ee={panchayatName:e.panchayatName,tagline:e.tagline,contact:{phone:e.phone,email:e.email,address:e.address},officeTimings:e.officeTimings,socialMedia:{facebook:e.facebook,twitter:e.twitter,instagram:e.instagram},officePhoto:te,googleMapsLink:e.googleMapsLink};await $A(ee),await n(),console.log("Settings saved successfully!",ee),c(!0),setTimeout(()=>{c(!1),window.location.reload()},1e3)}catch(te){console.error("Error saving settings:",te),alert("Failed to save settings. Please try again.")}finally{g(!1)}}};return u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Site Settings"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Configure your Gram Panchayat website settings"})]})}),o&&s.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg",children:" Settings saved successfully! Reloading page..."}),s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(hl,{className:"text-primary-600",size:24}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Basic Information"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(jn,{label:"Panchayat Name",name:"panchayatName",value:e.panchayatName,onChange:O=>E("panchayatName",O),required:!0,placeholder:"e.g., Gram Panchayat Pindkepar Lodha"}),r.panchayatName&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.panchayatName}),s.jsx(jn,{label:"Tagline",name:"tagline",value:e.tagline,onChange:O=>E("tagline",O),required:!0,placeholder:"e.g., Progress with Tradition"}),r.tagline&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.tagline})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(lo,{className:"text-primary-600",size:24}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Contact Information"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",value:e.phone,onChange:O=>E("phone",O.target.value),placeholder:"+91 1234567890",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),r.phone&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.phone})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",value:e.email,onChange:O=>E("email",O.target.value),placeholder:"contact@grampanchayat.gov.in",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),r.email&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.email})]}),s.jsx(jn,{label:"Address",name:"address",type:"textarea",rows:3,value:e.address,onChange:O=>E("address",O),required:!0,placeholder:"Village, Taluka, District, State, PIN"}),r.address&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.address}),s.jsx(jn,{label:"Office Timings",name:"officeTimings",value:e.officeTimings,onChange:O=>E("officeTimings",O),required:!0,placeholder:"e.g., Mon-Fri: 10:00 AM - 5:00 PM"}),r.officeTimings&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.officeTimings}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ml,{size:16,className:"text-primary-600"}),"Google Maps Embed Link"]})}),s.jsx("input",{type:"url",value:e.googleMapsLink,onChange:O=>E("googleMapsLink",O.target.value),placeholder:"https://www.google.com/maps/embed?pb=...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'To get the embed link: Go to Google Maps  Search your location  Click "Share"  Click "Embed a map"  Copy the iframe src URL'})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(Ma,{className:"text-primary-600",size:24}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Office Photo"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Upload a photo of your Gram Panchayat office. This will be displayed on the Panchayat page."}),b&&s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:b,alt:"Office",className:"w-full max-w-md h-64 object-cover rounded-lg border-2 border-gray-300"}),s.jsx("button",{type:"button",onClick:S,className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors shadow-lg",children:s.jsx(pi,{size:20})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:b?"Change Photo":"Upload Photo"}),s.jsx("input",{type:"file",accept:"image/*",onChange:j,className:`block w-full text-sm text-gray-500
                  file:mr-4 file:py-2 file:px-4
                  file:rounded-lg file:border-0
                  file:text-sm file:font-semibold
                  file:bg-primary-50 file:text-primary-700
                  hover:file:bg-primary-100
                  cursor-pointer`}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: 1200x800px or larger, JPG or PNG format"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(b2,{className:"text-primary-600",size:24}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Social Media Links"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(b2,{size:16,className:"inline mr-2"}),"Facebook URL"]}),s.jsx("input",{type:"url",value:e.facebook,onChange:O=>E("facebook",O.target.value),placeholder:"https://facebook.com/yourpage",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(lT,{size:16,className:"inline mr-2"}),"Twitter URL"]}),s.jsx("input",{type:"url",value:e.twitter,onChange:O=>E("twitter",O.target.value),placeholder:"https://twitter.com/yourhandle",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(dU,{size:16,className:"inline mr-2"}),"Instagram URL"]}),s.jsx("input",{type:"url",value:e.instagram,onChange:O=>E("instagram",O.target.value),placeholder:"https://instagram.com/yourprofile",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]})]}),s.jsx("div",{className:"flex justify-end gap-4",children:s.jsxs("button",{type:"submit",disabled:f,className:"flex items-center gap-2 px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50",children:[s.jsx(Bs,{size:20}),f?"Saving...":"Save Settings"]})})]})]})}const NB=async()=>{try{const n=Ht(Ye,$t.grievances()),e=Es(n,ic("createdAt","desc")),t=await wr(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),r}catch(n){throw console.error("Error fetching grievances:",n),n}};function jB(){const n=Ar(),[e,t]=W.useState([]),[r,a]=W.useState(!0);W.useEffect(()=>{o()},[]);const o=async()=>{try{const O=await NB();t(O)}catch(O){console.error("Error loading grievances:",O)}finally{a(!1)}},[c,u]=W.useState(""),[h,f]=W.useState("ALL"),[g,x]=W.useState("ALL"),[v,b]=W.useState("ALL"),T=e.filter(O=>{const te=O.title.en.toLowerCase().includes(c.toLowerCase())||O.title.mr.toLowerCase().includes(c.toLowerCase())||O.submittedBy.toLowerCase().includes(c.toLowerCase()),ee=h==="ALL"||O.status===h,G=g==="ALL"||O.category===g,U=v==="ALL"||O.priority===v;return te&&ee&&G&&U}),E=O=>{window.confirm("Are you sure you want to delete this grievance?")&&t(e.filter(te=>te.id!==O))},j=O=>{const te={PENDING:"bg-yellow-100 text-yellow-700 border-yellow-300",IN_PROGRESS:"bg-blue-100 text-blue-700 border-blue-300",RESOLVED:"bg-green-100 text-green-700 border-green-300",REJECTED:"bg-red-100 text-red-700 border-red-300"},ee={PENDING:s.jsx(Xf,{className:"w-3 h-3"}),IN_PROGRESS:s.jsx(Qn,{className:"w-3 h-3"}),RESOLVED:s.jsx(Bi,{className:"w-3 h-3"}),REJECTED:s.jsx(uh,{className:"w-3 h-3"})};return s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border flex items-center gap-1 ${te[O]}`,children:[ee[O],O.replace("_"," ")]})},S=O=>{const te={LOW:"bg-gray-100 text-gray-700",MEDIUM:"bg-orange-100 text-orange-700",HIGH:"bg-red-100 text-red-700"};return s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${te[O]}`,children:O})},L=O=>{const te={WATER:"bg-blue-100 text-blue-700",ROAD:"bg-gray-100 text-gray-700",ELECTRICITY:"bg-yellow-100 text-yellow-700",SANITATION:"bg-green-100 text-green-700",TAX:"bg-purple-100 text-purple-700",OTHER:"bg-pink-100 text-pink-700"};return s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${te[O]}`,children:O})},D=O=>O?new Date(O).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A";return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Grievances Management"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage citizen complaints and feedback"})]}),s.jsxs("button",{onClick:()=>n("/admin/grievances/new"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-md hover:shadow-lg",children:[s.jsx(Ss,{className:"w-5 h-5"}),"Add Grievance"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg",children:s.jsx(Xf,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(O=>O.status==="PENDING").length})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg",children:s.jsx(Qn,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"In Progress"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(O=>O.status==="IN_PROGRESS").length})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-green-600 to-green-700 rounded-lg",children:s.jsx(Bi,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Resolved"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(O=>O.status==="RESOLVED").length})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg",children:s.jsx(Cf,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]})]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6 border border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search grievances...",value:c,onChange:O=>u(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsx("div",{children:s.jsxs("select",{value:h,onChange:O=>f(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"ALL",children:"All Status"}),s.jsx("option",{value:"PENDING",children:"Pending"}),s.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),s.jsx("option",{value:"RESOLVED",children:"Resolved"}),s.jsx("option",{value:"REJECTED",children:"Rejected"})]})}),s.jsx("div",{children:s.jsxs("select",{value:g,onChange:O=>x(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"ALL",children:"All Categories"}),s.jsx("option",{value:"WATER",children:"Water"}),s.jsx("option",{value:"ROAD",children:"Road"}),s.jsx("option",{value:"ELECTRICITY",children:"Electricity"}),s.jsx("option",{value:"SANITATION",children:"Sanitation"}),s.jsx("option",{value:"TAX",children:"Tax"}),s.jsx("option",{value:"OTHER",children:"Other"})]})}),s.jsx("div",{children:s.jsxs("select",{value:v,onChange:O=>b(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"ALL",children:"All Priorities"}),s.jsx("option",{value:"HIGH",children:"High"}),s.jsx("option",{value:"MEDIUM",children:"Medium"}),s.jsx("option",{value:"LOW",children:"Low"})]})})]})}),s.jsx("div",{className:"space-y-4",children:T.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center border border-gray-200",children:[s.jsx(Cf,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Grievances Found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:c||h!=="ALL"||g!=="ALL"||v!=="ALL"?"Try adjusting your filters":"Get started by adding your first grievance"}),!c&&h==="ALL"&&g==="ALL"&&v==="ALL"&&s.jsx("button",{onClick:()=>n("/admin/grievances/new"),className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all",children:"Add Grievance"})]}):T.map(O=>s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[j(O.status),S(O.priority),L(O.category)]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-1",children:O.title.en}),s.jsx("p",{className:"text-base text-gray-600 mb-3",children:O.title.mr}),s.jsx("p",{className:"text-gray-700 mb-2",children:O.description.en}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:O.description.mr}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600 mb-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Submitted By:"})," ",O.submittedBy]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",O.phone]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",O.email]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Address:"})," ",O.address]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Submitted Date:"})," ",D(O.submittedDate)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Assigned To:"})," ",O.assignedTo]})]}),O.response&&s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Response:"}),s.jsx("p",{className:"text-blue-800 text-sm",children:O.response.en}),s.jsx("p",{className:"text-blue-700 text-xs mt-1",children:O.response.mr})]}),O.resolvedDate&&s.jsxs("div",{className:"mt-2 text-sm text-green-700",children:[s.jsx("span",{className:"font-medium",children:"Resolved on:"})," ",D(O.resolvedDate)]})]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsx("button",{onClick:()=>n(`/admin/grievances/edit/${O.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:s.jsx(hp,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>E(O.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:s.jsx(ei,{className:"w-5 h-5"})})]})]})},O.id))})]})}function v4(){const n=Ar(),{id:e}=pl(),t=!!e,[r,a]=W.useState(!1),[o,c]=W.useState(!1),[u,h]=W.useState({title:{en:"",mr:""},description:{en:"",mr:""},category:"OTHER",status:"PENDING",priority:"MEDIUM",submittedBy:"",phone:"",email:"",address:"",submittedDate:new Date().toISOString().split("T")[0],resolvedDate:"",assignedTo:"",response:{en:"",mr:""}}),[f,g]=W.useState({});W.useEffect(()=>{t&&h({title:{en:"Water Supply Issue",mr:" "},description:{en:"No water supply for the last 3 days",mr:"    "},category:"WATER",status:"PENDING",priority:"HIGH",submittedBy:"Ramesh Kumar",phone:"+91 9876543210",email:"ramesh@example.com",address:"Village Road, Area 1",submittedDate:"2024-11-15",resolvedDate:"",assignedTo:"Water Department",response:{en:"",mr:""}})},[e,t]);const x=(E,j)=>{h(S=>({...S,[E]:j})),f[E]&&g(S=>({...S,[E]:""}))},v=E=>{const{name:j,value:S}=E.target;h(L=>({...L,[j]:S})),f[j]&&g(L=>({...L,[j]:""}))},b=()=>{const E={};return u.title.en.trim()||(E.title="Title is required"),u.description.en.trim()||(E.description="Description is required"),u.submittedBy.trim()||(E.submittedBy="Name is required"),u.phone.trim()?/^\+?[\d\s-]{10,}$/.test(u.phone)||(E.phone="Invalid phone number"):E.phone="Phone number is required",u.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)||(E.email="Invalid email address"):E.email="Email is required",u.address.trim()||(E.address="Address is required"),u.submittedDate||(E.submittedDate="Submitted date is required"),u.assignedTo.trim()||(E.assignedTo="Department assignment is required"),u.status==="RESOLVED"&&!u.resolvedDate&&(E.resolvedDate="Resolved date is required when status is Resolved"),g(E),Object.keys(E).length===0},T=E=>{if(E.preventDefault(),!b())return;const j={id:t?parseInt(e):Date.now(),title:u.title,description:u.description,category:u.category,status:u.status,priority:u.priority,submittedBy:u.submittedBy,phone:u.phone,email:u.email,address:u.address,submittedDate:u.submittedDate,resolvedDate:u.resolvedDate||null,assignedTo:u.assignedTo,response:u.response.en&&u.response.mr?u.response:null};console.log(t?"Updating grievance:":"Creating grievance:",j),n("/admin/grievances")};return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n("/admin/grievances"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(po,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Grievance":"Add New Grievance"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update grievance information and status":"Record a new citizen grievance"})]})]})}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsx(s.Fragment,{children:s.jsxs("form",{onSubmit:T,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Grievance Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(jn,{label:"Grievance Title",name:"title",value:u.title,onChange:E=>x("title",E),required:!0,placeholder:"Enter grievance title"}),f.title&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.title})]}),s.jsxs("div",{children:[s.jsx(jn,{label:"Description",name:"description",type:"textarea",rows:4,value:u.description,onChange:E=>x("description",E),required:!0,placeholder:"Describe the grievance in detail"}),f.description&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.description})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"category",value:u.category,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"WATER",children:"Water"}),s.jsx("option",{value:"ROAD",children:"Road"}),s.jsx("option",{value:"ELECTRICITY",children:"Electricity"}),s.jsx("option",{value:"SANITATION",children:"Sanitation"}),s.jsx("option",{value:"TAX",children:"Tax"}),s.jsx("option",{value:"OTHER",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Priority ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"priority",value:u.priority,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"LOW",children:"Low"}),s.jsx("option",{value:"MEDIUM",children:"Medium"}),s.jsx("option",{value:"HIGH",children:"High"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"status",value:u.status,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"PENDING",children:"Pending"}),s.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),s.jsx("option",{value:"RESOLVED",children:"Resolved"}),s.jsx("option",{value:"REJECTED",children:"Rejected"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Citizen Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Submitted By ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"submittedBy",value:u.submittedBy,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.submittedBy?"border-red-500":"border-gray-300"}`,placeholder:"Enter citizen name"}),f.submittedBy&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.submittedBy})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",name:"phone",value:u.phone,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.phone?"border-red-500":"border-gray-300"}`,placeholder:"+91 9876543210"}),f.phone&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.phone})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",name:"email",value:u.email,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.email?"border-red-500":"border-gray-300"}`,placeholder:"citizen@example.com"}),f.email&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.email})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"address",value:u.address,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.address?"border-red-500":"border-gray-300"}`,placeholder:"Enter full address"}),f.address&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.address})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Management Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Assigned To ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"assignedTo",value:u.assignedTo,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.assignedTo?"border-red-500":"border-gray-300"}`,placeholder:"Department or Officer name"}),f.assignedTo&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.assignedTo})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Submitted Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",name:"submittedDate",value:u.submittedDate,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.submittedDate?"border-red-500":"border-gray-300"}`}),f.submittedDate&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.submittedDate})]}),u.status==="RESOLVED"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Resolved Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",name:"resolvedDate",value:u.resolvedDate,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.resolvedDate?"border-red-500":"border-gray-300"}`}),f.resolvedDate&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.resolvedDate})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Response (Optional)"}),s.jsx("div",{children:s.jsx(jn,{label:"Response",name:"response",type:"textarea",rows:3,value:u.response,onChange:E=>x("response",E),placeholder:"Enter response or action taken"})})]}),s.jsxs("div",{className:"flex gap-4 justify-end",children:[s.jsx("button",{type:"button",onClick:()=>n("/admin/grievances"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:o,children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,children:[s.jsx(Bs,{className:"w-4 h-4"}),o?"Saving...":t?"Update Grievance":"Submit Grievance"]})]})]})})]})}const _B=()=>{const{language:n}=fs(),e=Ar(),[t,r]=W.useState([]),[a,o]=W.useState(!0),[c,u]=W.useState(""),[h,f]=W.useState("ALL"),[g,x]=W.useState("ALL"),[v,b]=W.useState({start:"",end:""});W.useEffect(()=>{(async()=>{try{o(!0);const G=await bT();r(G)}catch(G){console.error("Error loading transactions:",G),alert("Failed to load transactions")}finally{o(!1)}})()},[]);const T={totalIncome:t.filter(ee=>ee.type==="INCOME").reduce((ee,G)=>ee+G.amount,0),totalExpense:t.filter(ee=>ee.type==="EXPENSE").reduce((ee,G)=>ee+G.amount,0),balance:0,transactionCount:t.length};T.balance=T.totalIncome-T.totalExpense;const E=t.filter(ee=>{const G=ee.description.toLowerCase().includes(c.toLowerCase())||ee.descriptionMr.includes(c)||ee.subcategory.toLowerCase().includes(c.toLowerCase())||ee.referenceNumber.toLowerCase().includes(c.toLowerCase()),U=h==="ALL"||ee.type===h,k=g==="ALL"||ee.category===g,F=(!v.start||ee.transactionDate>=v.start)&&(!v.end||ee.transactionDate<=v.end);return G&&U&&k&&F}),j=async ee=>{if(window.confirm(n==="en"?"Are you sure you want to delete this transaction?":"        ?"))try{await tB(ee),r(t.filter(G=>G.id!==ee))}catch(G){console.error("Error deleting transaction:",G),alert("Failed to delete transaction")}},S=ee=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(ee),L=ee=>new Date(ee).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),D=ee=>{switch(ee){case"INCOME":return"bg-green-100 text-green-800 border-green-300";case"EXPENSE":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},O=ee=>{switch(ee){case"TAX":return s.jsx(Sx,{size:16});case"GRANT":return s.jsx(LU,{size:16});case"SALARY":return s.jsx(_2,{size:16});case"INFRASTRUCTURE":return s.jsx(Kd,{size:16});case"UTILITIES":return s.jsx(vg,{size:16});default:return s.jsx(hr,{size:16})}},te=()=>{alert(n==="en"?"Export functionality will be implemented":"    ")};return a?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#ff6b00]"})}):s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n==="en"?"Financial Management":" "}),s.jsx("p",{className:"text-gray-600 mt-1",children:n==="en"?"Track income, expenses, and budgets":",     "})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:te,className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-[#138808] text-[#138808] rounded-lg hover:bg-[#138808] hover:text-white transition-colors",children:[s.jsx(Vo,{size:20}),n==="en"?"Export Report":"  "]}),s.jsxs(_n,{to:"/admin/financials/new",className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-[#ff6b00] to-[#ff8533] text-white rounded-lg hover:shadow-lg transition-all",children:[s.jsx(Ss,{size:20}),n==="en"?"Add Transaction":" "]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl border-2 border-green-300 shadow-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:s.jsx(Kd,{className:"text-white",size:24})}),s.jsx("span",{className:"text-green-700 font-semibold",children:n==="en"?"Income":""})]}),s.jsx("div",{className:"text-3xl font-bold text-green-800",children:S(T.totalIncome)}),s.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[t.filter(ee=>ee.type==="INCOME").length," ",n==="en"?"transactions":""]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-xl border-2 border-red-300 shadow-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"p-3 bg-red-500 rounded-lg",children:s.jsx(vg,{className:"text-white",size:24})}),s.jsx("span",{className:"text-red-700 font-semibold",children:n==="en"?"Expense":""})]}),s.jsx("div",{className:"text-3xl font-bold text-red-800",children:S(T.totalExpense)}),s.jsxs("div",{className:"text-sm text-red-600 mt-1",children:[t.filter(ee=>ee.type==="EXPENSE").length," ",n==="en"?"transactions":""]})]}),s.jsxs("div",{className:`bg-gradient-to-br ${T.balance>=0?"from-blue-50 to-blue-100 border-blue-300":"from-orange-50 to-orange-100 border-orange-300"} p-6 rounded-xl border-2 shadow-md`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:`p-3 ${T.balance>=0?"bg-blue-500":"bg-orange-500"} rounded-lg`,children:s.jsx(_2,{className:"text-white",size:24})}),s.jsx("span",{className:`${T.balance>=0?"text-blue-700":"text-orange-700"} font-semibold`,children:n==="en"?"Balance":""})]}),s.jsx("div",{className:`text-3xl font-bold ${T.balance>=0?"text-blue-800":"text-orange-800"}`,children:S(T.balance)}),s.jsx("div",{className:`text-sm ${T.balance>=0?"text-blue-600":"text-orange-600"} mt-1`,children:T.balance>=0?n==="en"?"Surplus":"":n==="en"?"Deficit":""})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-xl border-2 border-purple-300 shadow-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:s.jsx(hr,{className:"text-white",size:24})}),s.jsx("span",{className:"text-purple-700 font-semibold",children:n==="en"?"Total":""})]}),s.jsx("div",{className:"text-3xl font-bold text-purple-800",children:T.transactionCount}),s.jsx("div",{className:"text-sm text-purple-600 mt-1",children:n==="en"?"Transactions":""})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6 border-2 border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:n==="en"?"Search transactions...":" ...",value:c,onChange:ee=>u(ee.target.value),className:"w-full pl-10 pr-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]})}),s.jsx("div",{children:s.jsxs("select",{value:h,onChange:ee=>f(ee.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:[s.jsx("option",{value:"ALL",children:n==="en"?"All Types":" "}),s.jsx("option",{value:"INCOME",children:n==="en"?"Income":""}),s.jsx("option",{value:"EXPENSE",children:n==="en"?"Expense":""})]})}),s.jsx("div",{children:s.jsxs("select",{value:g,onChange:ee=>x(ee.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:[s.jsx("option",{value:"ALL",children:n==="en"?"All Categories":" "}),s.jsx("option",{value:"TAX",children:n==="en"?"Tax":""}),s.jsx("option",{value:"GRANT",children:n==="en"?"Grant":""}),s.jsx("option",{value:"SALARY",children:n==="en"?"Salary":""}),s.jsx("option",{value:"INFRASTRUCTURE",children:n==="en"?"Infrastructure":" "}),s.jsx("option",{value:"UTILITIES",children:n==="en"?"Utilities":""}),s.jsx("option",{value:"OTHER",children:n==="en"?"Other":""})]})}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"date",value:v.start,onChange:ee=>b({...v,start:ee.target.value}),className:"flex-1 px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00] text-sm"}),s.jsx("span",{className:"text-gray-500",children:"-"}),s.jsx("input",{type:"date",value:v.end,onChange:ee=>b({...v,end:ee.target.value}),className:"flex-1 px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00] text-sm"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md border-2 border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gradient-to-r from-[#ff6b00] to-[#ff8533] text-white",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Date":""}),s.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Type":""}),s.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Category":""}),s.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Description":""}),s.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Party":""}),s.jsx("th",{className:"px-6 py-4 text-right font-semibold",children:n==="en"?"Amount":""}),s.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Payment Mode":" "}),s.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:n==="en"?"Actions":""})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:E.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center text-gray-500",children:n==="en"?"No transactions found. Add your first transaction!":"   .    !"})}):E.map(ee=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx(Zr,{size:16,className:"text-gray-400"}),L(ee.transactionDate)]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold border ${D(ee.type)}`,children:ee.type==="INCOME"?s.jsxs(s.Fragment,{children:[s.jsx(Kd,{size:14}),n==="en"?"Income":""]}):s.jsxs(s.Fragment,{children:[s.jsx(vg,{size:14}),n==="en"?"Expense":""]})})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[O(ee.category),s.jsx("span",{className:"text-gray-700",children:n==="en"?ee.subcategory:ee.subcategoryMr})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"max-w-xs",children:[s.jsx("p",{className:"text-gray-700 line-clamp-2",children:n==="en"?ee.description:ee.descriptionMr}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ee.referenceNumber})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-gray-700",children:ee.type==="INCOME"?n==="en"?ee.receivedFrom:ee.receivedFromMr:n==="en"?ee.paidTo:ee.paidToMr})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("span",{className:`font-bold text-lg ${ee.type==="INCOME"?"text-green-600":"text-red-600"}`,children:[ee.type==="INCOME"?"+":"-"," ",S(ee.amount)]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("span",{className:"text-sm text-gray-600",children:ee.paymentMode.replace("_"," ")}),ee.attachment&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600 mt-1",children:[s.jsx(hr,{size:12}),n==="en"?"Attachment":""]})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>e(`/admin/financials/edit/${ee.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:n==="en"?"Edit":" ",children:s.jsx(ad,{size:18})}),s.jsx("button",{onClick:()=>j(ee.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:n==="en"?"Delete":"",children:s.jsx(ei,{size:18})})]})})]},ee.id))})]})})})]})},w4=()=>{const{language:n}=fs(),e=Ar(),{id:t}=pl(),r=!!t,[a,o]=W.useState(!1),[c,u]=W.useState({type:"INCOME",category:"TAX",subcategory:"",subcategoryMr:"",amount:"",description:"",descriptionMr:"",transactionDate:new Date().toISOString().split("T")[0],paymentMode:"CASH",referenceNumber:"",receivedFrom:"",receivedFromMr:"",paidTo:"",paidToMr:"",attachment:null,remarks:"",remarksMr:""}),[h,f]=W.useState({}),[g,x]=W.useState(null),v={TAX:{en:"Tax",mr:"",subcategories:[{en:"Property Tax",mr:" "},{en:"Water Tax",mr:" "},{en:"Trade License",mr:" "},{en:"Building Permission",mr:" "}]},GRANT:{en:"Grant",mr:"",subcategories:[{en:"Central Government Grant",mr:"  "},{en:"State Government Grant",mr:"  "},{en:"District Grant",mr:" "},{en:"Special Grant",mr:" "}]},FEES:{en:"Fees & Charges",mr:"  ",subcategories:[{en:"Birth/Death Certificate",mr:"/ "},{en:"Other Certificates",mr:" "},{en:"Rent Income",mr:" "},{en:"Advertisement Fees",mr:" "}]},DONATION:{en:"Donation",mr:"",subcategories:[{en:"CSR Donation",mr:"CSR "},{en:"Individual Donation",mr:" "},{en:"Organization Donation",mr:" "}]},OTHER:{en:"Other Income",mr:" ",subcategories:[{en:"Miscellaneous",mr:""}]}},b={SALARY:{en:"Salary & Wages",mr:"  ",subcategories:[{en:"Staff Salaries",mr:" "},{en:"Daily Wages",mr:" "},{en:"Honorarium",mr:""},{en:"Allowances",mr:""}]},INFRASTRUCTURE:{en:"Infrastructure",mr:" ",subcategories:[{en:"Road Construction",mr:" "},{en:"Road Repair",mr:" "},{en:"Drainage Work",mr:" "},{en:"Street Lights",mr:" "},{en:"Water Supply",mr:" "},{en:"Building Maintenance",mr:" "}]},UTILITIES:{en:"Utilities",mr:"",subcategories:[{en:"Electricity Bill",mr:" "},{en:"Water Bill",mr:" "},{en:"Telephone/Internet",mr:"/"},{en:"Fuel",mr:""}]},SUPPLIES:{en:"Supplies & Materials",mr:"  ",subcategories:[{en:"Stationery",mr:" "},{en:"Office Supplies",mr:" "},{en:"Cleaning Materials",mr:" "},{en:"Equipment",mr:""}]},PROGRAMS:{en:"Programs & Schemes",mr:"  ",subcategories:[{en:"Health Programs",mr:" "},{en:"Education Programs",mr:" "},{en:"Social Welfare",mr:" "},{en:"Agriculture Programs",mr:" "}]},ADMINISTRATIVE:{en:"Administrative",mr:"",subcategories:[{en:"Legal Fees",mr:" "},{en:"Audit Fees",mr:" "},{en:"Insurance",mr:""},{en:"Bank Charges",mr:" "},{en:"Travel Expenses",mr:" "}]},OTHER:{en:"Other Expenses",mr:" ",subcategories:[{en:"Miscellaneous",mr:""}]}},T=[{value:"CASH",en:"Cash",mr:""},{value:"CHEQUE",en:"Cheque",mr:""},{value:"ONLINE",en:"Online Payment",mr:" "},{value:"NEFT",en:"NEFT",mr:"NEFT"},{value:"RTGS",en:"RTGS",mr:"RTGS"},{value:"IMPS",en:"IMPS",mr:"IMPS"},{value:"UPI",en:"UPI",mr:"UPI"},{value:"BANK_TRANSFER",en:"Bank Transfer",mr:" "},{value:"DD",en:"Demand Draft",mr:" "}];W.useEffect(()=>{(async()=>{if(r)try{o(!0);const F=await JV(t);if(F){const I=F.transactionDate?new Date(F.transactionDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];u({...F,transactionDate:I}),F.attachment&&x(F.attachment)}else alert("Transaction not found"),e("/admin/financials")}catch(F){console.error("Error loading transaction:",F),alert("Failed to load transaction")}finally{o(!1)}})()},[t,r,e]);const E=()=>c.type==="INCOME"?v:b,j=()=>E()[c.category]?.subcategories||[],S=k=>{const{name:F,value:I}=k.target;u(P=>({...P,[F]:I})),h[F]&&f(P=>({...P,[F]:""}))},L=k=>{u(F=>({...F,type:k,category:k==="INCOME"?"TAX":"SALARY",subcategory:"",subcategoryMr:"",receivedFrom:"",receivedFromMr:"",paidTo:"",paidToMr:""}))},D=k=>{const F=k.target.value;u(I=>({...I,category:F,subcategory:"",subcategoryMr:""}))},O=k=>{const F=k.target.value;if(F!==""){const P=j()[parseInt(F)];u(B=>({...B,subcategory:P.en,subcategoryMr:P.mr}))}else u(I=>({...I,subcategory:"",subcategoryMr:""}))},te=k=>{const F=k.target.files[0];if(F){if(F.size>5*1024*1024){f(P=>({...P,attachment:n==="en"?"File size should not exceed 5MB":"  5MB   "}));return}if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(F.type)){f(P=>({...P,attachment:n==="en"?"Only PDF and image files are allowed":" PDF     "}));return}u(P=>({...P,attachment:F})),x(F.name),f(P=>({...P,attachment:""}))}},ee=()=>{const k={};return c.subcategory||(k.subcategory=n==="en"?"Subcategory is required":"  "),(!c.amount||parseFloat(c.amount)<=0)&&(k.amount=n==="en"?"Valid amount is required":"   "),c.description.trim()||(k.description=n==="en"?"Description is required":"  "),c.descriptionMr.trim()||(k.descriptionMr=n==="en"?"Marathi description is required":"   "),c.transactionDate||(k.transactionDate=n==="en"?"Transaction date is required":"   "),c.referenceNumber.trim()||(k.referenceNumber=n==="en"?"Reference number is required":"   "),c.type==="INCOME"?(c.receivedFrom.trim()||(k.receivedFrom=n==="en"?"Received from is required":"   "),c.receivedFromMr.trim()||(k.receivedFromMr=n==="en"?"Marathi received from is required":"   ")):(c.paidTo.trim()||(k.paidTo=n==="en"?"Paid to is required":"   "),c.paidToMr.trim()||(k.paidToMr=n==="en"?"Marathi paid to is required":"   ")),f(k),Object.keys(k).length===0},G=async k=>{if(k.preventDefault(),ee())try{o(!0),r?(await eB(t,c),alert(n==="en"?"Transaction updated successfully!":"   !")):(await ZV(c),alert(n==="en"?"Transaction added successfully!":"  !")),e("/admin/financials")}catch(F){console.error("Error saving transaction:",F),alert(n==="en"?`Failed to ${r?"update":"add"} transaction: ${F.message}`:` ${r?"":""} : ${F.message}`)}finally{o(!1)}},U=k=>k?new Intl.NumberFormat("en-IN").format(k):"";return s.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:r?n==="en"?"Edit Transaction":"  ":n==="en"?"Add New Transaction":"  "}),s.jsx("p",{className:"text-gray-600 mt-1",children:n==="en"?"Enter financial transaction details":"    "})]}),s.jsxs("form",{onSubmit:G,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(a4,{className:"text-[#ff6b00]"}),n==="en"?"Transaction Type":" "]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>L("INCOME"),className:`flex-1 p-4 rounded-lg border-2 transition-all ${c.type==="INCOME"?"bg-green-50 border-green-500 text-green-700":"bg-white border-gray-300 text-gray-600 hover:border-green-300"}`,children:[s.jsx("div",{className:"text-2xl mb-2",children:""}),s.jsx("div",{className:"font-semibold",children:n==="en"?"Income":""}),s.jsx("div",{className:"text-sm",children:n==="en"?"Money Received":" "})]}),s.jsxs("button",{type:"button",onClick:()=>L("EXPENSE"),className:`flex-1 p-4 rounded-lg border-2 transition-all ${c.type==="EXPENSE"?"bg-red-50 border-red-500 text-red-700":"bg-white border-gray-300 text-gray-600 hover:border-red-300"}`,children:[s.jsx("div",{className:"text-2xl mb-2",children:""}),s.jsx("div",{className:"font-semibold",children:n==="en"?"Expense":""}),s.jsx("div",{className:"text-sm",children:n==="en"?"Money Paid":" "})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(hr,{className:"text-[#ff6b00]"}),n==="en"?"Transaction Details":" "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Category":""," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("select",{name:"category",value:c.category,onChange:D,className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:Object.entries(E()).map(([k,F])=>s.jsx("option",{value:k,children:n==="en"?F.en:F.mr},k))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Subcategory":""," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{onChange:O,value:j().findIndex(k=>k.en===c.subcategory),className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.subcategory?"border-red-500":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:n==="en"?"Select subcategory":" "}),j().map((k,F)=>s.jsx("option",{value:F,children:n==="en"?k.en:k.mr},F))]}),h.subcategory&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[s.jsx(Qn,{size:14})," ",h.subcategory]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Amount ()":" ()"," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Sx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"number",name:"amount",value:c.amount,onChange:S,placeholder:"0",className:`w-full pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.amount?"border-red-500":"border-gray-300"}`})]}),c.amount&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:U(c.amount)}),h.amount&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[s.jsx(Qn,{size:14})," ",h.amount]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Transaction Date":" "," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"date",name:"transactionDate",value:c.transactionDate,onChange:S,className:`w-full pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.transactionDate?"border-red-500":"border-gray-300"}`})]}),h.transactionDate&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[s.jsx(Qn,{size:14})," ",h.transactionDate]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Description (English)":" ()"," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"description",value:c.description,onChange:S,rows:"3",placeholder:"Enter transaction description in English...",className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.description?"border-red-500":"border-gray-300"}`}),h.description&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[s.jsx(Qn,{size:14})," ",h.description]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Description (Marathi)":" ()"," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"descriptionMr",value:c.descriptionMr,onChange:S,rows:"3",placeholder:"    ...",className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.descriptionMr?"border-red-500":"border-gray-300"}`}),h.descriptionMr&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[s.jsx(Qn,{size:14})," ",h.descriptionMr]})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(a4,{className:"text-[#ff6b00]"}),n==="en"?"Payment Information":" "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Payment Mode":" "," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("select",{name:"paymentMode",value:c.paymentMode,onChange:S,className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:T.map(k=>s.jsx("option",{value:k.value,children:n==="en"?k.en:k.mr},k.value))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Reference Number":" "," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(nU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",name:"referenceNumber",value:c.referenceNumber,onChange:S,placeholder:"REF/2025/001",className:`w-full pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.referenceNumber?"border-red-500":"border-gray-300"}`})]}),h.referenceNumber&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[s.jsx(Qn,{size:14})," ",h.referenceNumber]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[c.type==="INCOME"?n==="en"?"Received From (English)":"  ()":n==="en"?"Paid To (English)":"  ()",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Zf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",name:c.type==="INCOME"?"receivedFrom":"paidTo",value:c.type==="INCOME"?c.receivedFrom:c.paidTo,onChange:S,placeholder:c.type==="INCOME"?"Name of payer...":"Name of payee...",className:`w-full pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${(c.type==="INCOME"?h.receivedFrom:h.paidTo)?"border-red-500":"border-gray-300"}`})]}),(c.type==="INCOME"?h.receivedFrom:h.paidTo)&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[s.jsx(Qn,{size:14})," ",c.type==="INCOME"?h.receivedFrom:h.paidTo]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[c.type==="INCOME"?n==="en"?"Received From (Marathi)":"  ()":n==="en"?"Paid To (Marathi)":"  ()",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Zf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",name:c.type==="INCOME"?"receivedFromMr":"paidToMr",value:c.type==="INCOME"?c.receivedFromMr:c.paidToMr,onChange:S,placeholder:c.type==="INCOME"?" ...":" ...",className:`w-full pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${(c.type==="INCOME"?h.receivedFromMr:h.paidToMr)?"border-red-500":"border-gray-300"}`})]}),(c.type==="INCOME"?h.receivedFromMr:h.paidToMr)&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[s.jsx(Qn,{size:14})," ",c.type==="INCOME"?h.receivedFromMr:h.paidToMr]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Attachment (Invoice, Receipt, etc.)":" (, , .)"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex-1 cursor-pointer",children:[s.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 border-2 rounded-lg hover:border-[#ff6b00] transition-colors ${h.attachment?"border-red-500":"border-gray-300"}`,children:[s.jsx(Jf,{size:20,className:"text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:g||(n==="en"?"Choose file...":" ...")})]}),s.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:te,className:"hidden"})]}),g&&s.jsx("button",{type:"button",onClick:()=>{u(k=>({...k,attachment:null})),x(null)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(pi,{size:20})})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n==="en"?"PDF or Image files only. Max size: 5MB":" PDF   .  : 5MB"}),h.attachment&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[s.jsx(Qn,{size:14})," ",h.attachment]})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:n==="en"?"Additional Notes (Optional)":"  ()"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Remarks (English)":" ()"}),s.jsx("textarea",{name:"remarks",value:c.remarks,onChange:S,rows:"3",placeholder:"Any additional notes...",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Remarks (Marathi)":" ()"}),s.jsx("textarea",{name:"remarksMr",value:c.remarksMr,onChange:S,rows:"3",placeholder:"  ...",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>e("/admin/financials"),className:"px-6 py-2 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",disabled:a,children:[s.jsx(pi,{size:20}),n==="en"?"Cancel":" "]}),s.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-[#138808] to-[#1aa910] text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:a,children:[s.jsx(Bs,{size:20}),a?n==="en"?"Saving...":"  ...":r?n==="en"?"Update Transaction":"  ":n==="en"?"Save Transaction":"  "]})]})]})]})},SB=()=>{const{language:n}=fs(),e=Ar(),[t,r]=W.useState({villageImage:"",description:{en:"Shivpur is a vibrant village located in the heart of Maharashtra. With a rich cultural heritage and a progressive outlook, our village has been at the forefront of rural development. The village is known for its agricultural productivity, community spirit, and commitment to education and social welfare.",mr:"        .             .    ,          ."},population:"5,000+",area:"15 sq km",households:"800+",history:{en:"Our village has a rich history spanning over 500 years. Founded during the Maratha Empire, Shivpur has witnessed significant historical events and has been home to many notable personalities. The village played an important role during the freedom struggle and continues to preserve its historical heritage.",mr:"        .                 .             ."},vision:{en:"To transform Shivpur into a model village that balances traditional values with modern development, ensuring prosperity, education, and well-being for all residents while preserving our cultural heritage and environment.",mr:"            ,          ,     ."},mission:{en:"Our mission is to provide quality infrastructure, promote sustainable agriculture, ensure access to education and healthcare, empower youth and women, and foster community participation in development initiatives.",mr:"      ,    ,       ,            ."},importantPlaces:[{id:1,name:{en:"Village Temple",mr:" "},description:{en:"Ancient temple dedicated to Lord Shiva, the spiritual center of our village",mr:"    ,    "},photoUrl:""},{id:2,name:{en:"Community Hall",mr:" "},description:{en:"Modern community hall for village meetings and cultural programs",mr:"       "},photoUrl:""},{id:3,name:{en:"Village Pond",mr:" "},description:{en:"Historic pond that serves as the main water source during summer",mr:"         "},photoUrl:""}]}),[a,o]=W.useState({}),[c,u]=W.useState(!1),[h,f]=W.useState(!0),[g,x]=W.useState(!1);W.useEffect(()=>{(async()=>{try{f(!0);const k=await hT();k&&r({...k,villageImage:k.villageImage||""})}catch(k){console.error("Error loading about content:",k)}finally{f(!1)}})()},[]);const v=(U,k)=>{r(F=>({...F,[U]:k})),a[U]&&o(F=>({...F,[U]:""}))},b=(U,k)=>{r(F=>({...F,[U]:k})),a[U]&&o(F=>({...F,[U]:""}))},T=(U,k,F)=>{const I=[...t.importantPlaces];I[U]={...I[U],[k]:F},r(P=>({...P,importantPlaces:I}))},E=(U,k)=>{const F=k.target.files[0];if(F){if(!F.type.startsWith("image/")){alert(n==="en"?"Please select an image file":"   ");return}if(F.size>5*1024*1024){alert(n==="en"?"Image size should be less than 5MB":"  5MB   ");return}const I=new FileReader;I.onloadend=()=>{const P=[...t.importantPlaces];P[U]={...P[U],photoUrl:I.result},r(B=>({...B,importantPlaces:P}))},I.readAsDataURL(F)}},j=U=>{const k=U.target.files[0];if(k){if(!k.type.startsWith("image/")){alert(n==="en"?"Please select an image file":"   ");return}if(k.size>5*1024*1024){alert(n==="en"?"Image size should be less than 5MB":"  5MB   ");return}const F=new FileReader;F.onloadend=()=>{r(I=>({...I,villageImage:F.result}))},F.readAsDataURL(k)}},S=()=>{r(U=>({...U,villageImage:""}))},L=U=>{const k=[...t.importantPlaces];k[U]={...k[U],photoUrl:""},r(F=>({...F,importantPlaces:k}))},D=()=>{const U={id:Date.now(),name:{en:"",mr:""},description:{en:"",mr:""},photoUrl:""};r(k=>({...k,importantPlaces:[...k.importantPlaces,U]}))},O=U=>{window.confirm(n==="en"?"Remove this place?":"  ?")&&r(k=>({...k,importantPlaces:k.importantPlaces.filter((F,I)=>I!==U)}))},te=()=>{const U={};return t.description.en.trim()||(U.description_en=n==="en"?"English description is required":"   "),t.description.mr.trim()||(U.description_mr=n==="en"?"Marathi description is required":"   "),t.population.trim()||(U.population=n==="en"?"Population is required":"  "),t.area.trim()||(U.area=n==="en"?"Area is required":"  "),t.households.trim()||(U.households=n==="en"?"Households is required":"  "),o(U),Object.keys(U).length===0},ee=async U=>{if(U.preventDefault(),te())try{x(!0),await d4(t),u(!0),setTimeout(()=>u(!1),3e3),alert(n==="en"?"About page content updated successfully!":"About     !")}catch(k){console.error("Error saving about content:",k),alert(n==="en"?"Failed to save about content":"   ")}finally{x(!1)}},G=async()=>{try{await d4(t),window.open("/about","_blank")}catch(U){console.error("Error saving before preview:",U),alert("Failed to save content before preview")}};return s.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n==="en"?"About Page Management":"About  "}),s.jsx("p",{className:"text-gray-600 mt-1",children:n==="en"?"Edit village information, history, vision, and important places":" , ,      "})]}),s.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-[#138808] text-[#138808] rounded-lg hover:bg-[#138808] hover:text-white transition-colors",children:[s.jsx(zi,{size:20}),n==="en"?"Preview Page":" "]})]}),c&&s.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-500 rounded-lg flex items-center gap-2 text-green-700",children:[s.jsx(Qn,{size:20}),n==="en"?"Changes saved successfully!":"   !"]}),s.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(iU,{className:"text-[#ff6b00]"}),n==="en"?"Village Hero Image":"  "]}),t.villageImage&&s.jsxs("div",{className:"mb-4 relative inline-block",children:[s.jsx("img",{src:t.villageImage,alt:"Village",className:"h-48 w-auto rounded-lg border-2 border-gray-300 object-cover",onError:U=>{U.target.src="https://via.placeholder.com/800x400?text=Image+Not+Found"}}),s.jsx("button",{type:"button",onClick:S,className:"absolute -top-2 -right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:s.jsx(pi,{size:20})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg cursor-pointer hover:from-blue-600 hover:to-blue-700 transition-all shadow-md hover:shadow-lg",children:[s.jsx(Jf,{size:20}),s.jsx("span",{className:"font-medium",children:n==="en"?"Upload Village Photo":"   "})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:n==="en"?"Recommended: 1200x600px, Max 5MB, JPG/PNG":": 1200x600px,  5MB, JPG/PNG"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"relative",children:[s.jsx(l4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",value:t.villageImage&&t.villageImage.startsWith("data:")?"":t.villageImage||"",onChange:U=>v("villageImage",U.target.value),placeholder:n==="en"?"Or paste image URL":"  URL  ",className:"w-full pl-10 pr-4 py-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"https://example.com/village-image.jpg"})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(hr,{className:"text-[#ff6b00]"}),n==="en"?"Village Description":" "]}),s.jsxs("div",{children:[s.jsx(jn,{label:"Village Description",name:"description",type:"textarea",rows:4,value:t.description,onChange:U=>b("description",U),required:!0,placeholder:"Enter village description"}),a.description&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.description})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(Us,{className:"text-[#ff6b00]"}),n==="en"?"Village Statistics":" "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Population":""," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:t.population,onChange:U=>v("population",U.target.value),placeholder:"5,000+",className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${a.population?"border-red-500":"border-gray-300"}`}),a.population&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.population})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Area":""," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:t.area,onChange:U=>v("area",U.target.value),placeholder:"15 sq km",className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${a.area?"border-red-500":"border-gray-300"}`}),a.area&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.area})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Households":""," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:t.households,onChange:U=>v("households",U.target.value),placeholder:"800+",className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${a.households?"border-red-500":"border-gray-300"}`}),a.households&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.households})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(hr,{className:"text-[#ff6b00]"}),n==="en"?"History, Vision & Mission":",   "]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsx(jn,{label:"History",name:"history",type:"textarea",rows:3,value:t.history,onChange:U=>b("history",U),placeholder:"Enter village history"})}),s.jsx("div",{children:s.jsx(jn,{label:"Vision",name:"vision",type:"textarea",rows:3,value:t.vision,onChange:U=>b("vision",U),placeholder:"Enter village vision"})}),s.jsx("div",{children:s.jsx(jn,{label:"Mission",name:"mission",type:"textarea",rows:3,value:t.mission,onChange:U=>b("mission",U),placeholder:"Enter village mission"})})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[s.jsx(ml,{className:"text-[#ff6b00]"}),n==="en"?"Important Places":" "]}),s.jsxs("button",{type:"button",onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-[#138808] text-white rounded-lg hover:bg-[#0f6906] transition-colors",children:[s.jsx(Ss,{size:18}),n==="en"?"Add Place":" "]})]}),s.jsx("div",{className:"space-y-6",children:t.importantPlaces.map((U,k)=>s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border-2 border-gray-200 relative",children:[s.jsx("button",{type:"button",onClick:()=>O(k),className:"absolute top-2 right-2 p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(ei,{size:18})}),s.jsxs("div",{className:"space-y-4 pr-10",children:[s.jsx("div",{children:s.jsx(jn,{label:"Place Name",name:`place-name-${k}`,value:U.name,onChange:F=>T(k,"name",F),placeholder:"Enter place name"})}),s.jsx("div",{children:s.jsx(jn,{label:"Description",name:`place-description-${k}`,type:"textarea",rows:2,value:U.description,onChange:F=>T(k,"description",F),placeholder:"Enter place description"})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n==="en"?"Photo":""}),U.photoUrl&&s.jsxs("div",{className:"mb-3 relative inline-block",children:[s.jsx("img",{src:U.photoUrl,alt:U.name.en,className:"h-32 w-auto rounded-lg border-2 border-gray-300 object-cover",onError:F=>{F.target.src="https://via.placeholder.com/400x300?text=Image+Not+Found"}}),s.jsx("button",{type:"button",onClick:()=>L(k),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:s.jsx(pi,{size:16})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg cursor-pointer hover:from-blue-600 hover:to-blue-700 transition-all shadow-md hover:shadow-lg",children:[s.jsx(Jf,{size:18}),s.jsx("span",{className:"text-sm font-medium",children:n==="en"?"Upload Image":"  "})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:F=>E(k,F),className:"hidden"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n==="en"?"Max 5MB, JPG/PNG":" 5MB, JPG/PNG"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"relative",children:[s.jsx(l4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"text",value:U.photoUrl&&U.photoUrl.startsWith("data:")?"":U.photoUrl||"",onChange:F=>T(k,"photoUrl",F.target.value),placeholder:n==="en"?"Or paste image URL":"  URL  ",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"https://example.com/image.jpg"})]})]})]})]})]},U.id))})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:()=>e("/admin/dashboard"),className:"px-6 py-2 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:g,children:n==="en"?"Cancel":" "}),s.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-[#138808] to-[#1aa910] text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:g,children:[s.jsx(Bs,{size:20}),g?n==="en"?"Saving...":"  ...":n==="en"?"Save Changes":"  "]})]})]})]})},EB=()=>{const{language:n}=fs(),e=Ar(),[t,r]=W.useState({description:{en:"Education is the foundation of our village development. We are committed to providing quality education to all children and promoting literacy among adults. Our village has well-equipped schools and anganwadis that ensure holistic development of children.",mr:"      .            .             ."},schools:[{id:1,name:{en:"Government Primary School",mr:"  "},type:{en:"Primary",mr:""},classes:"1st to 7th",students:"250+",teachers:"12",facilities:{en:"Computer Lab, Library, Playground, Mid-day Meal",mr:" , ,  ,  "},description:{en:"Well-established primary school with modern facilities and dedicated teachers",mr:"       "}},{id:2,name:{en:"Zilla Parishad High School",mr:"  "},type:{en:"Secondary",mr:""},classes:"8th to 10th",students:"180+",teachers:"15",facilities:{en:"Science Lab, Computer Lab, Sports Room, Library",mr:" ,  ,  , "},description:{en:"Quality secondary education with focus on science and mathematics",mr:"        "}}],anganwadis:[{id:1,name:{en:"Anganwadi Center 1",mr:"  "},location:{en:"Main Village",mr:" "},children:"35",worker:{en:"Smt. Anita Patil",mr:"  "},helper:{en:"Smt. Sunita Bhosale",mr:"  "},services:{en:"Nutrition, Pre-school Education, Health Check-ups, Immunization",mr:", - ,  , "},description:{en:"Comprehensive child development center for children aged 0-6 years",mr:"-       "}},{id:2,name:{en:"Anganwadi Center 2",mr:"  "},location:{en:"East Hamlet",mr:" "},children:"30",worker:{en:"Smt. Rekha Kamble",mr:"  "},helper:{en:"Smt. Meera Jadhav",mr:"  "},services:{en:"Nutrition, Pre-school Education, Health Check-ups, Immunization",mr:", - ,  , "},description:{en:"Well-equipped anganwadi serving children from eastern part of village",mr:"       "}}],programs:[{id:1,name:{en:"Adult Literacy Program",mr:"  "},description:{en:"Evening classes for adults who missed formal education, focusing on basic reading, writing and numeracy skills",mr:"     ,  ,      "},timing:{en:"6 PM - 8 PM (Mon-Fri)",mr:"  -  (-)"},participants:"40+",coordinator:{en:"Mr. Suresh Deshmukh",mr:"  "}},{id:2,name:{en:"Computer Training for Youth",mr:"  "},description:{en:"Free computer training program for village youth covering basic computer skills, MS Office, and internet usage",mr:"  , MS Office           "},timing:{en:"4 PM - 6 PM (Tue-Sat)",mr:"  -  (-)"},participants:"25",coordinator:{en:"Mr. Rahul Patil",mr:"  "}},{id:3,name:{en:"Girl Child Education Support",mr:"  "},description:{en:"Scholarship and support program to encourage girl child education and reduce dropout rates",mr:"            "},beneficiaries:"50+ girls",coordinator:{en:"Mrs. Savita Shinde",mr:"  "}}],stats:{literacyRate:"78%",totalStudents:"500+",totalTeachers:"30+",schoolDropoutRate:"5%"}}),[a,o]=W.useState({}),[c,u]=W.useState(!1),[h,f]=W.useState(!0),[g,x]=W.useState(!1);W.useEffect(()=>{(async()=>{try{f(!0);const I=await fT();I&&r(I)}catch(I){console.error("Error loading education content:",I)}finally{f(!1)}})()},[]);const v=(F,I)=>{r(P=>({...P,[F]:I}))},b=(F,I)=>{r(P=>({...P,stats:{...P.stats,[F]:I}}))},T=(F,I,P)=>{const B=[...t.schools];B[F]={...B[F],[I]:P},r(ue=>({...ue,schools:B}))},E=()=>{const F={id:Date.now(),name:{en:"",mr:""},type:{en:"",mr:""},classes:"",students:"",teachers:"",facilities:{en:"",mr:""},description:{en:"",mr:""}};r(I=>({...I,schools:[...I.schools,F]}))},j=F=>{window.confirm(n==="en"?"Remove this school?":"  ?")&&r(I=>({...I,schools:I.schools.filter((P,B)=>B!==F)}))},S=(F,I,P)=>{const B=[...t.anganwadis];B[F]={...B[F],[I]:P},r(ue=>({...ue,anganwadis:B}))},L=()=>{const F={id:Date.now(),name:{en:"",mr:""},location:{en:"",mr:""},children:"",worker:{en:"",mr:""},helper:{en:"",mr:""},services:{en:"",mr:""},description:{en:"",mr:""}};r(I=>({...I,anganwadis:[...I.anganwadis,F]}))},D=F=>{window.confirm(n==="en"?"Remove this anganwadi?":"  ?")&&r(I=>({...I,anganwadis:I.anganwadis.filter((P,B)=>B!==F)}))},O=(F,I,P)=>{const B=[...t.programs];B[F]={...B[F],[I]:P},r(ue=>({...ue,programs:B}))},te=()=>{const F={id:Date.now(),name:{en:"",mr:""},description:{en:"",mr:""},timing:{en:"",mr:""},participants:"",coordinator:{en:"",mr:""}};r(I=>({...I,programs:[...I.programs,F]}))},ee=F=>{window.confirm(n==="en"?"Remove this program?":"  ?")&&r(I=>({...I,programs:I.programs.filter((P,B)=>B!==F)}))},G=()=>{const F={};return t.description.en.trim()||(F.description_en=n==="en"?"English description is required":"   "),t.description.mr.trim()||(F.description_mr=n==="en"?"Marathi description is required":"   "),o(F),Object.keys(F).length===0},U=async F=>{if(F.preventDefault(),G())try{x(!0),await h4(t),u(!0),setTimeout(()=>u(!1),3e3),alert(n==="en"?"Education page content updated successfully!":"Education     !")}catch(I){console.error("Error saving education content:",I),alert(n==="en"?"Failed to save education content":"   ")}finally{x(!1)}},k=async()=>{try{await h4(t),window.open("/education","_blank")}catch(F){console.error("Error saving before preview:",F),alert("Failed to save content before preview")}};return s.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n==="en"?"Education Page Management":"  "}),s.jsx("p",{className:"text-gray-600 mt-1",children:n==="en"?"Edit schools, anganwadis, and educational programs":",      "})]}),s.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-[#138808] text-[#138808] rounded-lg hover:bg-[#138808] hover:text-white transition-colors",children:[s.jsx(zi,{size:20}),n==="en"?"Preview Page":" "]})]}),c&&s.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-500 rounded-lg flex items-center gap-2 text-green-700",children:[s.jsx(Qn,{size:20}),n==="en"?"Changes saved successfully!":"   !"]}),s.jsxs("form",{onSubmit:U,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(zg,{className:"text-[#ff6b00]"}),n==="en"?"Page Description":" "]}),s.jsxs("div",{children:[s.jsx(jn,{label:"Education Page Description",name:"description",type:"textarea",rows:4,value:t.description,onChange:F=>v("description",F),required:!0,placeholder:"Enter education page description"}),a.description&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.description})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(Us,{className:"text-[#ff6b00]"}),n==="en"?"Education Statistics":" "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Literacy Rate":" "}),s.jsx("input",{type:"text",value:t.stats.literacyRate,onChange:F=>b("literacyRate",F.target.value),placeholder:"78%",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Total Students":" "}),s.jsx("input",{type:"text",value:t.stats.totalStudents,onChange:F=>b("totalStudents",F.target.value),placeholder:"500+",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Total Teachers":" "}),s.jsx("input",{type:"text",value:t.stats.totalTeachers,onChange:F=>b("totalTeachers",F.target.value),placeholder:"30+",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Dropout Rate":"  "}),s.jsx("input",{type:"text",value:t.stats.schoolDropoutRate,onChange:F=>b("schoolDropoutRate",F.target.value),placeholder:"5%",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[s.jsx(N2,{className:"text-[#ff6b00]"}),n==="en"?"Schools":""]}),s.jsxs("button",{type:"button",onClick:E,className:"flex items-center gap-2 px-4 py-2 bg-[#138808] text-white rounded-lg hover:bg-[#0f6906] transition-colors",children:[s.jsx(Ss,{size:18}),n==="en"?"Add School":" "]})]}),s.jsx("div",{className:"space-y-6",children:t.schools.map((F,I)=>s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border-2 border-gray-200 relative",children:[s.jsx("button",{type:"button",onClick:()=>j(I),className:"absolute top-2 right-2 p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(ei,{size:18})}),s.jsxs("div",{className:"space-y-4 pr-10",children:[s.jsx("div",{children:s.jsx(jn,{label:"School Name",name:`school-name-${I}`,value:F.name,onChange:P=>T(I,"name",P),placeholder:"Enter school name"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Classes":""}),s.jsx("input",{type:"text",value:F.classes,onChange:P=>T(I,"classes",P.target.value),placeholder:"1st to 7th",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Students":""}),s.jsx("input",{type:"text",value:F.students,onChange:P=>T(I,"students",P.target.value),placeholder:"250+",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Teachers":""}),s.jsx("input",{type:"text",value:F.teachers,onChange:P=>T(I,"teachers",P.target.value),placeholder:"12",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),s.jsx("div",{children:s.jsx(jn,{label:"School Type",name:`school-type-${I}`,value:F.type,onChange:P=>T(I,"type",P),placeholder:"Primary / Secondary"})})]}),s.jsx("div",{children:s.jsx(jn,{label:"Facilities",name:`school-facilities-${I}`,value:F.facilities,onChange:P=>T(I,"facilities",P),placeholder:"Enter school facilities"})}),s.jsx("div",{children:s.jsx(jn,{label:"Description",name:`school-description-${I}`,type:"textarea",rows:2,value:F.description,onChange:P=>T(I,"description",P),placeholder:"Enter school description"})})]})]},F.id))})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[s.jsx(x2,{className:"text-[#ff6b00]"}),n==="en"?"Anganwadis":""]}),s.jsxs("button",{type:"button",onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-[#138808] text-white rounded-lg hover:bg-[#0f6906] transition-colors",children:[s.jsx(Ss,{size:18}),n==="en"?"Add Anganwadi":" "]})]}),s.jsx("div",{className:"space-y-6",children:t.anganwadis.map((F,I)=>s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border-2 border-gray-200 relative",children:[s.jsx("button",{type:"button",onClick:()=>D(I),className:"absolute top-2 right-2 p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(ei,{size:18})}),s.jsxs("div",{className:"space-y-4 pr-10",children:[s.jsx("div",{children:s.jsx(jn,{label:"Anganwadi Name",name:`anganwadi-name-${I}`,value:F.name,onChange:P=>S(I,"name",P),placeholder:"Enter anganwadi name"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{children:s.jsx(jn,{label:"Location",name:`anganwadi-location-${I}`,value:F.location,onChange:P=>S(I,"location",P),placeholder:"Enter location"})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Children":""}),s.jsx("input",{type:"text",value:F.children,onChange:P=>S(I,"children",P.target.value),placeholder:"35",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsx(jn,{label:"Worker",name:`anganwadi-worker-${I}`,value:F.worker,onChange:P=>S(I,"worker",P),placeholder:"Enter worker name"})}),s.jsx("div",{children:s.jsx(jn,{label:"Helper",name:`anganwadi-helper-${I}`,value:F.helper,onChange:P=>S(I,"helper",P),placeholder:"Enter helper name"})})]}),s.jsx("div",{children:s.jsx(jn,{label:"Services",name:`anganwadi-services-${I}`,value:F.services,onChange:P=>S(I,"services",P),placeholder:"Enter services provided"})}),s.jsx("div",{children:s.jsx(jn,{label:"Description",name:`anganwadi-description-${I}`,type:"textarea",rows:2,value:F.description,onChange:P=>S(I,"description",P),placeholder:"Enter anganwadi description"})})]})]},F.id))})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[s.jsx(zg,{className:"text-[#ff6b00]"}),n==="en"?"Educational Programs":" "]}),s.jsxs("button",{type:"button",onClick:te,className:"flex items-center gap-2 px-4 py-2 bg-[#138808] text-white rounded-lg hover:bg-[#0f6906] transition-colors",children:[s.jsx(Ss,{size:18}),n==="en"?"Add Program":" "]})]}),s.jsx("div",{className:"space-y-6",children:t.programs.map((F,I)=>s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border-2 border-gray-200 relative",children:[s.jsx("button",{type:"button",onClick:()=>ee(I),className:"absolute top-2 right-2 p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(ei,{size:18})}),s.jsxs("div",{className:"space-y-4 pr-10",children:[s.jsx("div",{children:s.jsx(jn,{label:"Program Name",name:`program-name-${I}`,value:F.name,onChange:P=>O(I,"name",P),placeholder:"Enter program name"})}),s.jsx("div",{children:s.jsx(jn,{label:"Description",name:`program-description-${I}`,type:"textarea",rows:2,value:F.description,onChange:P=>O(I,"description",P),placeholder:"Enter program description"})})]})]},F.id))})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:()=>e("/admin/dashboard"),className:"px-6 py-2 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:g,children:n==="en"?"Cancel":" "}),s.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-[#138808] to-[#1aa910] text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:g,children:[s.jsx(Bs,{size:20}),g?n==="en"?"Saving...":"  ...":n==="en"?"Save Changes":"  "]})]})]})]})},es={VILLAGES:$t.villages(),DEMOGRAPHICS:$t.demographics(),POPULATION_BREAKDOWNS:$t.populationBreakdowns(),VILLAGE_GROUPS:$t.villageGroups(),INFRASTRUCTURE:$t.infrastructure(),STATISTICS_YEARS:$t.statisticsYears()};async function lm(){try{console.log("Fetching villages from Firebase server (bypassing cache)...");const e=(await N9(Ht(Ye,es.VILLAGES))).docs.map(t=>{const r=t.data(),{id:a,...o}=r;return{id:t.id,...o}});return e.sort((t,r)=>{const a=t.createdAt?.toMillis?.()||0,o=r.createdAt?.toMillis?.()||0;return a-o}),console.log("Fetched from server:",e.length,"villages"),console.log("Village IDs:",e.map(t=>({docId:t.id,name:t.nameEn,createdAt:t.createdAt}))),e}catch(n){throw console.error("Error getting villages:",n),n}}async function AB(n){try{return{id:(await bs(Ht(Ye,es.VILLAGES),{...n,gramPanchayatId:n.gramPanchayatId||"default",createdAt:Xt(),updatedAt:Xt()})).id,...n}}catch(e){throw console.error("Error creating village:",e),e}}async function TB(n,e){try{return await lh(St(Ye,es.VILLAGES,n),{...e,updatedAt:Xt()},{merge:!0}),{id:n,...e}}catch(t){throw console.error("Error updating village:",t),t}}async function CB(n){try{console.log("Attempting to delete village from Firebase, ID:",n);const e=St(Ye,es.VILLAGES,n);return console.log("Village reference created:",e.path),await Uo(e),console.log("Firebase deleteDoc completed successfully for:",n),!0}catch(e){throw console.error("Error deleting village from Firebase:",e),console.error("Error code:",e.code),console.error("Error message:",e.message),e}}async function IB(n,e){try{const t=Es(Ht(Ye,es.DEMOGRAPHICS),Za("villageId","==",n),Za("year","==",e)),r=await wr(t);if(r.empty)return null;const a=r.docs[0];return{id:a.id,...a.data()}}catch(t){throw console.error("Error getting demographics:",t),t}}async function vT(n){try{const e=Es(Ht(Ye,es.DEMOGRAPHICS),Za("year","==",n));return(await wr(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error getting demographics by year:",e),e}}async function wT(n){try{console.log("bulkUpsertDemographics: Starting batch operation for",n.length,"records");const e=uy(Ye);let t=0,r=0;for(const a of n){const o=await IB(a.villageId,a.year);if(o){console.log(`Updating demographics for village ${a.villageId}, year ${a.year}`);const c=St(Ye,es.DEMOGRAPHICS,o.id);e.update(c,{...a,updatedAt:Xt()}),t++}else{console.log(`Creating new demographics for village ${a.villageId}, year ${a.year}`);const c=St(Ht(Ye,es.DEMOGRAPHICS));e.set(c,{...a,createdAt:Xt(),updatedAt:Xt()}),r++}}return console.log(`Committing batch: ${r} creates, ${t} updates`),await e.commit(),console.log("Batch committed successfully to Firebase"),!0}catch(e){throw console.error("Error bulk upserting demographics:",e),e}}async function NT(n){try{const e=Es(Ht(Ye,es.POPULATION_BREAKDOWNS),Za("year","==",n));return(await wr(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error getting breakdowns by year:",e),e}}async function RB(n){try{console.log("bulkUpsertPopulationBreakdowns: Starting batch operation for",n.length,"records");const e=uy(Ye);let t=0,r=0;for(const a of n){const o=Es(Ht(Ye,es.POPULATION_BREAKDOWNS),Za("villageId","==",a.villageId),Za("year","==",a.year),Za("category","==",a.category)),c=await wr(o),u=(a.maleCount||0)+(a.femaleCount||0);if(c.empty){const h=St(Ht(Ye,es.POPULATION_BREAKDOWNS));e.set(h,{...a,totalCount:u,createdAt:Xt(),updatedAt:Xt()}),r++}else{const h=c.docs[0],f=St(Ye,es.POPULATION_BREAKDOWNS,h.id);e.update(f,{...a,totalCount:u,updatedAt:Xt()}),t++}}return console.log(`Committing batch: ${r} creates, ${t} updates`),await e.commit(),console.log("Population breakdowns batch committed successfully"),!0}catch(e){throw console.error("Error bulk upserting breakdowns:",e),e}}async function kB(n,e){try{const t=Es(Ht(Ye,es.VILLAGE_GROUPS),Za("villageId","==",n),Za("year","==",e)),r=await wr(t);if(r.empty)return null;const a=r.docs[0];return{id:a.id,...a.data()}}catch(t){throw console.error("Error getting groups:",t),t}}async function jT(n){try{const e=Es(Ht(Ye,es.VILLAGE_GROUPS),Za("year","==",n));return(await wr(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error getting groups by year:",e),e}}async function PB(n){try{const e=uy(Ye);for(const t of n){const r=await kB(t.villageId,t.year);if(r){const a=St(Ye,es.VILLAGE_GROUPS,r.id);e.update(a,{...t,updatedAt:Xt()})}else{const a=St(Ht(Ye,es.VILLAGE_GROUPS));e.set(a,{...t,createdAt:Xt(),updatedAt:Xt()})}}return await e.commit(),!0}catch(e){throw console.error("Error bulk upserting groups:",e),e}}async function LB(n,e){try{const t=Es(Ht(Ye,es.INFRASTRUCTURE),Za("villageId","==",n),Za("year","==",e)),r=await wr(t);if(r.empty)return null;const a=r.docs[0];return{id:a.id,...a.data()}}catch(t){throw console.error("Error getting infrastructure:",t),t}}async function _T(n){try{const e=Es(Ht(Ye,es.INFRASTRUCTURE),Za("year","==",n));return(await wr(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error getting infrastructure by year:",e),e}}async function DB(n){try{const e=uy(Ye);for(const t of n){const r=await LB(t.villageId,t.year);if(r){const a=St(Ye,es.INFRASTRUCTURE,r.id);e.update(a,{...t,updatedAt:Xt()})}else{const a=St(Ht(Ye,es.INFRASTRUCTURE));e.set(a,{...t,createdAt:Xt(),updatedAt:Xt()})}}return await e.commit(),!0}catch(e){throw console.error("Error bulk upserting infrastructure:",e),e}}async function Tx(){try{const n=Es(Ht(Ye,es.STATISTICS_YEARS),ic("year","desc"));return(await wr(n)).docs.map(t=>t.data().year)}catch(n){throw console.error("Error getting years:",n),n}}async function MB(n){try{const e=Es(Ht(Ye,es.STATISTICS_YEARS),Za("year","==",n));if(!(await wr(e)).empty)throw new Error("Year already exists");return await bs(Ht(Ye,es.STATISTICS_YEARS),{year:n,createdAt:Xt()}),n}catch(e){throw console.error("Error adding year:",e),e}}async function ST(){try{const n=await Tx();return n.length>0?n[0]:new Date().getFullYear()}catch(n){return console.error("Error getting latest year:",n),new Date().getFullYear()}}async function ET(n){try{const[e,t,r,a,o]=await Promise.all([lm(),vT(n),NT(n),jT(n),_T(n)]);return{year:n,villages:e,demographics:t,breakdowns:r,groups:a,infrastructure:o}}catch(e){throw console.error("Error getting summary:",e),e}}const OB=()=>{const[n,e]=W.useState([]),[t,r]=W.useState(!1),[a,o]=W.useState(null),[c,u]=W.useState({type:"",text:""}),[h,f]=W.useState({nameEn:"",nameMr:"",code:""});W.useEffect(()=>{g()},[]),W.useEffect(()=>{if(c.type==="success"&&c.text){const L=setTimeout(()=>{u({type:"",text:""})},5e3);return()=>clearTimeout(L)}},[c]);const g=async()=>{try{console.log("Loading villages from Firebase...");const L=await lm();console.log("Loaded villages count:",L.length),console.log("Villages data:",JSON.stringify(L,null,2)),e(L)}catch(L){console.error("Error loading villages:",L),u({type:"error",text:"Failed to load villages"})}},x=()=>{f({nameEn:"",nameMr:"",code:""}),r(!1),o(null)},v=(L,D)=>{f(O=>({...O,[L]:D}))},b=async()=>{if(u({type:"",text:""}),!h.nameEn.trim()||!h.nameMr.trim()){u({type:"error",text:"Village name in both English and Marathi is required"});return}try{await AB(h),await g(),x(),u({type:"success",text:`Village "${h.nameEn}" added successfully!`})}catch(L){console.error("Error adding village:",L),u({type:"error",text:"Failed to add village. Please try again."})}},T=L=>{o(L.id),f({nameEn:L.nameEn,nameMr:L.nameMr,code:L.code||""}),u({type:"",text:""})},E=async()=>{if(u({type:"",text:""}),!h.nameEn.trim()||!h.nameMr.trim()){u({type:"error",text:"Village name in both English and Marathi is required"});return}try{await TB(a,h),await g(),x(),u({type:"success",text:`Village "${h.nameEn}" updated successfully!`})}catch(L){console.error("Error updating village:",L);const D=L.message||"Failed to update village. Please try again.";u({type:"error",text:`Error: ${D}. The village may not exist in the database.`})}},j=async L=>{if(confirm(`Are you sure you want to delete "${L.nameEn}"?

Warning: This will NOT delete associated statistics data. The data will remain but won't be visible unless you recreate the village.`))try{console.log("Deleting village with ID:",L.id),await CB(L.id),console.log("Delete successful, reloading villages..."),await g(),console.log("Villages reloaded, current count:",n.length-1),u({type:"success",text:`Village "${L.nameEn}" deleted successfully!`})}catch(D){console.error("Error deleting village:",D),u({type:"error",text:`Failed to delete village: ${D.message}`})}},S=()=>{x(),u({type:"",text:""})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Village Management"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Add, edit, or delete villages in your Gram Panchayat"})]}),!t&&!a&&s.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors shadow-md",children:[s.jsx(Ss,{className:"w-4 h-4"}),"Add Village"]})]}),c.text&&s.jsxs("div",{className:`flex items-center justify-between gap-2 p-4 rounded-lg ${c.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[c.type==="success"?s.jsx(Bi,{className:"w-5 h-5"}):s.jsx(Qn,{className:"w-5 h-5"}),s.jsx("span",{children:c.text})]}),s.jsx("button",{onClick:()=>u({type:"",text:""}),className:"text-gray-500 hover:text-gray-700 transition-colors",title:"Dismiss",children:s.jsx(pi,{className:"w-4 h-4"})})]}),(t||a)&&s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-green-50 border border-orange-200 rounded-lg p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:t?"Add New Village":"Edit Village"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Village Name (English) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:h.nameEn,onChange:L=>v("nameEn",L.target.value),placeholder:"e.g., Kothrud",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Village Name (Marathi) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:h.nameMr,onChange:L=>v("nameMr",L.target.value),placeholder:"e.g., ",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Village Code (Optional)"}),s.jsx("input",{type:"text",value:h.code,onChange:L=>v("code",L.target.value),placeholder:"e.g., V001",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:t?b:E,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Bs,{className:"w-4 h-4"}),t?"Add Village":"Update Village"]}),s.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:[s.jsx(pi,{className:"w-4 h-4"}),"Cancel"]})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Qn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No villages found"}),s.jsx("button",{onClick:()=>r(!0),className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Add Your First Village"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"#"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Village Name (English)"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Village Name (Marathi)"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Code"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((L,D)=>s.jsxs("tr",{className:D%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D+1}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.nameEn})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:L.nameMr})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-700",children:L.code||"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>T(L),disabled:t||a,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Edit",children:s.jsx(hp,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>j(L),disabled:t||a,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Delete",children:s.jsx(ei,{className:"w-4 h-4"})})]})})]},L.id))})]})})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Qn,{className:"w-5 h-5 text-blue-600 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-semibold mb-2",children:"Important Notes:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Add all your villages here before entering statistics data"}),s.jsx("li",{children:"Deleting a village won't delete its statistics data (data remains orphaned)"}),s.jsx("li",{children:"Village names should be unique to avoid confusion"}),s.jsx("li",{children:"After adding villages, go to other tabs to enter their statistics"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg border border-orange-200",children:[s.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"Total Villages"}),s.jsx("div",{className:"text-2xl font-bold text-orange-900 mt-1",children:n.length})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:[s.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Villages with Code"}),s.jsx("div",{className:"text-2xl font-bold text-green-900 mt-1",children:n.filter(L=>L.code).length})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[s.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Last Added"}),s.jsx("div",{className:"text-sm font-semibold text-blue-900 mt-1",children:n.length>0?n[n.length-1].nameEn:"None"})]})]})]})},FB=({selectedYear:n})=>{const[e,t]=W.useState([]),[r,a]=W.useState({}),[o,c]=W.useState(!0),[u,h]=W.useState(!1),[f,g]=W.useState({type:"",text:""});W.useEffect(()=>{x()},[n]);const x=async()=>{c(!0);try{const T=await lm(),E=await vT(n),j={};T.forEach(S=>{const L=E.find(te=>te.villageId===S.id),D=L?.malePopulation||0,O=L?.femalePopulation||0;j[S.id]={villageId:S.id,year:n,totalPopulation:D+O,malePopulation:D,femalePopulation:O,source:L?.source||""}}),t(T),a(j)}catch(T){console.error("Error loading demographics:",T),g({type:"error",text:"Failed to load demographics data"})}finally{c(!1)}},v=(T,E,j)=>{a(S=>{const L={...S,[T]:{...S[T],[E]:E==="source"?j:parseInt(j)||0}};if(E==="malePopulation"||E==="femalePopulation"){const D=E==="malePopulation"?parseInt(j)||0:L[T].malePopulation,O=E==="femalePopulation"?parseInt(j)||0:L[T].femalePopulation;L[T].totalPopulation=D+O}return L})},b=async()=>{h(!0),g({type:"",text:""});try{const T=Object.values(r);console.log("Saving demographics data:",T);for(const E of T)if(E.totalPopulation<0||E.malePopulation<0||E.femalePopulation<0){g({type:"error",text:"Population counts cannot be negative"}),h(!1);return}console.log("Calling bulkUpsertDemographics with",T.length,"records"),await wT(T),console.log("Demographics saved successfully to Firebase"),g({type:"success",text:`Demographics for year ${n} saved successfully!`})}catch(T){console.error("Error saving demographics:",T),g({type:"error",text:`Failed to save demographics: ${T.message}`})}finally{h(!1)}};return o?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Population Demographics - ",n]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage total, male, and female population for each village"})]}),s.jsxs("button",{onClick:b,disabled:u,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(Bs,{className:"w-4 h-4"}),u?"Saving...":"Save All"]})]}),f.text&&s.jsxs("div",{className:`flex items-center gap-2 p-4 rounded-lg ${f.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[s.jsx(Qn,{className:"w-5 h-5"}),s.jsx("span",{children:f.text})]}),s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Village Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:s.jsxs("div",{className:"flex items-center gap-1",children:["Total Population",s.jsx("span",{className:"text-xs normal-case text-gray-500",children:"(Auto)"})]})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Male Population"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Female Population"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Data Source"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((T,E)=>s.jsxs("tr",{className:E%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.nameEn}),s.jsx("div",{className:"text-sm text-gray-500",children:T.nameMr})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"number",min:"0",value:r[T.id]?.totalPopulation||0,readOnly:!0,className:"w-32 px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-700 font-semibold cursor-not-allowed",title:"Auto-calculated: Male + Female"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"number",min:"0",value:r[T.id]?.malePopulation||0,onChange:j=>v(T.id,"malePopulation",j.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"number",min:"0",value:r[T.id]?.femalePopulation||0,onChange:j=>v(T.id,"femalePopulation",j.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"text",value:r[T.id]?.source||"",onChange:j=>v(T.id,"source",j.target.value),placeholder:"e.g., Census 2011",className:"w-48 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]},T.id))})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[s.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Total Population"}),s.jsx("div",{className:"text-2xl font-bold text-blue-900 mt-1",children:Object.values(r).reduce((T,E)=>T+(E.totalPopulation||0),0).toLocaleString()})]}),s.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-4 rounded-lg border border-indigo-200",children:[s.jsx("div",{className:"text-sm text-indigo-600 font-medium",children:"Male Population"}),s.jsx("div",{className:"text-2xl font-bold text-indigo-900 mt-1",children:Object.values(r).reduce((T,E)=>T+(E.malePopulation||0),0).toLocaleString()})]}),s.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 p-4 rounded-lg border border-pink-200",children:[s.jsx("div",{className:"text-sm text-pink-600 font-medium",children:"Female Population"}),s.jsx("div",{className:"text-2xl font-bold text-pink-900 mt-1",children:Object.values(r).reduce((T,E)=>T+(E.femalePopulation||0),0).toLocaleString()})]})]})]})},uf=["ST","SC","OBC","OTHER"],UB=({selectedYear:n})=>{const[e,t]=W.useState([]),[r,a]=W.useState({}),[o,c]=W.useState(!0),[u,h]=W.useState(!1),[f,g]=W.useState({type:"",text:""});W.useEffect(()=>{x()},[n]);const x=async()=>{c(!0);try{const j=await lm(),S=await NT(n),L={};j.forEach(D=>{L[D.id]={},uf.forEach(O=>{const te=S.find(ee=>ee.villageId===D.id&&ee.category===O);L[D.id][O]={maleCount:te?.maleCount||0,femaleCount:te?.femaleCount||0}})}),t(j),a(L)}catch(j){console.error("Error loading category data:",j),g({type:"error",text:"Failed to load category data"})}finally{c(!1)}},v=(j,S,L,D)=>{a(O=>({...O,[j]:{...O[j],[S]:{...O[j][S],[L]:parseInt(D)||0}}}))},b=async()=>{h(!0),g({type:"",text:""});try{const j=[];Object.entries(r).forEach(([L,D])=>{Object.entries(D).forEach(([O,te])=>{if(te.maleCount<0||te.femaleCount<0)throw new Error("Population counts cannot be negative");j.push({villageId:L,year:n,category:O,maleCount:te.maleCount,femaleCount:te.femaleCount})})}),console.log("Saving category-wise data:",j.length,"records"),await RB(j),console.log("Category-wise data saved successfully");const S=[];Object.entries(r).forEach(([L,D])=>{let O=0,te=0;Object.values(D).forEach(ee=>{O+=ee.maleCount||0,te+=ee.femaleCount||0}),S.push({villageId:L,year:n,totalPopulation:O+te,malePopulation:O,femalePopulation:te,source:"Auto-calculated from Category-wise data"})}),console.log("Auto-updating demographics from category data:",S.length,"villages"),await wT(S),console.log("Demographics auto-updated successfully"),g({type:"success",text:` Category-wise data saved! Demographics auto-updated for ${n}.`})}catch(j){console.error("Error saving category-wise data:",j),g({type:"error",text:j.message||"Failed to save data. Please try again."})}finally{h(!1)}},T=(j,S)=>{const L=r[j]?.[S];return(L?.maleCount||0)+(L?.femaleCount||0)},E=j=>e.reduce((S,L)=>S+T(L.id,j),0);return o?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Category-wise Population - ",n]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage ST/SC/OBC/Other population breakdown for each village"})]}),s.jsxs("button",{onClick:b,disabled:u,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(Bs,{className:"w-4 h-4"}),u?"Saving...":"Save All"]})]}),f.text&&s.jsxs("div",{className:`flex items-center gap-2 p-4 rounded-lg ${f.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[s.jsx(Qn,{className:"w-5 h-5"}),s.jsx("span",{children:f.text})]}),s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsxs("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:[s.jsxs("tr",{children:[s.jsx("th",{rowSpan:"2",className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider border-r",children:"Village Name"}),uf.map(j=>s.jsx("th",{colSpan:"3",className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider border-r",children:j},j))]}),s.jsx("tr",{children:uf.map(j=>s.jsxs(E0.Fragment,{children:[s.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-600",children:"Male"}),s.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-600",children:"Female"}),s.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-600 border-r",children:"Total"})]},j))})]}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((j,S)=>s.jsxs("tr",{className:S%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap border-r",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.nameEn}),s.jsx("div",{className:"text-sm text-gray-500",children:j.nameMr})]})}),uf.map(L=>s.jsxs(E0.Fragment,{children:[s.jsx("td",{className:"px-2 py-4 text-center",children:s.jsx("input",{type:"number",min:"0",value:r[j.id]?.[L]?.maleCount||0,onChange:D=>v(j.id,L,"maleCount",D.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),s.jsx("td",{className:"px-2 py-4 text-center",children:s.jsx("input",{type:"number",min:"0",value:r[j.id]?.[L]?.femaleCount||0,onChange:D=>v(j.id,L,"femaleCount",D.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),s.jsx("td",{className:"px-2 py-4 text-center border-r",children:s.jsx("span",{className:"font-semibold text-gray-700",children:T(j.id,L)})})]},L))]},j.id))}),s.jsx("tfoot",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 font-bold text-gray-900 border-r",children:"Grand Total"}),uf.map(j=>s.jsxs(E0.Fragment,{children:[s.jsx("td",{className:"px-2 py-4 text-center font-semibold text-gray-700",children:e.reduce((S,L)=>S+(r[L.id]?.[j]?.maleCount||0),0)}),s.jsx("td",{className:"px-2 py-4 text-center font-semibold text-gray-700",children:e.reduce((S,L)=>S+(r[L.id]?.[j]?.femaleCount||0),0)}),s.jsx("td",{className:"px-2 py-4 text-center font-bold text-gray-900 border-r",children:E(j)})]},j))]})})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:uf.map((j,S)=>{const L=[{from:"purple-50",to:"purple-100",border:"purple-200",text:"purple-600",value:"purple-900"},{from:"blue-50",to:"blue-100",border:"blue-200",text:"blue-600",value:"blue-900"},{from:"green-50",to:"green-100",border:"green-200",text:"green-600",value:"green-900"},{from:"amber-50",to:"amber-100",border:"amber-200",text:"amber-600",value:"amber-900"}][S];return s.jsxs("div",{className:`bg-gradient-to-br from-${L.from} to-${L.to} p-4 rounded-lg border border-${L.border}`,children:[s.jsxs("div",{className:`text-sm text-${L.text} font-medium`,children:[j," Population"]}),s.jsx("div",{className:`text-2xl font-bold text-${L.value} mt-1`,children:E(j).toLocaleString()})]},j)})})]})},VB=({selectedYear:n})=>{const[e,t]=W.useState([]),[r,a]=W.useState({}),[o,c]=W.useState(!0),[u,h]=W.useState(!1),[f,g]=W.useState({type:"",text:""});W.useEffect(()=>{x()},[n]);const x=async()=>{c(!0);try{const j=await lm(),S=await jT(n),L={};j.forEach(D=>{const O=S.find(te=>te.villageId===D.id);L[D.id]={villageId:D.id,year:n,mahilaBachatGatCount:O?.mahilaBachatGatCount||0,yuvakMandalCount:O?.yuvakMandalCount||0,kisanGatCount:O?.kisanGatCount||0,otherGroupCount:O?.otherGroupCount||0}}),t(j),a(L)}catch(j){console.error("Error loading groups data:",j),g({type:"error",text:"Failed to load groups data"})}finally{c(!1)}},v=(j,S,L)=>{a(D=>({...D,[j]:{...D[j],[S]:parseInt(L)||0}}))},b=async()=>{h(!0),g({type:"",text:""});try{const j=Object.values(r);for(const S of j)if(S.mahilaBachatGatCount<0||S.yuvakMandalCount<0||S.kisanGatCount<0||S.otherGroupCount<0)throw new Error("Group counts cannot be negative");console.log("Saving groups & committees data:",j.length,"records"),await PB(j),console.log("Groups & committees data saved successfully"),g({type:"success",text:`Groups & Committees data for ${n} saved successfully!`})}catch(j){console.error("Error saving groups data:",j),g({type:"error",text:j.message||"Failed to save data. Please try again."})}finally{h(!1)}},T=j=>{const S=r[j];return S?(S.mahilaBachatGatCount||0)+(S.yuvakMandalCount||0)+(S.kisanGatCount||0)+(S.otherGroupCount||0):0},E=j=>Object.values(r).reduce((S,L)=>S+(L[j]||0),0);return o?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Groups & Committees - ",n]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage community groups count for each village"})]}),s.jsxs("button",{onClick:b,disabled:u,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(Bs,{className:"w-4 h-4"}),u?"Saving...":"Save All"]})]}),f.text&&s.jsxs("div",{className:`flex items-center gap-2 p-4 rounded-lg ${f.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[s.jsx(Qn,{className:"w-5 h-5"}),s.jsx("span",{children:f.text})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 p-4 rounded-lg border border-pink-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Us,{className:"w-5 h-5 text-pink-600"}),s.jsx("div",{className:"text-sm text-pink-600 font-medium",children:"Mahila Bachat Gat"})]}),s.jsx("div",{className:"text-sm text-pink-500 mt-1",children:"Women's Self-Help Groups"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Us,{className:"w-5 h-5 text-blue-600"}),s.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Yuvak Mandal"})]}),s.jsx("div",{className:"text-sm text-blue-500 mt-1",children:"Youth Organizations"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Us,{className:"w-5 h-5 text-green-600"}),s.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Kisan Gat"})]}),s.jsx("div",{className:"text-sm text-green-500 mt-1",children:"Farmers' Groups"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Us,{className:"w-5 h-5 text-purple-600"}),s.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Other Groups"})]}),s.jsx("div",{className:"text-sm text-purple-500 mt-1",children:"Other Community Groups"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Village Name"}),s.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Mahila Bachat Gat",s.jsx("br",{}),s.jsx("span",{className:"text-xs font-normal text-gray-500",children:"(  )"})]}),s.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Yuvak Mandal",s.jsx("br",{}),s.jsx("span",{className:"text-xs font-normal text-gray-500",children:"( )"})]}),s.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Kisan Gat",s.jsx("br",{}),s.jsx("span",{className:"text-xs font-normal text-gray-500",children:"( )"})]}),s.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Other Groups",s.jsx("br",{}),s.jsx("span",{className:"text-xs font-normal text-gray-500",children:"( )"})]}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Total"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((j,S)=>s.jsxs("tr",{className:S%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.nameEn}),s.jsx("div",{className:"text-sm text-gray-500",children:j.nameMr})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"number",min:"0",value:r[j.id]?.mahilaBachatGatCount||0,onChange:L=>v(j.id,"mahilaBachatGatCount",L.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"number",min:"0",value:r[j.id]?.yuvakMandalCount||0,onChange:L=>v(j.id,"yuvakMandalCount",L.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"number",min:"0",value:r[j.id]?.kisanGatCount||0,onChange:L=>v(j.id,"kisanGatCount",L.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"number",min:"0",value:r[j.id]?.otherGroupCount||0,onChange:L=>v(j.id,"otherGroupCount",L.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"font-semibold text-gray-700",children:T(j.id)})})]},j.id))}),s.jsx("tfoot",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 font-bold text-gray-900",children:"Grand Total"}),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:E("mahilaBachatGatCount")}),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:E("yuvakMandalCount")}),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:E("kisanGatCount")}),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:E("otherGroupCount")}),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:E("mahilaBachatGatCount")+E("yuvakMandalCount")+E("kisanGatCount")+E("otherGroupCount")})]})})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 p-4 rounded-lg border border-pink-200",children:[s.jsx("div",{className:"text-sm text-pink-600 font-medium",children:"Mahila Bachat Gat"}),s.jsx("div",{className:"text-2xl font-bold text-pink-900 mt-1",children:E("mahilaBachatGatCount")})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[s.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Yuvak Mandal"}),s.jsx("div",{className:"text-2xl font-bold text-blue-900 mt-1",children:E("yuvakMandalCount")})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:[s.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Kisan Gat"}),s.jsx("div",{className:"text-2xl font-bold text-green-900 mt-1",children:E("kisanGatCount")})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200",children:[s.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Other Groups"}),s.jsx("div",{className:"text-2xl font-bold text-purple-900 mt-1",children:E("otherGroupCount")})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg border border-orange-200",children:[s.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"Total Groups"}),s.jsx("div",{className:"text-2xl font-bold text-orange-900 mt-1",children:E("mahilaBachatGatCount")+E("yuvakMandalCount")+E("kisanGatCount")+E("otherGroupCount")})]})]})]})},BB=({selectedYear:n})=>{const[e,t]=W.useState([]),[r,a]=W.useState({}),[o,c]=W.useState(!0),[u,h]=W.useState(!1),[f,g]=W.useState({type:"",text:""});W.useEffect(()=>{x()},[n]);const x=async()=>{c(!0);try{const E=await lm(),j=await _T(n),S={};E.forEach(L=>{const D=j.find(O=>O.villageId===L.id);S[L.id]={villageId:L.id,year:n,privateWells:D?.privateWells||0,publicWells:D?.publicWells||0,nitScheme:D?.nitScheme||0,handpumps:D?.handpumps||0,waterTankCapacity:D?.waterTankCapacity||"",waterFilterPlant:D?.waterFilterPlant||0,privatePonds:D?.privatePonds||0,families:D?.families||0,oldTapConnections:D?.oldTapConnections||0,newTapConnections:D?.newTapConnections||0,totalTapConnections:D?.totalTapConnections||0,privateWellsForTap:D?.privateWellsForTap||0,pendingTapConnections:D?.pendingTapConnections||0,notes:D?.notes||""}}),t(E),a(S)}catch(E){console.error("Error loading infrastructure:",E),g({type:"error",text:"Failed to load infrastructure data"})}finally{c(!1)}},v=(E,j,S)=>{a(L=>{const D={...L,[E]:{...L[E],[j]:j==="notes"||j==="waterTankCapacity"?S:parseInt(S)||0}};if(j==="oldTapConnections"||j==="newTapConnections"){const O=j==="oldTapConnections"?parseInt(S)||0:D[E].oldTapConnections,te=j==="newTapConnections"?parseInt(S)||0:D[E].newTapConnections;D[E].totalTapConnections=O+te}return D})},b=async()=>{h(!0),g({type:"",text:""});try{const E=Object.values(r);console.log("Saving water & infrastructure data:",E.length,"records"),await DB(E),console.log("Water & infrastructure data saved successfully"),g({type:"success",text:`Water & Infrastructure data for ${n} saved successfully!`})}catch(E){console.error("Error saving infrastructure data:",E),g({type:"error",text:E.message||"Failed to save data. Please try again."})}finally{h(!1)}},T=E=>Object.values(r).reduce((j,S)=>j+(S[E]||0),0);return o?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Water Supply Information - ",n]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"  | Manage water resources and infrastructure"})]}),s.jsxs("button",{onClick:b,disabled:u,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(Bs,{className:"w-4 h-4"}),u?"Saving...":"Save All"]})]}),f.text&&s.jsxs("div",{className:`flex items-center gap-2 p-4 rounded-lg ${f.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[s.jsx(Qn,{className:"w-5 h-5"}),s.jsx("span",{children:f.text})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 px-6 py-4",children:s.jsxs("h4",{className:"text-white font-semibold flex items-center gap-2",children:[s.jsx(jx,{className:"w-5 h-5"}),"Table 1: Water Supply Sources |   "]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:s.jsxs("tr",{children:[s.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Sr. No.",s.jsx("br",{}),s.jsx("span",{className:"text-xs font-normal text-gray-500",children:".."})]}),s.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Water Source",s.jsx("br",{}),s.jsx("span",{className:"text-xs font-normal text-gray-500",children:" "})]}),e.map(E=>s.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:[E.nameEn,s.jsx("br",{}),s.jsx("span",{className:"text-xs font-normal text-gray-500",children:E.nameMr})]},E.id)),s.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider bg-blue-50",children:["Total",s.jsx("br",{}),s.jsx("span",{className:"text-xs font-normal text-gray-500",children:""})]})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"1"}),s.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Private Wells",s.jsx("br",{}),s.jsx("span",{className:"text-xs text-gray-500",children:" "})]}),e.map(E=>s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"number",min:"0",value:r[E.id]?.privateWells||0,onChange:j=>v(E.id,"privateWells",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},E.id)),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:T("privateWells")})]}),s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"2"}),s.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Public Wells",s.jsx("br",{}),s.jsx("span",{className:"text-xs text-gray-500",children:" "})]}),e.map(E=>s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"number",min:"0",value:r[E.id]?.publicWells||0,onChange:j=>v(E.id,"publicWells",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},E.id)),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:T("publicWells")})]}),s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"3"}),s.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["NIT Scheme",s.jsx("br",{}),s.jsx("span",{className:"text-xs text-gray-500",children:" "})]}),e.map(E=>s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"number",min:"0",value:r[E.id]?.nitScheme||0,onChange:j=>v(E.id,"nitScheme",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},E.id)),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:T("nitScheme")})]}),s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"4"}),s.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Handpumps",s.jsx("br",{}),s.jsx("span",{className:"text-xs text-gray-500",children:""})]}),e.map(E=>s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"number",min:"0",value:r[E.id]?.handpumps||0,onChange:j=>v(E.id,"handpumps",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},E.id)),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:T("handpumps")})]}),s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"5"}),s.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Water Tank Capacity",s.jsx("br",{}),s.jsx("span",{className:"text-xs text-gray-500",children:"  "})]}),e.map(E=>s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"text",value:r[E.id]?.waterTankCapacity||"",onChange:j=>v(E.id,"waterTankCapacity",j.target.value),placeholder:"e.g., 8 lakh liters",className:"w-32 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})},E.id)),s.jsx("td",{className:"px-6 py-4 text-center text-gray-500 bg-blue-50",children:""})]}),s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"6"}),s.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Water Filter Plant",s.jsx("br",{}),s.jsx("span",{className:"text-xs text-gray-500",children:"  "})]}),e.map(E=>s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"number",min:"0",value:r[E.id]?.waterFilterPlant||0,onChange:j=>v(E.id,"waterFilterPlant",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},E.id)),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:T("waterFilterPlant")})]}),s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"7"}),s.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Private Ponds",s.jsx("br",{}),s.jsx("span",{className:"text-xs text-gray-500",children:" "})]}),e.map(E=>s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"number",min:"0",value:r[E.id]?.privatePonds||0,onChange:j=>v(E.id,"privatePonds",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},E.id)),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:T("privatePonds")})]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4",children:s.jsxs("h4",{className:"text-white font-semibold flex items-center gap-2",children:[s.jsx(jx,{className:"w-5 h-5"}),"Table 2: Tap Connection Details |   "]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:s.jsxs("tr",{children:[s.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Sr. No.",s.jsx("br",{}),s.jsx("span",{className:"text-xs font-normal text-gray-500",children:".."})]}),s.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Village",s.jsx("br",{}),s.jsx("span",{className:"text-xs font-normal text-gray-500",children:""})]}),s.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Families",s.jsx("br",{}),s.jsx("span",{className:"text-xs font-normal text-gray-500",children:""})]}),s.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Old Tap Connections",s.jsx("br",{}),s.jsx("span",{className:"text-xs font-normal text-gray-500",children:" "})]}),s.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["New Tap Connections",s.jsx("br",{}),s.jsx("span",{className:"text-xs font-normal text-gray-500",children:" "})]}),s.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider bg-indigo-50",children:["Total Tap Connections",s.jsx("br",{}),s.jsx("span",{className:"text-xs font-normal text-gray-500",children:"(Auto)"})]}),s.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Private Wells",s.jsx("br",{}),s.jsx("span",{className:"text-xs font-normal text-gray-500",children:" "})]}),s.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Pending",s.jsx("br",{}),s.jsx("span",{className:"text-xs font-normal text-gray-500",children:""})]})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((E,j)=>s.jsxs("tr",{className:j%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:j+1}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.nameEn}),s.jsx("div",{className:"text-xs text-gray-500",children:E.nameMr})]}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"number",min:"0",value:r[E.id]?.families||0,onChange:S=>v(E.id,"families",S.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"number",min:"0",value:r[E.id]?.oldTapConnections||0,onChange:S=>v(E.id,"oldTapConnections",S.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"number",min:"0",value:r[E.id]?.newTapConnections||0,onChange:S=>v(E.id,"newTapConnections",S.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),s.jsx("td",{className:"px-6 py-4 text-center bg-indigo-50",children:s.jsx("input",{type:"number",value:r[E.id]?.totalTapConnections||0,readOnly:!0,className:"w-24 px-3 py-2 text-center border border-gray-300 rounded bg-gray-100 font-semibold cursor-not-allowed",title:"Auto-calculated: Old + New"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"number",min:"0",value:r[E.id]?.privateWellsForTap||0,onChange:S=>v(E.id,"privateWellsForTap",S.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"number",min:"0",value:r[E.id]?.pendingTapConnections||0,onChange:S=>v(E.id,"pendingTapConnections",S.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})})]},E.id))}),s.jsx("tfoot",{className:"bg-indigo-50",children:s.jsxs("tr",{className:"font-bold",children:[s.jsx("td",{className:"px-6 py-4",colSpan:"2",children:"Total | "}),s.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:T("families")}),s.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:T("oldTapConnections")}),s.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:T("newTapConnections")}),s.jsx("td",{className:"px-6 py-4 text-center text-indigo-900 bg-indigo-100",children:T("totalTapConnections")}),s.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:T("privateWellsForTap")}),s.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:T("pendingTapConnections")})]})})]})})]})]})},zB="modulepreload",qB=function(n){return"/"+n},N4={},o1=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let h=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");a=h(t.map(f=>{if(f=qB(f),f in N4)return;N4[f]=!0;const g=f.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${x}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":zB,g||(v.as="script"),v.crossOrigin="",v.href=f,u&&v.setAttribute("nonce",u),document.head.appendChild(v),g)return new Promise((b,T)=>{v.addEventListener("load",b),v.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};function cr(n){"@babel/helpers - typeof";return cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(n)}var gl=Uint8Array,ho=Uint16Array,fw=Int32Array,mw=new gl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gw=new gl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),j4=new gl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),AT=function(n,e){for(var t=new ho(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var a=new fw(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)a[o]=o-t[r]<<5|r;return{b:t,r:a}},TT=AT(mw,2),GB=TT.b,S2=TT.r;GB[28]=258,S2[258]=28;var HB=AT(gw,0),_4=HB.r,E2=new ho(32768);for(var Dr=0;Dr<32768;++Dr){var Du=(Dr&43690)>>1|(Dr&21845)<<1;Du=(Du&52428)>>2|(Du&13107)<<2,Du=(Du&61680)>>4|(Du&3855)<<4,E2[Dr]=((Du&65280)>>8|(Du&255)<<8)>>1}var wg=(function(n,e,t){for(var r=n.length,a=0,o=new ho(e);a<r;++a)n[a]&&++o[n[a]-1];var c=new ho(e);for(a=1;a<e;++a)c[a]=c[a-1]+o[a-1]<<1;var u;if(t){u=new ho(1<<e);var h=15-e;for(a=0;a<r;++a)if(n[a])for(var f=a<<4|n[a],g=e-n[a],x=c[n[a]-1]++<<g,v=x|(1<<g)-1;x<=v;++x)u[E2[x]>>h]=f}else for(u=new ho(r),a=0;a<r;++a)n[a]&&(u[a]=E2[c[n[a]-1]++]>>15-n[a]);return u}),dh=new gl(288);for(var Dr=0;Dr<144;++Dr)dh[Dr]=8;for(var Dr=144;Dr<256;++Dr)dh[Dr]=9;for(var Dr=256;Dr<280;++Dr)dh[Dr]=7;for(var Dr=280;Dr<288;++Dr)dh[Dr]=8;var Cx=new gl(32);for(var Dr=0;Dr<32;++Dr)Cx[Dr]=5;var $B=wg(dh,9,0),WB=wg(Cx,5,0),CT=function(n){return(n+7)/8|0},KB=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new gl(n.subarray(e,t))},Lc=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Zm=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},l1=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var a=t.length,o=t.slice();if(!a)return{t:RT,l:0};if(a==1){var c=new gl(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(te,ee){return te.f-ee.f}),t.push({s:-1,f:25001});var u=t[0],h=t[1],f=0,g=1,x=2;for(t[0]={s:-1,f:u.f+h.f,l:u,r:h};g!=a-1;)u=t[t[f].f<t[x].f?f++:x++],h=t[f!=g&&t[f].f<t[x].f?f++:x++],t[g++]={s:-1,f:u.f+h.f,l:u,r:h};for(var v=o[0].s,r=1;r<a;++r)o[r].s>v&&(v=o[r].s);var b=new ho(v+1),T=A2(t[g-1],b,0);if(T>e){var r=0,E=0,j=T-e,S=1<<j;for(o.sort(function(ee,G){return b[G.s]-b[ee.s]||ee.f-G.f});r<a;++r){var L=o[r].s;if(b[L]>e)E+=S-(1<<T-b[L]),b[L]=e;else break}for(E>>=j;E>0;){var D=o[r].s;b[D]<e?E-=1<<e-b[D]++-1:++r}for(;r>=0&&E;--r){var O=o[r].s;b[O]==e&&(--b[O],++E)}T=e}return{t:new gl(b),l:T}},A2=function(n,e,t){return n.s==-1?Math.max(A2(n.l,e,t+1),A2(n.r,e,t+1)):e[n.s]=t},S4=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ho(++e),r=0,a=n[0],o=1,c=function(h){t[r++]=h},u=1;u<=e;++u)if(n[u]==a&&u!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(a),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(a);o=1,a=n[u]}return{c:t.subarray(0,r),n:e}},eg=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},IT=function(n,e,t){var r=t.length,a=CT(e+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<r;++o)n[a+o+4]=t[o];return(a+4+r)*8},E4=function(n,e,t,r,a,o,c,u,h,f,g){Lc(e,g++,t),++a[256];for(var x=l1(a,15),v=x.t,b=x.l,T=l1(o,15),E=T.t,j=T.l,S=S4(v),L=S.c,D=S.n,O=S4(E),te=O.c,ee=O.n,G=new ho(19),U=0;U<L.length;++U)++G[L[U]&31];for(var U=0;U<te.length;++U)++G[te[U]&31];for(var k=l1(G,7),F=k.t,I=k.l,P=19;P>4&&!F[j4[P-1]];--P);var B=f+5<<3,ue=eg(a,dh)+eg(o,Cx)+c,Ne=eg(a,v)+eg(o,E)+c+14+3*P+eg(G,F)+2*G[16]+3*G[17]+7*G[18];if(h>=0&&B<=ue&&B<=Ne)return IT(e,g,n.subarray(h,h+f));var ce,pe,de,Se;if(Lc(e,g,1+(Ne<ue)),g+=2,Ne<ue){ce=wg(v,b,0),pe=v,de=wg(E,j,0),Se=E;var ze=wg(F,I,0);Lc(e,g,D-257),Lc(e,g+5,ee-1),Lc(e,g+10,P-4),g+=14;for(var U=0;U<P;++U)Lc(e,g+3*U,F[j4[U]]);g+=3*P;for(var re=[L,te],q=0;q<2;++q)for(var Q=re[q],U=0;U<Q.length;++U){var se=Q[U]&31;Lc(e,g,ze[se]),g+=F[se],se>15&&(Lc(e,g,Q[U]>>5&127),g+=Q[U]>>12)}}else ce=$B,pe=dh,de=WB,Se=Cx;for(var U=0;U<u;++U){var he=r[U];if(he>255){var se=he>>18&31;Zm(e,g,ce[se+257]),g+=pe[se+257],se>7&&(Lc(e,g,he>>23&31),g+=mw[se]);var me=he&31;Zm(e,g,de[me]),g+=Se[me],me>3&&(Zm(e,g,he>>5&8191),g+=gw[me])}else Zm(e,g,ce[he]),g+=pe[he]}return Zm(e,g,ce[256]),g+pe[256]},YB=new fw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),RT=new gl(0),XB=function(n,e,t,r,a,o){var c=o.z||n.length,u=new gl(r+c+5*(1+Math.ceil(c/7e3))+a),h=u.subarray(r,u.length-a),f=o.l,g=(o.r||0)&7;if(e){g&&(h[0]=o.r>>3);for(var x=YB[e-1],v=x>>13,b=x&8191,T=(1<<t)-1,E=o.p||new ho(32768),j=o.h||new ho(T+1),S=Math.ceil(t/3),L=2*S,D=function(ft){return(n[ft]^n[ft+1]<<S^n[ft+2]<<L)&T},O=new fw(25e3),te=new ho(288),ee=new ho(32),G=0,U=0,k=o.i||0,F=0,I=o.w||0,P=0;k+2<c;++k){var B=D(k),ue=k&32767,Ne=j[B];if(E[ue]=Ne,j[B]=ue,I<=k){var ce=c-k;if((G>7e3||F>24576)&&(ce>423||!f)){g=E4(n,h,0,O,te,ee,U,F,P,k-P,g),F=G=U=0,P=k;for(var pe=0;pe<286;++pe)te[pe]=0;for(var pe=0;pe<30;++pe)ee[pe]=0}var de=2,Se=0,ze=b,re=ue-Ne&32767;if(ce>2&&B==D(k-re))for(var q=Math.min(v,ce)-1,Q=Math.min(32767,k),se=Math.min(258,ce);re<=Q&&--ze&&ue!=Ne;){if(n[k+de]==n[k+de-re]){for(var he=0;he<se&&n[k+he]==n[k+he-re];++he);if(he>de){if(de=he,Se=re,he>q)break;for(var me=Math.min(re,he-2),be=0,pe=0;pe<me;++pe){var Le=k-re+pe&32767,ke=E[Le],qe=Le-ke&32767;qe>be&&(be=qe,Ne=Le)}}}ue=Ne,Ne=E[ue],re+=ue-Ne&32767}if(Se){O[F++]=268435456|S2[de]<<18|_4[Se];var Je=S2[de]&31,it=_4[Se]&31;U+=mw[Je]+gw[it],++te[257+Je],++ee[it],I=k+de,++G}else O[F++]=n[k],++te[n[k]]}}for(k=Math.max(k,I);k<c;++k)O[F++]=n[k],++te[n[k]];g=E4(n,h,f,O,te,ee,U,F,P,k-P,g),f||(o.r=g&7|h[g/8|0]<<3,g-=7,o.h=j,o.p=E,o.i=k,o.w=I)}else{for(var k=o.w||0;k<c+f;k+=65535){var at=k+65535;at>=c&&(h[g/8|0]=f,at=c),g=IT(h,g+1,n.subarray(k,at))}o.i=c}return KB(u,0,r+CT(g)+a)},kT=function(){var n=1,e=0;return{p:function(t){for(var r=n,a=e,o=t.length|0,c=0;c!=o;){for(var u=Math.min(c+2655,o);c<u;++c)a+=r+=t[c];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},QB=function(n,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new gl(o.length+n.length);c.set(o),c.set(n,o.length),n=c,a.w=o.length}return XB(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,a)},PT=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},JB=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=kT();a.p(e.dictionary),PT(n,2,a.d())}};function T2(n,e){e||(e={});var t=kT();t.p(n);var r=QB(n,e,e.dictionary?6:2,4);return JB(r,e),PT(r,r.length-4,t.d()),r}var ZB=typeof TextDecoder<"u"&&new TextDecoder,ez=0;try{ZB.decode(RT,{stream:!0}),ez=1}catch{}function tz(n){if(Array.isArray(n))return n}function nz(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,a,o,c,u=[],h=!0,f=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(h=(r=o.call(t)).done)&&(u.push(r.value),u.length!==e);h=!0);}catch(g){f=!0,a=g}finally{try{if(!h&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(f)throw a}}return u}}function A4(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function rz(n,e){if(n){if(typeof n=="string")return A4(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?A4(n,e):void 0}}function sz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T4(n,e){return tz(n)||nz(n,e)||rz(n,e)||sz()}function C4(n,e="utf8"){return new TextDecoder(e).decode(n)}const az=new TextEncoder;function iz(n){return az.encode(n)}const oz=1024*8,lz=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),c1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class pw{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=oz,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let c=a;(ArrayBuffer.isView(e)||e instanceof pw)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+a),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=c1[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===lz&&t!=="uint8"&&t!=="int8"){const u=new Uint8Array(this.buffer.slice(a,a+r));u.reverse();const h=new c1[t](u.buffer);return this.offset+=r,h.reverse(),h}const c=new c1[t](o);return this.offset+=r,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return C4(this.readBytes(e))}decodeText(e=1,t="utf8"){return C4(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(iz(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function cm(n){let e=n.length;for(;--e>=0;)n[e]=0}const cz=3,uz=258,LT=29,dz=256,hz=dz+1+LT,DT=30,fz=512,mz=new Array((hz+2)*2);cm(mz);const gz=new Array(DT*2);cm(gz);const pz=new Array(fz);cm(pz);const xz=new Array(uz-cz+1);cm(xz);const yz=new Array(LT);cm(yz);const bz=new Array(DT);cm(bz);const vz=(n,e,t,r)=>{let a=n&65535|0,o=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do a=a+e[r++]|0,o=o+a|0;while(--c);a%=65521,o%=65521}return a|o<<16|0};var C2=vz;const wz=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},Nz=new Uint32Array(wz()),jz=(n,e,t,r)=>{const a=Nz,o=r+t;n^=-1;for(let c=r;c<o;c++)n=n>>>8^a[(n^e[c])&255];return n^-1};var Bl=jz,I2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},MT={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const _z=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Sz=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)_z(t,r)&&(n[r]=t[r])}}return n},Ez=n=>{let e=0;for(let r=0,a=n.length;r<a;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,a=0,o=n.length;r<o;r++){let c=n[r];t.set(c,a),a+=c.length}return t},OT={assign:Sz,flattenChunks:Ez};let FT=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{FT=!1}const qg=new Uint8Array(256);for(let n=0;n<256;n++)qg[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;qg[254]=qg[254]=1;var Az=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,a,o,c=n.length,u=0;for(a=0;a<c;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),u+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(u),o=0,a=0;o<u;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const Tz=(n,e)=>{if(e<65534&&n.subarray&&FT)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var Cz=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,a;const o=new Array(t*2);for(a=0,r=0;r<t;){let c=n[r++];if(c<128){o[a++]=c;continue}let u=qg[c];if(u>4){o[a++]=65533,r+=u-1;continue}for(c&=u===2?31:u===3?15:7;u>1&&r<t;)c=c<<6|n[r++]&63,u--;if(u>1){o[a++]=65533;continue}c<65536?o[a++]=c:(c-=65536,o[a++]=55296|c>>10&1023,o[a++]=56320|c&1023)}return Tz(o,a)},Iz=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+qg[n[t]]>e?t:e},R2={string2buf:Az,buf2string:Cz,utf8border:Iz};function Rz(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var kz=Rz;const x0=16209,Pz=16191;var Lz=function(e,t){let r,a,o,c,u,h,f,g,x,v,b,T,E,j,S,L,D,O,te,ee,G,U,k,F;const I=e.state;r=e.next_in,k=e.input,a=r+(e.avail_in-5),o=e.next_out,F=e.output,c=o-(t-e.avail_out),u=o+(e.avail_out-257),h=I.dmax,f=I.wsize,g=I.whave,x=I.wnext,v=I.window,b=I.hold,T=I.bits,E=I.lencode,j=I.distcode,S=(1<<I.lenbits)-1,L=(1<<I.distbits)-1;e:do{T<15&&(b+=k[r++]<<T,T+=8,b+=k[r++]<<T,T+=8),D=E[b&S];t:for(;;){if(O=D>>>24,b>>>=O,T-=O,O=D>>>16&255,O===0)F[o++]=D&65535;else if(O&16){te=D&65535,O&=15,O&&(T<O&&(b+=k[r++]<<T,T+=8),te+=b&(1<<O)-1,b>>>=O,T-=O),T<15&&(b+=k[r++]<<T,T+=8,b+=k[r++]<<T,T+=8),D=j[b&L];n:for(;;){if(O=D>>>24,b>>>=O,T-=O,O=D>>>16&255,O&16){if(ee=D&65535,O&=15,T<O&&(b+=k[r++]<<T,T+=8,T<O&&(b+=k[r++]<<T,T+=8)),ee+=b&(1<<O)-1,ee>h){e.msg="invalid distance too far back",I.mode=x0;break e}if(b>>>=O,T-=O,O=o-c,ee>O){if(O=ee-O,O>g&&I.sane){e.msg="invalid distance too far back",I.mode=x0;break e}if(G=0,U=v,x===0){if(G+=f-O,O<te){te-=O;do F[o++]=v[G++];while(--O);G=o-ee,U=F}}else if(x<O){if(G+=f+x-O,O-=x,O<te){te-=O;do F[o++]=v[G++];while(--O);if(G=0,x<te){O=x,te-=O;do F[o++]=v[G++];while(--O);G=o-ee,U=F}}}else if(G+=x-O,O<te){te-=O;do F[o++]=v[G++];while(--O);G=o-ee,U=F}for(;te>2;)F[o++]=U[G++],F[o++]=U[G++],F[o++]=U[G++],te-=3;te&&(F[o++]=U[G++],te>1&&(F[o++]=U[G++]))}else{G=o-ee;do F[o++]=F[G++],F[o++]=F[G++],F[o++]=F[G++],te-=3;while(te>2);te&&(F[o++]=F[G++],te>1&&(F[o++]=F[G++]))}}else if((O&64)===0){D=j[(D&65535)+(b&(1<<O)-1)];continue n}else{e.msg="invalid distance code",I.mode=x0;break e}break}}else if((O&64)===0){D=E[(D&65535)+(b&(1<<O)-1)];continue t}else if(O&32){I.mode=Pz;break e}else{e.msg="invalid literal/length code",I.mode=x0;break e}break}}while(r<a&&o<u);te=T>>3,r-=te,T-=te<<3,b&=(1<<T)-1,e.next_in=r,e.next_out=o,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=o<u?257+(u-o):257-(o-u),I.hold=b,I.bits=T};const df=15,I4=852,R4=592,k4=0,u1=1,P4=2,Dz=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Mz=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Oz=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Fz=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Uz=(n,e,t,r,a,o,c,u)=>{const h=u.bits;let f=0,g=0,x=0,v=0,b=0,T=0,E=0,j=0,S=0,L=0,D,O,te,ee,G,U=null,k;const F=new Uint16Array(df+1),I=new Uint16Array(df+1);let P=null,B,ue,Ne;for(f=0;f<=df;f++)F[f]=0;for(g=0;g<r;g++)F[e[t+g]]++;for(b=h,v=df;v>=1&&F[v]===0;v--);if(b>v&&(b=v),v===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,u.bits=1,0;for(x=1;x<v&&F[x]===0;x++);for(b<x&&(b=x),j=1,f=1;f<=df;f++)if(j<<=1,j-=F[f],j<0)return-1;if(j>0&&(n===k4||v!==1))return-1;for(I[1]=0,f=1;f<df;f++)I[f+1]=I[f]+F[f];for(g=0;g<r;g++)e[t+g]!==0&&(c[I[e[t+g]]++]=g);if(n===k4?(U=P=c,k=20):n===u1?(U=Dz,P=Mz,k=257):(U=Oz,P=Fz,k=0),L=0,g=0,f=x,G=o,T=b,E=0,te=-1,S=1<<b,ee=S-1,n===u1&&S>I4||n===P4&&S>R4)return 1;for(;;){B=f-E,c[g]+1<k?(ue=0,Ne=c[g]):c[g]>=k?(ue=P[c[g]-k],Ne=U[c[g]-k]):(ue=96,Ne=0),D=1<<f-E,O=1<<T,x=O;do O-=D,a[G+(L>>E)+O]=B<<24|ue<<16|Ne|0;while(O!==0);for(D=1<<f-1;L&D;)D>>=1;if(D!==0?(L&=D-1,L+=D):L=0,g++,--F[f]===0){if(f===v)break;f=e[t+c[g]]}if(f>b&&(L&ee)!==te){for(E===0&&(E=b),G+=x,T=f-E,j=1<<T;T+E<v&&(j-=F[T+E],!(j<=0));)T++,j<<=1;if(S+=1<<T,n===u1&&S>I4||n===P4&&S>R4)return 1;te=L&ee,a[te]=b<<24|T<<16|G-o|0}}return L!==0&&(a[G+L]=f-E<<24|64<<16|0),u.bits=b,0};var Ng=Uz;const Vz=0,UT=1,VT=2,{Z_FINISH:L4,Z_BLOCK:Bz,Z_TREES:y0,Z_OK:hh,Z_STREAM_END:zz,Z_NEED_DICT:qz,Z_STREAM_ERROR:Bo,Z_DATA_ERROR:BT,Z_MEM_ERROR:zT,Z_BUF_ERROR:Gz,Z_DEFLATED:D4}=MT,wy=16180,M4=16181,O4=16182,F4=16183,U4=16184,V4=16185,B4=16186,z4=16187,q4=16188,G4=16189,Ix=16190,Dc=16191,d1=16192,H4=16193,h1=16194,$4=16195,W4=16196,K4=16197,Y4=16198,b0=16199,v0=16200,X4=16201,Q4=16202,J4=16203,Z4=16204,e6=16205,f1=16206,t6=16207,n6=16208,qr=16209,qT=16210,GT=16211,Hz=852,$z=592,Wz=15,Kz=Wz,r6=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function Yz(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const bh=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<wy||e.mode>GT?1:0},HT=n=>{if(bh(n))return Bo;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=wy,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Hz),e.distcode=e.distdyn=new Int32Array($z),e.sane=1,e.back=-1,hh},$T=n=>{if(bh(n))return Bo;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,HT(n)},WT=(n,e)=>{let t;if(bh(n))return Bo;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Bo:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,$T(n))},KT=(n,e)=>{if(!n)return Bo;const t=new Yz;n.state=t,t.strm=n,t.window=null,t.mode=wy;const r=WT(n,e);return r!==hh&&(n.state=null),r},Xz=n=>KT(n,Kz);let s6=!0,m1,g1;const Qz=n=>{if(s6){m1=new Int32Array(512),g1=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Ng(UT,n.lens,0,288,m1,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Ng(VT,n.lens,0,32,g1,0,n.work,{bits:5}),s6=!1}n.lencode=m1,n.lenbits=9,n.distcode=g1,n.distbits=5},YT=(n,e,t,r)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(e.subarray(t-r,t-r+a),o.wnext),r-=a,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},Jz=(n,e)=>{let t,r,a,o,c,u,h,f,g,x,v,b,T,E,j=0,S,L,D,O,te,ee,G,U;const k=new Uint8Array(4);let F,I;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(bh(n)||!n.output||!n.input&&n.avail_in!==0)return Bo;t=n.state,t.mode===Dc&&(t.mode=d1),c=n.next_out,a=n.output,h=n.avail_out,o=n.next_in,r=n.input,u=n.avail_in,f=t.hold,g=t.bits,x=u,v=h,U=hh;e:for(;;)switch(t.mode){case wy:if(t.wrap===0){t.mode=d1;break}for(;g<16;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,k[0]=f&255,k[1]=f>>>8&255,t.check=Bl(t.check,k,2,0),f=0,g=0,t.mode=M4;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=qr;break}if((f&15)!==D4){n.msg="unknown compression method",t.mode=qr;break}if(f>>>=4,g-=4,G=(f&15)+8,t.wbits===0&&(t.wbits=G),G>15||G>t.wbits){n.msg="invalid window size",t.mode=qr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?G4:Dc,f=0,g=0;break;case M4:for(;g<16;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(t.flags=f,(t.flags&255)!==D4){n.msg="unknown compression method",t.mode=qr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=qr;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,t.check=Bl(t.check,k,2,0)),f=0,g=0,t.mode=O4;case O4:for(;g<32;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,k[2]=f>>>16&255,k[3]=f>>>24&255,t.check=Bl(t.check,k,4,0)),f=0,g=0,t.mode=F4;case F4:for(;g<16;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,t.check=Bl(t.check,k,2,0)),f=0,g=0,t.mode=U4;case U4:if(t.flags&1024){for(;g<16;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,t.check=Bl(t.check,k,2,0)),f=0,g=0}else t.head&&(t.head.extra=null);t.mode=V4;case V4:if(t.flags&1024&&(b=t.length,b>u&&(b=u),b&&(t.head&&(G=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+b),G)),t.flags&512&&t.wrap&4&&(t.check=Bl(t.check,r,b,o)),u-=b,o+=b,t.length-=b),t.length))break e;t.length=0,t.mode=B4;case B4:if(t.flags&2048){if(u===0)break e;b=0;do G=r[o+b++],t.head&&G&&t.length<65536&&(t.head.name+=String.fromCharCode(G));while(G&&b<u);if(t.flags&512&&t.wrap&4&&(t.check=Bl(t.check,r,b,o)),u-=b,o+=b,G)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=z4;case z4:if(t.flags&4096){if(u===0)break e;b=0;do G=r[o+b++],t.head&&G&&t.length<65536&&(t.head.comment+=String.fromCharCode(G));while(G&&b<u);if(t.flags&512&&t.wrap&4&&(t.check=Bl(t.check,r,b,o)),u-=b,o+=b,G)break e}else t.head&&(t.head.comment=null);t.mode=q4;case q4:if(t.flags&512){for(;g<16;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=qr;break}f=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Dc;break;case G4:for(;g<32;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}n.adler=t.check=r6(f),f=0,g=0,t.mode=Ix;case Ix:if(t.havedict===0)return n.next_out=c,n.avail_out=h,n.next_in=o,n.avail_in=u,t.hold=f,t.bits=g,qz;n.adler=t.check=1,t.mode=Dc;case Dc:if(e===Bz||e===y0)break e;case d1:if(t.last){f>>>=g&7,g-=g&7,t.mode=f1;break}for(;g<3;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}switch(t.last=f&1,f>>>=1,g-=1,f&3){case 0:t.mode=H4;break;case 1:if(Qz(t),t.mode=b0,e===y0){f>>>=2,g-=2;break e}break;case 2:t.mode=W4;break;case 3:n.msg="invalid block type",t.mode=qr}f>>>=2,g-=2;break;case H4:for(f>>>=g&7,g-=g&7;g<32;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=qr;break}if(t.length=f&65535,f=0,g=0,t.mode=h1,e===y0)break e;case h1:t.mode=$4;case $4:if(b=t.length,b){if(b>u&&(b=u),b>h&&(b=h),b===0)break e;a.set(r.subarray(o,o+b),c),u-=b,o+=b,h-=b,c+=b,t.length-=b;break}t.mode=Dc;break;case W4:for(;g<14;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(t.nlen=(f&31)+257,f>>>=5,g-=5,t.ndist=(f&31)+1,f>>>=5,g-=5,t.ncode=(f&15)+4,f>>>=4,g-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=qr;break}t.have=0,t.mode=K4;case K4:for(;t.have<t.ncode;){for(;g<3;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.lens[P[t.have++]]=f&7,f>>>=3,g-=3}for(;t.have<19;)t.lens[P[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,F={bits:t.lenbits},U=Ng(Vz,t.lens,0,19,t.lencode,0,t.work,F),t.lenbits=F.bits,U){n.msg="invalid code lengths set",t.mode=qr;break}t.have=0,t.mode=Y4;case Y4:for(;t.have<t.nlen+t.ndist;){for(;j=t.lencode[f&(1<<t.lenbits)-1],S=j>>>24,L=j>>>16&255,D=j&65535,!(S<=g);){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(D<16)f>>>=S,g-=S,t.lens[t.have++]=D;else{if(D===16){for(I=S+2;g<I;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(f>>>=S,g-=S,t.have===0){n.msg="invalid bit length repeat",t.mode=qr;break}G=t.lens[t.have-1],b=3+(f&3),f>>>=2,g-=2}else if(D===17){for(I=S+3;g<I;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}f>>>=S,g-=S,G=0,b=3+(f&7),f>>>=3,g-=3}else{for(I=S+7;g<I;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}f>>>=S,g-=S,G=0,b=11+(f&127),f>>>=7,g-=7}if(t.have+b>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=qr;break}for(;b--;)t.lens[t.have++]=G}}if(t.mode===qr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=qr;break}if(t.lenbits=9,F={bits:t.lenbits},U=Ng(UT,t.lens,0,t.nlen,t.lencode,0,t.work,F),t.lenbits=F.bits,U){n.msg="invalid literal/lengths set",t.mode=qr;break}if(t.distbits=6,t.distcode=t.distdyn,F={bits:t.distbits},U=Ng(VT,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,F),t.distbits=F.bits,U){n.msg="invalid distances set",t.mode=qr;break}if(t.mode=b0,e===y0)break e;case b0:t.mode=v0;case v0:if(u>=6&&h>=258){n.next_out=c,n.avail_out=h,n.next_in=o,n.avail_in=u,t.hold=f,t.bits=g,Lz(n,v),c=n.next_out,a=n.output,h=n.avail_out,o=n.next_in,r=n.input,u=n.avail_in,f=t.hold,g=t.bits,t.mode===Dc&&(t.back=-1);break}for(t.back=0;j=t.lencode[f&(1<<t.lenbits)-1],S=j>>>24,L=j>>>16&255,D=j&65535,!(S<=g);){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(L&&(L&240)===0){for(O=S,te=L,ee=D;j=t.lencode[ee+((f&(1<<O+te)-1)>>O)],S=j>>>24,L=j>>>16&255,D=j&65535,!(O+S<=g);){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}f>>>=O,g-=O,t.back+=O}if(f>>>=S,g-=S,t.back+=S,t.length=D,L===0){t.mode=e6;break}if(L&32){t.back=-1,t.mode=Dc;break}if(L&64){n.msg="invalid literal/length code",t.mode=qr;break}t.extra=L&15,t.mode=X4;case X4:if(t.extra){for(I=t.extra;g<I;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Q4;case Q4:for(;j=t.distcode[f&(1<<t.distbits)-1],S=j>>>24,L=j>>>16&255,D=j&65535,!(S<=g);){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if((L&240)===0){for(O=S,te=L,ee=D;j=t.distcode[ee+((f&(1<<O+te)-1)>>O)],S=j>>>24,L=j>>>16&255,D=j&65535,!(O+S<=g);){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}f>>>=O,g-=O,t.back+=O}if(f>>>=S,g-=S,t.back+=S,L&64){n.msg="invalid distance code",t.mode=qr;break}t.offset=D,t.extra=L&15,t.mode=J4;case J4:if(t.extra){for(I=t.extra;g<I;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=qr;break}t.mode=Z4;case Z4:if(h===0)break e;if(b=v-h,t.offset>b){if(b=t.offset-b,b>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=qr;break}b>t.wnext?(b-=t.wnext,T=t.wsize-b):T=t.wnext-b,b>t.length&&(b=t.length),E=t.window}else E=a,T=c-t.offset,b=t.length;b>h&&(b=h),h-=b,t.length-=b;do a[c++]=E[T++];while(--b);t.length===0&&(t.mode=v0);break;case e6:if(h===0)break e;a[c++]=t.length,h--,t.mode=v0;break;case f1:if(t.wrap){for(;g<32;){if(u===0)break e;u--,f|=r[o++]<<g,g+=8}if(v-=h,n.total_out+=v,t.total+=v,t.wrap&4&&v&&(n.adler=t.check=t.flags?Bl(t.check,a,v,c-v):C2(t.check,a,v,c-v)),v=h,t.wrap&4&&(t.flags?f:r6(f))!==t.check){n.msg="incorrect data check",t.mode=qr;break}f=0,g=0}t.mode=t6;case t6:if(t.wrap&&t.flags){for(;g<32;){if(u===0)break e;u--,f+=r[o++]<<g,g+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=qr;break}f=0,g=0}t.mode=n6;case n6:U=zz;break e;case qr:U=BT;break e;case qT:return zT;case GT:default:return Bo}return n.next_out=c,n.avail_out=h,n.next_in=o,n.avail_in=u,t.hold=f,t.bits=g,(t.wsize||v!==n.avail_out&&t.mode<qr&&(t.mode<f1||e!==L4))&&YT(n,n.output,n.next_out,v-n.avail_out),x-=n.avail_in,v-=n.avail_out,n.total_in+=x,n.total_out+=v,t.total+=v,t.wrap&4&&v&&(n.adler=t.check=t.flags?Bl(t.check,a,v,n.next_out-v):C2(t.check,a,v,n.next_out-v)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Dc?128:0)+(t.mode===b0||t.mode===h1?256:0),(x===0&&v===0||e===L4)&&U===hh&&(U=Gz),U},Zz=n=>{if(bh(n))return Bo;let e=n.state;return e.window&&(e.window=null),n.state=null,hh},eq=(n,e)=>{if(bh(n))return Bo;const t=n.state;return(t.wrap&2)===0?Bo:(t.head=e,e.done=!1,hh)},tq=(n,e)=>{const t=e.length;let r,a,o;return bh(n)||(r=n.state,r.wrap!==0&&r.mode!==Ix)?Bo:r.mode===Ix&&(a=1,a=C2(a,e,t,0),a!==r.check)?BT:(o=YT(n,e,t,t),o?(r.mode=qT,zT):(r.havedict=1,hh))};var nq=$T,rq=WT,sq=HT,aq=Xz,iq=KT,oq=Jz,lq=Zz,cq=eq,uq=tq,dq="pako inflate (from Nodeca project)",Fc={inflateReset:nq,inflateReset2:rq,inflateResetKeep:sq,inflateInit:aq,inflateInit2:iq,inflate:oq,inflateEnd:lq,inflateGetHeader:cq,inflateSetDictionary:uq,inflateInfo:dq};function hq(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var fq=hq;const XT=Object.prototype.toString,{Z_NO_FLUSH:mq,Z_FINISH:gq,Z_OK:Gg,Z_STREAM_END:p1,Z_NEED_DICT:x1,Z_STREAM_ERROR:pq,Z_DATA_ERROR:a6,Z_MEM_ERROR:xq}=MT;function fp(n){this.options=OT.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kz,this.strm.avail_out=0;let t=Fc.inflateInit2(this.strm,e.windowBits);if(t!==Gg)throw new Error(I2[t]);if(this.header=new fq,Fc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=R2.string2buf(e.dictionary):XT.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Fc.inflateSetDictionary(this.strm,e.dictionary),t!==Gg)))throw new Error(I2[t])}fp.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,c,u;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?gq:mq,XT.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Fc.inflate(t,c),o===x1&&a&&(o=Fc.inflateSetDictionary(t,a),o===Gg?o=Fc.inflate(t,c):o===a6&&(o=x1));t.avail_in>0&&o===p1&&t.state.wrap>0&&n[t.next_in]!==0;)Fc.inflateReset(t),o=Fc.inflate(t,c);switch(o){case pq:case a6:case x1:case xq:return this.onEnd(o),this.ended=!0,!1}if(u=t.avail_out,t.next_out&&(t.avail_out===0||o===p1))if(this.options.to==="string"){let h=R2.utf8border(t.output,t.next_out),f=t.next_out-h,g=R2.buf2string(t.output,h);t.next_out=f,t.avail_out=r-f,f&&t.output.set(t.output.subarray(h,h+f),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Gg&&u===0)){if(o===p1)return o=Fc.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};fp.prototype.onData=function(n){this.chunks.push(n)};fp.prototype.onEnd=function(n){n===Gg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=OT.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function yq(n,e){const t=new fp(e);if(t.push(n),t.err)throw t.msg||I2[t.err];return t.result}var bq=fp,vq=yq,wq={Inflate:bq,inflate:vq};const{Inflate:Nq,inflate:jq}=wq;var i6=Nq,_q=jq;const QT=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;QT[n]=e}const o6=4294967295;function Sq(n,e,t){let r=n;for(let a=0;a<t;a++)r=QT[(r^e[a])&255]^r>>>8;return r}function Eq(n,e){return(Sq(o6,n,e)^o6)>>>0}function l6(n,e,t){const r=n.readUint32(),a=Eq(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${a}`)}function JT(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function ZT(n,e,t,r){let a=0;for(;a<r;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-r]&255}function eC(n,e,t,r){let a=0;if(t.length===0)for(;a<r;a++)e[a]=n[a];else for(;a<r;a++)e[a]=n[a]+t[a]&255}function tC(n,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-a]+t[o]>>1)&255}}function nC(n,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+Aq(e[o-a],t[o],t[o-a])&255}}function Aq(n,e,t){const r=n+e-t,a=Math.abs(r-n),o=Math.abs(r-e),c=Math.abs(r-t);return a<=o&&a<=c?n:o<=c?e:t}function Tq(n,e,t,r,a,o){switch(n){case 0:JT(e,t,a);break;case 1:ZT(e,t,a,o);break;case 2:eC(e,t,r,a);break;case 3:tC(e,t,r,a,o);break;case 4:nC(e,t,r,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const Cq=new Uint16Array([255]),Iq=new Uint8Array(Cq.buffer),Rq=Iq[0]===255;function kq(n){const{data:e,width:t,height:r,channels:a,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(o/8)*a,h=new Uint8Array(r*t*u);let f=0;for(let g=0;g<7;g++){const x=c[g],v=Math.ceil((t-x.x)/x.xStep),b=Math.ceil((r-x.y)/x.yStep);if(v<=0||b<=0)continue;const T=v*u,E=new Uint8Array(T);for(let j=0;j<b;j++){const S=e[f++],L=e.subarray(f,f+T);f+=T;const D=new Uint8Array(T);Tq(S,L,D,E,T,u),E.set(D);for(let O=0;O<v;O++){const te=x.x+O*x.xStep,ee=x.y+j*x.yStep;if(!(te>=t||ee>=r))for(let G=0;G<u;G++)h[(ee*t+te)*u+G]=D[O*u+G]}}}if(o===16){const g=new Uint16Array(h.buffer);if(Rq)for(let x=0;x<g.length;x++)g[x]=Pq(g[x]);return g}else return h}function Pq(n){return(n&255)<<8|n>>8&255}const Lq=new Uint16Array([255]),Dq=new Uint8Array(Lq.buffer),Mq=Dq[0]===255,Oq=new Uint8Array(0);function c6(n){const{data:e,width:t,height:r,channels:a,depth:o}=n,c=Math.ceil(o/8)*a,u=Math.ceil(o/8*a*t),h=new Uint8Array(r*u);let f=Oq,g=0,x,v;for(let b=0;b<r;b++){switch(x=e.subarray(g+1,g+1+u),v=h.subarray(b*u,(b+1)*u),e[g]){case 0:JT(x,v,u);break;case 1:ZT(x,v,u,c);break;case 2:eC(x,v,f,u);break;case 3:tC(x,v,f,u,c);break;case 4:nC(x,v,f,u,c);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}f=v,g+=u+1}if(o===16){const b=new Uint16Array(h.buffer);if(Mq)for(let T=0;T<b.length;T++)b[T]=Fq(b[T]);return b}else return h}function Fq(n){return(n&255)<<8|n>>8&255}const q0=Uint8Array.of(137,80,78,71,13,10,26,10);function u6(n){if(!Uq(n.readBytes(q0.length)))throw new Error("wrong PNG signature")}function Uq(n){if(n.length<q0.length)return!1;for(let e=0;e<q0.length;e++)if(n[e]!==q0[e])return!1;return!0}const Vq="tEXt",Bq=0,rC=new TextDecoder("latin1");function zq(n){if(Gq(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const qq=/^[\u0000-\u00FF]*$/;function Gq(n){if(!qq.test(n))throw new Error("invalid latin1 text")}function Hq(n,e,t){const r=sC(e);n[r]=$q(e,t-r.length-1)}function sC(n){for(n.mark();n.readByte()!==Bq;);const e=n.offset;n.reset();const t=rC.decode(n.readBytes(e-n.offset-1));return n.skip(1),zq(t),t}function $q(n,e){return rC.decode(n.readBytes(e))}const ao={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},y1={UNKNOWN:-1,DEFLATE:0},d6={UNKNOWN:-1,ADAPTIVE:0},b1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},w0={NONE:0,BACKGROUND:1,PREVIOUS:2},v1={SOURCE:0,OVER:1};class Wq extends pw{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new i6,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=y1.UNKNOWN,this._filterMethod=d6.UNKNOWN,this._interlaceMethod=b1.UNKNOWN,this._colorType=ao.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(u6(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(u6(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Vq:Hq(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?l6(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?l6(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Kq(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case ao.GREYSCALE:r=1;break;case ao.TRUECOLOUR:r=3;break;case ao.INDEXED_COLOUR:r=1;break;case ao.GREYSCALE_ALPHA:r=2;break;case ao.TRUECOLOUR_ALPHA:r=4;break;case ao.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==y1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<t;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ao.GREYSCALE:case ao.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case ao.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case ao.UNKNOWN:case ao.GREYSCALE_ALPHA:case ao.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=sC(this),r=this.readUint8();if(r!==y1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:_q(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=c6({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(r,a,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case w0.NONE:break;case w0.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const c=(a*e.width+o)*this._png.channels;for(let u=0;u<this._png.channels;u++)r.data[c+u]=0}break;case w0.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,a=(o,c)=>{const u=((o+t.yOffset)*this._png.width+t.xOffset+c)*this._png.channels,h=(o*t.width+c)*this._png.channels;return{index:u,frameIndex:h}};switch(t.blendOp){case v1.SOURCE:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:u,frameIndex:h}=a(o,c);for(let f=0;f<this._png.channels;f++)e.data[u+f]=t.data[h+f]}break;case v1.OVER:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:u,frameIndex:h}=a(o,c);for(let f=0;f<this._png.channels;f++){const g=t.data[h+this._png.channels-1]/r,x=f%(this._png.channels-1)===0?1:t.data[h+f],v=Math.floor(g*x+(1-g)*e.data[u+f]);e.data[u+f]+=v}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==d6.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===b1.NO_INTERLACE)this._png.data=c6({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===b1.ADAM7)this._png.data=kq({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:w0.NONE,blendOp:v1.SOURCE,data:e}),this._inflator=new i6,this._writingDataChunks=!1}}function Kq(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var h6;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(h6||(h6={}));function Yq(n,e){return new Wq(n,e).decode()}var nn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function w1(){nn.console&&typeof nn.console.log=="function"&&nn.console.log.apply(nn.console,arguments)}var Er={log:w1,warn:function(n){nn.console&&(typeof nn.console.warn=="function"?nn.console.warn.apply(nn.console,arguments):w1.call(null,arguments))},error:function(n){nn.console&&(typeof nn.console.error=="function"?nn.console.error.apply(nn.console,arguments):w1(n))}};function N1(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Dd(r.response,e,t)},r.onerror=function(){Er.error("could not download file")},r.send()}function f6(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function N0(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Dd=nn.saveAs||((typeof window>"u"?"undefined":cr(window))!=="object"||window!==nn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=nn.URL||nn.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?f6(a.href)?N1(n,e,t):N0(a,a.target="_blank"):N0(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){N0(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(f6(n))N1(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){N0(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:cr(o)!=="object"&&(Er.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return N1(n,e,t);var a=n.type==="application/octet-stream",o=/constructor/i.test(nn.HTMLElement)||nn.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&o)&&(typeof FileReader>"u"?"undefined":cr(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var g=u.result;g=c?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},u.readAsDataURL(n)}else{var h=nn.URL||nn.webkitURL,f=h.createObjectURL(n);r?r.location=f:location.href=f,r=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});function aC(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,o=t[r].process,c=a.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+u+h+f}}var G0=nn.atob.bind(nn),m6=nn.btoa.bind(nn);function j1(n,e){var t=n[0],r=n[1],a=n[2],o=n[3];t=$a(t,r,a,o,e[0],7,-680876936),o=$a(o,t,r,a,e[1],12,-389564586),a=$a(a,o,t,r,e[2],17,606105819),r=$a(r,a,o,t,e[3],22,-1044525330),t=$a(t,r,a,o,e[4],7,-176418897),o=$a(o,t,r,a,e[5],12,1200080426),a=$a(a,o,t,r,e[6],17,-1473231341),r=$a(r,a,o,t,e[7],22,-45705983),t=$a(t,r,a,o,e[8],7,1770035416),o=$a(o,t,r,a,e[9],12,-1958414417),a=$a(a,o,t,r,e[10],17,-42063),r=$a(r,a,o,t,e[11],22,-1990404162),t=$a(t,r,a,o,e[12],7,1804603682),o=$a(o,t,r,a,e[13],12,-40341101),a=$a(a,o,t,r,e[14],17,-1502002290),t=Wa(t,r=$a(r,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Wa(o,t,r,a,e[6],9,-1069501632),a=Wa(a,o,t,r,e[11],14,643717713),r=Wa(r,a,o,t,e[0],20,-373897302),t=Wa(t,r,a,o,e[5],5,-701558691),o=Wa(o,t,r,a,e[10],9,38016083),a=Wa(a,o,t,r,e[15],14,-660478335),r=Wa(r,a,o,t,e[4],20,-405537848),t=Wa(t,r,a,o,e[9],5,568446438),o=Wa(o,t,r,a,e[14],9,-1019803690),a=Wa(a,o,t,r,e[3],14,-187363961),r=Wa(r,a,o,t,e[8],20,1163531501),t=Wa(t,r,a,o,e[13],5,-1444681467),o=Wa(o,t,r,a,e[2],9,-51403784),a=Wa(a,o,t,r,e[7],14,1735328473),t=Ka(t,r=Wa(r,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Ka(o,t,r,a,e[8],11,-2022574463),a=Ka(a,o,t,r,e[11],16,1839030562),r=Ka(r,a,o,t,e[14],23,-35309556),t=Ka(t,r,a,o,e[1],4,-1530992060),o=Ka(o,t,r,a,e[4],11,1272893353),a=Ka(a,o,t,r,e[7],16,-155497632),r=Ka(r,a,o,t,e[10],23,-1094730640),t=Ka(t,r,a,o,e[13],4,681279174),o=Ka(o,t,r,a,e[0],11,-358537222),a=Ka(a,o,t,r,e[3],16,-722521979),r=Ka(r,a,o,t,e[6],23,76029189),t=Ka(t,r,a,o,e[9],4,-640364487),o=Ka(o,t,r,a,e[12],11,-421815835),a=Ka(a,o,t,r,e[15],16,530742520),t=Ya(t,r=Ka(r,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=Ya(o,t,r,a,e[7],10,1126891415),a=Ya(a,o,t,r,e[14],15,-1416354905),r=Ya(r,a,o,t,e[5],21,-57434055),t=Ya(t,r,a,o,e[12],6,1700485571),o=Ya(o,t,r,a,e[3],10,-1894986606),a=Ya(a,o,t,r,e[10],15,-1051523),r=Ya(r,a,o,t,e[1],21,-2054922799),t=Ya(t,r,a,o,e[8],6,1873313359),o=Ya(o,t,r,a,e[15],10,-30611744),a=Ya(a,o,t,r,e[6],15,-1560198380),r=Ya(r,a,o,t,e[13],21,1309151649),t=Ya(t,r,a,o,e[4],6,-145523070),o=Ya(o,t,r,a,e[11],10,-1120210379),a=Ya(a,o,t,r,e[2],15,718787259),r=Ya(r,a,o,t,e[9],21,-343485551),n[0]=Hu(t,n[0]),n[1]=Hu(r,n[1]),n[2]=Hu(a,n[2]),n[3]=Hu(o,n[3])}function Ny(n,e,t,r,a,o){return e=Hu(Hu(e,n),Hu(r,o)),Hu(e<<a|e>>>32-a,t)}function $a(n,e,t,r,a,o,c){return Ny(e&t|~e&r,n,e,a,o,c)}function Wa(n,e,t,r,a,o,c){return Ny(e&r|t&~r,n,e,a,o,c)}function Ka(n,e,t,r,a,o,c){return Ny(e^t^r,n,e,a,o,c)}function Ya(n,e,t,r,a,o,c){return Ny(t^(e|~r),n,e,a,o,c)}function iC(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)j1(r,Xq(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(j1(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,j1(r,a),r}function Xq(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var g6="0123456789abcdef".split("");function Qq(n){for(var e="",t=0;t<4;t++)e+=g6[n>>8*t+4&15]+g6[n>>8*t&15];return e}function Jq(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function k2(n){return iC(n).map(Jq).join("")}var Zq=(function(n){for(var e=0;e<n.length;e++)n[e]=Qq(n[e]);return n.join("")})(iC("hello"))!="5d41402abc4b2a76b9719d911017c592";function Hu(n,e){if(Zq){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function P2(n,e){var t,r,a,o;if(n!==t){for(var c=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),u=[],h=0;h<256;h++)u[h]=h;var f=0;for(h=0;h<256;h++){var g=u[h];f=(f+g+c.charCodeAt(h))%256,u[h]=u[f],u[f]=g}t=n,r=u}else u=r;var x=e.length,v=0,b=0,T="";for(h=0;h<x;h++)b=(b+(g=u[v=(v+1)%256]))%256,u[v]=u[b],u[b]=g,c=u[(u[v]+u[b])%256],T+=String.fromCharCode(e.charCodeAt(h)^c);return T}var p6={print:4,modify:8,copy:16,"annot-forms":32};function bf(n,e,t,r){this.v=1,this.r=2;var a=192;n.forEach(function(u){if(p6.perm!==void 0)throw new Error("Invalid permission: "+u);a+=p6[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^a)),this.encryptionKey=k2(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=P2(this.encryptionKey,this.padding)}function vf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var a=n.charCodeAt(r);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[r]}return e}function x6(n){if(cr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!a],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,r)}catch(u){nn.console&&Er.error("jsPDF PubSub Error",u.message,u)}c[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Rx(n){if(!(this instanceof Rx))return new Rx(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function oC(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Vd(n,e,t,r,a){if(!(this instanceof Vd))return new Vd(n,e,t,r,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,oC.call(this,r,a)}function jf(n,e,t,r,a){if(!(this instanceof jf))return new jf(n,e,t,r,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,oC.call(this,r,a)}function Rt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],c=[],u=1,h=16,f="S",g=null;cr(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,a=n.format||a,o=n.compress||n.compressPdf||o,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(h=n.floatPrecision),f=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),r=r||"mm",t=(""+(t||"P")).toLowerCase();var x=n.putOnlyUsedFonts||!1,v={},b={internal:{},__private__:{}};b.__private__.PubSub=x6;var T="1.3",E=b.__private__.getPdfVersion=function(){return T};b.__private__.setPdfVersion=function(A){T=A};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return j};var S=b.__private__.getPageFormat=function(A){return j[A]};a=a||"a4";var L="compat",D="advanced",O=L;function te(){this.saveGraphicsState(),ae(new Ct(en,0,0,-en,0,ai()*en).toString()+" cm"),this.setFontSize(this.getFontSize()/en),f="n",O=D}function ee(){this.restoreGraphicsState(),f="S",O=L}var G=b.__private__.combineFontStyleAndFontWeight=function(A,H){if(A=="bold"&&H=="normal"||A=="bold"&&H==400||A=="normal"&&H=="italic"||A=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(A=H==400||H==="normal"?A==="italic"?"italic":"normal":H!=700&&H!=="bold"||A!=="normal"?(H==700?"bold":H)+""+A:"bold"),A};b.advancedAPI=function(A){var H=O===L;return H&&te.call(this),typeof A!="function"||(A(this),H&&ee.call(this)),this},b.compatAPI=function(A){var H=O===D;return H&&ee.call(this),typeof A!="function"||(A(this),H&&te.call(this)),this},b.isAdvancedAPI=function(){return O===D};var U,k=function(A){if(O!==D)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=b.roundToPrecision=b.__private__.roundToPrecision=function(A,H){var oe=e||H;if(isNaN(A)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(oe).replace(/0+$/,"")};U=b.hpf=b.__private__.hpf=typeof h=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,h)}:h==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,16)};var I=b.f2=b.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return F(A,2)},P=b.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return F(A,3)},B=b.scale=b.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return O===L?A*en:O===D?A:void 0},ue=function(A){return B((function(H){return O===L?ai()-H:O===D?H:void 0})(A))};b.__private__.setPrecision=b.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var Ne,ce="00000000000000000000000000000000",pe=b.__private__.getFileId=function(){return ce},de=b.__private__.setFileId=function(A){return ce=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(Nr=new bf(g.userPermissions,g.userPassword,g.ownerPassword,ce)),ce};b.setFileId=function(A){return de(A),this},b.getFileId=function(){return pe()};var Se=b.__private__.convertDateToPDFDate=function(A){var H=A.getTimezoneOffset(),oe=H<0?"+":"-",ge=Math.floor(Math.abs(H/60)),we=Math.abs(H%60),Ve=[oe,se(ge),"'",se(we),"'"].join("");return["D:",A.getFullYear(),se(A.getMonth()+1),se(A.getDate()),se(A.getHours()),se(A.getMinutes()),se(A.getSeconds()),Ve].join("")},ze=b.__private__.convertPDFDateToDate=function(A){var H=parseInt(A.substr(2,4),10),oe=parseInt(A.substr(6,2),10)-1,ge=parseInt(A.substr(8,2),10),we=parseInt(A.substr(10,2),10),Ve=parseInt(A.substr(12,2),10),Xe=parseInt(A.substr(14,2),10);return new Date(H,oe,ge,we,Ve,Xe,0)},re=b.__private__.setCreationDate=function(A){var H;if(A===void 0&&(A=new Date),A instanceof Date)H=Se(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=A}return Ne=H},q=b.__private__.getCreationDate=function(A){var H=Ne;return A==="jsDate"&&(H=ze(Ne)),H};b.setCreationDate=function(A){return re(A),this},b.getCreationDate=function(A){return q(A)};var Q,se=b.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},he=b.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},me=0,be=[],Le=[],ke=0,qe=[],Je=[],it=!1,at=Le;b.__private__.setCustomOutputDestination=function(A){it=!0,at=A};var ft=function(A){it||(at=A)};b.__private__.resetCustomOutputDestination=function(){it=!1,at=Le};var ae=b.__private__.out=function(A){return A=A.toString(),ke+=A.length+1,at.push(A),at},st=b.__private__.write=function(A){return ae(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},rn=b.__private__.getArrayBuffer=function(A){for(var H=A.length,oe=new ArrayBuffer(H),ge=new Uint8Array(oe);H--;)ge[H]=A.charCodeAt(H);return oe},Pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Pt};var He=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(A){return He=O===D?A/en:A,this};var ct,lt=b.__private__.getFontSize=b.getFontSize=function(){return O===L?He:He*en},Mt=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(A){return Mt=A,this},b.__private__.getR2L=b.getR2L=function(){return Mt};var Et,sn=b.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))ct=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');ct=A}else ct=parseInt(A,10)};b.__private__.getZoomMode=function(){return ct};var dn,Qt=b.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Et=A};b.__private__.getPageMode=function(){return Et};var pn=b.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');dn=A};b.__private__.getLayoutMode=function(){return dn},b.__private__.setDisplayMode=b.setDisplayMode=function(A,H,oe){return sn(A),pn(H),Qt(oe),this};var on={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(A){if(Object.keys(on).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return on[A]},b.__private__.getDocumentProperties=function(){return on},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(A){for(var H in on)on.hasOwnProperty(H)&&A[H]&&(on[H]=A[H]);return this},b.__private__.setDocumentProperty=function(A,H){if(Object.keys(on).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return on[A]=H};var wt,en,Nt,Tr,ln,Lt={},Wt={},an=[],Tt={},zn={},zt={},qt={},Hn=null,At=0,jt=[],xn=new x6(b),qs=n.hotfixes||[],As={},xi={},ms=[],Ct=function A(H,oe,ge,we,Ve,Xe){if(!(this instanceof A))return new A(H,oe,ge,we,Ve,Xe);isNaN(H)&&(H=1),isNaN(oe)&&(oe=0),isNaN(ge)&&(ge=0),isNaN(we)&&(we=1),isNaN(Ve)&&(Ve=0),isNaN(Xe)&&(Xe=0),this._matrix=[H,oe,ge,we,Ve,Xe]};Object.defineProperty(Ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ct.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(A)},Ct.prototype.multiply=function(A){var H=A.sx*this.sx+A.shy*this.shx,oe=A.sx*this.shy+A.shy*this.sy,ge=A.shx*this.sx+A.sy*this.shx,we=A.shx*this.shy+A.sy*this.sy,Ve=A.tx*this.sx+A.ty*this.shx+this.tx,Xe=A.tx*this.shy+A.ty*this.sy+this.ty;return new Ct(H,oe,ge,we,Ve,Xe)},Ct.prototype.decompose=function(){var A=this.sx,H=this.shy,oe=this.shx,ge=this.sy,we=this.tx,Ve=this.ty,Xe=Math.sqrt(A*A+H*H),ht=(A/=Xe)*oe+(H/=Xe)*ge;oe-=A*ht,ge-=H*ht;var xt=Math.sqrt(oe*oe+ge*ge);return ht/=xt,A*(ge/=xt)<H*(oe/=xt)&&(A=-A,H=-H,ht=-ht,Xe=-Xe),{scale:new Ct(Xe,0,0,xt,0,0),translate:new Ct(1,0,0,1,we,Ve),rotate:new Ct(A,H,-H,A,0,0),skew:new Ct(1,0,ht,1,0,0)}},Ct.prototype.toString=function(A){return this.join(" ")},Ct.prototype.inversed=function(){var A=this.sx,H=this.shy,oe=this.shx,ge=this.sy,we=this.tx,Ve=this.ty,Xe=1/(A*ge-H*oe),ht=ge*Xe,xt=-H*Xe,Ut=-oe*Xe,It=A*Xe;return new Ct(ht,xt,Ut,It,-ht*we-Ut*Ve,-xt*we-It*Ve)},Ct.prototype.applyToPoint=function(A){var H=A.x*this.sx+A.y*this.shx+this.tx,oe=A.x*this.shy+A.y*this.sy+this.ty;return new Is(H,oe)},Ct.prototype.applyToRectangle=function(A){var H=this.applyToPoint(A),oe=this.applyToPoint(new Is(A.x+A.w,A.y+A.h));return new bi(H.x,H.y,oe.x-H.x,oe.y-H.y)},Ct.prototype.clone=function(){var A=this.sx,H=this.shy,oe=this.shx,ge=this.sy,we=this.tx,Ve=this.ty;return new Ct(A,H,oe,ge,we,Ve)},b.Matrix=Ct;var Hi=b.matrixMult=function(A,H){return H.multiply(A)},va=new Ct(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=va;var aa=function(A,H){if(!zn[A]){var oe=(H instanceof Vd?"Sh":"P")+(Object.keys(Tt).length+1).toString(10);H.id=oe,zn[A]=oe,Tt[oe]=H,xn.publish("addPattern",H)}};b.ShadingPattern=Vd,b.TilingPattern=jf,b.addShadingPattern=function(A,H){return k("addShadingPattern()"),aa(A,H),this},b.beginTilingPattern=function(A){k("beginTilingPattern()"),vi(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},b.endTilingPattern=function(A,H){k("endTilingPattern()"),H.stream=Je[Q].join(`
`),aa(A,H),xn.publish("endTilingPattern",H),ms.pop().restore()};var ia,nr=b.__private__.newObject=function(){var A=fr();return ns(A,!0),A},fr=b.__private__.newObjectDeferred=function(){return me++,be[me]=function(){return ke},me},ns=function(A,H){return H=typeof H=="boolean"&&H,be[A]=ke,H&&ae(A+" 0 obj"),A},Gs=b.__private__.newAdditionalObject=function(){var A={objId:fr(),content:""};return qe.push(A),A},Ts=fr(),$n=fr(),sr=b.__private__.decodeColorString=function(A){var H=A.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length!==5||H[4]!=="k"&&H[4]!=="K"||(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var oe=parseFloat(H[0]);H=[oe,oe,oe,"r"]}for(var ge="#",we=0;we<3;we++)ge+=("0"+Math.floor(255*parseFloat(H[we])).toString(16)).slice(-2);return ge},rs=b.__private__.encodeColorString=function(A){var H;typeof A=="string"&&(A={ch1:A});var oe=A.ch1,ge=A.ch2,we=A.ch3,Ve=A.ch4,Xe=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var ht=new aC(oe);if(ht.ok)oe=ht.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var xt=parseInt(oe.substr(1),16);oe=xt>>16&255,ge=xt>>8&255,we=255&xt}if(ge===void 0||Ve===void 0&&oe===ge&&ge===we)H=typeof oe=="string"?oe+" "+Xe[0]:A.precision===2?I(oe/255)+" "+Xe[0]:P(oe/255)+" "+Xe[0];else if(Ve===void 0||cr(Ve)==="object"){if(Ve&&!isNaN(Ve.a)&&Ve.a===0)return["1.","1.","1.",Xe[1]].join(" ");H=typeof oe=="string"?[oe,ge,we,Xe[1]].join(" "):A.precision===2?[I(oe/255),I(ge/255),I(we/255),Xe[1]].join(" "):[P(oe/255),P(ge/255),P(we/255),Xe[1]].join(" ")}else H=typeof oe=="string"?[oe,ge,we,Ve,Xe[2]].join(" "):A.precision===2?[I(oe),I(ge),I(we),I(Ve),Xe[2]].join(" "):[P(oe),P(ge),P(we),P(Ve),Xe[2]].join(" ");return H},oa=b.__private__.getFilters=function(){return c},Oa=b.__private__.putStream=function(A){var H=(A=A||{}).data||"",oe=A.filters||oa(),ge=A.alreadyAppliedFilters||[],we=A.addLength1||!1,Ve=H.length,Xe=A.objectId,ht=function(R){return R};if(g!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(ht=Nr.encryptor(Xe,0));var xt={};oe===!0&&(oe=["FlateEncode"]);var Ut=A.additionalKeyValues||[],It=(xt=Rt.API.processDataByFilters!==void 0?Rt.API.processDataByFilters(H,oe):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(xt.data.length!==0&&(Ut.push({key:"Length",value:xt.data.length}),we===!0&&Ut.push({key:"Length1",value:Ve})),It.length!=0)if(It.split("/").length-1==1)Ut.push({key:"Filter",value:It});else{Ut.push({key:"Filter",value:"["+It+"]"});for(var En=0;En<Ut.length;En+=1)if(Ut[En].key==="DecodeParms"){for(var mr=[],rr=0;rr<xt.reverseChain.split("/").length-1;rr+=1)mr.push("null");mr.push(Ut[En].value),Ut[En].value="["+mr.join(" ")+"]"}}ae("<<");for(var y=0;y<Ut.length;y++)ae("/"+Ut[y].key+" "+Ut[y].value);ae(">>"),xt.data.length!==0&&(ae("stream"),ae(ht(xt.data)),ae("endstream"))},xo=b.__private__.putPage=function(A){var H=A.number,oe=A.data,ge=A.objId,we=A.contentsObjId;ns(ge,!0),ae("<</Type /Page"),ae("/Parent "+A.rootDictionaryObjId+" 0 R"),ae("/Resources "+A.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(U(A.mediaBox.bottomLeftX))+" "+parseFloat(U(A.mediaBox.bottomLeftY))+" "+U(A.mediaBox.topRightX)+" "+U(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&ae("/CropBox ["+U(A.cropBox.bottomLeftX)+" "+U(A.cropBox.bottomLeftY)+" "+U(A.cropBox.topRightX)+" "+U(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&ae("/BleedBox ["+U(A.bleedBox.bottomLeftX)+" "+U(A.bleedBox.bottomLeftY)+" "+U(A.bleedBox.topRightX)+" "+U(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&ae("/TrimBox ["+U(A.trimBox.bottomLeftX)+" "+U(A.trimBox.bottomLeftY)+" "+U(A.trimBox.topRightX)+" "+U(A.trimBox.topRightY)+"]"),A.artBox!==null&&ae("/ArtBox ["+U(A.artBox.bottomLeftX)+" "+U(A.artBox.bottomLeftY)+" "+U(A.artBox.topRightX)+" "+U(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&ae("/UserUnit "+A.userUnit),xn.publish("putPage",{objId:ge,pageContext:jt[H],pageNumber:H,page:oe}),ae("/Contents "+we+" 0 R"),ae(">>"),ae("endobj");var Ve=oe.join(`
`);return O===D&&(Ve+=`
Q`),ns(we,!0),Oa({data:Ve,filters:oa(),objectId:we}),ae("endobj"),ge},ti=b.__private__.putPages=function(){var A,H,oe=[];for(A=1;A<=At;A++)jt[A].objId=fr(),jt[A].contentsObjId=fr();for(A=1;A<=At;A++)oe.push(xo({number:A,data:Je[A],objId:jt[A].objId,contentsObjId:jt[A].contentsObjId,mediaBox:jt[A].mediaBox,cropBox:jt[A].cropBox,bleedBox:jt[A].bleedBox,trimBox:jt[A].trimBox,artBox:jt[A].artBox,userUnit:jt[A].userUnit,rootDictionaryObjId:Ts,resourceDictionaryObjId:$n}));ns(Ts,!0),ae("<</Type /Pages");var ge="/Kids [";for(H=0;H<At;H++)ge+=oe[H]+" 0 R ";ae(ge+"]"),ae("/Count "+At),ae(">>"),ae("endobj"),xn.publish("postPutPages")},la=function(A){xn.publish("putFont",{font:A,out:ae,newObject:nr,putStream:Oa}),A.isAlreadyPutted!==!0&&(A.objectNumber=nr(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+vf(A.postScriptName)),ae("/Subtype /Type1"),typeof A.encoding=="string"&&ae("/Encoding /"+A.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},$i=function(A){A.objectNumber=nr();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[U(A.x),U(A.y),U(A.x+A.width),U(A.y+A.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var oe=A.pages[1].join(`
`);Oa({data:oe,additionalKeyValues:H,objectId:A.objectNumber}),ae("endobj")},wa=function(A,H){H||(H=21);var oe=nr(),ge=(function(Xe,ht){var xt,Ut=[],It=1/(ht-1);for(xt=0;xt<1;xt+=It)Ut.push(xt);if(Ut.push(1),Xe[0].offset!=0){var En={offset:0,color:Xe[0].color};Xe.unshift(En)}if(Xe[Xe.length-1].offset!=1){var mr={offset:1,color:Xe[Xe.length-1].color};Xe.push(mr)}for(var rr="",y=0,R=0;R<Ut.length;R++){for(xt=Ut[R];xt>Xe[y+1].offset;)y++;var z=Xe[y].offset,Z=(xt-z)/(Xe[y+1].offset-z),_e=Xe[y].color,Pe=Xe[y+1].color;rr+=he(Math.round((1-Z)*_e[0]+Z*Pe[0]).toString(16))+he(Math.round((1-Z)*_e[1]+Z*Pe[1]).toString(16))+he(Math.round((1-Z)*_e[2]+Z*Pe[2]).toString(16))}return rr.trim()})(A.colors,H),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+H+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oa({data:ge,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),ae("endobj"),A.objectNumber=nr(),ae("<< /ShadingType "+A.type),ae("/ColorSpace /DeviceRGB");var Ve="/Coords ["+U(parseFloat(A.coords[0]))+" "+U(parseFloat(A.coords[1]))+" ";A.type===2?Ve+=U(parseFloat(A.coords[2]))+" "+U(parseFloat(A.coords[3])):Ve+=U(parseFloat(A.coords[2]))+" "+U(parseFloat(A.coords[3]))+" "+U(parseFloat(A.coords[4]))+" "+U(parseFloat(A.coords[5])),ae(Ve+="]"),A.matrix&&ae("/Matrix ["+A.matrix.toString()+"]"),ae("/Function "+oe+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},Hs=function(A,H){var oe=fr(),ge=nr();H.push({resourcesOid:oe,objectOid:ge}),A.objectNumber=ge;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+A.boundingBox.map(U).join(" ")+"]"}),we.push({key:"XStep",value:U(A.xStep)}),we.push({key:"YStep",value:U(A.yStep)}),we.push({key:"Resources",value:oe+" 0 R"}),A.matrix&&we.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Oa({data:A.stream,additionalKeyValues:we,objectId:A.objectNumber}),ae("endobj")},Na=function(A){for(var H in A.objectNumber=nr(),ae("<<"),A)switch(H){case"opacity":ae("/ca "+I(A[H]));break;case"stroke-opacity":ae("/CA "+I(A[H]))}ae(">>"),ae("endobj")},Fa=function(A){ns(A.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var H in ae("/Font <<"),Lt)Lt.hasOwnProperty(H)&&(x===!1||x===!0&&v.hasOwnProperty(H))&&ae("/"+H+" "+Lt[H].objectNumber+" 0 R");ae(">>")})(),(function(){if(Object.keys(Tt).length>0){for(var H in ae("/Shading <<"),Tt)Tt.hasOwnProperty(H)&&Tt[H]instanceof Vd&&Tt[H].objectNumber>=0&&ae("/"+H+" "+Tt[H].objectNumber+" 0 R");xn.publish("putShadingPatternDict"),ae(">>")}})(),(function(H){if(Object.keys(Tt).length>0){for(var oe in ae("/Pattern <<"),Tt)Tt.hasOwnProperty(oe)&&Tt[oe]instanceof b.TilingPattern&&Tt[oe].objectNumber>=0&&Tt[oe].objectNumber<H&&ae("/"+oe+" "+Tt[oe].objectNumber+" 0 R");xn.publish("putTilingPatternDict"),ae(">>")}})(A.objectOid),(function(){if(Object.keys(zt).length>0){var H;for(H in ae("/ExtGState <<"),zt)zt.hasOwnProperty(H)&&zt[H].objectNumber>=0&&ae("/"+H+" "+zt[H].objectNumber+" 0 R");xn.publish("putGStateDict"),ae(">>")}})(),(function(){for(var H in ae("/XObject <<"),As)As.hasOwnProperty(H)&&As[H].objectNumber>=0&&ae("/"+H+" "+As[H].objectNumber+" 0 R");xn.publish("putXobjectDict"),ae(">>")})(),ae(">>"),ae("endobj")},Ir=function(A){Wt[A.fontName]=Wt[A.fontName]||{},Wt[A.fontName][A.fontStyle]=A.id},bl=function(A,H,oe,ge,we){var Ve={id:"F"+(Object.keys(Lt).length+1).toString(10),postScriptName:A,fontName:H,fontStyle:oe,encoding:ge,isStandardFont:we||!1,metadata:{}};return xn.publish("addFont",{font:Ve,instance:this}),Lt[Ve.id]=Ve,Ir(Ve),Ve.id},ca=b.__private__.pdfEscape=b.pdfEscape=function(A,H){return(function(oe,ge){var we,Ve,Xe,ht,xt,Ut,It,En,mr;if(Xe=(ge=ge||{}).sourceEncoding||"Unicode",xt=ge.outputEncoding,(ge.autoencode||xt)&&Lt[wt].metadata&&Lt[wt].metadata[Xe]&&Lt[wt].metadata[Xe].encoding&&(ht=Lt[wt].metadata[Xe].encoding,!xt&&Lt[wt].encoding&&(xt=Lt[wt].encoding),!xt&&ht.codePages&&(xt=ht.codePages[0]),typeof xt=="string"&&(xt=ht[xt]),xt)){for(It=!1,Ut=[],we=0,Ve=oe.length;we<Ve;we++)(En=xt[oe.charCodeAt(we)])?Ut.push(String.fromCharCode(En)):Ut.push(oe[we]),Ut[we].charCodeAt(0)>>8&&(It=!0);oe=Ut.join("")}for(we=oe.length;It===void 0&&we!==0;)oe.charCodeAt(we-1)>>8&&(It=!0),we--;if(!It)return oe;for(Ut=ge.noBOM?[]:[254,255],we=0,Ve=oe.length;we<Ve;we++){if((mr=(En=oe.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+oe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ut.push(mr),Ut.push(En-(mr<<8))}return String.fromCharCode.apply(void 0,Ut)})(A,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ua=b.__private__.beginPage=function(A){Je[++At]=[],jt[At]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},vl(At),ft(Je[Q])},ni=function(A,H){var oe,ge,we;switch(t=H||t,typeof A=="string"&&(oe=S(A.toLowerCase()),Array.isArray(oe)&&(ge=oe[0],we=oe[1])),Array.isArray(A)&&(ge=A[0]*en,we=A[1]*en),isNaN(ge)&&(ge=a[0],we=a[1]),(ge>14400||we>14400)&&(Er.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),we=Math.min(14400,we)),a=[ge,we],t.substr(0,1)){case"l":we>ge&&(a=[we,ge]);break;case"p":ge>we&&(a=[we,ge])}Ua(a),Ot(da),ae(_a),Ea!==0&&ae(Ea+" J"),Wr!==0&&ae(Wr+" j"),xn.publish("addPage",{pageNumber:At})},zo=function(A){A>0&&A<=At&&(Je.splice(A,1),jt.splice(A,1),At--,Q>At&&(Q=At),this.setPage(Q))},vl=function(A){A>0&&A<=At&&(Q=A)},wl=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Je.length-1},lc=function(A,H,oe){var ge,we=void 0;return oe=oe||{},A=A!==void 0?A:Lt[wt].fontName,H=H!==void 0?H:Lt[wt].fontStyle,ge=A.toLowerCase(),Wt[ge]!==void 0&&Wt[ge][H]!==void 0?we=Wt[ge][H]:Wt[A]!==void 0&&Wt[A][H]!==void 0?we=Wt[A][H]:oe.disableWarning===!1&&Er.warn("Unable to look up font label for font '"+A+"', '"+H+"'. Refer to getFontList() for available fonts."),we||oe.noFallback||(we=Wt.times[H])==null&&(we=Wt.times.normal),we},ja=b.__private__.putInfo=function(){var A=nr(),H=function(ge){return ge};for(var oe in g!==null&&(H=Nr.encryptor(A,0)),ae("<<"),ae("/Producer ("+ca(H("jsPDF "+Rt.version))+")"),on)on.hasOwnProperty(oe)&&on[oe]&&ae("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+ca(H(on[oe]))+")");ae("/CreationDate ("+ca(H(Ne))+")"),ae(">>"),ae("endobj")},Cs=b.__private__.putCatalog=function(A){var H=(A=A||{}).rootDictionaryObjId||Ts;switch(nr(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+H+" 0 R"),ct||(ct="fullwidth"),ct){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+ct;oe.substr(oe.length-1)==="%"&&(ct=parseInt(ct)/100),typeof ct=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+I(ct)+"]")}switch(dn||(dn="continuous"),dn){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}Et&&ae("/PageMode /"+Et),xn.publish("putCatalog"),ae(">>"),ae("endobj")},Or=b.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(me+1)),ae("/Root "+me+" 0 R"),ae("/Info "+(me-1)+" 0 R"),g!==null&&ae("/Encrypt "+Nr.oid+" 0 R"),ae("/ID [ <"+ce+"> <"+ce+"> ]"),ae(">>")},wn=b.__private__.putHeader=function(){ae("%PDF-"+T),ae("%")},Wi=b.__private__.putXRef=function(){var A="0000000000";ae("xref"),ae("0 "+(me+1)),ae("0000000000 65535 f ");for(var H=1;H<=me;H++)typeof be[H]=="function"?ae((A+be[H]()).slice(-10)+" 00000 n "):be[H]!==void 0?ae((A+be[H]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},Va=b.__private__.buildDocument=function(){var A;me=0,ke=0,Le=[],be=[],qe=[],Ts=fr(),$n=fr(),ft(Le),xn.publish("buildDocument"),wn(),ti(),(function(){xn.publish("putAdditionalObjects");for(var oe=0;oe<qe.length;oe++){var ge=qe[oe];ns(ge.objId,!0),ae(ge.content),ae("endobj")}xn.publish("postPutAdditionalObjects")})(),A=[],(function(){for(var oe in Lt)Lt.hasOwnProperty(oe)&&(x===!1||x===!0&&v.hasOwnProperty(oe))&&la(Lt[oe])})(),(function(){var oe;for(oe in zt)zt.hasOwnProperty(oe)&&Na(zt[oe])})(),(function(){for(var oe in As)As.hasOwnProperty(oe)&&$i(As[oe])})(),(function(oe){var ge;for(ge in Tt)Tt.hasOwnProperty(ge)&&(Tt[ge]instanceof Vd?wa(Tt[ge]):Tt[ge]instanceof jf&&Hs(Tt[ge],oe))})(A),xn.publish("putResources"),A.forEach(Fa),Fa({resourcesOid:$n,objectOid:Number.MAX_SAFE_INTEGER}),xn.publish("postPutResources"),g!==null&&(Nr.oid=nr(),ae("<<"),ae("/Filter /Standard"),ae("/V "+Nr.v),ae("/R "+Nr.r),ae("/U <"+Nr.toHexString(Nr.U)+">"),ae("/O <"+Nr.toHexString(Nr.O)+">"),ae("/P "+Nr.P),ae(">>"),ae("endobj")),ja(),Cs();var H=ke;return Wi(),Or(),ae("startxref"),ae(""+H),ae("%%EOF"),ft(Je[Q]),Le.join(`
`)},Rn=b.__private__.getBlob=function(A){return new Blob([rn(A)],{type:"application/pdf"})},yo=b.output=b.__private__.output=(ia=function(A,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",A){case void 0:return Va();case"save":b.save(H.filename);break;case"arraybuffer":return rn(Va());case"blob":return Rn(Va());case"bloburi":case"bloburl":if(nn.URL!==void 0&&typeof nn.URL.createObjectURL=="function")return nn.URL&&nn.URL.createObjectURL(Rn(Va()))||void 0;Er.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",ge=Va();try{oe=m6(ge)}catch{oe=m6(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+H.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(nn)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(we=H.pdfObjectUrl,Ve="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",ht=nn.open();return ht!==null&&ht.document.write(Xe),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(nn)==="[object Window]"){var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',Ut=nn.open();if(Ut!==null){Ut.document.write(xt);var It=this;Ut.document.documentElement.querySelector("#pdfViewer").onload=function(){Ut.document.title=H.filename,Ut.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(It.output("bloburl"))}}return Ut}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(nn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var En='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',mr=nn.open();if(mr!==null&&(mr.document.write(En),mr.document.title=H.filename),mr||typeof safari>"u")return mr;break;case"datauri":case"dataurl":return nn.document.location.href=this.output("datauristring",H);default:return null}},ia.foo=function(){try{return ia.apply(this,arguments)}catch(oe){var A=oe.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var H="Error in function "+A.split(`
`)[0].split("<")[0]+": "+oe.message;if(!nn.console)throw new Error(H);nn.console.error(H,oe),nn.alert&&alert(H)}},ia.foo.bar=ia,ia.foo),$r=function(A){return Array.isArray(qs)===!0&&qs.indexOf(A)>-1};switch(r){case"pt":en=1;break;case"mm":en=72/25.4;break;case"cm":en=72/2.54;break;case"in":en=72;break;case"px":en=$r("px_scaling")==1?.75:96/72;break;case"pc":case"em":en=12;break;case"ex":en=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);en=r}var Nr=null;re(),de();var Fr=b.__private__.getPageInfo=b.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:jt[A].objId,pageNumber:A,pageContext:jt[A]}},qo=b.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in jt)if(jt[H].objId===A)break;return Fr(H)},nu=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:jt[Q].objId,pageNumber:Q,pageContext:jt[Q]}};b.addPage=function(){return ni.apply(this,arguments),this},b.setPage=function(){return vl.apply(this,arguments),ft.call(this,Je[Q]),this},b.insertPage=function(A){return this.addPage(),this.movePage(Q,A),this},b.movePage=function(A,H){var oe,ge;if(A>H){oe=Je[A],ge=jt[A];for(var we=A;we>H;we--)Je[we]=Je[we-1],jt[we]=jt[we-1];Je[H]=oe,jt[H]=ge,this.setPage(H)}else if(A<H){oe=Je[A],ge=jt[A];for(var Ve=A;Ve<H;Ve++)Je[Ve]=Je[Ve+1],jt[Ve]=jt[Ve+1];Je[H]=oe,jt[H]=ge,this.setPage(H)}return this},b.deletePage=function(){return zo.apply(this,arguments),this},b.__private__.text=b.text=function(A,H,oe,ge,we){var Ve,Xe,ht,xt,Ut,It,En,mr,rr,y=(ge=ge||{}).scope||this;if(typeof A=="number"&&typeof H=="number"&&(typeof oe=="string"||Array.isArray(oe))){var R=oe;oe=H,H=A,A=R}if(arguments[3]instanceof Ct==0?(ht=arguments[4],xt=arguments[5],cr(En=arguments[3])==="object"&&En!==null||(typeof ht=="string"&&(xt=ht,ht=null),typeof En=="string"&&(xt=En,En=null),typeof En=="number"&&(ht=En,En=null),ge={flags:En,angle:ht,align:xt})):(k("The transform parameter of text() with a Matrix value"),rr=we),isNaN(H)||isNaN(oe)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return y;var z,Z="",_e=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:Xi,Pe=y.internal.scaleFactor;function et(qn){return qn=qn.split("	").join(Array(ge.TabLen||9).join(" ")),ca(qn,En)}function Zt(qn){for(var Mn,pr=qn.concat(),Yr=[],Io=pr.length;Io--;)typeof(Mn=pr.shift())=="string"?Yr.push(Mn):Array.isArray(qn)&&(Mn.length===1||Mn[1]===void 0&&Mn[2]===void 0)?Yr.push(Mn[0]):Yr.push([Mn[0],Mn[1],Mn[2]]);return Yr}function gr(qn,Mn){var pr;if(typeof qn=="string")pr=Mn(qn)[0];else if(Array.isArray(qn)){for(var Yr,Io,eo=qn.concat(),pc=[],pd=eo.length;pd--;)typeof(Yr=eo.shift())=="string"?pc.push(Mn(Yr)[0]):Array.isArray(Yr)&&typeof Yr[0]=="string"&&(Io=Mn(Yr[0],Yr[1],Yr[2]),pc.push([Io[0],Io[1],Io[2]]));pr=pc}return pr}var bn=!1,Kn=!0;if(typeof A=="string")bn=!0;else if(Array.isArray(A)){var Rs=A.concat();Xe=[];for(var Ws,ar=Rs.length;ar--;)(typeof(Ws=Rs.shift())!="string"||Array.isArray(Ws)&&typeof Ws[0]!="string")&&(Kn=!1);bn=Kn}if(bn===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Ks=He/y.internal.scaleFactor,ii=Ks*(_e-1);switch(ge.baseline){case"bottom":oe-=ii;break;case"top":oe+=Ks-ii;break;case"hanging":oe+=Ks-2*ii;break;case"middle":oe+=Ks/2-ii}if((It=ge.maxWidth||0)>0&&(typeof A=="string"?A=y.splitTextToSize(A,It):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(qn,Mn){return qn.concat(y.splitTextToSize(Mn,It))},[]))),Ve={text:A,x:H,y:oe,options:ge,mutex:{pdfEscape:ca,activeFontKey:wt,fonts:Lt,activeFontSize:He}},xn.publish("preProcessText",Ve),A=Ve.text,ht=(ge=Ve.options).angle,rr instanceof Ct==0&&ht&&typeof ht=="number"){ht*=Math.PI/180,ge.rotationDirection===0&&(ht=-ht),O===D&&(ht=-ht);var jo=Math.cos(ht),_o=Math.sin(ht);rr=new Ct(jo,_o,-_o,jo,0,0)}else ht&&ht instanceof Ct&&(rr=ht);O!==D||rr||(rr=va),(Ut=ge.charSpace||Sa)!==void 0&&(Z+=U(B(Ut))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(mr=ge.horizontalScale)!==void 0&&(Z+=U(100*mr)+` Tz
`),ge.lang;var Ta=-1,Ko=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,ru=y.internal.getCurrentPageInfo().pageContext;switch(Ko){case 0:case!1:case"fill":Ta=0;break;case 1:case!0:case"stroke":Ta=1;break;case 2:case"fillThenStroke":Ta=2;break;case 3:case"invisible":Ta=3;break;case 4:case"fillAndAddForClipping":Ta=4;break;case 5:case"strokeAndAddPathForClipping":Ta=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ta=6;break;case 7:case"addToPathForClipping":Ta=7}var md=ru.usedRenderingMode!==void 0?ru.usedRenderingMode:-1;Ta!==-1?Z+=Ta+` Tr
`:md!==-1&&(Z+=`0 Tr
`),Ta!==-1&&(ru.usedRenderingMode=Ta),xt=ge.align||"left";var oi,Ji=He*_e,Yo=y.internal.pageSize.getWidth(),gd=Lt[wt];Ut=ge.charSpace||Sa,It=ge.maxWidth||0,En=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var Zi=[],Al=function(qn){return y.getStringUnitWidth(qn,{font:gd,charSpace:Ut,fontSize:He,doKerning:!1})*He/Pe};if(Object.prototype.toString.call(A)==="[object Array]"){var za;Xe=Zt(A),xt!=="left"&&(oi=Xe.map(Al));var Ca,So=0;if(xt==="right"){H-=oi[0],A=[],ar=Xe.length;for(var Eo=0;Eo<ar;Eo++)Eo===0?(Ca=ps(H),za=ss(oe)):(Ca=B(So-oi[Eo]),za=-Ji),A.push([Xe[Eo],Ca,za]),So=oi[Eo]}else if(xt==="center"){H-=oi[0]/2,A=[],ar=Xe.length;for(var Xo=0;Xo<ar;Xo++)Xo===0?(Ca=ps(H),za=ss(oe)):(Ca=B((So-oi[Xo])/2),za=-Ji),A.push([Xe[Xo],Ca,za]),So=oi[Xo]}else if(xt==="left"){A=[],ar=Xe.length;for(var su=0;su<ar;su++)A.push(Xe[su])}else if(xt==="justify"&&gd.encoding==="Identity-H"){A=[],ar=Xe.length,It=It!==0?It:Yo;for(var au=0,Kr=0;Kr<ar;Kr++)if(za=Kr===0?ss(oe):-Ji,Ca=Kr===0?ps(H):au,Kr<ar-1){var wh=B((It-oi[Kr])/(Xe[Kr].split(" ").length-1)),Ao=Xe[Kr].split(" ");A.push([Ao[0]+" ",Ca,za]),au=0;for(var To=1;To<Ao.length;To++){var Ys=(Al(Ao[To-1]+" "+Ao[To])-Al(Ao[To]))*Pe+wh;To==Ao.length-1?A.push([Ao[To],Ys,0]):A.push([Ao[To]+" ",Ys,0]),au-=Ys}}else A.push([Xe[Kr],Ca,za]);A.push(["",au,0])}else{if(xt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],ar=Xe.length,It=It!==0?It:Yo,Kr=0;Kr<ar;Kr++){za=Kr===0?ss(oe):-Ji,Ca=Kr===0?ps(H):0;var Qo=Xe[Kr].split(" ").length-1,iu=Qo>0?(It-oi[Kr])/Qo:0;Kr<ar-1?Zi.push(U(B(iu))):Zi.push(0),A.push([Xe[Kr],Ca,za])}}}(typeof ge.R2L=="boolean"?ge.R2L:Mt)===!0&&(A=gr(A,function(qn,Mn,pr){return[qn.split("").reverse().join(""),Mn,pr]})),Ve={text:A,x:H,y:oe,options:ge,mutex:{pdfEscape:ca,activeFontKey:wt,fonts:Lt,activeFontSize:He}},xn.publish("postProcessText",Ve),A=Ve.text,z=Ve.mutex.isHex||!1;var ou=Lt[wt].encoding;ou!=="WinAnsiEncoding"&&ou!=="StandardEncoding"||(A=gr(A,function(qn,Mn,pr){return[et(qn),Mn,pr]})),Xe=Zt(A),A=[];for(var Jo,Zo,Co,gc=Array.isArray(Xe[0])?1:0,li="",el=function(qn,Mn,pr){var Yr="";return pr instanceof Ct?(pr=typeof ge.angle=="number"?Hi(pr,new Ct(1,0,0,1,qn,Mn)):Hi(new Ct(1,0,0,1,qn,Mn),pr),O===D&&(pr=Hi(new Ct(1,0,0,-1,0,0),pr)),Yr=pr.join(" ")+` Tm
`):Yr=U(qn)+" "+U(Mn)+` Td
`,Yr},ha=0;ha<Xe.length;ha++){switch(li="",gc){case 1:Co=(z?"<":"(")+Xe[ha][0]+(z?">":")"),Jo=parseFloat(Xe[ha][1]),Zo=parseFloat(Xe[ha][2]);break;case 0:Co=(z?"<":"(")+Xe[ha]+(z?">":")"),Jo=ps(H),Zo=ss(oe)}Zi!==void 0&&Zi[ha]!==void 0&&(li=Zi[ha]+` Tw
`),ha===0?A.push(li+el(Jo,Zo,rr)+Co):gc===0?A.push(li+Co):gc===1&&A.push(li+el(Jo,Zo,rr)+Co)}A=gc===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var ji=`BT
/`;return ji+=wt+" "+He+` Tf
`,ji+=U(He*_e)+` TL
`,ji+=si+`
`,ji+=Z,ji+=A,ae(ji+="ET"),v[wt]=!0,y};var cc=b.__private__.clip=b.clip=function(A){return ae(A==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return cc("evenodd")},b.__private__.discardPath=b.discardPath=function(){return ae("n"),this};var $s=b.__private__.isValidStyle=function(A){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(H=!0),H};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(A){return $s(A)&&(f=A),this};var uc=b.__private__.getStyle=b.getStyle=function(A){var H=f;switch(A){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=A}return H},Ki=b.close=function(){return ae("h"),this};b.stroke=function(){return ae("S"),this},b.fill=function(A){return gs("f",A),this},b.fillEvenOdd=function(A){return gs("f*",A),this},b.fillStroke=function(A){return gs("B",A),this},b.fillStrokeEvenOdd=function(A){return gs("B*",A),this};var gs=function(A,H){cr(H)==="object"?hc(H,A):ae(A)},bo=function(A){A===null||O===D&&A===void 0||(A=uc(A),ae(A))};function dc(A,H,oe,ge,we){var Ve=new jf(H||this.boundingBox,oe||this.xStep,ge||this.yStep,this.gState,we||this.matrix);Ve.stream=this.stream;var Xe=A+"$$"+this.cloneIndex+++"$$";return aa(Xe,Ve),Ve}var hc=function(A,H){var oe=zn[A.key],ge=Tt[oe];if(ge instanceof Vd)ae("q"),ae(Nl(H)),ge.gState&&b.setGState(ge.gState),ae(A.matrix.toString()+" cm"),ae("/"+oe+" sh"),ae("Q");else if(ge instanceof jf){var we=new Ct(1,0,0,-1,0,ai());A.matrix&&(we=we.multiply(A.matrix||va),oe=dc.call(ge,A.key,A.boundingBox,A.xStep,A.yStep,we).id),ae("q"),ae("/Pattern cs"),ae("/"+oe+" scn"),ge.gState&&b.setGState(ge.gState),ae(H),ae("Q")}},Nl=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},jl=b.moveTo=function(A,H){return ae(U(B(A))+" "+U(ue(H))+" m"),this},Yi=b.lineTo=function(A,H){return ae(U(B(A))+" "+U(ue(H))+" l"),this},ua=b.curveTo=function(A,H,oe,ge,we,Ve){return ae([U(B(A)),U(ue(H)),U(B(oe)),U(ue(ge)),U(B(we)),U(ue(Ve)),"c"].join(" ")),this};b.__private__.line=b.line=function(A,H,oe,ge,we){if(isNaN(A)||isNaN(H)||isNaN(oe)||isNaN(ge)||!$s(we))throw new Error("Invalid arguments passed to jsPDF.line");return O===L?this.lines([[oe-A,ge-H]],A,H,[1,1],we||"S"):this.lines([[oe-A,ge-H]],A,H,[1,1]).stroke()},b.__private__.lines=b.lines=function(A,H,oe,ge,we,Ve){var Xe,ht,xt,Ut,It,En,mr,rr,y,R,z,Z;if(typeof A=="number"&&(Z=oe,oe=H,H=A,A=Z),ge=ge||[1,1],Ve=Ve||!1,isNaN(H)||isNaN(oe)||!Array.isArray(A)||!Array.isArray(ge)||!$s(we)||typeof Ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(jl(H,oe),Xe=ge[0],ht=ge[1],Ut=A.length,R=H,z=oe,xt=0;xt<Ut;xt++)(It=A[xt]).length===2?(R=It[0]*Xe+R,z=It[1]*ht+z,Yi(R,z)):(En=It[0]*Xe+R,mr=It[1]*ht+z,rr=It[2]*Xe+R,y=It[3]*ht+z,R=It[4]*Xe+R,z=It[5]*ht+z,ua(En,mr,rr,y,R,z));return Ve&&Ki(),bo(we),this},b.path=function(A){for(var H=0;H<A.length;H++){var oe=A[H],ge=oe.c;switch(oe.op){case"m":jl(ge[0],ge[1]);break;case"l":Yi(ge[0],ge[1]);break;case"c":ua.apply(this,ge);break;case"h":Ki()}}return this},b.__private__.rect=b.rect=function(A,H,oe,ge,we){if(isNaN(A)||isNaN(H)||isNaN(oe)||isNaN(ge)||!$s(we))throw new Error("Invalid arguments passed to jsPDF.rect");return O===L&&(ge=-ge),ae([U(B(A)),U(ue(H)),U(B(oe)),U(B(ge)),"re"].join(" ")),bo(we),this},b.__private__.triangle=b.triangle=function(A,H,oe,ge,we,Ve,Xe){if(isNaN(A)||isNaN(H)||isNaN(oe)||isNaN(ge)||isNaN(we)||isNaN(Ve)||!$s(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-A,ge-H],[we-oe,Ve-ge],[A-we,H-Ve]],A,H,[1,1],Xe,!0),this},b.__private__.roundedRect=b.roundedRect=function(A,H,oe,ge,we,Ve,Xe){if(isNaN(A)||isNaN(H)||isNaN(oe)||isNaN(ge)||isNaN(we)||isNaN(Ve)||!$s(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*oe),Ve=Math.min(Ve,.5*ge),this.lines([[oe-2*we,0],[we*ht,0,we,Ve-Ve*ht,we,Ve],[0,ge-2*Ve],[0,Ve*ht,-we*ht,Ve,-we,Ve],[2*we-oe,0],[-we*ht,0,-we,-Ve*ht,-we,-Ve],[0,2*Ve-ge],[0,-Ve*ht,we*ht,-Ve,we,-Ve]],A+we,H,[1,1],Xe,!0),this},b.__private__.ellipse=b.ellipse=function(A,H,oe,ge,we){if(isNaN(A)||isNaN(H)||isNaN(oe)||isNaN(ge)||!$s(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ve=4/3*(Math.SQRT2-1)*oe,Xe=4/3*(Math.SQRT2-1)*ge;return jl(A+oe,H),ua(A+oe,H-Xe,A+Ve,H-ge,A,H-ge),ua(A-Ve,H-ge,A-oe,H-Xe,A-oe,H),ua(A-oe,H+Xe,A-Ve,H+ge,A,H+ge),ua(A+Ve,H+ge,A+oe,H+Xe,A+oe,H),bo(we),this},b.__private__.circle=b.circle=function(A,H,oe,ge){if(isNaN(A)||isNaN(H)||isNaN(oe)||!$s(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,H,oe,oe,ge)},b.setFont=function(A,H,oe){return oe&&(H=G(H,oe)),wt=lc(A,H,{disableWarning:!1}),this};var ri=b.__private__.getFont=b.getFont=function(){return Lt[lc.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var A,H,oe={};for(A in Wt)if(Wt.hasOwnProperty(A))for(H in oe[A]=[],Wt[A])Wt[A].hasOwnProperty(H)&&oe[A].push(H);return oe},b.addFont=function(A,H,oe,ge,we){var Ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ve.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Ve.indexOf(arguments[3])==-1&&(oe=G(oe,ge)),bl.call(this,A,H,oe,we=we||"Identity-H")};var Xi,da=n.lineWidth||.200025,vo=b.__private__.getLineWidth=b.getLineWidth=function(){return da},Ot=b.__private__.setLineWidth=b.setLineWidth=function(A){return da=A,ae(U(B(A))+" w"),this};b.__private__.setLineDash=Rt.API.setLineDash=Rt.API.setLineDashPattern=function(A,H){if(A=A||[],H=H||0,isNaN(H)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(oe){return U(B(oe))}).join(" "),H=U(B(H)),ae("["+A+"] "+H+" d"),this};var Go=b.__private__.getLineHeight=b.getLineHeight=function(){return He*Xi};b.__private__.getLineHeight=b.getLineHeight=function(){return He*Xi};var _l=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Xi=A),this},wo=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Xi};_l(n.lineHeight);var ps=b.__private__.getHorizontalCoordinate=function(A){return B(A)},ss=b.__private__.getVerticalCoordinate=function(A){return O===D?A:jt[Q].mediaBox.topRightY-jt[Q].mediaBox.bottomLeftY-B(A)},Ho=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(A){return U(ps(A))},Wn=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(A){return U(ss(A))},_a=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return sr(_a)},b.__private__.setStrokeColor=b.setDrawColor=function(A,H,oe,ge){return _a=rs({ch1:A,ch2:H,ch3:oe,ch4:ge,pdfColorType:"draw",precision:2}),ae(_a),this};var $o=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return sr($o)},b.__private__.setFillColor=b.setFillColor=function(A,H,oe,ge){return $o=rs({ch1:A,ch2:H,ch3:oe,ch4:ge,pdfColorType:"fill",precision:2}),ae($o),this};var si=n.textColor||"0 g",fc=b.__private__.getTextColor=b.getTextColor=function(){return sr(si)};b.__private__.setTextColor=b.setTextColor=function(A,H,oe,ge){return si=rs({ch1:A,ch2:H,ch3:oe,ch4:ge,pdfColorType:"text",precision:3}),this};var Sa=n.charSpace,Qi=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Sa||0)};b.__private__.setCharSpace=b.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Sa=A,this};var Ea=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(A){var H=b.CapJoinStyles[A];if(H===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ea=H,ae(H+" J"),this};var Wr=0;b.__private__.setLineJoin=b.setLineJoin=function(A){var H=b.CapJoinStyles[A];if(H===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wr=H,ae(H+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(U(B(A))+" M"),this},b.GState=Rx,b.setGState=function(A){(A=typeof A=="string"?zt[qt[A]]:yi(null,A)).equals(Hn)||(ae("/"+A.id+" gs"),Hn=A)};var yi=function(A,H){if(!A||!qt[A]){var oe=!1;for(var ge in zt)if(zt.hasOwnProperty(ge)&&zt[ge].equals(H)){oe=!0;break}if(oe)H=zt[ge];else{var we="GS"+(Object.keys(zt).length+1).toString(10);zt[we]=H,H.id=we}return A&&(qt[A]=H.id),xn.publish("addGState",H),H}};b.addGState=function(A,H){return yi(A,H),this},b.saveGraphicsState=function(){return ae("q"),an.push({key:wt,size:He,color:si}),this},b.restoreGraphicsState=function(){ae("Q");var A=an.pop();return wt=A.key,He=A.size,si=A.color,Hn=null,this},b.setCurrentTransformationMatrix=function(A){return ae(A.toString()+" cm"),this},b.comment=function(A){return ae("#"+A),this};var Is=function(A,H){var oe=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(Ve){isNaN(Ve)||(oe=parseFloat(Ve))}});var ge=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(Ve){isNaN(Ve)||(ge=parseFloat(Ve))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Ve){we=Ve.toString()}}),this},bi=function(A,H,oe,ge){Is.call(this,A,H),this.type="rect";var we=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(Xe){isNaN(Xe)||(we=parseFloat(Xe))}});var Ve=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ve},set:function(Xe){isNaN(Xe)||(Ve=parseFloat(Xe))}}),this},No=function(){this.page=At,this.currentPage=Q,this.pages=Je.slice(0),this.pagesContext=jt.slice(0),this.x=Nt,this.y=Tr,this.matrix=ln,this.width=Ba(Q),this.height=Sl(Q),this.outputDestination=at,this.id="",this.objectNumber=-1};No.prototype.restore=function(){At=this.page,Q=this.currentPage,jt=this.pagesContext,Je=this.pages,Nt=this.x,Tr=this.y,ln=this.matrix,Wo(Q,this.width),Aa(Q,this.height),at=this.outputDestination};var vi=function(A,H,oe,ge,we){ms.push(new No),At=Q=0,Je=[],Nt=A,Tr=H,ln=we,Ua([oe,ge])};for(var wi in b.beginFormObject=function(A,H,oe,ge,we){return vi(A,H,oe,ge,we),this},b.endFormObject=function(A){return(function(H){if(xi[H])ms.pop().restore();else{var oe=new No,ge="Xo"+(Object.keys(As).length+1).toString(10);oe.id=ge,xi[H]=ge,As[ge]=oe,xn.publish("addFormObject",oe),ms.pop().restore()}})(A),this},b.doFormObject=function(A,H){var oe=As[xi[A]];return ae("q"),ae(H.toString()+" cm"),ae("/"+oe.id+" Do"),ae("Q"),this},b.getFormObject=function(A){var H=As[xi[A]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},b.save=function(A,H){return A=A||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(Dd(Rn(Va()),A),typeof Dd.unload=="function"&&nn.setTimeout&&setTimeout(Dd.unload,911),this):new Promise(function(oe,ge){try{var we=Dd(Rn(Va()),A);typeof Dd.unload=="function"&&nn.setTimeout&&setTimeout(Dd.unload,911),oe(we)}catch(Ve){ge(Ve.message)}})},Rt.API)Rt.API.hasOwnProperty(wi)&&(wi==="events"&&Rt.API.events.length?(function(A,H){var oe,ge,we;for(we=H.length-1;we!==-1;we--)oe=H[we][0],ge=H[we][1],A.subscribe.apply(A,[oe].concat(typeof ge=="function"?[ge]:ge))})(xn,Rt.API.events):b[wi]=Rt.API[wi]);function Ba(A){return jt[A].mediaBox.topRightX-jt[A].mediaBox.bottomLeftX}function Wo(A,H){jt[A].mediaBox.topRightX=H+jt[A].mediaBox.bottomLeftX}function Sl(A){return jt[A].mediaBox.topRightY-jt[A].mediaBox.bottomLeftY}function Aa(A,H){jt[A].mediaBox.topRightY=H+jt[A].mediaBox.bottomLeftY}var Ni=b.getPageWidth=function(A){return Ba(A=A||Q)/en},mc=b.setPageWidth=function(A,H){Wo(A,H*en)},ai=b.getPageHeight=function(A){return Sl(A=A||Q)/en},El=b.setPageHeight=function(A,H){Aa(A,H*en)};return b.internal={pdfEscape:ca,getStyle:uc,getFont:ri,getFontSize:lt,getCharSpace:Qi,getTextColor:fc,getLineHeight:Go,getLineHeightFactor:wo,getLineWidth:vo,write:st,getHorizontalCoordinate:ps,getVerticalCoordinate:ss,getCoordinateString:Ho,getVerticalCoordinateString:Wn,collections:{},newObject:nr,newAdditionalObject:Gs,newObjectDeferred:fr,newObjectDeferredBegin:ns,getFilters:oa,putStream:Oa,events:xn,scaleFactor:en,pageSize:{getWidth:function(){return Ni(Q)},setWidth:function(A){mc(Q,A)},getHeight:function(){return ai(Q)},setHeight:function(A){El(Q,A)}},encryptionOptions:g,encryption:Nr,getEncryptor:function(A){return g!==null?Nr.encryptor(A,0):function(H){return H}},output:yo,getNumberOfPages:wl,get pages(){return Je},out:ae,f2:I,f3:P,getPageInfo:Fr,getPageInfoByObjId:qo,getCurrentPageInfo:nu,getPDFVersion:E,Point:Is,Rectangle:bi,Matrix:Ct,hasHotfix:$r},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Ni(Q)},set:function(A){mc(Q,A)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return ai(Q)},set:function(A){El(Q,A)},enumerable:!0,configurable:!0}),(function(A){for(var H=0,oe=Pt.length;H<oe;H++){var ge=bl.call(this,A[H][0],A[H][1],A[H][2],Pt[H][3],!0);x===!1&&(v[ge]=!0);var we=A[H][0].split("-");Ir({id:ge,fontName:we[0],fontStyle:we[1]||""})}xn.publish("addFonts",{fonts:Lt,dictionary:Wt})}).call(b,Pt),wt="F1",ni(a,t),xn.publish("initialized"),b}bf.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},bf.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},bf.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},bf.prototype.processOwnerPassword=function(n,e){return P2(k2(e).substr(0,5),n)},bf.prototype.encryptor=function(n,e){var t=k2(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return P2(t,r)}},Rx.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||cr(n)!==cr(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Rt.API={events:[]},Rt.version="3.0.4";var ds=Rt.API,xw=1,vh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mn=function(n){return n.toFixed(2)},Mu=function(n){return n.toFixed(5)};ds.__acroform__={};var Gi=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},y6=function(n){return n*xw},zl=function(n){var e=new cC,t=bt.internal.getHeight(n)||0,r=bt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(mn(r)),Number(mn(t))],e},eG=ds.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},tG=ds.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},nG=ds.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},vs=ds.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nG(n,e-1)},ws=ds.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return eG(n,e-1)},Ns=ds.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return tG(n,e-1)},rG=ds.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=n[0],o=n[1],c=n[2],u=n[3],h={};return h.lowerLeft_X=t(a)||0,h.lowerLeft_Y=r(o+u)||0,h.upperRight_X=t(a+c)||0,h.upperRight_Y=r(o)||0,[Number(mn(h.lowerLeft_X)),Number(mn(h.lowerLeft_Y)),Number(mn(h.upperRight_X)),Number(mn(h.upperRight_Y))]},sG=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=L2(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+mn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=zl(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},L2=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(I){return I.split(`
`)}):a.map(function(I){return[I]});var o=t,c=bt.internal.getHeight(n)||0;c=c<0?-c:c;var u=bt.internal.getWidth(n)||0;u=u<0?-u:u;var h=function(I,P,B){if(I+1<a.length){var ue=P+" "+a[I+1][0];return j0(ue,n,B).width<=u-4}return!1};o++;e:for(;o>0;){e="",o--;var f,g,x=j0("3",n,o).height,v=n.multiline?c-o:(c-x)/2,b=v+=2,T=0,E=0,j=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+j0(e,n,o=12).width+", FieldWidth:"+u+`
`;break}for(var S="",L=0,D=0;D<a.length;D++)if(a.hasOwnProperty(D)){var O=!1;if(a[D].length!==1&&j!==a[D].length-1){if((x+2)*(L+2)+2>c)continue e;S+=a[D][j],O=!0,E=D,D--}else{S=(S+=a[D][j]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var te=parseInt(D),ee=h(te,S,o),G=D>=a.length-1;if(ee&&!G){S+=" ",j=0;continue}if(ee||G){if(G)E=te;else if(n.multiline&&(x+2)*(L+2)+2>c)continue e}else{if(!n.multiline||(x+2)*(L+2)+2>c)continue e;E=te}}for(var U="",k=T;k<=E;k++){var F=a[k];if(n.multiline){if(k===E){U+=F[j]+" ",j=(j+1)%F.length;continue}if(k===T){U+=F[F.length-1]+" ";continue}}U+=F[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,g=j0(U,n,o).width,n.textAlign){case"right":f=u-g-2;break;case"center":f=(u-g)/2;break;default:f=2}e+=mn(f)+" "+mn(b)+` Td
`,e+="("+vh(U)+`) Tj
`,e+=-mn(f)+` 0 Td
`,b=-(o+2),g=0,T=O?E:E+1,L++,S=""}break}return r.text=e,r.fontSize=o,r},j0=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},aG={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},iG=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},oG=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(xl.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(aG)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");xw=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new uC,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&iG(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,a){var o=!r;for(var c in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var u=r[c],h=[],f=u.Rect;if(u.Rect&&(u.Rect=rG(u.Rect,a)),a.internal.newObjectDeferredBegin(u.objId,!0),u.DA=bt.createDefaultAppearanceStream(u),cr(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var g=sG(u);h.push({key:"AP",value:"<</N "+g+">>"}),a.internal.acroformPlugin.xForms.push(g)}if(u.appearanceStreamContent){var x="";for(var v in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(v)){var b=u.appearanceStreamContent[v];if(x+="/"+v+" ",x+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var c in b)if(b.hasOwnProperty(c)){var T=b[c];typeof T=="function"&&(T=T.call(a,u)),x+="/"+c+" "+T+" ",a.internal.acroformPlugin.xForms.indexOf(T)>=0||a.internal.acroformPlugin.xForms.push(T)}}else typeof(T=b)=="function"&&(T=T.call(a,u)),x+="/"+c+" "+T,a.internal.acroformPlugin.xForms.indexOf(T)>=0||a.internal.acroformPlugin.xForms.push(T);x+=">>"}h.push({key:"AP",value:`<<
`+x+">>"})}a.internal.putStream({additionalKeyValues:h,objectId:u.objId}),a.internal.out("endobj")}o&&(function(E,j){for(var S in E)if(E.hasOwnProperty(S)){var L=S,D=E[S];j.internal.newObjectDeferredBegin(D.objId,!0),cr(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete E[L]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},lC=ds.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(c){return c};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),cr(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+vh(r(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},_1=function(n,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+vh(r(n))+")"},Kl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Kl.prototype.toString=function(){return this.objId+" 0 R"},Kl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Kl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:lC(a,this.objId,this.scope)}):a instanceof Kl?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var cC=function(){Kl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Gi(cC,Kl);var uC=function(){Kl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+vh(t(n))+")"}},set:function(t){n=t}})};Gi(uC,Kl);var xl=function n(){Kl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vs(e,3)},set:function(S){S?this.F=ws(e,3):this.F=Ns(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');t=S}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(S){r=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(S){r[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(S){r[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(S){r[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(S){r[3]=S}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof kx)return;o="FieldObject"+n.FieldNum++}var S=function(L){return L};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+vh(S(o))+")"},set:function(S){o=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(S){o=S}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/xw:f},set:function(S){f=S}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(S){g=S}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof kx||this instanceof Yd))return _1(x,this.objId,this.scope)},set:function(S){S=S.toString(),x=S}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof ba==0?_1(v,this.objId,this.scope):v},set:function(S){S=S.toString(),v=this instanceof ba==0?S.substr(0,1)==="("?hf(S.substr(1,S.length-2)):hf(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ba==1?hf(v.substr(1,v.length-1)):v},set:function(S){S=S.toString(),v=this instanceof ba==1?"/"+S:S}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof ba==0?_1(b,this.objId,this.scope):b},set:function(S){S=S.toString(),b=this instanceof ba==0?S.substr(0,1)==="("?hf(S.substr(1,S.length-2)):hf(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ba==1?hf(b.substr(1,b.length-1)):b},set:function(S){S=S.toString(),b=this instanceof ba==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(S){S=!!S,E=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(S){T=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,1)},set:function(S){S?this.Ff=ws(this.Ff,1):this.Ff=Ns(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,2)},set:function(S){S?this.Ff=ws(this.Ff,2):this.Ff=Ns(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,3)},set:function(S){S?this.Ff=ws(this.Ff,3):this.Ff=Ns(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');j=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(j){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:j=2;break;case"center":case 1:j=1;break;default:j=0}}})};Gi(xl,Kl);var If=function(){xl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return lC(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=(function(o,c,u){u||(u=1);for(var h,f=[];h=c.exec(o);)f.push(h[u]);return f})(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,18)},set:function(t){t?this.Ff=ws(this.Ff,18):this.Ff=Ns(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ws(this.Ff,19):this.Ff=Ns(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,20)},set:function(t){t?(this.Ff=ws(this.Ff,20),e.sort()):this.Ff=Ns(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,22)},set:function(t){t?this.Ff=ws(this.Ff,22):this.Ff=Ns(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,23)},set:function(t){t?this.Ff=ws(this.Ff,23):this.Ff=Ns(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,27)},set:function(t){t?this.Ff=ws(this.Ff,27):this.Ff=Ns(this.Ff,27)}}),this.hasAppearanceStream=!1};Gi(If,xl);var Rf=function(){If.call(this),this.fontName="helvetica",this.combo=!1};Gi(Rf,If);var kf=function(){Rf.call(this),this.combo=!0};Gi(kf,Rf);var H0=function(){kf.call(this),this.edit=!0};Gi(H0,kf);var ba=function(){xl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,15)},set:function(t){t?this.Ff=ws(this.Ff,15):this.Ff=Ns(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,16)},set:function(t){t?this.Ff=ws(this.Ff,16):this.Ff=Ns(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,17)},set:function(t){t?this.Ff=ws(this.Ff,17):this.Ff=Ns(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,26)},set:function(t){t?this.Ff=ws(this.Ff,26):this.Ff=Ns(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+vh(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){cr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Gi(ba,xl);var $0=function(){ba.call(this),this.pushButton=!0};Gi($0,ba);var Pf=function(){ba.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Gi(Pf,ba);var kx=function(){var n,e;xl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(u){return u};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),r)c.push("/"+o+" ("+vh(a(r[o]))+")");return c.push(">>"),c.join(`
`)},set:function(a){cr(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=bt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gi(kx,xl),Pf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Pf.prototype.createOption=function(n){var e=new kx;return e.Parent=this,e.optionName=n,this.Kids.push(e),lG.call(this.scope,e),e};var W0=function(){ba.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=bt.CheckBox.createAppearanceStream()};Gi(W0,ba);var Yd=function(){xl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,13)},set:function(e){e?this.Ff=ws(this.Ff,13):this.Ff=Ns(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,21)},set:function(e){e?this.Ff=ws(this.Ff,21):this.Ff=Ns(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,23)},set:function(e){e?this.Ff=ws(this.Ff,23):this.Ff=Ns(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,24)},set:function(e){e?this.Ff=ws(this.Ff,24):this.Ff=Ns(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,25)},set:function(e){e?this.Ff=ws(this.Ff,25):this.Ff=Ns(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,26)},set:function(e){e?this.Ff=ws(this.Ff,26):this.Ff=Ns(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gi(Yd,xl);var K0=function(){Yd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vs(this.Ff,14)},set:function(n){n?this.Ff=ws(this.Ff,14):this.Ff=Ns(this.Ff,14)}}),this.password=!0};Gi(K0,Yd);var bt={CheckBox:{createAppearanceStream:function(){return{N:{On:bt.CheckBox.YesNormal},D:{On:bt.CheckBox.YesPushDown,Off:bt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=zl(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=L2(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+mn(bt.internal.getWidth(n))+" "+mn(bt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+mn(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=zl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],o=bt.internal.getHeight(n),c=bt.internal.getWidth(n),u=L2(n,n.caption);return a.push("1 g"),a.push("0 0 "+mn(c)+" "+mn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+mn(c-1)+" "+mn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+mn(u.fontSize)+" Tf "+r),a.push(u.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=zl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+mn(bt.internal.getWidth(n))+" "+mn(bt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:bt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=bt.RadioButton.Circle.YesNormal,e.D[n]=bt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=zl(n);e.scope=n.scope;var t=[],r=bt.internal.getWidth(n)<=bt.internal.getHeight(n)?bt.internal.getWidth(n)/4:bt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=bt.internal.Bezier_C,o=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Mu(bt.internal.getWidth(n)/2)+" "+Mu(bt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=zl(n);e.scope=n.scope;var t=[],r=bt.internal.getWidth(n)<=bt.internal.getHeight(n)?bt.internal.getWidth(n)/4:bt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*bt.internal.Bezier_C).toFixed(5)),c=Number((r*bt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Mu(bt.internal.getWidth(n)/2)+" "+Mu(bt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Mu(bt.internal.getWidth(n)/2)+" "+Mu(bt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),t.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),t.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),t.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=zl(n);e.scope=n.scope;var t=[],r=bt.internal.getWidth(n)<=bt.internal.getHeight(n)?bt.internal.getWidth(n)/4:bt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*bt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Mu(bt.internal.getWidth(n)/2)+" "+Mu(bt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:bt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=bt.RadioButton.Cross.YesNormal,e.D[n]=bt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=zl(n);e.scope=n.scope;var t=[],r=bt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+mn(bt.internal.getWidth(n)-2)+" "+mn(bt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(mn(r.x1.x)+" "+mn(r.x1.y)+" m"),t.push(mn(r.x2.x)+" "+mn(r.x2.y)+" l"),t.push(mn(r.x4.x)+" "+mn(r.x4.y)+" m"),t.push(mn(r.x3.x)+" "+mn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=zl(n);e.scope=n.scope;var t=bt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+mn(bt.internal.getWidth(n))+" "+mn(bt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+mn(bt.internal.getWidth(n)-2)+" "+mn(bt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(mn(t.x1.x)+" "+mn(t.x1.y)+" m"),r.push(mn(t.x2.x)+" "+mn(t.x2.y)+" l"),r.push(mn(t.x4.x)+" "+mn(t.x4.y)+" m"),r.push(mn(t.x3.x)+" "+mn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=zl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+mn(bt.internal.getWidth(n))+" "+mn(bt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};bt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=bt.internal.getWidth(n),t=bt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},bt.internal.getWidth=function(n){var e=0;return cr(n)==="object"&&(e=y6(n.Rect[2])),e},bt.internal.getHeight=function(n){var e=0;return cr(n)==="object"&&(e=y6(n.Rect[3])),e};var lG=ds.addField=function(n){if(oG(this,n),!(n instanceof xl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ds.AcroFormChoiceField=If,ds.AcroFormListBox=Rf,ds.AcroFormComboBox=kf,ds.AcroFormEditBox=H0,ds.AcroFormButton=ba,ds.AcroFormPushButton=$0,ds.AcroFormRadioButton=Pf,ds.AcroFormCheckBox=W0,ds.AcroFormTextField=Yd,ds.AcroFormPasswordField=K0,ds.AcroFormAppearance=bt,ds.AcroForm={ChoiceField:If,ListBox:Rf,ComboBox:kf,EditBox:H0,Button:ba,PushButton:$0,RadioButton:Pf,CheckBox:W0,TextField:Yd,PasswordField:K0,Appearance:bt},Rt.AcroForm={ChoiceField:If,ListBox:Rf,ComboBox:kf,EditBox:H0,Button:ba,PushButton:$0,RadioButton:Pf,CheckBox:W0,TextField:Yd,PasswordField:K0,Appearance:bt};Rt.AcroForm;function dC(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(I,P){var B,ue,Ne,ce,pe,de=t;if((P=P||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(ee(I))for(pe in r)for(Ne=r[pe],B=0;B<Ne.length;B+=1){for(ce=!0,ue=0;ue<Ne[B].length;ue+=1)if(Ne[B][ue]!==void 0&&Ne[B][ue]!==I[ue]){ce=!1;break}if(ce===!0){de=pe;break}}else for(pe in r)for(Ne=r[pe],B=0;B<Ne.length;B+=1){for(ce=!0,ue=0;ue<Ne[B].length;ue+=1)if(Ne[B][ue]!==void 0&&Ne[B][ue]!==I.charCodeAt(ue)){ce=!1;break}if(ce===!0){de=pe;break}}return de===t&&P!==t&&(de=P),de},o=function I(P){for(var B=this.internal.write,ue=this.internal.putStream,Ne=(0,this.internal.getFilters)();Ne.indexOf("FlateEncode")!==-1;)Ne.splice(Ne.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var ce=[];if(ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Image"}),ce.push({key:"Width",value:P.width}),ce.push({key:"Height",value:P.height}),P.colorSpace===S.INDEXED?ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(ce.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===S.DEVICE_CMYK&&ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ce.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&ce.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var pe="",de=0,Se=P.transparency.length;de<Se;de++)pe+=P.transparency[de]+" "+P.transparency[de]+" ";ce.push({key:"Mask",value:"["+pe+"]"})}P.sMask!==void 0&&ce.push({key:"SMask",value:P.objectId+1+" 0 R"});var ze=P.filter!==void 0?["/"+P.filter]:void 0;if(ue({data:P.data,additionalKeyValues:ce,alreadyAppliedFilters:ze,objectId:P.objectId}),B("endobj"),"sMask"in P&&P.sMask!==void 0){var re,q=(re=P.sMaskBitsPerComponent)!==null&&re!==void 0?re:P.bitsPerComponent,Q={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:q,data:P.sMask};"filter"in P&&(Q.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(q," /Columns ").concat(P.width),Q.filter=P.filter),I.call(this,Q)}if(P.colorSpace===S.INDEXED){var se=this.internal.newObject();ue({data:U(new Uint8Array(P.palette)),objectId:se}),B("endobj")}},c=function(){var I=this.internal.collections[e+"images"];for(var P in I)o.call(this,I[P])},u=function(){var I,P=this.internal.collections[e+"images"],B=this.internal.write;for(var ue in P)B("/I"+(I=P[ue]).index,I.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",u))},f=function(){var I=this.internal.collections[e+"images"];return h.call(this),I},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},x=function(I){return typeof n["process"+I.toUpperCase()]=="function"},v=function(I){return cr(I)==="object"&&I.nodeType===1},b=function(I,P){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var B=""+I.getAttribute("src");if(B.indexOf("data:image/")===0)return G0(unescape(B).split("base64,").pop());var ue=n.loadFile(B,!0);if(ue!==void 0)return ue}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var Ne;switch(P){case"PNG":Ne="image/png";break;case"WEBP":Ne="image/webp";break;default:Ne="image/jpeg"}return G0(I.toDataURL(Ne,1).split("base64,").pop())}},T=function(I){var P=this.internal.collections[e+"images"];if(P){for(var B in P)if(I===P[B].alias)return P[B]}},E=function(I,P,B){return I||P||(I=-96,P=-96),I<0&&(I=-1*B.width*72/I/this.internal.scaleFactor),P<0&&(P=-1*B.height*72/P/this.internal.scaleFactor),I===0&&(I=P*B.width/B.height),P===0&&(P=I*B.height/B.width),[I,P]},j=function(I,P,B,ue,Ne,ce){var pe=E.call(this,B,ue,Ne),de=this.internal.getCoordinateString,Se=this.internal.getVerticalCoordinateString,ze=f.call(this);if(B=pe[0],ue=pe[1],ze[Ne.index]=Ne,ce){ce*=Math.PI/180;var re=Math.cos(ce),q=Math.sin(ce),Q=function(he){return he.toFixed(4)},se=[Q(re),Q(q),Q(-1*q),Q(re),0,0,"cm"]}this.internal.write("q"),ce?(this.internal.write([1,"0","0",1,de(I),Se(P+ue),"cm"].join(" ")),this.internal.write(se.join(" ")),this.internal.write([de(B),"0","0",de(ue),"0","0","cm"].join(" "))):this.internal.write([de(B),"0","0",de(ue),de(I),Se(P+ue),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ne.index+" Do"),this.internal.write("Q")},S=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=n.__addimage__.sHashCode=function(I){var P,B,ue=0;if(typeof I=="string")for(B=I.length,P=0;P<B;P++)ue=(ue<<5)-ue+I.charCodeAt(P),ue|=0;else if(ee(I))for(B=I.byteLength/2,P=0;P<B;P++)ue=(ue<<5)-ue+I[P],ue|=0;return ue},O=n.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var P=!0;return I.length===0&&(P=!1),I.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(P=!1),P},te=n.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var P=I.indexOf(",");return P<0?null:I.substring(0,P).trim().endsWith("base64")?I.substring(P+1):null};n.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var ee=n.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},G=n.__addimage__.binaryStringToUint8Array=function(I){for(var P=I.length,B=new Uint8Array(P),ue=0;ue<P;ue++)B[ue]=I.charCodeAt(ue);return B},U=n.__addimage__.arrayBufferToBinaryString=function(I){for(var P="",B=ee(I)?I:new Uint8Array(I),ue=0;ue<B.length;ue+=8192)P+=String.fromCharCode.apply(null,B.subarray(ue,ue+8192));return P};n.addImage=function(){var I,P,B,ue,Ne,ce,pe,de,Se;if(typeof arguments[1]=="number"?(P=t,B=arguments[1],ue=arguments[2],Ne=arguments[3],ce=arguments[4],pe=arguments[5],de=arguments[6],Se=arguments[7]):(P=arguments[1],B=arguments[2],ue=arguments[3],Ne=arguments[4],ce=arguments[5],pe=arguments[6],de=arguments[7],Se=arguments[8]),cr(I=arguments[0])==="object"&&!v(I)&&"imageData"in I){var ze=I;I=ze.imageData,P=ze.format||P||t,B=ze.x||B||0,ue=ze.y||ue||0,Ne=ze.w||ze.width||Ne,ce=ze.h||ze.height||ce,pe=ze.alias||pe,de=ze.compression||de,Se=ze.rotation||ze.angle||Se}var re=this.internal.getFilters();if(de===void 0&&re.indexOf("FlateEncode")!==-1&&(de="SLOW"),isNaN(B)||isNaN(ue))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var q=k.call(this,I,P,pe,de);return j.call(this,B,ue,Ne,ce,q,Se),this};var k=function(I,P,B,ue){var Ne,ce,pe;if(typeof I=="string"&&a(I)===t){I=unescape(I);var de=F(I,!1);(de!==""||(de=n.loadFile(I,!0))!==void 0)&&(I=de)}if(v(I)&&(I=b(I,P)),P=a(I,P),!x(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((pe=B)==null||pe.length===0)&&(B=(function(Se){return typeof Se=="string"||ee(Se)?D(Se):ee(Se.data)?D(Se.data):null})(I)),(Ne=T.call(this,B))||(I instanceof Uint8Array||P==="RGBA"||(ce=I,I=G(I)),Ne=this["process"+P.toUpperCase()](I,g.call(this),B,(function(Se){return Se&&typeof Se=="string"&&(Se=Se.toUpperCase()),Se in n.image_compression?Se:L.NONE})(ue),ce)),!Ne)throw new Error("An unknown error occurred whilst processing the image.");return Ne},F=n.__addimage__.convertBase64ToBinaryString=function(I,P){P=typeof P!="boolean"||P;var B,ue="";if(typeof I=="string"){var Ne;B=(Ne=te(I))!==null&&Ne!==void 0?Ne:I;try{ue=G0(B)}catch(ce){if(P)throw O(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ue};n.getImageProperties=function(I){var P,B,ue="";if(v(I)&&(I=b(I)),typeof I=="string"&&a(I)===t&&((ue=F(I,!1))===""&&(ue=n.loadFile(I)||""),I=ue),B=a(I),!x(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(I instanceof Uint8Array||(I=G(I)),!(P=this["process"+B.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=B,P}})(Rt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Rt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,a,o,c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,g=!1,x=0;x<f.length&&!g;x++)switch((r=f[x]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var v=0;v<f.length;v++){r=f[v];var b=this.internal.pdfEscape,T=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(E.objId),L=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+b(S(r.contents))+")",o+=" /Popup "+j.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+b(S(L))+") >>",E.content=o;var D=E.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+D,r.open&&(o+=" /Open true"),o+=" >>",j.content=o,this.internal.write(E.objId,"0 R",j.objId,"0 R");break;case"freetext":a="/Rect ["+c(r.bounds.x)+" "+u(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var O=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+b(T(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var te=this.annotations._nameMap[r.options.name];r.options.pageNumber=te.page,r.options.top=te.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+b(T(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var ee=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+ee+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,a,o,c){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(t),y:f(r),w:h(t+a),h:f(r+o)},options:c,type:"link"})},n.textWithLink=function(t,r,a,o){var c,u,h=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){u=o.maxWidth;var g=this.splitTextToSize(t,u).length;c=Math.ceil(f*g)}else u=h,c=f;return this.text(t,r,a,o),a+=.2*f,o.align==="center"&&(r-=h/2),o.align==="right"&&(r-=h),this.link(r,a-f,u,c,o),h},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Rt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},u=n.__arabicParser__.isArabicEndLetter=function(E){return c(E)&&o(E)&&e[E.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(E){return c(E)&&a.indexOf(E.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return c(E)&&o(E)&&e[E.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(E){return c(E)&&o(E)&&e[E.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(E){return c(E)&&o(E)&&e[E.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(E){return c(E)&&o(E)&&e[E.charCodeAt(0)].length==4},x=n.__arabicParser__.resolveLigatures=function(E){var j=0,S=t,L="",D=0;for(j=0;j<E.length;j+=1)S[E.charCodeAt(j)]!==void 0?(D++,typeof(S=S[E.charCodeAt(j)])=="number"&&(L+=String.fromCharCode(S),S=t,D=0),j===E.length-1&&(S=t,L+=E.charAt(j-(D-1)),j-=D-1,D=0)):(S=t,L+=E.charAt(j-D),j-=D,D=0);return L};n.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&r[E.charCodeAt(0)]!==void 0};var v=n.__arabicParser__.getCorrectForm=function(E,j,S){return c(E)?o(E)===!1?-1:!f(E)||!c(j)&&!c(S)||!c(S)&&u(j)||u(E)&&!c(j)||u(E)&&h(j)||u(E)&&u(j)?0:g(E)&&c(j)&&!u(j)&&c(S)&&f(S)?3:u(E)||!c(S)?1:2:-1},b=function(E){var j=0,S=0,L=0,D="",O="",te="",ee=(E=E||"").split("\\s+"),G=[];for(j=0;j<ee.length;j+=1){for(G.push(""),S=0;S<ee[j].length;S+=1)D=ee[j][S],O=ee[j][S-1],te=ee[j][S+1],c(D)?(L=v(D,O,te),G[j]+=L!==-1?String.fromCharCode(e[D.charCodeAt(0)][L]):D):G[j]+=D;G[j]=x(G[j])}return G.join(" ")},T=n.__arabicParser__.processArabic=n.processArabic=function(){var E,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(j)){var L=0;for(S=[],L=0;L<j.length;L+=1)Array.isArray(j[L])?S.push([b(j[L][0]),j[L][1],j[L][2]]):S.push([b(j[L])]);E=S}else E=b(j);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};n.events.push(["preProcessText",T])})(Rt.API),Rt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(u){c=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Rt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(E){f=E}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(E){x=E}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(E){v=E}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(E){b=E}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(E){T=E}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return r.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},n.getTextDimensions=function(h,f){r.call(this);var g=(f=f||{}).fontSize||this.getFontSize(),x=f.font||this.getFont(),v=f.scaleFactor||this.internal.scaleFactor,b=0,T=0,E=0,j=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var S=f.maxWidth;S>0?typeof h=="string"?h=this.splitTextToSize(h,S):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(D,O){return D.concat(j.splitTextToSize(O,S))},[])):h=Array.isArray(h)?h:[h];for(var L=0;L<h.length;L++)b<(E=this.getStringUnitWidth(h[L],{font:x})*g)&&(b=E);return b!==0&&(T=h.length),{w:b/=v,h:Math.max((T*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/v,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var f=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=x.top,b&&v&&(this.printHeaderRow(h.lineNumber,!0),h.y+=v[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-g,h.y+g,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+g,{align:"center",baseline:"top",maxWidth:h.width-g-g}):this.text(h.text,h.x+g,h.y+g,{align:"left",baseline:"top",maxWidth:h.width-g-g})),this.internal.__cell__.lastCell=h,this};n.table=function(h,f,g,x,v){if(r.call(this),!g)throw new Error("No data for PDF table.");var b,T,E,j,S=[],L=[],D=[],O={},te={},ee=[],G=[],U=(v=v||{}).autoSize||!1,k=v.printHeaders!==!1,F=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,I=v.margins||Object.assign({width:this.getPageWidth()},e),P=typeof v.padding=="number"?v.padding:3,B=v.headerBackgroundColor||"#c8c8c8",ue=v.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=ue,this.setFontSize(F),x==null)L=S=Object.keys(g[0]),D=S.map(function(){return"left"});else if(Array.isArray(x)&&cr(x[0])==="object")for(S=x.map(function(ze){return ze.name}),L=x.map(function(ze){return ze.prompt||ze.name||""}),D=x.map(function(ze){return ze.align||"left"}),b=0;b<x.length;b+=1)te[x[b].name]=.7499990551181103*x[b].width;else Array.isArray(x)&&typeof x[0]=="string"&&(L=S=x,D=S.map(function(){return"left"}));if(U||Array.isArray(x)&&typeof x[0]=="string")for(b=0;b<S.length;b+=1){for(O[j=S[b]]=g.map(function(ze){return ze[j]}),this.setFont(void 0,"bold"),ee.push(this.getTextDimensions(L[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=O[j],this.setFont(void 0,"normal"),E=0;E<T.length;E+=1)ee.push(this.getTextDimensions(T[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);te[j]=Math.max.apply(null,ee)+P+P,ee=[]}if(k){var Ne={};for(b=0;b<S.length;b+=1)Ne[S[b]]={},Ne[S[b]].text=L[b],Ne[S[b]].align=D[b];var ce=u.call(this,Ne,te);G=S.map(function(ze){return new o(h,f,te[ze],ce,Ne[ze].text,void 0,Ne[ze].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var pe=x.reduce(function(ze,re){return ze[re.name]=re.align,ze},{});for(b=0;b<g.length;b+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:b,data:g[b]},this);var de=u.call(this,g[b],te);for(E=0;E<S.length;E+=1){var Se=g[b][S[E]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:b,col:E,data:Se},this),c.call(this,new o(h,f,te[S[E]],de,Se,b+2,pe[S[E]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var u=function(h,f){var g=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(h).map(function(b){var T=h[b];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,f[b]-g-g)},this).map(function(b){return this.getLineHeightFactor()*b.length*x/v+g+g},this).reduce(function(b,T){return Math.max(b,T)},0)};n.setTableHeaderRow=function(h){r.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){g=this.internal.__cell__.tableHeaderRow[b].clone(),f&&(g.y=this.internal.__cell__.margins.top||0,v.push(g)),g.lineNumber=h;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,g),this.setTextColor(T)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),t=!1}})(Rt.API);var hC={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},fC=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],D2=dC(fC),mC=[100,200,300,400,500,600,700,800,900],cG=dC(mC);function S1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return hC[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof D2[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,r].join(" ")}}}function b6(n,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(n[e[a]])return n[e[a]]}var uG={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},v6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function w6(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function N6(n){return n.trimLeft()}function dG(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function hG(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var _0,j6,_6,ff,S0,S6,E6,A6,E1=["times"];function T6(n,e,t,r,a){var o=4,c=I6;switch(a){case Rt.API.image_compression.FAST:o=1,c=C6;break;case Rt.API.image_compression.MEDIUM:o=6,c=R6;break;case Rt.API.image_compression.SLOW:o=9,c=k6}n=(function(h,f,g,x){for(var v,b=h.length/f,T=new Uint8Array(h.length+b),E=[fG,C6,I6,R6,k6],j=0;j<b;j+=1){var S=j*f,L=h.subarray(S,S+f);if(x)T.set(x(L,g,v),S+j);else{for(var D=E.length,O=[],te=0;te<D;te+=1)O[te]=E[te](L,g,v);var ee=gG(O.concat());T.set(O[ee],S+j)}v=L}return T})(n,e,Math.ceil(t*r/8),c);var u=T2(n,{level:o});return Rt.API.__addimage__.arrayBufferToBinaryString(u)}function fG(n){var e=Array.apply([],n);return e.unshift(0),e}function C6(n,e){var t=n.length,r=[];r[0]=1;for(var a=0;a<t;a+=1){var o=n[a-e]||0;r[a+1]=n[a]-o+256&255}return r}function I6(n,e,t){var r=n.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var c=t&&t[o]||0;a[o+1]=n[o]-c+256&255}return a}function R6(n,e,t){var r=n.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var c=n[o-e]||0,u=t&&t[o]||0;a[o+1]=n[o]+256-(c+u>>>1)&255}return a}function k6(n,e,t){var r=n.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var c=mG(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=n[o]-c+256&255}return a}function mG(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),a=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=a&&r<=o?n:a<=o?e:t}function gG(n){var e=n.map(function(t){return t.reduce(function(r,a){return r+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function A1(n,e,t){var r=e*t,a=Math.floor(r/8),o=16-(r-8*a+t),c=(1<<t)-1;return gC(n,a)>>o&c}function P6(n,e,t,r){var a=t*r,o=Math.floor(a/8),c=16-(a-8*o+r),u=(1<<r)-1,h=(e&u)<<c;(function(f,g,x){if(g+1<f.byteLength)f.setUint16(g,x,!1);else{var v=x>>8&255;f.setUint8(g,v)}})(n,o,gC(n,o)&~(u<<c)&65535|h)}function gC(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function pG(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,c=1<<1+(7&a);n[e++],n[e++];var u=null,h=null;o&&(u=e,h=c,e+=3*c);var f=!0,g=[],x=0,v=null,b=0,T=null;for(this.width=t,this.height=r;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,T=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=n[e++];x=n[e++]|n[e++]<<8,v=n[e++],1&E||(v=null),b=E>>2&7,e++;break;case 254:for(;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var j=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,L=n[e++]|n[e++]<<8,D=n[e++]|n[e++]<<8,O=n[e++],te=O>>6&1,ee=1<<1+(7&O),G=u,U=h,k=!1;O>>7&&(k=!0,G=e,U=ee,e+=3*ee);var F=e;for(e++;;){var I;if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}g.push({x:j,y:S,width:L,height:D,has_local_palette:k,palette_offset:G,palette_size:U,data_offset:F,data_length:e-F,transparent_index:v,interlaced:!!te,delay:x,disposal:b});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return T},this.frameInfo=function(P){if(P<0||P>=g.length)throw new Error("Frame index out of range.");return g[P]},this.decodeAndBlitFrameBGRA=function(P,B){var ue=this.frameInfo(P),Ne=ue.width*ue.height,ce=new Uint8Array(Ne);L6(n,ue.data_offset,ce,Ne);var pe=ue.palette_offset,de=ue.transparent_index;de===null&&(de=256);var Se=ue.width,ze=t-Se,re=Se,q=4*(ue.y*t+ue.x),Q=4*((ue.y+ue.height)*t+ue.x),se=q,he=4*ze;ue.interlaced===!0&&(he+=4*t*7);for(var me=8,be=0,Le=ce.length;be<Le;++be){var ke=ce[be];if(re===0&&(re=Se,(se+=he)>=Q&&(he=4*ze+4*t*(me-1),se=q+(Se+ze)*(me<<1),me>>=1)),ke===de)se+=4;else{var qe=n[pe+3*ke],Je=n[pe+3*ke+1],it=n[pe+3*ke+2];B[se++]=it,B[se++]=Je,B[se++]=qe,B[se++]=255}--re}},this.decodeAndBlitFrameRGBA=function(P,B){var ue=this.frameInfo(P),Ne=ue.width*ue.height,ce=new Uint8Array(Ne);L6(n,ue.data_offset,ce,Ne);var pe=ue.palette_offset,de=ue.transparent_index;de===null&&(de=256);var Se=ue.width,ze=t-Se,re=Se,q=4*(ue.y*t+ue.x),Q=4*((ue.y+ue.height)*t+ue.x),se=q,he=4*ze;ue.interlaced===!0&&(he+=4*t*7);for(var me=8,be=0,Le=ce.length;be<Le;++be){var ke=ce[be];if(re===0&&(re=Se,(se+=he)>=Q&&(he=4*ze+4*t*(me-1),se=q+(Se+ze)*(me<<1),me>>=1)),ke===de)se+=4;else{var qe=n[pe+3*ke],Je=n[pe+3*ke+1],it=n[pe+3*ke+2];B[se++]=qe,B[se++]=Je,B[se++]=it,B[se++]=255}--re}}}function L6(n,e,t,r){for(var a=n[e++],o=1<<a,c=o+1,u=c+1,h=a+1,f=(1<<h)-1,g=0,x=0,v=0,b=n[e++],T=new Int32Array(4096),E=null;;){for(;g<16&&b!==0;)x|=n[e++]<<g,g+=8,b===1?b=n[e++]:--b;if(g<h)break;var j=x&f;if(x>>=h,g-=h,j!==o){if(j===c)break;for(var S=j<u?j:E,L=0,D=S;D>o;)D=T[D]>>8,++L;var O=D;if(v+L+(S!==j?1:0)>r)return void Er.log("Warning, gif stream longer than expected.");t[v++]=O;var te=v+=L;for(S!==j&&(t[v++]=O),D=S;L--;)D=T[D],t[--te]=255&D,D>>=8;E!==null&&u<4096&&(T[u++]=E<<8|O,u>=f+1&&h<12&&(++h,f=f<<1|1)),E=j}else u=c+1,f=(1<<(h=a+1))-1,E=null}return v!==r&&Er.log("Warning, gif stream shorter than expected."),t}function T1(n){var e,t,r,a,o,c=Math.floor,u=new Array(64),h=new Array(64),f=new Array(64),g=new Array(64),x=new Array(65535),v=new Array(65535),b=new Array(64),T=new Array(64),E=[],j=0,S=7,L=new Array(64),D=new Array(64),O=new Array(64),te=new Array(256),ee=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],ue=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ce(q,Q){for(var se=0,he=0,me=new Array,be=1;be<=16;be++){for(var Le=1;Le<=q[be];Le++)me[Q[he]]=[],me[Q[he]][0]=se,me[Q[he]][1]=be,he++,se++;se*=2}return me}function pe(q){for(var Q=q[0],se=q[1]-1;se>=0;)Q&1<<se&&(j|=1<<S),se--,--S<0&&(j==255?(de(255),de(0)):de(j),S=7,j=0)}function de(q){E.push(q)}function Se(q){de(q>>8&255),de(255&q)}function ze(q,Q,se,he,me){for(var be,Le=me[0],ke=me[240],qe=(function(He,ct){var lt,Mt,Et,sn,dn,Qt,pn,on,wt,en,Nt=0;for(wt=0;wt<8;++wt){lt=He[Nt],Mt=He[Nt+1],Et=He[Nt+2],sn=He[Nt+3],dn=He[Nt+4],Qt=He[Nt+5],pn=He[Nt+6];var Tr=lt+(on=He[Nt+7]),ln=lt-on,Lt=Mt+pn,Wt=Mt-pn,an=Et+Qt,Tt=Et-Qt,zn=sn+dn,zt=sn-dn,qt=Tr+zn,Hn=Tr-zn,At=Lt+an,jt=Lt-an;He[Nt]=qt+At,He[Nt+4]=qt-At;var xn=.707106781*(jt+Hn);He[Nt+2]=Hn+xn,He[Nt+6]=Hn-xn;var qs=.382683433*((qt=zt+Tt)-(jt=Wt+ln)),As=.5411961*qt+qs,xi=1.306562965*jt+qs,ms=.707106781*(At=Tt+Wt),Ct=ln+ms,Hi=ln-ms;He[Nt+5]=Hi+As,He[Nt+3]=Hi-As,He[Nt+1]=Ct+xi,He[Nt+7]=Ct-xi,Nt+=8}for(Nt=0,wt=0;wt<8;++wt){lt=He[Nt],Mt=He[Nt+8],Et=He[Nt+16],sn=He[Nt+24],dn=He[Nt+32],Qt=He[Nt+40],pn=He[Nt+48];var va=lt+(on=He[Nt+56]),aa=lt-on,ia=Mt+pn,nr=Mt-pn,fr=Et+Qt,ns=Et-Qt,Gs=sn+dn,Ts=sn-dn,$n=va+Gs,sr=va-Gs,rs=ia+fr,oa=ia-fr;He[Nt]=$n+rs,He[Nt+32]=$n-rs;var Oa=.707106781*(oa+sr);He[Nt+16]=sr+Oa,He[Nt+48]=sr-Oa;var xo=.382683433*(($n=Ts+ns)-(oa=nr+aa)),ti=.5411961*$n+xo,la=1.306562965*oa+xo,$i=.707106781*(rs=ns+nr),wa=aa+$i,Hs=aa-$i;He[Nt+40]=Hs+ti,He[Nt+24]=Hs-ti,He[Nt+8]=wa+la,He[Nt+56]=wa-la,Nt++}for(wt=0;wt<64;++wt)en=He[wt]*ct[wt],b[wt]=en>0?en+.5|0:en-.5|0;return b})(q,Q),Je=0;Je<64;++Je)T[G[Je]]=qe[Je];var it=T[0]-se;se=T[0],it==0?pe(he[0]):(pe(he[v[be=32767+it]]),pe(x[be]));for(var at=63;at>0&&T[at]==0;)at--;if(at==0)return pe(Le),se;for(var ft,ae=1;ae<=at;){for(var st=ae;T[ae]==0&&ae<=at;)++ae;var rn=ae-st;if(rn>=16){ft=rn>>4;for(var Pt=1;Pt<=ft;++Pt)pe(ke);rn&=15}be=32767+T[ae],pe(me[(rn<<4)+v[be]]),pe(x[be]),ae++}return at!=63&&pe(Le),se}function re(q){q=Math.min(Math.max(q,1),100),o!=q&&((function(Q){for(var se=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],he=0;he<64;he++){var me=c((se[he]*Q+50)/100);me=Math.min(Math.max(me,1),255),u[G[he]]=me}for(var be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Le=0;Le<64;Le++){var ke=c((be[Le]*Q+50)/100);ke=Math.min(Math.max(ke,1),255),h[G[Le]]=ke}for(var qe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Je=0,it=0;it<8;it++)for(var at=0;at<8;at++)f[Je]=1/(u[G[Je]]*qe[it]*qe[at]*8),g[Je]=1/(h[G[Je]]*qe[it]*qe[at]*8),Je++})(q<50?Math.floor(5e3/q):Math.floor(200-2*q)),o=q)}this.encode=function(q,Q){Q&&re(Q),E=new Array,j=0,S=7,Se(65496),Se(65504),Se(16),de(74),de(70),de(73),de(70),de(0),de(1),de(1),de(0),Se(1),Se(1),de(0),de(0),(function(){Se(65499),Se(132),de(0);for(var Mt=0;Mt<64;Mt++)de(u[Mt]);de(1);for(var Et=0;Et<64;Et++)de(h[Et])})(),(function(Mt,Et){Se(65472),Se(17),de(8),Se(Et),Se(Mt),de(3),de(1),de(17),de(0),de(2),de(17),de(1),de(3),de(17),de(1)})(q.width,q.height),(function(){Se(65476),Se(418),de(0);for(var Mt=0;Mt<16;Mt++)de(U[Mt+1]);for(var Et=0;Et<=11;Et++)de(k[Et]);de(16);for(var sn=0;sn<16;sn++)de(F[sn+1]);for(var dn=0;dn<=161;dn++)de(I[dn]);de(1);for(var Qt=0;Qt<16;Qt++)de(P[Qt+1]);for(var pn=0;pn<=11;pn++)de(B[pn]);de(17);for(var on=0;on<16;on++)de(ue[on+1]);for(var wt=0;wt<=161;wt++)de(Ne[wt])})(),Se(65498),Se(12),de(3),de(1),de(0),de(2),de(17),de(3),de(17),de(0),de(63),de(0);var se=0,he=0,me=0;j=0,S=7,this.encode.displayName="_encode_";for(var be,Le,ke,qe,Je,it,at,ft,ae,st=q.data,rn=q.width,Pt=q.height,He=4*rn,ct=0;ct<Pt;){for(be=0;be<He;){for(Je=He*ct+be,at=-1,ft=0,ae=0;ae<64;ae++)it=Je+(ft=ae>>3)*He+(at=4*(7&ae)),ct+ft>=Pt&&(it-=He*(ct+1+ft-Pt)),be+at>=He&&(it-=be+at-He+4),Le=st[it++],ke=st[it++],qe=st[it++],L[ae]=(ee[Le]+ee[ke+256|0]+ee[qe+512|0]>>16)-128,D[ae]=(ee[Le+768|0]+ee[ke+1024|0]+ee[qe+1280|0]>>16)-128,O[ae]=(ee[Le+1280|0]+ee[ke+1536|0]+ee[qe+1792|0]>>16)-128;se=ze(L,f,se,e,r),he=ze(D,g,he,t,a),me=ze(O,g,me,t,a),be+=32}ct+=8}if(S>=0){var lt=[];lt[1]=S+1,lt[0]=(1<<S+1)-1,pe(lt)}return Se(65497),new Uint8Array(E)},n=n||50,(function(){for(var q=String.fromCharCode,Q=0;Q<256;Q++)te[Q]=q(Q)})(),e=ce(U,k),t=ce(P,B),r=ce(F,I),a=ce(ue,Ne),(function(){for(var q=1,Q=2,se=1;se<=15;se++){for(var he=q;he<Q;he++)v[32767+he]=se,x[32767+he]=[],x[32767+he][1]=se,x[32767+he][0]=he;for(var me=-(Q-1);me<=-q;me++)v[32767+me]=se,x[32767+me]=[],x[32767+me][1]=se,x[32767+me][0]=Q-1+me;q<<=1,Q<<=1}})(),(function(){for(var q=0;q<256;q++)ee[q]=19595*q,ee[q+256|0]=38470*q,ee[q+512|0]=7471*q+32768,ee[q+768|0]=-11059*q,ee[q+1024|0]=-21709*q,ee[q+1280|0]=32768*q+8421375,ee[q+1536|0]=-27439*q,ee[q+1792|0]=-5329*q})(),re(n)}function cl(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function D6(n){function e(k){if(!k)throw Error("assert :P")}function t(k,F,I){for(var P=0;4>P;P++)if(k[F+P]!=I.charCodeAt(P))return!0;return!1}function r(k,F,I,P,B){for(var ue=0;ue<B;ue++)k[F+ue]=I[P+ue]}function a(k,F,I,P){for(var B=0;B<P;B++)k[F+B]=I}function o(k){return new Int32Array(k)}function c(k,F){for(var I=[],P=0;P<k;P++)I.push(new F);return I}function u(k,F){var I=[];return(function P(B,ue,Ne){for(var ce=Ne[ue],pe=0;pe<ce&&(B.push(Ne.length>ue+1?[]:new F),!(Ne.length<ue+1));pe++)P(B[pe],ue+1,Ne)})(I,0,k),I}var h=function(){var k=this;function F(p,N){for(var C=1<<N-1>>>0;p&C;)C>>>=1;return C?(p&C-1)+C:p}function I(p,N,C,M,$){e(!(M%C));do p[N+(M-=C)]=$;while(0<M)}function P(p,N,C,M,$){if(e(2328>=$),512>=$)var K=o(512);else if((K=o($))==null)return 0;return(function(Y,J,ne,le,xe,Ce){var ie,ve,Ee=J,Fe=1<<ne,Ae=o(16),Oe=o(16);for(e(xe!=0),e(le!=null),e(Y!=null),e(0<ne),ve=0;ve<xe;++ve){if(15<le[ve])return 0;++Ae[le[ve]]}if(Ae[0]==xe)return 0;for(Oe[1]=0,ie=1;15>ie;++ie){if(Ae[ie]>1<<ie)return 0;Oe[ie+1]=Oe[ie]+Ae[ie]}for(ve=0;ve<xe;++ve)ie=le[ve],0<le[ve]&&(Ce[Oe[ie]++]=ve);if(Oe[15]==1)return(le=new B).g=0,le.value=Ce[0],I(Y,Ee,1,Fe,le),Fe;var Ge,Qe=-1,Ke=Fe-1,yt=0,ut=1,tn=1,mt=1<<ne;for(ve=0,ie=1,xe=2;ie<=ne;++ie,xe<<=1){if(ut+=tn<<=1,0>(tn-=Ae[ie]))return 0;for(;0<Ae[ie];--Ae[ie])(le=new B).g=ie,le.value=Ce[ve++],I(Y,Ee+yt,xe,mt,le),yt=F(yt,ie)}for(ie=ne+1,xe=2;15>=ie;++ie,xe<<=1){if(ut+=tn<<=1,0>(tn-=Ae[ie]))return 0;for(;0<Ae[ie];--Ae[ie]){if(le=new B,(yt&Ke)!=Qe){for(Ee+=mt,Ge=1<<(Qe=ie)-ne;15>Qe&&!(0>=(Ge-=Ae[Qe]));)++Qe,Ge<<=1;Fe+=mt=1<<(Ge=Qe-ne),Y[J+(Qe=yt&Ke)].g=Ge+ne,Y[J+Qe].value=Ee-J-Qe}le.g=ie-ne,le.value=Ce[ve++],I(Y,Ee+(yt>>ne),xe,mt,le),yt=F(yt,ie)}}return ut!=2*Oe[15]-1?0:Fe})(p,N,C,M,$,K)}function B(){this.value=this.g=0}function ue(){this.value=this.g=0}function Ne(){this.G=c(5,B),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Al,ue)}function ce(p,N,C,M){e(p!=null),e(N!=null),e(2147483648>M),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=N,p.pa=C,p.Jd=N,p.Yc=C+M,p.Zc=4<=M?C+M-4+1:C,Le(p)}function pe(p,N){for(var C=0;0<N--;)C|=qe(p,128)<<N;return C}function de(p,N){var C=pe(p,N);return ke(p)?-C:C}function Se(p,N,C,M){var $,K=0;for(e(p!=null),e(N!=null),e(4294967288>M),p.Sb=M,p.Ra=0,p.u=0,p.h=0,4<M&&(M=4),$=0;$<M;++$)K+=N[C+$]<<8*$;p.Ra=K,p.bb=M,p.oa=N,p.pa=C}function ze(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<So-8>>>0,++p.bb,p.u-=8;he(p)&&(p.h=1,p.u=0)}function re(p,N){if(e(0<=N),!p.h&&N<=Ca){var C=se(p)&za[N];return p.u+=N,ze(p),C}return p.h=1,p.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function se(p){return p.Ra>>>(p.u&So-1)>>>0}function he(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>So}function me(p,N){p.u=N,p.h=he(p)}function be(p){p.u>=Eo&&(e(p.u>=Eo),ze(p))}function Le(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ke(p){return pe(p,1)}function qe(p,N){var C=p.Ca;0>p.b&&Le(p);var M=p.b,$=C*N>>>8,K=(p.I>>>M>$)+0;for(K?(C-=$,p.I-=$+1<<M>>>0):C=$+1,M=C,$=0;256<=M;)$+=8,M>>=8;return M=7^$+Xo[M],p.b-=M,p.Ca=(C<<M)-1,K}function Je(p,N,C){p[N+0]=C>>24&255,p[N+1]=C>>16&255,p[N+2]=C>>8&255,p[N+3]=255&C}function it(p,N){return p[N+0]|p[N+1]<<8}function at(p,N){return it(p,N)|p[N+2]<<16}function ft(p,N){return it(p,N)|it(p,N+2)<<16}function ae(p,N){var C=1<<N;return e(p!=null),e(0<N),p.X=o(C),p.X==null?0:(p.Mb=32-N,p.Xa=N,1)}function st(p,N){e(p!=null),e(N!=null),e(p.Xa==N.Xa),r(N.X,0,p.X,0,1<<N.Xa)}function rn(){this.X=[],this.Xa=this.Mb=0}function Pt(p,N,C,M){e(C!=null),e(M!=null);var $=C[0],K=M[0];return $==0&&($=(p*K+N/2)/N),K==0&&(K=(N*$+p/2)/p),0>=$||0>=K?0:(C[0]=$,M[0]=K,1)}function He(p,N){return p+(1<<N)-1>>>N}function ct(p,N){return((4278255360&p)+(4278255360&N)>>>0&4278255360)+((16711935&p)+(16711935&N)>>>0&16711935)>>>0}function lt(p,N){k[N]=function(C,M,$,K,Y,J,ne){var le;for(le=0;le<Y;++le){var xe=k[p](J[ne+le-1],$,K+le);J[ne+le]=ct(C[M+le],xe)}}}function Mt(){this.ud=this.hd=this.jd=0}function Et(p,N){return((4278124286&(p^N))>>>1)+(p&N)>>>0}function sn(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function dn(p,N){return sn(p+(p-N+.5>>1))}function Qt(p,N,C){return Math.abs(N-C)-Math.abs(p-C)}function pn(p,N,C,M,$,K,Y){for(M=K[Y-1],C=0;C<$;++C)K[Y+C]=M=ct(p[N+C],M)}function on(p,N,C,M,$){var K;for(K=0;K<C;++K){var Y=p[N+K],J=Y>>8&255,ne=16711935&(ne=(ne=16711935&Y)+((J<<16)+J));M[$+K]=(4278255360&Y)+ne>>>0}}function wt(p,N){N.jd=255&p,N.hd=p>>8&255,N.ud=p>>16&255}function en(p,N,C,M,$,K){var Y;for(Y=0;Y<M;++Y){var J=N[C+Y],ne=J>>>8,le=J,xe=255&(xe=(xe=J>>>16)+((p.jd<<24>>24)*(ne<<24>>24)>>>5));le=255&(le=(le+=(p.hd<<24>>24)*(ne<<24>>24)>>>5)+((p.ud<<24>>24)*(xe<<24>>24)>>>5)),$[K+Y]=(4278255360&J)+(xe<<16)+le}}function Nt(p,N,C,M,$){k[N]=function(K,Y,J,ne,le,xe,Ce,ie,ve){for(ne=Ce;ne<ie;++ne)for(Ce=0;Ce<ve;++Ce)le[xe++]=$(J[M(K[Y++])])},k[p]=function(K,Y,J,ne,le,xe,Ce){var ie=8>>K.b,ve=K.Ea,Ee=K.K[0],Fe=K.w;if(8>ie)for(K=(1<<K.b)-1,Fe=(1<<ie)-1;Y<J;++Y){var Ae,Oe=0;for(Ae=0;Ae<ve;++Ae)Ae&K||(Oe=M(ne[le++])),xe[Ce++]=$(Ee[Oe&Fe]),Oe>>=ie}else k["VP8LMapColor"+C](ne,le,Ee,Fe,xe,Ce,Y,J,ve)}}function Tr(p,N,C,M,$){for(C=N+C;N<C;){var K=p[N++];M[$++]=K>>16&255,M[$++]=K>>8&255,M[$++]=255&K}}function ln(p,N,C,M,$){for(C=N+C;N<C;){var K=p[N++];M[$++]=K>>16&255,M[$++]=K>>8&255,M[$++]=255&K,M[$++]=K>>24&255}}function Lt(p,N,C,M,$){for(C=N+C;N<C;){var K=(Y=p[N++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;M[$++]=K,M[$++]=Y}}function Wt(p,N,C,M,$){for(C=N+C;N<C;){var K=(Y=p[N++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;M[$++]=K,M[$++]=Y}}function an(p,N,C,M,$){for(C=N+C;N<C;){var K=p[N++];M[$++]=255&K,M[$++]=K>>8&255,M[$++]=K>>16&255}}function Tt(p,N,C,M,$,K){if(K==0)for(C=N+C;N<C;)Je(M,((K=p[N++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),$+=32;else r(M,$,p,N,C)}function zn(p,N){k[N][0]=k[p+"0"],k[N][1]=k[p+"1"],k[N][2]=k[p+"2"],k[N][3]=k[p+"3"],k[N][4]=k[p+"4"],k[N][5]=k[p+"5"],k[N][6]=k[p+"6"],k[N][7]=k[p+"7"],k[N][8]=k[p+"8"],k[N][9]=k[p+"9"],k[N][10]=k[p+"10"],k[N][11]=k[p+"11"],k[N][12]=k[p+"12"],k[N][13]=k[p+"13"],k[N][14]=k[p+"0"],k[N][15]=k[p+"0"]}function zt(p){return p==Nd||p==Eh||p==cu||p==Ah}function qt(){this.eb=[],this.size=this.A=this.fb=0}function Hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function At(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new qt,this.f.kb=new Hn,this.sd=null}function jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function xn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qs(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function As(p,N){var C=p.T,M=N.ba.f.RGBA,$=M.eb,K=M.fb+p.ka*M.A,Y=Js[N.ba.S],J=p.y,ne=p.O,le=p.f,xe=p.N,Ce=p.ea,ie=p.W,ve=N.cc,Ee=N.dc,Fe=N.Mc,Ae=N.Nc,Oe=p.ka,Ge=p.ka+p.T,Qe=p.U,Ke=Qe+1>>1;for(Oe==0?Y(J,ne,null,null,le,xe,Ce,ie,le,xe,Ce,ie,$,K,null,null,Qe):(Y(N.ec,N.fc,J,ne,ve,Ee,Fe,Ae,le,xe,Ce,ie,$,K-M.A,$,K,Qe),++C);Oe+2<Ge;Oe+=2)ve=le,Ee=xe,Fe=Ce,Ae=ie,xe+=p.Rc,ie+=p.Rc,K+=2*M.A,Y(J,(ne+=2*p.fa)-p.fa,J,ne,ve,Ee,Fe,Ae,le,xe,Ce,ie,$,K-M.A,$,K,Qe);return ne+=p.fa,p.j+Ge<p.o?(r(N.ec,N.fc,J,ne,Qe),r(N.cc,N.dc,le,xe,Ke),r(N.Mc,N.Nc,Ce,ie,Ke),C--):1&Ge||Y(J,ne,null,null,le,xe,Ce,ie,le,xe,Ce,ie,$,K+M.A,null,null,Qe),C}function xi(p,N,C){var M=p.F,$=[p.J];if(M!=null){var K=p.U,Y=N.ba.S,J=Y==wd||Y==cu;N=N.ba.f.RGBA;var ne=[0],le=p.ka;ne[0]=p.T,p.Kb&&(le==0?--ne[0]:(--le,$[0]-=p.width),p.j+p.ka+p.T==p.o&&(ne[0]=p.o-p.j-le));var xe=N.eb;le=N.fb+le*N.A,p=xd(M,$[0],p.width,K,ne,xe,le+(J?0:3),N.A),e(C==ne),p&&zt(Y)&&xc(xe,le,J,K,ne,N.A)}return 0}function ms(p){var N=p.ma,C=N.ba.S,M=11>C,$=C==ma||C==Si||C==wd||C==lu||C==12||zt(C);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Yo(N.Oa,p,$?11:12))return 0;if($&&zt(C)&&Zt(),p.da)alert("todo:use_scaling");else{if(M){if(N.Ib=qs,p.Kb){if(C=p.U+1>>1,N.memory=o(p.U+2*C),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+p.U,N.Mc=N.cc,N.Nc=N.dc+C,N.Ib=As,Zt()}}else alert("todo:EmitYUV");$&&(N.Jb=xi,M&&Pe())}if(M&&!Ll){for(p=0;256>p;++p)Zs[p]=89858*(p-128)+hu>>Ri,_y[p]=-22014*(p-128)+hu,bp[p]=-45773*(p-128),kh[p]=113618*(p-128)+hu>>Ri;for(p=wc;p<Pl;++p)N=76283*(p-16)+hu>>Ri,Sy[p-wc]=ja(N,255),Ey[p-wc]=ja(N+8>>4,15);Ll=1}return 1}function Ct(p){var N=p.ma,C=p.U,M=p.T;return e(!(1&p.ka)),0>=C||0>=M?0:(C=N.Ib(p,N),N.Jb!=null&&N.Jb(p,N,C),N.Dc+=C,1)}function Hi(p){p.ma.memory=null}function va(p,N,C,M){return re(p,8)!=47?0:(N[0]=re(p,14)+1,C[0]=re(p,14)+1,M[0]=re(p,1),re(p,3)!=0?0:!p.h)}function aa(p,N){if(4>p)return p+1;var C=p-2>>1;return(2+(1&p)<<C)+re(N,C)+1}function ia(p,N){return 120<N?N-120:1<=(C=((C=Ai[N-1])>>4)*p+(8-(15&C)))?C:1;var C}function nr(p,N,C){var M=se(C),$=p[N+=255&M].g-8;return 0<$&&(me(C,C.u+8),M=se(C),N+=p[N].value,N+=M&(1<<$)-1),me(C,C.u+p[N].g),p[N].value}function fr(p,N,C){return C.g+=p.g,C.value+=p.value<<N>>>0,e(8>=C.g),p.g}function ns(p,N,C){var M=p.xc;return e((N=M==0?0:p.vc[p.md*(C>>M)+(N>>M)])<p.Wb),p.Ya[N]}function Gs(p,N,C,M){var $=p.ab,K=p.c*N,Y=p.C;N=Y+N;var J=C,ne=M;for(M=p.Ta,C=p.Ua;0<$--;){var le=p.gc[$],xe=Y,Ce=N,ie=J,ve=ne,Ee=(ne=M,J=C,le.Ea);switch(e(xe<Ce),e(Ce<=le.nc),le.hc){case 2:Kr(ie,ve,(Ce-xe)*Ee,ne,J);break;case 0:var Fe=xe,Ae=Ce,Oe=ne,Ge=J,Qe=(mt=le).Ea;Fe==0&&(su(ie,ve,null,null,1,Oe,Ge),pn(ie,ve+1,0,0,Qe-1,Oe,Ge+1),ve+=Qe,Ge+=Qe,++Fe);for(var Ke=1<<mt.b,yt=Ke-1,ut=He(Qe,mt.b),tn=mt.K,mt=mt.w+(Fe>>mt.b)*ut;Fe<Ae;){var An=tn,_r=mt,hn=1;for(au(ie,ve,Oe,Ge-Qe,1,Oe,Ge);hn<Qe;){var dt=(hn&~yt)+Ke;dt>Qe&&(dt=Qe),(0,Qo[An[_r++]>>8&15])(ie,ve+ +hn,Oe,Ge+hn-Qe,dt-hn,Oe,Ge+hn),hn=dt}ve+=Qe,Ge+=Qe,++Fe&yt||(mt+=ut)}Ce!=le.nc&&r(ne,J-Ee,ne,J+(Ce-xe-1)*Ee,Ee);break;case 1:for(Ee=ie,Ae=ve,Qe=(ie=le.Ea)-(Ge=ie&~(Oe=(ve=1<<le.b)-1)),Fe=He(ie,le.b),Ke=le.K,le=le.w+(xe>>le.b)*Fe;xe<Ce;){for(yt=Ke,ut=le,tn=new Mt,mt=Ae+Ge,An=Ae+ie;Ae<mt;)wt(yt[ut++],tn),iu(tn,Ee,Ae,ve,ne,J),Ae+=ve,J+=ve;Ae<An&&(wt(yt[ut++],tn),iu(tn,Ee,Ae,Qe,ne,J),Ae+=Qe,J+=Qe),++xe&Oe||(le+=Fe)}break;case 3:if(ie==ne&&ve==J&&0<le.b){for(Ae=ne,ie=Ee=J+(Ce-xe)*Ee-(Ge=(Ce-xe)*He(le.Ea,le.b)),ve=ne,Oe=J,Fe=[],Ge=(Qe=Ge)-1;0<=Ge;--Ge)Fe[Ge]=ve[Oe+Ge];for(Ge=Qe-1;0<=Ge;--Ge)Ae[ie+Ge]=Fe[Ge];wh(le,xe,Ce,ne,Ee,ne,J)}else wh(le,xe,Ce,ie,ve,ne,J)}J=M,ne=C}ne!=C&&r(M,C,J,ne,K)}function Ts(p,N){var C=p.V,M=p.Ba+p.c*p.C,$=N-p.C;if(e(N<=p.l.o),e(16>=$),0<$){var K=p.l,Y=p.Ta,J=p.Ua,ne=K.width;if(Gs(p,$,C,M),$=J=[J],e((C=p.C)<(M=N)),e(K.v<K.va),M>K.o&&(M=K.o),C<K.j){var le=K.j-C;C=K.j,$[0]+=le*ne}if(C>=M?C=0:($[0]+=4*K.v,K.ka=C-K.j,K.U=K.va-K.v,K.T=M-C,C=1),C){if(J=J[0],11>(C=p.ca).S){var xe=C.f.RGBA,Ce=(M=C.S,$=K.U,K=K.T,le=xe.eb,xe.A),ie=K;for(xe=xe.fb+p.Ma*xe.A;0<ie--;){var ve=Y,Ee=J,Fe=$,Ae=le,Oe=xe;switch(M){case _h:ou(ve,Ee,Fe,Ae,Oe);break;case ma:Jo(ve,Ee,Fe,Ae,Oe);break;case Nd:Jo(ve,Ee,Fe,Ae,Oe),xc(Ae,Oe,0,Fe,1,0);break;case Sh:gc(ve,Ee,Fe,Ae,Oe);break;case Si:Tt(ve,Ee,Fe,Ae,Oe,1);break;case Eh:Tt(ve,Ee,Fe,Ae,Oe,1),xc(Ae,Oe,0,Fe,1,0);break;case wd:Tt(ve,Ee,Fe,Ae,Oe,0);break;case cu:Tt(ve,Ee,Fe,Ae,Oe,0),xc(Ae,Oe,1,Fe,1,0);break;case lu:Zo(ve,Ee,Fe,Ae,Oe);break;case Ah:Zo(ve,Ee,Fe,Ae,Oe),_i(Ae,Oe,Fe,1,0);break;case Tl:Co(ve,Ee,Fe,Ae,Oe);break;default:e(0)}J+=ne,xe+=Ce}p.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=C.height)}}p.C=N,e(p.C<=p.i)}function $n(p){var N;if(0<p.ua)return 0;for(N=0;N<p.Wb;++N){var C=p.Ya[N].G,M=p.Ya[N].H;if(0<C[1][M[1]+0].g||0<C[2][M[2]+0].g||0<C[3][M[3]+0].g)return 0}return 1}function sr(p,N,C,M,$,K){if(p.Z!=0){var Y=p.qd,J=p.rd;for(e(nl[p.Z]!=null);N<C;++N)nl[p.Z](Y,J,M,$,M,$,K),Y=M,J=$,$+=K;p.qd=Y,p.rd=J}}function rs(p,N){var C=p.l.ma,M=C.Z==0||C.Z==1?p.l.j:p.C;if(M=p.C<M?M:p.C,e(N<=p.l.o),N>M){var $=p.l.width,K=C.ca,Y=C.tb+$*M,J=p.V,ne=p.Ba+p.c*M,le=p.gc;e(p.ab==1),e(le[0].hc==3),To(le[0],M,N,J,ne,K,Y),sr(C,M,N,K,Y,$)}p.C=p.Ma=N}function oa(p,N,C,M,$,K,Y){var J=p.$/M,ne=p.$%M,le=p.m,xe=p.s,Ce=C+p.$,ie=Ce;$=C+M*$;var ve=C+M*K,Ee=280+xe.ua,Fe=p.Pb?J:16777216,Ae=0<xe.ua?xe.Wa:null,Oe=xe.wc,Ge=Ce<ve?ns(xe,ne,J):null;e(p.C<K),e(ve<=$);var Qe=!1;e:for(;;){for(;Qe||Ce<ve;){var Ke=0;if(J>=Fe){var yt=Ce-C;e((Fe=p).Pb),Fe.wd=Fe.m,Fe.xd=yt,0<Fe.s.ua&&st(Fe.s.Wa,Fe.s.vb),Fe=J+Cl}if(ne&Oe||(Ge=ns(xe,ne,J)),e(Ge!=null),Ge.Qb&&(N[Ce]=Ge.qb,Qe=!0),!Qe)if(be(le),Ge.jc){Ke=le,yt=N;var ut=Ce,tn=Ge.pd[se(Ke)&Al-1];e(Ge.jc),256>tn.g?(me(Ke,Ke.u+tn.g),yt[ut]=tn.value,Ke=0):(me(Ke,Ke.u+tn.g-256),e(256<=tn.value),Ke=tn.value),Ke==0&&(Qe=!0)}else Ke=nr(Ge.G[0],Ge.H[0],le);if(le.h)break;if(Qe||256>Ke){if(!Qe)if(Ge.nd)N[Ce]=(Ge.qb|Ke<<8)>>>0;else{if(be(le),Qe=nr(Ge.G[1],Ge.H[1],le),be(le),yt=nr(Ge.G[2],Ge.H[2],le),ut=nr(Ge.G[3],Ge.H[3],le),le.h)break;N[Ce]=(ut<<24|Qe<<16|Ke<<8|yt)>>>0}if(Qe=!1,++Ce,++ne>=M&&(ne=0,++J,Y!=null&&J<=K&&!(J%16)&&Y(p,J),Ae!=null))for(;ie<Ce;)Ke=N[ie++],Ae.X[(506832829*Ke&4294967295)>>>Ae.Mb]=Ke}else if(280>Ke){if(Ke=aa(Ke-256,le),yt=nr(Ge.G[4],Ge.H[4],le),be(le),yt=ia(M,yt=aa(yt,le)),le.h)break;if(Ce-C<yt||$-Ce<Ke)break e;for(ut=0;ut<Ke;++ut)N[Ce+ut]=N[Ce+ut-yt];for(Ce+=Ke,ne+=Ke;ne>=M;)ne-=M,++J,Y!=null&&J<=K&&!(J%16)&&Y(p,J);if(e(Ce<=$),ne&Oe&&(Ge=ns(xe,ne,J)),Ae!=null)for(;ie<Ce;)Ke=N[ie++],Ae.X[(506832829*Ke&4294967295)>>>Ae.Mb]=Ke}else{if(!(Ke<Ee))break e;for(Qe=Ke-280,e(Ae!=null);ie<Ce;)Ke=N[ie++],Ae.X[(506832829*Ke&4294967295)>>>Ae.Mb]=Ke;Ke=Ce,e(!(Qe>>>(yt=Ae).Xa)),N[Ke]=yt.X[Qe],Qe=!0}Qe||e(le.h==he(le))}if(p.Pb&&le.h&&Ce<$)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&st(p.s.vb,p.s.Wa);else{if(le.h)break e;Y?.(p,J>K?K:J),p.a=0,p.$=Ce-C}return 1}return p.a=3,0}function Oa(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var N=p.Wa;N!=null&&(N.X=null),p.vb=null,e(p!=null)}function xo(){var p=new Ut;return p==null?null:(p.a=0,p.xb=mm,zn("Predictor","VP8LPredictors"),zn("Predictor","VP8LPredictors_C"),zn("PredictorAdd","VP8LPredictorsAdd"),zn("PredictorAdd","VP8LPredictorsAdd_C"),Kr=on,iu=en,ou=Tr,Jo=ln,Zo=Lt,Co=Wt,gc=an,k.VP8LMapColor32b=Ao,k.VP8LMapColor8b=Ys,p)}function ti(p,N,C,M,$){var K=1,Y=[p],J=[N],ne=M.m,le=M.s,xe=null,Ce=0;e:for(;;){if(C)for(;K&&re(ne,1);){var ie=Y,ve=J,Ee=M,Fe=1,Ae=Ee.m,Oe=Ee.gc[Ee.ab],Ge=re(Ae,2);if(Ee.Oc&1<<Ge)K=0;else{switch(Ee.Oc|=1<<Ge,Oe.hc=Ge,Oe.Ea=ie[0],Oe.nc=ve[0],Oe.K=[null],++Ee.ab,e(4>=Ee.ab),Ge){case 0:case 1:Oe.b=re(Ae,3)+2,Fe=ti(He(Oe.Ea,Oe.b),He(Oe.nc,Oe.b),0,Ee,Oe.K),Oe.K=Oe.K[0];break;case 3:var Qe,Ke=re(Ae,8)+1,yt=16<Ke?0:4<Ke?1:2<Ke?2:3;if(ie[0]=He(Oe.Ea,yt),Oe.b=yt,Qe=Fe=ti(Ke,1,0,Ee,Oe.K)){var ut,tn=Ke,mt=Oe,An=1<<(8>>mt.b),_r=o(An);if(_r==null)Qe=0;else{var hn=mt.K[0],dt=mt.w;for(_r[0]=mt.K[0][0],ut=1;ut<1*tn;++ut)_r[ut]=ct(hn[dt+ut],_r[ut-1]);for(;ut<4*An;++ut)_r[ut]=0;mt.K[0]=null,mt.K[0]=_r,Qe=1}}Fe=Qe;break;case 2:break;default:e(0)}K=Fe}}if(Y=Y[0],J=J[0],K&&re(ne,1)&&!(K=1<=(Ce=re(ne,4))&&11>=Ce)){M.a=3;break e}var rt;if(rt=K)t:{var Rr,Kt,gn,Jn=M,xs=Y,ea=J,xr=Ce,as=C,ga=Jn.m,is=Jn.s,vn=[null],Fn=1,kr=0,Gn=Ti[xr];n:for(;;){if(as&&re(ga,1)){var ys=re(ga,3)+2,Pr=He(xs,ys),Un=He(ea,ys),Qr=Pr*Un;if(!ti(Pr,Un,0,Jn,vn))break n;for(vn=vn[0],is.xc=ys,Rr=0;Rr<Qr;++Rr){var Zn=vn[Rr]>>8&65535;vn[Rr]=Zn,Zn>=Fn&&(Fn=Zn+1)}}if(ga.h)break n;for(Kt=0;5>Kt;++Kt){var os=bc[Kt];!Kt&&0<xr&&(os+=1<<xr),kr<os&&(kr=os)}var ls=c(Fn*Gn,B),ir=Fn,On=c(ir,Ne);if(On==null)var pa=null;else e(65536>=ir),pa=On;var Vr=o(kr);if(pa==null||Vr==null||ls==null){Jn.a=1;break n}var Ft=ls;for(Rr=gn=0;Rr<Fn;++Rr){var Vt=pa[Rr],Vn=Vt.G,qa=Vt.H,ki=0,Ra=1,cs=0;for(Kt=0;5>Kt;++Kt){os=bc[Kt],Vn[Kt]=Ft,qa[Kt]=gn,!Kt&&0<xr&&(os+=1<<xr);s:{var Dl,Ml=os,Lh=Jn,yr=Vr,pm=Ft,xm=gn,Dh=0,rl=Lh.m,Ay=re(rl,1);if(a(yr,0,0,Ml),Ay){var ym=re(rl,1)+1,bm=re(rl,1),Mh=re(rl,bm==0?1:8);yr[Mh]=1,ym==2&&(yr[Mh=re(rl,8)]=1);var ks=1}else{var Br=o(19),Ed=re(rl,4)+4;if(19<Ed){Lh.a=3;var Ol=0;break s}for(Dl=0;Dl<Ed;++Dl)Br[jd[Dl]]=re(rl,3);var mu=void 0,Nc=void 0,ko=Lh,Oh=Br,gu=Ml,Fh=yr,Uh=0,sl=ko.m,vm=8,wm=c(128,B);r:for(;P(wm,0,7,Oh,19);){if(re(sl,1)){var vp=2+2*re(sl,3);if((mu=2+re(sl,vp))>gu)break r}else mu=gu;for(Nc=0;Nc<gu&&mu--;){be(sl);var Nm=wm[0+(127&se(sl))];me(sl,sl.u+Nm.g);var Fl=Nm.value;if(16>Fl)Fh[Nc++]=Fl,Fl!=0&&(vm=Fl);else{var wp=Fl==16,Np=Fl-16,jp=uu[Np],jm=re(sl,Ei[Np])+jp;if(Nc+jm>gu)break r;for(var _p=wp?vm:0;0<jm--;)Fh[Nc++]=_p}}Uh=1;break r}Uh||(ko.a=3),ks=Uh}(ks=ks&&!rl.h)&&(Dh=P(pm,xm,8,yr,Ml)),ks&&Dh!=0?Ol=Dh:(Lh.a=3,Ol=0)}if(Ol==0)break n;if(Ra&&Th[Kt]==1&&(Ra=Ft[gn].g==0),ki+=Ft[gn].g,gn+=Ol,3>=Kt){var jc,Vh=Vr[0];for(jc=1;jc<os;++jc)Vr[jc]>Vh&&(Vh=Vr[jc]);cs+=Vh}}if(Vt.nd=Ra,Vt.Qb=0,Ra&&(Vt.qb=(Vn[3][qa[3]+0].value<<24|Vn[1][qa[1]+0].value<<16|Vn[2][qa[2]+0].value)>>>0,ki==0&&256>Vn[0][qa[0]+0].value&&(Vt.Qb=1,Vt.qb+=Vn[0][qa[0]+0].value<<8)),Vt.jc=!Vt.Qb&&6>cs,Vt.jc){var Ad,Po=Vt;for(Ad=0;Ad<Al;++Ad){var al=Ad,il=Po.pd[al],Bh=Po.G[0][Po.H[0]+al];256<=Bh.value?(il.g=Bh.g+256,il.value=Bh.value):(il.g=0,il.value=0,al>>=fr(Bh,8,il),al>>=fr(Po.G[1][Po.H[1]+al],16,il),al>>=fr(Po.G[2][Po.H[2]+al],0,il),fr(Po.G[3][Po.H[3]+al],24,il))}}}is.vc=vn,is.Wb=Fn,is.Ya=pa,is.yc=ls,rt=1;break t}rt=0}if(!(K=rt)){M.a=3;break e}if(0<Ce){if(le.ua=1<<Ce,!ae(le.Wa,Ce)){M.a=1,K=0;break e}}else le.ua=0;var zh=M,_c=Y,Sp=J,pu=zh.s,xu=pu.xc;if(zh.c=_c,zh.i=Sp,pu.md=He(_c,xu),pu.wc=xu==0?-1:(1<<xu)-1,C){M.xb=Il;break e}if((xe=o(Y*J))==null){M.a=1,K=0;break e}K=(K=oa(M,xe,0,Y,J,J,null))&&!ne.h;break e}return K?($!=null?$[0]=xe:(e(xe==null),e(C)),M.$=0,C||Oa(le)):Oa(le),K}function la(p,N){var C=p.c*p.i,M=C+N+16*N;return e(p.c<=N),p.V=o(M),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+C+N,1)}function $i(p,N){var C=p.C,M=N-C,$=p.V,K=p.Ba+p.c*C;for(e(N<=p.l.o);0<M;){var Y=16<M?16:M,J=p.l.ma,ne=p.l.width,le=ne*Y,xe=J.ca,Ce=J.tb+ne*C,ie=p.Ta,ve=p.Ua;Gs(p,Y,$,K),ci(ie,ve,xe,Ce,le),sr(J,C,C+Y,xe,Ce,ne),M-=Y,$+=Y*p.c,C+=Y}e(C==N),p.C=p.Ma=N}function wa(){this.ub=this.yd=this.td=this.Rb=0}function Hs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Na(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Fa(){this.Yb=(function(){var p=[];return(function N(C,M,$){for(var K=$[M],Y=0;Y<K&&(C.push($.length>M+1?[]:0),!($.length<M+1));Y++)N(C[Y],M+1,$)})(p,0,[3,11]),p})()}function Ir(){this.jb=o(3),this.Wc=u([4,8],Fa),this.Xc=u([4,17],Fa)}function bl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ca(){this.ld=this.La=this.dd=this.tc=0}function Ua(){this.Na=this.la=0}function ni(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function zo(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vl(){this.uc=this.M=this.Nb=0,this.wa=Array(new ca),this.Y=0,this.ya=Array(new zo),this.aa=0,this.l=new Cs}function wl(){this.y=o(16),this.f=o(8),this.ea=o(8)}function lc(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new wa,this.Kc=new Hs,this.ed=new bl,this.Qa=new Na,this.Ic=this.$c=this.Aa=0,this.D=new vl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,q),this.ia=0,this.pb=c(4,ni),this.Pa=new Ir,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wl),this.Hd=0,this.rb=Array(new Ua),this.sb=0,this.wa=Array(new ca),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new zo),this.L=this.aa=0,this.gd=u([4,2],ca),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ja(p,N){return 0>p?0:p>N?N:p}function Cs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Or(){var p=new lc;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,ui||(ui=Rn)),p}function wn(p,N,C){return p.a==0&&(p.a=N,p.sc=C,p.cb=0),0}function Wi(p,N,C){return 3<=C&&p[N+0]==157&&p[N+1]==1&&p[N+2]==42}function Va(p,N){if(p==null)return 0;if(p.a=0,p.sc="OK",N==null)return wn(p,2,"null VP8Io passed to VP8GetHeaders()");var C=N.data,M=N.w,$=N.ha;if(4>$)return wn(p,7,"Truncated header.");var K=C[M+0]|C[M+1]<<8|C[M+2]<<16,Y=p.Od;if(Y.Rb=!(1&K),Y.td=K>>1&7,Y.yd=K>>4&1,Y.ub=K>>5,3<Y.td)return wn(p,3,"Incorrect keyframe parameters.");if(!Y.yd)return wn(p,4,"Frame not displayable.");M+=3,$-=3;var J=p.Kc;if(Y.Rb){if(7>$)return wn(p,7,"cannot parse picture header");if(!Wi(C,M,$))return wn(p,3,"Bad code word");J.c=16383&(C[M+4]<<8|C[M+3]),J.Td=C[M+4]>>6,J.i=16383&(C[M+6]<<8|C[M+5]),J.Ud=C[M+6]>>6,M+=7,$-=7,p.za=J.c+15>>4,p.Ub=J.i+15>>4,N.width=J.c,N.height=J.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,a((K=p.Pa).jb,0,255,K.jb.length),e((K=p.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,a(K.Zb,0,0,K.Zb.length),a(K.Lb,0,0,K.Lb)}if(Y.ub>$)return wn(p,7,"bad partition length");ce(K=p.m,C,M,Y.ub),M+=Y.ub,$-=Y.ub,Y.Rb&&(J.Ld=ke(K),J.Kd=ke(K)),J=p.Qa;var ne,le=p.Pa;if(e(K!=null),e(J!=null),J.Cb=ke(K),J.Cb){if(J.Bb=ke(K),ke(K)){for(J.Fb=ke(K),ne=0;4>ne;++ne)J.Zb[ne]=ke(K)?de(K,7):0;for(ne=0;4>ne;++ne)J.Lb[ne]=ke(K)?de(K,6):0}if(J.Bb)for(ne=0;3>ne;++ne)le.jb[ne]=ke(K)?pe(K,8):255}else J.Bb=0;if(K.Ka)return wn(p,3,"cannot parse segment header");if((J=p.ed).zd=ke(K),J.Tb=pe(K,6),J.wb=pe(K,3),J.Pc=ke(K),J.Pc&&ke(K)){for(le=0;4>le;++le)ke(K)&&(J.vd[le]=de(K,6));for(le=0;4>le;++le)ke(K)&&(J.od[le]=de(K,6))}if(p.L=J.Tb==0?0:J.zd?1:2,K.Ka)return wn(p,3,"cannot parse filter header");var xe=$;if($=ne=M,M=ne+xe,J=xe,p.Xb=(1<<pe(p.m,2))-1,xe<3*(le=p.Xb))C=7;else{for(ne+=3*le,J-=3*le,xe=0;xe<le;++xe){var Ce=C[$+0]|C[$+1]<<8|C[$+2]<<16;Ce>J&&(Ce=J),ce(p.Jc[+xe],C,ne,Ce),ne+=Ce,J-=Ce,$+=3}ce(p.Jc[+le],C,ne,J),C=ne<M?0:5}if(C!=0)return wn(p,C,"cannot parse partitions");for(C=pe(ne=p.m,7),$=ke(ne)?de(ne,4):0,M=ke(ne)?de(ne,4):0,J=ke(ne)?de(ne,4):0,le=ke(ne)?de(ne,4):0,ne=ke(ne)?de(ne,4):0,xe=p.Qa,Ce=0;4>Ce;++Ce){if(xe.Cb){var ie=xe.Zb[Ce];xe.Fb||(ie+=C)}else{if(0<Ce){p.pb[Ce]=p.pb[0];continue}ie=C}var ve=p.pb[Ce];ve.Sc[0]=Ci[ja(ie+$,127)],ve.Sc[1]=Ii[ja(ie+0,127)],ve.Eb[0]=2*Ci[ja(ie+M,127)],ve.Eb[1]=101581*Ii[ja(ie+J,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=Ci[ja(ie+le,117)],ve.Qc[1]=Ii[ja(ie+ne,127)],ve.lc=ie+ne}if(!Y.Rb)return wn(p,4,"Not a key frame.");for(ke(K),Y=p.Pa,C=0;4>C;++C){for($=0;8>$;++$)for(M=0;3>M;++M)for(J=0;11>J;++J)le=qe(K,jr[C][$][M][J])?pe(K,8):yp[C][$][M][J],Y.Wc[C][$].Yb[M][J]=le;for($=0;17>$;++$)Y.Xc[C][$]=Y.Wc[C][Tn[$]]}return p.kc=ke(K),p.kc&&(p.Bd=pe(K,8)),p.cb=1}function Rn(p,N,C,M,$,K,Y){var J=N[$].Yb[C];for(C=0;16>$;++$){if(!qe(p,J[C+0]))return $;for(;!qe(p,J[C+1]);)if(J=N[++$].Yb[0],C=0,$==16)return 16;var ne=N[$+1].Yb;if(qe(p,J[C+2])){var le=p,xe=0;if(qe(le,(ie=J)[(Ce=C)+3]))if(qe(le,ie[Ce+6])){for(J=0,Ce=2*(xe=qe(le,ie[Ce+8]))+(ie=qe(le,ie[Ce+9+xe])),xe=0,ie=xp[Ce];ie[J];++J)xe+=xe+qe(le,ie[J]);xe+=3+(8<<Ce)}else qe(le,ie[Ce+7])?(xe=7+2*qe(le,165),xe+=qe(le,145)):xe=5+qe(le,159);else xe=qe(le,ie[Ce+4])?3+qe(le,ie[Ce+5]):2;J=ne[2]}else xe=1,J=ne[1];ne=Y+fm[$],0>(le=p).b&&Le(le);var Ce,ie=le.b,ve=(Ce=le.Ca>>1)-(le.I>>ie)>>31;--le.b,le.Ca+=ve,le.Ca|=1,le.I-=(Ce+1&ve)<<ie,K[ne]=((xe^ve)-ve)*M[(0<$)+0]}return 16}function yo(p){var N=p.rb[p.sb-1];N.la=0,N.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function $r(p,N,C,M,$){$=p[N+C+32*M]+($>>3),p[N+C+32*M]=-256&$?0>$?0:255:$}function Nr(p,N,C,M,$,K){$r(p,N,0,C,M+$),$r(p,N,1,C,M+K),$r(p,N,2,C,M-K),$r(p,N,3,C,M-$)}function Fr(p){return(20091*p>>16)+p}function qo(p,N,C,M){var $,K=0,Y=o(16);for($=0;4>$;++$){var J=p[N+0]+p[N+8],ne=p[N+0]-p[N+8],le=(35468*p[N+4]>>16)-Fr(p[N+12]),xe=Fr(p[N+4])+(35468*p[N+12]>>16);Y[K+0]=J+xe,Y[K+1]=ne+le,Y[K+2]=ne-le,Y[K+3]=J-xe,K+=4,N++}for($=K=0;4>$;++$)J=(p=Y[K+0]+4)+Y[K+8],ne=p-Y[K+8],le=(35468*Y[K+4]>>16)-Fr(Y[K+12]),$r(C,M,0,0,J+(xe=Fr(Y[K+4])+(35468*Y[K+12]>>16))),$r(C,M,1,0,ne+le),$r(C,M,2,0,ne-le),$r(C,M,3,0,J-xe),K++,M+=32}function nu(p,N,C,M){var $=p[N+0]+4,K=35468*p[N+4]>>16,Y=Fr(p[N+4]),J=35468*p[N+1]>>16;Nr(C,M,0,$+Y,p=Fr(p[N+1]),J),Nr(C,M,1,$+K,p,J),Nr(C,M,2,$-K,p,J),Nr(C,M,3,$-Y,p,J)}function cc(p,N,C,M,$){qo(p,N,C,M),$&&qo(p,N+16,C,M+4)}function $s(p,N,C,M){el(p,N+0,C,M,1),el(p,N+32,C,M+128,1)}function uc(p,N,C,M){var $;for(p=p[N+0]+4,$=0;4>$;++$)for(N=0;4>N;++N)$r(C,M,N,$,p)}function Ki(p,N,C,M){p[N+0]&&qn(p,N+0,C,M),p[N+16]&&qn(p,N+16,C,M+4),p[N+32]&&qn(p,N+32,C,M+128),p[N+48]&&qn(p,N+48,C,M+128+4)}function gs(p,N,C,M){var $,K=o(16);for($=0;4>$;++$){var Y=p[N+0+$]+p[N+12+$],J=p[N+4+$]+p[N+8+$],ne=p[N+4+$]-p[N+8+$],le=p[N+0+$]-p[N+12+$];K[0+$]=Y+J,K[8+$]=Y-J,K[4+$]=le+ne,K[12+$]=le-ne}for($=0;4>$;++$)Y=(p=K[0+4*$]+3)+K[3+4*$],J=K[1+4*$]+K[2+4*$],ne=K[1+4*$]-K[2+4*$],le=p-K[3+4*$],C[M+0]=Y+J>>3,C[M+16]=le+ne>>3,C[M+32]=Y-J>>3,C[M+48]=le-ne>>3,M+=64}function bo(p,N,C){var M,$=N-32,K=fa,Y=255-p[$-1];for(M=0;M<C;++M){var J,ne=K,le=Y+p[N-1];for(J=0;J<C;++J)p[N+J]=ne[le+p[$+J]];N+=32}}function dc(p,N){bo(p,N,4)}function hc(p,N){bo(p,N,8)}function Nl(p,N){bo(p,N,16)}function jl(p,N){var C;for(C=0;16>C;++C)r(p,N+32*C,p,N-32,16)}function Yi(p,N){var C;for(C=16;0<C;--C)a(p,N,p[N-1],16),N+=32}function ua(p,N,C){var M;for(M=0;16>M;++M)a(N,C+32*M,p,16)}function ri(p,N){var C,M=16;for(C=0;16>C;++C)M+=p[N-1+32*C]+p[N+C-32];ua(M>>5,p,N)}function Xi(p,N){var C,M=8;for(C=0;16>C;++C)M+=p[N-1+32*C];ua(M>>4,p,N)}function da(p,N){var C,M=8;for(C=0;16>C;++C)M+=p[N+C-32];ua(M>>4,p,N)}function vo(p,N){ua(128,p,N)}function Ot(p,N,C){return p+2*N+C+2>>2}function Go(p,N){var C,M=N-32;for(M=new Uint8Array([Ot(p[M-1],p[M+0],p[M+1]),Ot(p[M+0],p[M+1],p[M+2]),Ot(p[M+1],p[M+2],p[M+3]),Ot(p[M+2],p[M+3],p[M+4])]),C=0;4>C;++C)r(p,N+32*C,M,0,M.length)}function _l(p,N){var C=p[N-1],M=p[N-1+32],$=p[N-1+64],K=p[N-1+96];Je(p,N+0,16843009*Ot(p[N-1-32],C,M)),Je(p,N+32,16843009*Ot(C,M,$)),Je(p,N+64,16843009*Ot(M,$,K)),Je(p,N+96,16843009*Ot($,K,K))}function wo(p,N){var C,M=4;for(C=0;4>C;++C)M+=p[N+C-32]+p[N-1+32*C];for(M>>=3,C=0;4>C;++C)a(p,N+32*C,M,4)}function ps(p,N){var C=p[N-1+0],M=p[N-1+32],$=p[N-1+64],K=p[N-1-32],Y=p[N+0-32],J=p[N+1-32],ne=p[N+2-32],le=p[N+3-32];p[N+0+96]=Ot(M,$,p[N-1+96]),p[N+1+96]=p[N+0+64]=Ot(C,M,$),p[N+2+96]=p[N+1+64]=p[N+0+32]=Ot(K,C,M),p[N+3+96]=p[N+2+64]=p[N+1+32]=p[N+0+0]=Ot(Y,K,C),p[N+3+64]=p[N+2+32]=p[N+1+0]=Ot(J,Y,K),p[N+3+32]=p[N+2+0]=Ot(ne,J,Y),p[N+3+0]=Ot(le,ne,J)}function ss(p,N){var C=p[N+1-32],M=p[N+2-32],$=p[N+3-32],K=p[N+4-32],Y=p[N+5-32],J=p[N+6-32],ne=p[N+7-32];p[N+0+0]=Ot(p[N+0-32],C,M),p[N+1+0]=p[N+0+32]=Ot(C,M,$),p[N+2+0]=p[N+1+32]=p[N+0+64]=Ot(M,$,K),p[N+3+0]=p[N+2+32]=p[N+1+64]=p[N+0+96]=Ot($,K,Y),p[N+3+32]=p[N+2+64]=p[N+1+96]=Ot(K,Y,J),p[N+3+64]=p[N+2+96]=Ot(Y,J,ne),p[N+3+96]=Ot(J,ne,ne)}function Ho(p,N){var C=p[N-1+0],M=p[N-1+32],$=p[N-1+64],K=p[N-1-32],Y=p[N+0-32],J=p[N+1-32],ne=p[N+2-32],le=p[N+3-32];p[N+0+0]=p[N+1+64]=K+Y+1>>1,p[N+1+0]=p[N+2+64]=Y+J+1>>1,p[N+2+0]=p[N+3+64]=J+ne+1>>1,p[N+3+0]=ne+le+1>>1,p[N+0+96]=Ot($,M,C),p[N+0+64]=Ot(M,C,K),p[N+0+32]=p[N+1+96]=Ot(C,K,Y),p[N+1+32]=p[N+2+96]=Ot(K,Y,J),p[N+2+32]=p[N+3+96]=Ot(Y,J,ne),p[N+3+32]=Ot(J,ne,le)}function Wn(p,N){var C=p[N+0-32],M=p[N+1-32],$=p[N+2-32],K=p[N+3-32],Y=p[N+4-32],J=p[N+5-32],ne=p[N+6-32],le=p[N+7-32];p[N+0+0]=C+M+1>>1,p[N+1+0]=p[N+0+64]=M+$+1>>1,p[N+2+0]=p[N+1+64]=$+K+1>>1,p[N+3+0]=p[N+2+64]=K+Y+1>>1,p[N+0+32]=Ot(C,M,$),p[N+1+32]=p[N+0+96]=Ot(M,$,K),p[N+2+32]=p[N+1+96]=Ot($,K,Y),p[N+3+32]=p[N+2+96]=Ot(K,Y,J),p[N+3+64]=Ot(Y,J,ne),p[N+3+96]=Ot(J,ne,le)}function _a(p,N){var C=p[N-1+0],M=p[N-1+32],$=p[N-1+64],K=p[N-1+96];p[N+0+0]=C+M+1>>1,p[N+2+0]=p[N+0+32]=M+$+1>>1,p[N+2+32]=p[N+0+64]=$+K+1>>1,p[N+1+0]=Ot(C,M,$),p[N+3+0]=p[N+1+32]=Ot(M,$,K),p[N+3+32]=p[N+1+64]=Ot($,K,K),p[N+3+64]=p[N+2+64]=p[N+0+96]=p[N+1+96]=p[N+2+96]=p[N+3+96]=K}function $o(p,N){var C=p[N-1+0],M=p[N-1+32],$=p[N-1+64],K=p[N-1+96],Y=p[N-1-32],J=p[N+0-32],ne=p[N+1-32],le=p[N+2-32];p[N+0+0]=p[N+2+32]=C+Y+1>>1,p[N+0+32]=p[N+2+64]=M+C+1>>1,p[N+0+64]=p[N+2+96]=$+M+1>>1,p[N+0+96]=K+$+1>>1,p[N+3+0]=Ot(J,ne,le),p[N+2+0]=Ot(Y,J,ne),p[N+1+0]=p[N+3+32]=Ot(C,Y,J),p[N+1+32]=p[N+3+64]=Ot(M,C,Y),p[N+1+64]=p[N+3+96]=Ot($,M,C),p[N+1+96]=Ot(K,$,M)}function si(p,N){var C;for(C=0;8>C;++C)r(p,N+32*C,p,N-32,8)}function fc(p,N){var C;for(C=0;8>C;++C)a(p,N,p[N-1],8),N+=32}function Sa(p,N,C){var M;for(M=0;8>M;++M)a(N,C+32*M,p,8)}function Qi(p,N){var C,M=8;for(C=0;8>C;++C)M+=p[N+C-32]+p[N-1+32*C];Sa(M>>4,p,N)}function Ea(p,N){var C,M=4;for(C=0;8>C;++C)M+=p[N+C-32];Sa(M>>3,p,N)}function Wr(p,N){var C,M=4;for(C=0;8>C;++C)M+=p[N-1+32*C];Sa(M>>3,p,N)}function yi(p,N){Sa(128,p,N)}function Is(p,N,C){var M=p[N-C],$=p[N+0],K=3*($-M)+tl[1020+p[N-2*C]-p[N+C]],Y=vd[112+(K+4>>3)];p[N-C]=fa[255+M+vd[112+(K+3>>3)]],p[N+0]=fa[255+$-Y]}function bi(p,N,C,M){var $=p[N+0],K=p[N+C];return Xs[255+p[N-2*C]-p[N-C]]>M||Xs[255+K-$]>M}function No(p,N,C,M){return 4*Xs[255+p[N-C]-p[N+0]]+Xs[255+p[N-2*C]-p[N+C]]<=M}function vi(p,N,C,M,$){var K=p[N-3*C],Y=p[N-2*C],J=p[N-C],ne=p[N+0],le=p[N+C],xe=p[N+2*C],Ce=p[N+3*C];return 4*Xs[255+J-ne]+Xs[255+Y-le]>M?0:Xs[255+p[N-4*C]-K]<=$&&Xs[255+K-Y]<=$&&Xs[255+Y-J]<=$&&Xs[255+Ce-xe]<=$&&Xs[255+xe-le]<=$&&Xs[255+le-ne]<=$}function wi(p,N,C,M){var $=2*M+1;for(M=0;16>M;++M)No(p,N+M,C,$)&&Is(p,N+M,C)}function Ba(p,N,C,M){var $=2*M+1;for(M=0;16>M;++M)No(p,N+M*C,1,$)&&Is(p,N+M*C,1)}function Wo(p,N,C,M){var $;for($=3;0<$;--$)wi(p,N+=4*C,C,M)}function Sl(p,N,C,M){var $;for($=3;0<$;--$)Ba(p,N+=4,C,M)}function Aa(p,N,C,M,$,K,Y,J){for(K=2*K+1;0<$--;){if(vi(p,N,C,K,Y))if(bi(p,N,C,J))Is(p,N,C);else{var ne=p,le=N,xe=C,Ce=ne[le-2*xe],ie=ne[le-xe],ve=ne[le+0],Ee=ne[le+xe],Fe=ne[le+2*xe],Ae=27*(Ge=tl[1020+3*(ve-ie)+tl[1020+Ce-Ee]])+63>>7,Oe=18*Ge+63>>7,Ge=9*Ge+63>>7;ne[le-3*xe]=fa[255+ne[le-3*xe]+Ge],ne[le-2*xe]=fa[255+Ce+Oe],ne[le-xe]=fa[255+ie+Ae],ne[le+0]=fa[255+ve-Ae],ne[le+xe]=fa[255+Ee-Oe],ne[le+2*xe]=fa[255+Fe-Ge]}N+=M}}function Ni(p,N,C,M,$,K,Y,J){for(K=2*K+1;0<$--;){if(vi(p,N,C,K,Y))if(bi(p,N,C,J))Is(p,N,C);else{var ne=p,le=N,xe=C,Ce=ne[le-xe],ie=ne[le+0],ve=ne[le+xe],Ee=vd[112+(4+(Fe=3*(ie-Ce))>>3)],Fe=vd[112+(Fe+3>>3)],Ae=Ee+1>>1;ne[le-2*xe]=fa[255+ne[le-2*xe]+Ae],ne[le-xe]=fa[255+Ce+Fe],ne[le+0]=fa[255+ie-Ee],ne[le+xe]=fa[255+ve-Ae]}N+=M}}function mc(p,N,C,M,$,K){Aa(p,N,C,1,16,M,$,K)}function ai(p,N,C,M,$,K){Aa(p,N,1,C,16,M,$,K)}function El(p,N,C,M,$,K){var Y;for(Y=3;0<Y;--Y)Ni(p,N+=4*C,C,1,16,M,$,K)}function A(p,N,C,M,$,K){var Y;for(Y=3;0<Y;--Y)Ni(p,N+=4,1,C,16,M,$,K)}function H(p,N,C,M,$,K,Y,J){Aa(p,N,$,1,8,K,Y,J),Aa(C,M,$,1,8,K,Y,J)}function oe(p,N,C,M,$,K,Y,J){Aa(p,N,1,$,8,K,Y,J),Aa(C,M,1,$,8,K,Y,J)}function ge(p,N,C,M,$,K,Y,J){Ni(p,N+4*$,$,1,8,K,Y,J),Ni(C,M+4*$,$,1,8,K,Y,J)}function we(p,N,C,M,$,K,Y,J){Ni(p,N+4,1,$,8,K,Y,J),Ni(C,M+4,1,$,8,K,Y,J)}function Ve(){this.ba=new At,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new xn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ht(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xt(){this.ua=0,this.Wa=new rn,this.vb=new rn,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ne,this.yc=new B}function Ut(){this.xb=this.a=0,this.l=new Cs,this.ca=new At,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xt,this.ab=0,this.gc=c(4,ht),this.Oc=0}function It(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Cs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function En(p,N,C,M,$,K,Y){for(p=p==null?0:p[N+0],N=0;N<Y;++N)$[K+N]=p+C[M+N]&255,p=$[K+N]}function mr(p,N,C,M,$,K,Y){var J;if(p==null)En(null,null,C,M,$,K,Y);else for(J=0;J<Y;++J)$[K+J]=p[N+J]+C[M+J]&255}function rr(p,N,C,M,$,K,Y){if(p==null)En(null,null,C,M,$,K,Y);else{var J,ne=p[N+0],le=ne,xe=ne;for(J=0;J<Y;++J)le=xe+(ne=p[N+J])-le,xe=C[M+J]+(-256&le?0>le?0:255:le)&255,le=ne,$[K+J]=xe}}function y(p,N,C,M){var $=N.width,K=N.o;if(e(p!=null&&N!=null),0>C||0>=M||C+M>K)return null;if(!p.Cc){if(p.ga==null){var Y;if(p.ga=new It,(Y=p.ga==null)||(Y=N.width*N.o,e(p.Gb.length==0),p.Gb=o(Y),p.Uc=0,p.Gb==null?Y=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,Y=1),Y=!Y),!Y){Y=p.ga;var J=p.Fa,ne=p.P,le=p.qc,xe=p.mb,Ce=p.nb,ie=ne+1,ve=le-1,Ee=Y.l;if(e(J!=null&&xe!=null&&N!=null),nl[0]=null,nl[1]=En,nl[2]=mr,nl[3]=rr,Y.ca=xe,Y.tb=Ce,Y.c=N.width,Y.i=N.height,e(0<Y.c&&0<Y.i),1>=le)N=0;else if(Y.$a=3&J[ne+0],Y.Z=J[ne+0]>>2&3,Y.Lc=J[ne+0]>>4&3,ne=J[ne+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||ne)N=0;else if(Ee.put=Ct,Ee.ac=ms,Ee.bc=Hi,Ee.ma=Y,Ee.width=N.width,Ee.height=N.height,Ee.Da=N.Da,Ee.v=N.v,Ee.va=N.va,Ee.j=N.j,Ee.o=N.o,Y.$a)e:{e(Y.$a==1),N=xo();t:for(;;){if(N==null){N=0;break e}if(e(Y!=null),Y.mc=N,N.c=Y.c,N.i=Y.i,N.l=Y.l,N.l.ma=Y,N.l.width=Y.c,N.l.height=Y.i,N.a=0,Se(N.m,J,ie,ve),!ti(Y.c,Y.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&$n(N.s)?(Y.ic=1,J=N.c*N.i,N.Ta=null,N.Ua=0,N.V=o(J),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(Y.ic=0,N=la(N,Y.c)),!N))break t;N=1;break e}Y.mc=null,N=0}else N=ve>=Y.c*Y.i;Y=!N}if(Y)return null;p.ga.Lc!=1?p.Ga=0:M=K-C}e(p.ga!=null),e(C+M<=K);e:{if(N=(J=p.ga).c,K=J.l.o,J.$a==0){if(ie=p.rc,ve=p.Vc,Ee=p.Fa,ne=p.P+1+C*N,le=p.mb,xe=p.nb+C*N,e(ne<=p.P+p.qc),J.Z!=0)for(e(nl[J.Z]!=null),Y=0;Y<M;++Y)nl[J.Z](ie,ve,Ee,ne,le,xe,N),ie=le,ve=xe,xe+=N,ne+=N;else for(Y=0;Y<M;++Y)r(le,xe,Ee,ne,N),ie=le,ve=xe,xe+=N,ne+=N;p.rc=ie,p.Vc=ve}else{if(e(J.mc!=null),N=C+M,e((Y=J.mc)!=null),e(N<=Y.i),Y.C>=N)N=1;else if(J.ic||Pe(),J.ic){J=Y.V,ie=Y.Ba,ve=Y.c;var Fe=Y.i,Ae=(Ee=1,ne=Y.$/ve,le=Y.$%ve,xe=Y.m,Ce=Y.s,Y.$),Oe=ve*Fe,Ge=ve*N,Qe=Ce.wc,Ke=Ae<Ge?ns(Ce,le,ne):null;e(Ae<=Oe),e(N<=Fe),e($n(Ce));t:for(;;){for(;!xe.h&&Ae<Ge;){if(le&Qe||(Ke=ns(Ce,le,ne)),e(Ke!=null),be(xe),256>(Fe=nr(Ke.G[0],Ke.H[0],xe)))J[ie+Ae]=Fe,++Ae,++le>=ve&&(le=0,++ne<=N&&!(ne%16)&&rs(Y,ne));else{if(!(280>Fe)){Ee=0;break t}Fe=aa(Fe-256,xe);var yt,ut=nr(Ke.G[4],Ke.H[4],xe);if(be(xe),!(Ae>=(ut=ia(ve,ut=aa(ut,xe)))&&Oe-Ae>=Fe)){Ee=0;break t}for(yt=0;yt<Fe;++yt)J[ie+Ae+yt]=J[ie+Ae+yt-ut];for(Ae+=Fe,le+=Fe;le>=ve;)le-=ve,++ne<=N&&!(ne%16)&&rs(Y,ne);Ae<Ge&&le&Qe&&(Ke=ns(Ce,le,ne))}e(xe.h==he(xe))}rs(Y,ne>N?N:ne);break t}!Ee||xe.h&&Ae<Oe?(Ee=0,Y.a=xe.h?5:3):Y.$=Ae,N=Ee}else N=oa(Y,Y.V,Y.Ba,Y.c,Y.i,N,$i);if(!N){M=0;break e}}C+M>=K&&(p.Cc=1),M=1}if(!M)return null;if(p.Cc&&((M=p.ga)!=null&&(M.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+C*$}function R(p,N,C,M,$,K){for(;0<$--;){var Y,J=p,ne=N+(C?1:0),le=p,xe=N+(C?0:3);for(Y=0;Y<M;++Y){var Ce=le[xe+4*Y];Ce!=255&&(Ce*=32897,J[ne+4*Y+0]=J[ne+4*Y+0]*Ce>>23,J[ne+4*Y+1]=J[ne+4*Y+1]*Ce>>23,J[ne+4*Y+2]=J[ne+4*Y+2]*Ce>>23)}N+=K}}function z(p,N,C,M,$){for(;0<M--;){var K;for(K=0;K<C;++K){var Y=p[N+2*K+0],J=15&(le=p[N+2*K+1]),ne=4369*J,le=(240&le|le>>4)*ne>>16;p[N+2*K+0]=(240&Y|Y>>4)*ne>>16&240|(15&Y|Y<<4)*ne>>16>>4&15,p[N+2*K+1]=240&le|J}N+=$}}function Z(p,N,C,M,$,K,Y,J){var ne,le,xe=255;for(le=0;le<$;++le){for(ne=0;ne<M;++ne){var Ce=p[N+ne];K[Y+4*ne]=Ce,xe&=Ce}N+=C,Y+=J}return xe!=255}function _e(p,N,C,M,$){var K;for(K=0;K<$;++K)C[M+K]=p[N+K]>>8}function Pe(){xc=R,_i=z,xd=Z,ci=_e}function et(p,N,C){k[p]=function(M,$,K,Y,J,ne,le,xe,Ce,ie,ve,Ee,Fe,Ae,Oe,Ge,Qe){var Ke,yt=Qe-1>>1,ut=J[ne+0]|le[xe+0]<<16,tn=Ce[ie+0]|ve[Ee+0]<<16;e(M!=null);var mt=3*ut+tn+131074>>2;for(N(M[$+0],255&mt,mt>>16,Fe,Ae),K!=null&&(mt=3*tn+ut+131074>>2,N(K[Y+0],255&mt,mt>>16,Oe,Ge)),Ke=1;Ke<=yt;++Ke){var An=J[ne+Ke]|le[xe+Ke]<<16,_r=Ce[ie+Ke]|ve[Ee+Ke]<<16,hn=ut+An+tn+_r+524296,dt=hn+2*(An+tn)>>3;mt=dt+ut>>1,ut=(hn=hn+2*(ut+_r)>>3)+An>>1,N(M[$+2*Ke-1],255&mt,mt>>16,Fe,Ae+(2*Ke-1)*C),N(M[$+2*Ke-0],255&ut,ut>>16,Fe,Ae+(2*Ke-0)*C),K!=null&&(mt=hn+tn>>1,ut=dt+_r>>1,N(K[Y+2*Ke-1],255&mt,mt>>16,Oe,Ge+(2*Ke-1)*C),N(K[Y+2*Ke+0],255&ut,ut>>16,Oe,Ge+(2*Ke+0)*C)),ut=An,tn=_r}1&Qe||(mt=3*ut+tn+131074>>2,N(M[$+Qe-1],255&mt,mt>>16,Fe,Ae+(Qe-1)*C),K!=null&&(mt=3*tn+ut+131074>>2,N(K[Y+Qe-1],255&mt,mt>>16,Oe,Ge+(Qe-1)*C)))}}function Zt(){Js[_h]=vc,Js[ma]=du,Js[Sh]=gm,Js[Si]=Ih,Js[wd]=Rl,Js[lu]=Ro,Js[Tl]=kl,Js[Nd]=du,Js[Eh]=Ih,Js[cu]=Rl,Js[Ah]=Ro}function gr(p){return p&-16384?0>p?0:255:p>>Rh}function bn(p,N){return gr((19077*p>>8)+(26149*N>>8)-14234)}function Kn(p,N,C){return gr((19077*p>>8)-(6419*N>>8)-(13320*C>>8)+8708)}function Rs(p,N){return gr((19077*p>>8)+(33050*N>>8)-17685)}function Ws(p,N,C,M,$){M[$+0]=bn(p,C),M[$+1]=Kn(p,N,C),M[$+2]=Rs(p,N)}function ar(p,N,C,M,$){M[$+0]=Rs(p,N),M[$+1]=Kn(p,N,C),M[$+2]=bn(p,C)}function Ks(p,N,C,M,$){var K=Kn(p,N,C);N=K<<3&224|Rs(p,N)>>3,M[$+0]=248&bn(p,C)|K>>5,M[$+1]=N}function ii(p,N,C,M,$){var K=240&Rs(p,N)|15;M[$+0]=240&bn(p,C)|Kn(p,N,C)>>4,M[$+1]=K}function jo(p,N,C,M,$){M[$+0]=255,Ws(p,N,C,M,$+1)}function _o(p,N,C,M,$){ar(p,N,C,M,$),M[$+3]=255}function Ta(p,N,C,M,$){Ws(p,N,C,M,$),M[$+3]=255}function Ko(p,N,C){k[p]=function(M,$,K,Y,J,ne,le,xe,Ce){for(var ie=xe+(-2&Ce)*C;xe!=ie;)N(M[$+0],K[Y+0],J[ne+0],le,xe),N(M[$+1],K[Y+0],J[ne+0],le,xe+C),$+=2,++Y,++ne,xe+=2*C;1&Ce&&N(M[$+0],K[Y+0],J[ne+0],le,xe)}}function ru(p,N,C){return C==0?p==0?N==0?6:5:N==0?4:0:C}function md(p,N,C,M,$){switch(p>>>30){case 3:el(N,C,M,$,0);break;case 2:ha(N,C,M,$);break;case 1:qn(N,C,M,$)}}function oi(p,N){var C,M,$=N.M,K=N.Nb,Y=p.oc,J=p.pc+40,ne=p.oc,le=p.pc+584,xe=p.oc,Ce=p.pc+600;for(C=0;16>C;++C)Y[J+32*C-1]=129;for(C=0;8>C;++C)ne[le+32*C-1]=129,xe[Ce+32*C-1]=129;for(0<$?Y[J-1-32]=ne[le-1-32]=xe[Ce-1-32]=129:(a(Y,J-32-1,127,21),a(ne,le-32-1,127,9),a(xe,Ce-32-1,127,9)),M=0;M<p.za;++M){var ie=N.ya[N.aa+M];if(0<M){for(C=-1;16>C;++C)r(Y,J+32*C-4,Y,J+32*C+12,4);for(C=-1;8>C;++C)r(ne,le+32*C-4,ne,le+32*C+4,4),r(xe,Ce+32*C-4,xe,Ce+32*C+4,4)}var ve=p.Gd,Ee=p.Hd+M,Fe=ie.ad,Ae=ie.Hc;if(0<$&&(r(Y,J-32,ve[Ee].y,0,16),r(ne,le-32,ve[Ee].f,0,8),r(xe,Ce-32,ve[Ee].ea,0,8)),ie.Za){var Oe=Y,Ge=J-32+16;for(0<$&&(M>=p.za-1?a(Oe,Ge,ve[Ee].y[15],4):r(Oe,Ge,ve[Ee+1].y,0,4)),C=0;4>C;C++)Oe[Ge+128+C]=Oe[Ge+256+C]=Oe[Ge+384+C]=Oe[Ge+0+C];for(C=0;16>C;++C,Ae<<=2)Oe=Y,Ge=J+Xr[C],Ur[ie.Ob[C]](Oe,Ge),md(Ae,Fe,16*+C,Oe,Ge)}else if(Oe=ru(M,$,ie.Ob[0]),Ia[Oe](Y,J),Ae!=0)for(C=0;16>C;++C,Ae<<=2)md(Ae,Fe,16*+C,Y,J+Xr[C]);for(C=ie.Gc,Oe=ru(M,$,ie.Dd),to[Oe](ne,le),to[Oe](xe,Ce),Ae=Fe,Oe=ne,Ge=le,255&(ie=0|C)&&(170&ie?ji(Ae,256,Oe,Ge):Mn(Ae,256,Oe,Ge)),ie=xe,Ae=Ce,255&(C>>=8)&&(170&C?ji(Fe,320,ie,Ae):Mn(Fe,320,ie,Ae)),$<p.Ub-1&&(r(ve[Ee].y,0,Y,J+480,16),r(ve[Ee].f,0,ne,le+224,8),r(ve[Ee].ea,0,xe,Ce+224,8)),C=8*K*p.B,ve=p.sa,Ee=p.ta+16*M+16*K*p.R,Fe=p.qa,ie=p.ra+8*M+C,Ae=p.Ha,Oe=p.Ia+8*M+C,C=0;16>C;++C)r(ve,Ee+C*p.R,Y,J+32*C,16);for(C=0;8>C;++C)r(Fe,ie+C*p.B,ne,le+32*C,8),r(Ae,Oe+C*p.B,xe,Ce+32*C,8)}}function Ji(p,N,C,M,$,K,Y,J,ne){var le=[0],xe=[0],Ce=0,ie=ne!=null?ne.kd:0,ve=ne??new Xe;if(p==null||12>C)return 7;ve.data=p,ve.w=N,ve.ha=C,N=[N],C=[C],ve.gb=[ve.gb];e:{var Ee=N,Fe=C,Ae=ve.gb;if(e(p!=null),e(Fe!=null),e(Ae!=null),Ae[0]=0,12<=Fe[0]&&!t(p,Ee[0],"RIFF")){if(t(p,Ee[0]+8,"WEBP")){Ae=3;break e}var Oe=ft(p,Ee[0]+4);if(12>Oe||4294967286<Oe){Ae=3;break e}if(ie&&Oe>Fe[0]-8){Ae=7;break e}Ae[0]=Oe,Ee[0]+=12,Fe[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Oe=0<ve.gb[0],C=C[0];;){e:{var Ge=p;Fe=N,Ae=C;var Qe=le,Ke=xe,yt=Ee=[0];if((mt=Ce=[Ce])[0]=0,8>Ae[0])Ae=7;else{if(!t(Ge,Fe[0],"VP8X")){if(ft(Ge,Fe[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var ut=ft(Ge,Fe[0]+8),tn=1+at(Ge,Fe[0]+12);if(2147483648<=tn*(Ge=1+at(Ge,Fe[0]+15))){Ae=3;break e}yt!=null&&(yt[0]=ut),Qe!=null&&(Qe[0]=tn),Ke!=null&&(Ke[0]=Ge),Fe[0]+=18,Ae[0]-=18,mt[0]=1}Ae=0}}if(Ce=Ce[0],Ee=Ee[0],Ae!=0)return Ae;if(Fe=!!(2&Ee),!Oe&&Ce)return 3;if(K!=null&&(K[0]=!!(16&Ee)),Y!=null&&(Y[0]=Fe),J!=null&&(J[0]=0),Y=le[0],Ee=xe[0],Ce&&Fe&&ne==null){Ae=0;break}if(4>C){Ae=7;break}if(Oe&&Ce||!Oe&&!Ce&&!t(p,N[0],"ALPH")){C=[C],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{ut=p,Ae=N,Oe=C;var mt=ve.gb;Qe=ve.na,Ke=ve.P,yt=ve.Sa,tn=22,e(ut!=null),e(Oe!=null),Ge=Ae[0];var An=Oe[0];for(e(Qe!=null),e(yt!=null),Qe[0]=null,Ke[0]=null,yt[0]=0;;){if(Ae[0]=Ge,Oe[0]=An,8>An){Ae=7;break e}var _r=ft(ut,Ge+4);if(4294967286<_r){Ae=3;break e}var hn=8+_r+1&-2;if(tn+=hn,0<mt&&tn>mt){Ae=3;break e}if(!t(ut,Ge,"VP8 ")||!t(ut,Ge,"VP8L")){Ae=0;break e}if(An[0]<hn){Ae=7;break e}t(ut,Ge,"ALPH")||(Qe[0]=ut,Ke[0]=Ge+8,yt[0]=_r),Ge+=hn,An-=hn}}if(C=C[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Ae!=0)break}C=[C],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(mt=p,Ae=N,Oe=C,Qe=ve.gb[0],Ke=ve.Ja,yt=ve.xa,ut=Ae[0],Ge=!t(mt,ut,"VP8 "),tn=!t(mt,ut,"VP8L"),e(mt!=null),e(Oe!=null),e(Ke!=null),e(yt!=null),8>Oe[0])Ae=7;else{if(Ge||tn){if(mt=ft(mt,ut+4),12<=Qe&&mt>Qe-12){Ae=3;break e}if(ie&&mt>Oe[0]-8){Ae=7;break e}Ke[0]=mt,Ae[0]+=8,Oe[0]-=8,yt[0]=tn}else yt[0]=5<=Oe[0]&&mt[ut+0]==47&&!(mt[ut+4]>>5),Ke[0]=Oe[0];Ae=0}if(C=C[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],N=N[0],Ae!=0)break;if(4294967286<ve.Ja)return 3;if(J==null||Fe||(J[0]=ve.xa?2:1),Y=[Y],Ee=[Ee],ve.xa){if(5>C){Ae=7;break}J=Y,ie=Ee,Fe=K,p==null||5>C?p=0:5<=C&&p[N+0]==47&&!(p[N+4]>>5)?(Oe=[0],mt=[0],Qe=[0],Se(Ke=new Q,p,N,C),va(Ke,Oe,mt,Qe)?(J!=null&&(J[0]=Oe[0]),ie!=null&&(ie[0]=mt[0]),Fe!=null&&(Fe[0]=Qe[0]),p=1):p=0):p=0}else{if(10>C){Ae=7;break}J=Ee,p==null||10>C||!Wi(p,N+3,C-3)?p=0:(ie=p[N+0]|p[N+1]<<8|p[N+2]<<16,Fe=16383&(p[N+7]<<8|p[N+6]),p=16383&(p[N+9]<<8|p[N+8]),1&ie||3<(ie>>1&7)||!(ie>>4&1)||ie>>5>=ve.Ja||!Fe||!p?p=0:(Y&&(Y[0]=Fe),J&&(J[0]=p),p=1))}if(!p||(Y=Y[0],Ee=Ee[0],Ce&&(le[0]!=Y||xe[0]!=Ee)))return 3;ne!=null&&(ne[0]=ve,ne.offset=N-ne.w,e(4294967286>N-ne.w),e(ne.offset==ne.ha-C));break}return Ae==0||Ae==7&&Ce&&ne==null?(K!=null&&(K[0]|=ve.na!=null&&0<ve.na.length),M!=null&&(M[0]=Y),$!=null&&($[0]=Ee),0):Ae}function Yo(p,N,C){var M=N.width,$=N.height,K=0,Y=0,J=M,ne=$;if(N.Da=p!=null&&0<p.Da,N.Da&&(J=p.cd,ne=p.bd,K=p.v,Y=p.j,11>C||(K&=-2,Y&=-2),0>K||0>Y||0>=J||0>=ne||K+J>M||Y+ne>$))return 0;if(N.v=K,N.j=Y,N.va=K+J,N.o=Y+ne,N.U=J,N.T=ne,N.da=p!=null&&0<p.da,N.da){if(!Pt(J,ne,C=[p.ib],K=[p.hb]))return 0;N.ib=C[0],N.hb=K[0]}return N.ob=p!=null&&p.ob,N.Kb=p==null||!p.Sd,N.da&&(N.ob=N.ib<3*M/4&&N.hb<3*$/4,N.Kb=0),1}function gd(p){if(p==null)return 2;if(11>p.S){var N=p.f.RGBA;N.fb+=(p.height-1)*N.A,N.A=-N.A}else N=p.f.kb,p=p.height,N.O+=(p-1)*N.fa,N.fa=-N.fa,N.N+=(p-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(p-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(p-1)*N.lb,N.lb=-N.lb);return 0}function Zi(p,N,C,M){if(M==null||0>=p||0>=N)return 2;if(C!=null){if(C.Da){var $=C.cd,K=C.bd,Y=-2&C.v,J=-2&C.j;if(0>Y||0>J||0>=$||0>=K||Y+$>p||J+K>N)return 2;p=$,N=K}if(C.da){if(!Pt(p,N,$=[C.ib],K=[C.hb]))return 2;p=$[0],N=K[0]}}M.width=p,M.height=N;e:{var ne=M.width,le=M.height;if(p=M.S,0>=ne||0>=le||!(p>=_h&&13>p))p=2;else{if(0>=M.Rd&&M.sd==null){Y=K=$=N=0;var xe=(J=ne*Ph[p])*le;if(11>p||(K=(le+1)/2*(N=(ne+1)/2),p==12&&(Y=($=ne)*le)),(le=o(xe+2*K+Y))==null){p=1;break e}M.sd=le,11>p?((ne=M.f.RGBA).eb=le,ne.fb=0,ne.A=J,ne.size=xe):((ne=M.f.kb).y=le,ne.O=0,ne.fa=J,ne.Fd=xe,ne.f=le,ne.N=0+xe,ne.Ab=N,ne.Cd=K,ne.ea=le,ne.W=0+xe+K,ne.Db=N,ne.Ed=K,p==12&&(ne.F=le,ne.J=0+xe+2*K),ne.Tc=Y,ne.lb=$)}if(N=1,$=M.S,K=M.width,Y=M.height,$>=_h&&13>$)if(11>$)p=M.f.RGBA,N&=(J=Math.abs(p.A))*(Y-1)+K<=p.size,N&=J>=K*Ph[$],N&=p.eb!=null;else{p=M.f.kb,J=(K+1)/2,xe=(Y+1)/2,ne=Math.abs(p.fa),le=Math.abs(p.Ab);var Ce=Math.abs(p.Db),ie=Math.abs(p.lb),ve=ie*(Y-1)+K;N&=ne*(Y-1)+K<=p.Fd,N&=le*(xe-1)+J<=p.Cd,N=(N&=Ce*(xe-1)+J<=p.Ed)&ne>=K&le>=J&Ce>=J,N&=p.y!=null,N&=p.f!=null,N&=p.ea!=null,$==12&&(N&=ie>=K,N&=ve<=p.Tc,N&=p.F!=null)}else N=0;p=N?0:2}}return p!=0||C!=null&&C.fd&&(p=gd(M)),p}var Al=64,za=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ca=24,So=32,Eo=8,Xo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];lt("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(p){return p},k.Predictor2=function(p,N,C){return N[C+0]},k.Predictor3=function(p,N,C){return N[C+1]},k.Predictor4=function(p,N,C){return N[C-1]},k.Predictor5=function(p,N,C){return Et(Et(p,N[C+1]),N[C+0])},k.Predictor6=function(p,N,C){return Et(p,N[C-1])},k.Predictor7=function(p,N,C){return Et(p,N[C+0])},k.Predictor8=function(p,N,C){return Et(N[C-1],N[C+0])},k.Predictor9=function(p,N,C){return Et(N[C+0],N[C+1])},k.Predictor10=function(p,N,C){return Et(Et(p,N[C-1]),Et(N[C+0],N[C+1]))},k.Predictor11=function(p,N,C){var M=N[C+0];return 0>=Qt(M>>24&255,p>>24&255,(N=N[C-1])>>24&255)+Qt(M>>16&255,p>>16&255,N>>16&255)+Qt(M>>8&255,p>>8&255,N>>8&255)+Qt(255&M,255&p,255&N)?M:p},k.Predictor12=function(p,N,C){var M=N[C+0];return(sn((p>>24&255)+(M>>24&255)-((N=N[C-1])>>24&255))<<24|sn((p>>16&255)+(M>>16&255)-(N>>16&255))<<16|sn((p>>8&255)+(M>>8&255)-(N>>8&255))<<8|sn((255&p)+(255&M)-(255&N)))>>>0},k.Predictor13=function(p,N,C){var M=N[C-1];return(dn((p=Et(p,N[C+0]))>>24&255,M>>24&255)<<24|dn(p>>16&255,M>>16&255)<<16|dn(p>>8&255,M>>8&255)<<8|dn(255&p,255&M))>>>0};var su=k.PredictorAdd0;k.PredictorAdd1=pn,lt("Predictor2","PredictorAdd2"),lt("Predictor3","PredictorAdd3"),lt("Predictor4","PredictorAdd4"),lt("Predictor5","PredictorAdd5"),lt("Predictor6","PredictorAdd6"),lt("Predictor7","PredictorAdd7"),lt("Predictor8","PredictorAdd8"),lt("Predictor9","PredictorAdd9"),lt("Predictor10","PredictorAdd10"),lt("Predictor11","PredictorAdd11"),lt("Predictor12","PredictorAdd12"),lt("Predictor13","PredictorAdd13");var au=k.PredictorAdd2;Nt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Kr,wh=k.ColorIndexInverseTransform,Ao=k.MapARGB,To=k.VP8LColorIndexInverseTransformAlpha,Ys=k.MapAlpha,Qo=k.VP8LPredictorsAdd=[];Qo.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var iu,ou,Jo,Zo,Co,gc,li,el,ha,ji,qn,Mn,pr,Yr,Io,eo,pc,pd,um,mp,gp,pp,dm,hm,xc,_i,xd,ci,yc=o(511),Nh=o(2041),yd=o(225),bd=o(767),jh=0,tl=Nh,vd=yd,fa=bd,Xs=yc,_h=0,ma=1,Sh=2,Si=3,wd=4,lu=5,Tl=6,Nd=7,Eh=8,cu=9,Ah=10,Ei=[2,3,7],uu=[3,3,11],bc=[280,256,256,256,40],Th=[0,1,1,1,0],jd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ai=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ti=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Cl=8,Ci=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ii=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ui=null,xp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],fm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ch=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Qs=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],jr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Tn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ia=[],Ur=[],to=[],Il=1,mm=2,nl=[],Js=[];et("UpsampleRgbLinePair",Ws,3),et("UpsampleBgrLinePair",ar,3),et("UpsampleRgbaLinePair",Ta,4),et("UpsampleBgraLinePair",_o,4),et("UpsampleArgbLinePair",jo,4),et("UpsampleRgba4444LinePair",ii,2),et("UpsampleRgb565LinePair",Ks,2);var vc=k.UpsampleRgbLinePair,gm=k.UpsampleBgrLinePair,du=k.UpsampleRgbaLinePair,Ih=k.UpsampleBgraLinePair,Rl=k.UpsampleArgbLinePair,Ro=k.UpsampleRgba4444LinePair,kl=k.UpsampleRgb565LinePair,Ri=16,hu=1<<Ri-1,wc=-227,Pl=482,Rh=6,Ll=0,Zs=o(256),kh=o(256),bp=o(256),_y=o(256),Sy=o(Pl-wc),Ey=o(Pl-wc);Ko("YuvToRgbRow",Ws,3),Ko("YuvToBgrRow",ar,3),Ko("YuvToRgbaRow",Ta,4),Ko("YuvToBgraRow",_o,4),Ko("YuvToArgbRow",jo,4),Ko("YuvToRgba4444Row",ii,2),Ko("YuvToRgb565Row",Ks,2);var Xr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],fu=[0,2,8],_d=[8,7,6,4,4,2,2,2,1,1,1,1],Sd=1;this.WebPDecodeRGBA=function(p,N,C,M,$){var K=ma,Y=new Ve,J=new At;Y.ba=J,J.S=K,J.width=[J.width],J.height=[J.height];var ne=J.width,le=J.height,xe=new jt;if(xe==null||p==null)var Ce=2;else e(xe!=null),Ce=Ji(p,N,C,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Ce!=0?ne=0:(ne!=null&&(ne[0]=xe.width[0]),le!=null&&(le[0]=xe.height[0]),ne=1),ne){J.width=J.width[0],J.height=J.height[0],M!=null&&(M[0]=J.width),$!=null&&($[0]=J.height);e:{if(M=new Cs,($=new Xe).data=p,$.w=N,$.ha=C,$.kd=1,N=[0],e($!=null),((p=Ji($.data,$.w,$.ha,null,null,null,N,null,$))==0||p==7)&&N[0]&&(p=4),(N=p)==0){if(e(Y!=null),M.data=$.data,M.w=$.w+$.offset,M.ha=$.ha-$.offset,M.put=Ct,M.ac=ms,M.bc=Hi,M.ma=Y,$.xa){if((p=xo())==null){Y=1;break e}if((function(ie,ve){var Ee=[0],Fe=[0],Ae=[0];t:for(;;){if(ie==null)return 0;if(ve==null)return ie.a=2,0;if(ie.l=ve,ie.a=0,Se(ie.m,ve.data,ve.w,ve.ha),!va(ie.m,Ee,Fe,Ae)){ie.a=3;break t}if(ie.xb=mm,ve.width=Ee[0],ve.height=Fe[0],!ti(Ee[0],Fe[0],1,ie,null))break t;return 1}return e(ie.a!=0),0})(p,M)){if(M=(N=Zi(M.width,M.height,Y.Oa,Y.ba))==0){t:{M=p;n:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((C=M.l)!=null),e(($=C.ma)!=null),M.xb!=0){if(M.ca=$.ba,M.tb=$.tb,e(M.ca!=null),!Yo($.Oa,C,Si)){M.a=2;break n}if(!la(M,C.width)||C.da)break n;if((C.da||zt(M.ca.S))&&Pe(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&Pe()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!ae(M.s.vb,M.s.Wa.Xa)){M.a=1;break n}M.xb=0}if(!oa(M,M.V,M.Ba,M.c,M.i,C.o,Ts))break n;$.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(N=p.a)}else N=p.a}else{if((p=new Or)==null){Y=1;break e}if(p.Fa=$.na,p.P=$.P,p.qc=$.Sa,Va(p,M)){if((N=Zi(M.width,M.height,Y.Oa,Y.ba))==0){if(p.Aa=0,C=Y.Oa,e(($=p)!=null),C!=null){if(0<(ne=0>(ne=C.Md)?0:100<ne?255:255*ne/100)){for(le=xe=0;4>le;++le)12>(Ce=$.pb[le]).lc&&(Ce.ia=ne*_d[0>Ce.lc?0:Ce.lc]>>3),xe|=Ce.ia;xe&&(alert("todo:VP8InitRandom"),$.ia=1)}$.Ga=C.Id,100<$.Ga?$.Ga=100:0>$.Ga&&($.Ga=0)}(function(ie,ve){if(ie==null)return 0;if(ve==null)return wn(ie,2,"NULL VP8Io parameter in VP8Decode().");if(!ie.cb&&!Va(ie,ve))return 0;if(e(ie.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(ie.L=0);var Ee=fu[ie.L];if(ie.L==2?(ie.yb=0,ie.zb=0):(ie.yb=ve.v-Ee>>4,ie.zb=ve.j-Ee>>4,0>ie.yb&&(ie.yb=0),0>ie.zb&&(ie.zb=0)),ie.Va=ve.o+15+Ee>>4,ie.Hb=ve.va+15+Ee>>4,ie.Hb>ie.za&&(ie.Hb=ie.za),ie.Va>ie.Ub&&(ie.Va=ie.Ub),0<ie.L){var Fe=ie.ed;for(Ee=0;4>Ee;++Ee){var Ae;if(ie.Qa.Cb){var Oe=ie.Qa.Lb[Ee];ie.Qa.Fb||(Oe+=Fe.Tb)}else Oe=Fe.Tb;for(Ae=0;1>=Ae;++Ae){var Ge=ie.gd[Ee][Ae],Qe=Oe;if(Fe.Pc&&(Qe+=Fe.vd[0],Ae&&(Qe+=Fe.od[0])),0<(Qe=0>Qe?0:63<Qe?63:Qe)){var Ke=Qe;0<Fe.wb&&(Ke=4<Fe.wb?Ke>>2:Ke>>1)>9-Fe.wb&&(Ke=9-Fe.wb),1>Ke&&(Ke=1),Ge.dd=Ke,Ge.tc=2*Qe+Ke,Ge.ld=40<=Qe?2:15<=Qe?1:0}else Ge.tc=0;Ge.La=Ae}}}Ee=0}else wn(ie,6,"Frame setup failed"),Ee=ie.a;if(Ee=Ee==0){if(Ee){ie.$c=0,0<ie.Aa||(ie.Ic=Sd);t:{Ee=ie.Ic,Fe=4*(Ke=ie.za);var yt=32*Ke,ut=Ke+1,tn=0<ie.L?Ke*(0<ie.Aa?2:1):0,mt=(ie.Aa==2?2:1)*Ke;if((Ge=Fe+832+(Ae=3*(16*Ee+fu[ie.L])/2*yt)+(Oe=ie.Fa!=null&&0<ie.Fa.length?ie.Kc.c*ie.Kc.i:0))!=Ge)Ee=0;else{if(Ge>ie.Vb){if(ie.Vb=0,ie.Ec=o(Ge),ie.Fc=0,ie.Ec==null){Ee=wn(ie,1,"no memory during frame initialization.");break t}ie.Vb=Ge}Ge=ie.Ec,Qe=ie.Fc,ie.Ac=Ge,ie.Bc=Qe,Qe+=Fe,ie.Gd=c(yt,wl),ie.Hd=0,ie.rb=c(ut+1,Ua),ie.sb=1,ie.wa=tn?c(tn,ca):null,ie.Y=0,ie.D.Nb=0,ie.D.wa=ie.wa,ie.D.Y=ie.Y,0<ie.Aa&&(ie.D.Y+=Ke),e(!0),ie.oc=Ge,ie.pc=Qe,Qe+=832,ie.ya=c(mt,zo),ie.aa=0,ie.D.ya=ie.ya,ie.D.aa=ie.aa,ie.Aa==2&&(ie.D.aa+=Ke),ie.R=16*Ke,ie.B=8*Ke,Ke=(yt=fu[ie.L])*ie.R,yt=yt/2*ie.B,ie.sa=Ge,ie.ta=Qe+Ke,ie.qa=ie.sa,ie.ra=ie.ta+16*Ee*ie.R+yt,ie.Ha=ie.qa,ie.Ia=ie.ra+8*Ee*ie.B+yt,ie.$c=0,Qe+=Ae,ie.mb=Oe?Ge:null,ie.nb=Oe?Qe:null,e(Qe+Oe<=ie.Fc+ie.Vb),yo(ie),a(ie.Ac,ie.Bc,0,Fe),Ee=1}}if(Ee){if(ve.ka=0,ve.y=ie.sa,ve.O=ie.ta,ve.f=ie.qa,ve.N=ie.ra,ve.ea=ie.Ha,ve.Vd=ie.Ia,ve.fa=ie.R,ve.Rc=ie.B,ve.F=null,ve.J=0,!jh){for(Ee=-255;255>=Ee;++Ee)yc[255+Ee]=0>Ee?-Ee:Ee;for(Ee=-1020;1020>=Ee;++Ee)Nh[1020+Ee]=-128>Ee?-128:127<Ee?127:Ee;for(Ee=-112;112>=Ee;++Ee)yd[112+Ee]=-16>Ee?-16:15<Ee?15:Ee;for(Ee=-255;510>=Ee;++Ee)bd[255+Ee]=0>Ee?0:255<Ee?255:Ee;jh=1}li=gs,el=cc,ji=$s,qn=uc,Mn=Ki,ha=nu,pr=mc,Yr=ai,Io=H,eo=oe,pc=El,pd=A,um=ge,mp=we,gp=wi,pp=Ba,dm=Wo,hm=Sl,Ur[0]=wo,Ur[1]=dc,Ur[2]=Go,Ur[3]=_l,Ur[4]=ps,Ur[5]=Ho,Ur[6]=ss,Ur[7]=Wn,Ur[8]=$o,Ur[9]=_a,Ia[0]=ri,Ia[1]=Nl,Ia[2]=jl,Ia[3]=Yi,Ia[4]=Xi,Ia[5]=da,Ia[6]=vo,to[0]=Qi,to[1]=hc,to[2]=si,to[3]=fc,to[4]=Wr,to[5]=Ea,to[6]=yi,Ee=1}else Ee=0}Ee&&(Ee=(function(An,_r){for(An.M=0;An.M<An.Va;++An.M){var hn,dt=An.Jc[An.M&An.Xb],rt=An.m,Rr=An;for(hn=0;hn<Rr.za;++hn){var Kt=rt,gn=Rr,Jn=gn.Ac,xs=gn.Bc+4*hn,ea=gn.zc,xr=gn.ya[gn.aa+hn];if(gn.Qa.Bb?xr.$b=qe(Kt,gn.Pa.jb[0])?2+qe(Kt,gn.Pa.jb[2]):qe(Kt,gn.Pa.jb[1]):xr.$b=0,gn.kc&&(xr.Ad=qe(Kt,gn.Bd)),xr.Za=!qe(Kt,145)+0,xr.Za){var as=xr.Ob,ga=0;for(gn=0;4>gn;++gn){var is,vn=ea[0+gn];for(is=0;4>is;++is){vn=Qs[Jn[xs+is]][vn];for(var Fn=Ch[qe(Kt,vn[0])];0<Fn;)Fn=Ch[2*Fn+qe(Kt,vn[Fn])];vn=-Fn,Jn[xs+is]=vn}r(as,ga,Jn,xs,4),ga+=4,ea[0+gn]=vn}}else vn=qe(Kt,156)?qe(Kt,128)?1:3:qe(Kt,163)?2:0,xr.Ob[0]=vn,a(Jn,xs,vn,4),a(ea,0,vn,4);xr.Dd=qe(Kt,142)?qe(Kt,114)?qe(Kt,183)?1:3:2:0}if(Rr.m.Ka)return wn(An,7,"Premature end-of-partition0 encountered.");for(;An.ja<An.za;++An.ja){if(Rr=dt,Kt=(rt=An).rb[rt.sb-1],Jn=rt.rb[rt.sb+rt.ja],hn=rt.ya[rt.aa+rt.ja],xs=rt.kc?hn.Ad:0)Kt.la=Jn.la=0,hn.Za||(Kt.Na=Jn.Na=0),hn.Hc=0,hn.Gc=0,hn.ia=0;else{var kr,Gn;if(Kt=Jn,Jn=Rr,xs=rt.Pa.Xc,ea=rt.ya[rt.aa+rt.ja],xr=rt.pb[ea.$b],gn=ea.ad,as=0,ga=rt.rb[rt.sb-1],vn=is=0,a(gn,as,0,384),ea.Za)var ys=0,Pr=xs[3];else{Fn=o(16);var Un=Kt.Na+ga.Na;if(Un=ui(Jn,xs[1],Un,xr.Eb,0,Fn,0),Kt.Na=ga.Na=(0<Un)+0,1<Un)li(Fn,0,gn,as);else{var Qr=Fn[0]+3>>3;for(Fn=0;256>Fn;Fn+=16)gn[as+Fn]=Qr}ys=1,Pr=xs[0]}var Zn=15&Kt.la,os=15&ga.la;for(Fn=0;4>Fn;++Fn){var ls=1&os;for(Qr=Gn=0;4>Qr;++Qr)Zn=Zn>>1|(ls=(Un=ui(Jn,Pr,Un=ls+(1&Zn),xr.Sc,ys,gn,as))>ys)<<7,Gn=Gn<<2|(3<Un?3:1<Un?2:gn[as+0]!=0),as+=16;Zn>>=4,os=os>>1|ls<<7,is=(is<<8|Gn)>>>0}for(Pr=Zn,ys=os>>4,kr=0;4>kr;kr+=2){for(Gn=0,Zn=Kt.la>>4+kr,os=ga.la>>4+kr,Fn=0;2>Fn;++Fn){for(ls=1&os,Qr=0;2>Qr;++Qr)Un=ls+(1&Zn),Zn=Zn>>1|(ls=0<(Un=ui(Jn,xs[2],Un,xr.Qc,0,gn,as)))<<3,Gn=Gn<<2|(3<Un?3:1<Un?2:gn[as+0]!=0),as+=16;Zn>>=2,os=os>>1|ls<<5}vn|=Gn<<4*kr,Pr|=Zn<<4<<kr,ys|=(240&os)<<kr}Kt.la=Pr,ga.la=ys,ea.Hc=is,ea.Gc=vn,ea.ia=43690&vn?0:xr.ia,xs=!(is|vn)}if(0<rt.L&&(rt.wa[rt.Y+rt.ja]=rt.gd[hn.$b][hn.Za],rt.wa[rt.Y+rt.ja].La|=!xs),Rr.Ka)return wn(An,7,"Premature end-of-file encountered.")}if(yo(An),rt=_r,Rr=1,hn=(dt=An).D,Kt=0<dt.L&&dt.M>=dt.zb&&dt.M<=dt.Va,dt.Aa==0)t:{if(hn.M=dt.M,hn.uc=Kt,oi(dt,hn),Rr=1,hn=(Gn=dt.D).Nb,Kt=(vn=fu[dt.L])*dt.R,Jn=vn/2*dt.B,Fn=16*hn*dt.R,Qr=8*hn*dt.B,xs=dt.sa,ea=dt.ta-Kt+Fn,xr=dt.qa,gn=dt.ra-Jn+Qr,as=dt.Ha,ga=dt.Ia-Jn+Qr,os=(Zn=Gn.M)==0,is=Zn>=dt.Va-1,dt.Aa==2&&oi(dt,Gn),Gn.uc)for(ls=(Un=dt).D.M,e(Un.D.uc),Gn=Un.yb;Gn<Un.Hb;++Gn){ys=Gn,Pr=ls;var ir=(On=(cs=Un).D).Nb;kr=cs.R;var On=On.wa[On.Y+ys],pa=cs.sa,Vr=cs.ta+16*ir*kr+16*ys,Ft=On.dd,Vt=On.tc;if(Vt!=0)if(e(3<=Vt),cs.L==1)0<ys&&pp(pa,Vr,kr,Vt+4),On.La&&hm(pa,Vr,kr,Vt),0<Pr&&gp(pa,Vr,kr,Vt+4),On.La&&dm(pa,Vr,kr,Vt);else{var Vn=cs.B,qa=cs.qa,ki=cs.ra+8*ir*Vn+8*ys,Ra=cs.Ha,cs=cs.Ia+8*ir*Vn+8*ys;ir=On.ld,0<ys&&(Yr(pa,Vr,kr,Vt+4,Ft,ir),eo(qa,ki,Ra,cs,Vn,Vt+4,Ft,ir)),On.La&&(pd(pa,Vr,kr,Vt,Ft,ir),mp(qa,ki,Ra,cs,Vn,Vt,Ft,ir)),0<Pr&&(pr(pa,Vr,kr,Vt+4,Ft,ir),Io(qa,ki,Ra,cs,Vn,Vt+4,Ft,ir)),On.La&&(pc(pa,Vr,kr,Vt,Ft,ir),um(qa,ki,Ra,cs,Vn,Vt,Ft,ir))}}if(dt.ia&&alert("todo:DitherRow"),rt.put!=null){if(Gn=16*Zn,Zn=16*(Zn+1),os?(rt.y=dt.sa,rt.O=dt.ta+Fn,rt.f=dt.qa,rt.N=dt.ra+Qr,rt.ea=dt.Ha,rt.W=dt.Ia+Qr):(Gn-=vn,rt.y=xs,rt.O=ea,rt.f=xr,rt.N=gn,rt.ea=as,rt.W=ga),is||(Zn-=vn),Zn>rt.o&&(Zn=rt.o),rt.F=null,rt.J=null,dt.Fa!=null&&0<dt.Fa.length&&Gn<Zn&&(rt.J=y(dt,rt,Gn,Zn-Gn),rt.F=dt.mb,rt.F==null&&rt.F.length==0)){Rr=wn(dt,3,"Could not decode alpha data.");break t}Gn<rt.j&&(vn=rt.j-Gn,Gn=rt.j,e(!(1&vn)),rt.O+=dt.R*vn,rt.N+=dt.B*(vn>>1),rt.W+=dt.B*(vn>>1),rt.F!=null&&(rt.J+=rt.width*vn)),Gn<Zn&&(rt.O+=rt.v,rt.N+=rt.v>>1,rt.W+=rt.v>>1,rt.F!=null&&(rt.J+=rt.v),rt.ka=Gn-rt.j,rt.U=rt.va-rt.v,rt.T=Zn-Gn,Rr=rt.put(rt))}hn+1!=dt.Ic||is||(r(dt.sa,dt.ta-Kt,xs,ea+16*dt.R,Kt),r(dt.qa,dt.ra-Jn,xr,gn+8*dt.B,Jn),r(dt.Ha,dt.Ia-Jn,as,ga+8*dt.B,Jn))}if(!Rr)return wn(An,6,"Output aborted.")}return 1})(ie,ve)),ve.bc!=null&&ve.bc(ve),Ee&=1}return Ee?(ie.cb=0,Ee):0})(p,M)||(N=p.a)}}else N=p.a}N==0&&Y.Oa!=null&&Y.Oa.fd&&(N=gd(Y.ba))}Y=N}K=Y!=0?null:11>K?J.f.RGBA.eb:J.f.kb.y}else K=null;return K};var Ph=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(k,F){for(var I="",P=0;P<4;P++)I+=String.fromCharCode(k[F++]);return I}function g(k,F){return k[F+0]|k[F+1]<<8}function x(k,F){return(k[F+0]|k[F+1]<<8|k[F+2]<<16)>>>0}function v(k,F){return(k[F+0]|k[F+1]<<8|k[F+2]<<16|k[F+3]<<24)>>>0}new h;var b=[0],T=[0],E=[],j=new h,S=n,L=(function(k,F){var I={},P=0,B=!1,ue=0,Ne=0;if(I.frames=[],!(function(q,Q){for(var se=0;se<4;se++)if(q[Q+se]!="RIFF".charCodeAt(se))return!0;return!1})(k,F)){for(v(k,F+=4),F+=8;F<k.length;){var ce=f(k,F),pe=v(k,F+=4);F+=4;var de=pe+(1&pe);switch(ce){case"VP8 ":case"VP8L":I.frames[P]===void 0&&(I.frames[P]={}),(re=I.frames[P]).src_off=B?Ne:F-8,re.src_size=ue+pe+8,P++,B&&(B=!1,ue=0,Ne=0);break;case"VP8X":(re=I.header={}).feature_flags=k[F];var Se=F+4;re.canvas_width=1+x(k,Se),Se+=3,re.canvas_height=1+x(k,Se),Se+=3;break;case"ALPH":B=!0,ue=de+8,Ne=F-8;break;case"ANIM":(re=I.header).bgcolor=v(k,F),Se=F+4,re.loop_count=g(k,Se),Se+=2;break;case"ANMF":var ze,re;(re=I.frames[P]={}).offset_x=2*x(k,F),F+=3,re.offset_y=2*x(k,F),F+=3,re.width=1+x(k,F),F+=3,re.height=1+x(k,F),F+=3,re.duration=x(k,F),F+=3,ze=k[F++],re.dispose=1&ze,re.blend=ze>>1&1}ce!="ANMF"&&(F+=de)}return I}})(S,0);L.response=S,L.rgbaoutput=!0,L.dataurl=!1;var D=L.header?L.header:null,O=L.frames?L.frames:null;if(D){D.loop_counter=D.loop_count,b=[D.canvas_height],T=[D.canvas_width];for(var te=0;te<O.length&&O[te].blend!=0;te++);}var ee=O[0],G=j.WebPDecodeRGBA(S,ee.src_off,ee.src_size,T,b);ee.rgba=G,ee.imgwidth=T[0],ee.imgheight=b[0];for(var U=0;U<T[0]*b[0]*4;U++)E[U]=G[U];return this.width=T,this.height=b,this.data=E,this}(function(n){var e,t,r,a,o,c,u,h,f,g=function(q){return q=q||{},this.isStrokeTransparent=q.isStrokeTransparent||!1,this.strokeOpacity=q.strokeOpacity||1,this.strokeStyle=q.strokeStyle||"#000000",this.fillStyle=q.fillStyle||"#000000",this.isFillTransparent=q.isFillTransparent||!1,this.fillOpacity=q.fillOpacity||1,this.font=q.font||"10px sans-serif",this.textBaseline=q.textBaseline||"alphabetic",this.textAlign=q.textAlign||"left",this.lineWidth=q.lineWidth||1,this.lineJoin=q.lineJoin||"miter",this.lineCap=q.lineCap||"butt",this.path=q.path||[],this.transform=q.transform!==void 0?q.transform.clone():new h,this.globalCompositeOperation=q.globalCompositeOperation||"normal",this.globalAlpha=q.globalAlpha||1,this.clip_path=q.clip_path||[],this.currentPoint=q.currentPoint||new c,this.miterLimit=q.miterLimit||10,this.lastPoint=q.lastPoint||new c,this.lineDashOffset=q.lineDashOffset||0,this.lineDash=q.lineDash||[],this.margin=q.margin||[0,0,0,0],this.prevPageLastElemOffset=q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof q.ignoreClearRect!="boolean"||q.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,f=new g}]);var x=function(q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=q;Object.defineProperty(this,"pdf",{get:function(){return Q}});var se=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return se},set:function(ae){se=!!ae}});var he=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return he},set:function(ae){he=!!ae}});var me=0;Object.defineProperty(this,"posX",{get:function(){return me},set:function(ae){isNaN(ae)||(me=ae)}});var be=0;Object.defineProperty(this,"posY",{get:function(){return be},set:function(ae){isNaN(ae)||(be=ae)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(ae){var st;typeof ae=="number"?st=[ae,ae,ae,ae]:((st=new Array(4))[0]=ae[0],st[1]=ae.length>=2?ae[1]:st[0],st[2]=ae.length>=3?ae[2]:st[0],st[3]=ae.length>=4?ae[3]:st[1]),f.margin=st}});var Le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Le},set:function(ae){Le=ae}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(ae){ke=ae}});var qe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return qe},set:function(ae){qe=ae}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(ae){ae instanceof g&&(f=ae)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(ae){f.path=ae}});var Je=[];Object.defineProperty(this,"ctxStack",{get:function(){return Je},set:function(ae){Je=ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ae){var st;st=v(ae),this.ctx.fillStyle=st.style,this.ctx.isFillTransparent=st.a===0,this.ctx.fillOpacity=st.a,this.pdf.setFillColor(st.r,st.g,st.b,{a:st.a}),this.pdf.setTextColor(st.r,st.g,st.b,{a:st.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ae){var st=v(ae);this.ctx.strokeStyle=st.style,this.ctx.isStrokeTransparent=st.a===0,this.ctx.strokeOpacity=st.a,st.a===0?this.pdf.setDrawColor(255,255,255):(st.a,this.pdf.setDrawColor(st.r,st.g,st.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ae){["butt","round","square"].indexOf(ae)!==-1&&(this.ctx.lineCap=ae,this.pdf.setLineCap(ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ae){isNaN(ae)||(this.ctx.lineWidth=ae,this.pdf.setLineWidth(ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ae){["bevel","round","miter"].indexOf(ae)!==-1&&(this.ctx.lineJoin=ae,this.pdf.setLineJoin(ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ae){isNaN(ae)||(this.ctx.miterLimit=ae,this.pdf.setMiterLimit(ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ae){this.ctx.textBaseline=ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ae){["right","end","center","left","start"].indexOf(ae)!==-1&&(this.ctx.textAlign=ae)}});var it=null,at=null,ft=null;Object.defineProperty(this,"fontFaces",{get:function(){return ft},set:function(ae){it=null,at=null,ft=ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ae){var st;if(this.ctx.font=ae,(st=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ae))!==null){var rn=st[1];st[2];var Pt=st[3],He=st[4];st[5];var ct=st[6],lt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(He)[2];He=Math.floor(lt==="px"?parseFloat(He)*this.pdf.internal.scaleFactor:lt==="em"?parseFloat(He)*this.pdf.getFontSize():parseFloat(He)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(He);var Mt=(function(Nt){var Tr,ln,Lt=[],Wt=Nt.trim();if(Wt==="")return E1;if(Wt in v6)return[v6[Wt]];for(;Wt!=="";){switch(ln=null,Tr=(Wt=N6(Wt)).charAt(0)){case'"':case"'":ln=dG(Wt.substring(1),Tr);break;default:ln=hG(Wt)}if(ln===null||(Lt.push(ln[0]),(Wt=N6(ln[1]))!==""&&Wt.charAt(0)!==","))return E1;Wt=Wt.replace(/^,/,"")}return Lt})(ct);if(this.fontFaces){var Et=(function(Nt,Tr){var ln=Nt.getFontList(),Lt=JSON.stringify(ln);if(it===null||at!==Lt){var Wt=(function(an){var Tt=[];return Object.keys(an).forEach(function(zn){an[zn].forEach(function(zt){var qt=null;switch(zt){case"bold":qt={family:zn,weight:"bold"};break;case"italic":qt={family:zn,style:"italic"};break;case"bolditalic":qt={family:zn,weight:"bold",style:"italic"};break;case"":case"normal":qt={family:zn}}qt!==null&&(qt.ref={name:zn,style:zt},Tt.push(qt))})}),Tt})(ln);it=(function(an){for(var Tt={},zn=0;zn<an.length;++zn){var zt=S1(an[zn]),qt=zt.family,Hn=zt.stretch,At=zt.style,jt=zt.weight;Tt[qt]=Tt[qt]||{},Tt[qt][Hn]=Tt[qt][Hn]||{},Tt[qt][Hn][At]=Tt[qt][Hn][At]||{},Tt[qt][Hn][At][jt]=zt}return Tt})(Wt.concat(Tr)),at=Lt}return it})(this.pdf,this.fontFaces),sn=Mt.map(function(Nt){return{family:Nt,stretch:"normal",weight:Pt,style:rn}}),dn=(function(Nt,Tr,ln){for(var Lt=(ln=ln||{}).defaultFontFamily||"times",Wt=Object.assign({},uG,ln.genericFontFamilies||{}),an=null,Tt=null,zn=0;zn<Tr.length;++zn)if(Wt[(an=S1(Tr[zn])).family]&&(an.family=Wt[an.family]),Nt.hasOwnProperty(an.family)){Tt=Nt[an.family];break}if(!(Tt=Tt||Nt[Lt]))throw new Error("Could not find a font-family for the rule '"+w6(an)+"' and default family '"+Lt+"'.");if(Tt=(function(zt,qt){if(qt[zt])return qt[zt];var Hn=D2[zt],At=Hn<=D2.normal?-1:1,jt=b6(qt,fC,Hn,At);if(!jt)throw new Error("Could not find a matching font-stretch value for "+zt);return jt})(an.stretch,Tt),Tt=(function(zt,qt){if(qt[zt])return qt[zt];for(var Hn=hC[zt],At=0;At<Hn.length;++At)if(qt[Hn[At]])return qt[Hn[At]];throw new Error("Could not find a matching font-style for "+zt)})(an.style,Tt),!(Tt=(function(zt,qt){if(qt[zt])return qt[zt];if(zt===400&&qt[500])return qt[500];if(zt===500&&qt[400])return qt[400];var Hn=cG[zt],At=b6(qt,mC,Hn,zt<400?-1:1);if(!At)throw new Error("Could not find a matching font-weight for value "+zt);return At})(an.weight,Tt)))throw new Error("Failed to resolve a font for the rule '"+w6(an)+"'.");return Tt})(Et,sn);this.pdf.setFont(dn.ref.name,dn.ref.style)}else{var Qt="";(Pt==="bold"||parseInt(Pt,10)>=700||rn==="bold")&&(Qt="bold"),rn==="italic"&&(Qt+="italic"),Qt.length===0&&(Qt="normal");for(var pn="",on={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},wt=0;wt<Mt.length;wt++){if(this.pdf.internal.getFont(Mt[wt],Qt,{noFallback:!0,disableWarning:!0})!==void 0){pn=Mt[wt];break}if(Qt==="bolditalic"&&this.pdf.internal.getFont(Mt[wt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)pn=Mt[wt],Qt="bold";else if(this.pdf.internal.getFont(Mt[wt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){pn=Mt[wt],Qt="normal";break}}if(pn===""){for(var en=0;en<Mt.length;en++)if(on[Mt[en]]){pn=on[Mt[en]];break}}pn=pn===""?"Times":pn,this.pdf.setFont(pn,Qt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ae){this.ctx.globalCompositeOperation=ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ae){this.ctx.globalAlpha=ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ae){this.ctx.lineDashOffset=ae,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ae){this.ctx.lineDash=ae,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ae){this.ctx.ignoreClearRect=!!ae}})};x.prototype.setLineDash=function(q){this.lineDash=q},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){O.call(this,"fill",!1)},x.prototype.stroke=function(){O.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(q,Q){if(isNaN(q)||isNaN(Q))throw Er.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var se=this.ctx.transform.applyToPoint(new c(q,Q));this.path.push({type:"mt",x:se.x,y:se.y}),this.ctx.lastPoint=new c(q,Q)},x.prototype.closePath=function(){var q=new c(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&cr(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){q=new c(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(q.x,q.y)},x.prototype.lineTo=function(q,Q){if(isNaN(q)||isNaN(Q))throw Er.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var se=this.ctx.transform.applyToPoint(new c(q,Q));this.path.push({type:"lt",x:se.x,y:se.y}),this.ctx.lastPoint=new c(se.x,se.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},x.prototype.quadraticCurveTo=function(q,Q,se,he){if(isNaN(se)||isNaN(he)||isNaN(q)||isNaN(Q))throw Er.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var me=this.ctx.transform.applyToPoint(new c(se,he)),be=this.ctx.transform.applyToPoint(new c(q,Q));this.path.push({type:"qct",x1:be.x,y1:be.y,x:me.x,y:me.y}),this.ctx.lastPoint=new c(me.x,me.y)},x.prototype.bezierCurveTo=function(q,Q,se,he,me,be){if(isNaN(me)||isNaN(be)||isNaN(q)||isNaN(Q)||isNaN(se)||isNaN(he))throw Er.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Le=this.ctx.transform.applyToPoint(new c(me,be)),ke=this.ctx.transform.applyToPoint(new c(q,Q)),qe=this.ctx.transform.applyToPoint(new c(se,he));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:qe.x,y2:qe.y,x:Le.x,y:Le.y}),this.ctx.lastPoint=new c(Le.x,Le.y)},x.prototype.arc=function(q,Q,se,he,me,be){if(isNaN(q)||isNaN(Q)||isNaN(se)||isNaN(he)||isNaN(me))throw Er.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(be=!!be,!this.ctx.transform.isIdentity){var Le=this.ctx.transform.applyToPoint(new c(q,Q));q=Le.x,Q=Le.y;var ke=this.ctx.transform.applyToPoint(new c(0,se)),qe=this.ctx.transform.applyToPoint(new c(0,0));se=Math.sqrt(Math.pow(ke.x-qe.x,2)+Math.pow(ke.y-qe.y,2))}Math.abs(me-he)>=2*Math.PI&&(he=0,me=2*Math.PI),this.path.push({type:"arc",x:q,y:Q,radius:se,startAngle:he,endAngle:me,counterclockwise:be})},x.prototype.arcTo=function(q,Q,se,he,me){throw new Error("arcTo not implemented.")},x.prototype.rect=function(q,Q,se,he){if(isNaN(q)||isNaN(Q)||isNaN(se)||isNaN(he))throw Er.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(q,Q),this.lineTo(q+se,Q),this.lineTo(q+se,Q+he),this.lineTo(q,Q+he),this.lineTo(q,Q),this.lineTo(q+se,Q),this.lineTo(q,Q)},x.prototype.fillRect=function(q,Q,se,he){if(isNaN(q)||isNaN(Q)||isNaN(se)||isNaN(he))throw Er.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var me={};this.lineCap!=="butt"&&(me.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(me.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(q,Q,se,he),this.fill(),me.hasOwnProperty("lineCap")&&(this.lineCap=me.lineCap),me.hasOwnProperty("lineJoin")&&(this.lineJoin=me.lineJoin)}},x.prototype.strokeRect=function(q,Q,se,he){if(isNaN(q)||isNaN(Q)||isNaN(se)||isNaN(he))throw Er.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(q,Q,se,he),this.stroke())},x.prototype.clearRect=function(q,Q,se,he){if(isNaN(q)||isNaN(Q)||isNaN(se)||isNaN(he))throw Er.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(q,Q,se,he))},x.prototype.save=function(q){q=typeof q!="boolean"||q;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),q){this.ctx.fontSize=this.pdf.internal.getFontSize();var he=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=he}},x.prototype.restore=function(q){q=typeof q!="boolean"||q;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(q){var Q,se,he,me;if(q.isCanvasGradient===!0&&(q=q.getColor()),!q)return{r:0,g:0,b:0,a:0,style:q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(q))Q=0,se=0,he=0,me=0;else{var be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(q);if(be!==null)Q=parseInt(be[1]),se=parseInt(be[2]),he=parseInt(be[3]),me=1;else if((be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(q))!==null)Q=parseInt(be[1]),se=parseInt(be[2]),he=parseInt(be[3]),me=parseFloat(be[4]);else{if(me=1,typeof q=="string"&&q.charAt(0)!=="#"){var Le=new aC(q);q=Le.ok?Le.toHex():"#000000"}q.length===4?(Q=q.substring(1,2),Q+=Q,se=q.substring(2,3),se+=se,he=q.substring(3,4),he+=he):(Q=q.substring(1,3),se=q.substring(3,5),he=q.substring(5,7)),Q=parseInt(Q,16),se=parseInt(se,16),he=parseInt(he,16)}}return{r:Q,g:se,b:he,a:me,style:q}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(q,Q,se,he){if(isNaN(Q)||isNaN(se)||typeof q!="string")throw Er.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(he=isNaN(he)?void 0:he,!b.call(this)){var me=de(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;P.call(this,{text:q,x:Q,y:se,scale:be,angle:me,align:this.textAlign,maxWidth:he})}},x.prototype.strokeText=function(q,Q,se,he){if(isNaN(Q)||isNaN(se)||typeof q!="string")throw Er.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){he=isNaN(he)?void 0:he;var me=de(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;P.call(this,{text:q,x:Q,y:se,scale:be,renderingMode:"stroke",angle:me,align:this.textAlign,maxWidth:he})}},x.prototype.measureText=function(q){if(typeof q!="string")throw Er.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,se=this.pdf.internal.scaleFactor,he=Q.internal.getFontSize(),me=Q.getStringUnitWidth(q)*he/Q.internal.scaleFactor;return new function(be){var Le=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Le}}),this}({width:me*=Math.round(96*se/72*1e4)/1e4})},x.prototype.scale=function(q,Q){if(isNaN(q)||isNaN(Q))throw Er.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var se=new h(q,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(se)},x.prototype.rotate=function(q){if(isNaN(q))throw Er.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new h(Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},x.prototype.translate=function(q,Q){if(isNaN(q)||isNaN(Q))throw Er.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var se=new h(1,0,0,1,q,Q);this.ctx.transform=this.ctx.transform.multiply(se)},x.prototype.transform=function(q,Q,se,he,me,be){if(isNaN(q)||isNaN(Q)||isNaN(se)||isNaN(he)||isNaN(me)||isNaN(be))throw Er.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Le=new h(q,Q,se,he,me,be);this.ctx.transform=this.ctx.transform.multiply(Le)},x.prototype.setTransform=function(q,Q,se,he,me,be){q=isNaN(q)?1:q,Q=isNaN(Q)?0:Q,se=isNaN(se)?0:se,he=isNaN(he)?1:he,me=isNaN(me)?0:me,be=isNaN(be)?0:be,this.ctx.transform=new h(q,Q,se,he,me,be)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(q,Q,se,he,me,be,Le,ke,qe){var Je=this.pdf.getImageProperties(q),it=1,at=1,ft=1,ae=1;he!==void 0&&ke!==void 0&&(ft=ke/he,ae=qe/me,it=Je.width/he*ke/he,at=Je.height/me*qe/me),be===void 0&&(be=Q,Le=se,Q=0,se=0),he!==void 0&&ke===void 0&&(ke=he,qe=me),he===void 0&&ke===void 0&&(ke=Je.width,qe=Je.height);var st=this.ctx.transform.decompose(),rn=de(st.rotate.shx),Pt=new h,He=(Pt=(Pt=(Pt=Pt.multiply(st.translate)).multiply(st.skew)).multiply(st.scale)).applyToRectangle(new u(be-Q*ft,Le-se*ae,he*it,me*at));if(this.autoPaging){for(var ct,lt=j.call(this,He),Mt=[],Et=0;Et<lt.length;Et+=1)Mt.indexOf(lt[Et])===-1&&Mt.push(lt[Et]);D(Mt);for(var sn=Mt[0],dn=Mt[Mt.length-1],Qt=sn;Qt<dn+1;Qt++){this.pdf.setPage(Qt);var pn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],on=Qt===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],en=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=Qt===1?0:wt+(Qt-2)*en;if(this.ctx.clip_path.length!==0){var Tr=this.path;ct=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(ct,this.posX+this.margin[3],-Nt+on+this.ctx.prevPageLastElemOffset),te.call(this,"fill",!0),this.path=Tr}var ln=JSON.parse(JSON.stringify(He));ln=L([ln],this.posX+this.margin[3],-Nt+on+this.ctx.prevPageLastElemOffset)[0];var Lt=(Qt>sn||Qt<dn)&&E.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pn,en,null).clip().discardPath()),this.pdf.addImage(q,"JPEG",ln.x,ln.y,ln.w,ln.h,null,null,rn),Lt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(q,"JPEG",He.x,He.y,He.w,He.h,null,null,rn)};var j=function(q,Q,se){var he=[];Q=Q||this.pdf.internal.pageSize.width,se=se||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var me=this.posY+this.ctx.prevPageLastElemOffset;switch(q.type){default:case"mt":case"lt":he.push(Math.floor((q.y+me)/se)+1);break;case"arc":he.push(Math.floor((q.y+me-q.radius)/se)+1),he.push(Math.floor((q.y+me+q.radius)/se)+1);break;case"qct":var be=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x,q.y);he.push(Math.floor((be.y+me)/se)+1),he.push(Math.floor((be.y+be.h+me)/se)+1);break;case"bct":var Le=ze(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x2,q.y2,q.x,q.y);he.push(Math.floor((Le.y+me)/se)+1),he.push(Math.floor((Le.y+Le.h+me)/se)+1);break;case"rect":he.push(Math.floor((q.y+me)/se)+1),he.push(Math.floor((q.y+q.h+me)/se)+1)}for(var ke=0;ke<he.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<he[ke];)S.call(this);return he},S=function(){var q=this.fillStyle,Q=this.strokeStyle,se=this.font,he=this.lineCap,me=this.lineWidth,be=this.lineJoin;this.pdf.addPage(),this.fillStyle=q,this.strokeStyle=Q,this.font=se,this.lineCap=he,this.lineWidth=me,this.lineJoin=be},L=function(q,Q,se){for(var he=0;he<q.length;he++)switch(q[he].type){case"bct":q[he].x2+=Q,q[he].y2+=se;case"qct":q[he].x1+=Q,q[he].y1+=se;default:q[he].x+=Q,q[he].y+=se}return q},D=function(q){return q.sort(function(Q,se){return Q-se})},O=function(q,Q){var se=this.fillStyle,he=this.strokeStyle,me=this.lineCap,be=this.lineWidth,Le=Math.abs(be*this.ctx.transform.scaleX),ke=this.lineJoin;if(this.autoPaging){for(var qe,Je,it=JSON.parse(JSON.stringify(this.path)),at=JSON.parse(JSON.stringify(this.path)),ft=[],ae=0;ae<at.length;ae++)if(at[ae].x!==void 0)for(var st=j.call(this,at[ae]),rn=0;rn<st.length;rn+=1)ft.indexOf(st[rn])===-1&&ft.push(st[rn]);for(var Pt=0;Pt<ft.length;Pt++)for(;this.pdf.internal.getNumberOfPages()<ft[Pt];)S.call(this);D(ft);for(var He=ft[0],ct=ft[ft.length-1],lt=He;lt<ct+1;lt++){this.pdf.setPage(lt),this.fillStyle=se,this.strokeStyle=he,this.lineCap=me,this.lineWidth=Le,this.lineJoin=ke;var Mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=lt===1?this.posY+this.margin[0]:this.margin[0],sn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qt=lt===1?0:sn+(lt-2)*dn;if(this.ctx.clip_path.length!==0){var pn=this.path;qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(qe,this.posX+this.margin[3],-Qt+Et+this.ctx.prevPageLastElemOffset),te.call(this,q,!0),this.path=pn}if(Je=JSON.parse(JSON.stringify(it)),this.path=L(Je,this.posX+this.margin[3],-Qt+Et+this.ctx.prevPageLastElemOffset),Q===!1||lt===0){var on=(lt>He||lt<ct)&&E.call(this);on&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,dn,null).clip().discardPath()),te.call(this,q,Q),on&&this.pdf.restoreGraphicsState()}this.lineWidth=be}this.path=it}else this.lineWidth=Le,te.call(this,q,Q),this.lineWidth=be},te=function(q,Q){if((q!=="stroke"||Q||!T.call(this))&&(q==="stroke"||Q||!b.call(this))){for(var se,he,me=[],be=this.path,Le=0;Le<be.length;Le++){var ke=be[Le];switch(ke.type){case"begin":me.push({begin:!0});break;case"close":me.push({close:!0});break;case"mt":me.push({start:ke,deltas:[],abs:[]});break;case"lt":var qe=me.length;if(be[Le-1]&&!isNaN(be[Le-1].x)&&(se=[ke.x-be[Le-1].x,ke.y-be[Le-1].y],qe>0)){for(;qe>=0;qe--)if(me[qe-1].close!==!0&&me[qe-1].begin!==!0){me[qe-1].deltas.push(se),me[qe-1].abs.push(ke);break}}break;case"bct":se=[ke.x1-be[Le-1].x,ke.y1-be[Le-1].y,ke.x2-be[Le-1].x,ke.y2-be[Le-1].y,ke.x-be[Le-1].x,ke.y-be[Le-1].y],me[me.length-1].deltas.push(se);break;case"qct":var Je=be[Le-1].x+2/3*(ke.x1-be[Le-1].x),it=be[Le-1].y+2/3*(ke.y1-be[Le-1].y),at=ke.x+2/3*(ke.x1-ke.x),ft=ke.y+2/3*(ke.y1-ke.y),ae=ke.x,st=ke.y;se=[Je-be[Le-1].x,it-be[Le-1].y,at-be[Le-1].x,ft-be[Le-1].y,ae-be[Le-1].x,st-be[Le-1].y],me[me.length-1].deltas.push(se);break;case"arc":me.push({deltas:[],abs:[],arc:!0}),Array.isArray(me[me.length-1].abs)&&me[me.length-1].abs.push(ke)}}he=Q?null:q==="stroke"?"stroke":"fill";for(var rn=!1,Pt=0;Pt<me.length;Pt++)if(me[Pt].arc)for(var He=me[Pt].abs,ct=0;ct<He.length;ct++){var lt=He[ct];lt.type==="arc"?U.call(this,lt.x,lt.y,lt.radius,lt.startAngle,lt.endAngle,lt.counterclockwise,void 0,Q,!rn):B.call(this,lt.x,lt.y),rn=!0}else if(me[Pt].close===!0)this.pdf.internal.out("h"),rn=!1;else if(me[Pt].begin!==!0){var Mt=me[Pt].start.x,Et=me[Pt].start.y;ue.call(this,me[Pt].deltas,Mt,Et),rn=!0}he&&k.call(this,he),Q&&F.call(this)}},ee=function(q){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,se=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return q-se;case"top":return q+Q-se;case"hanging":return q+Q-2*se;case"middle":return q+Q/2-se;default:return q}},G=function(q){return q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var q=function(){};return q.colorStops=[],q.addColorStop=function(Q,se){this.colorStops.push([Q,se])},q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},q.isCanvasGradient=!0,q},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(q,Q,se,he,me,be,Le,ke,qe){for(var Je=ce.call(this,se,he,me,be),it=0;it<Je.length;it++){var at=Je[it];it===0&&(qe?I.call(this,at.x1+q,at.y1+Q):B.call(this,at.x1+q,at.y1+Q)),Ne.call(this,q,Q,at.x2,at.y2,at.x3,at.y3,at.x4,at.y4)}ke?F.call(this):k.call(this,Le)},k=function(q){switch(q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(q,Q){this.pdf.internal.out(t(q)+" "+r(Q)+" m")},P=function(q){var Q;switch(q.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var se,he,me,be=this.pdf.getTextDimensions(q.text),Le=ee.call(this,q.y),ke=G.call(this,Le)-be.h,qe=this.ctx.transform.applyToPoint(new c(q.x,Le));if(this.autoPaging){var Je=this.ctx.transform.decompose(),it=new h;it=(it=(it=it.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale);for(var at=this.ctx.transform.applyToRectangle(new u(q.x,Le,be.w,be.h)),ft=it.applyToRectangle(new u(q.x,ke,be.w,be.h)),ae=j.call(this,ft),st=[],rn=0;rn<ae.length;rn+=1)st.indexOf(ae[rn])===-1&&st.push(ae[rn]);D(st);for(var Pt=st[0],He=st[st.length-1],ct=Pt;ct<He+1;ct++){this.pdf.setPage(ct);var lt=ct===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[2],sn=Et-this.margin[0],dn=this.pdf.internal.pageSize.width-this.margin[1],Qt=dn-this.margin[3],pn=ct===1?0:Mt+(ct-2)*sn;if(this.ctx.clip_path.length!==0){var on=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(se,this.posX+this.margin[3],-1*pn+lt),te.call(this,"fill",!0),this.path=on}var wt=L([JSON.parse(JSON.stringify(ft))],this.posX+this.margin[3],-pn+lt+this.ctx.prevPageLastElemOffset)[0];q.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*q.scale),me=this.lineWidth,this.lineWidth=me*q.scale);var en=this.autoPaging!=="text";if(en||wt.y+wt.h<=Et){if(en||wt.y>=lt&&wt.x<=dn){var Nt=en?q.text:this.pdf.splitTextToSize(q.text,q.maxWidth||dn-wt.x)[0],Tr=L([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-pn+lt+this.ctx.prevPageLastElemOffset)[0],ln=en&&(ct>Pt||ct<He)&&E.call(this);ln&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qt,sn,null).clip().discardPath()),this.pdf.text(Nt,Tr.x,Tr.y,{angle:q.angle,align:Q,renderingMode:q.renderingMode}),ln&&this.pdf.restoreGraphicsState()}}else wt.y<Et&&(this.ctx.prevPageLastElemOffset+=Et-wt.y);q.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=me)}}else q.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*q.scale),me=this.lineWidth,this.lineWidth=me*q.scale),this.pdf.text(q.text,qe.x+this.posX,qe.y+this.posY,{angle:q.angle,align:Q,renderingMode:q.renderingMode,maxWidth:q.maxWidth}),q.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=me)},B=function(q,Q,se,he){se=se||0,he=he||0,this.pdf.internal.out(t(q+se)+" "+r(Q+he)+" l")},ue=function(q,Q,se){return this.pdf.lines(q,Q,se,null,null)},Ne=function(q,Q,se,he,me,be,Le,ke){this.pdf.internal.out([e(a(se+q)),e(o(he+Q)),e(a(me+q)),e(o(be+Q)),e(a(Le+q)),e(o(ke+Q)),"c"].join(" "))},ce=function(q,Q,se,he){for(var me=2*Math.PI,be=Math.PI/2;Q>se;)Q-=me;var Le=Math.abs(se-Q);Le<me&&he&&(Le=me-Le);for(var ke=[],qe=he?-1:1,Je=Q;Le>1e-5;){var it=Je+qe*Math.min(Le,be);ke.push(pe.call(this,q,Je,it)),Le-=Math.abs(it-Je),Je=it}return ke},pe=function(q,Q,se){var he=(se-Q)/2,me=q*Math.cos(he),be=q*Math.sin(he),Le=me,ke=-be,qe=Le*Le+ke*ke,Je=qe+Le*me+ke*be,it=4/3*(Math.sqrt(2*qe*Je)-Je)/(Le*be-ke*me),at=Le-it*ke,ft=ke+it*Le,ae=at,st=-ft,rn=he+Q,Pt=Math.cos(rn),He=Math.sin(rn);return{x1:q*Math.cos(Q),y1:q*Math.sin(Q),x2:at*Pt-ft*He,y2:at*He+ft*Pt,x3:ae*Pt-st*He,y3:ae*He+st*Pt,x4:q*Math.cos(se),y4:q*Math.sin(se)}},de=function(q){return 180*q/Math.PI},Se=function(q,Q,se,he,me,be){var Le=q+.5*(se-q),ke=Q+.5*(he-Q),qe=me+.5*(se-me),Je=be+.5*(he-be),it=Math.min(q,me,Le,qe),at=Math.max(q,me,Le,qe),ft=Math.min(Q,be,ke,Je),ae=Math.max(Q,be,ke,Je);return new u(it,ft,at-it,ae-ft)},ze=function(q,Q,se,he,me,be,Le,ke){var qe,Je,it,at,ft,ae,st,rn,Pt,He,ct,lt,Mt,Et,sn=se-q,dn=he-Q,Qt=me-se,pn=be-he,on=Le-me,wt=ke-be;for(Je=0;Je<41;Je++)Pt=(st=(it=q+(qe=Je/40)*sn)+qe*((ft=se+qe*Qt)-it))+qe*(ft+qe*(me+qe*on-ft)-st),He=(rn=(at=Q+qe*dn)+qe*((ae=he+qe*pn)-at))+qe*(ae+qe*(be+qe*wt-ae)-rn),Je==0?(ct=Pt,lt=He,Mt=Pt,Et=He):(ct=Math.min(ct,Pt),lt=Math.min(lt,He),Mt=Math.max(Mt,Pt),Et=Math.max(Et,He));return new u(Math.round(ct),Math.round(lt),Math.round(Mt-ct),Math.round(Et-lt))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var q,Q,se=(q=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:q,lineDashOffset:Q}));this.prevLineDash!==se&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=se)}}})(Rt.API),(function(n){var e=function(c){var u,h,f,g,x,v,b,T,E,j;for(h=[],f=0,g=(c+=u="\0\0\0\0".slice(c.length%4||4)).length;g>f;f+=4)(x=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(v=(x=((x=((x=((x=(x-(j=x%85))/85)-(E=x%85))/85)-(T=x%85))/85)-(b=x%85))/85)%85,h.push(v+33,b+33,T+33,E+33,j+33)):h.push(122);return(function(S,L){for(var D=L;D>0;D--)S.pop()})(h,u.length),String.fromCharCode.apply(String,h)+"~>"},t=function(c){var u,h,f,g,x,v=String,b="length",T=255,E="charCodeAt",j="slice",S="replace";for(c[j](-2),c=c[j](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),f=[],g=0,x=(c+=u="uuuuu"[j](c[b]%5||5))[b];x>g;g+=5)h=52200625*(c[E](g)-33)+614125*(c[E](g+1)-33)+7225*(c[E](g+2)-33)+85*(c[E](g+3)-33)+(c[E](g+4)-33),f.push(T&h>>24,T&h>>16,T&h>>8,T&h);return(function(L,D){for(var O=D;O>0;O--)L.pop()})(f,u[b]),v.fromCharCode.apply(v,f)},r=function(c){return c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),u.test(c)===!1)return"";for(var h="",f=0;f<c.length;f+=2)h+=String.fromCharCode("0x"+(c[f]+c[f+1]));return h},o=function(c){for(var u=new Uint8Array(c.length),h=c.length;h--;)u[h]=c.charCodeAt(h);return(u=T2(u)).reduce(function(f,g){return f+String.fromCharCode(g)},"")};n.processDataByFilters=function(c,u){var h=0,f=c||"",g=[];for(typeof(u=u||[])=="string"&&(u=[u]),h=0;h<u.length;h+=1)switch(u[h]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[h]+'" is not implemented')}return{data:f,reverseChain:g.reverse().join(" ")}}})(Rt.API),(function(n){n.loadFile=function(e,t,r){return(function(a,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var u=void 0;try{u=(function(h,f,g){var x=new XMLHttpRequest,v=0,b=function(T){var E=T.length,j=[],S=String.fromCharCode;for(v=0;v<E;v+=1)j.push(S(255&T.charCodeAt(v)));return j.join("")};if(x.open("GET",h,!f),x.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(x.onload=function(){x.status===200?g(b(this.responseText)):g(void 0)}),x.send(null),f&&x.status===200)return b(x.responseText)})(a,o,c)}catch{}return u})(e,t,r)},n.loadImageFile=n.loadFile})(Rt.API),(function(n){function e(){return(nn.html2canvas?Promise.resolve(nn.html2canvas):o1(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function t(){return(nn.DOMPurify?Promise.resolve(nn.DOMPurify):o1(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var r=function(u){var h=cr(u);return h==="undefined"?"undefined":h==="string"||u instanceof String?"string":h==="number"||u instanceof Number?"number":h==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":h==="object"?"object":"unknown"},a=function(u,h){var f=document.createElement(u);for(var g in h.className&&(f.className=h.className),h.innerHTML&&h.dompurify&&(f.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)f.style[g]=h.style[g];return f},o=function u(h,f){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),x=h.firstChild;x;x=x.nextSibling)f!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||g.appendChild(u(x,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g},c=function u(h){var f=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),g=u.convert(Promise.resolve(),f);return(g=g.setProgress(1,u,1,[u])).set(h)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(u,h){return u.__proto__=h||c.prototype,u},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(u,h){return this.then(function(){switch(h=h||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),h){case"string":return this.then(t).then(function(f){return this.set({src:a("div",{innerHTML:u,dompurify:f})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},c.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(h){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,h(this.prop.container,f)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(h){var f=this.opt.jsPDF,g=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=g,g)for(var b=0;b<g.length;++b){var T=g[b],E=T.src.find(function(j){return j.format==="truetype"});E&&f.addFont(E.url,T.ref.name,T.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,f.context2d.save(!0),h(this.prop.container,v)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(u,h,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(u,h):this.outputPdf(u,h)},c.prototype.outputPdf=function(u,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,h)})},c.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},c.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(u){if(r(u)!=="object")return this;var h=Object.keys(u||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=u[f]};switch(f){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[f]=u[f]}}},this);return this.then(function(){return this.thenList(h)})},c.prototype.get=function(u,h){return this.then(function(){var f=u in c.template.prop?this.prop[u]:this.opt[u];return h?h(f):f})},c.prototype.setMargin=function(u){return this.then(function(){switch(r(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},c.prototype.setPageSize=function(u){function h(f,g){return Math.floor(f*g/72*96)}return this.then(function(){(u=u||Rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:h(u.inner.width,u.k),height:h(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},c.prototype.setProgress=function(u,h,f,g){return u!=null&&(this.progress.val=u),h!=null&&(this.progress.state=h),f!=null&&(this.progress.n=f),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(u,h,f,g){return this.setProgress(u?this.progress.val+u:null,h||null,f?this.progress.n+f:null,g?this.progress.stack.concat(g):null)},c.prototype.then=function(u,h){var f=this;return this.thenCore(u,h,function(g,x){return f.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(v){return f.updateProgress(null,g),v}).then(g,x).then(function(v){return f.updateProgress(1),v})})},c.prototype.thenCore=function(u,h,f){f=f||Promise.prototype.then;var g=this;u&&(u=u.bind(g)),h&&(h=h.bind(g));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:c.convert(Object.assign({},g),Promise.prototype),v=f.call(x,u,h);return c.convert(v,g.__proto__)},c.prototype.thenExternal=function(u,h){return Promise.prototype.then.call(this,u,h)},c.prototype.thenList=function(u){var h=this;return u.forEach(function(f){h=h.thenCore(f)}),h},c.prototype.catch=function(u){u&&(u=u.bind(this));var h=Promise.prototype.catch.call(this,u);return c.convert(h,this)},c.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},c.prototype.error=function(u){return this.then(function(){throw new Error(u)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Rt.getPageSize=function(u,h,f){if(cr(u)==="object"){var g=u;u=g.orientation,h=g.unit||h,f=g.format||f}h=h||"mm",f=f||"a4",u=(""+(u||"P")).toLowerCase();var x,v=(""+f).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+h}var T,E=0,j=0;if(b.hasOwnProperty(v))E=b[v][1]/x,j=b[v][0]/x;else try{E=f[1],j=f[0]}catch{throw new Error("Invalid format: "+f)}if(u==="p"||u==="portrait")u="p",j>E&&(T=j,j=E,E=T);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",E>j&&(T=j,j=E,E=T)}return{width:j,height:E,unit:h,k:x,orientation:u}},n.html=function(u,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(S1):null;var f=new c(h);return h.worker?f:f.from(u).doCallback()}})(Rt.API),Rt.API.addJS=function(n){return _6=n,this.internal.events.subscribe("postPutResources",function(){_0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),j6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+_6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){_0!==void 0&&j6!==void 0&&this.internal.out("/Names <</JavaScript "+_0+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var c=a[o],u=r.exec(c);if(u!=null){var h=u[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,g=[];for(o=0;o<f;o++){var x=t.internal.newObject();g.push(x);var v=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<g.length;o++)t.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,o){var c={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var c=r.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var u=this.count=this.count_r({count:0},c);if(u>0&&this.line("/Count "+u),c.options&&c.options.pageNumber){var h=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(Rt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,a,o,c,u){var h,f=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,h=(function(x){for(var v,b=256*x.charCodeAt(4)+x.charCodeAt(5),T=x.length,E={width:0,height:0,numcomponents:1},j=4;j<T;j+=2){if(j+=b,e.indexOf(x.charCodeAt(j+1))!==-1){v=256*x.charCodeAt(j+5)+x.charCodeAt(j+6),E={width:256*x.charCodeAt(j+7)+x.charCodeAt(j+8),height:v,numcomponents:x.charCodeAt(j+9)};break}b=256*x.charCodeAt(j+2)+x.charCodeAt(j+3)}return E})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),h.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}g={data:t,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:f,index:r,alias:a}}return g}})(Rt.API),Rt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=Yq(n,{checkCrc:!0}),c=o.width,u=o.height,h=o.channels,f=o.palette,g=o.depth;a=f&&h===1?(function(U){for(var k=U.width,F=U.height,I=U.data,P=U.palette,B=U.depth,ue=!1,Ne=[],ce=[],pe=void 0,de=!1,Se=0,ze=0;ze<P.length;ze++){var re=T4(P[ze],4),q=re[0],Q=re[1],se=re[2],he=re[3];Ne.push(q,Q,se),he!=null&&(he===0?(Se++,ce.length<1&&ce.push(ze)):he<255&&(de=!0))}if(de||Se>1){ue=!0,ce=void 0;var me=k*F;pe=new Uint8Array(me);for(var be=new DataView(I.buffer),Le=0;Le<me;Le++){var ke=A1(be,Le,B),qe=T4(P[ke],4)[3];pe[Le]=qe}}else Se===0&&(ce=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ue?8:void 0,colorBytes:I,alphaBytes:pe,needSMask:ue,palette:Ne,mask:ce}})(o):h===2||h===4?(function(U){for(var k=U.data,F=U.width,I=U.height,P=U.channels,B=U.depth,ue=P===2?"DeviceGray":"DeviceRGB",Ne=P-1,ce=F*I,pe=Ne,de=ce*pe,Se=1*ce,ze=Math.ceil(de*B/8),re=Math.ceil(Se*B/8),q=new Uint8Array(ze),Q=new Uint8Array(re),se=new DataView(k.buffer),he=new DataView(q.buffer),me=new DataView(Q.buffer),be=!1,Le=0;Le<ce;Le++){for(var ke=Le*P,qe=0;qe<pe;qe++)P6(he,A1(se,ke+qe,B),Le*pe+qe,B);var Je=A1(se,ke+pe,B);Je<(1<<B)-1&&(be=!0),P6(me,Je,1*Le,B)}return{colorSpace:ue,colorsPerPixel:Ne,sMaskBitsPerComponent:be?B:void 0,colorBytes:q,alphaBytes:Q,needSMask:be}})(o):(function(U){var k=U.data,F=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?(function(I){for(var P=I.length,B=new Uint8Array(2*P),ue=new DataView(B.buffer,B.byteOffset,B.byteLength),Ne=0;Ne<P;Ne++)ue.setUint16(2*Ne,I[Ne],!1);return B})(k):k,needSMask:!1}})(o);var x,v,b,T=a,E=T.colorSpace,j=T.colorsPerPixel,S=T.sMaskBitsPerComponent,L=T.colorBytes,D=T.alphaBytes,O=T.needSMask,te=T.palette,ee=T.mask,G=null;return r!==Rt.API.image_compression.NONE&&typeof T2=="function"?(G=(function(U){var k;switch(U){case Rt.API.image_compression.FAST:k=11;break;case Rt.API.image_compression.MEDIUM:k=13;break;case Rt.API.image_compression.SLOW:k=14;break;default:k=12}return k})(r),x=this.decode.FLATE_DECODE,v="/Predictor ".concat(G," /Colors ").concat(j," /BitsPerComponent ").concat(g," /Columns ").concat(c),n=T6(L,Math.ceil(c*j*g/8),j,g,r),O&&(b=T6(D,Math.ceil(c*S/8),1,S,r))):(x=void 0,v=void 0,n=L,O&&(b=D)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:t,data:n,index:e,filter:x,decodeParameters:v,transparency:ee,palette:te,sMask:b,predictor:G,width:c,height:u,bitsPerComponent:g,sMaskBitsPerComponent:S,colorSpace:E}}},(function(n){n.processGIF89A=function(e,t,r,a){var o=new pG(e),c=o.width,u=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:c,height:u},g=new T1(100).encode(f,100);return n.processJPEG.call(this,g,t,r,a)},n.processGIF87A=n.processGIF89A})(Rt.API),cl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},cl.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Er.log("bit decode error:"+t)}},cl.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*a*4,u=0;u<8&&8*a+u<this.width;u++){var h=this.palette[o>>7-u&1];this.data[c+4*u]=h.blue,this.data[c+4*u+1]=h.green,this.data[c+4*u+2]=h.red,this.data[c+4*u+3]=255}t!==0&&(this.pos+=4-t)}},cl.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*a*4,u=o>>4,h=15&o,f=this.palette[u];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*a+1>=this.width)break;f=this.palette[h],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},cl.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(a<this.palette.length){var c=this.palette[a];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},cl.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,u=(o>>5&e)/e*255|0,h=(o>>10&e)/e*255|0,f=o>>15?255:0,g=r*this.width*4+4*a;this.data[g]=h,this.data[g+1]=u,this.data[g+2]=c,this.data[g+3]=f}this.pos+=n}},cl.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(c&e)/e*255|0,h=(c>>5&t)/t*255|0,f=(c>>11)/e*255|0,g=a*this.width*4+4*o;this.data[g]=f,this.data[g+1]=h,this.data[g+2]=u,this.data[g+3]=255}this.pos+=n}},cl.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},cl.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=r,this.data[u+3]=c}},cl.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,a){var o=new cl(e,!1),c=o.width,u=o.height,h={data:o.getData(),width:c,height:u},f=new T1(100).encode(h,100);return n.processJPEG.call(this,f,t,r,a)}})(Rt.API),D6.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,a){var o=new D6(e),c=o.width,u=o.height,h={data:o.getData(),width:c,height:u},f=new T1(100).encode(h,100);return n.processJPEG.call(this,f,t,r,a)}})(Rt.API),Rt.API.processRGBA=function(n,e,t){for(var r=n.data,a=r.length,o=new Uint8Array(a/4*3),c=new Uint8Array(a/4),u=0,h=0,f=0;f<a;f+=4){var g=r[f],x=r[f+1],v=r[f+2],b=r[f+3];o[u++]=g,o[u++]=x,o[u++]=v,c[h++]=b}var T=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:T,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Rt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ff=Rt.API,S0=ff.getCharWidthsArray=function(n,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:a.metadata.Unicode.widths,h=u.fof?u.fof:1,f=e.kerning?e.kerning:a.metadata.Unicode.kerning,g=f.fof?f.fof:1,x=e.doKerning!==!1,v=0,b=n.length,T=0,E=u[0]||h,j=[];for(t=0;t<b;t++)r=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?j.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+c*(1e3/o)||0)/1e3):(v=x&&cr(f[r])==="object"&&!isNaN(parseInt(f[r][T],10))?f[r][T]/g:0,j.push((u[r]||E)/h+v)),T=r;return j},S6=ff.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return ff.processArabic&&(n=ff.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,a)/t:S0.apply(this,arguments).reduce(function(o,c){return o+c},0)},E6=function(n,e,t,r){for(var a=[],o=0,c=n.length,u=0;o!==c&&u+e[o]<t;)u+=e[o],o++;a.push(n.slice(0,o));var h=o;for(u=0;o!==c;)u+e[o]>r&&(a.push(n.slice(h,o)),u=0,h=o),u+=e[o],o++;return h!==o&&a.push(n.slice(h,o)),a},A6=function(n,e,t){t||(t={});var r,a,o,c,u,h,f,g=[],x=[g],v=t.textIndent||0,b=0,T=0,E=n.split(" "),j=S0.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?E[0].length+2:t.lineIndent||0){var S=Array(h).join(" "),L=[];E.map(function(O){(O=O.split(/\s*\n/)).length>1?L=L.concat(O.map(function(te,ee){return(ee&&te.length?`
`:"")+te})):L.push(O[0])}),E=L,h=S6.apply(this,[S,t])}for(o=0,c=E.length;o<c;o++){var D=0;if(r=E[o],h&&r[0]==`
`&&(r=r.substr(1),D=1),v+b+(T=(a=S0.apply(this,[r,t])).reduce(function(O,te){return O+te},0))>e||D){if(T>e){for(u=E6.apply(this,[r,a,e-(v+b),e]),g.push(u.shift()),g=[u.pop()];u.length;)x.push([u.shift()]);T=a.slice(r.length-(g[0]?g[0].length:0)).reduce(function(O,te){return O+te},0)}else g=[r];x.push(g),v=T+h,b=j}else g.push(r),v+=b+T,b=j}return f=h?function(O,te){return(te?S:"")+O.join(" ")}:function(O){return O.join(" ")},x.map(f)},ff.splitTextToSize=function(n,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var x=this.internal.getFont(g.fontName,g.fontStyle),v="Unicode";return x.metadata[v]?{widths:x.metadata[v].widths||{0:1},kerning:x.metadata[v].kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var u,h,f=[];for(u=0,h=r.length;u<h;u++)f=f.concat(A6.apply(this,[r[u],c,o]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[t[o]]=e[o],a[e[o]]=t[o];var c=function(v){return"0x"+parseInt(v,10).toString(16)},u=n.__fontmetrics__.compress=function(v){var b,T,E,j,S=["{"];for(var L in v){if(b=v[L],isNaN(parseInt(L,10))?T="'"+L+"'":(L=parseInt(L,10),T=(T=c(L).slice(2)).slice(0,-1)+a[T.slice(-1)]),typeof b=="number")b<0?(E=c(b).slice(3),j="-"):(E=c(b).slice(2),j=""),E=j+E.slice(0,-1)+a[E.slice(-1)];else{if(cr(b)!=="object")throw new Error("Don't know what to do with value type "+cr(b)+".");E=u(b)}S.push(T+E)}return S.push("}"),S.join("")},h=n.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,T,E,j,S={},L=1,D=S,O=[],te="",ee="",G=v.length-1,U=1;U<G;U+=1)(j=v[U])=="'"?b?(E=b.join(""),b=void 0):b=[]:b?b.push(j):j=="{"?(O.push([D,E]),D={},E=void 0):j=="}"?((T=O.pop())[0][T[1]]=D,E=void 0,D=T[0]):j=="-"?L=-1:E===void 0?r.hasOwnProperty(j)?(te+=r[j],E=parseInt(te,16)*L,L=1,te=""):te+=j:r.hasOwnProperty(j)?(ee+=r[j],D[E]=parseInt(ee,16)*L,L=1,E=void 0,ee=""):ee+=j;return S},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},x={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(v){var b=v.font,T=x.Unicode[b.postScriptName];T&&(b.metadata.Unicode={},b.metadata.Unicode.widths=T.widths,b.metadata.Unicode.kerning=T.kerning);var E=g.Unicode[b.postScriptName];E&&(b.metadata.Unicode.encoding=E,b.encoding=E.codePages[0])}])})(Rt.API),(function(n){var e=function(t){for(var r=t.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=t.charCodeAt(o);return a};n.API.events.push(["addFont",function(t){var r=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(G0(u)),c.metadata=n.API.TTFFont.open(u),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,r)}}])})(Rt),Rt.API.addSvgAsImage=function(n,e,t,r,a,o,c,u){if(isNaN(e)||isNaN(t))throw Er.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw Er.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=r,h.height=a;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return(nn.canvg?Promise.resolve(nn.canvg):o1(()=>import("./index.es-Cdql2S6C.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(f,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(g)}).then(function(){x.addImage(h.toDataURL("image/jpeg",1),e,t,r,a,c,u)})},Rt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},Rt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,a,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(c),h=[],f=0,g=0,x=0;function v(T,E){var j,S=!1;for(j=0;j<T.length;j+=1)T[j]===E&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var b=u.length;for(x=0;x<b;x+=1)t[u[x]].value=t[u[x]].defaultValue,t[u[x]].explicitSet=!1}if(cr(n)==="object"){for(a in n)if(o=n[a],v(u,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&v(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(f=0;f<o.length;f+=1)if(r=!0,o[f].length===1&&typeof o[f][0]=="number")h.push(String(o[f]-1));else if(o[f].length>1){for(g=0;g<o[f].length;g+=1)typeof o[f][g]!="number"&&(r=!1);r===!0&&h.push([o[f][0]-1,o[f][1]-1].join(" "))}t[a].value="["+h.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,E=[];for(T in t)t[T].explicitSet===!0&&(t[T].type==="name"?E.push("/"+T+" /"+t[T].value):E.push("/"+T+" "+t[T].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+c.length+u.length+a.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+o+c+u+h),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Rt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var u,h=c.metadata.Unicode.widths,f=["","0","00","000","0000"],g=[""],x=0,v=o.length;x<v;++x){if(u=c.metadata.characterToGlyph(o.charCodeAt(x)),c.metadata.glyIdsUsed.push(u),c.metadata.toUnicode[u]=o.charCodeAt(x),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(c.metadata.widthOfGlyph(u),10)])),u=="0")return g.join("");u=u.toString(16),g.push(f[4-u.length],u)}return g.join("")},r=function(o){var c,u,h,f,g,x,v;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],x=0,v=(u=Object.keys(o).sort(function(b,T){return b-T})).length;x<v;x++)c=u[x],h.length>=100&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(f=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),h.push("<"+c+"><"+f+">"));return h.length&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var u=c.font,h=c.out,f=c.newObject,g=c.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var x=u.metadata.Unicode.widths,v=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),b="",T=0;T<v.length;T++)b+=String.fromCharCode(v[T]);var E=f();g({data:b,addLength1:!0,objectId:E}),h("endobj");var j=f();g({data:r(u.metadata.toUnicode),addLength1:!0,objectId:j}),h("endobj");var S=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+vf(u.fontName)),h("/FontFile2 "+E+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var L=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+vf(u.fontName)),h("/FontDescriptor "+S+" 0 R"),h("/W "+n.API.PDFObject.convert(x)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+j+" 0 R"),h("/BaseFont /"+vf(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+L+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var u=c.font,h=c.out,f=c.newObject,g=c.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var x=u.metadata.rawData,v="",b=0;b<x.length;b++)v+=String.fromCharCode(x[b]);var T=f();g({data:v,addLength1:!0,objectId:T}),h("endobj");var E=f();g({data:r(u.metadata.toUnicode),addLength1:!0,objectId:E}),h("endobj");var j=f();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+T+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+vf(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=f();for(var S=0;S<u.metadata.hmtx.widths.length;S++)u.metadata.hmtx.widths[S]=parseInt(u.metadata.hmtx.widths[S]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+vf(u.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(o)}]);var a=function(o){var c,u=o.text||"",h=o.x,f=o.y,g=o.options||{},x=o.mutex||{},v=x.pdfEscape,b=x.activeFontKey,T=x.fonts,E=b,j="",S=0,L="",D=T[E].encoding;if(T[E].encoding!=="Identity-H")return{text:u,x:h,y:f,options:g,mutex:x};for(L=u,E=b,Array.isArray(u)&&(L=u[0]),S=0;S<L.length;S+=1)T[E].metadata.hasOwnProperty("cmap")&&(c=T[E].metadata.cmap.unicode.codeMap[L[S].charCodeAt(0)]),c||L[S].charCodeAt(0)<256&&T[E].metadata.hasOwnProperty("Unicode")?j+=L[S]:j+="";var O="";return parseInt(E.slice(1))<14||D==="WinAnsiEncoding"?O=v(j,E).split("").map(function(te){return te.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(O=t(j,T[E])),x.isHex=!0,{text:O,x:h,y:f,options:g,mutex:x}};e.events.push(["postProcessText",function(o){var c=o.text||"",u=[],h={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?u.push([a(Object.assign({},h,{text:c[f][0]})).text,c[f][1],c[f][2]]):u.push(a(Object.assign({},h,{text:c[f]})).text);o.text=u}else o.text=a(Object.assign({},h,{text:c})).text}])})(Rt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Rt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,o,c,u,h,f,g,x=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,D=0;this.__bidiEngine__={};var O=function(I){var P=I.charCodeAt(),B=P>>8,ue=E[B];return ue!==void 0?x[256*ue+(255&P)]:B===252||B===253?"AL":S.test(B)?"L":B===8?"R":"N"},te=function(I){for(var P,B=0;B<I.length;B++){if((P=O(I.charAt(B)))==="L")return!1;if(P==="R")return!0}return!1},ee=function(I,P,B,ue){var Ne,ce,pe,de,Se=P[ue];switch(Se){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"N":case"AN":break;case"EN":L&&(Se="AN");break;case"AL":L=!0,Se="R";break;case"WS":case"BN":Se="N";break;case"CS":ue<1||ue+1>=P.length||(Ne=B[ue-1])!=="EN"&&Ne!=="AN"||(ce=P[ue+1])!=="EN"&&ce!=="AN"?Se="N":L&&(ce="AN"),Se=ce===Ne?ce:"N";break;case"ES":Se=(Ne=ue>0?B[ue-1]:"B")==="EN"&&ue+1<P.length&&P[ue+1]==="EN"?"EN":"N";break;case"ET":if(ue>0&&B[ue-1]==="EN"){Se="EN";break}if(L){Se="N";break}for(pe=ue+1,de=P.length;pe<de&&P[pe]==="ET";)pe++;Se=pe<de&&P[pe]==="EN"?"EN":"N";break;case"NSM":if(c&&!u){for(de=P.length,pe=ue+1;pe<de&&P[pe]==="NSM";)pe++;if(pe<de){var ze=I[ue],re=ze>=1425&&ze<=2303||ze===64286;if(Ne=P[pe],re&&(Ne==="R"||Ne==="AL")){Se="R";break}}}Se=ue<1||(Ne=P[ue-1])==="B"?"N":B[ue-1];break;case"B":L=!1,a=!0,Se=D;break;case"S":o=!0,Se="N"}return Se},G=function(I,P,B){var ue=I.split("");return B&&U(ue,B,{hiLevel:D}),ue.reverse(),P&&P.reverse(),ue.join("")},U=function(I,P,B){var ue,Ne,ce,pe,de,Se=-1,ze=I.length,re=0,q=[],Q=D?b:v,se=[];for(L=!1,a=!1,o=!1,Ne=0;Ne<ze;Ne++)se[Ne]=O(I[Ne]);for(ce=0;ce<ze;ce++){if(de=re,q[ce]=ee(I,se,q,ce),ue=240&(re=Q[de][T[q[ce]]]),re&=15,P[ce]=pe=Q[re][5],ue>0)if(ue===16){for(Ne=Se;Ne<ce;Ne++)P[Ne]=1;Se=-1}else Se=-1;if(Q[re][6])Se===-1&&(Se=ce);else if(Se>-1){for(Ne=Se;Ne<ce;Ne++)P[Ne]=pe;Se=-1}se[ce]==="B"&&(P[ce]=0),B.hiLevel|=pe}o&&(function(he,me,be){for(var Le=0;Le<be;Le++)if(he[Le]==="S"){me[Le]=D;for(var ke=Le-1;ke>=0&&he[ke]==="WS";ke--)me[ke]=D}})(se,P,ze)},k=function(I,P,B,ue,Ne){if(!(Ne.hiLevel<I)){if(I===1&&D===1&&!a)return P.reverse(),void(B&&B.reverse());for(var ce,pe,de,Se,ze=P.length,re=0;re<ze;){if(ue[re]>=I){for(de=re+1;de<ze&&ue[de]>=I;)de++;for(Se=re,pe=de-1;Se<pe;Se++,pe--)ce=P[Se],P[Se]=P[pe],P[pe]=ce,B&&(ce=B[Se],B[Se]=B[pe],B[pe]=ce);re=de}re++}}},F=function(I,P,B){var ue=I.split(""),Ne={hiLevel:D};return B||(B=[]),U(ue,B,Ne),(function(ce,pe,de){if(de.hiLevel!==0&&g)for(var Se,ze=0;ze<ce.length;ze++)pe[ze]===1&&(Se=j.indexOf(ce[ze]))>=0&&(ce[ze]=j[Se+1])})(ue,B,Ne),k(2,ue,P,B,Ne),k(1,ue,P,B,Ne),ue.join("")};return this.__bidiEngine__.doBidiReorder=function(I,P,B){if((function(Ne,ce){if(ce)for(var pe=0;pe<Ne.length;pe++)ce[pe]=pe;u===void 0&&(u=te(Ne)),f===void 0&&(f=te(Ne))})(I,P),c||!h||f)if(c&&h&&u^f)D=u?1:0,I=G(I,P,B);else if(!c&&h&&f)D=u?1:0,I=F(I,P,B),I=G(I,P);else if(!c||u||h||f){if(c&&!h&&u^f)I=G(I,P),u?(D=0,I=F(I,P,B)):(D=1,I=F(I,P,B),I=G(I,P));else if(c&&u&&!h&&f)D=1,I=F(I,P,B),I=G(I,P);else if(!c&&!h&&u^f){var ue=g;u?(D=1,I=F(I,P,B),D=0,g=!1,I=F(I,P,B),g=ue):(D=0,I=F(I,P,B),I=G(I,P),D=1,g=!1,I=F(I,P,B),g=ue,I=G(I,P))}}else D=0,I=F(I,P,B);else D=u?1:0,I=F(I,P,B);return I},this.__bidiEngine__.setOptions=function(I){I&&(c=I.isInputVisual,h=I.isOutputVisual,u=I.isInputRtl,f=I.isOutputRtl,g=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var u=0;for(c=[],u=0;u<a.length;u+=1)Object.prototype.toString.call(a[u])==="[object Array]"?c.push([t.doBidiReorder(a[u][0]),a[u][1],a[u][2]]):c.push([t.doBidiReorder(a[u])]);r.text=c}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Rt),Rt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new id(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new RG(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new xG(this.contents),this.head=new bG(this),this.name=new _G(this),this.cmap=new pC(this),this.toUnicode={},this.hhea=new vG(this),this.maxp=new SG(this),this.hmtx=new EG(this),this.post=new NG(this),this.os2=new wG(this),this.loca=new IG(this),this.glyf=new AG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,u,h,f;for(f=[],c=0,u=(h=this.bbox).length;c<u;c++)e=h[c],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var a,o,c,u;for(c=0,o=0,u=(e=""+e).length;0<=u?o<u:o>u;o=0<=u?++o:--o)a=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var yl,id=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,a,o,c,u,h;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^c)+256*(255^u)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*o+65536*c+256*u+h},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,a,o;for(o=[],r=0,a=e.length;r<a;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),xG=(function(){var n;function e(t){var r,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,o,c,u,h,f,g,x,v,b,T,E;for(E in b=Object.keys(t).length,h=Math.log(2),x=16*Math.floor(Math.log(b)/h),c=Math.floor(x/h),g=16*b-x,(a=new id).writeInt(this.scalarType),a.writeShort(b),a.writeShort(x),a.writeShort(c),a.writeShort(g),o=16*b,f=a.pos+o,u=null,T=[],t)for(v=t[E],a.writeString(E),a.writeInt(n(v)),a.writeInt(f),a.writeInt(v.length),T=T.concat(v),E==="head"&&(u=f),f+=v.length;f%4;)T.push(0),f++;return a.write(T),r=2981146554-n(a.data),a.pos=u+8,a.writeUInt32(r),a.data},n=function(t){var r,a,o,c;for(t=xC.call(t);t.length%4;)t.push(0);for(o=new id(t),a=0,r=0,c=t.length;r<c;r=r+=4)a+=o.readUInt32();return 4294967295&a},e})(),yG={}.hasOwnProperty,oc=function(n,e){for(var t in e)yG.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};yl=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var bG=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,yl),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new id).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),M6=(function(){function n(e,t){var r,a,o,c,u,h,f,g,x,v,b,T,E,j,S,L,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(b=e.readUInt16(),v=b/2,e.pos+=6,o=(function(){var O,te;for(te=[],h=O=0;0<=v?O<v:O>v;h=0<=v?++O:--O)te.push(e.readUInt16());return te})(),e.pos+=2,E=(function(){var O,te;for(te=[],h=O=0;0<=v?O<v:O>v;h=0<=v?++O:--O)te.push(e.readUInt16());return te})(),f=(function(){var O,te;for(te=[],h=O=0;0<=v?O<v:O>v;h=0<=v?++O:--O)te.push(e.readUInt16());return te})(),g=(function(){var O,te;for(te=[],h=O=0;0<=v?O<v:O>v;h=0<=v?++O:--O)te.push(e.readUInt16());return te})(),a=(this.length-e.pos+this.offset)/2,u=(function(){var O,te;for(te=[],h=O=0;0<=a?O<a:O>a;h=0<=a?++O:--O)te.push(e.readUInt16());return te})(),h=S=0,D=o.length;S<D;h=++S)for(j=o[h],r=L=T=E[h];T<=j?L<=j:L>=j;r=T<=j?++L:--L)g[h]===0?c=r+f[h]:(c=u[g[h]/2+(r-T)-(v-h)]||0)!==0&&(c+=f[h]),this.codeMap[r]=65535&c}e.pos=x}return n.encode=function(e,t){var r,a,o,c,u,h,f,g,x,v,b,T,E,j,S,L,D,O,te,ee,G,U,k,F,I,P,B,ue,Ne,ce,pe,de,Se,ze,re,q,Q,se,he,me,be,Le,ke,qe,Je,it;switch(ue=new id,c=Object.keys(e).sort(function(at,ft){return at-ft}),t){case"macroman":for(E=0,j=(function(){var at=[];for(T=0;T<256;++T)at.push(0);return at})(),L={0:0},o={},Ne=0,Se=c.length;Ne<Se;Ne++)L[ke=e[a=c[Ne]]]==null&&(L[ke]=++E),o[a]={old:e[a],new:L[e[a]]},j[a]=L[e[a]];return ue.writeUInt16(1),ue.writeUInt16(0),ue.writeUInt32(12),ue.writeUInt16(0),ue.writeUInt16(262),ue.writeUInt16(0),ue.write(j),{charMap:o,subtable:ue.data,maxGlyphID:E+1};case"unicode":for(P=[],x=[],D=0,L={},r={},S=f=null,ce=0,ze=c.length;ce<ze;ce++)L[te=e[a=c[ce]]]==null&&(L[te]=++D),r[a]={old:te,new:L[te]},u=L[te]-a,S!=null&&u===f||(S&&x.push(S),P.push(a),f=u),S=a;for(S&&x.push(S),x.push(65535),P.push(65535),F=2*(k=P.length),U=2*Math.pow(Math.log(k)/Math.LN2,2),v=Math.log(U/2)/Math.LN2,G=2*k-U,h=[],ee=[],b=[],T=pe=0,re=P.length;pe<re;T=++pe){if(I=P[T],g=x[T],I===65535){h.push(0),ee.push(0);break}if(I-(B=r[I].new)>=32768)for(h.push(0),ee.push(2*(b.length+k-T)),a=de=I;I<=g?de<=g:de>=g;a=I<=g?++de:--de)b.push(r[a].new);else h.push(B-I),ee.push(0)}for(ue.writeUInt16(3),ue.writeUInt16(1),ue.writeUInt32(12),ue.writeUInt16(4),ue.writeUInt16(16+8*k+2*b.length),ue.writeUInt16(0),ue.writeUInt16(F),ue.writeUInt16(U),ue.writeUInt16(v),ue.writeUInt16(G),be=0,q=x.length;be<q;be++)a=x[be],ue.writeUInt16(a);for(ue.writeUInt16(0),Le=0,Q=P.length;Le<Q;Le++)a=P[Le],ue.writeUInt16(a);for(qe=0,se=h.length;qe<se;qe++)u=h[qe],ue.writeUInt16(u);for(Je=0,he=ee.length;Je<he;Je++)O=ee[Je],ue.writeUInt16(O);for(it=0,me=b.length;it<me;it++)E=b[it],ue.writeUInt16(E);return{charMap:r,subtable:ue.data,maxGlyphID:D+1}}},n})(),pC=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,yl),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)t=new M6(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,a;return t==null&&(t="macroman"),r=M6.encode(e,t),(a=new id).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},n})(),vG=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,yl),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),wG=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,yl),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),NG=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,yl),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var c,u,h;for(h=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)h.push(e.readUInt32());return h}).call(this)}},n})(),jG=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},_G=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,yl),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,a,o,c,u,h,f,g,x,v;for(e.pos=this.offset,e.readShort(),t=e.readShort(),u=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(h={},o=g=0,x=r.length;g<x;o=++g)a=r[o],e.pos=a.offset,f=e.readString(a.length),c=new jG(f,a),h[v=a.nameID]==null&&(h[v]=[]),h[a.nameID].push(c);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},n})(),SG=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,yl),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),EG=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,yl),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,a,o,c,u,h;for(e.pos=this.offset,this.metrics=[],t=0,u=this.file.hhea.numberOfMetrics;0<=u?t<u:t>u;t=0<=u?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,g;for(g=[],t=f=0;0<=a?f<a:f>a;t=0<=a?++f:--f)g.push(e.readInt16());return g})(),this.widths=(function(){var f,g,x,v;for(v=[],f=0,g=(x=this.metrics).length;f<g;f++)o=x[f],v.push(o.advance);return v}).call(this),r=this.widths[this.widths.length-1],h=[],t=c=0;0<=a?c<a:c>a;t=0<=a?++c:--c)h.push(this.widths.push(r));return h},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),xC=[].slice,AG=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,yl),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,a,o,c,u,h,f,g,x;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,c=(u=new id(t.read(a))).readShort(),f=u.readShort(),x=u.readShort(),h=u.readShort(),g=u.readShort(),this.cache[e]=c===-1?new CG(u,f,x,h,g):new TG(u,c,f,x,h,g),this.cache[e]))},n.prototype.encode=function(e,t,r){var a,o,c,u,h;for(c=[],o=[],u=0,h=t.length;u<h;u++)a=e[t[u]],o.push(c.length),a&&(c=c.concat(a.encode(r)));return o.push(c.length),{table:c,offsets:o}},n})(),TG=(function(){function n(e,t,r,a,o,c){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),CG=(function(){function n(e,t,r,a,o){var c,u;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;u=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&u;)c.pos+=1&u?4:2,128&u?c.pos+=8:64&u?c.pos+=4:8&u&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new id(xC.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),IG=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,yl),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<r.length;++c)if(r[c]=a,o<t.length&&t[o]==c){++o,r[c]=a;var u=this.offsets[c],h=this.offsets[c+1]-u;h>0&&(a+=h)}for(var f=new Array(4*r.length),g=0;g<r.length;++g)f[4*g+3]=255&r[g],f[4*g+2]=(65280&r[g])>>8,f[4*g+1]=(16711680&r[g])>>16,f[4*g]=(4278190080&r[g])>>24;return f},n})(),RG=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=a[r];return e},n.prototype.glyphsFor=function(e){var t,r,a,o,c,u,h;for(a={},c=0,u=e.length;c<u;c++)a[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(r=a[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in h=this.glyphsFor(t))r=h[o],a[o]=r;return a},n.prototype.encode=function(e,t){var r,a,o,c,u,h,f,g,x,v,b,T,E,j,S;for(a in r=pC.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),b={0:0},S=r.charMap)b[(h=S[a]).old]=h.new;for(T in v=r.maxGlyphID,c)T in b||(b[T]=v++);return g=(function(L){var D,O;for(D in O={},L)O[L[D]]=D;return O})(b),x=Object.keys(g).sort(function(L,D){return L-D}),E=(function(){var L,D,O;for(O=[],L=0,D=x.length;L<D;L++)u=x[L],O.push(g[u]);return O})(),o=this.font.glyf.encode(c,E,b),f=this.font.loca.encode(o.offsets,E),j={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},n})();Rt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,o,c;if(Array.isArray(t))return"["+(function(){var u,h,f;for(f=[],u=0,h=t.length;u<h;u++)r=t[u],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)c=t[a],o.push("/"+a+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();function yC(n,e,t,r,a){r=r||{};var o=1.15,c=a.internal.scaleFactor,u=a.internal.getFontSize()/c,h=a.getLineHeightFactor?a.getLineHeightFactor():o,f=u*h,g=/\r\n|\r|\n/g,x="",v=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(x=typeof n=="string"?n.split(g):n,v=x.length||1),t+=u*(2-o),r.valign==="middle"?t-=v/2*f:r.valign==="bottom"&&(t-=v*f),r.halign==="center"||r.halign==="right"){var b=u;if(r.halign==="center"&&(b*=.5),x&&v>=1){for(var T=0;T<x.length;T++)a.text(x[T],e-a.getStringUnitWidth(x[T])*b,t),t+=f;return a}e-=a.getStringUnitWidth(n)*b}return r.halign==="justify"?a.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):a.text(n,e,t),a}var O6={},Lf=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:O6=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,a,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var c=this.jsPDFDocument.internal.getFont(),u=c.fontStyle,h=c.fontName;if(e.font&&(h=e.font),e.fontStyle){u=e.fontStyle;var f=this.getFontList()[h];f&&f.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),u=f[0])}if(this.jsPDFDocument.setFont(h,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var g=n.unifyColor(e.fillColor);g&&(r=this.jsPDFDocument).setFillColor.apply(r,g),g=n.unifyColor(e.textColor),g&&(a=this.jsPDFDocument).setTextColor.apply(a,g),g=n.unifyColor(e.lineColor),g&&(o=this.jsPDFDocument).setDrawColor.apply(o,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,a,o){return this.jsPDFDocument.rect(e,t,r,a,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return O6||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),M2=function(n,e){return M2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])},M2(n,e)};function bC(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");M2(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var vC=(function(n){bC(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function kG(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function PG(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Px(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],a=r.map(function(o){return t.getTextWidth(o)}).reduce(function(o,c){return Math.max(o,c)},0);return a}function wC(n,e,t,r){var a=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:a,lineColor:o});var c=NC(a,!1);c&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,c)}function NC(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function jy(n,e){var t,r,a,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(a=n.right)!==null&&a!==void 0?a:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function jC(n,e){var t=jy(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function LG(n,e,t,r,a){var o={},c=1.3333333333333333,u=C1(e,function(D){return a.getComputedStyle(D).backgroundColor});u!=null&&(o.fillColor=u);var h=C1(e,function(D){return a.getComputedStyle(D).color});h!=null&&(o.textColor=h);var f=MG(r,t);f&&(o.cellPadding=f);var g="borderTopColor",x=c*t,v=r.borderTopWidth;if(r.borderBottomWidth===v&&r.borderRightWidth===v&&r.borderLeftWidth===v){var b=(parseFloat(v)||0)/x;b&&(o.lineWidth=b)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/x,right:(parseFloat(r.borderRightWidth)||0)/x,bottom:(parseFloat(r.borderBottomWidth)||0)/x,left:(parseFloat(r.borderLeftWidth)||0)/x},o.lineWidth.top||(o.lineWidth.right?g="borderRightColor":o.lineWidth.bottom?g="borderBottomColor":o.lineWidth.left&&(g="borderLeftColor"));var T=C1(e,function(D){return a.getComputedStyle(D)[g]});T!=null&&(o.lineColor=T);var E=["left","right","center","justify"];E.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),E=["middle","bottom","top"],E.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var j=parseInt(r.fontSize||"");isNaN(j)||(o.fontSize=j/c);var S=DG(r);S&&(o.fontStyle=S);var L=(r.fontFamily||"").toLowerCase();return n.indexOf(L)!==-1&&(o.font=L),o}function DG(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function C1(n,e){var t=_C(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var a=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function _C(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:_C(n.parentElement,e):t}function MG(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),a=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(u){return parseInt(u||"0")/r}),c=jy(o,0);return a>c.top&&(c.top=a),a>c.bottom&&(c.bottom=a),c}function SC(n,e,t,r,a){var o,c;r===void 0&&(r=!1),a===void 0&&(a=!1);var u;typeof e=="string"?u=t.document.querySelector(e):u=e;var h=Object.keys(n.getFontList()),f=n.scaleFactor(),g=[],x=[],v=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:g,body:x,foot:v};for(var b=0;b<u.rows.length;b++){var T=u.rows[b],E=(c=(o=T?.parentElement)===null||o===void 0?void 0:o.tagName)===null||c===void 0?void 0:c.toLowerCase(),j=OG(h,f,t,T,r,a);j&&(E==="thead"?g.push(j):E==="tfoot"?v.push(j):x.push(j))}return{head:g,body:x,foot:v}}function OG(n,e,t,r,a,o){for(var c=new vC(r),u=0;u<r.cells.length;u++){var h=r.cells[u],f=t.getComputedStyle(h);if(a||f.display!=="none"){var g=void 0;o&&(g=LG(n,h,e,f,t)),c.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:g,_element:h,content:FG(h)})}}var x=t.getComputedStyle(r);if(c.length>0&&(a||x.display!=="none"))return c}function FG(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function UG(n,e,t){for(var r=0,a=[n,e,t];r<a.length;r++){var o=a[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function qc(n,e,t,r,a){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),c=1;c<arguments.length;c++){var u=arguments[c];if(u!=null)for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(o[h]=u[h])}return o}function VG(n,e){var t=new Lf(n),r=t.getDocumentOptions(),a=t.getGlobalOptions();UG(a,r,e);var o=qc({},a,r,e),c;typeof window<"u"&&(c=window);var u=BG(a,r,e),h=zG(a,r,e),f=qG(t,o),g=HG(t,o,c);return{id:e.tableId,content:g,hooks:h,styles:u,settings:f}}function BG(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(h){if(h==="columnStyles"){var f=n[h],g=e[h],x=t[h];r.columnStyles=qc({},f,g,x)}else{var v=[n,e,t],b=v.map(function(T){return T[h]||{}});r[h]=qc({},b[0],b[1],b[2])}},o=0,c=Object.keys(r);o<c.length;o++){var u=c[o];a(u)}return r}function zG(n,e,t){for(var r=[n,e,t],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,c=r;o<c.length;o++){var u=c[o];u.didParseCell&&a.didParseCell.push(u.didParseCell),u.willDrawCell&&a.willDrawCell.push(u.willDrawCell),u.didDrawCell&&a.didDrawCell.push(u.didDrawCell),u.willDrawPage&&a.willDrawPage.push(u.willDrawPage),u.didDrawPage&&a.didDrawPage.push(u.didDrawPage)}return a}function qG(n,e){var t,r,a,o,c,u,h,f,g,x,v,b,T=jy(e.margin,40/n.scaleFactor()),E=(t=GG(n,e.startY))!==null&&t!==void 0?t:T.top,j;e.showFoot===!0?j="everyPage":e.showFoot===!1?j="never":j=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var S;e.showHead===!0?S="everyPage":e.showHead===!1?S="never":S=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var L=(o=e.useCss)!==null&&o!==void 0?o:!1,D=e.theme||(L?"plain":"striped"),O=!!e.horizontalPageBreak,te=(c=e.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:L,theme:D,startY:E,margin:T,pageBreak:(h=e.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:S,showFoot:j,tableLineWidth:(x=e.tableLineWidth)!==null&&x!==void 0?x:0,tableLineColor:(v=e.tableLineColor)!==null&&v!==void 0?v:200,horizontalPageBreak:O,horizontalPageBreakRepeat:te,horizontalPageBreakBehaviour:(b=e.horizontalPageBreakBehaviour)!==null&&b!==void 0?b:"afterAllRows"}}function GG(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),a=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var c=t.startPageNumber+t.pageNumber-1;o=c===a}return typeof e=="number"?e:(e==null||e===!1)&&o&&t?.finalY!=null?t.finalY+20/r:null}function HG(n,e,t){var r=e.head||[],a=e.body||[],o=e.foot||[];if(e.html){var c=e.includeHiddenHtml;if(t){var u=SC(n,e.html,t,c,e.useCss)||{};r=u.head||r,a=u.body||r,o=u.foot||r}else console.error("Cannot parse html in non browser environment")}var h=e.columns||$G(r,a,o);return{columns:h,head:r,body:a,foot:o}}function $G(n,e,t){var r=n[0]||e[0]||t[0]||[],a=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var c=1,u;Array.isArray(r)?u=r[parseInt(o)]:u=r[o],typeof u=="object"&&!Array.isArray(u)&&(c=u?.colSpan||1);for(var h=0;h<c;h++){var f=void 0;Array.isArray(r)?f=a.length:f=o+(h>0?"_".concat(h):"");var g={dataKey:f};a.push(g)}}),a}var O2=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),WG=(function(n){bC(e,n);function e(t,r,a,o,c,u){var h=n.call(this,t,r,u)||this;return h.cell=a,h.row=o,h.column=c,h.section=o.section,h}return e})(O2),KG=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,a,o,c){for(var u=0,h=t;u<h.length;u++){var f=h[u],g=new WG(e,this,r,a,o,c),x=f(g)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],x)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,a=this.hooks.didDrawPage;r<a.length;r++){var o=a[r];o(new O2(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,a=this.hooks.willDrawPage;r<a.length;r++){var o=a[r];o(new O2(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(a,o){return a+o.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),EC=(function(){function n(e,t,r,a,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof vC&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=a,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,a){var o;return Math.max(r,((o=t.cells[a.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var a=t.cells[r.index];return a?a.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(a,o){var c=r.cells[o.index];if(!c)return 0;var u=t.getLineHeight(c.styles.fontSize),h=c.padding("vertical"),f=h+u;return f>a?f:a},0)},n})(),AC=(function(){function n(e,t,r){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var c=o!=null?""+o:"",u=/\r\n|\r|\n/g;this.text=c.split(u)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");r=this.x+a/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*t,o=r*a+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=jy(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),YG=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,a=e.allRows();r<a.length;r++){var o=a[r],c=o.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(t=Math.max(t,c.styles.cellWidth))}return t},n})();function XG(n,e){QG(n,e);var t=[],r=0;e.columns.forEach(function(o){var c=o.getMaxCustomCellWidth(e);c?o.width=c:(o.width=o.wrappedWidth,t.push(o)),r+=o.width});var a=e.getWidth(n.pageSize().width)-r;a&&(a=F2(t,a,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),a&&(a=F2(t,a,function(o){return o.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/n.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),ZG(e),eH(e,n),JG(e)}function QG(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,a=jC(n,e);e.allRows().forEach(function(o){for(var c=0,u=e.columns;c<u.length;c++){var h=u[c],f=o.cells[h.index];if(f){var g=e.hooks.didParseCell;e.callCellHooks(n,g,f,o,h,null);var x=f.padding("horizontal");f.contentWidth=Px(f.text,f.styles,n)+x;var v=Px(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=v+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||r===!0)f.contentWidth>a?(f.minWidth=a,f.wrappedWidth=a):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var b=10/t;f.minWidth=f.styles.minCellWidth||b,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(o){for(var c=0,u=e.columns;c<u.length;c++){var h=u[c],f=o.cells[h.index];if(f&&f.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,f.wrappedWidth),h.minWidth=Math.max(h.minWidth,f.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,f.minReadableWidth);else{var g=e.styles.columnStyles[h.dataKey]||e.styles.columnStyles[h.index]||{},x=g.cellWidth||g.minCellWidth;x&&typeof x=="number"&&(h.minWidth=x,h.wrappedWidth=x)}f&&(f.colSpan>1&&!h.minWidth&&(h.minWidth=f.minWidth),f.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=f.minWidth))}})}function F2(n,e,t){for(var r=e,a=n.reduce(function(b,T){return b+T.wrappedWidth},0),o=0;o<n.length;o++){var c=n[o],u=c.wrappedWidth/a,h=r*u,f=c.width+h,g=t(c),x=f<g?g:f;e-=x-c.width,c.width=x}if(e=Math.round(e*1e10)/1e10,e){var v=n.filter(function(b){return e<0?b.width>t(b):!0});v.length&&(e=F2(v,e,t))}return e}function JG(n){for(var e={},t=1,r=n.allRows(),a=0;a<r.length;a++)for(var o=r[a],c=0,u=n.columns;c<u.length;c++){var h=u[c],f=e[h.index];if(t>1)t--,delete o.cells[h.index];else if(f)f.cell.height+=o.height,t=f.cell.colSpan,delete o.cells[h.index],f.left--,f.left<=1&&delete e[h.index];else{var g=o.cells[h.index];if(!g)continue;if(g.height=o.height,g.rowSpan>1){var x=r.length-a,v=g.rowSpan>x?x:g.rowSpan;e[h.index]={cell:g,left:v,row:o}}}}}function ZG(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],a=null,o=0,c=0,u=0;u<n.columns.length;u++){var h=n.columns[u];if(c-=1,c>1&&n.columns[u+1])o+=h.width,delete r.cells[h.index];else if(a){var f=a;delete r.cells[h.index],a=null,f.width=h.width+o}else{var f=r.cells[h.index];if(!f)continue;if(c=f.colSpan,o=0,f.colSpan>1){a=f,o+=h.width;continue}f.width=h.width+o}}}function eH(n,e){for(var t={count:0,height:0},r=0,a=n.allRows();r<a.length;r++){for(var o=a[r],c=0,u=n.columns;c<u.length;c++){var h=u[c],f=o.cells[h.index];if(f){e.applyStyles(f.styles,!0);var g=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,g+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=F6(f.text,g,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=F6(f.text,g,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var x=f.styles.overflow(f.text,g);typeof x=="string"?f.text=[x]:f.text=x}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var v=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<v*f.rowSpan?t={height:v,count:f.rowSpan}:t&&t.count>0&&t.height>v&&(v=t.height),v>o.height&&(o.height=v)}}t.count--}}function F6(n,e,t,r,a){return n.map(function(o){return tH(o,e,t,r,a)})}function tH(n,e,t,r,a){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=Px(n,t,r))return n;for(;e<Px(n+a,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+a}function nH(n,e){var t=new Lf(n),r=rH(e,t.scaleFactor()),a=new KG(e,r);return XG(t,a),t.applyStyles(t.userStyles),a}function rH(n,e){var t=n.content,r=aH(t.columns);if(t.head.length===0){var a=U6(r,"head");a&&t.head.push(a)}if(t.foot.length===0){var a=U6(r,"foot");a&&t.foot.push(a)}var o=n.settings.theme,c=n.styles;return{columns:r,head:I1("head",t.head,r,c,o,e),body:I1("body",t.body,r,c,o,e),foot:I1("foot",t.foot,r,c,o,e)}}function I1(n,e,t,r,a,o){var c={},u=e.map(function(h,f){for(var g=0,x={},v=0,b=0,T=0,E=t;T<E.length;T++){var j=E[T];if(c[j.index]==null||c[j.index].left===0)if(b===0){var S=void 0;Array.isArray(h)?S=h[j.index-v-g]:S=h[j.dataKey];var L={};typeof S=="object"&&!Array.isArray(S)&&(L=S?.styles||{});var D=iH(n,j,f,a,r,o,L),O=new AC(S,D,n);x[j.dataKey]=O,x[j.index]=O,b=O.colSpan-1,c[j.index]={left:O.rowSpan-1,times:b}}else b--,v++;else c[j.index].left--,b=c[j.index].times,g++}return new EC(h,f,n,x)});return u}function U6(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var a=sH(e,r.raw);a!=null&&(t[r.dataKey]=a)}}),Object.keys(t).length>0?t:null}function sH(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function aH(n){return n.map(function(e,t){var r,a;return typeof e=="object"?a=(r=e.dataKey)!==null&&r!==void 0?r:t:a=t,new YG(a,e,t)})}function iH(n,e,t,r,a,o,c){var u=PG(r),h;n==="head"?h=a.headStyles:n==="body"?h=a.bodyStyles:n==="foot"&&(h=a.footStyles);var f=qc({},u.table,u[n],a.styles,h),g=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},x=n==="body"?g:{},v=n==="body"&&t%2===0?qc({},u.alternateRow,a.alternateRowStyles):{},b=kG(o),T=qc({},b,f,v,x);return qc(T,c)}function oH(n,e,t){var r;t===void 0&&(t={});var a=jC(n,e),o=new Map,c=[],u=[],h=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?h=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(h=[e.settings.horizontalPageBreakRepeat]),h.forEach(function(v){var b=e.columns.find(function(T){return T.dataKey===v||T.index===v});b&&!o.has(b.index)&&(o.set(b.index,!0),c.push(b.index),u.push(e.columns[b.index]),a-=b.wrappedWidth)});for(var f=!0,g=(r=t?.start)!==null&&r!==void 0?r:0;g<e.columns.length;){if(o.has(g)){g++;continue}var x=e.columns[g].wrappedWidth;if(f||a>=x)f=!1,c.push(g),u.push(e.columns[g]),a-=x;else break;g++}return{colIndexes:c,columns:u,lastIndex:g-1}}function lH(n,e){for(var t=[],r=0;r<e.columns.length;r++){var a=oH(n,e,{start:r});a.columns.length&&(t.push(a),r=a.lastIndex)}return t}function cH(n,e){var t=e.settings,r=t.startY,a=t.margin,o={x:a.left,y:r},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=r+a.bottom+c;if(t.pageBreak==="avoid"){var h=e.body,f=h.reduce(function(v,b){return v+b.height},0);u+=f}var g=new Lf(n);(t.pageBreak==="always"||t.startY!=null&&u>g.pageSize().height)&&(CC(g),o.y=a.top),e.callWillDrawPageHooks(g,o);var x=qc({},o);e.startPageNumber=g.pageNumber(),t.horizontalPageBreak?uH(g,e,x,o):(g.applyStyles(g.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(v){return Xc(g,e,v,o,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(v,b){var T=b===e.body.length-1;Lx(g,e,v,T,x,o,e.columns)}),g.applyStyles(g.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(v){return Xc(g,e,v,o,e.columns)})),wC(g,e,x,o),e.callEndPageHooks(g,o),e.finalY=o.y,n.lastAutoTable=e,g.applyStyles(g.userStyles)}function uH(n,e,t,r){var a=lH(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(f,g){n.applyStyles(n.userStyles),g>0?jg(n,e,t,r,f.columns,!0):V6(n,e,r,f.columns),dH(n,e,t,r,f.columns),R1(n,e,r,f.columns)});else for(var c=-1,u=a[0],h=function(){var f=c;if(u){n.applyStyles(n.userStyles);var g=u.columns;c>=0?jg(n,e,t,r,g,!0):V6(n,e,r,g),f=B6(n,e,c+1,r,g),R1(n,e,r,g)}var x=f-c;a.slice(1).forEach(function(v){n.applyStyles(n.userStyles),jg(n,e,t,r,v.columns,!0),B6(n,e,c+1,r,v.columns,x),R1(n,e,r,v.columns)}),c=f};c<e.body.length-1;)h()}function V6(n,e,t,r){var a=e.settings;n.applyStyles(n.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(o){return Xc(n,e,o,t,r)})}function dH(n,e,t,r,a){n.applyStyles(n.userStyles),e.body.forEach(function(o,c){var u=c===e.body.length-1;Lx(n,e,o,u,t,r,a)})}function B6(n,e,t,r,a,o){n.applyStyles(n.userStyles),o=o??e.body.length;var c=Math.min(t+o,e.body.length),u=-1;return e.body.slice(t,c).forEach(function(h,f){var g=t+f===e.body.length-1,x=TC(n,e,g,r);h.canEntireRowFit(x,a)&&(Xc(n,e,h,r,a),u=t+f)}),u}function R1(n,e,t,r){var a=e.settings;n.applyStyles(n.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(o){return Xc(n,e,o,t,r)})}function hH(n,e,t){var r=t.getLineHeight(n.styles.fontSize),a=n.padding("vertical"),o=Math.floor((e-a)/r);return Math.max(0,o)}function fH(n,e,t,r){var a={};n.spansMultiplePages=!0,n.height=0;for(var o=0,c=0,u=t.columns;c<u.length;c++){var h=u[c],f=n.cells[h.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var g=new AC(f.raw,f.styles,f.section);g=qc(g,f),g.text=[];var x=hH(f,e,r);f.text.length>x&&(g.text=f.text.splice(x,f.text.length));var v=r.scaleFactor(),b=r.getLineHeightFactor();f.contentHeight=f.getContentHeight(v,b),f.contentHeight>=e&&(f.contentHeight=e,g.styles.minCellHeight-=e),f.contentHeight>n.height&&(n.height=f.contentHeight),g.contentHeight=g.getContentHeight(v,b),g.contentHeight>o&&(o=g.contentHeight),a[h.index]=g}}var T=new EC(n.raw,-1,n.section,a,!0);T.height=o;for(var E=0,j=t.columns;E<j.length;E++){var h=j[E],g=T.cells[h.index];g&&(g.height=T.height);var f=n.cells[h.index];f&&(f.height=n.height)}return T}function mH(n,e,t,r){var a=n.pageSize().height,o=r.settings.margin,c=o.top+o.bottom,u=a-c;e.section==="body"&&(u-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var h=e.getMinimumRowHeight(r.columns,n),f=h<t;if(h>u)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var g=e.hasRowSpan(r.columns),x=e.getMaxCellHeight(r.columns)>u;return x?(g&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||r.settings.rowPageBreak==="avoid")}function Lx(n,e,t,r,a,o,c){var u=TC(n,e,r,o);if(t.canEntireRowFit(u,c))Xc(n,e,t,o,c);else if(mH(n,t,u,e)){var h=fH(t,u,e,n);Xc(n,e,t,o,c),jg(n,e,a,o,c),Lx(n,e,h,r,a,o,c)}else jg(n,e,a,o,c),Lx(n,e,t,r,a,o,c)}function Xc(n,e,t,r,a){r.x=e.settings.margin.left;for(var o=0,c=a;o<c.length;o++){var u=c[o],h=t.cells[u.index];if(!h){r.x+=u.width;continue}n.applyStyles(h.styles),h.x=r.x,h.y=r.y;var f=e.callCellHooks(n,e.hooks.willDrawCell,h,t,u,r);if(f===!1){r.x+=u.width;continue}gH(n,h,r);var g=h.getTextPos();yC(h.text,g.x,g.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,h,t,u,r),r.x+=u.width}r.y+=t.height}function gH(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var a=NC(r.lineWidth,r.fillColor);a&&n.rect(e.x,t.y,e.width,e.height,a)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),pH(n,e,t,r.lineWidth))}function pH(n,e,t,r){var a,o,c,u;r.top&&(a=t.x,o=t.y,c=t.x+e.width,u=t.y,r.right&&(c+=.5*r.right),r.left&&(a-=.5*r.left),h(r.top,a,o,c,u)),r.bottom&&(a=t.x,o=t.y+e.height,c=t.x+e.width,u=t.y+e.height,r.right&&(c+=.5*r.right),r.left&&(a-=.5*r.left),h(r.bottom,a,o,c,u)),r.left&&(a=t.x,o=t.y,c=t.x,u=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(u+=.5*r.bottom),h(r.left,a,o,c,u)),r.right&&(a=t.x+e.width,o=t.y,c=t.x+e.width,u=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(u+=.5*r.bottom),h(r.right,a,o,c,u));function h(f,g,x,v,b){n.getDocument().setLineWidth(f),n.getDocument().line(g,x,v,b,"S")}}function TC(n,e,t,r){var a=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(a+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-a}function jg(n,e,t,r,a,o){a===void 0&&(a=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(u){return Xc(n,e,u,r,a)}),e.callEndPageHooks(n,r);var c=e.settings.margin;wC(n,e,t,r),CC(n),e.pageNumber++,r.x=c.left,r.y=c.top,t.y=c.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return Xc(n,e,u,r,a)}),n.applyStyles(n.userStyles))}function CC(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function xH(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],a=VG(this,r),o=nH(this,a);return cH(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,a){yC(e,t,r,a,this)},n.API.autoTableSetDefaults=function(e){return Lf.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Lf.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Lf(this),o=SC(a,e,window,t,!1),c=o.head,u=o.body,h=((r=c[0])===null||r===void 0?void 0:r.map(function(f){return f.content}))||[];return{columns:h,rows:u,data:u}}}var k1;try{if(typeof window<"u"&&window){var z6=window,q6=z6.jsPDF||((k1=z6.jspdf)===null||k1===void 0?void 0:k1.jsPDF);q6&&xH(q6)}}catch(n){console.error("Could not apply autoTable plugin",n)}const IC=async(n,e={})=>{const{orientation:t="landscape",title:r="Village Statistics Report",gramPanchayatName:a="Gram Panchayat"}=e,o=await ET(n);if(o.length===0)throw new Error(`No data available for year ${n}`);const c=new Rt({orientation:t,unit:"mm",format:"a4"}),u=c.internal.pageSize.getWidth(),h=c.internal.pageSize.getHeight();let f=20;const g=()=>(c.setFillColor(255,107,0),c.rect(0,0,u,3,"F"),c.setFillColor(255,255,255),c.rect(0,3,u,3,"F"),c.setFillColor(19,136,8),c.rect(0,6,u,3,"F"),c.setFontSize(18),c.setTextColor(0,0,0),c.setFont("helvetica","bold"),c.text(r,u/2,18,{align:"center"}),c.setFontSize(12),c.setFont("helvetica","normal"),c.text(a,u/2,25,{align:"center"}),c.setFontSize(10),c.text(`Year: ${n}`,u/2,31,{align:"center"}),38);f=g(),c.setFontSize(14),c.setFont("helvetica","bold"),c.setTextColor(255,107,0),c.text("1. Population Demographics",14,f),f+=8;const x=o.map(k=>[k.village.nameEn||"-",(k.demographics.totalPopulation||0).toLocaleString(),(k.demographics.malePopulation||0).toLocaleString(),(k.demographics.femalePopulation||0).toLocaleString(),k.demographics.source||"-"]),v=o.reduce((k,F)=>k+(F.demographics.totalPopulation||0),0),b=o.reduce((k,F)=>k+(F.demographics.malePopulation||0),0),T=o.reduce((k,F)=>k+(F.demographics.femalePopulation||0),0);x.push(["TOTAL",v.toLocaleString(),b.toLocaleString(),T.toLocaleString(),""]),c.autoTable({startY:f,head:[["Village","Total Population","Male","Female","Source"]],body:x,theme:"grid",headStyles:{fillColor:[255,107,0],textColor:255,fontStyle:"bold"},footStyles:{fillColor:[240,240,240],fontStyle:"bold"},alternateRowStyles:{fillColor:[252,248,245]},styles:{fontSize:9,cellPadding:3}}),f=c.lastAutoTable.finalY+10,f>h-60&&(c.addPage(),f=g()),c.setFontSize(14),c.setFont("helvetica","bold"),c.setTextColor(255,107,0),c.text("2. Category-wise Population Breakdown",14,f),f+=8;const E=[];o.forEach(k=>{const F=k.breakdowns.find(ue=>ue.category==="ST")||{},I=k.breakdowns.find(ue=>ue.category==="SC")||{},P=k.breakdowns.find(ue=>ue.category==="OBC")||{},B=k.breakdowns.find(ue=>ue.category==="OTHER")||{};E.push([k.village.nameEn||"-",(F.maleCount||0).toLocaleString(),(F.femaleCount||0).toLocaleString(),((F.maleCount||0)+(F.femaleCount||0)).toLocaleString(),(I.maleCount||0).toLocaleString(),(I.femaleCount||0).toLocaleString(),((I.maleCount||0)+(I.femaleCount||0)).toLocaleString(),(P.maleCount||0).toLocaleString(),(P.femaleCount||0).toLocaleString(),((P.maleCount||0)+(P.femaleCount||0)).toLocaleString(),(B.maleCount||0).toLocaleString(),(B.femaleCount||0).toLocaleString(),((B.maleCount||0)+(B.femaleCount||0)).toLocaleString()])});const j={male:0,female:0},S={male:0,female:0},L={male:0,female:0},D={male:0,female:0};o.forEach(k=>{k.breakdowns.forEach(F=>{F.category==="ST"?(j.male+=F.maleCount||0,j.female+=F.femaleCount||0):F.category==="SC"?(S.male+=F.maleCount||0,S.female+=F.femaleCount||0):F.category==="OBC"?(L.male+=F.maleCount||0,L.female+=F.femaleCount||0):F.category==="OTHER"&&(D.male+=F.maleCount||0,D.female+=F.femaleCount||0)})}),E.push(["TOTAL",j.male.toLocaleString(),j.female.toLocaleString(),(j.male+j.female).toLocaleString(),S.male.toLocaleString(),S.female.toLocaleString(),(S.male+S.female).toLocaleString(),L.male.toLocaleString(),L.female.toLocaleString(),(L.male+L.female).toLocaleString(),D.male.toLocaleString(),D.female.toLocaleString(),(D.male+D.female).toLocaleString()]),c.autoTable({startY:f,head:[["Village",{content:"ST",colSpan:3},{content:"SC",colSpan:3},{content:"OBC",colSpan:3},{content:"OTHER",colSpan:3}],["","M","F","T","M","F","T","M","F","T","M","F","T"]],body:E,theme:"grid",headStyles:{fillColor:[255,107,0],textColor:255,fontStyle:"bold",fontSize:8},footStyles:{fillColor:[240,240,240],fontStyle:"bold"},alternateRowStyles:{fillColor:[252,248,245]},styles:{fontSize:7,cellPadding:2}}),f=c.lastAutoTable.finalY+10,f>h-60&&(c.addPage(),f=g()),c.setFontSize(14),c.setFont("helvetica","bold"),c.setTextColor(255,107,0),c.text("3. Groups & Committees",14,f),f+=8;const O=o.map(k=>[k.village.nameEn||"-",(k.groups.mahilaBachatGatCount||0).toString(),(k.groups.yuvakMandalCount||0).toString(),(k.groups.kisanGatCount||0).toString(),(k.groups.otherGroupCount||0).toString(),((k.groups.mahilaBachatGatCount||0)+(k.groups.yuvakMandalCount||0)+(k.groups.kisanGatCount||0)+(k.groups.otherGroupCount||0)).toString()]),te=o.reduce((k,F)=>({mbg:k.mbg+(F.groups.mahilaBachatGatCount||0),ym:k.ym+(F.groups.yuvakMandalCount||0),kg:k.kg+(F.groups.kisanGatCount||0),og:k.og+(F.groups.otherGroupCount||0)}),{mbg:0,ym:0,kg:0,og:0});O.push(["TOTAL",te.mbg.toString(),te.ym.toString(),te.kg.toString(),te.og.toString(),(te.mbg+te.ym+te.kg+te.og).toString()]),c.autoTable({startY:f,head:[["Village","Mahila Bachat Gat","Yuvak Mandal","Kisan Gat","Other Groups","Total"]],body:O,theme:"grid",headStyles:{fillColor:[255,107,0],textColor:255,fontStyle:"bold"},footStyles:{fillColor:[240,240,240],fontStyle:"bold"},alternateRowStyles:{fillColor:[252,248,245]},styles:{fontSize:9,cellPadding:3}}),f=c.lastAutoTable.finalY+10,f>h-60&&(c.addPage(),f=g()),c.setFontSize(14),c.setFont("helvetica","bold"),c.setTextColor(255,107,0),c.text("4. Water & Infrastructure",14,f),f+=8;const ee=o.map(k=>[k.village.nameEn||"-",(k.infrastructure.wellsCount||0).toString(),(k.infrastructure.borewellsCount||0).toString(),(k.infrastructure.handpumpsCount||0).toString(),(k.infrastructure.tapConnectionsCount||0).toString(),((k.infrastructure.wellsCount||0)+(k.infrastructure.borewellsCount||0)+(k.infrastructure.handpumpsCount||0)+(k.infrastructure.tapConnectionsCount||0)).toString()]),G=o.reduce((k,F)=>({wells:k.wells+(F.infrastructure.wellsCount||0),bore:k.bore+(F.infrastructure.borewellsCount||0),hand:k.hand+(F.infrastructure.handpumpsCount||0),tap:k.tap+(F.infrastructure.tapConnectionsCount||0)}),{wells:0,bore:0,hand:0,tap:0});ee.push(["TOTAL",G.wells.toString(),G.bore.toString(),G.hand.toString(),G.tap.toString(),(G.wells+G.bore+G.hand+G.tap).toString()]),c.autoTable({startY:f,head:[["Village","Wells","Borewells","Handpumps","Tap Connections","Total"]],body:ee,theme:"grid",headStyles:{fillColor:[255,107,0],textColor:255,fontStyle:"bold"},footStyles:{fillColor:[240,240,240],fontStyle:"bold"},alternateRowStyles:{fillColor:[252,248,245]},styles:{fontSize:9,cellPadding:3}});const U=new Date().toLocaleDateString("en-IN");return c.setFontSize(8),c.setTextColor(100,100,100),c.text(`Generated on: ${U}`,14,h-10),c.text(`Page ${c.internal.getNumberOfPages()}`,u-30,h-10),c},yH=async(n,e={})=>{const r=(await IC(n,e)).output("blob"),a=URL.createObjectURL(r);window.open(a,"_blank")},RC=async(n,e={})=>{const t=await IC(n,e),r=`Village_Statistics_${n}_${Date.now()}.pdf`;t.save(r)},bH=({selectedYear:n})=>{const{settings:e}=tu(),[t,r]=W.useState(!1),[a,o]=W.useState({type:"",text:""}),c=async()=>{r(!0),o({type:"",text:""});try{const h={title:"Village Statistics Report",gramPanchayatName:e?.title?.en||"Gram Panchayat",orientation:"landscape"};await yH(n,h),o({type:"success",text:"PDF opened in new tab successfully!"})}catch(h){o({type:"error",text:h.message||"Failed to generate PDF. Please ensure data is available for the selected year."})}finally{r(!1)}},u=async()=>{r(!0),o({type:"",text:""});try{const h={title:"Village Statistics Report",gramPanchayatName:e?.title?.en||"Gram Panchayat",orientation:"landscape"};await RC(n,h),o({type:"success",text:`PDF for year ${n} downloaded successfully!`})}catch(h){o({type:"error",text:h.message||"Failed to generate PDF. Please ensure data is available for the selected year."})}finally{r(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["PDF Reports & Downloads - ",n]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Generate comprehensive PDF reports with all village statistics"})]}),a.text&&s.jsxs("div",{className:`flex items-center gap-2 p-4 rounded-lg ${a.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[a.type==="success"?s.jsx(Bi,{className:"w-5 h-5"}):s.jsx(Qn,{className:"w-5 h-5"}),s.jsx("span",{children:a.text})]}),s.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-green-50 border border-orange-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:s.jsx(hr,{className:"w-8 h-8 text-orange-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Comprehensive Village Statistics Report"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["This PDF report includes all village statistics data for year ",s.jsx("strong",{children:n}),":"]}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Population Demographics:"})," Total, Male, Female population per village"]})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Category-wise Breakdown:"})," ST, SC, OBC, Other population distribution"]})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Groups & Committees:"})," Mahila Bachat Gat, Yuvak Mandal, Kisan Gat counts"]})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Water & Infrastructure:"})," Wells, Borewells, Handpumps, Tap Connections"]})]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:c,disabled:t,className:"flex items-center justify-center gap-3 px-6 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg",children:[s.jsx(zi,{className:"w-5 h-5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold",children:"Preview PDF"}),s.jsx("div",{className:"text-xs text-blue-100",children:"Open in new tab"})]})]}),s.jsxs("button",{onClick:u,disabled:t,className:"flex items-center justify-center gap-3 px-6 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg",children:[s.jsx(Vo,{className:"w-5 h-5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold",children:"Download PDF"}),s.jsx("div",{className:"text-xs text-green-100",children:"Save to computer"})]})]})]}),t&&s.jsxs("div",{className:"flex items-center justify-center gap-3 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),s.jsx("span",{className:"text-blue-700 font-medium",children:"Generating PDF report..."})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[s.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[s.jsx(Qn,{className:"w-5 h-5 text-gray-600"}),"Instructions"]}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-orange-600 font-bold",children:"1."}),s.jsxs("span",{children:["Ensure all data tabs (Demographics, Category-wise, Groups, Infrastructure) are filled with accurate data for year ",n,"."]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-orange-600 font-bold",children:"2."}),s.jsxs("span",{children:["Click ",s.jsx("strong",{children:'"Preview PDF"'})," to review the report in a new browser tab before downloading."]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-orange-600 font-bold",children:"3."}),s.jsxs("span",{children:["Click ",s.jsx("strong",{children:'"Download PDF"'})," to save the report to your computer."]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-orange-600 font-bold",children:"4."}),s.jsx("span",{children:"The PDF will include all villages with their complete statistics in a government-standard format."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-orange-600 font-bold",children:"5."}),s.jsx("span",{children:"If no data is available for the selected year, you'll receive an error message. Please add data first."})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("h5",{className:"font-semibold text-gray-800",children:"Professional Format"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Government-standard layout with Indian flag colors and proper tables"})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("h5",{className:"font-semibold text-gray-800",children:"Comprehensive Data"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"All statistics sections included with totals and subtotals"})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),s.jsx("h5",{className:"font-semibold text-gray-800",children:"Easy Sharing"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Download and share with officials, stakeholders, or publish online"})]})]})]})},vH=[{id:"villages",label:"Manage Villages",labelMr:"  "},{id:"demographics",label:"Demographics",labelMr:""},{id:"categories",label:"Category-wise",labelMr:""},{id:"groups",label:"Groups & Committees",labelMr:"  "},{id:"infrastructure",label:"Water & Infrastructure",labelMr:"   "},{id:"reports",label:"PDF / Reports",labelMr:"PDF / "}],wH=()=>{const[n,e]=W.useState("villages"),[t,r]=W.useState([]),[a,o]=W.useState(null),[c,u]=W.useState(!1),[h,f]=W.useState(""),[g,x]=W.useState(!0);W.useEffect(()=>{v()},[]);const v=async()=>{x(!0);try{const j=await Tx();r(j);const S=await ST();S?o(S):j.length>0&&o(j[0])}catch(j){console.error("Error loading data:",j)}finally{x(!1)}},b=async()=>{const j=parseInt(h);if(!j||j<1900||j>2100){alert("Please enter a valid year between 1900 and 2100");return}try{await MB(j);const S=await Tx();r(S),o(j),f(""),u(!1)}catch(S){alert(S.message||"Failed to add year")}},T=j=>{o(parseInt(j.target.value))},E=()=>{if(n==="villages")return s.jsx(OB,{});if(!a)return s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Zr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No year selected. Please add a year to get started."})]});switch(n){case"demographics":return s.jsx(FB,{selectedYear:a});case"categories":return s.jsx(UB,{selectedYear:a});case"groups":return s.jsx(VB,{selectedYear:a});case"infrastructure":return s.jsx(BB,{selectedYear:a});case"reports":return s.jsx(bH,{selectedYear:a});default:return null}};return g?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600"})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 text-white",children:s.jsxs("div",{className:"container mx-auto px-4 py-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(nT,{className:"w-8 h-8"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Village Statistics"}),s.jsx("p",{className:"text-sm text-orange-100",children:" "})]})]}),s.jsx("p",{className:"text-sm text-white/90 mt-2",children:"Manage census data, population breakdowns, groups, and infrastructure year-wise"})]})}),s.jsxs("div",{className:"container mx-auto px-4 py-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Year /  "}),s.jsx("select",{value:a||"",onChange:T,className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:t.length===0?s.jsx("option",{value:"",children:"No years available"}):t.map(j=>s.jsx("option",{value:j,children:j},j))})]}),s.jsx("div",{children:c?s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",value:h,onChange:j=>f(j.target.value),placeholder:"Enter year (e.g., 2025)",className:"w-48 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",onKeyPress:j=>j.key==="Enter"&&b()}),s.jsx("button",{onClick:b,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Add"}),s.jsx("button",{onClick:()=>{u(!1),f("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]}):s.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[s.jsx(Ss,{className:"w-4 h-4"}),"Add Year"]})})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-6",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("div",{className:"flex overflow-x-auto",children:vH.map(j=>s.jsx("button",{onClick:()=>e(j.id),className:`flex-shrink-0 px-6 py-4 text-sm font-medium transition-colors border-b-2 ${n===j.id?"border-orange-600 text-orange-600":"border-transparent text-gray-600 hover:text-gray-800 hover:border-gray-300"}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{children:j.label}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:j.labelMr})]})},j.id))})}),s.jsx("div",{className:"p-6",children:E()})]})]})]})},NH=()=>{const{language:n}=fs(),{settings:e}=tu(),[t,r]=W.useState([]),[a,o]=W.useState(null),[c,u]=W.useState([]),[h,f]=W.useState(!0),[g,x]=W.useState(!1);W.useEffect(()=>{v()},[]),W.useEffect(()=>{a&&b()},[a]);const v=async()=>{try{const j=await Tx();r(j);const S=await ST();S?o(S):j.length>0&&o(j[0])}catch(j){console.error("Error loading initial data:",j)}finally{f(!1)}},b=async()=>{try{const j=await ET(a);if(console.log("Raw data from Firebase:",j),j&&j.villages&&Array.isArray(j.villages)){const S=j.villages.map(L=>{const D=j.demographics?.find(G=>G.villageId===L.id)||{},O=j.breakdowns?.filter(G=>G.villageId===L.id)||[],te=j.groups?.find(G=>G.villageId===L.id)||{},ee=j.infrastructure?.find(G=>G.villageId===L.id)||{};return{village:L,demographics:D,breakdowns:O,groups:te,infrastructure:ee}});console.log("Transformed summary array:",S),u(S)}else console.log("No villages found in data"),u([])}catch(j){console.error("Error loading statistics:",j),u([])}},T=async()=>{x(!0);try{const j={title:"Village Statistics Report",gramPanchayatName:e?.title?.en||"Gram Panchayat",orientation:"landscape"};await RC(a,j)}catch{alert("Failed to generate PDF. Please try again.")}finally{x(!1)}};if(h)return s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600"})});if(t.length===0)return s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Zr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:n==="en"?"No Data Available":"  "}),s.jsx("p",{className:"text-gray-600",children:n==="en"?"Village statistics data has not been added yet.":"      ."})]})})});const E=["ST","SC","OBC","OTHER"];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 text-white py-12",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(nT,{className:"w-12 h-12"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:n==="en"?"Village Statistics":" "}),s.jsx("p",{className:"text-orange-100 mt-1",children:n==="en"?"Census & Infrastructure Data":"    "})]})]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n==="en"?"Select Year":" "}),s.jsx("select",{value:a||"",onChange:j=>o(parseInt(j.target.value)),className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:t.map(j=>s.jsx("option",{value:j,children:j},j))})]}),s.jsxs("button",{onClick:T,disabled:g,className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-md",children:[s.jsx(Vo,{className:"w-5 h-5"}),g?n==="en"?"Generating...":"  ...":n==="en"?"Download Full Report (PDF)":"    (PDF)"]})]})}),c.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[s.jsx(Zr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:n==="en"?`No data available for year ${a}`:`${a}    `})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Us,{className:"w-6 h-6 text-orange-600"}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n==="en"?"Population Overview":" "})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Village":""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Total Population":" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Male":""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Female":""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((j,S)=>s.jsxs("tr",{className:S%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:n==="en"?j.village.nameEn:j.village.nameMr})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-900 font-semibold",children:(j.demographics.totalPopulation||0).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:(j.demographics.malePopulation||0).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:(j.demographics.femalePopulation||0).toLocaleString()})]},j.village.id))}),s.jsx("tfoot",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 font-bold text-gray-900",children:n==="en"?"TOTAL":""}),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:c.reduce((j,S)=>j+(S.demographics.totalPopulation||0),0).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:c.reduce((j,S)=>j+(S.demographics.malePopulation||0),0).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:c.reduce((j,S)=>j+(S.demographics.femalePopulation||0),0).toLocaleString()})]})})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:n==="en"?"Category-wise Population":" "}),c.map((j,S)=>s.jsxs("div",{className:`mb-6 ${S!==c.length-1?"pb-6 border-b border-gray-200":""}`,children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:n==="en"?j.village.nameEn:j.village.nameMr}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-700 uppercase",children:n==="en"?"Category":""}),s.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-700 uppercase",children:n==="en"?"Male":""}),s.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-700 uppercase",children:n==="en"?"Female":""}),s.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-700 uppercase",children:n==="en"?"Total":""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(L=>{const D=j.breakdowns.find(O=>O.category===L)||{};return s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:L}),s.jsx("td",{className:"px-4 py-2 text-center text-sm text-gray-700",children:(D.maleCount||0).toLocaleString()}),s.jsx("td",{className:"px-4 py-2 text-center text-sm text-gray-700",children:(D.femaleCount||0).toLocaleString()}),s.jsx("td",{className:"px-4 py-2 text-center text-sm font-semibold text-gray-900",children:((D.maleCount||0)+(D.femaleCount||0)).toLocaleString()})]},L)})})]})})]},j.village.id))]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:n==="en"?"Groups & Committees":"  "}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Village":""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Mahila Bachat Gat":"  "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Yuvak Mandal":" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Kisan Gat":" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Other Groups":" "})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((j,S)=>s.jsxs("tr",{className:S%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:n==="en"?j.village.nameEn:j.village.nameMr}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.groups.mahilaBachatGatCount||0}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.groups.yuvakMandalCount||0}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.groups.kisanGatCount||0}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.groups.otherGroupCount||0})]},j.village.id))})]})})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 px-6 py-4",children:s.jsxs("h2",{className:"text-white font-semibold flex items-center gap-2",children:[s.jsx(jx,{className:"w-5 h-5"}),n==="en"?"Water Supply Sources":"  "]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Sr. No.":".."}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Water Source":" "}),c.map(j=>s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?j.village.nameEn:j.village.nameMr},j.village.id)),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider bg-blue-50",children:n==="en"?"Total":""})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"1"}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Private Wells":" "}),c.map(j=>s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.privateWells||0},j.village.id)),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,S)=>j+(S.infrastructure.privateWells||0),0)})]}),s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"2"}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Public Wells":" "}),c.map(j=>s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.publicWells||0},j.village.id)),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,S)=>j+(S.infrastructure.publicWells||0),0)})]}),s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"3"}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"NIT Scheme":" "}),c.map(j=>s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.nitScheme||0},j.village.id)),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,S)=>j+(S.infrastructure.nitScheme||0),0)})]}),s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"4"}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Handpumps":""}),c.map(j=>s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.handpumps||0},j.village.id)),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,S)=>j+(S.infrastructure.handpumps||0),0)})]}),s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"5"}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Water Tank Capacity":"  "}),c.map(j=>s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.waterTankCapacity||""},j.village.id)),s.jsx("td",{className:"px-6 py-4 text-center text-gray-500 bg-blue-50",children:""})]}),s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"6"}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Water Filter Plant":"  "}),c.map(j=>s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.waterFilterPlant||0},j.village.id)),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,S)=>j+(S.infrastructure.waterFilterPlant||0),0)})]}),s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"7"}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Private Ponds":" "}),c.map(j=>s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.privatePonds||0},j.village.id)),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,S)=>j+(S.infrastructure.privatePonds||0),0)})]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4",children:s.jsxs("h2",{className:"text-white font-semibold flex items-center gap-2",children:[s.jsx(jx,{className:"w-5 h-5"}),n==="en"?"Tap Connection Details":"  "]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Sr. No.":".."}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Village":""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Families":""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Old Connections":" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"New Connections":" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider bg-indigo-50",children:n==="en"?"Total Connections":" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Private Wells":" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Pending":""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((j,S)=>s.jsxs("tr",{className:S%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:S+1}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?j.village.nameEn:j.village.nameMr}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.families||0}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.oldTapConnections||0}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.newTapConnections||0}),s.jsx("td",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 bg-indigo-50",children:j.infrastructure.totalTapConnections||0}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.privateWellsForTap||0}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.pendingTapConnections||0})]},j.village.id))}),s.jsx("tfoot",{className:"bg-indigo-50",children:s.jsxs("tr",{className:"font-bold",children:[s.jsx("td",{className:"px-6 py-4",colSpan:"2",children:n==="en"?"Total":""}),s.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:c.reduce((j,S)=>j+(S.infrastructure.families||0),0)}),s.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:c.reduce((j,S)=>j+(S.infrastructure.oldTapConnections||0),0)}),s.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:c.reduce((j,S)=>j+(S.infrastructure.newTapConnections||0),0)}),s.jsx("td",{className:"px-6 py-4 text-center text-indigo-900 bg-indigo-100",children:c.reduce((j,S)=>j+(S.infrastructure.totalTapConnections||0),0)}),s.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:c.reduce((j,S)=>j+(S.infrastructure.privateWellsForTap||0),0)}),s.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:c.reduce((j,S)=>j+(S.infrastructure.pendingTapConnections||0),0)})]})})]})})]})]})]})]})]})};function jH(){const[n,e]=W.useState([]),[t,r]=W.useState(!0),[a,o]=W.useState(""),[c,u]=W.useState("all"),{getContent:h}=fs();W.useEffect(()=>{f()},[]);const f=async()=>{try{r(!0);const E=await uV();e(E)}catch(E){console.error("Error loading announcements:",E),alert("Failed to load announcements")}finally{r(!1)}},g=async E=>{if(window.confirm("Are you sure you want to delete this announcement?"))try{await mV(E),e(n.filter(j=>j.id!==E)),alert("Announcement deleted successfully")}catch(j){console.error("Error deleting announcement:",j),alert("Failed to delete announcement")}},x=async(E,j)=>{try{await gV(E,!j),e(n.map(S=>S.id===E?{...S,isActive:!j}:S))}catch(S){console.error("Error toggling status:",S),alert("Failed to update status")}},v=n.filter(E=>{const j=h(E.title).toLowerCase().includes(a.toLowerCase())||h(E.message).toLowerCase().includes(a.toLowerCase()),S=c==="all"||c==="active"&&E.isActive||c==="inactive"&&!E.isActive||c===E.type;return j&&S}),b={info:"bg-blue-100 text-blue-800",warning:"bg-yellow-100 text-yellow-800",alert:"bg-red-100 text-red-800",success:"bg-green-100 text-green-800"},T={high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-gray-100 text-gray-800"};return t?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Vi,{className:"text-orange-600"}),"Announcements Management"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage scrolling announcements for homepage"})]}),s.jsxs(_n,{to:"/admin/announcements/new",className:"inline-flex items-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[s.jsx(Ss,{size:20}),"Add Announcement"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-xl shadow-lg",children:[s.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Total"}),s.jsx("p",{className:"text-3xl font-bold",children:n.length})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 text-white p-6 rounded-xl shadow-lg",children:[s.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Active"}),s.jsx("p",{className:"text-3xl font-bold",children:n.filter(E=>E.isActive).length})]}),s.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white p-6 rounded-xl shadow-lg",children:[s.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Inactive"}),s.jsx("p",{className:"text-3xl font-bold",children:n.filter(E=>!E.isActive).length})]}),s.jsxs("div",{className:"bg-gradient-to-br from-red-500 to-red-600 text-white p-6 rounded-xl shadow-lg",children:[s.jsx("p",{className:"text-sm opacity-90 mb-1",children:"High Priority"}),s.jsx("p",{className:"text-3xl font-bold",children:n.filter(E=>E.priority==="high").length})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search announcements...",value:a,onChange:E=>o(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsxs("select",{value:c,onChange:E=>u(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"active",children:"Active Only"}),s.jsx("option",{value:"inactive",children:"Inactive Only"}),s.jsx("option",{value:"info",children:"Info"}),s.jsx("option",{value:"warning",children:"Warning"}),s.jsx("option",{value:"alert",children:"Alert"}),s.jsx("option",{value:"success",children:"Success"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:v.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Vi,{className:"mx-auto text-gray-400 mb-4",size:48}),s.jsx("p",{className:"text-gray-500 text-lg",children:"No announcements found"}),s.jsx(_n,{to:"/admin/announcements/new",className:"inline-block mt-4 text-orange-600 hover:text-orange-700 font-semibold",children:"Create your first announcement"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Title & Message"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:v.map(E=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:h(E.title)}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-1",children:h(E.message)})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold ${b[E.type]||b.info}`,children:[E.type==="alert"&&s.jsx(Qn,{size:14}),E.type]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${T[E.priority]||T.low}`,children:E.priority})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("button",{onClick:()=>x(E.id,E.isActive),className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold transition-colors ${E.isActive?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:E.isActive?s.jsxs(s.Fragment,{children:[s.jsx(zi,{size:14}),"Active"]}):s.jsxs(s.Fragment,{children:[s.jsx(yh,{size:14}),"Inactive"]})})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_n,{to:`/admin/announcements/edit/${E.id}`,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:s.jsx(ad,{size:18})}),s.jsx("button",{onClick:()=>g(E.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:s.jsx(ei,{size:18})})]})})]},E.id))})]})})})]})}function G6(){const{id:n}=pl(),e=Ar(),[t,r]=W.useState(!1),[a,o]=W.useState({title:{en:"",mr:""},message:{en:"",mr:""},type:"info",priority:"medium",link:"",isActive:!0});W.useEffect(()=>{n&&c()},[n]);const c=async()=>{try{r(!0);const f=await hV(n);f&&o({title:f.title||{en:"",mr:""},message:f.message||{en:"",mr:""},type:f.type||"info",priority:f.priority||"medium",link:f.link||"",isActive:f.isActive!==void 0?f.isActive:!0})}catch(f){console.error("Error loading announcement:",f),alert("Failed to load announcement")}finally{r(!1)}},u=async f=>{if(f.preventDefault(),!a.title.en.trim()||!a.message.en.trim()){alert("Please fill in required fields (English title and message)");return}try{r(!0),n?(await cT(n,a),alert("Announcement updated successfully!")):(await fV(a),alert("Announcement created successfully!")),e("/admin/announcements")}catch(g){console.error("Error saving announcement:",g),alert("Failed to save announcement")}finally{r(!1)}},h=(f,g)=>{o(x=>({...x,[f]:g}))};return t&&n?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>e("/admin/announcements"),className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[s.jsx(po,{size:20}),"Back to Announcements"]}),s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Vi,{className:"text-orange-600"}),n?"Edit Announcement":"Create New Announcement"]})]}),s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Announcement Title"}),s.jsx(jn,{label:"Title",value:a.title,onChange:f=>h("title",f),placeholder:{en:"Enter title in English",mr:"   "},required:!0})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Announcement Message"}),s.jsx(jn,{label:"Message",value:a.message,onChange:f=>h("message",f),placeholder:{en:"Enter message in English",mr:"   "},rows:4,required:!0})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Type *"}),s.jsxs("select",{value:a.type,onChange:f=>h("type",f.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"info",children:"Info"}),s.jsx("option",{value:"warning",children:"Warning"}),s.jsx("option",{value:"alert",children:"Alert"}),s.jsx("option",{value:"success",children:"Success"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Determines the color scheme"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Priority *"}),s.jsxs("select",{value:a.priority,onChange:f=>h("priority",f.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Higher priority shows first"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),s.jsxs("label",{className:"flex items-center gap-3 px-4 py-2.5 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:a.isActive,onChange:f=>h("isActive",f.target.checked),className:"w-5 h-5 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Show on Homepage"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enable to display in banner"})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Link (Optional)"}),s.jsx("input",{type:"url",value:a.link,onChange:f=>h("link",f.target.value),placeholder:"https://example.com/details",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Optional: Add a link for "Read More" button'})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-blue-50 rounded-xl shadow-md p-6 border-2 border-dashed border-orange-200",children:[s.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Vi,{size:20,className:"text-orange-600"}),"Preview (English)"]}),s.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${a.type==="info"?"bg-blue-50 border-blue-500":a.type==="warning"?"bg-yellow-50 border-yellow-500":a.type==="alert"?"bg-red-50 border-red-500":"bg-green-50 border-green-500"}`,children:[s.jsx("p",{className:"font-bold text-gray-900",children:a.title.en||"Title will appear here"}),s.jsx("p",{className:"text-gray-700 text-sm mt-1",children:a.message.en||"Message will appear here"}),a.link&&s.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm mt-2 inline-block hover:underline",children:"Read More "})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{type:"submit",disabled:t,className:"flex-1 inline-flex items-center justify-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-8 py-4 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Bs,{size:20}),t?"Saving...":n?"Update Announcement":"Create Announcement"]}),s.jsx("button",{type:"button",onClick:()=>e("/admin/announcements"),className:"px-8 py-4 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})}async function _H(){console.log(" Starting data migration from localStorage to Firebase..."),console.log("====================================================");const n={villages:0,demographics:0,breakdowns:0,groups:0,infrastructure:0,years:0,news:0,schemes:0,achievements:0,complaints:0,errors:[]};try{console.log(`
 Migrating Villages...`);const e=JSON.parse(localStorage.getItem("VILLAGES")||"[]");for(const x of e)try{await bs(Ht(Ye,"villages"),{...x,createdAt:Xt(),updatedAt:Xt()}),n.villages++}catch(v){n.errors.push({type:"village",data:x,error:v.message})}console.log(` Migrated ${n.villages} villages`),console.log(`
 Migrating Demographics...`);const t=JSON.parse(localStorage.getItem("VILLAGE_DEMOGRAPHICS")||"[]");for(const x of t)try{await bs(Ht(Ye,"demographics"),{...x,createdAt:Xt(),updatedAt:Xt()}),n.demographics++}catch(v){n.errors.push({type:"demographics",data:x,error:v.message})}console.log(` Migrated ${n.demographics} demographics records`),console.log(`
 Migrating Population Breakdowns...`);const r=JSON.parse(localStorage.getItem("VILLAGE_POPULATION_BREAKDOWNS")||"[]");for(const x of r)try{await bs(Ht(Ye,"populationBreakdowns"),{...x,createdAt:Xt(),updatedAt:Xt()}),n.breakdowns++}catch(v){n.errors.push({type:"breakdown",data:x,error:v.message})}console.log(` Migrated ${n.breakdowns} population breakdowns`),console.log(`
 Migrating Village Groups...`);const a=JSON.parse(localStorage.getItem("VILLAGE_GROUPS")||"[]");for(const x of a)try{await bs(Ht(Ye,"villageGroups"),{...x,createdAt:Xt(),updatedAt:Xt()}),n.groups++}catch(v){n.errors.push({type:"groups",data:x,error:v.message})}console.log(` Migrated ${n.groups} village groups`),console.log(`
  Migrating Infrastructure...`);const o=JSON.parse(localStorage.getItem("VILLAGE_INFRASTRUCTURE")||"[]");for(const x of o)try{await bs(Ht(Ye,"infrastructure"),{...x,createdAt:Xt(),updatedAt:Xt()}),n.infrastructure++}catch(v){n.errors.push({type:"infrastructure",data:x,error:v.message})}console.log(` Migrated ${n.infrastructure} infrastructure records`),console.log(`
 Migrating Years...`);const c=JSON.parse(localStorage.getItem("STATISTICS_YEARS")||"[]");for(const x of c)try{await bs(Ht(Ye,"statisticsYears"),{year:x,createdAt:Xt()}),n.years++}catch(v){n.errors.push({type:"year",data:x,error:v.message})}console.log(` Migrated ${n.years} years`),console.log(`
 Migrating News...`);const u=JSON.parse(localStorage.getItem("NEWS")||"[]");for(const x of u)try{await bs(Ht(Ye,"news"),{...x,createdAt:Xt(),updatedAt:Xt()}),n.news++}catch(v){n.errors.push({type:"news",data:x,error:v.message})}console.log(` Migrated ${n.news} news items`),console.log(`
 Migrating Schemes...`);const h=JSON.parse(localStorage.getItem("SCHEMES")||"[]");for(const x of h)try{await bs(Ht(Ye,"schemes"),{...x,createdAt:Xt(),updatedAt:Xt()}),n.schemes++}catch(v){n.errors.push({type:"scheme",data:x,error:v.message})}console.log(` Migrated ${n.schemes} schemes`),console.log(`
 Migrating Achievements...`);const f=JSON.parse(localStorage.getItem("ACHIEVEMENTS")||"[]");for(const x of f)try{await bs(Ht(Ye,"achievements"),{...x,createdAt:Xt(),updatedAt:Xt()}),n.achievements++}catch(v){n.errors.push({type:"achievement",data:x,error:v.message})}console.log(` Migrated ${n.achievements} achievements`),console.log(`
 Migrating Complaints...`);const g=JSON.parse(localStorage.getItem("COMPLAINTS")||"[]");for(const x of g)try{await bs(Ht(Ye,"complaints"),{...x,createdAt:Xt(),updatedAt:Xt()}),n.complaints++}catch(v){n.errors.push({type:"complaint",data:x,error:v.message})}return console.log(` Migrated ${n.complaints} complaints`),console.log(`
====================================================`),console.log(" MIGRATION SUMMARY:"),console.log("===================================================="),console.log(`Villages:            ${n.villages}`),console.log(`Demographics:        ${n.demographics}`),console.log(`Breakdowns:          ${n.breakdowns}`),console.log(`Groups:              ${n.groups}`),console.log(`Infrastructure:      ${n.infrastructure}`),console.log(`Years:               ${n.years}`),console.log(`News:                ${n.news}`),console.log(`Schemes:             ${n.schemes}`),console.log(`Achievements:        ${n.achievements}`),console.log(`Complaints:          ${n.complaints}`),console.log("===================================================="),console.log(`Total migrated:      ${Object.values(n).reduce((x,v)=>typeof v=="number"?x+v:x,0)}`),console.log(`Errors:              ${n.errors.length}`),console.log("===================================================="),n.errors.length>0&&(console.log(`
 Errors encountered:`),n.errors.forEach((x,v)=>{console.log(`${v+1}. ${x.type}:`,x.error)})),console.log(`
 Migration complete!`),console.log("  IMPORTANT: After verifying data in Firebase Console,"),console.log("    you can safely clear localStorage."),n}catch(e){throw console.error(" Migration failed:",e),e}}function SH(){return confirm(" WARNING: This will clear all localStorage data. Have you verified data in Firebase? This cannot be undone!")?(localStorage.removeItem("VILLAGES"),localStorage.removeItem("VILLAGE_DEMOGRAPHICS"),localStorage.removeItem("VILLAGE_POPULATION_BREAKDOWNS"),localStorage.removeItem("VILLAGE_GROUPS"),localStorage.removeItem("VILLAGE_INFRASTRUCTURE"),localStorage.removeItem("STATISTICS_YEARS"),localStorage.removeItem("NEWS"),localStorage.removeItem("SCHEMES"),localStorage.removeItem("ACHIEVEMENTS"),localStorage.removeItem("COMPLAINTS"),localStorage.removeItem("ADMIN_USER"),localStorage.removeItem("SITE_SETTINGS"),console.log(" localStorage cleared"),!0):!1}async function EH(){try{console.log(" Testing Firebase connection...");const n=await bs(Ht(Ye,"test"),{message:"Firebase connection test",timestamp:Xt()});return console.log(" Firebase connected successfully!"),console.log("   Test document ID:",n.id),!0}catch(n){return console.error(" Firebase connection failed:",n),console.error("   Check your .env file and Firebase configuration"),!1}}const AH=()=>{const[n,e]=W.useState(""),[t,r]=W.useState(!1),[a,o]=W.useState("admin@grampanchayat.com"),[c,u]=W.useState(""),h=async()=>{r(!0),e(" Testing Firebase connection...");try{const v=await EH();e(v?" Firebase connected successfully! Check console for details.":" Connection failed. Check console for errors.")}catch(v){e(` Error: ${v.message}`)}finally{r(!1)}},f=async()=>{if(confirm(" This will migrate all localStorage data to Firebase. Continue?")){r(!0),e(" Migrating data to Firebase... Check console for progress.");try{const v=await _H();e(` Migration complete! Migrated ${JSON.stringify(v)} records. Check console for details.`)}catch(v){e(` Migration failed: ${v.message}`)}finally{r(!1)}}},g=async()=>{if(!a||!c){e(" Please enter email and password");return}if(c.length<6){e(" Password must be at least 6 characters");return}r(!0),e(" Creating admin user...");try{await KO(a,c,{name:"Admin",role:"admin"}),e(` Admin user created successfully! Email: ${a}`),u("")}catch(v){v.code==="auth/email-already-in-use"?e(" Email already in use. Admin user already exists."):e(` Error: ${v.message}`)}finally{r(!1)}},x=()=>{SH()&&e(" localStorage cleared successfully!")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-green-50 p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:" Firebase Setup & Migration"}),s.jsx("p",{className:"text-gray-600",children:"Configure Firebase and migrate your data from localStorage"})]}),n&&s.jsx("div",{className:"bg-white rounded-lg shadow-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm font-mono whitespace-pre-wrap",children:n})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Step 1: Test Firebase Connection"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Verify that Firebase is configured correctly."}),s.jsx("button",{onClick:h,disabled:t,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Testing...":" Test Connection"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Step 2: Create Admin User"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Create an admin account for Firebase Authentication."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),s.jsx("input",{type:"email",value:a,onChange:v=>o(v.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"admin@grampanchayat.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Password (min 6 characters)"}),s.jsx("input",{type:"password",value:c,onChange:v=>u(v.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Enter secure password"})]}),s.jsx("button",{onClick:g,disabled:t,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Creating...":" Create Admin User"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Step 3: Migrate Data from localStorage"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Transfer all existing data from localStorage to Firebase Firestore."}),s.jsx("button",{onClick:f,disabled:t,className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Migrating...":" Migrate Data to Firebase"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Step 4: Clear localStorage (Optional)"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"After verifying data in Firebase Console, you can clear localStorage."}),s.jsx("button",{onClick:x,disabled:t,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:" Clear localStorage"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-orange-100 to-green-100 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:" Setup Instructions"}),s.jsxs("ol",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{children:["1. Enable ",s.jsx("b",{children:"Firestore Database"})," in Firebase Console (Test mode)"]}),s.jsxs("li",{children:["2. Enable ",s.jsx("b",{children:"Authentication"}),"  Email/Password"]}),s.jsxs("li",{children:["3. Enable ",s.jsx("b",{children:"Storage"})," (Test mode)"]}),s.jsx("li",{children:'4. Click "Test Connection" above'}),s.jsx("li",{children:"5. Create admin user with email and password"}),s.jsx("li",{children:"6. Migrate your data (if you have existing data)"}),s.jsx("li",{children:"7. Verify data in Firebase Console"}),s.jsxs("li",{children:["8. Deploy security rules from ",s.jsx("code",{children:"firestore.rules"})," and ",s.jsx("code",{children:"storage.rules"})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-300",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[" Firebase Console: ",s.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"https://console.firebase.google.com/"})]})})]})]})})};function TH(){const n=Ar(),[e,t]=W.useState({email:"",password:""}),[r,a]=W.useState(!1),[o,c]=W.useState(""),[u,h]=W.useState(!1),f=async x=>{x.preventDefault(),a(!0),c("");try{const v=await $3(nc,e.email,e.password);await KA(v.user.uid)?n("/superadmin/dashboard"):(await nc.signOut(),c("Unauthorized. You do not have super admin access."))}catch(v){console.error("Login error:",v);let b="Login failed. Please try again.";v.code==="auth/user-not-found"?b="No account found with this email.":v.code==="auth/wrong-password"?b="Incorrect password.":v.code==="auth/invalid-email"?b="Invalid email address.":v.code==="auth/too-many-requests"&&(b="Too many failed attempts. Please try again later."),c(b)}finally{a(!1)}},g=x=>{t({...e,[x.target.name]:x.target.value}),c("")};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),s.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/10 backdrop-blur-md rounded-full mb-4 border border-white/20",children:s.jsx(Wl,{className:"w-10 h-10 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Super Admin Panel"}),s.jsx("p",{className:"text-indigo-200",children:"Gram Panchayat Multi-Tenant Management"})]}),s.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20",children:s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o&&s.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Qn,{className:"w-5 h-5 text-red-200 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-100",children:o})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(mo,{className:"h-5 w-5 text-indigo-300"})}),s.jsx("input",{type:"email",name:"email",value:e.email,onChange:g,required:!0,placeholder:"superadmin@grampanchayat.in",className:"block w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent transition",disabled:r})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(w2,{className:"h-5 w-5 text-indigo-300"})}),s.jsx("input",{type:u?"text":"password",name:"password",value:e.password,onChange:g,required:!0,placeholder:"Enter your password",className:"block w-full pl-10 pr-12 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent transition",disabled:r}),s.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-indigo-300 hover:text-white transition",children:u?s.jsx(yh,{className:"h-5 w-5"}):s.jsx(zi,{className:"h-5 w-5"})})]})]}),s.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold py-3 px-4 rounded-lg hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg",children:r?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Signing in..."]}):"Sign In"}),s.jsx("p",{className:"text-xs text-center text-indigo-200",children:"Super Admin access only. Unauthorized access is prohibited."})]})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{onClick:()=>n("/"),className:"text-sm text-indigo-200 hover:text-white transition",children:" Back to Main Site"})}),s.jsx("div",{className:"mt-8 bg-yellow-500/20 border border-yellow-500/50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Wl,{className:"w-5 h-5 text-yellow-200 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-100 mb-1",children:"Security Notice"}),s.jsx("p",{className:"text-xs text-yellow-200",children:"All login attempts are logged and monitored. Only authorized personnel should access this panel."})]})]})})]})]})}function CH(){const n=Ar(),{superAdmin:e}=eT(),[t,r]=W.useState(null),[a,o]=W.useState([]),[c,u]=W.useState(!0),[h,f]=W.useState("overview");W.useEffect(()=>{g()},[]);const g=async()=>{try{u(!0);const[v,b]=await Promise.all([lF(),my()]);r(v),o(b)}catch(v){console.error("Error loading dashboard:",v)}finally{u(!1)}},x=async()=>{confirm("Are you sure you want to logout?")&&(await nc.signOut(),n("/superadmin/login"))};return c?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[s.jsx(xy,{className:"w-6 h-6 animate-spin"}),s.jsx("p",{children:"Loading dashboard..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-indigo-600 rounded-lg",children:s.jsx(Wl,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Super Admin Panel"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Multi-Tenant Management"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e?.displayName||"Super Admin"}),s.jsx("p",{className:"text-xs text-gray-500",children:e?.email})]}),s.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition",children:[s.jsx(rT,{className:"w-4 h-4"}),"Logout"]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Welcome back, ",e?.displayName?.split(" ")[0]||"Admin","! "]}),s.jsx("p",{className:"text-gray-600",children:"Manage all Gram Panchayats from this central dashboard."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:s.jsx(hl,{className:"w-6 h-6 text-indigo-600"})})}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Gram Panchayats"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t?.totalGPs||0})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(Bi,{className:"w-6 h-6 text-green-600"})})}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active GPs"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t?.activeGPs||0})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(Us,{className:"w-6 h-6 text-purple-600"})})}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Admin Users"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t?.totalUsers||0})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:s.jsx(Qf,{className:"w-6 h-6 text-orange-600"})})}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Custom Domains"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t?.customDomains||0})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:()=>n("/superadmin/gram-panchayats/add"),className:"flex items-center gap-3 p-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg hover:from-indigo-600 hover:to-purple-700 transition shadow-md",children:[s.jsx(Ss,{className:"w-5 h-5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-semibold",children:"Add New GP"}),s.jsx("p",{className:"text-sm text-indigo-100",children:"Create a new Gram Panchayat"})]})]}),s.jsxs("button",{onClick:()=>n("/superadmin/gram-panchayats"),className:"flex items-center gap-3 p-4 bg-white border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition",children:[s.jsx(hl,{className:"w-5 h-5 text-gray-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:"Manage GPs"}),s.jsx("p",{className:"text-sm text-gray-600",children:"View and edit all GPs"})]})]}),s.jsxs("button",{onClick:()=>n("/superadmin/users"),className:"flex items-center gap-3 p-4 bg-white border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition",children:[s.jsx(Us,{className:"w-5 h-5 text-gray-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:"Manage Users"}),s.jsx("p",{className:"text-sm text-gray-600",children:"View all admin users"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Gram Panchayats"}),s.jsx("button",{onClick:()=>n("/superadmin/gram-panchayats"),className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:"View All "})]}),a.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(hl,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No Gram Panchayats yet"}),s.jsx("button",{onClick:()=>n("/superadmin/gram-panchayats/add"),className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Add your first Gram Panchayat "})]}):s.jsx("div",{className:"space-y-3",children:a.slice(0,5).map(v=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition cursor-pointer",onClick:()=>n(`/superadmin/gram-panchayats/${v.id}`),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold",children:v.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:v.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[v.district,", ",v.state]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[v.customDomain&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Qf,{className:"w-4 h-4"}),v.customDomain]}),s.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${v.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:v.active?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Bi,{className:"w-3 h-3"}),"Active"]}):s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(uh,{className:"w-3 h-3"}),"Inactive"]})})]})]},v.id))})]})]})]})}function IH(){const n=Ar(),[e,t]=W.useState(!1),[r,a]=W.useState(!1),[o,c]=W.useState(""),[u,h]=W.useState(!1),[f,g]=W.useState(null),[x,v]=W.useState({name:"",nameMarathi:"",district:"",state:"Maharashtra",email:"",phone:"",address:"",pincode:"",customDomain:"",subdomain:"",adminEmail:"",adminPassword:"",adminName:"",active:!0}),b=D=>{const{name:O,value:te,type:ee,checked:G}=D.target;v({...x,[O]:ee==="checkbox"?G:te}),c("")},T=()=>{const D=JA(12);v({...x,adminPassword:D})},E=()=>{let D=x.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");D=`${D}-gpmulti`,v({...x,subdomain:D})},j=()=>x.name.trim()?x.district.trim()?!x.customDomain&&!x.subdomain?(c("Either custom domain or subdomain is required"),!1):!x.adminEmail.trim()||!x.adminEmail.includes("@")?(c("Valid admin email is required"),!1):!x.adminPassword||x.adminPassword.length<6?(c("Admin password must be at least 6 characters"),!1):x.adminName.trim()?!0:(c("Admin name is required"),!1):(c("District is required"),!1):(c("GP name is required"),!1),S=async D=>{if(D.preventDefault(),!!j()){t(!0),c("");try{const O=x.name.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,20),te=x.customDomain||`${x.subdomain||O}.web.app`,ee={...x,id:O,domain:te},G=await rF(ee);g({gpName:x.name,adminEmail:x.adminEmail,adminPassword:x.adminPassword,gpId:G.gpId}),a(!0),window.scrollTo({top:0,behavior:"smooth"})}catch(O){console.error("Error creating GP:",O),c(O.message||"Failed to create Gram Panchayat. Please try again.")}finally{t(!1)}}},L=()=>{a(!1),g(null),v({name:"",nameMarathi:"",district:"",state:"Maharashtra",email:"",phone:"",address:"",pincode:"",customDomain:"",subdomain:"",adminEmail:"",adminPassword:"",adminName:"",active:!0})};return r&&f?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Add Gram Panchayat"}),s.jsx("button",{onClick:()=>n("/superadmin/dashboard"),className:"text-gray-600 hover:text-gray-900",children:"Close"})]})})}),s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:s.jsx(Bi,{className:"w-8 h-8 text-green-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Gram Panchayat Created Successfully! "}),s.jsxs("p",{className:"text-gray-600",children:[f.gpName," has been added to the system."]})]}),s.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-6 mb-6",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Qn,{className:"w-5 h-5 text-indigo-600"}),"Admin Credentials (Save These!)"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Admin Email"}),s.jsx("p",{className:"font-mono font-semibold text-gray-900",children:f.adminEmail})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Admin Password"}),s.jsx("p",{className:"font-mono font-semibold text-gray-900",children:f.adminPassword})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"GP ID"}),s.jsx("p",{className:"font-mono font-semibold text-gray-900",children:f.gpId})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",s.jsx("strong",{children:"Important:"})," Save these credentials securely. The admin will need them to login."]})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Next Steps:"}),s.jsxs("ol",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-semibold text-indigo-600",children:"1."}),s.jsx("span",{children:"Share the admin credentials with the GP administrator"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-semibold text-indigo-600",children:"2."}),s.jsx("span",{children:"If you added a custom domain, configure it in Firebase Hosting"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-semibold text-indigo-600",children:"3."}),s.jsx("span",{children:"Ask the admin to login and change their password"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-semibold text-indigo-600",children:"4."}),s.jsx("span",{children:"The admin can start adding content to their GP portal"})]})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:L,className:"flex-1 bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition font-semibold",children:"Add Another GP"}),s.jsx("button",{onClick:()=>n("/superadmin/gram-panchayats"),className:"flex-1 bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-50 transition font-semibold",children:"View All GPs"})]})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n("/superadmin/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:s.jsx(po,{className:"w-5 h-5 text-gray-600"})}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Add New Gram Panchayat"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(hl,{className:"w-4 h-4"}),"Create GP"]})]})})}),s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("form",{onSubmit:S,className:"space-y-6",children:[o&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Qn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Error"}),s.jsx("p",{className:"text-sm text-red-700",children:o})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(hl,{className:"w-5 h-5 text-indigo-600"}),"Basic Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Gram Panchayat Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",value:x.name,onChange:b,onBlur:E,placeholder:"e.g., Pindkepar Lodha",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name in Marathi (Optional)"}),s.jsx("input",{type:"text",name:"nameMarathi",value:x.nameMarathi,onChange:b,placeholder:" ",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["District ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"district",value:x.district,onChange:b,placeholder:"e.g., Gondia",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["State ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"state",value:x.state,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"Maharashtra",children:"Maharashtra"}),s.jsx("option",{value:"Andhra Pradesh",children:"Andhra Pradesh"}),s.jsx("option",{value:"Gujarat",children:"Gujarat"}),s.jsx("option",{value:"Karnataka",children:"Karnataka"}),s.jsx("option",{value:"Madhya Pradesh",children:"Madhya Pradesh"}),s.jsx("option",{value:"Rajasthan",children:"Rajasthan"}),s.jsx("option",{value:"Tamil Nadu",children:"Tamil Nadu"}),s.jsx("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(mo,{className:"w-5 h-5 text-indigo-600"}),"Contact Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:x.email,onChange:b,placeholder:"gp@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),s.jsx("input",{type:"tel",name:"phone",value:x.phone,onChange:b,placeholder:"+91 1234567890",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("textarea",{name:"address",value:x.address,onChange:b,placeholder:"Full address",rows:"2",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),s.jsx("input",{type:"text",name:"pincode",value:x.pincode,onChange:b,placeholder:"441614",maxLength:"6",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Qf,{className:"w-5 h-5 text-indigo-600"}),"Domain Configuration"]}),s.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:" Tip:"})," You can use FREE Firebase subdomains (like ",s.jsx("code",{children:"pindkepar.web.app"}),") for now. Custom domains can be added later without affecting your data!"]})}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Subdomain ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",name:"subdomain",value:x.subdomain,onChange:b,placeholder:"pindkepar-lodha",required:!0,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),s.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition",title:"Auto-generate from GP name",children:s.jsx(Ax,{className:"w-5 h-5"})})]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[" ",s.jsx("strong",{children:"FREE Firebase URL:"})," ",s.jsxs("code",{className:"bg-gray-100 px-2 py-1 rounded",children:[x.subdomain||"subdomain",".web.app"]})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This will be your GP's website address. You can create a Firebase hosting site for this later."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Domain (Optional - Can add later)"}),s.jsx("input",{type:"text",name:"customDomain",value:x.customDomain,onChange:b,placeholder:"grampanchyatpindkepaarlodha.in",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:" Requires purchasing domain. Can be configured in Firebase Hosting console later."})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Zf,{className:"w-5 h-5 text-indigo-600"}),"Admin User"]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Admin Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"adminName",value:x.adminName,onChange:b,placeholder:"Full name of the administrator",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Admin Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",name:"adminEmail",value:x.adminEmail,onChange:b,placeholder:"admin@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This email will be used to login to the admin panel"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Admin Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{type:u?"text":"password",name:"adminPassword",value:x.adminPassword,onChange:b,placeholder:"Minimum 6 characters",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,minLength:"6"}),s.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?s.jsx(yh,{className:"w-5 h-5"}):s.jsx(zi,{className:"w-5 h-5"})})]}),s.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 transition font-semibold",children:"Generate"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Use a strong password. Click "Generate" for a secure random password.'})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",name:"active",id:"active",checked:x.active,onChange:b,className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),s.jsx("label",{htmlFor:"active",className:"text-sm text-gray-700",children:"Activate this Gram Panchayat immediately"})]})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{type:"button",onClick:()=>n("/superadmin/dashboard"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition font-semibold",disabled:e,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:e,className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-indigo-700 hover:to-purple-700 transition font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:e?s.jsxs(s.Fragment,{children:[s.jsx(xy,{className:"w-5 h-5 animate-spin"}),"Creating Gram Panchayat..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bs,{className:"w-5 h-5"}),"Create Gram Panchayat"]})})]})]})})]})}function RH(){const n=Ar(),[e,t]=W.useState([]),[r,a]=W.useState([]),[o,c]=W.useState(!0),[u,h]=W.useState(""),[f,g]=W.useState("all"),[x,v]=W.useState("");W.useEffect(()=>{b()},[]),W.useEffect(()=>{T()},[u,f,e]);const b=async()=>{try{c(!0);const S=await my();t(S),a(S)}catch(S){console.error("Error loading GPs:",S),v("Failed to load Gram Panchayats")}finally{c(!1)}},T=()=>{let S=e;u.trim()&&(S=S.filter(L=>L.name.toLowerCase().includes(u.toLowerCase())||L.district.toLowerCase().includes(u.toLowerCase())||L.state.toLowerCase().includes(u.toLowerCase())||L.customDomain&&L.customDomain.toLowerCase().includes(u.toLowerCase()))),f==="active"?S=S.filter(L=>L.active):f==="inactive"&&(S=S.filter(L=>!L.active)),a(S)},E=async(S,L)=>{if(confirm(`Are you sure you want to ${L?"deactivate":"activate"} this Gram Panchayat?`))try{await YA(S,!L),await b()}catch(O){console.error("Error toggling GP status:",O),alert("Failed to update GP status")}},j=async(S,L)=>{if(!confirm(`Are you sure you want to delete "${L}"?

This will remove the GP from the system but preserve its data.`))return;if(prompt(`Type "${L}" to confirm deletion:`)!==L){alert("GP name did not match. Deletion cancelled.");return}try{await XA(S),await b()}catch(O){console.error("Error deleting GP:",O),alert("Failed to delete GP")}};return o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[s.jsx(xy,{className:"w-6 h-6 animate-spin"}),s.jsx("p",{children:"Loading Gram Panchayats..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n("/superadmin/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:s.jsx(po,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Manage Gram Panchayats"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[e.length," total GPs"]})]})]}),s.jsxs("button",{onClick:()=>n("/superadmin/gram-panchayats/add"),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition",children:[s.jsx(Ss,{className:"w-5 h-5"}),"Add New GP"]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(qi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by name, district, state, or domain...",value:u,onChange:S=>h(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-lg font-medium transition ${f==="all"?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["All (",e.length,")"]}),s.jsxs("button",{onClick:()=>g("active"),className:`px-4 py-2 rounded-lg font-medium transition ${f==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Active (",e.filter(S=>S.active).length,")"]}),s.jsxs("button",{onClick:()=>g("inactive"),className:`px-4 py-2 rounded-lg font-medium transition ${f==="inactive"?"bg-gray-200 text-gray-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Inactive (",e.filter(S=>!S.active).length,")"]})]})]})}),x&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-center gap-3",children:[s.jsx(Qn,{className:"w-5 h-5 text-red-600"}),s.jsx("p",{className:"text-red-700",children:x})]}),r.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(hl,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:u||f!=="all"?"No GPs Found":"No Gram Panchayats Yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:u||f!=="all"?"Try adjusting your filters":"Add your first Gram Panchayat to get started"}),!u&&f==="all"&&s.jsxs("button",{onClick:()=>n("/superadmin/gram-panchayats/add"),className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition font-semibold",children:[s.jsx(Ss,{className:"w-5 h-5"}),"Add First GP"]})]}):s.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.map(S=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-2xl flex-shrink-0",children:S.name.charAt(0)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.name}),S.nameMarathi&&s.jsx("p",{className:"text-sm text-gray-500",children:S.nameMarathi})]}),s.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${S.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:S.active?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Bi,{className:"w-3 h-3"}),"Active"]}):s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(uh,{className:"w-3 h-3"}),"Inactive"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ml,{className:"w-4 h-4"}),S.district,", ",S.state]}),S.email&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mo,{className:"w-4 h-4"}),S.email]}),S.phone&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lo,{className:"w-4 h-4"}),S.phone]}),S.customDomain&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qf,{className:"w-4 h-4"}),S.customDomain]})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",new Date(S.createdAt.seconds*1e3).toLocaleDateString("en-IN"),S.updatedAt&&s.jsxs("span",{className:"ml-4",children:["Updated: ",new Date(S.updatedAt.seconds*1e3).toLocaleDateString("en-IN")]})]})]})]})})}),s.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-200",children:[s.jsxs("button",{onClick:()=>n(`/superadmin/gram-panchayats/edit/${S.id}`),className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 text-indigo-700 rounded-lg hover:bg-indigo-100 transition font-medium",children:[s.jsx(ad,{className:"w-4 h-4"}),"Edit"]}),s.jsxs("button",{onClick:()=>E(S.id,S.active),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition ${S.active?"bg-yellow-50 text-yellow-700 hover:bg-yellow-100":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:[s.jsx(aT,{className:"w-4 h-4"}),S.active?"Deactivate":"Activate"]}),s.jsxs("button",{onClick:()=>j(S.id,S.name),className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition font-medium ml-auto",children:[s.jsx(ei,{className:"w-4 h-4"}),"Delete"]})]})]},S.id))})]})]})}const kH=()=>{const{id:n}=pl(),e=Ar(),[t,r]=W.useState(null),[a,o]=W.useState([]),[c,u]=W.useState(null),[h,f]=W.useState(!0),[g,x]=W.useState(""),[v,b]=W.useState({}),[T,E]=W.useState(!1);W.useEffect(()=>{j()},[n]);const j=async()=>{try{f(!0),x("");const ee=await sw(n);if(!ee){x("Gram Panchayat not found");return}r(ee);try{const G=await cF(n);o(G||[])}catch(G){console.error("Error loading users:",G),o([])}try{const G=await uF(n);u(G)}catch(G){console.error("Error loading stats:",G),u(null)}}catch(ee){console.error("Error loading GP:",ee),x(ee.message||"Failed to load Gram Panchayat details")}finally{f(!1)}},S=async()=>{if(confirm(`Are you sure you want to ${t.active?"deactivate":"activate"} this Gram Panchayat?`))try{E(!0),await YA(n,!t.active),r({...t,active:!t.active})}catch(ee){alert("Failed to update status: "+ee.message)}finally{E(!1)}},L=async()=>{if(!confirm(" WARNING: This will permanently delete the Gram Panchayat and all its data. This action cannot be undone. Are you sure?"))return;if(prompt('Type "DELETE" to confirm deletion:')!=="DELETE"){alert("Deletion cancelled");return}try{E(!0);const G=await XA(n);alert(G.message+`

`+(G.note||"")),e("/superadmin/gram-panchayats")}catch(G){alert("Failed to delete: "+G.message),E(!1)}},D=ee=>{b(G=>({...G,[ee]:!G[ee]}))},O=(ee,G)=>{navigator.clipboard.writeText(ee),alert(`${G} copied to clipboard!`)},te=ee=>{try{return atob(ee)}catch{return"****"}};return h?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ax,{className:"w-12 h-12 text-indigo-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading Gram Panchayat details..."})]})}):g||!t?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(uh,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error"}),s.jsx("p",{className:"text-gray-600 mb-6",children:g||"Gram Panchayat not found"}),s.jsx("button",{onClick:()=>e("/superadmin/gram-panchayats"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Back to List"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>e("/superadmin/gram-panchayats"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[s.jsx(po,{className:"w-5 h-5"}),"Back to Gram Panchayats"]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.name}),t.active?s.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium flex items-center gap-1",children:[s.jsx(Bi,{className:"w-4 h-4"}),"Active"]}):s.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium flex items-center gap-1",children:[s.jsx(uh,{className:"w-4 h-4"}),"Inactive"]})]}),t.nameMarathi&&s.jsx("p",{className:"text-xl text-gray-600",children:t.nameMarathi}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["ID: ",t.id]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:S,disabled:T,className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${t.active?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[s.jsx(aT,{className:"w-4 h-4"}),t.active?"Deactivate":"Activate"]}),s.jsxs("button",{onClick:()=>e(`/superadmin/gram-panchayats/edit/${n}`),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium flex items-center gap-2",children:[s.jsx(ad,{className:"w-4 h-4"}),"Edit"]}),s.jsxs("button",{onClick:L,disabled:T,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium flex items-center gap-2",children:[s.jsx(ei,{className:"w-4 h-4"}),"Delete"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Qf,{className:"w-5 h-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Domain"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-gray-900 font-medium",children:t.domain||"Not configured"}),t.domain&&s.jsx("button",{onClick:()=>window.open(`https://${t.domain}`,"_blank"),className:"text-indigo-600 hover:text-indigo-800",children:s.jsx(_x,{className:"w-4 h-4"})})]}),t.domainStatus&&s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full mt-1 inline-block ${t.domainStatus==="active"?"bg-green-100 text-green-700":t.domainStatus==="pending"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:t.domainStatus})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ml,{className:"w-5 h-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Location"}),s.jsx("p",{className:"text-gray-900 font-medium",children:[t.district,t.state].filter(Boolean).join(", ")||"Not specified"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(mo,{className:"w-5 h-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Admin Email"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-gray-900 font-medium",children:t.adminEmail}),s.jsx("button",{onClick:()=>O(t.adminEmail,"Email"),className:"text-gray-400 hover:text-gray-600",children:s.jsx(y2,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Zr,{className:"w-5 h-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Created"}),s.jsx("p",{className:"text-gray-900 font-medium",children:t.createdAt?.toDate?.().toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})||"Unknown"})]})]})]}),(t.pincode||t.contactNumber||t.address)&&s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Additional Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.pincode&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Pincode"}),s.jsx("p",{className:"text-gray-900",children:t.pincode})]}),t.contactNumber&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Contact Number"}),s.jsx("p",{className:"text-gray-900",children:t.contactNumber})]}),t.address&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),s.jsx("p",{className:"text-gray-900",children:t.address})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Us,{className:"w-5 h-5"}),"Admin Users (",a.length,")"]}),a.length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No users found"}):s.jsx("div",{className:"space-y-4",children:a.map(ee=>s.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 transition",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("p",{className:"font-medium text-gray-900",children:ee.email}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ee.role==="admin"?"bg-purple-100 text-purple-700":ee.role==="superAdmin"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:ee.role}),ee.active===!1&&s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-700",children:"Inactive"})]}),ee.initialPassword&&s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Password:"}),s.jsx("code",{className:"px-2 py-1 bg-gray-100 rounded text-sm font-mono",children:v[ee.id]?te(ee.initialPassword):""}),s.jsx("button",{onClick:()=>D(ee.id),className:"text-gray-400 hover:text-gray-600",children:v[ee.id]?s.jsx(yh,{className:"w-4 h-4"}):s.jsx(zi,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>O(te(ee.initialPassword),"Password"),className:"text-gray-400 hover:text-gray-600",children:s.jsx(y2,{className:"w-4 h-4"})})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Created: ",ee.createdAt?.toDate?.().toLocaleDateString("en-IN")||"Unknown"]})]})})},ee.id))})]})]}),s.jsxs("div",{className:"space-y-6",children:[c&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalUsers||0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Notices"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalNotices||0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Grievances"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalGrievances||0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Storage Used"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.storageUsed?`${(c.storageUsed/1024/1024).toFixed(2)} MB`:"0 MB"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>e(`/superadmin/gram-panchayats/edit/${n}`),className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center justify-center gap-2",children:[s.jsx(ad,{className:"w-4 h-4"}),"Edit Details"]}),s.jsxs("button",{onClick:()=>e(`/superadmin/users?gp=${n}`),className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center justify-center gap-2",children:[s.jsx(Us,{className:"w-4 h-4"}),"Manage Users"]}),t.domain&&s.jsxs("button",{onClick:()=>window.open(`https://${t.domain}`,"_blank"),className:"w-full px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 font-medium flex items-center justify-center gap-2",children:[s.jsx(_x,{className:"w-4 h-4"}),"Visit Website"]}),s.jsxs("button",{onClick:j,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center justify-center gap-2",children:[s.jsx(Ax,{className:"w-4 h-4"}),"Refresh Data"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Metadata"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Created At"}),s.jsx("p",{className:"text-gray-900",children:t.createdAt?.toDate?.().toLocaleString("en-IN")||"Unknown"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Last Updated"}),s.jsx("p",{className:"text-gray-900",children:t.updatedAt?.toDate?.().toLocaleString("en-IN")||"Never"})]}),t.createdBy&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Created By"}),s.jsx("p",{className:"text-gray-900",children:t.createdBy})]})]})]})]})]})]})})};function PH(){const{id:n}=pl(),e=Ar(),[t,r]=W.useState(!0),[a,o]=W.useState(!1),[c,u]=W.useState(""),[h,f]=W.useState(""),[g,x]=W.useState(!1),[v,b]=W.useState({name:"",nameMarathi:"",district:"",state:"Maharashtra",email:"",phone:"",address:"",pincode:"",contactNumber:"",adminEmail:"",adminPassword:"",adminName:"",active:!0});W.useEffect(()=>{T()},[n]);const T=async()=>{try{r(!0);const S=await sw(n);if(!S){u("Gram Panchayat not found");return}b({name:S.name||"",nameMarathi:S.nameMarathi||"",district:S.district||"",state:S.state||"Maharashtra",email:S.email||"",phone:S.phone||"",address:S.address||"",pincode:S.pincode||"",contactNumber:S.contactNumber||"",adminEmail:S.adminEmail||"",adminPassword:S.adminPassword||"",adminName:S.adminName||"",active:S.active!==!1})}catch(S){console.error("Error loading GP:",S),u("Failed to load Gram Panchayat details")}finally{r(!1)}},E=S=>{const{name:L,value:D,type:O,checked:te}=S.target;b(ee=>({...ee,[L]:O==="checkbox"?te:D}))},j=async S=>{S.preventDefault();try{o(!0),u(""),f(""),await sF(n,v),f("Gram Panchayat updated successfully!"),setTimeout(()=>{e(`/superadmin/gram-panchayats/${n}`)},2e3)}catch(L){console.error("Error updating GP:",L),u(L.message||"Failed to update Gram Panchayat")}finally{o(!1)}};return t?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Gram Panchayat..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>e(`/superadmin/gram-panchayats/${n}`),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[s.jsx(po,{className:"h-5 w-5 mr-2"}),"Back to GP Details"]}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Gram Panchayat"}),s.jsxs("p",{className:"mt-2 text-gray-600",children:["Update details for ",v.name]})]}),c&&s.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[s.jsx(pi,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:c})]}),h&&s.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-start",children:[s.jsx(Bs,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:h})]}),s.jsxs("form",{onSubmit:j,className:"bg-white shadow-md rounded-lg p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GP Name (English) *"}),s.jsx("input",{type:"text",name:"name",value:v.name,onChange:E,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GP Name (Marathi)"}),s.jsx("input",{type:"text",name:"nameMarathi",value:v.nameMarathi,onChange:E,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"District *"}),s.jsx("input",{type:"text",name:"district",value:v.district,onChange:E,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),s.jsx("input",{type:"text",name:"state",value:v.state,onChange:E,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:v.email,onChange:E,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),s.jsx("input",{type:"tel",name:"phone",value:v.phone,onChange:E,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Number"}),s.jsx("input",{type:"tel",name:"contactNumber",value:v.contactNumber,onChange:E,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),s.jsx("input",{type:"text",name:"pincode",value:v.pincode,onChange:E,pattern:"[0-9]{6}",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("textarea",{name:"address",value:v.address,onChange:E,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Admin Credentials"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Name"}),s.jsx("input",{type:"text",name:"adminName",value:v.adminName,onChange:E,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),s.jsx("input",{type:"email",name:"adminEmail",value:v.adminEmail,onChange:E,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Password (Plain Text)"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:g?"text":"password",name:"adminPassword",value:v.adminPassword,onChange:E,className:"w-full px-4 py-2 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("button",{type:"button",onClick:()=>x(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:g?s.jsx(yh,{className:"h-5 w-5"}):s.jsx(zi,{className:"h-5 w-5"})})]}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Password is stored in plain text for easy access"})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Status"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"active",id:"active",checked:v.active,onChange:E,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"active",className:"ml-2 block text-sm text-gray-700",children:"Active (GP is accessible to users)"})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[s.jsx("button",{type:"button",onClick:()=>e(`/superadmin/gram-panchayats/${n}`),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:a,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bs,{className:"h-5 w-5 mr-2"}),"Save Changes"]})})]})]})]})})}function LH(){const n=Ar(),[e,t]=W.useState([]),[r,a]=W.useState(!0),[o,c]=W.useState(""),[u,h]=W.useState(""),[f,g]=W.useState("all"),[x,v]=W.useState({}),[b,T]=W.useState(""),[E,j]=W.useState(!1),[S,L]=W.useState(null),[D,O]=W.useState(null),[te,ee]=W.useState(!1),[G,U]=W.useState(!1),k=[...new Set(e.map(de=>de.gpName))].sort();W.useEffect(()=>{F()},[]);const F=async()=>{try{a(!0),c("");const de=await QA();t(de)}catch(de){console.error("Error fetching users:",de),c("Failed to load users. Please try again.")}finally{a(!1)}},I=async(de,Se)=>{if(confirm(`Send password reset email to ${de}?`))try{v({...x,[Se]:!0}),await aF(de),T(`Password reset email sent to ${de}`),setTimeout(()=>T(""),5e3)}catch(ze){console.error("Error resetting password:",ze),alert("Failed to send password reset email. Please try again.")}finally{v({...x,[Se]:!1})}},P=async de=>{try{L(de),j(!0),ee(!0),U(!1);const Se=await iF(de.gpId,de.id);O(Se)}catch(Se){console.error("Error fetching password:",Se),alert("Failed to fetch password. It may not be available."),j(!1)}finally{ee(!1)}},B=async()=>{if(confirm("Generate a new password for this user? This will update the stored password."))try{ee(!0);const de=await oF(S.gpId,S.id,S.email);O({password:de.password,passwordLastChanged:new Date,isNew:!0}),T(`New password generated for ${S.email}`),setTimeout(()=>T(""),5e3)}catch(de){console.error("Error generating password:",de),alert("Failed to generate new password. Please try again.")}finally{ee(!1)}},ue=de=>{navigator.clipboard.writeText(de),T("Password copied to clipboard!"),setTimeout(()=>T(""),3e3)},Ne=()=>{j(!1),L(null),O(null),U(!1)},ce=()=>{const de=pe.map(he=>({Name:he.displayName||"N/A",Email:he.email,"Gram Panchayat":he.gpName,Role:he.role,"Created At":new Date(he.createdAt?.toDate()).toLocaleDateString("en-IN"),"Last Login":he.lastLogin?new Date(he.lastLogin.toDate()).toLocaleDateString("en-IN"):"Never"})),Se=Object.keys(de[0]).join(","),ze=de.map(he=>Object.values(he).join(",")),re=[Se,...ze].join(`
`),q=new Blob([re],{type:"text/csv"}),Q=window.URL.createObjectURL(q),se=document.createElement("a");se.href=Q,se.download=`admin-users-${new Date().toISOString().split("T")[0]}.csv`,se.click()},pe=e.filter(de=>{const Se=de.displayName?.toLowerCase().includes(u.toLowerCase())||de.email?.toLowerCase().includes(u.toLowerCase())||de.gpName?.toLowerCase().includes(u.toLowerCase()),ze=f==="all"||de.gpName===f;return Se&&ze});return r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading users..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n("/superadmin/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(po,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manage Admin Users"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[pe.length," of ",e.length," users"]})]})]}),s.jsxs("button",{onClick:ce,disabled:pe.length===0,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(Vo,{className:"w-4 h-4"}),"Export CSV"]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b&&s.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[s.jsx(Bi,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),s.jsx("p",{className:"text-green-800",children:b})]}),o&&s.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[s.jsx(Qn,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsx("p",{className:"text-red-800",children:o})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(qi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by name, email, or GP...",value:u,onChange:de=>h(de.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(py,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsxs("select",{value:f,onChange:de=>g(de.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent appearance-none bg-white",children:[s.jsx("option",{value:"all",children:"All Gram Panchayats"}),k.map(de=>s.jsx("option",{value:de,children:de},de))]})]})]})}),pe.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Zf,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No users found"}),s.jsx("p",{className:"text-gray-600",children:u||f!=="all"?"Try adjusting your search or filters":"No admin users have been created yet"})]}):s.jsx("div",{className:"space-y-4",children:pe.map(de=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center",children:s.jsx(Zf,{className:"w-6 h-6 text-indigo-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:de.displayName||"No Name"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(mo,{className:"w-4 h-4"}),de.email]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hl,{className:"w-4 h-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Gram Panchayat"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:de.gpName})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wl,{className:"w-4 h-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Role"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:de.role})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zr,{className:"w-4 h-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Created"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:de.createdAt?new Date(de.createdAt.toDate()).toLocaleDateString("en-IN"):"N/A"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[de.lastLogin?s.jsx(Bi,{className:"w-4 h-4 text-green-500"}):s.jsx(uh,{className:"w-4 h-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Last Login"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:de.lastLogin?new Date(de.lastLogin.toDate()).toLocaleDateString("en-IN"):"Never"})]})]})]})]}),s.jsxs("div",{className:"ml-4 flex flex-col gap-2",children:[s.jsxs("button",{onClick:()=>P(de),className:"flex items-center gap-2 px-4 py-2 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(zi,{className:"w-4 h-4"}),"View Password"]}),s.jsxs("button",{onClick:()=>I(de.email,de.id),disabled:x[de.id],className:"flex items-center gap-2 px-4 py-2 text-sm bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(fU,{className:"w-4 h-4"}),x[de.id]?"Sending...":"Reset Password"]})]})]})},de.id))})]}),E&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"User Password"}),s.jsx("button",{onClick:Ne,className:"text-gray-400 hover:text-gray-600",children:s.jsx(uh,{className:"w-6 h-6"})})]}),S&&s.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"User"}),s.jsx("p",{className:"font-semibold text-gray-900",children:S.displayName||"No Name"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.email}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["GP: ",S.gpName]})]}),te?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading password..."})]}):D?s.jsxs("div",{children:[D.isNew&&s.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-yellow-800",children:" New password generated. A password reset email has been sent."})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:G?"text":"password",value:D.password||"Not available",readOnly:!0,className:"w-full px-4 py-2 pr-20 border border-gray-300 rounded-lg bg-gray-50 font-mono"}),s.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-1",children:[s.jsx("button",{onClick:()=>U(!G),className:"p-1.5 hover:bg-gray-200 rounded transition-colors",title:G?"Hide":"Show",children:G?s.jsx(yh,{className:"w-4 h-4 text-gray-600"}):s.jsx(zi,{className:"w-4 h-4 text-gray-600"})}),D.password&&s.jsx("button",{onClick:()=>ue(D.password),className:"p-1.5 hover:bg-gray-200 rounded transition-colors",title:"Copy",children:s.jsx(y2,{className:"w-4 h-4 text-gray-600"})})]})]})]}),D.passwordLastChanged&&s.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Last changed: ",new Date(D.passwordLastChanged.toDate?.()||D.passwordLastChanged).toLocaleString("en-IN")]}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-4",children:s.jsxs("p",{className:"text-xs text-amber-800",children:[" ",s.jsx("strong",{children:"Security Notice:"})," This password is stored in encoded format (not encrypted). Users should change their password after first login for security."]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:B,disabled:te,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-colors",children:[s.jsx(Ax,{className:"w-4 h-4"}),"Generate New"]}),s.jsx("button",{onClick:Ne,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Close"})]})]}):s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-gray-600",children:"Password not available"})})]})})]})}function DH(){const n=window.location.hostname.includes("superadmin-grampanchayat");return s.jsx(Q8,{children:s.jsx(eF,{children:s.jsx(XO,{children:s.jsx(JO,{children:s.jsx(nR,{children:s.jsxs(dF,{children:[s.jsxs(G8,{children:[n&&s.jsx(Dt,{path:"/",element:s.jsx(H2,{to:"/superadmin/login",replace:!0})}),s.jsx(Dt,{path:"/superadmin/login",element:s.jsx(TH,{})}),s.jsx(Dt,{path:"/superadmin/dashboard",element:s.jsx(cf,{children:s.jsx(CH,{})})}),s.jsx(Dt,{path:"/superadmin/gram-panchayats",element:s.jsx(cf,{children:s.jsx(RH,{})})}),s.jsx(Dt,{path:"/superadmin/gram-panchayats/add",element:s.jsx(cf,{children:s.jsx(IH,{})})}),s.jsx(Dt,{path:"/superadmin/gram-panchayats/edit/:id",element:s.jsx(cf,{children:s.jsx(PH,{})})}),s.jsx(Dt,{path:"/superadmin/gram-panchayats/:id",element:s.jsx(cf,{children:s.jsx(kH,{})})}),s.jsx(Dt,{path:"/superadmin/users",element:s.jsx(cf,{children:s.jsx(LH,{})})}),s.jsxs(Dt,{path:"/",element:s.jsx(xV,{}),children:[s.jsx(Dt,{index:!0,element:s.jsx(wV,{})}),s.jsx(Dt,{path:"about",element:s.jsx(NV,{})}),s.jsx(Dt,{path:"panchayat",element:s.jsx(TV,{})}),s.jsx(Dt,{path:"services",element:s.jsx(PV,{})}),s.jsx(Dt,{path:"schemes",element:s.jsx(FV,{})}),s.jsx(Dt,{path:"downloads",element:s.jsx(GV,{})}),s.jsx(Dt,{path:"education",element:s.jsx(HV,{})}),s.jsx(Dt,{path:"gallery",element:s.jsx(QV,{})}),s.jsx(Dt,{path:"financials",element:s.jsx(nB,{})}),s.jsx(Dt,{path:"notices",element:s.jsx(lB,{})}),s.jsx(Dt,{path:"contact",element:s.jsx(cB,{})}),s.jsx(Dt,{path:"village-statistics",element:s.jsx(NH,{})})]}),s.jsx(Dt,{path:"/firebase-setup",element:s.jsx(AH,{})}),s.jsx(Dt,{path:"/admin/login",element:s.jsx(uB,{})}),s.jsxs(Dt,{path:"/admin",element:s.jsx(yV,{children:s.jsx(bV,{})}),children:[s.jsx(Dt,{path:"dashboard",element:s.jsx(dB,{})}),s.jsx(Dt,{path:"members",element:s.jsx(hB,{})}),s.jsx(Dt,{path:"members/new",element:s.jsx(m4,{})}),s.jsx(Dt,{path:"members/edit/:id",element:s.jsx(m4,{})}),s.jsx(Dt,{path:"services",element:s.jsx(mB,{})}),s.jsx(Dt,{path:"services/new",element:s.jsx(g4,{})}),s.jsx(Dt,{path:"services/edit/:id",element:s.jsx(g4,{})}),s.jsx(Dt,{path:"schemes",element:s.jsx(gB,{})}),s.jsx(Dt,{path:"schemes/new",element:s.jsx(p4,{})}),s.jsx(Dt,{path:"schemes/edit/:id",element:s.jsx(p4,{})}),s.jsx(Dt,{path:"notices",element:s.jsx(pB,{})}),s.jsx(Dt,{path:"notices/new",element:s.jsx(x4,{})}),s.jsx(Dt,{path:"notices/edit/:id",element:s.jsx(x4,{})}),s.jsx(Dt,{path:"announcements",element:s.jsx(jH,{})}),s.jsx(Dt,{path:"announcements/new",element:s.jsx(G6,{})}),s.jsx(Dt,{path:"announcements/edit/:id",element:s.jsx(G6,{})}),s.jsx(Dt,{path:"gallery",element:s.jsx(xB,{})}),s.jsx(Dt,{path:"gallery/new",element:s.jsx(y4,{})}),s.jsx(Dt,{path:"gallery/edit/:id",element:s.jsx(y4,{})}),s.jsx(Dt,{path:"forms",element:s.jsx(vB,{})}),s.jsx(Dt,{path:"forms/new",element:s.jsx(b4,{})}),s.jsx(Dt,{path:"forms/edit/:id",element:s.jsx(b4,{})}),s.jsx(Dt,{path:"settings",element:s.jsx(wB,{})}),s.jsx(Dt,{path:"grievances",element:s.jsx(jB,{})}),s.jsx(Dt,{path:"grievances/new",element:s.jsx(v4,{})}),s.jsx(Dt,{path:"grievances/edit/:id",element:s.jsx(v4,{})}),s.jsx(Dt,{path:"financials",element:s.jsx(_B,{})}),s.jsx(Dt,{path:"financials/new",element:s.jsx(w4,{})}),s.jsx(Dt,{path:"financials/edit/:id",element:s.jsx(w4,{})}),s.jsx(Dt,{path:"content/about",element:s.jsx(SB,{})}),s.jsx(Dt,{path:"content/education",element:s.jsx(EB,{})}),s.jsx(Dt,{path:"village-statistics",element:s.jsx(wH,{})})]})]}),s.jsx(vV,{})]})})})})})})}XI.createRoot(document.getElementById("root")).render(s.jsx(W.StrictMode,{children:s.jsx(DH,{})}));export{cr as _,MH as c,VI as g};
