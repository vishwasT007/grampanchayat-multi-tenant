function GI(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var s$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function HI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ob={exports:{}},Wm={};var FN;function $I(){if(FN)return Wm;FN=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:o}}return Wm.Fragment=e,Wm.jsx=t,Wm.jsxs=t,Wm}var UN;function WI(){return UN||(UN=1,Ob.exports=$I()),Ob.exports}var r=WI(),Fb={exports:{}},fn={};var VN;function KI(){if(VN)return fn;VN=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function b(ne){return ne===null||typeof ne!="object"?null:(ne=v&&ne[v]||ne["@@iterator"],typeof ne=="function"?ne:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,j={};function S(ne,q,J){this.props=ne,this.context=q,this.refs=j,this.updater=J||T}S.prototype.isReactComponent={},S.prototype.setState=function(ne,q){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,q,"setState")},S.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function L(){}L.prototype=S.prototype;function M(ne,q,J){this.props=ne,this.context=q,this.refs=j,this.updater=J||T}var z=M.prototype=new L;z.constructor=M,E(z,S.prototype),z.isPureReactComponent=!0;var se=Array.isArray;function ae(){}var G={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function I(ne,q,J){var re=J.ref;return{$$typeof:n,type:ne,key:q,ref:re!==void 0?re:null,props:J}}function F(ne,q){return I(ne.type,q,ne.props)}function k(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===n}function P(ne){var q={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(J){return q[J]})}var V=/\/+/g;function le(ne,q){return typeof ne=="object"&&ne!==null&&ne.key!=null?P(""+ne.key):q.toString(36)}function Ne(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(ae,ae):(ne.status="pending",ne.then(function(q){ne.status==="pending"&&(ne.status="fulfilled",ne.value=q)},function(q){ne.status==="pending"&&(ne.status="rejected",ne.reason=q)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function ie(ne,q,J,re,he){var fe=typeof ne;(fe==="undefined"||fe==="boolean")&&(ne=null);var be=!1;if(ne===null)be=!0;else switch(fe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(ne.$$typeof){case n:case e:be=!0;break;case g:return be=ne._init,ie(be(ne._payload),q,J,re,he)}}if(be)return he=he(ne),be=re===""?"."+le(ne,0):re,se(he)?(J="",be!=null&&(J=be.replace(V,"$&/")+"/"),ie(he,q,J,"",function(Be){return Be})):he!=null&&(k(he)&&(he=F(he,J+(he.key==null||ne&&ne.key===he.key?"":(""+he.key).replace(V,"$&/")+"/")+be)),q.push(he)),1;be=0;var Pe=re===""?".":re+":";if(se(ne))for(var ke=0;ke<ne.length;ke++)re=ne[ke],fe=Pe+le(re,ke),be+=ie(re,q,J,fe,he);else if(ke=b(ne),typeof ke=="function")for(ne=ke.call(ne),ke=0;!(re=ne.next()).done;)re=re.value,fe=Pe+le(re,ke++),be+=ie(re,q,J,fe,he);else if(fe==="object"){if(typeof ne.then=="function")return ie(Ne(ne),q,J,re,he);throw q=String(ne),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return be}function ge(ne,q,J){if(ne==null)return ne;var re=[],he=0;return ie(ne,re,"","",function(fe){return q.call(J,fe,he++)}),re}function ue(ne){if(ne._status===-1){var q=ne._result;q=q(),q.then(function(J){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=J)},function(J){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=J)}),ne._status===-1&&(ne._status=0,ne._result=q)}if(ne._status===1)return ne._result.default;throw ne._result}var je=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)},ze={map:ge,forEach:function(ne,q,J){ge(ne,function(){q.apply(this,arguments)},J)},count:function(ne){var q=0;return ge(ne,function(){q++}),q},toArray:function(ne){return ge(ne,function(q){return q})||[]},only:function(ne){if(!k(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}};return fn.Activity=p,fn.Children=ze,fn.Component=S,fn.Fragment=t,fn.Profiler=a,fn.PureComponent=M,fn.StrictMode=s,fn.Suspense=h,fn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,fn.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return G.H.useMemoCache(ne)}},fn.cache=function(ne){return function(){return ne.apply(null,arguments)}},fn.cacheSignal=function(){return null},fn.cloneElement=function(ne,q,J){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var re=E({},ne.props),he=ne.key;if(q!=null)for(fe in q.key!==void 0&&(he=""+q.key),q)!D.call(q,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&q.ref===void 0||(re[fe]=q[fe]);var fe=arguments.length-2;if(fe===1)re.children=J;else if(1<fe){for(var be=Array(fe),Pe=0;Pe<fe;Pe++)be[Pe]=arguments[Pe+2];re.children=be}return I(ne.type,he,re)},fn.createContext=function(ne){return ne={$$typeof:c,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:o,_context:ne},ne},fn.createElement=function(ne,q,J){var re,he={},fe=null;if(q!=null)for(re in q.key!==void 0&&(fe=""+q.key),q)D.call(q,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(he[re]=q[re]);var be=arguments.length-2;if(be===1)he.children=J;else if(1<be){for(var Pe=Array(be),ke=0;ke<be;ke++)Pe[ke]=arguments[ke+2];he.children=Pe}if(ne&&ne.defaultProps)for(re in be=ne.defaultProps,be)he[re]===void 0&&(he[re]=be[re]);return I(ne,fe,he)},fn.createRef=function(){return{current:null}},fn.forwardRef=function(ne){return{$$typeof:d,render:ne}},fn.isValidElement=k,fn.lazy=function(ne){return{$$typeof:g,_payload:{_status:-1,_result:ne},_init:ue}},fn.memo=function(ne,q){return{$$typeof:f,type:ne,compare:q===void 0?null:q}},fn.startTransition=function(ne){var q=G.T,J={};G.T=J;try{var re=ne(),he=G.S;he!==null&&he(J,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ae,je)}catch(fe){je(fe)}finally{q!==null&&J.types!==null&&(q.types=J.types),G.T=q}},fn.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},fn.use=function(ne){return G.H.use(ne)},fn.useActionState=function(ne,q,J){return G.H.useActionState(ne,q,J)},fn.useCallback=function(ne,q){return G.H.useCallback(ne,q)},fn.useContext=function(ne){return G.H.useContext(ne)},fn.useDebugValue=function(){},fn.useDeferredValue=function(ne,q){return G.H.useDeferredValue(ne,q)},fn.useEffect=function(ne,q){return G.H.useEffect(ne,q)},fn.useEffectEvent=function(ne){return G.H.useEffectEvent(ne)},fn.useId=function(){return G.H.useId()},fn.useImperativeHandle=function(ne,q,J){return G.H.useImperativeHandle(ne,q,J)},fn.useInsertionEffect=function(ne,q){return G.H.useInsertionEffect(ne,q)},fn.useLayoutEffect=function(ne,q){return G.H.useLayoutEffect(ne,q)},fn.useMemo=function(ne,q){return G.H.useMemo(ne,q)},fn.useOptimistic=function(ne,q){return G.H.useOptimistic(ne,q)},fn.useReducer=function(ne,q,J){return G.H.useReducer(ne,q,J)},fn.useRef=function(ne){return G.H.useRef(ne)},fn.useState=function(ne){return G.H.useState(ne)},fn.useSyncExternalStore=function(ne,q,J){return G.H.useSyncExternalStore(ne,q,J)},fn.useTransition=function(){return G.H.useTransition()},fn.version="19.2.0",fn}var zN;function z2(){return zN||(zN=1,Fb.exports=KI()),Fb.exports}var W=z2();const R0=HI(W),YI=GI({__proto__:null,default:R0},[W]);var Ub={exports:{}},Km={},Vb={exports:{}},zb={};var BN;function XI(){return BN||(BN=1,(function(n){function e(ie,ge){var ue=ie.length;ie.push(ge);e:for(;0<ue;){var je=ue-1>>>1,ze=ie[je];if(0<a(ze,ge))ie[je]=ge,ie[ue]=ze,ue=je;else break e}}function t(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var ge=ie[0],ue=ie.pop();if(ue!==ge){ie[0]=ue;e:for(var je=0,ze=ie.length,ne=ze>>>1;je<ne;){var q=2*(je+1)-1,J=ie[q],re=q+1,he=ie[re];if(0>a(J,ue))re<ze&&0>a(he,J)?(ie[je]=he,ie[re]=ue,je=re):(ie[je]=J,ie[q]=ue,je=q);else if(re<ze&&0>a(he,ue))ie[je]=he,ie[re]=ue,je=re;else break e}}return ge}function a(ie,ge){var ue=ie.sortIndex-ge.sortIndex;return ue!==0?ue:ie.id-ge.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var h=[],f=[],g=1,p=null,v=3,b=!1,T=!1,E=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function z(ie){for(var ge=t(f);ge!==null;){if(ge.callback===null)s(f);else if(ge.startTime<=ie)s(f),ge.sortIndex=ge.expirationTime,e(h,ge);else break;ge=t(f)}}function se(ie){if(E=!1,z(ie),!T)if(t(h)!==null)T=!0,ae||(ae=!0,P());else{var ge=t(f);ge!==null&&Ne(se,ge.startTime-ie)}}var ae=!1,G=-1,D=5,I=-1;function F(){return j?!0:!(n.unstable_now()-I<D)}function k(){if(j=!1,ae){var ie=n.unstable_now();I=ie;var ge=!0;try{e:{T=!1,E&&(E=!1,L(G),G=-1),b=!0;var ue=v;try{t:{for(z(ie),p=t(h);p!==null&&!(p.expirationTime>ie&&F());){var je=p.callback;if(typeof je=="function"){p.callback=null,v=p.priorityLevel;var ze=je(p.expirationTime<=ie);if(ie=n.unstable_now(),typeof ze=="function"){p.callback=ze,z(ie),ge=!0;break t}p===t(h)&&s(h),z(ie)}else s(h);p=t(h)}if(p!==null)ge=!0;else{var ne=t(f);ne!==null&&Ne(se,ne.startTime-ie),ge=!1}}break e}finally{p=null,v=ue,b=!1}ge=void 0}}finally{ge?P():ae=!1}}}var P;if(typeof M=="function")P=function(){M(k)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,le=V.port2;V.port1.onmessage=k,P=function(){le.postMessage(null)}}else P=function(){S(k,0)};function Ne(ie,ge){G=S(function(){ie(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(ie){switch(v){case 1:case 2:case 3:var ge=3;break;default:ge=v}var ue=v;v=ge;try{return ie()}finally{v=ue}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(ie,ge){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ue=v;v=ie;try{return ge()}finally{v=ue}},n.unstable_scheduleCallback=function(ie,ge,ue){var je=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?je+ue:je):ue=je,ie){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=ue+ze,ie={id:g++,callback:ge,priorityLevel:ie,startTime:ue,expirationTime:ze,sortIndex:-1},ue>je?(ie.sortIndex=ue,e(f,ie),t(h)===null&&ie===t(f)&&(E?(L(G),G=-1):E=!0,Ne(se,ue-je))):(ie.sortIndex=ze,e(h,ie),T||b||(T=!0,ae||(ae=!0,P()))),ie},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(ie){var ge=v;return function(){var ue=v;v=ge;try{return ie.apply(this,arguments)}finally{v=ue}}}})(zb)),zb}var qN;function QI(){return qN||(qN=1,Vb.exports=XI()),Vb.exports}var Bb={exports:{}},$a={};var GN;function JI(){if(GN)return $a;GN=1;var n=z2();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,f,g){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:h,containerInfo:f,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return $a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$a.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,g)},$a.flushSync=function(h){var f=c.T,g=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=f,s.p=g,s.d.f()}},$a.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(h,f))},$a.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},$a.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,p=d(g,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?s.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:b}):g==="script"&&s.d.X(h,{crossOrigin:p,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},$a.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=d(f.as,f.crossOrigin);s.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(h)},$a.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,p=d(g,f.crossOrigin);s.d.L(h,g,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},$a.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=d(f.as,f.crossOrigin);s.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(h)},$a.requestFormReset=function(h){s.d.r(h)},$a.unstable_batchedUpdates=function(h,f){return h(f)},$a.useFormState=function(h,f,g){return c.H.useFormState(h,f,g)},$a.useFormStatus=function(){return c.H.useHostTransitionStatus()},$a.version="19.2.0",$a}var HN;function s3(){if(HN)return Bb.exports;HN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bb.exports=JI(),Bb.exports}var $N;function ZI(){if($N)return Km;$N=1;var n=QI(),e=z2(),t=s3();function s(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function c(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function d(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(s(188))}function f(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(s(188));return l!==i?null:i}for(var u=i,m=l;;){var w=u.return;if(w===null)break;var _=w.alternate;if(_===null){if(m=w.return,m!==null){u=m;continue}break}if(w.child===_.child){for(_=w.child;_;){if(_===u)return h(w),i;if(_===m)return h(w),l;_=_.sibling}throw Error(s(188))}if(u.return!==m.return)u=w,m=_;else{for(var U=!1,Q=w.child;Q;){if(Q===u){U=!0,u=w,m=_;break}if(Q===m){U=!0,m=w,u=_;break}Q=Q.sibling}if(!U){for(Q=_.child;Q;){if(Q===u){U=!0,u=_,m=w;break}if(Q===m){U=!0,m=_,u=w;break}Q=Q.sibling}if(!U)throw Error(s(189))}}if(u.alternate!==m)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?i:l}function g(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=g(i),l!==null)return l;i=i.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),M=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function le(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case S:return"Profiler";case j:return"StrictMode";case se:return"Suspense";case ae:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case M:return i.displayName||"Context";case L:return(i._context.displayName||"Context")+".Consumer";case z:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return l=i.displayName||null,l!==null?l:le(i.type)||"Memo";case D:l=i._payload,i=i._init;try{return le(i(l))}catch{}}return null}var Ne=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},je=[],ze=-1;function ne(i){return{current:i}}function q(i){0>ze||(i.current=je[ze],je[ze]=null,ze--)}function J(i,l){ze++,je[ze]=i.current,i.current=l}var re=ne(null),he=ne(null),fe=ne(null),be=ne(null);function Pe(i,l){switch(J(fe,l),J(he,i),J(re,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?oN(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=oN(l),i=lN(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(re),J(re,i)}function ke(){q(re),q(he),q(fe)}function Be(i){i.memoizedState!==null&&J(be,i);var l=re.current,u=lN(l,i.type);l!==u&&(J(he,i),J(re,u))}function Ze(i){he.current===i&&(q(re),q(he)),be.current===i&&(q(be),qm._currentValue=ue)}var ot,it;function Ve(i){if(ot===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);ot=l&&l[1]||"",it=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+i+it}var X=!1;function Ke(i,l){if(!i||X)return"";X=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(Me){var De=Me}Reflect.construct(i,[],Ye)}else{try{Ye.call()}catch(Me){De=Me}i.call(Ye.prototype)}}else{try{throw Error()}catch(Me){De=Me}(Ye=i())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(Me){if(Me&&De&&typeof Me.stack=="string")return[Me.stack,De.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),U=_[0],Q=_[1];if(U&&Q){var me=U.split(`
`),Re=Q.split(`
`);for(w=m=0;m<me.length&&!me[m].includes("DetermineComponentFrameRoot");)m++;for(;w<Re.length&&!Re[w].includes("DetermineComponentFrameRoot");)w++;if(m===me.length||w===Re.length)for(m=me.length-1,w=Re.length-1;1<=m&&0<=w&&me[m]!==Re[w];)w--;for(;1<=m&&0<=w;m--,w--)if(me[m]!==Re[w]){if(m!==1||w!==1)do if(m--,w--,0>w||me[m]!==Re[w]){var Ge=`
`+me[m].replace(" at new "," at ");return i.displayName&&Ge.includes("<anonymous>")&&(Ge=Ge.replace("<anonymous>",i.displayName)),Ge}while(1<=m&&0<=w);break}}}finally{X=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ve(u):""}function Wt(i,l){switch(i.tag){case 26:case 27:case 5:return Ve(i.type);case 16:return Ve("Lazy");case 13:return i.child!==l&&l!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return Ke(i.type,!1);case 11:return Ke(i.type.render,!1);case 1:return Ke(i.type,!0);case 31:return Ve("Activity");default:return""}}function Et(i){try{var l="",u=null;do l+=Wt(i,u),u=i,i=i.return;while(i);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var He=Object.prototype.hasOwnProperty,dt=n.unstable_scheduleCallback,ct=n.unstable_cancelCallback,ft=n.unstable_shouldYield,At=n.unstable_requestPaint,sn=n.unstable_now,un=n.unstable_getCurrentPriorityLevel,Jt=n.unstable_ImmediatePriority,xn=n.unstable_UserBlockingPriority,on=n.unstable_NormalPriority,Nt=n.unstable_LowPriority,tn=n.unstable_IdlePriority,jt=n.log,Tr=n.unstable_setDisableYieldValue,ln=null,Lt=null;function Kt(i){if(typeof jt=="function"&&Tr(i),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(ln,i)}catch{}}var an=Math.clz32?Math.clz32:Bt,Ct=Math.log,Bn=Math.LN2;function Bt(i){return i>>>=0,i===0?32:31-(Ct(i)/Bn|0)|0}var qt=256,Hn=262144,Tt=4194304;function _t(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function yn(i,l,u){var m=i.pendingLanes;if(m===0)return 0;var w=0,_=i.suspendedLanes,U=i.pingedLanes;i=i.warmLanes;var Q=m&134217727;return Q!==0?(m=Q&~_,m!==0?w=_t(m):(U&=Q,U!==0?w=_t(U):u||(u=Q&~i,u!==0&&(w=_t(u))))):(Q=m&~_,Q!==0?w=_t(Q):U!==0?w=_t(U):u||(u=m&~i,u!==0&&(w=_t(u)))),w===0?0:l!==0&&l!==w&&(l&_)===0&&(_=w&-w,u=l&-l,_>=u||_===32&&(u&4194048)!==0)?l:w}function Gs(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function Cs(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bi(){var i=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),i}function xs(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function It(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function $i(i,l,u,m,w,_){var U=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var Q=i.entanglements,me=i.expirationTimes,Re=i.hiddenUpdates;for(u=U&~u;0<u;){var Ge=31-an(u),Ye=1<<Ge;Q[Ge]=0,me[Ge]=-1;var De=Re[Ge];if(De!==null)for(Re[Ge]=null,Ge=0;Ge<De.length;Ge++){var Me=De[Ge];Me!==null&&(Me.lane&=-536870913)}u&=~Ye}m!==0&&Na(i,m,0),_!==0&&w===0&&i.tag!==0&&(i.suspendedLanes|=_&~(U&~l))}function Na(i,l,u){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-an(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function ia(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var m=31-an(u),w=1<<m;w&l|i[m]&l&&(i[m]|=l),u&=~w}}function oa(i,l){var u=l&-l;return u=(u&42)!==0?1:nr(u),(u&(i.suspendedLanes|l))!==0?0:u}function nr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function fr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ss(){var i=ge.p;return i!==0?i:(i=window.event,i===void 0?32:kN(i.type))}function Hs(i,l){var u=ge.p;try{return ge.p=i,l()}finally{ge.p=u}}var Is=Math.random().toString(36).slice(2),$n="__reactFiber$"+Is,sr="__reactProps$"+Is,as="__reactContainer$"+Is,la="__reactEvents$"+Is,Ua="__reactListeners$"+Is,go="__reactHandles$"+Is,si="__reactResources$"+Is,ca="__reactMarker$"+Is;function Wi(i){delete i[$n],delete i[sr],delete i[la],delete i[Ua],delete i[go]}function ja(i){var l=i[$n];if(l)return l;for(var u=i.parentNode;u;){if(l=u[as]||u[$n]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=gN(i);i!==null;){if(u=i[$n])return u;i=gN(i)}return l}i=u,u=i.parentNode}return null}function $s(i){if(i=i[$n]||i[as]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function _a(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(s(33))}function Va(i){var l=i[si];return l||(l=i[si]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Cr(i){i[ca]=!0}var Nl=new Set,da={};function za(i,l){ai(i,l),ai(i+"Capture",l)}function ai(i,l){for(da[i]=l,i=0;i<l.length;i++)Nl.add(l[i])}var Ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jl={},_l={};function lc(i){return He.call(_l,i)?!0:He.call(jl,i)?!1:Ho.test(i)?_l[i]=!0:(jl[i]=!0,!1)}function Sa(i,l,u){if(lc(l))if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+u)}}function ks(i,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+u)}}function Or(i,l,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(l,u,""+m)}}function jn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ki(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ba(i,l,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,_=m.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return w.call(this)},set:function(U){u=""+U,_.call(this,U)}}),Object.defineProperty(i,l,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(U){u=""+U},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function kn(i){if(!i._valueTracker){var l=Ki(i)?"checked":"value";i._valueTracker=Ba(i,l,""+i[l])}}function po(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),m="";return i&&(m=Ki(i)?i.checked?"true":"false":i.value),i=m,i!==u?(l.setValue(i),!0):!1}function Wr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Nr=/[\n"\\]/g;function Fr(i){return i.replace(Nr,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function $o(i,l,u,m,w,_,U,Q){i.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?i.type=U:i.removeAttribute("type"),l!=null?U==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+jn(l)):i.value!==""+jn(l)&&(i.value=""+jn(l)):U!=="submit"&&U!=="reset"||i.removeAttribute("value"),l!=null?cc(i,U,jn(l)):u!=null?cc(i,U,jn(u)):m!=null&&i.removeAttribute("value"),w==null&&_!=null&&(i.defaultChecked=!!_),w!=null&&(i.checked=w&&typeof w!="function"&&typeof w!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?i.name=""+jn(Q):i.removeAttribute("name")}function sd(i,l,u,m,w,_,U,Q){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),l!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||l!=null)){kn(i);return}u=u!=null?""+jn(u):"",l=l!=null?""+jn(l):u,Q||l===i.value||(i.value=l),i.defaultValue=l}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=Q?i.checked:!!m,i.defaultChecked=!!m,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(i.name=U),kn(i)}function cc(i,l,u){l==="number"&&Wr(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Ws(i,l,u,m){if(i=i.options,l){l={};for(var w=0;w<u.length;w++)l["$"+u[w]]=!0;for(u=0;u<i.length;u++)w=l.hasOwnProperty("$"+i[u].value),i[u].selected!==w&&(i[u].selected=w),w&&m&&(i[u].defaultSelected=!0)}else{for(u=""+jn(u),l=null,w=0;w<i.length;w++){if(i[w].value===u){i[w].selected=!0,m&&(i[w].defaultSelected=!0);return}l!==null||i[w].disabled||(l=i[w])}l!==null&&(l.selected=!0)}}function dc(i,l,u){if(l!=null&&(l=""+jn(l),l!==i.value&&(i.value=l),u==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=u!=null?""+jn(u):""}function Yi(i,l,u,m){if(l==null){if(m!=null){if(u!=null)throw Error(s(92));if(Ne(m)){if(1<m.length)throw Error(s(93));m=m[0]}u=m}u==null&&(u=""),l=u}u=jn(l),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),kn(i)}function ys(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var xo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uc(i,l,u){var m=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,u):typeof u!="number"||u===0||xo.has(l)?l==="float"?i.cssFloat=u:i[l]=(""+u).trim():i[l]=u+"px"}function hc(i,l,u){if(l!=null&&typeof l!="object")throw Error(s(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var w in l)m=l[w],l.hasOwnProperty(w)&&u[w]!==m&&uc(i,w,m)}else for(var _ in l)l.hasOwnProperty(_)&&uc(i,_,l[_])}function Sl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var El=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(i){return Xi.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ii(){}var Qi=null;function ha(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yo=null,Mt=null;function Wo(i){var l=$s(i);if(l&&(i=l.stateNode)){var u=i[sr]||null;e:switch(i=l.stateNode,l.type){case"input":if($o(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Fr(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var m=u[l];if(m!==i&&m.form===i.form){var w=m[sr]||null;if(!w)throw Error(s(90));$o(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<u.length;l++)m=u[l],m.form===i.form&&po(m)}break e;case"textarea":dc(i,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Ws(i,!!u.multiple,l,!1)}}}var Al=!1;function bo(i,l,u){if(Al)return i(l,u);Al=!0;try{var m=i(l);return m}finally{if(Al=!1,(yo!==null||Mt!==null)&&(Gp(),yo&&(l=yo,i=Mt,Mt=yo=null,Wo(l),i)))for(l=0;l<i.length;l++)Wo(i[l])}}function bs(i,l){var u=i.stateNode;if(u===null)return null;var m=u[sr]||null;if(m===null)return null;u=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(s(231,l,typeof u));return u}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ko=!1;if(is)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{Ko=!1}var Ea=null,Yo=null,oi=null;function fc(){if(oi)return oi;var i,l=Yo,u=l.length,m,w="value"in Ea?Ea.value:Ea.textContent,_=w.length;for(i=0;i<u&&l[i]===w[i];i++);var U=u-i;for(m=1;m<=U&&l[u-m]===w[_-m];m++);return oi=w.slice(i,1<m?1-m:void 0)}function Aa(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Ji(){return!0}function Ta(){return!1}function Kr(i){function l(u,m,w,_,U){this._reactName=u,this._targetInst=w,this.type=m,this.nativeEvent=_,this.target=U,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(u=i[Q],this[Q]=u?u(_):_[Q]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ji:Ta,this.isPropagationStopped=Ta,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),l}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rs=Kr(vi),wi=p({},vi,{view:0,detail:0}),vo=Kr(wi),Ni,ji,qa,Xo=p({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ut,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==qa&&(qa&&i.type==="mousemove"?(Ni=i.screenX-qa.screenX,ji=i.screenY-qa.screenY):ji=Ni=0,qa=i),Ni)},movementY:function(i){return"movementY"in i?i.movementY:ji}}),Tl=Kr(Xo),Ca=p({},Xo,{dataTransfer:0}),_i=Kr(Ca),mc=p({},wi,{relatedTarget:0}),li=Kr(mc),Cl=p({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),A=Kr(Cl),H=p({},vi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ce=Kr(H),pe=p({},vi,{data:0}),we=Kr(pe),qe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yt(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=mt[i])?!!l[i]:!1}function Ut(){return yt}var kt=p({},wi,{key:function(i){if(i.key){var l=qe[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Aa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qe[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ut,charCode:function(i){return i.type==="keypress"?Aa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Aa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),En=Kr(kt),mr=p({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=Kr(mr),y=p({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ut}),R=Kr(y),B=p({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ee=Kr(B),Se=p({},Xo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=Kr(Se),nt=p({},vi,{newState:0,oldState:0}),en=Kr(nt),gr=[9,13,27,32],vn=is&&"CompositionEvent"in window,Kn=null;is&&"documentMode"in document&&(Kn=document.documentMode);var Ps=is&&"TextEvent"in window&&!Kn,Ks=is&&(!vn||Kn&&8<Kn&&11>=Kn),ar=" ",Ys=!1;function ci(i,l){switch(i){case"keyup":return gr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var No=!1;function Ia(i,l){switch(i){case"compositionend":return wo(l);case"keypress":return l.which!==32?null:(Ys=!0,ar);case"textInput":return i=l.data,i===ar&&Ys?null:i;default:return null}}function Qo(i,l){if(No)return i==="compositionend"||!vn&&ci(i,l)?(i=fc(),oi=Yo=Ea=null,No=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ks&&l.locale!=="ko"?null:l.data;default:return null}}var ad={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pu(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!ad[i.type]:l==="textarea"}function di(i,l,u,m){yo?Mt?Mt.push(m):Mt=[m]:yo=m,l=Qp(l,"onChange"),0<l.length&&(u=new Rs("onChange","change",null,u,m),i.push({event:u,listeners:l}))}var Zi=null,Jo=null;function xu(i){tN(i,0)}function eo(i){var l=_a(i);if(po(l))return i}function Il(i,l){if(i==="change")return l}var Ga=!1;if(is){var ka;if(is){var jo="oninput"in document;if(!jo){var _o=document.createElement("div");_o.setAttribute("oninput","return;"),jo=typeof _o.oninput=="function"}ka=jo}else ka=!1;Ga=ka&&(!document.documentMode||9<document.documentMode)}function Zo(){Zi&&(Zi.detachEvent("onpropertychange",id),Jo=Zi=null)}function id(i){if(i.propertyName==="value"&&eo(Jo)){var l=[];di(l,Jo,i,ha(i)),bo(xu,l)}}function od(i,l,u){i==="focusin"?(Zo(),Zi=l,Jo=u,Zi.attachEvent("onpropertychange",id)):i==="focusout"&&Zo()}function Yr(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return eo(Jo)}function wh(i,l){if(i==="click")return eo(l)}function So(i,l){if(i==="input"||i==="change")return eo(l)}function Eo(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Xs=typeof Object.is=="function"?Object.is:Eo;function el(i,l){if(Xs(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),m=Object.keys(l);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var w=u[m];if(!He.call(l,w)||!Xs(i[w],l[w]))return!1}return!0}function ld(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function cd(i,l){var u=ld(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=l&&m>=l)return{node:u,offset:l-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ld(u)}}function tl(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?tl(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function nl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Wr(i.document);l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Wr(i.document)}return l}function Ao(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var gc=is&&"documentMode"in document&&11>=document.documentMode,ui=null,rl=null,fa=null,Si=!1;function qn(i,l,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Si||ui==null||ui!==Wr(m)||(m=ui,"selectionStart"in m&&Ao(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),fa&&el(fa,m)||(fa=m,m=Qp(rl,"onSelect"),0<m.length&&(l=new Rs("onSelect","select",null,l,u),i.push({event:l,listeners:m}),l.target=ui)))}function Mn(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var pr={animationend:Mn("Animation","AnimationEnd"),animationiteration:Mn("Animation","AnimationIteration"),animationstart:Mn("Animation","AnimationStart"),transitionrun:Mn("Transition","TransitionRun"),transitionstart:Mn("Transition","TransitionStart"),transitioncancel:Mn("Transition","TransitionCancel"),transitionend:Mn("Transition","TransitionEnd")},Xr={},To={};is&&(To=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function to(i){if(Xr[i])return Xr[i];if(!pr[i])return i;var l=pr[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in To)return Xr[i]=l[u];return i}var pc=to("animationend"),yu=to("animationiteration"),hm=to("animationstart"),vp=to("transitionrun"),wp=to("transitionstart"),Np=to("transitioncancel"),fm=to("transitionend"),mm=new Map,xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xc.push("scrollEnd");function Ei(i,l){mm.set(i,l),za(l,[i])}var bu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},hi=[],yc=0,Nh=0;function vu(){for(var i=yc,l=Nh=yc=0;l<i;){var u=hi[l];hi[l++]=null;var m=hi[l];hi[l++]=null;var w=hi[l];hi[l++]=null;var _=hi[l];if(hi[l++]=null,m!==null&&w!==null){var U=m.pending;U===null?w.next=w:(w.next=U.next,U.next=w),m.pending=w}_!==0&&Nu(u,w,_)}}function wu(i,l,u,m){hi[yc++]=i,hi[yc++]=l,hi[yc++]=u,hi[yc++]=m,Nh|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function jh(i,l,u,m){return wu(i,l,u,m),ma(i)}function sl(i,l){return wu(i,null,null,l),ma(i)}function Nu(i,l,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var w=!1,_=i.return;_!==null;)_.childLanes|=u,m=_.alternate,m!==null&&(m.childLanes|=u),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(w=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,w&&l!==null&&(w=31-an(u),i=_.hiddenUpdates,m=i[w],m===null?i[w]=[l]:m.push(l),l.lane=u|536870912),_):null}function ma(i){if(50<Mm)throw Mm=0,ob=null,Error(s(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var Qs={};function _h(i,l,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ga(i,l,u,m){return new _h(i,l,u,m)}function Sh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ai(i,l){var u=i.alternate;return u===null?(u=ga(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function ju(i,l){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,l=u.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function dd(i,l,u,m,w,_){var U=0;if(m=i,typeof i=="function")Sh(i)&&(U=1);else if(typeof i=="string")U=RI(i,u,re.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=ga(31,u,l,w),i.elementType=I,i.lanes=_,i;case E:return kl(u.children,w,_,l);case j:U=8,w|=24;break;case S:return i=ga(12,u,l,w|2),i.elementType=S,i.lanes=_,i;case se:return i=ga(13,u,l,w),i.elementType=se,i.lanes=_,i;case ae:return i=ga(19,u,l,w),i.elementType=ae,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:U=10;break e;case L:U=9;break e;case z:U=11;break e;case G:U=14;break e;case D:U=16,m=null;break e}U=29,u=Error(s(130,i===null?"null":typeof i,"")),m=null}return l=ga(U,u,l,w),l.elementType=i,l.type=m,l.lanes=_,l}function kl(i,l,u,m){return i=ga(7,i,m,l),i.lanes=u,i}function _u(i,l,u){return i=ga(6,i,null,l),i.lanes=u,i}function Eh(i){var l=ga(18,null,null,0);return l.stateNode=i,l}function ud(i,l,u){return l=ga(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Ah=new WeakMap;function Ti(i,l){if(typeof i=="object"&&i!==null){var u=Ah.get(i);return u!==void 0?u:(l={value:i,source:l,stack:Et(l)},Ah.set(i,l),l)}return{value:i,source:l,stack:Et(l)}}var hd=[],bc=0,Th=null,Su=0,Ci=[],Ii=0,Rl=null,ki=1,Ri="";function fi(i,l){hd[bc++]=Su,hd[bc++]=Th,Th=i,Su=l}function jp(i,l,u){Ci[Ii++]=ki,Ci[Ii++]=Ri,Ci[Ii++]=Rl,Rl=i;var m=ki;i=Ri;var w=32-an(m)-1;m&=~(1<<w),u+=1;var _=32-an(l)+w;if(30<_){var U=w-w%5;_=(m&(1<<U)-1).toString(32),m>>=U,w-=U,ki=1<<32-an(l)+w|u<<w|m,Ri=_+i}else ki=1<<_|u<<w|m,Ri=i}function gm(i){i.return!==null&&(fi(i,1),jp(i,1,0))}function Ch(i){for(;i===Th;)Th=hd[--bc],hd[bc]=null,Su=hd[--bc],hd[bc]=null;for(;i===Rl;)Rl=Ci[--Ii],Ci[Ii]=null,Ri=Ci[--Ii],Ci[Ii]=null,ki=Ci[--Ii],Ci[Ii]=null}function _p(i,l){Ci[Ii++]=ki,Ci[Ii++]=Ri,Ci[Ii++]=Rl,ki=l.id,Ri=l.overflow,Rl=i}var Js=null,jr=null,Tn=!1,Ra=null,Ur=!1,no=Error(s(519));function Pl(i){var l=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fd(Ti(l,i)),no}function pm(i){var l=i.stateNode,u=i.type,m=i.memoizedProps;switch(l[$n]=i,l[sr]=m,u){case"dialog":In("cancel",l),In("close",l);break;case"iframe":case"object":case"embed":In("load",l);break;case"video":case"audio":for(u=0;u<Fm.length;u++)In(Fm[u],l);break;case"source":In("error",l);break;case"img":case"image":case"link":In("error",l),In("load",l);break;case"details":In("toggle",l);break;case"input":In("invalid",l),sd(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":In("invalid",l);break;case"textarea":In("invalid",l),Yi(l,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||m.suppressHydrationWarning===!0||aN(l.textContent,u)?(m.popover!=null&&(In("beforetoggle",l),In("toggle",l)),m.onScroll!=null&&In("scroll",l),m.onScrollEnd!=null&&In("scrollend",l),m.onClick!=null&&(l.onclick=ii),l=!0):l=!1,l||Pl(i,!0)}function al(i){for(Js=i.return;Js;)switch(Js.tag){case 5:case 31:case 13:Ur=!1;return;case 27:case 3:Ur=!0;return;default:Js=Js.return}}function Zs(i){if(i!==Js)return!1;if(!Tn)return al(i),Tn=!0,!1;var l=i.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Nb(i.type,i.memoizedProps)),u=!u),u&&jr&&Pl(i),al(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));jr=mN(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));jr=mN(i)}else l===27?(l=jr,Ad(i.type)?(i=Ab,Ab=null,jr=i):jr=l):jr=Js?Ro(i.stateNode.nextSibling):null;return!0}function vc(){jr=Js=null,Tn=!1}function xm(){var i=Ra;return i!==null&&(Fi===null?Fi=i:Fi.push.apply(Fi,i),Ra=null),i}function fd(i){Ra===null?Ra=[i]:Ra.push(i)}var Ih=ne(null),Ll=null,Co=null;function Dl(i,l,u){J(Ih,l._currentValue),l._currentValue=u}function Pi(i){i._currentValue=Ih.current,q(Ih)}function md(i,l,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===u)break;i=i.return}}function wc(i,l,u,m){var w=i.child;for(w!==null&&(w.return=i);w!==null;){var _=w.dependencies;if(_!==null){var U=w.child;_=_.firstContext;e:for(;_!==null;){var Q=_;_=w;for(var me=0;me<l.length;me++)if(Q.context===l[me]){_.lanes|=u,Q=_.alternate,Q!==null&&(Q.lanes|=u),md(_.return,u,i),m||(U=null);break e}_=Q.next}}else if(w.tag===18){if(U=w.return,U===null)throw Error(s(341));U.lanes|=u,_=U.alternate,_!==null&&(_.lanes|=u),md(U,u,i),U=null}else U=w.child;if(U!==null)U.return=w;else for(U=w;U!==null;){if(U===i){U=null;break}if(w=U.sibling,w!==null){w.return=U.return,U=w;break}U=U.return}w=U}}function Ml(i,l,u,m){i=null;for(var w=l,_=!1;w!==null;){if(!_){if((w.flags&524288)!==0)_=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var U=w.alternate;if(U===null)throw Error(s(387));if(U=U.memoizedProps,U!==null){var Q=w.type;Xs(w.pendingProps.value,U.value)||(i!==null?i.push(Q):i=[Q])}}else if(w===be.current){if(U=w.alternate,U===null)throw Error(s(387));U.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(i!==null?i.push(qm):i=[qm])}w=w.return}i!==null&&wc(l,i,u,m),l.flags|=262144}function kh(i){for(i=i.firstContext;i!==null;){if(!Xs(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ol(i){Ll=i,Co=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ea(i){return Sp(Ll,i)}function Rh(i,l){return Ll===null&&Ol(i),Sp(i,l)}function Sp(i,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Co===null){if(i===null)throw Error(s(308));Co=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else Co=Co.next=l;return u}var Ey=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(u){return u()})}},Ay=n.unstable_scheduleCallback,Ty=n.unstable_NormalPriority,Qr={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gd(){return{controller:new Ey,data:new Map,refCount:0}}function Eu(i){i.refCount--,i.refCount===0&&Ay(Ty,function(){i.controller.abort()})}var Au=null,Ph=0,x=0,N=null;function C(i,l){if(Au===null){var u=Au=[];Ph=0,x=fb(),N={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Ph++,l.then(O,O),l}function O(){if(--Ph===0&&Au!==null){N!==null&&(N.status="fulfilled");var i=Au;Au=null,x=0,N=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function $(i,l){var u=[],m={status:"pending",value:null,reason:null,then:function(w){u.push(w)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var w=0;w<u.length;w++)(0,u[w])(l)},function(w){for(m.status="rejected",m.reason=w,w=0;w<u.length;w++)(0,u[w])(void 0)}),m}var K=ie.S;ie.S=function(i,l){C5=sn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&C(i,l),K!==null&&K(i,l)};var Y=ne(null);function Z(){var i=Y.current;return i!==null?i:Sr.pooledCache}function te(i,l){l===null?J(Y,Y.current):J(Y,l.pool)}function de(){var i=Z();return i===null?null:{parent:Qr._currentValue,pool:i}}var xe=Error(s(460)),Ce=Error(s(474)),oe=Error(s(542)),ve={then:function(){}};function Ee(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Fe(i,l,u){switch(u=i[u],u===void 0?i.push(l):u!==l&&(l.then(ii,ii),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,et(i),i;default:if(typeof l.status=="string")l.then(ii,ii);else{if(i=Sr,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=m}},function(m){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,et(i),i}throw Oe=l,xe}}function Ae(i){try{var l=i._init;return l(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Oe=u,xe):u}}var Oe=null;function $e(){if(Oe===null)throw Error(s(459));var i=Oe;return Oe=null,i}function et(i){if(i===xe||i===oe)throw Error(s(483))}var Xe=null,bt=0;function ut(i){var l=bt;return bt+=1,Xe===null&&(Xe=[]),Fe(Xe,i,l)}function nn(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function gt(i,l){throw l.$$typeof===v?Error(s(525)):(i=Object.prototype.toString.call(l),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function An(i){function l(_e,ye){if(i){var Ie=_e.deletions;Ie===null?(_e.deletions=[ye],_e.flags|=16):Ie.push(ye)}}function u(_e,ye){if(!i)return null;for(;ye!==null;)l(_e,ye),ye=ye.sibling;return null}function m(_e){for(var ye=new Map;_e!==null;)_e.key!==null?ye.set(_e.key,_e):ye.set(_e.index,_e),_e=_e.sibling;return ye}function w(_e,ye){return _e=Ai(_e,ye),_e.index=0,_e.sibling=null,_e}function _(_e,ye,Ie){return _e.index=Ie,i?(Ie=_e.alternate,Ie!==null?(Ie=Ie.index,Ie<ye?(_e.flags|=67108866,ye):Ie):(_e.flags|=67108866,ye)):(_e.flags|=1048576,ye)}function U(_e){return i&&_e.alternate===null&&(_e.flags|=67108866),_e}function Q(_e,ye,Ie,We){return ye===null||ye.tag!==6?(ye=_u(Ie,_e.mode,We),ye.return=_e,ye):(ye=w(ye,Ie),ye.return=_e,ye)}function me(_e,ye,Ie,We){var zt=Ie.type;return zt===E?Ge(_e,ye,Ie.props.children,We,Ie.key):ye!==null&&(ye.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===D&&Ae(zt)===ye.type)?(ye=w(ye,Ie.props),nn(ye,Ie),ye.return=_e,ye):(ye=dd(Ie.type,Ie.key,Ie.props,null,_e.mode,We),nn(ye,Ie),ye.return=_e,ye)}function Re(_e,ye,Ie,We){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Ie.containerInfo||ye.stateNode.implementation!==Ie.implementation?(ye=ud(Ie,_e.mode,We),ye.return=_e,ye):(ye=w(ye,Ie.children||[]),ye.return=_e,ye)}function Ge(_e,ye,Ie,We,zt){return ye===null||ye.tag!==7?(ye=kl(Ie,_e.mode,We,zt),ye.return=_e,ye):(ye=w(ye,Ie),ye.return=_e,ye)}function Ye(_e,ye,Ie){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=_u(""+ye,_e.mode,Ie),ye.return=_e,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case b:return Ie=dd(ye.type,ye.key,ye.props,null,_e.mode,Ie),nn(Ie,ye),Ie.return=_e,Ie;case T:return ye=ud(ye,_e.mode,Ie),ye.return=_e,ye;case D:return ye=Ae(ye),Ye(_e,ye,Ie)}if(Ne(ye)||P(ye))return ye=kl(ye,_e.mode,Ie,null),ye.return=_e,ye;if(typeof ye.then=="function")return Ye(_e,ut(ye),Ie);if(ye.$$typeof===M)return Ye(_e,Rh(_e,ye),Ie);gt(_e,ye)}return null}function De(_e,ye,Ie,We){var zt=ye!==null?ye.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return zt!==null?null:Q(_e,ye,""+Ie,We);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case b:return Ie.key===zt?me(_e,ye,Ie,We):null;case T:return Ie.key===zt?Re(_e,ye,Ie,We):null;case D:return Ie=Ae(Ie),De(_e,ye,Ie,We)}if(Ne(Ie)||P(Ie))return zt!==null?null:Ge(_e,ye,Ie,We,null);if(typeof Ie.then=="function")return De(_e,ye,ut(Ie),We);if(Ie.$$typeof===M)return De(_e,ye,Rh(_e,Ie),We);gt(_e,Ie)}return null}function Me(_e,ye,Ie,We,zt){if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return _e=_e.get(Ie)||null,Q(ye,_e,""+We,zt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case b:return _e=_e.get(We.key===null?Ie:We.key)||null,me(ye,_e,We,zt);case T:return _e=_e.get(We.key===null?Ie:We.key)||null,Re(ye,_e,We,zt);case D:return We=Ae(We),Me(_e,ye,Ie,We,zt)}if(Ne(We)||P(We))return _e=_e.get(Ie)||null,Ge(ye,_e,We,zt,null);if(typeof We.then=="function")return Me(_e,ye,Ie,ut(We),zt);if(We.$$typeof===M)return Me(_e,ye,Ie,Rh(ye,We),zt);gt(ye,We)}return null}function pt(_e,ye,Ie,We){for(var zt=null,Yn=null,St=ye,bn=ye=0,Pn=null;St!==null&&bn<Ie.length;bn++){St.index>bn?(Pn=St,St=null):Pn=St.sibling;var Xn=De(_e,St,Ie[bn],We);if(Xn===null){St===null&&(St=Pn);break}i&&St&&Xn.alternate===null&&l(_e,St),ye=_(Xn,ye,bn),Yn===null?zt=Xn:Yn.sibling=Xn,Yn=Xn,St=Pn}if(bn===Ie.length)return u(_e,St),Tn&&fi(_e,bn),zt;if(St===null){for(;bn<Ie.length;bn++)St=Ye(_e,Ie[bn],We),St!==null&&(ye=_(St,ye,bn),Yn===null?zt=St:Yn.sibling=St,Yn=St);return Tn&&fi(_e,bn),zt}for(St=m(St);bn<Ie.length;bn++)Pn=Me(St,_e,bn,Ie[bn],We),Pn!==null&&(i&&Pn.alternate!==null&&St.delete(Pn.key===null?bn:Pn.key),ye=_(Pn,ye,bn),Yn===null?zt=Pn:Yn.sibling=Pn,Yn=Pn);return i&&St.forEach(function(Rd){return l(_e,Rd)}),Tn&&fi(_e,bn),zt}function Xt(_e,ye,Ie,We){if(Ie==null)throw Error(s(151));for(var zt=null,Yn=null,St=ye,bn=ye=0,Pn=null,Xn=Ie.next();St!==null&&!Xn.done;bn++,Xn=Ie.next()){St.index>bn?(Pn=St,St=null):Pn=St.sibling;var Rd=De(_e,St,Xn.value,We);if(Rd===null){St===null&&(St=Pn);break}i&&St&&Rd.alternate===null&&l(_e,St),ye=_(Rd,ye,bn),Yn===null?zt=Rd:Yn.sibling=Rd,Yn=Rd,St=Pn}if(Xn.done)return u(_e,St),Tn&&fi(_e,bn),zt;if(St===null){for(;!Xn.done;bn++,Xn=Ie.next())Xn=Ye(_e,Xn.value,We),Xn!==null&&(ye=_(Xn,ye,bn),Yn===null?zt=Xn:Yn.sibling=Xn,Yn=Xn);return Tn&&fi(_e,bn),zt}for(St=m(St);!Xn.done;bn++,Xn=Ie.next())Xn=Me(St,_e,bn,Xn.value,We),Xn!==null&&(i&&Xn.alternate!==null&&St.delete(Xn.key===null?bn:Xn.key),ye=_(Xn,ye,bn),Yn===null?zt=Xn:Yn.sibling=Xn,Yn=Xn);return i&&St.forEach(function(qI){return l(_e,qI)}),Tn&&fi(_e,bn),zt}function vr(_e,ye,Ie,We){if(typeof Ie=="object"&&Ie!==null&&Ie.type===E&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case b:e:{for(var zt=Ie.key;ye!==null;){if(ye.key===zt){if(zt=Ie.type,zt===E){if(ye.tag===7){u(_e,ye.sibling),We=w(ye,Ie.props.children),We.return=_e,_e=We;break e}}else if(ye.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===D&&Ae(zt)===ye.type){u(_e,ye.sibling),We=w(ye,Ie.props),nn(We,Ie),We.return=_e,_e=We;break e}u(_e,ye);break}else l(_e,ye);ye=ye.sibling}Ie.type===E?(We=kl(Ie.props.children,_e.mode,We,Ie.key),We.return=_e,_e=We):(We=dd(Ie.type,Ie.key,Ie.props,null,_e.mode,We),nn(We,Ie),We.return=_e,_e=We)}return U(_e);case T:e:{for(zt=Ie.key;ye!==null;){if(ye.key===zt)if(ye.tag===4&&ye.stateNode.containerInfo===Ie.containerInfo&&ye.stateNode.implementation===Ie.implementation){u(_e,ye.sibling),We=w(ye,Ie.children||[]),We.return=_e,_e=We;break e}else{u(_e,ye);break}else l(_e,ye);ye=ye.sibling}We=ud(Ie,_e.mode,We),We.return=_e,_e=We}return U(_e);case D:return Ie=Ae(Ie),vr(_e,ye,Ie,We)}if(Ne(Ie))return pt(_e,ye,Ie,We);if(P(Ie)){if(zt=P(Ie),typeof zt!="function")throw Error(s(150));return Ie=zt.call(Ie),Xt(_e,ye,Ie,We)}if(typeof Ie.then=="function")return vr(_e,ye,ut(Ie),We);if(Ie.$$typeof===M)return vr(_e,ye,Rh(_e,Ie),We);gt(_e,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,ye!==null&&ye.tag===6?(u(_e,ye.sibling),We=w(ye,Ie),We.return=_e,_e=We):(u(_e,ye),We=_u(Ie,_e.mode,We),We.return=_e,_e=We),U(_e)):u(_e,ye)}return function(_e,ye,Ie,We){try{bt=0;var zt=vr(_e,ye,Ie,We);return Xe=null,zt}catch(St){if(St===xe||St===oe)throw St;var Yn=ga(29,St,null,_e.mode);return Yn.lanes=We,Yn.return=_e,Yn}finally{}}}var _r=An(!0),hn=An(!1),ht=!1;function at(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ir(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Yt(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function gn(i,l,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(er&2)!==0){var w=m.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),m.pending=l,l=ma(i),Nu(i,null,u),l}return wu(i,m,l,u),ma(i)}function Jn(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,u|=m,l.lanes=u,ia(i,u)}}function vs(i,l){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var w=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var U={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?w=_=U:_=_.next=U,u=u.next}while(u!==null);_===null?w=_=l:_=_.next=l}else w=_=l;u={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}var ta=!1;function xr(){if(ta){var i=N;if(i!==null)throw i}}function os(i,l,u,m){ta=!1;var w=i.updateQueue;ht=!1;var _=w.firstBaseUpdate,U=w.lastBaseUpdate,Q=w.shared.pending;if(Q!==null){w.shared.pending=null;var me=Q,Re=me.next;me.next=null,U===null?_=Re:U.next=Re,U=me;var Ge=i.alternate;Ge!==null&&(Ge=Ge.updateQueue,Q=Ge.lastBaseUpdate,Q!==U&&(Q===null?Ge.firstBaseUpdate=Re:Q.next=Re,Ge.lastBaseUpdate=me))}if(_!==null){var Ye=w.baseState;U=0,Ge=Re=me=null,Q=_;do{var De=Q.lane&-536870913,Me=De!==Q.lane;if(Me?(Rn&De)===De:(m&De)===De){De!==0&&De===x&&(ta=!0),Ge!==null&&(Ge=Ge.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var pt=i,Xt=Q;De=l;var vr=u;switch(Xt.tag){case 1:if(pt=Xt.payload,typeof pt=="function"){Ye=pt.call(vr,Ye,De);break e}Ye=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Xt.payload,De=typeof pt=="function"?pt.call(vr,Ye,De):pt,De==null)break e;Ye=p({},Ye,De);break e;case 2:ht=!0}}De=Q.callback,De!==null&&(i.flags|=64,Me&&(i.flags|=8192),Me=w.callbacks,Me===null?w.callbacks=[De]:Me.push(De))}else Me={lane:De,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ge===null?(Re=Ge=Me,me=Ye):Ge=Ge.next=Me,U|=De;if(Q=Q.next,Q===null){if(Q=w.shared.pending,Q===null)break;Me=Q,Q=Me.next,Me.next=null,w.lastBaseUpdate=Me,w.shared.pending=null}}while(!0);Ge===null&&(me=Ye),w.baseState=me,w.firstBaseUpdate=Re,w.lastBaseUpdate=Ge,_===null&&(w.shared.lanes=0),Nd|=U,i.lanes=U,i.memoizedState=Ye}}function pa(i,l){if(typeof i!="function")throw Error(s(191,i));i.call(l)}function ls(i,l){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)pa(u[i],l)}var wn=ne(null),Fn=ne(0);function kr(i,l){i=kc,J(Fn,i),J(wn,l),kc=i|l.baseLanes}function Gn(){J(Fn,kc),J(wn,wn.current)}function ws(){kc=Fn.current,q(wn),q(Fn)}var Rr=ne(null),Un=null;function Jr(i){var l=i.alternate;J(On,On.current&1),J(Rr,i),Un===null&&(l===null||wn.current!==null||l.memoizedState!==null)&&(Un=i)}function Zn(i){J(On,On.current),J(Rr,i),Un===null&&(Un=i)}function cs(i){i.tag===22?(J(On,On.current),J(Rr,i),Un===null&&(Un=i)):ds()}function ds(){J(On,On.current),J(Rr,Rr.current)}function ir(i){q(Rr),Un===i&&(Un=null),q(On)}var On=ne(0);function xa(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Sb(u)||Eb(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Vr=0,Ot=null,Vt=null,Vn=null,Ha=!1,Li=!1,Pa=!1,us=0,Fl=0,Ul=null,Lh=0;function yr(){throw Error(s(321))}function ym(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!Xs(i[u],l[u]))return!1;return!0}function bm(i,l,u,m,w,_){return Vr=_,Ot=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ie.H=i===null||i.memoizedState===null?Vw:My,Pa=!1,_=u(m,w),Pa=!1,Li&&(_=il(l,u,m,w)),Dh(i),_}function Dh(i){ie.H=Am;var l=Vt!==null&&Vt.next!==null;if(Vr=0,Vn=Vt=Ot=null,Ha=!1,Fl=0,Ul=null,l)throw Error(s(300));i===null||Ds||(i=i.dependencies,i!==null&&kh(i)&&(Ds=!0))}function il(i,l,u,m){Ot=i;var w=0;do{if(Li&&(Ul=null),Fl=0,Li=!1,25<=w)throw Error(s(301));if(w+=1,Vn=Vt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ie.H=zw,_=l(u,m)}while(Li);return _}function Cy(){var i=ie.H,l=i.useState()[0];return l=typeof l.then=="function"?Vl(l):l,i=i.useState()[0],(Vt!==null?Vt.memoizedState:null)!==i&&(Ot.flags|=1024),l}function vm(){var i=us!==0;return us=0,i}function wm(i,l,u){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~u}function Mh(i){if(Ha){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Ha=!1}Vr=0,Vn=Vt=Ot=null,Li=!1,Fl=us=0,Ul=null}function Ls(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?Ot.memoizedState=Vn=i:Vn=Vn.next=i,Vn}function zr(){if(Vt===null){var i=Ot.alternate;i=i!==null?i.memoizedState:null}else i=Vt.next;var l=Vn===null?Ot.memoizedState:Vn.next;if(l!==null)Vn=l,Vt=i;else{if(i===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));Vt=i,i={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Vn===null?Ot.memoizedState=Vn=i:Vn=Vn.next=i}return Vn}function Tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(i){var l=Fl;return Fl+=1,Ul===null&&(Ul=[]),i=Fe(Ul,i,l),l=Ot,(Vn===null?l.memoizedState:Vn.next)===null&&(l=l.alternate,ie.H=l===null||l.memoizedState===null?Vw:My),i}function pd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Vl(i);if(i.$$typeof===M)return ea(i)}throw Error(s(438,String(i)))}function Nc(i){var l=null,u=Ot.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var m=Ot.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Tu(),Ot.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(i),m=0;m<i;m++)u[m]=F;return l.index++,u}function Io(i,l){return typeof l=="function"?l(i):l}function Oh(i){var l=zr();return xd(l,Vt,i)}function xd(i,l,u){var m=i.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=u;var w=i.baseQueue,_=m.pending;if(_!==null){if(w!==null){var U=w.next;w.next=_.next,_.next=U}l.baseQueue=w=_,m.pending=null}if(_=i.baseState,w===null)i.memoizedState=_;else{l=w.next;var Q=U=null,me=null,Re=l,Ge=!1;do{var Ye=Re.lane&-536870913;if(Ye!==Re.lane?(Rn&Ye)===Ye:(Vr&Ye)===Ye){var De=Re.revertLane;if(De===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),Ye===x&&(Ge=!0);else if((Vr&De)===De){Re=Re.next,De===x&&(Ge=!0);continue}else Ye={lane:0,revertLane:Re.revertLane,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},me===null?(Q=me=Ye,U=_):me=me.next=Ye,Ot.lanes|=De,Nd|=De;Ye=Re.action,Pa&&u(_,Ye),_=Re.hasEagerState?Re.eagerState:u(_,Ye)}else De={lane:Ye,revertLane:Re.revertLane,gesture:Re.gesture,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},me===null?(Q=me=De,U=_):me=me.next=De,Ot.lanes|=Ye,Nd|=Ye;Re=Re.next}while(Re!==null&&Re!==l);if(me===null?U=_:me.next=Q,!Xs(_,i.memoizedState)&&(Ds=!0,Ge&&(u=N,u!==null)))throw u;i.memoizedState=_,i.baseState=U,i.baseQueue=me,m.lastRenderedState=_}return w===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Fh(i){var l=zr(),u=l.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=i;var m=u.dispatch,w=u.pending,_=l.memoizedState;if(w!==null){u.pending=null;var U=w=w.next;do _=i(_,U.action),U=U.next;while(U!==w);Xs(_,l.memoizedState)||(Ds=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),u.lastRenderedState=_}return[_,m]}function Uh(i,l,u){var m=Ot,w=zr(),_=Tn;if(_){if(u===void 0)throw Error(s(407));u=u()}else u=l();var U=!Xs((Vt||w).memoizedState,u);if(U&&(w.memoizedState=u,Ds=!0),w=w.queue,Iy(jm.bind(null,m,w,i),[i]),w.getSnapshot!==l||U||Vn!==null&&Vn.memoizedState.tag&1){if(m.flags|=2048,_c(9,{destroy:void 0},Nm.bind(null,m,w,u,l),null),Sr===null)throw Error(s(349));_||(Vr&127)!==0||ol(m,l,u)}return u}function ol(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=Ot.updateQueue,l===null?(l=Tu(),Ot.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function Nm(i,l,u,m){l.value=u,l.getSnapshot=m,Ep(l)&&_m(i)}function jm(i,l,u){return u(function(){Ep(l)&&_m(i)})}function Ep(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!Xs(i,u)}catch{return!0}}function _m(i){var l=sl(i,2);l!==null&&Ui(l,i,2)}function zl(i){var l=Ls();if(typeof i=="function"){var u=i;if(i=u(),Pa){Kt(!0);try{u()}finally{Kt(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:i},l}function Ap(i,l,u,m){return i.baseState=u,xd(i,Vt,typeof m=="function"?m:Io)}function Tp(i,l,u,m,w){if(Rp(i))throw Error(s(485));if(i=l.action,i!==null){var _={payload:w,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){_.listeners.push(U)}};ie.T!==null?u(!0):_.isTransition=!1,m(_),u=l.pending,u===null?(_.next=l.pending=_,Cp(l,_)):(_.next=u.next,l.pending=u.next=_)}}function Cp(i,l){var u=l.action,m=l.payload,w=i.state;if(l.isTransition){var _=ie.T,U={};ie.T=U;try{var Q=u(w,m),me=ie.S;me!==null&&me(U,Q),Sm(i,l,Q)}catch(Re){jc(i,l,Re)}finally{_!==null&&U.types!==null&&(_.types=U.types),ie.T=_}}else try{_=u(w,m),Sm(i,l,_)}catch(Re){jc(i,l,Re)}}function Sm(i,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){Ip(i,l,m)},function(m){return jc(i,l,m)}):Ip(i,l,u)}function Ip(i,l,u){l.status="fulfilled",l.value=u,Vh(l),i.state=u,l=i.pending,l!==null&&(u=l.next,u===l?i.pending=null:(u=u.next,l.next=u,Cp(i,u)))}function jc(i,l,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=u,Vh(l),l=l.next;while(l!==m)}i.action=null}function Vh(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function Cu(i,l){return l}function ko(i,l){if(Tn){var u=Sr.formState;if(u!==null){e:{var m=Ot;if(Tn){if(jr){t:{for(var w=jr,_=Ur;w.nodeType!==8;){if(!_){w=null;break t}if(w=Ro(w.nextSibling),w===null){w=null;break t}}_=w.data,w=_==="F!"||_==="F"?w:null}if(w){jr=Ro(w.nextSibling),m=w.data==="F!";break e}}Pl(m)}m=!1}m&&(l=u[0])}}return u=Ls(),u.memoizedState=u.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cu,lastRenderedState:l},u.queue=m,u=Ow.bind(null,Ot,m),m.dispatch=u,m=zl(!1),_=Dy.bind(null,Ot,!1,m.queue),m=Ls(),w={state:l,dispatch:null,action:i,pending:null},m.queue=w,u=Tp.bind(null,Ot,w,_,u),w.dispatch=u,m.memoizedState=i,[l,u,!1]}function ll(i){var l=zr();return cl(l,Vt,i)}function cl(i,l,u){if(l=xd(i,l,Cu)[0],i=Oh(Io)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Vl(l)}catch(U){throw U===xe?oe:U}else m=l;l=zr();var w=l.queue,_=w.dispatch;return u!==l.memoizedState&&(Ot.flags|=2048,_c(9,{destroy:void 0},zh.bind(null,w,u),null)),[m,_,i]}function zh(i,l){i.action=l}function Bh(i){var l=zr(),u=Vt;if(u!==null)return cl(l,u,i);zr(),l=l.memoizedState,u=zr();var m=u.queue.dispatch;return u.memoizedState=i,[l,m,!1]}function _c(i,l,u,m){return i={tag:i,create:u,deps:m,inst:l,next:null},l=Ot.updateQueue,l===null&&(l=Tu(),Ot.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,l.lastEffect=i),i}function kp(){return zr().memoizedState}function yd(i,l,u,m){var w=Ls();Ot.flags|=i,w.memoizedState=_c(1|l,{destroy:void 0},u,m===void 0?null:m)}function bd(i,l,u,m){var w=zr();m=m===void 0?null:m;var _=w.memoizedState.inst;Vt!==null&&m!==null&&ym(m,Vt.memoizedState.deps)?w.memoizedState=_c(l,_,u,m):(Ot.flags|=i,w.memoizedState=_c(1|l,_,u,m))}function jw(i,l){yd(8390656,8,i,l)}function Iy(i,l){bd(2048,8,i,l)}function OC(i){Ot.flags|=4;var l=Ot.updateQueue;if(l===null)l=Tu(),Ot.updateQueue=l,l.events=[i];else{var u=l.events;u===null?l.events=[i]:u.push(i)}}function _w(i){var l=zr().memoizedState;return OC({ref:l,nextImpl:i}),function(){if((er&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}function Sw(i,l){return bd(4,2,i,l)}function Ew(i,l){return bd(4,4,i,l)}function Aw(i,l){if(typeof l=="function"){i=i();var u=l(i);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Tw(i,l,u){u=u!=null?u.concat([i]):null,bd(4,4,Aw.bind(null,l,i),u)}function ky(){}function Cw(i,l){var u=zr();l=l===void 0?null:l;var m=u.memoizedState;return l!==null&&ym(l,m[1])?m[0]:(u.memoizedState=[i,l],i)}function Iw(i,l){var u=zr();l=l===void 0?null:l;var m=u.memoizedState;if(l!==null&&ym(l,m[1]))return m[0];if(m=i(),Pa){Kt(!0);try{i()}finally{Kt(!1)}}return u.memoizedState=[m,l],m}function Ry(i,l,u){return u===void 0||(Vr&1073741824)!==0&&(Rn&261930)===0?i.memoizedState=l:(i.memoizedState=u,i=k5(),Ot.lanes|=i,Nd|=i,u)}function kw(i,l,u,m){return Xs(u,l)?u:wn.current!==null?(i=Ry(i,u,m),Xs(i,l)||(Ds=!0),i):(Vr&42)===0||(Vr&1073741824)!==0&&(Rn&261930)===0?(Ds=!0,i.memoizedState=u):(i=k5(),Ot.lanes|=i,Nd|=i,l)}function Rw(i,l,u,m,w){var _=ge.p;ge.p=_!==0&&8>_?_:8;var U=ie.T,Q={};ie.T=Q,Dy(i,!1,l,u);try{var me=w(),Re=ie.S;if(Re!==null&&Re(Q,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ge=$(me,m);Em(i,l,Ge,ao(i))}else Em(i,l,m,ao(i))}catch(Ye){Em(i,l,{then:function(){},status:"rejected",reason:Ye},ao())}finally{ge.p=_,U!==null&&Q.types!==null&&(U.types=Q.types),ie.T=U}}function FC(){}function Py(i,l,u,m){if(i.tag!==5)throw Error(s(476));var w=Pw(i).queue;Rw(i,w,l,ue,u===null?FC:function(){return Lw(i),u(m)})}function Pw(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:ue},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:u},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function Lw(i){var l=Pw(i);l.next===null&&(l=i.alternate.memoizedState),Em(i,l.next.queue,{},ao())}function Ly(){return ea(qm)}function Dw(){return zr().memoizedState}function Mw(){return zr().memoizedState}function UC(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var u=ao();i=Yt(u);var m=gn(l,i,u);m!==null&&(Ui(m,l,u),Jn(m,l,u)),l={cache:gd()},i.payload=l;return}l=l.return}}function VC(i,l,u){var m=ao();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Rp(i)?Fw(l,u):(u=jh(i,l,u,m),u!==null&&(Ui(u,i,m),Uw(u,l,m)))}function Ow(i,l,u){var m=ao();Em(i,l,u,m)}function Em(i,l,u,m){var w={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Rp(i))Fw(l,w);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var U=l.lastRenderedState,Q=_(U,u);if(w.hasEagerState=!0,w.eagerState=Q,Xs(Q,U))return wu(i,l,w,0),Sr===null&&vu(),!1}catch{}finally{}if(u=jh(i,l,w,m),u!==null)return Ui(u,i,m),Uw(u,l,m),!0}return!1}function Dy(i,l,u,m){if(m={lane:2,revertLane:fb(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Rp(i)){if(l)throw Error(s(479))}else l=jh(i,u,m,2),l!==null&&Ui(l,i,2)}function Rp(i){var l=i.alternate;return i===Ot||l!==null&&l===Ot}function Fw(i,l){Li=Ha=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function Uw(i,l,u){if((u&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,u|=m,l.lanes=u,ia(i,u)}}var Am={readContext:ea,use:pd,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useLayoutEffect:yr,useInsertionEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useSyncExternalStore:yr,useId:yr,useHostTransitionStatus:yr,useFormState:yr,useActionState:yr,useOptimistic:yr,useMemoCache:yr,useCacheRefresh:yr};Am.useEffectEvent=yr;var Vw={readContext:ea,use:pd,useCallback:function(i,l){return Ls().memoizedState=[i,l===void 0?null:l],i},useContext:ea,useEffect:jw,useImperativeHandle:function(i,l,u){u=u!=null?u.concat([i]):null,yd(4194308,4,Aw.bind(null,l,i),u)},useLayoutEffect:function(i,l){return yd(4194308,4,i,l)},useInsertionEffect:function(i,l){yd(4,2,i,l)},useMemo:function(i,l){var u=Ls();l=l===void 0?null:l;var m=i();if(Pa){Kt(!0);try{i()}finally{Kt(!1)}}return u.memoizedState=[m,l],m},useReducer:function(i,l,u){var m=Ls();if(u!==void 0){var w=u(l);if(Pa){Kt(!0);try{u(l)}finally{Kt(!1)}}}else w=l;return m.memoizedState=m.baseState=w,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:w},m.queue=i,i=i.dispatch=VC.bind(null,Ot,i),[m.memoizedState,i]},useRef:function(i){var l=Ls();return i={current:i},l.memoizedState=i},useState:function(i){i=zl(i);var l=i.queue,u=Ow.bind(null,Ot,l);return l.dispatch=u,[i.memoizedState,u]},useDebugValue:ky,useDeferredValue:function(i,l){var u=Ls();return Ry(u,i,l)},useTransition:function(){var i=zl(!1);return i=Rw.bind(null,Ot,i.queue,!0,!1),Ls().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,u){var m=Ot,w=Ls();if(Tn){if(u===void 0)throw Error(s(407));u=u()}else{if(u=l(),Sr===null)throw Error(s(349));(Rn&127)!==0||ol(m,l,u)}w.memoizedState=u;var _={value:u,getSnapshot:l};return w.queue=_,jw(jm.bind(null,m,_,i),[i]),m.flags|=2048,_c(9,{destroy:void 0},Nm.bind(null,m,_,u,l),null),u},useId:function(){var i=Ls(),l=Sr.identifierPrefix;if(Tn){var u=Ri,m=ki;u=(m&~(1<<32-an(m)-1)).toString(32)+u,l="_"+l+"R_"+u,u=us++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=Lh++,l="_"+l+"r_"+u.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:Ly,useFormState:ko,useActionState:ko,useOptimistic:function(i){var l=Ls();l.memoizedState=l.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Dy.bind(null,Ot,!0,u),u.dispatch=l,[i,l]},useMemoCache:Nc,useCacheRefresh:function(){return Ls().memoizedState=UC.bind(null,Ot)},useEffectEvent:function(i){var l=Ls(),u={impl:i};return l.memoizedState=u,function(){if((er&2)!==0)throw Error(s(440));return u.impl.apply(void 0,arguments)}}},My={readContext:ea,use:pd,useCallback:Cw,useContext:ea,useEffect:Iy,useImperativeHandle:Tw,useInsertionEffect:Sw,useLayoutEffect:Ew,useMemo:Iw,useReducer:Oh,useRef:kp,useState:function(){return Oh(Io)},useDebugValue:ky,useDeferredValue:function(i,l){var u=zr();return kw(u,Vt.memoizedState,i,l)},useTransition:function(){var i=Oh(Io)[0],l=zr().memoizedState;return[typeof i=="boolean"?i:Vl(i),l]},useSyncExternalStore:Uh,useId:Dw,useHostTransitionStatus:Ly,useFormState:ll,useActionState:ll,useOptimistic:function(i,l){var u=zr();return Ap(u,Vt,i,l)},useMemoCache:Nc,useCacheRefresh:Mw};My.useEffectEvent=_w;var zw={readContext:ea,use:pd,useCallback:Cw,useContext:ea,useEffect:Iy,useImperativeHandle:Tw,useInsertionEffect:Sw,useLayoutEffect:Ew,useMemo:Iw,useReducer:Fh,useRef:kp,useState:function(){return Fh(Io)},useDebugValue:ky,useDeferredValue:function(i,l){var u=zr();return Vt===null?Ry(u,i,l):kw(u,Vt.memoizedState,i,l)},useTransition:function(){var i=Fh(Io)[0],l=zr().memoizedState;return[typeof i=="boolean"?i:Vl(i),l]},useSyncExternalStore:Uh,useId:Dw,useHostTransitionStatus:Ly,useFormState:Bh,useActionState:Bh,useOptimistic:function(i,l){var u=zr();return Vt!==null?Ap(u,Vt,i,l):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Nc,useCacheRefresh:Mw};zw.useEffectEvent=_w;function Oy(i,l,u,m){l=i.memoizedState,u=u(m,l),u=u==null?l:p({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Fy={enqueueSetState:function(i,l,u){i=i._reactInternals;var m=ao(),w=Yt(m);w.payload=l,u!=null&&(w.callback=u),l=gn(i,w,m),l!==null&&(Ui(l,i,m),Jn(l,i,m))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var m=ao(),w=Yt(m);w.tag=1,w.payload=l,u!=null&&(w.callback=u),l=gn(i,w,m),l!==null&&(Ui(l,i,m),Jn(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=ao(),m=Yt(u);m.tag=2,l!=null&&(m.callback=l),l=gn(i,m,u),l!==null&&(Ui(l,i,u),Jn(l,i,u))}};function Bw(i,l,u,m,w,_,U){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,_,U):l.prototype&&l.prototype.isPureReactComponent?!el(u,m)||!el(w,_):!0}function qw(i,l,u,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,m),l.state!==i&&Fy.enqueueReplaceState(l,l.state,null)}function Iu(i,l){var u=l;if("ref"in l){u={};for(var m in l)m!=="ref"&&(u[m]=l[m])}if(i=i.defaultProps){u===l&&(u=p({},u));for(var w in i)u[w]===void 0&&(u[w]=i[w])}return u}function Gw(i){bu(i)}function Hw(i){console.error(i)}function $w(i){bu(i)}function Pp(i,l){try{var u=i.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function Ww(i,l,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Uy(i,l,u){return u=Yt(u),u.tag=3,u.payload={element:null},u.callback=function(){Pp(i,l)},u}function Kw(i){return i=Yt(i),i.tag=3,i}function Yw(i,l,u,m){var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var _=m.value;i.payload=function(){return w(_)},i.callback=function(){Ww(l,u,m)}}var U=u.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(i.callback=function(){Ww(l,u,m),typeof w!="function"&&(jd===null?jd=new Set([this]):jd.add(this));var Q=m.stack;this.componentDidCatch(m.value,{componentStack:Q!==null?Q:""})})}function zC(i,l,u,m,w){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=u.alternate,l!==null&&Ml(l,u,w,!0),u=Rr.current,u!==null){switch(u.tag){case 31:case 13:return Un===null?Hp():u.alternate===null&&hs===0&&(hs=3),u.flags&=-257,u.flags|=65536,u.lanes=w,m===ve?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([m]):l.add(m),db(i,m,w)),!1;case 22:return u.flags|=65536,m===ve?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([m]):u.add(m)),db(i,m,w)),!1}throw Error(s(435,u.tag))}return db(i,m,w),Hp(),!1}if(Tn)return l=Rr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,m!==no&&(i=Error(s(422),{cause:m}),fd(Ti(i,u)))):(m!==no&&(l=Error(s(423),{cause:m}),fd(Ti(l,u))),i=i.current.alternate,i.flags|=65536,w&=-w,i.lanes|=w,m=Ti(m,u),w=Uy(i.stateNode,m,w),vs(i,w),hs!==4&&(hs=2)),!1;var _=Error(s(520),{cause:m});if(_=Ti(_,u),Dm===null?Dm=[_]:Dm.push(_),hs!==4&&(hs=2),l===null)return!0;m=Ti(m,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,i=w&-w,u.lanes|=i,i=Uy(u.stateNode,m,i),vs(u,i),!1;case 1:if(l=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(jd===null||!jd.has(_))))return u.flags|=65536,w&=-w,u.lanes|=w,w=Kw(w),Yw(w,i,u,m),vs(u,w),!1}u=u.return}while(u!==null);return!1}var Vy=Error(s(461)),Ds=!1;function La(i,l,u,m){l.child=i===null?hn(l,null,u,m):_r(l,i.child,u,m)}function Xw(i,l,u,m,w){u=u.render;var _=l.ref;if("ref"in m){var U={};for(var Q in m)Q!=="ref"&&(U[Q]=m[Q])}else U=m;return Ol(l),m=bm(i,l,u,U,_,w),Q=vm(),i!==null&&!Ds?(wm(i,l,w),Sc(i,l,w)):(Tn&&Q&&gm(l),l.flags|=1,La(i,l,m,w),l.child)}function Qw(i,l,u,m,w){if(i===null){var _=u.type;return typeof _=="function"&&!Sh(_)&&_.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=_,Jw(i,l,_,m,w)):(i=dd(u.type,null,m,l,l.mode,w),i.ref=l.ref,i.return=l,l.child=i)}if(_=i.child,!Ky(i,w)){var U=_.memoizedProps;if(u=u.compare,u=u!==null?u:el,u(U,m)&&i.ref===l.ref)return Sc(i,l,w)}return l.flags|=1,i=Ai(_,m),i.ref=l.ref,i.return=l,l.child=i}function Jw(i,l,u,m,w){if(i!==null){var _=i.memoizedProps;if(el(_,m)&&i.ref===l.ref)if(Ds=!1,l.pendingProps=m=_,Ky(i,w))(i.flags&131072)!==0&&(Ds=!0);else return l.lanes=i.lanes,Sc(i,l,w)}return zy(i,l,u,m,w)}function Zw(i,l,u,m){var w=m.children,_=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,i!==null){for(m=l.child=i.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~_}else m=0,l.child=null;return e5(i,l,_,u,m)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&te(l,_!==null?_.cachePool:null),_!==null?kr(l,_):Gn(),cs(l);else return m=l.lanes=536870912,e5(i,l,_!==null?_.baseLanes|u:u,u,m)}else _!==null?(te(l,_.cachePool),kr(l,_),ds(),l.memoizedState=null):(i!==null&&te(l,null),Gn(),ds());return La(i,l,w,u),l.child}function Tm(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function e5(i,l,u,m,w){var _=Z();return _=_===null?null:{parent:Qr._currentValue,pool:_},l.memoizedState={baseLanes:u,cachePool:_},i!==null&&te(l,null),Gn(),cs(l),i!==null&&Ml(i,l,m,!0),l.childLanes=w,null}function Lp(i,l){return l=Mp({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function t5(i,l,u){return _r(l,i.child,null,u),i=Lp(l,l.pendingProps),i.flags|=2,ir(l),l.memoizedState=null,i}function BC(i,l,u){var m=l.pendingProps,w=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(Tn){if(m.mode==="hidden")return i=Lp(l,m),l.lanes=536870912,Tm(null,i);if(Zn(l),(i=jr)?(i=fN(i,Ur),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Rl!==null?{id:ki,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},u=Eh(i),u.return=l,l.child=u,Js=l,jr=null)):i=null,i===null)throw Pl(l);return l.lanes=536870912,null}return Lp(l,m)}var _=i.memoizedState;if(_!==null){var U=_.dehydrated;if(Zn(l),w)if(l.flags&256)l.flags&=-257,l=t5(i,l,u);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(s(558));else if(Ds||Ml(i,l,u,!1),w=(u&i.childLanes)!==0,Ds||w){if(m=Sr,m!==null&&(U=oa(m,u),U!==0&&U!==_.retryLane))throw _.retryLane=U,sl(i,U),Ui(m,i,U),Vy;Hp(),l=t5(i,l,u)}else i=_.treeContext,jr=Ro(U.nextSibling),Js=l,Tn=!0,Ra=null,Ur=!1,i!==null&&_p(l,i),l=Lp(l,m),l.flags|=4096;return l}return i=Ai(i.child,{mode:m.mode,children:m.children}),i.ref=l.ref,l.child=i,i.return=l,i}function Dp(i,l){var u=l.ref;if(u===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(s(284));(i===null||i.ref!==u)&&(l.flags|=4194816)}}function zy(i,l,u,m,w){return Ol(l),u=bm(i,l,u,m,void 0,w),m=vm(),i!==null&&!Ds?(wm(i,l,w),Sc(i,l,w)):(Tn&&m&&gm(l),l.flags|=1,La(i,l,u,w),l.child)}function n5(i,l,u,m,w,_){return Ol(l),l.updateQueue=null,u=il(l,m,u,w),Dh(i),m=vm(),i!==null&&!Ds?(wm(i,l,_),Sc(i,l,_)):(Tn&&m&&gm(l),l.flags|=1,La(i,l,u,_),l.child)}function r5(i,l,u,m,w){if(Ol(l),l.stateNode===null){var _=Qs,U=u.contextType;typeof U=="object"&&U!==null&&(_=ea(U)),_=new u(m,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Fy,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=m,_.state=l.memoizedState,_.refs={},at(l),U=u.contextType,_.context=typeof U=="object"&&U!==null?ea(U):Qs,_.state=l.memoizedState,U=u.getDerivedStateFromProps,typeof U=="function"&&(Oy(l,u,U,m),_.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(U=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),U!==_.state&&Fy.enqueueReplaceState(_,_.state,null),os(l,m,_,w),xr(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){_=l.stateNode;var Q=l.memoizedProps,me=Iu(u,Q);_.props=me;var Re=_.context,Ge=u.contextType;U=Qs,typeof Ge=="object"&&Ge!==null&&(U=ea(Ge));var Ye=u.getDerivedStateFromProps;Ge=typeof Ye=="function"||typeof _.getSnapshotBeforeUpdate=="function",Q=l.pendingProps!==Q,Ge||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(Q||Re!==U)&&qw(l,_,m,U),ht=!1;var De=l.memoizedState;_.state=De,os(l,m,_,w),xr(),Re=l.memoizedState,Q||De!==Re||ht?(typeof Ye=="function"&&(Oy(l,u,Ye,m),Re=l.memoizedState),(me=ht||Bw(l,u,me,m,De,Re,U))?(Ge||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Re),_.props=m,_.state=Re,_.context=U,m=me):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{_=l.stateNode,Ir(i,l),U=l.memoizedProps,Ge=Iu(u,U),_.props=Ge,Ye=l.pendingProps,De=_.context,Re=u.contextType,me=Qs,typeof Re=="object"&&Re!==null&&(me=ea(Re)),Q=u.getDerivedStateFromProps,(Re=typeof Q=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(U!==Ye||De!==me)&&qw(l,_,m,me),ht=!1,De=l.memoizedState,_.state=De,os(l,m,_,w),xr();var Me=l.memoizedState;U!==Ye||De!==Me||ht||i!==null&&i.dependencies!==null&&kh(i.dependencies)?(typeof Q=="function"&&(Oy(l,u,Q,m),Me=l.memoizedState),(Ge=ht||Bw(l,u,Ge,m,De,Me,me)||i!==null&&i.dependencies!==null&&kh(i.dependencies))?(Re||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,Me,me),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,Me,me)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||U===i.memoizedProps&&De===i.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&De===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Me),_.props=m,_.state=Me,_.context=me,m=Ge):(typeof _.componentDidUpdate!="function"||U===i.memoizedProps&&De===i.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&De===i.memoizedState||(l.flags|=1024),m=!1)}return _=m,Dp(i,l),m=(l.flags&128)!==0,_||m?(_=l.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,i!==null&&m?(l.child=_r(l,i.child,null,w),l.child=_r(l,null,u,w)):La(i,l,u,w),l.memoizedState=_.state,i=l.child):i=Sc(i,l,w),i}function s5(i,l,u,m){return vc(),l.flags|=256,La(i,l,u,m),l.child}var By={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qy(i){return{baseLanes:i,cachePool:de()}}function Gy(i,l,u){return i=i!==null?i.childLanes&~u:0,l&&(i|=so),i}function a5(i,l,u){var m=l.pendingProps,w=!1,_=(l.flags&128)!==0,U;if((U=_)||(U=i!==null&&i.memoizedState===null?!1:(On.current&2)!==0),U&&(w=!0,l.flags&=-129),U=(l.flags&32)!==0,l.flags&=-33,i===null){if(Tn){if(w?Jr(l):ds(),(i=jr)?(i=fN(i,Ur),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Rl!==null?{id:ki,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},u=Eh(i),u.return=l,l.child=u,Js=l,jr=null)):i=null,i===null)throw Pl(l);return Eb(i)?l.lanes=32:l.lanes=536870912,null}var Q=m.children;return m=m.fallback,w?(ds(),w=l.mode,Q=Mp({mode:"hidden",children:Q},w),m=kl(m,w,u,null),Q.return=l,m.return=l,Q.sibling=m,l.child=Q,m=l.child,m.memoizedState=qy(u),m.childLanes=Gy(i,U,u),l.memoizedState=By,Tm(null,m)):(Jr(l),Hy(l,Q))}var me=i.memoizedState;if(me!==null&&(Q=me.dehydrated,Q!==null)){if(_)l.flags&256?(Jr(l),l.flags&=-257,l=$y(i,l,u)):l.memoizedState!==null?(ds(),l.child=i.child,l.flags|=128,l=null):(ds(),Q=m.fallback,w=l.mode,m=Mp({mode:"visible",children:m.children},w),Q=kl(Q,w,u,null),Q.flags|=2,m.return=l,Q.return=l,m.sibling=Q,l.child=m,_r(l,i.child,null,u),m=l.child,m.memoizedState=qy(u),m.childLanes=Gy(i,U,u),l.memoizedState=By,l=Tm(null,m));else if(Jr(l),Eb(Q)){if(U=Q.nextSibling&&Q.nextSibling.dataset,U)var Re=U.dgst;U=Re,m=Error(s(419)),m.stack="",m.digest=U,fd({value:m,source:null,stack:null}),l=$y(i,l,u)}else if(Ds||Ml(i,l,u,!1),U=(u&i.childLanes)!==0,Ds||U){if(U=Sr,U!==null&&(m=oa(U,u),m!==0&&m!==me.retryLane))throw me.retryLane=m,sl(i,m),Ui(U,i,m),Vy;Sb(Q)||Hp(),l=$y(i,l,u)}else Sb(Q)?(l.flags|=192,l.child=i.child,l=null):(i=me.treeContext,jr=Ro(Q.nextSibling),Js=l,Tn=!0,Ra=null,Ur=!1,i!==null&&_p(l,i),l=Hy(l,m.children),l.flags|=4096);return l}return w?(ds(),Q=m.fallback,w=l.mode,me=i.child,Re=me.sibling,m=Ai(me,{mode:"hidden",children:m.children}),m.subtreeFlags=me.subtreeFlags&65011712,Re!==null?Q=Ai(Re,Q):(Q=kl(Q,w,u,null),Q.flags|=2),Q.return=l,m.return=l,m.sibling=Q,l.child=m,Tm(null,m),m=l.child,Q=i.child.memoizedState,Q===null?Q=qy(u):(w=Q.cachePool,w!==null?(me=Qr._currentValue,w=w.parent!==me?{parent:me,pool:me}:w):w=de(),Q={baseLanes:Q.baseLanes|u,cachePool:w}),m.memoizedState=Q,m.childLanes=Gy(i,U,u),l.memoizedState=By,Tm(i.child,m)):(Jr(l),u=i.child,i=u.sibling,u=Ai(u,{mode:"visible",children:m.children}),u.return=l,u.sibling=null,i!==null&&(U=l.deletions,U===null?(l.deletions=[i],l.flags|=16):U.push(i)),l.child=u,l.memoizedState=null,u)}function Hy(i,l){return l=Mp({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Mp(i,l){return i=ga(22,i,null,l),i.lanes=0,i}function $y(i,l,u){return _r(l,i.child,null,u),i=Hy(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function i5(i,l,u){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),md(i.return,l,u)}function Wy(i,l,u,m,w,_){var U=i.memoizedState;U===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:w,treeForkCount:_}:(U.isBackwards=l,U.rendering=null,U.renderingStartTime=0,U.last=m,U.tail=u,U.tailMode=w,U.treeForkCount=_)}function o5(i,l,u){var m=l.pendingProps,w=m.revealOrder,_=m.tail;m=m.children;var U=On.current,Q=(U&2)!==0;if(Q?(U=U&1|2,l.flags|=128):U&=1,J(On,U),La(i,l,m,u),m=Tn?Su:0,!Q&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&i5(i,u,l);else if(i.tag===19)i5(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(w){case"forwards":for(u=l.child,w=null;u!==null;)i=u.alternate,i!==null&&xa(i)===null&&(w=u),u=u.sibling;u=w,u===null?(w=l.child,l.child=null):(w=u.sibling,u.sibling=null),Wy(l,!1,w,u,_,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,w=l.child,l.child=null;w!==null;){if(i=w.alternate,i!==null&&xa(i)===null){l.child=w;break}i=w.sibling,w.sibling=u,u=w,w=i}Wy(l,!0,u,null,_,m);break;case"together":Wy(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function Sc(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),Nd|=l.lanes,(u&l.childLanes)===0)if(i!==null){if(Ml(i,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(s(153));if(l.child!==null){for(i=l.child,u=Ai(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=Ai(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function Ky(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&kh(i)))}function qC(i,l,u){switch(l.tag){case 3:Pe(l,l.stateNode.containerInfo),Dl(l,Qr,i.memoizedState.cache),vc();break;case 27:case 5:Be(l);break;case 4:Pe(l,l.stateNode.containerInfo);break;case 10:Dl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Zn(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Jr(l),l.flags|=128,null):(u&l.child.childLanes)!==0?a5(i,l,u):(Jr(l),i=Sc(i,l,u),i!==null?i.sibling:null);Jr(l);break;case 19:var w=(i.flags&128)!==0;if(m=(u&l.childLanes)!==0,m||(Ml(i,l,u,!1),m=(u&l.childLanes)!==0),w){if(m)return o5(i,l,u);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),J(On,On.current),m)break;return null;case 22:return l.lanes=0,Zw(i,l,u,l.pendingProps);case 24:Dl(l,Qr,i.memoizedState.cache)}return Sc(i,l,u)}function l5(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps)Ds=!0;else{if(!Ky(i,u)&&(l.flags&128)===0)return Ds=!1,qC(i,l,u);Ds=(i.flags&131072)!==0}else Ds=!1,Tn&&(l.flags&1048576)!==0&&jp(l,Su,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(i=Ae(l.elementType),l.type=i,typeof i=="function")Sh(i)?(m=Iu(i,m),l.tag=1,l=r5(null,l,i,m,u)):(l.tag=0,l=zy(null,l,i,m,u));else{if(i!=null){var w=i.$$typeof;if(w===z){l.tag=11,l=Xw(null,l,i,m,u);break e}else if(w===G){l.tag=14,l=Qw(null,l,i,m,u);break e}}throw l=le(i)||i,Error(s(306,l,""))}}return l;case 0:return zy(i,l,l.type,l.pendingProps,u);case 1:return m=l.type,w=Iu(m,l.pendingProps),r5(i,l,m,w,u);case 3:e:{if(Pe(l,l.stateNode.containerInfo),i===null)throw Error(s(387));m=l.pendingProps;var _=l.memoizedState;w=_.element,Ir(i,l),os(l,m,null,u);var U=l.memoizedState;if(m=U.cache,Dl(l,Qr,m),m!==_.cache&&wc(l,[Qr],u,!0),xr(),m=U.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:U.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=s5(i,l,m,u);break e}else if(m!==w){w=Ti(Error(s(424)),l),fd(w),l=s5(i,l,m,u);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(jr=Ro(i.firstChild),Js=l,Tn=!0,Ra=null,Ur=!0,u=hn(l,null,m,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(vc(),m===w){l=Sc(i,l,u);break e}La(i,l,m,u)}l=l.child}return l;case 26:return Dp(i,l),i===null?(u=bN(l.type,null,l.pendingProps,null))?l.memoizedState=u:Tn||(u=l.type,i=l.pendingProps,m=Jp(fe.current).createElement(u),m[$n]=l,m[sr]=i,Da(m,u,i),Cr(m),l.stateNode=m):l.memoizedState=bN(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Be(l),i===null&&Tn&&(m=l.stateNode=pN(l.type,l.pendingProps,fe.current),Js=l,Ur=!0,w=jr,Ad(l.type)?(Ab=w,jr=Ro(m.firstChild)):jr=w),La(i,l,l.pendingProps.children,u),Dp(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Tn&&((w=m=jr)&&(m=bI(m,l.type,l.pendingProps,Ur),m!==null?(l.stateNode=m,Js=l,jr=Ro(m.firstChild),Ur=!1,w=!0):w=!1),w||Pl(l)),Be(l),w=l.type,_=l.pendingProps,U=i!==null?i.memoizedProps:null,m=_.children,Nb(w,_)?m=null:U!==null&&Nb(w,U)&&(l.flags|=32),l.memoizedState!==null&&(w=bm(i,l,Cy,null,null,u),qm._currentValue=w),Dp(i,l),La(i,l,m,u),l.child;case 6:return i===null&&Tn&&((i=u=jr)&&(u=vI(u,l.pendingProps,Ur),u!==null?(l.stateNode=u,Js=l,jr=null,i=!0):i=!1),i||Pl(l)),null;case 13:return a5(i,l,u);case 4:return Pe(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=_r(l,null,m,u):La(i,l,m,u),l.child;case 11:return Xw(i,l,l.type,l.pendingProps,u);case 7:return La(i,l,l.pendingProps,u),l.child;case 8:return La(i,l,l.pendingProps.children,u),l.child;case 12:return La(i,l,l.pendingProps.children,u),l.child;case 10:return m=l.pendingProps,Dl(l,l.type,m.value),La(i,l,m.children,u),l.child;case 9:return w=l.type._context,m=l.pendingProps.children,Ol(l),w=ea(w),m=m(w),l.flags|=1,La(i,l,m,u),l.child;case 14:return Qw(i,l,l.type,l.pendingProps,u);case 15:return Jw(i,l,l.type,l.pendingProps,u);case 19:return o5(i,l,u);case 31:return BC(i,l,u);case 22:return Zw(i,l,u,l.pendingProps);case 24:return Ol(l),m=ea(Qr),i===null?(w=Z(),w===null&&(w=Sr,_=gd(),w.pooledCache=_,_.refCount++,_!==null&&(w.pooledCacheLanes|=u),w=_),l.memoizedState={parent:m,cache:w},at(l),Dl(l,Qr,w)):((i.lanes&u)!==0&&(Ir(i,l),os(l,null,null,u),xr()),w=i.memoizedState,_=l.memoizedState,w.parent!==m?(w={parent:m,cache:m},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),Dl(l,Qr,m)):(m=_.cache,Dl(l,Qr,m),m!==w.cache&&wc(l,[Qr],u,!0))),La(i,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(s(156,l.tag))}function Ec(i){i.flags|=4}function Yy(i,l,u,m,w){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(w&335544128)===w)if(i.stateNode.complete)i.flags|=8192;else if(D5())i.flags|=8192;else throw Oe=ve,Ce}else i.flags&=-16777217}function c5(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!_N(l))if(D5())i.flags|=8192;else throw Oe=ve,Ce}function Op(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?bi():536870912,i.lanes|=l,$h|=l)}function Cm(i,l){if(!Tn)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Pr(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(l)for(var w=i.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=m,i.childLanes=u,l}function GC(i,l,u){var m=l.pendingProps;switch(Ch(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(l),null;case 1:return Pr(l),null;case 3:return u=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Pi(Qr),ke(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Zs(l)?Ec(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,xm())),Pr(l),null;case 26:var w=l.type,_=l.memoizedState;return i===null?(Ec(l),_!==null?(Pr(l),c5(l,_)):(Pr(l),Yy(l,w,null,m,u))):_?_!==i.memoizedState?(Ec(l),Pr(l),c5(l,_)):(Pr(l),l.flags&=-16777217):(i=i.memoizedProps,i!==m&&Ec(l),Pr(l),Yy(l,w,i,m,u)),null;case 27:if(Ze(l),u=fe.current,w=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Ec(l);else{if(!m){if(l.stateNode===null)throw Error(s(166));return Pr(l),null}i=re.current,Zs(l)?pm(l):(i=pN(w,m,u),l.stateNode=i,Ec(l))}return Pr(l),null;case 5:if(Ze(l),w=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Ec(l);else{if(!m){if(l.stateNode===null)throw Error(s(166));return Pr(l),null}if(_=re.current,Zs(l))pm(l);else{var U=Jp(fe.current);switch(_){case 1:_=U.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:_=U.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":_=U.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":_=U.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":_=U.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof m.is=="string"?U.createElement("select",{is:m.is}):U.createElement("select"),m.multiple?_.multiple=!0:m.size&&(_.size=m.size);break;default:_=typeof m.is=="string"?U.createElement(w,{is:m.is}):U.createElement(w)}}_[$n]=l,_[sr]=m;e:for(U=l.child;U!==null;){if(U.tag===5||U.tag===6)_.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===l)break e;for(;U.sibling===null;){if(U.return===null||U.return===l)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}l.stateNode=_;e:switch(Da(_,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Ec(l)}}return Pr(l),Yy(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,u),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&Ec(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(s(166));if(i=fe.current,Zs(l)){if(i=l.stateNode,u=l.memoizedProps,m=null,w=Js,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}i[$n]=l,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||aN(i.nodeValue,u)),i||Pl(l,!0)}else i=Jp(i).createTextNode(m),i[$n]=l,l.stateNode=i}return Pr(l),null;case 31:if(u=l.memoizedState,i===null||i.memoizedState!==null){if(m=Zs(l),u!==null){if(i===null){if(!m)throw Error(s(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[$n]=l}else vc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Pr(l),i=!1}else u=xm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return l.flags&256?(ir(l),l):(ir(l),null);if((l.flags&128)!==0)throw Error(s(558))}return Pr(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(w=Zs(l),m!==null&&m.dehydrated!==null){if(i===null){if(!w)throw Error(s(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(s(317));w[$n]=l}else vc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Pr(l),w=!1}else w=xm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(ir(l),l):(ir(l),null)}return ir(l),(l.flags&128)!==0?(l.lanes=u,l):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=l.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),_=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==w&&(m.flags|=2048)),u!==i&&u&&(l.child.flags|=8192),Op(l,l.updateQueue),Pr(l),null);case 4:return ke(),i===null&&xb(l.stateNode.containerInfo),Pr(l),null;case 10:return Pi(l.type),Pr(l),null;case 19:if(q(On),m=l.memoizedState,m===null)return Pr(l),null;if(w=(l.flags&128)!==0,_=m.rendering,_===null)if(w)Cm(m,!1);else{if(hs!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(_=xa(i),_!==null){for(l.flags|=128,Cm(m,!1),i=_.updateQueue,l.updateQueue=i,Op(l,i),l.subtreeFlags=0,i=u,u=l.child;u!==null;)ju(u,i),u=u.sibling;return J(On,On.current&1|2),Tn&&fi(l,m.treeForkCount),l.child}i=i.sibling}m.tail!==null&&sn()>Bp&&(l.flags|=128,w=!0,Cm(m,!1),l.lanes=4194304)}else{if(!w)if(i=xa(_),i!==null){if(l.flags|=128,w=!0,i=i.updateQueue,l.updateQueue=i,Op(l,i),Cm(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Tn)return Pr(l),null}else 2*sn()-m.renderingStartTime>Bp&&u!==536870912&&(l.flags|=128,w=!0,Cm(m,!1),l.lanes=4194304);m.isBackwards?(_.sibling=l.child,l.child=_):(i=m.last,i!==null?i.sibling=_:l.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=sn(),i.sibling=null,u=On.current,J(On,w?u&1|2:u&1),Tn&&fi(l,m.treeForkCount),i):(Pr(l),null);case 22:case 23:return ir(l),ws(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(u&536870912)!==0&&(l.flags&128)===0&&(Pr(l),l.subtreeFlags&6&&(l.flags|=8192)):Pr(l),u=l.updateQueue,u!==null&&Op(l,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==u&&(l.flags|=2048),i!==null&&q(Y),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Pi(Qr),Pr(l),null;case 25:return null;case 30:return null}throw Error(s(156,l.tag))}function HC(i,l){switch(Ch(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Pi(Qr),ke(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Ze(l),null;case 31:if(l.memoizedState!==null){if(ir(l),l.alternate===null)throw Error(s(340));vc()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(ir(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(s(340));vc()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return q(On),null;case 4:return ke(),null;case 10:return Pi(l.type),null;case 22:case 23:return ir(l),ws(),i!==null&&q(Y),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Pi(Qr),null;case 25:return null;default:return null}}function d5(i,l){switch(Ch(l),l.tag){case 3:Pi(Qr),ke();break;case 26:case 27:case 5:Ze(l);break;case 4:ke();break;case 31:l.memoizedState!==null&&ir(l);break;case 13:ir(l);break;case 19:q(On);break;case 10:Pi(l.type);break;case 22:case 23:ir(l),ws(),i!==null&&q(Y);break;case 24:Pi(Qr)}}function Im(i,l){try{var u=l.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var w=m.next;u=w;do{if((u.tag&i)===i){m=void 0;var _=u.create,U=u.inst;m=_(),U.destroy=m}u=u.next}while(u!==w)}}catch(Q){lr(l,l.return,Q)}}function vd(i,l,u){try{var m=l.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var _=w.next;m=_;do{if((m.tag&i)===i){var U=m.inst,Q=U.destroy;if(Q!==void 0){U.destroy=void 0,w=l;var me=u,Re=Q;try{Re()}catch(Ge){lr(w,me,Ge)}}}m=m.next}while(m!==_)}}catch(Ge){lr(l,l.return,Ge)}}function u5(i){var l=i.updateQueue;if(l!==null){var u=i.stateNode;try{ls(l,u)}catch(m){lr(i,i.return,m)}}}function h5(i,l,u){u.props=Iu(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){lr(i,l,m)}}function km(i,l){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(w){lr(i,l,w)}}function Bl(i,l){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(w){lr(i,l,w)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(w){lr(i,l,w)}else u.current=null}function f5(i){var l=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(w){lr(i,i.return,w)}}function Xy(i,l,u){try{var m=i.stateNode;fI(m,i.type,u,l),m[sr]=l}catch(w){lr(i,i.return,w)}}function m5(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ad(i.type)||i.tag===4}function Qy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||m5(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ad(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Jy(i,l,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(i),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=ii));else if(m!==4&&(m===27&&Ad(i.type)&&(u=i.stateNode,l=null),i=i.child,i!==null))for(Jy(i,l,u),i=i.sibling;i!==null;)Jy(i,l,u),i=i.sibling}function Fp(i,l,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(m!==4&&(m===27&&Ad(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Fp(i,l,u),i=i.sibling;i!==null;)Fp(i,l,u),i=i.sibling}function g5(i){var l=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);Da(l,m,u),l[$n]=i,l[sr]=u}catch(_){lr(i,i.return,_)}}var Ac=!1,Ms=!1,Zy=!1,p5=typeof WeakSet=="function"?WeakSet:Set,ya=null;function $C(i,l){if(i=i.containerInfo,vb=a0,i=nl(i),Ao(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var w=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var U=0,Q=-1,me=-1,Re=0,Ge=0,Ye=i,De=null;t:for(;;){for(var Me;Ye!==u||w!==0&&Ye.nodeType!==3||(Q=U+w),Ye!==_||m!==0&&Ye.nodeType!==3||(me=U+m),Ye.nodeType===3&&(U+=Ye.nodeValue.length),(Me=Ye.firstChild)!==null;)De=Ye,Ye=Me;for(;;){if(Ye===i)break t;if(De===u&&++Re===w&&(Q=U),De===_&&++Ge===m&&(me=U),(Me=Ye.nextSibling)!==null)break;Ye=De,De=Ye.parentNode}Ye=Me}u=Q===-1||me===-1?null:{start:Q,end:me}}else u=null}u=u||{start:0,end:0}}else u=null;for(wb={focusedElem:i,selectionRange:u},a0=!1,ya=l;ya!==null;)if(l=ya,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,ya=i;else for(;ya!==null;){switch(l=ya,_=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)w=i[u],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,u=l,w=_.memoizedProps,_=_.memoizedState,m=u.stateNode;try{var pt=Iu(u.type,w);i=m.getSnapshotBeforeUpdate(pt,_),m.__reactInternalSnapshotBeforeUpdate=i}catch(Xt){lr(u,u.return,Xt)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,u=i.nodeType,u===9)_b(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":_b(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=l.sibling,i!==null){i.return=l.return,ya=i;break}ya=l.return}}function x5(i,l,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:Cc(i,u),m&4&&Im(5,u);break;case 1:if(Cc(i,u),m&4)if(i=u.stateNode,l===null)try{i.componentDidMount()}catch(U){lr(u,u.return,U)}else{var w=Iu(u.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(w,l,i.__reactInternalSnapshotBeforeUpdate)}catch(U){lr(u,u.return,U)}}m&64&&u5(u),m&512&&km(u,u.return);break;case 3:if(Cc(i,u),m&64&&(i=u.updateQueue,i!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{ls(i,l)}catch(U){lr(u,u.return,U)}}break;case 27:l===null&&m&4&&g5(u);case 26:case 5:Cc(i,u),l===null&&m&4&&f5(u),m&512&&km(u,u.return);break;case 12:Cc(i,u);break;case 31:Cc(i,u),m&4&&v5(i,u);break;case 13:Cc(i,u),m&4&&w5(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=tI.bind(null,u),wI(i,u))));break;case 22:if(m=u.memoizedState!==null||Ac,!m){l=l!==null&&l.memoizedState!==null||Ms,w=Ac;var _=Ms;Ac=m,(Ms=l)&&!_?Ic(i,u,(u.subtreeFlags&8772)!==0):Cc(i,u),Ac=w,Ms=_}break;case 30:break;default:Cc(i,u)}}function y5(i){var l=i.alternate;l!==null&&(i.alternate=null,y5(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Wi(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Br=null,Di=!1;function Tc(i,l,u){for(u=u.child;u!==null;)b5(i,l,u),u=u.sibling}function b5(i,l,u){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(ln,u)}catch{}switch(u.tag){case 26:Ms||Bl(u,l),Tc(i,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ms||Bl(u,l);var m=Br,w=Di;Ad(u.type)&&(Br=u.stateNode,Di=!1),Tc(i,l,u),Vm(u.stateNode),Br=m,Di=w;break;case 5:Ms||Bl(u,l);case 6:if(m=Br,w=Di,Br=null,Tc(i,l,u),Br=m,Di=w,Br!==null)if(Di)try{(Br.nodeType===9?Br.body:Br.nodeName==="HTML"?Br.ownerDocument.body:Br).removeChild(u.stateNode)}catch(_){lr(u,l,_)}else try{Br.removeChild(u.stateNode)}catch(_){lr(u,l,_)}break;case 18:Br!==null&&(Di?(i=Br,uN(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),ef(i)):uN(Br,u.stateNode));break;case 4:m=Br,w=Di,Br=u.stateNode.containerInfo,Di=!0,Tc(i,l,u),Br=m,Di=w;break;case 0:case 11:case 14:case 15:vd(2,u,l),Ms||vd(4,u,l),Tc(i,l,u);break;case 1:Ms||(Bl(u,l),m=u.stateNode,typeof m.componentWillUnmount=="function"&&h5(u,l,m)),Tc(i,l,u);break;case 21:Tc(i,l,u);break;case 22:Ms=(m=Ms)||u.memoizedState!==null,Tc(i,l,u),Ms=m;break;default:Tc(i,l,u)}}function v5(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ef(i)}catch(u){lr(l,l.return,u)}}}function w5(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ef(i)}catch(u){lr(l,l.return,u)}}function WC(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new p5),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new p5),l;default:throw Error(s(435,i.tag))}}function Up(i,l){var u=WC(i);l.forEach(function(m){if(!u.has(m)){u.add(m);var w=nI.bind(null,i,m);m.then(w,w)}})}function Mi(i,l){var u=l.deletions;if(u!==null)for(var m=0;m<u.length;m++){var w=u[m],_=i,U=l,Q=U;e:for(;Q!==null;){switch(Q.tag){case 27:if(Ad(Q.type)){Br=Q.stateNode,Di=!1;break e}break;case 5:Br=Q.stateNode,Di=!1;break e;case 3:case 4:Br=Q.stateNode.containerInfo,Di=!0;break e}Q=Q.return}if(Br===null)throw Error(s(160));b5(_,U,w),Br=null,Di=!1,_=w.alternate,_!==null&&(_.return=null),w.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)N5(l,i),l=l.sibling}var dl=null;function N5(i,l){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Mi(l,i),Oi(i),m&4&&(vd(3,i,i.return),Im(3,i),vd(5,i,i.return));break;case 1:Mi(l,i),Oi(i),m&512&&(Ms||u===null||Bl(u,u.return)),m&64&&Ac&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var w=dl;if(Mi(l,i),Oi(i),m&512&&(Ms||u===null||Bl(u,u.return)),m&4){var _=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":_=w.getElementsByTagName("title")[0],(!_||_[ca]||_[$n]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=w.createElement(m),w.head.insertBefore(_,w.querySelector("head > title"))),Da(_,m,u),_[$n]=i,Cr(_),m=_;break e;case"link":var U=NN("link","href",w).get(m+(u.href||""));if(U){for(var Q=0;Q<U.length;Q++)if(_=U[Q],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){U.splice(Q,1);break t}}_=w.createElement(m),Da(_,m,u),w.head.appendChild(_);break;case"meta":if(U=NN("meta","content",w).get(m+(u.content||""))){for(Q=0;Q<U.length;Q++)if(_=U[Q],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){U.splice(Q,1);break t}}_=w.createElement(m),Da(_,m,u),w.head.appendChild(_);break;default:throw Error(s(468,m))}_[$n]=i,Cr(_),m=_}i.stateNode=m}else jN(w,i.type,i.stateNode);else i.stateNode=wN(w,m,i.memoizedProps);else _!==m?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,m===null?jN(w,i.type,i.stateNode):wN(w,m,i.memoizedProps)):m===null&&i.stateNode!==null&&Xy(i,i.memoizedProps,u.memoizedProps)}break;case 27:Mi(l,i),Oi(i),m&512&&(Ms||u===null||Bl(u,u.return)),u!==null&&m&4&&Xy(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Mi(l,i),Oi(i),m&512&&(Ms||u===null||Bl(u,u.return)),i.flags&32){w=i.stateNode;try{ys(w,"")}catch(pt){lr(i,i.return,pt)}}m&4&&i.stateNode!=null&&(w=i.memoizedProps,Xy(i,w,u!==null?u.memoizedProps:w)),m&1024&&(Zy=!0);break;case 6:if(Mi(l,i),Oi(i),m&4){if(i.stateNode===null)throw Error(s(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(pt){lr(i,i.return,pt)}}break;case 3:if(t0=null,w=dl,dl=Zp(l.containerInfo),Mi(l,i),dl=w,Oi(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{ef(l.containerInfo)}catch(pt){lr(i,i.return,pt)}Zy&&(Zy=!1,j5(i));break;case 4:m=dl,dl=Zp(i.stateNode.containerInfo),Mi(l,i),Oi(i),dl=m;break;case 12:Mi(l,i),Oi(i);break;case 31:Mi(l,i),Oi(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Up(i,m)));break;case 13:Mi(l,i),Oi(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(zp=sn()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Up(i,m)));break;case 22:w=i.memoizedState!==null;var me=u!==null&&u.memoizedState!==null,Re=Ac,Ge=Ms;if(Ac=Re||w,Ms=Ge||me,Mi(l,i),Ms=Ge,Ac=Re,Oi(i),m&8192)e:for(l=i.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(u===null||me||Ac||Ms||ku(i)),u=null,l=i;;){if(l.tag===5||l.tag===26){if(u===null){me=u=l;try{if(_=me.stateNode,w)U=_.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{Q=me.stateNode;var Ye=me.memoizedProps.style,De=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;Q.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(pt){lr(me,me.return,pt)}}}else if(l.tag===6){if(u===null){me=l;try{me.stateNode.nodeValue=w?"":me.memoizedProps}catch(pt){lr(me,me.return,pt)}}}else if(l.tag===18){if(u===null){me=l;try{var Me=me.stateNode;w?hN(Me,!0):hN(me.stateNode,!1)}catch(pt){lr(me,me.return,pt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Up(i,u))));break;case 19:Mi(l,i),Oi(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Up(i,m)));break;case 30:break;case 21:break;default:Mi(l,i),Oi(i)}}function Oi(i){var l=i.flags;if(l&2){try{for(var u,m=i.return;m!==null;){if(m5(m)){u=m;break}m=m.return}if(u==null)throw Error(s(160));switch(u.tag){case 27:var w=u.stateNode,_=Qy(i);Fp(i,_,w);break;case 5:var U=u.stateNode;u.flags&32&&(ys(U,""),u.flags&=-33);var Q=Qy(i);Fp(i,Q,U);break;case 3:case 4:var me=u.stateNode.containerInfo,Re=Qy(i);Jy(i,Re,me);break;default:throw Error(s(161))}}catch(Ge){lr(i,i.return,Ge)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function j5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;j5(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function Cc(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)x5(i,l.alternate,l),l=l.sibling}function ku(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:vd(4,l,l.return),ku(l);break;case 1:Bl(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&h5(l,l.return,u),ku(l);break;case 27:Vm(l.stateNode);case 26:case 5:Bl(l,l.return),ku(l);break;case 22:l.memoizedState===null&&ku(l);break;case 30:ku(l);break;default:ku(l)}i=i.sibling}}function Ic(i,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,w=i,_=l,U=_.flags;switch(_.tag){case 0:case 11:case 15:Ic(w,_,u),Im(4,_);break;case 1:if(Ic(w,_,u),m=_,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Re){lr(m,m.return,Re)}if(m=_,w=m.updateQueue,w!==null){var Q=m.stateNode;try{var me=w.shared.hiddenCallbacks;if(me!==null)for(w.shared.hiddenCallbacks=null,w=0;w<me.length;w++)pa(me[w],Q)}catch(Re){lr(m,m.return,Re)}}u&&U&64&&u5(_),km(_,_.return);break;case 27:g5(_);case 26:case 5:Ic(w,_,u),u&&m===null&&U&4&&f5(_),km(_,_.return);break;case 12:Ic(w,_,u);break;case 31:Ic(w,_,u),u&&U&4&&v5(w,_);break;case 13:Ic(w,_,u),u&&U&4&&w5(w,_);break;case 22:_.memoizedState===null&&Ic(w,_,u),km(_,_.return);break;case 30:break;default:Ic(w,_,u)}l=l.sibling}}function eb(i,l){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Eu(u))}function tb(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Eu(i))}function ul(i,l,u,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)_5(i,l,u,m),l=l.sibling}function _5(i,l,u,m){var w=l.flags;switch(l.tag){case 0:case 11:case 15:ul(i,l,u,m),w&2048&&Im(9,l);break;case 1:ul(i,l,u,m);break;case 3:ul(i,l,u,m),w&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Eu(i)));break;case 12:if(w&2048){ul(i,l,u,m),i=l.stateNode;try{var _=l.memoizedProps,U=_.id,Q=_.onPostCommit;typeof Q=="function"&&Q(U,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(me){lr(l,l.return,me)}}else ul(i,l,u,m);break;case 31:ul(i,l,u,m);break;case 13:ul(i,l,u,m);break;case 23:break;case 22:_=l.stateNode,U=l.alternate,l.memoizedState!==null?_._visibility&2?ul(i,l,u,m):Rm(i,l):_._visibility&2?ul(i,l,u,m):(_._visibility|=2,qh(i,l,u,m,(l.subtreeFlags&10256)!==0||!1)),w&2048&&eb(U,l);break;case 24:ul(i,l,u,m),w&2048&&tb(l.alternate,l);break;default:ul(i,l,u,m)}}function qh(i,l,u,m,w){for(w=w&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var _=i,U=l,Q=u,me=m,Re=U.flags;switch(U.tag){case 0:case 11:case 15:qh(_,U,Q,me,w),Im(8,U);break;case 23:break;case 22:var Ge=U.stateNode;U.memoizedState!==null?Ge._visibility&2?qh(_,U,Q,me,w):Rm(_,U):(Ge._visibility|=2,qh(_,U,Q,me,w)),w&&Re&2048&&eb(U.alternate,U);break;case 24:qh(_,U,Q,me,w),w&&Re&2048&&tb(U.alternate,U);break;default:qh(_,U,Q,me,w)}l=l.sibling}}function Rm(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=i,m=l,w=m.flags;switch(m.tag){case 22:Rm(u,m),w&2048&&eb(m.alternate,m);break;case 24:Rm(u,m),w&2048&&tb(m.alternate,m);break;default:Rm(u,m)}l=l.sibling}}var Pm=8192;function Gh(i,l,u){if(i.subtreeFlags&Pm)for(i=i.child;i!==null;)S5(i,l,u),i=i.sibling}function S5(i,l,u){switch(i.tag){case 26:Gh(i,l,u),i.flags&Pm&&i.memoizedState!==null&&PI(u,dl,i.memoizedState,i.memoizedProps);break;case 5:Gh(i,l,u);break;case 3:case 4:var m=dl;dl=Zp(i.stateNode.containerInfo),Gh(i,l,u),dl=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=Pm,Pm=16777216,Gh(i,l,u),Pm=m):Gh(i,l,u));break;default:Gh(i,l,u)}}function E5(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function Lm(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];ya=m,T5(m,i)}E5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)A5(i),i=i.sibling}function A5(i){switch(i.tag){case 0:case 11:case 15:Lm(i),i.flags&2048&&vd(9,i,i.return);break;case 3:Lm(i);break;case 12:Lm(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Vp(i)):Lm(i);break;default:Lm(i)}}function Vp(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];ya=m,T5(m,i)}E5(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:vd(8,l,l.return),Vp(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,Vp(l));break;default:Vp(l)}i=i.sibling}}function T5(i,l){for(;ya!==null;){var u=ya;switch(u.tag){case 0:case 11:case 15:vd(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Eu(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,ya=m;else e:for(u=i;ya!==null;){m=ya;var w=m.sibling,_=m.return;if(y5(m),m===u){ya=null;break e}if(w!==null){w.return=_,ya=w;break e}ya=_}}}var KC={getCacheForType:function(i){var l=ea(Qr),u=l.data.get(i);return u===void 0&&(u=i(),l.data.set(i,u)),u},cacheSignal:function(){return ea(Qr).controller.signal}},YC=typeof WeakMap=="function"?WeakMap:Map,er=0,Sr=null,Cn=null,Rn=0,or=0,ro=null,wd=!1,Hh=!1,nb=!1,kc=0,hs=0,Nd=0,Ru=0,rb=0,so=0,$h=0,Dm=null,Fi=null,sb=!1,zp=0,C5=0,Bp=1/0,qp=null,jd=null,na=0,_d=null,Wh=null,Rc=0,ab=0,ib=null,I5=null,Mm=0,ob=null;function ao(){return(er&2)!==0&&Rn!==0?Rn&-Rn:ie.T!==null?fb():ss()}function k5(){if(so===0)if((Rn&536870912)===0||Tn){var i=Hn;Hn<<=1,(Hn&3932160)===0&&(Hn=262144),so=i}else so=536870912;return i=Rr.current,i!==null&&(i.flags|=32),so}function Ui(i,l,u){(i===Sr&&(or===2||or===9)||i.cancelPendingCommit!==null)&&(Kh(i,0),Sd(i,Rn,so,!1)),It(i,u),((er&2)===0||i!==Sr)&&(i===Sr&&((er&2)===0&&(Ru|=u),hs===4&&Sd(i,Rn,so,!1)),ql(i))}function R5(i,l,u){if((er&6)!==0)throw Error(s(327));var m=!u&&(l&127)===0&&(l&i.expiredLanes)===0||Gs(i,l),w=m?JC(i,l):cb(i,l,!0),_=m;do{if(w===0){Hh&&!m&&Sd(i,l,0,!1);break}else{if(u=i.current.alternate,_&&!XC(u)){w=cb(i,l,!1),_=!1;continue}if(w===2){if(_=l,i.errorRecoveryDisabledLanes&_)var U=0;else U=i.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){l=U;e:{var Q=i;w=Dm;var me=Q.current.memoizedState.isDehydrated;if(me&&(Kh(Q,U).flags|=256),U=cb(Q,U,!1),U!==2){if(nb&&!me){Q.errorRecoveryDisabledLanes|=_,Ru|=_,w=4;break e}_=Fi,Fi=w,_!==null&&(Fi===null?Fi=_:Fi.push.apply(Fi,_))}w=U}if(_=!1,w!==2)continue}}if(w===1){Kh(i,0),Sd(i,l,0,!0);break}e:{switch(m=i,_=w,_){case 0:case 1:throw Error(s(345));case 4:if((l&4194048)!==l)break;case 6:Sd(m,l,so,!wd);break e;case 2:Fi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((l&62914560)===l&&(w=zp+300-sn(),10<w)){if(Sd(m,l,so,!wd),yn(m,0,!0)!==0)break e;Rc=l,m.timeoutHandle=cN(P5.bind(null,m,u,Fi,qp,sb,l,so,Ru,$h,wd,_,"Throttled",-0,0),w);break e}P5(m,u,Fi,qp,sb,l,so,Ru,$h,wd,_,null,-0,0)}}break}while(!0);ql(i)}function P5(i,l,u,m,w,_,U,Q,me,Re,Ge,Ye,De,Me){if(i.timeoutHandle=-1,Ye=l.subtreeFlags,Ye&8192||(Ye&16785408)===16785408){Ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},S5(l,_,Ye);var pt=(_&62914560)===_?zp-sn():(_&4194048)===_?C5-sn():0;if(pt=LI(Ye,pt),pt!==null){Rc=_,i.cancelPendingCommit=pt(z5.bind(null,i,l,_,u,m,w,U,Q,me,Ge,Ye,null,De,Me)),Sd(i,_,U,!Re);return}}z5(i,l,_,u,m,w,U,Q,me)}function XC(i){for(var l=i;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var w=u[m],_=w.getSnapshot;w=w.value;try{if(!Xs(_(),w))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Sd(i,l,u,m){l&=~rb,l&=~Ru,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var w=l;0<w;){var _=31-an(w),U=1<<_;m[_]=-1,w&=~U}u!==0&&Na(i,u,l)}function Gp(){return(er&6)===0?(Om(0),!1):!0}function lb(){if(Cn!==null){if(or===0)var i=Cn.return;else i=Cn,Co=Ll=null,Mh(i),Xe=null,bt=0,i=Cn;for(;i!==null;)d5(i.alternate,i),i=i.return;Cn=null}}function Kh(i,l){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,pI(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Rc=0,lb(),Sr=i,Cn=u=Ai(i.current,null),Rn=l,or=0,ro=null,wd=!1,Hh=Gs(i,l),nb=!1,$h=so=rb=Ru=Nd=hs=0,Fi=Dm=null,sb=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var w=31-an(m),_=1<<w;l|=i[w],m&=~_}return kc=l,vu(),u}function L5(i,l){Ot=null,ie.H=Am,l===xe||l===oe?(l=$e(),or=3):l===Ce?(l=$e(),or=4):or=l===Vy?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ro=l,Cn===null&&(hs=1,Pp(i,Ti(l,i.current)))}function D5(){var i=Rr.current;return i===null?!0:(Rn&4194048)===Rn?Un===null:(Rn&62914560)===Rn||(Rn&536870912)!==0?i===Un:!1}function M5(){var i=ie.H;return ie.H=Am,i===null?Am:i}function O5(){var i=ie.A;return ie.A=KC,i}function Hp(){hs=4,wd||(Rn&4194048)!==Rn&&Rr.current!==null||(Hh=!0),(Nd&134217727)===0&&(Ru&134217727)===0||Sr===null||Sd(Sr,Rn,so,!1)}function cb(i,l,u){var m=er;er|=2;var w=M5(),_=O5();(Sr!==i||Rn!==l)&&(qp=null,Kh(i,l)),l=!1;var U=hs;e:do try{if(or!==0&&Cn!==null){var Q=Cn,me=ro;switch(or){case 8:lb(),U=6;break e;case 3:case 2:case 9:case 6:Rr.current===null&&(l=!0);var Re=or;if(or=0,ro=null,Yh(i,Q,me,Re),u&&Hh){U=0;break e}break;default:Re=or,or=0,ro=null,Yh(i,Q,me,Re)}}QC(),U=hs;break}catch(Ge){L5(i,Ge)}while(!0);return l&&i.shellSuspendCounter++,Co=Ll=null,er=m,ie.H=w,ie.A=_,Cn===null&&(Sr=null,Rn=0,vu()),U}function QC(){for(;Cn!==null;)F5(Cn)}function JC(i,l){var u=er;er|=2;var m=M5(),w=O5();Sr!==i||Rn!==l?(qp=null,Bp=sn()+500,Kh(i,l)):Hh=Gs(i,l);e:do try{if(or!==0&&Cn!==null){l=Cn;var _=ro;t:switch(or){case 1:or=0,ro=null,Yh(i,l,_,1);break;case 2:case 9:if(Ee(_)){or=0,ro=null,U5(l);break}l=function(){or!==2&&or!==9||Sr!==i||(or=7),ql(i)},_.then(l,l);break e;case 3:or=7;break e;case 4:or=5;break e;case 7:Ee(_)?(or=0,ro=null,U5(l)):(or=0,ro=null,Yh(i,l,_,7));break;case 5:var U=null;switch(Cn.tag){case 26:U=Cn.memoizedState;case 5:case 27:var Q=Cn;if(U?_N(U):Q.stateNode.complete){or=0,ro=null;var me=Q.sibling;if(me!==null)Cn=me;else{var Re=Q.return;Re!==null?(Cn=Re,$p(Re)):Cn=null}break t}}or=0,ro=null,Yh(i,l,_,5);break;case 6:or=0,ro=null,Yh(i,l,_,6);break;case 8:lb(),hs=6;break e;default:throw Error(s(462))}}ZC();break}catch(Ge){L5(i,Ge)}while(!0);return Co=Ll=null,ie.H=m,ie.A=w,er=u,Cn!==null?0:(Sr=null,Rn=0,vu(),hs)}function ZC(){for(;Cn!==null&&!ft();)F5(Cn)}function F5(i){var l=l5(i.alternate,i,kc);i.memoizedProps=i.pendingProps,l===null?$p(i):Cn=l}function U5(i){var l=i,u=l.alternate;switch(l.tag){case 15:case 0:l=n5(u,l,l.pendingProps,l.type,void 0,Rn);break;case 11:l=n5(u,l,l.pendingProps,l.type.render,l.ref,Rn);break;case 5:Mh(l);default:d5(u,l),l=Cn=ju(l,kc),l=l5(u,l,kc)}i.memoizedProps=i.pendingProps,l===null?$p(i):Cn=l}function Yh(i,l,u,m){Co=Ll=null,Mh(l),Xe=null,bt=0;var w=l.return;try{if(zC(i,w,l,u,Rn)){hs=1,Pp(i,Ti(u,i.current)),Cn=null;return}}catch(_){if(w!==null)throw Cn=w,_;hs=1,Pp(i,Ti(u,i.current)),Cn=null;return}l.flags&32768?(Tn||m===1?i=!0:Hh||(Rn&536870912)!==0?i=!1:(wd=i=!0,(m===2||m===9||m===3||m===6)&&(m=Rr.current,m!==null&&m.tag===13&&(m.flags|=16384))),V5(l,i)):$p(l)}function $p(i){var l=i;do{if((l.flags&32768)!==0){V5(l,wd);return}i=l.return;var u=GC(l.alternate,l,kc);if(u!==null){Cn=u;return}if(l=l.sibling,l!==null){Cn=l;return}Cn=l=i}while(l!==null);hs===0&&(hs=5)}function V5(i,l){do{var u=HC(i.alternate,i);if(u!==null){u.flags&=32767,Cn=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(i=i.sibling,i!==null)){Cn=i;return}Cn=i=u}while(i!==null);hs=6,Cn=null}function z5(i,l,u,m,w,_,U,Q,me){i.cancelPendingCommit=null;do Wp();while(na!==0);if((er&6)!==0)throw Error(s(327));if(l!==null){if(l===i.current)throw Error(s(177));if(_=l.lanes|l.childLanes,_|=Nh,$i(i,u,_,U,Q,me),i===Sr&&(Cn=Sr=null,Rn=0),Wh=l,_d=i,Rc=u,ab=_,ib=w,I5=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,rI(on,function(){return $5(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=ie.T,ie.T=null,w=ge.p,ge.p=2,U=er,er|=4;try{$C(i,l,u)}finally{er=U,ge.p=w,ie.T=m}}na=1,B5(),q5(),G5()}}function B5(){if(na===1){na=0;var i=_d,l=Wh,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=ie.T,ie.T=null;var m=ge.p;ge.p=2;var w=er;er|=4;try{N5(l,i);var _=wb,U=nl(i.containerInfo),Q=_.focusedElem,me=_.selectionRange;if(U!==Q&&Q&&Q.ownerDocument&&tl(Q.ownerDocument.documentElement,Q)){if(me!==null&&Ao(Q)){var Re=me.start,Ge=me.end;if(Ge===void 0&&(Ge=Re),"selectionStart"in Q)Q.selectionStart=Re,Q.selectionEnd=Math.min(Ge,Q.value.length);else{var Ye=Q.ownerDocument||document,De=Ye&&Ye.defaultView||window;if(De.getSelection){var Me=De.getSelection(),pt=Q.textContent.length,Xt=Math.min(me.start,pt),vr=me.end===void 0?Xt:Math.min(me.end,pt);!Me.extend&&Xt>vr&&(U=vr,vr=Xt,Xt=U);var _e=cd(Q,Xt),ye=cd(Q,vr);if(_e&&ye&&(Me.rangeCount!==1||Me.anchorNode!==_e.node||Me.anchorOffset!==_e.offset||Me.focusNode!==ye.node||Me.focusOffset!==ye.offset)){var Ie=Ye.createRange();Ie.setStart(_e.node,_e.offset),Me.removeAllRanges(),Xt>vr?(Me.addRange(Ie),Me.extend(ye.node,ye.offset)):(Ie.setEnd(ye.node,ye.offset),Me.addRange(Ie))}}}}for(Ye=[],Me=Q;Me=Me.parentNode;)Me.nodeType===1&&Ye.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Ye.length;Q++){var We=Ye[Q];We.element.scrollLeft=We.left,We.element.scrollTop=We.top}}a0=!!vb,wb=vb=null}finally{er=w,ge.p=m,ie.T=u}}i.current=l,na=2}}function q5(){if(na===2){na=0;var i=_d,l=Wh,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=ie.T,ie.T=null;var m=ge.p;ge.p=2;var w=er;er|=4;try{x5(i,l.alternate,l)}finally{er=w,ge.p=m,ie.T=u}}na=3}}function G5(){if(na===4||na===3){na=0,At();var i=_d,l=Wh,u=Rc,m=I5;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?na=5:(na=0,Wh=_d=null,H5(i,i.pendingLanes));var w=i.pendingLanes;if(w===0&&(jd=null),fr(u),l=l.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(ln,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=ie.T,w=ge.p,ge.p=2,ie.T=null;try{for(var _=i.onRecoverableError,U=0;U<m.length;U++){var Q=m[U];_(Q.value,{componentStack:Q.stack})}}finally{ie.T=l,ge.p=w}}(Rc&3)!==0&&Wp(),ql(i),w=i.pendingLanes,(u&261930)!==0&&(w&42)!==0?i===ob?Mm++:(Mm=0,ob=i):Mm=0,Om(0)}}function H5(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,Eu(l)))}function Wp(){return B5(),q5(),G5(),$5()}function $5(){if(na!==5)return!1;var i=_d,l=ab;ab=0;var u=fr(Rc),m=ie.T,w=ge.p;try{ge.p=32>u?32:u,ie.T=null,u=ib,ib=null;var _=_d,U=Rc;if(na=0,Wh=_d=null,Rc=0,(er&6)!==0)throw Error(s(331));var Q=er;if(er|=4,A5(_.current),_5(_,_.current,U,u),er=Q,Om(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(ln,_)}catch{}return!0}finally{ge.p=w,ie.T=m,H5(i,l)}}function W5(i,l,u){l=Ti(u,l),l=Uy(i.stateNode,l,2),i=gn(i,l,2),i!==null&&(It(i,2),ql(i))}function lr(i,l,u){if(i.tag===3)W5(i,i,u);else for(;l!==null;){if(l.tag===3){W5(l,i,u);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(jd===null||!jd.has(m))){i=Ti(u,i),u=Kw(2),m=gn(l,u,2),m!==null&&(Yw(u,m,l,i),It(m,2),ql(m));break}}l=l.return}}function db(i,l,u){var m=i.pingCache;if(m===null){m=i.pingCache=new YC;var w=new Set;m.set(l,w)}else w=m.get(l),w===void 0&&(w=new Set,m.set(l,w));w.has(u)||(nb=!0,w.add(u),i=eI.bind(null,i,l,u),l.then(i,i))}function eI(i,l,u){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Sr===i&&(Rn&u)===u&&(hs===4||hs===3&&(Rn&62914560)===Rn&&300>sn()-zp?(er&2)===0&&Kh(i,0):rb|=u,$h===Rn&&($h=0)),ql(i)}function K5(i,l){l===0&&(l=bi()),i=sl(i,l),i!==null&&(It(i,l),ql(i))}function tI(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),K5(i,u)}function nI(i,l){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,w=i.memoizedState;w!==null&&(u=w.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(s(314))}m!==null&&m.delete(l),K5(i,u)}function rI(i,l){return dt(i,l)}var Kp=null,Xh=null,ub=!1,Yp=!1,hb=!1,Ed=0;function ql(i){i!==Xh&&i.next===null&&(Xh===null?Kp=Xh=i:Xh=Xh.next=i),Yp=!0,ub||(ub=!0,aI())}function Om(i,l){if(!hb&&Yp){hb=!0;do for(var u=!1,m=Kp;m!==null;){if(i!==0){var w=m.pendingLanes;if(w===0)var _=0;else{var U=m.suspendedLanes,Q=m.pingedLanes;_=(1<<31-an(42|i)+1)-1,_&=w&~(U&~Q),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,J5(m,_))}else _=Rn,_=yn(m,m===Sr?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||Gs(m,_)||(u=!0,J5(m,_));m=m.next}while(u);hb=!1}}function sI(){Y5()}function Y5(){Yp=ub=!1;var i=0;Ed!==0&&gI()&&(i=Ed);for(var l=sn(),u=null,m=Kp;m!==null;){var w=m.next,_=X5(m,l);_===0?(m.next=null,u===null?Kp=w:u.next=w,w===null&&(Xh=u)):(u=m,(i!==0||(_&3)!==0)&&(Yp=!0)),m=w}na!==0&&na!==5||Om(i),Ed!==0&&(Ed=0)}function X5(i,l){for(var u=i.suspendedLanes,m=i.pingedLanes,w=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var U=31-an(_),Q=1<<U,me=w[U];me===-1?((Q&u)===0||(Q&m)!==0)&&(w[U]=Cs(Q,l)):me<=l&&(i.expiredLanes|=Q),_&=~Q}if(l=Sr,u=Rn,u=yn(i,i===l?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===l&&(or===2||or===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&ct(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Gs(i,u)){if(l=u&-u,l===i.callbackPriority)return l;switch(m!==null&&ct(m),fr(u)){case 2:case 8:u=xn;break;case 32:u=on;break;case 268435456:u=tn;break;default:u=on}return m=Q5.bind(null,i),u=dt(u,m),i.callbackPriority=l,i.callbackNode=u,l}return m!==null&&m!==null&&ct(m),i.callbackPriority=2,i.callbackNode=null,2}function Q5(i,l){if(na!==0&&na!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Wp()&&i.callbackNode!==u)return null;var m=Rn;return m=yn(i,i===Sr?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(R5(i,m,l),X5(i,sn()),i.callbackNode!=null&&i.callbackNode===u?Q5.bind(null,i):null)}function J5(i,l){if(Wp())return null;R5(i,l,!0)}function aI(){xI(function(){(er&6)!==0?dt(Jt,sI):Y5()})}function fb(){if(Ed===0){var i=x;i===0&&(i=qt,qt<<=1,(qt&261888)===0&&(qt=256)),Ed=i}return Ed}function Z5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ua(""+i)}function eN(i,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,i.id&&u.setAttribute("form",i.id),l.parentNode.insertBefore(u,l),i=new FormData(i),u.parentNode.removeChild(u),i}function iI(i,l,u,m,w){if(l==="submit"&&u&&u.stateNode===w){var _=Z5((w[sr]||null).action),U=m.submitter;U&&(l=(l=U[sr]||null)?Z5(l.formAction):U.getAttribute("formAction"),l!==null&&(_=l,U=null));var Q=new Rs("action","action",null,m,w);i.push({event:Q,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ed!==0){var me=U?eN(w,U):new FormData(w);Py(u,{pending:!0,data:me,method:w.method,action:_},null,me)}}else typeof _=="function"&&(Q.preventDefault(),me=U?eN(w,U):new FormData(w),Py(u,{pending:!0,data:me,method:w.method,action:_},_,me))},currentTarget:w}]})}}for(var mb=0;mb<xc.length;mb++){var gb=xc[mb],oI=gb.toLowerCase(),lI=gb[0].toUpperCase()+gb.slice(1);Ei(oI,"on"+lI)}Ei(pc,"onAnimationEnd"),Ei(yu,"onAnimationIteration"),Ei(hm,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(vp,"onTransitionRun"),Ei(wp,"onTransitionStart"),Ei(Np,"onTransitionCancel"),Ei(fm,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),za("onBeforeInput",["compositionend","keypress","textInput","paste"]),za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fm));function tN(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],w=m.event;m=m.listeners;e:{var _=void 0;if(l)for(var U=m.length-1;0<=U;U--){var Q=m[U],me=Q.instance,Re=Q.currentTarget;if(Q=Q.listener,me!==_&&w.isPropagationStopped())break e;_=Q,w.currentTarget=Re;try{_(w)}catch(Ge){bu(Ge)}w.currentTarget=null,_=me}else for(U=0;U<m.length;U++){if(Q=m[U],me=Q.instance,Re=Q.currentTarget,Q=Q.listener,me!==_&&w.isPropagationStopped())break e;_=Q,w.currentTarget=Re;try{_(w)}catch(Ge){bu(Ge)}w.currentTarget=null,_=me}}}}function In(i,l){var u=l[la];u===void 0&&(u=l[la]=new Set);var m=i+"__bubble";u.has(m)||(nN(l,i,2,!1),u.add(m))}function pb(i,l,u){var m=0;l&&(m|=4),nN(u,i,m,l)}var Xp="_reactListening"+Math.random().toString(36).slice(2);function xb(i){if(!i[Xp]){i[Xp]=!0,Nl.forEach(function(u){u!=="selectionchange"&&(cI.has(u)||pb(u,!1,i),pb(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Xp]||(l[Xp]=!0,pb("selectionchange",!1,l))}}function nN(i,l,u,m){switch(kN(l)){case 2:var w=OI;break;case 8:w=FI;break;default:w=Rb}u=w.bind(null,l,u,i),w=void 0,!Ko||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),m?w!==void 0?i.addEventListener(l,u,{capture:!0,passive:w}):i.addEventListener(l,u,!0):w!==void 0?i.addEventListener(l,u,{passive:w}):i.addEventListener(l,u,!1)}function yb(i,l,u,m,w){var _=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var U=m.tag;if(U===3||U===4){var Q=m.stateNode.containerInfo;if(Q===w)break;if(U===4)for(U=m.return;U!==null;){var me=U.tag;if((me===3||me===4)&&U.stateNode.containerInfo===w)return;U=U.return}for(;Q!==null;){if(U=ja(Q),U===null)return;if(me=U.tag,me===5||me===6||me===26||me===27){m=_=U;continue e}Q=Q.parentNode}}m=m.return}bo(function(){var Re=_,Ge=ha(u),Ye=[];e:{var De=mm.get(i);if(De!==void 0){var Me=Rs,pt=i;switch(i){case"keypress":if(Aa(u)===0)break e;case"keydown":case"keyup":Me=En;break;case"focusin":pt="focus",Me=li;break;case"focusout":pt="blur",Me=li;break;case"beforeblur":case"afterblur":Me=li;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=_i;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=R;break;case pc:case yu:case hm:Me=A;break;case fm:Me=ee;break;case"scroll":case"scrollend":Me=vo;break;case"wheel":Me=Le;break;case"copy":case"cut":case"paste":Me=ce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=rr;break;case"toggle":case"beforetoggle":Me=en}var Xt=(l&4)!==0,vr=!Xt&&(i==="scroll"||i==="scrollend"),_e=Xt?De!==null?De+"Capture":null:De;Xt=[];for(var ye=Re,Ie;ye!==null;){var We=ye;if(Ie=We.stateNode,We=We.tag,We!==5&&We!==26&&We!==27||Ie===null||_e===null||(We=bs(ye,_e),We!=null&&Xt.push(Um(ye,We,Ie))),vr)break;ye=ye.return}0<Xt.length&&(De=new Me(De,pt,null,u,Ge),Ye.push({event:De,listeners:Xt}))}}if((l&7)===0){e:{if(De=i==="mouseover"||i==="pointerover",Me=i==="mouseout"||i==="pointerout",De&&u!==Qi&&(pt=u.relatedTarget||u.fromElement)&&(ja(pt)||pt[as]))break e;if((Me||De)&&(De=Ge.window===Ge?Ge:(De=Ge.ownerDocument)?De.defaultView||De.parentWindow:window,Me?(pt=u.relatedTarget||u.toElement,Me=Re,pt=pt?ja(pt):null,pt!==null&&(vr=o(pt),Xt=pt.tag,pt!==vr||Xt!==5&&Xt!==27&&Xt!==6)&&(pt=null)):(Me=null,pt=Re),Me!==pt)){if(Xt=Tl,We="onMouseLeave",_e="onMouseEnter",ye="mouse",(i==="pointerout"||i==="pointerover")&&(Xt=rr,We="onPointerLeave",_e="onPointerEnter",ye="pointer"),vr=Me==null?De:_a(Me),Ie=pt==null?De:_a(pt),De=new Xt(We,ye+"leave",Me,u,Ge),De.target=vr,De.relatedTarget=Ie,We=null,ja(Ge)===Re&&(Xt=new Xt(_e,ye+"enter",pt,u,Ge),Xt.target=Ie,Xt.relatedTarget=vr,We=Xt),vr=We,Me&&pt)t:{for(Xt=dI,_e=Me,ye=pt,Ie=0,We=_e;We;We=Xt(We))Ie++;We=0;for(var zt=ye;zt;zt=Xt(zt))We++;for(;0<Ie-We;)_e=Xt(_e),Ie--;for(;0<We-Ie;)ye=Xt(ye),We--;for(;Ie--;){if(_e===ye||ye!==null&&_e===ye.alternate){Xt=_e;break t}_e=Xt(_e),ye=Xt(ye)}Xt=null}else Xt=null;Me!==null&&rN(Ye,De,Me,Xt,!1),pt!==null&&vr!==null&&rN(Ye,vr,pt,Xt,!0)}}e:{if(De=Re?_a(Re):window,Me=De.nodeName&&De.nodeName.toLowerCase(),Me==="select"||Me==="input"&&De.type==="file")var Yn=Il;else if(pu(De))if(Ga)Yn=So;else{Yn=Yr;var St=od}else Me=De.nodeName,!Me||Me.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Re&&Sl(Re.elementType)&&(Yn=Il):Yn=wh;if(Yn&&(Yn=Yn(i,Re))){di(Ye,Yn,u,Ge);break e}St&&St(i,De,Re),i==="focusout"&&Re&&De.type==="number"&&Re.memoizedProps.value!=null&&cc(De,"number",De.value)}switch(St=Re?_a(Re):window,i){case"focusin":(pu(St)||St.contentEditable==="true")&&(ui=St,rl=Re,fa=null);break;case"focusout":fa=rl=ui=null;break;case"mousedown":Si=!0;break;case"contextmenu":case"mouseup":case"dragend":Si=!1,qn(Ye,u,Ge);break;case"selectionchange":if(gc)break;case"keydown":case"keyup":qn(Ye,u,Ge)}var bn;if(vn)e:{switch(i){case"compositionstart":var Pn="onCompositionStart";break e;case"compositionend":Pn="onCompositionEnd";break e;case"compositionupdate":Pn="onCompositionUpdate";break e}Pn=void 0}else No?ci(i,u)&&(Pn="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Pn="onCompositionStart");Pn&&(Ks&&u.locale!=="ko"&&(No||Pn!=="onCompositionStart"?Pn==="onCompositionEnd"&&No&&(bn=fc()):(Ea=Ge,Yo="value"in Ea?Ea.value:Ea.textContent,No=!0)),St=Qp(Re,Pn),0<St.length&&(Pn=new we(Pn,i,null,u,Ge),Ye.push({event:Pn,listeners:St}),bn?Pn.data=bn:(bn=wo(u),bn!==null&&(Pn.data=bn)))),(bn=Ps?Ia(i,u):Qo(i,u))&&(Pn=Qp(Re,"onBeforeInput"),0<Pn.length&&(St=new we("onBeforeInput","beforeinput",null,u,Ge),Ye.push({event:St,listeners:Pn}),St.data=bn)),iI(Ye,i,Re,u,Ge)}tN(Ye,l)})}function Um(i,l,u){return{instance:i,listener:l,currentTarget:u}}function Qp(i,l){for(var u=l+"Capture",m=[];i!==null;){var w=i,_=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||_===null||(w=bs(i,u),w!=null&&m.unshift(Um(i,w,_)),w=bs(i,l),w!=null&&m.push(Um(i,w,_))),i.tag===3)return m;i=i.return}return[]}function dI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function rN(i,l,u,m,w){for(var _=l._reactName,U=[];u!==null&&u!==m;){var Q=u,me=Q.alternate,Re=Q.stateNode;if(Q=Q.tag,me!==null&&me===m)break;Q!==5&&Q!==26&&Q!==27||Re===null||(me=Re,w?(Re=bs(u,_),Re!=null&&U.unshift(Um(u,Re,me))):w||(Re=bs(u,_),Re!=null&&U.push(Um(u,Re,me)))),u=u.return}U.length!==0&&i.push({event:l,listeners:U})}var uI=/\r\n?/g,hI=/\u0000|\uFFFD/g;function sN(i){return(typeof i=="string"?i:""+i).replace(uI,`
`).replace(hI,"")}function aN(i,l){return l=sN(l),sN(i)===l}function br(i,l,u,m,w,_){switch(u){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||ys(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&ys(i,""+m);break;case"className":ks(i,"class",m);break;case"tabIndex":ks(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ks(i,u,m);break;case"style":hc(i,m,_);break;case"data":if(l!=="object"){ks(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=ua(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(l!=="input"&&br(i,l,"name",w.name,w,null),br(i,l,"formEncType",w.formEncType,w,null),br(i,l,"formMethod",w.formMethod,w,null),br(i,l,"formTarget",w.formTarget,w,null)):(br(i,l,"encType",w.encType,w,null),br(i,l,"method",w.method,w,null),br(i,l,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=ua(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=ii);break;case"onScroll":m!=null&&In("scroll",i);break;case"onScrollEnd":m!=null&&In("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(w.children!=null)throw Error(s(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=ua(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":In("beforetoggle",i),In("toggle",i),Sa(i,"popover",m);break;case"xlinkActuate":Or(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Or(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Or(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Or(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Or(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Or(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Or(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Or(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Or(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Sa(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=El.get(u)||u,Sa(i,u,m))}}function bb(i,l,u,m,w,_){switch(u){case"style":hc(i,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(w.children!=null)throw Error(s(60));i.innerHTML=u}}break;case"children":typeof m=="string"?ys(i,m):(typeof m=="number"||typeof m=="bigint")&&ys(i,""+m);break;case"onScroll":m!=null&&In("scroll",i);break;case"onScrollEnd":m!=null&&In("scrollend",i);break;case"onClick":m!=null&&(i.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(w=u.endsWith("Capture"),l=u.slice(2,w?u.length-7:void 0),_=i[sr]||null,_=_!=null?_[u]:null,typeof _=="function"&&i.removeEventListener(l,_,w),typeof m=="function")){typeof _!="function"&&_!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(l,m,w);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):Sa(i,u,m)}}}function Da(i,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":In("error",i),In("load",i);var m=!1,w=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var U=u[_];if(U!=null)switch(_){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:br(i,l,_,U,u,null)}}w&&br(i,l,"srcSet",u.srcSet,u,null),m&&br(i,l,"src",u.src,u,null);return;case"input":In("invalid",i);var Q=_=U=w=null,me=null,Re=null;for(m in u)if(u.hasOwnProperty(m)){var Ge=u[m];if(Ge!=null)switch(m){case"name":w=Ge;break;case"type":U=Ge;break;case"checked":me=Ge;break;case"defaultChecked":Re=Ge;break;case"value":_=Ge;break;case"defaultValue":Q=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(s(137,l));break;default:br(i,l,m,Ge,u,null)}}sd(i,_,Q,me,Re,U,w,!1);return;case"select":In("invalid",i),m=U=_=null;for(w in u)if(u.hasOwnProperty(w)&&(Q=u[w],Q!=null))switch(w){case"value":_=Q;break;case"defaultValue":U=Q;break;case"multiple":m=Q;default:br(i,l,w,Q,u,null)}l=_,u=U,i.multiple=!!m,l!=null?Ws(i,!!m,l,!1):u!=null&&Ws(i,!!m,u,!0);return;case"textarea":In("invalid",i),_=w=m=null;for(U in u)if(u.hasOwnProperty(U)&&(Q=u[U],Q!=null))switch(U){case"value":m=Q;break;case"defaultValue":w=Q;break;case"children":_=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(91));break;default:br(i,l,U,Q,u,null)}Yi(i,m,w,_);return;case"option":for(me in u)if(u.hasOwnProperty(me)&&(m=u[me],m!=null))switch(me){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:br(i,l,me,m,u,null)}return;case"dialog":In("beforetoggle",i),In("toggle",i),In("cancel",i),In("close",i);break;case"iframe":case"object":In("load",i);break;case"video":case"audio":for(m=0;m<Fm.length;m++)In(Fm[m],i);break;case"image":In("error",i),In("load",i);break;case"details":In("toggle",i);break;case"embed":case"source":case"link":In("error",i),In("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in u)if(u.hasOwnProperty(Re)&&(m=u[Re],m!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:br(i,l,Re,m,u,null)}return;default:if(Sl(l)){for(Ge in u)u.hasOwnProperty(Ge)&&(m=u[Ge],m!==void 0&&bb(i,l,Ge,m,u,void 0));return}}for(Q in u)u.hasOwnProperty(Q)&&(m=u[Q],m!=null&&br(i,l,Q,m,u,null))}function fI(i,l,u,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,_=null,U=null,Q=null,me=null,Re=null,Ge=null;for(Me in u){var Ye=u[Me];if(u.hasOwnProperty(Me)&&Ye!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":me=Ye;default:m.hasOwnProperty(Me)||br(i,l,Me,null,m,Ye)}}for(var De in m){var Me=m[De];if(Ye=u[De],m.hasOwnProperty(De)&&(Me!=null||Ye!=null))switch(De){case"type":_=Me;break;case"name":w=Me;break;case"checked":Re=Me;break;case"defaultChecked":Ge=Me;break;case"value":U=Me;break;case"defaultValue":Q=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(s(137,l));break;default:Me!==Ye&&br(i,l,De,Me,m,Ye)}}$o(i,U,Q,me,Re,Ge,_,w);return;case"select":Me=U=Q=De=null;for(_ in u)if(me=u[_],u.hasOwnProperty(_)&&me!=null)switch(_){case"value":break;case"multiple":Me=me;default:m.hasOwnProperty(_)||br(i,l,_,null,m,me)}for(w in m)if(_=m[w],me=u[w],m.hasOwnProperty(w)&&(_!=null||me!=null))switch(w){case"value":De=_;break;case"defaultValue":Q=_;break;case"multiple":U=_;default:_!==me&&br(i,l,w,_,m,me)}l=Q,u=U,m=Me,De!=null?Ws(i,!!u,De,!1):!!m!=!!u&&(l!=null?Ws(i,!!u,l,!0):Ws(i,!!u,u?[]:"",!1));return;case"textarea":Me=De=null;for(Q in u)if(w=u[Q],u.hasOwnProperty(Q)&&w!=null&&!m.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:br(i,l,Q,null,m,w)}for(U in m)if(w=m[U],_=u[U],m.hasOwnProperty(U)&&(w!=null||_!=null))switch(U){case"value":De=w;break;case"defaultValue":Me=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:w!==_&&br(i,l,U,w,m,_)}dc(i,De,Me);return;case"option":for(var pt in u)if(De=u[pt],u.hasOwnProperty(pt)&&De!=null&&!m.hasOwnProperty(pt))switch(pt){case"selected":i.selected=!1;break;default:br(i,l,pt,null,m,De)}for(me in m)if(De=m[me],Me=u[me],m.hasOwnProperty(me)&&De!==Me&&(De!=null||Me!=null))switch(me){case"selected":i.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:br(i,l,me,De,m,Me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xt in u)De=u[Xt],u.hasOwnProperty(Xt)&&De!=null&&!m.hasOwnProperty(Xt)&&br(i,l,Xt,null,m,De);for(Re in m)if(De=m[Re],Me=u[Re],m.hasOwnProperty(Re)&&De!==Me&&(De!=null||Me!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(s(137,l));break;default:br(i,l,Re,De,m,Me)}return;default:if(Sl(l)){for(var vr in u)De=u[vr],u.hasOwnProperty(vr)&&De!==void 0&&!m.hasOwnProperty(vr)&&bb(i,l,vr,void 0,m,De);for(Ge in m)De=m[Ge],Me=u[Ge],!m.hasOwnProperty(Ge)||De===Me||De===void 0&&Me===void 0||bb(i,l,Ge,De,m,Me);return}}for(var _e in u)De=u[_e],u.hasOwnProperty(_e)&&De!=null&&!m.hasOwnProperty(_e)&&br(i,l,_e,null,m,De);for(Ye in m)De=m[Ye],Me=u[Ye],!m.hasOwnProperty(Ye)||De===Me||De==null&&Me==null||br(i,l,Ye,De,m,Me)}function iN(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var w=u[m],_=w.transferSize,U=w.initiatorType,Q=w.duration;if(_&&Q&&iN(U)){for(U=0,Q=w.responseEnd,m+=1;m<u.length;m++){var me=u[m],Re=me.startTime;if(Re>Q)break;var Ge=me.transferSize,Ye=me.initiatorType;Ge&&iN(Ye)&&(me=me.responseEnd,U+=Ge*(me<Q?1:(Q-Re)/(me-Re)))}if(--m,l+=8*(_+U)/(w.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var vb=null,wb=null;function Jp(i){return i.nodeType===9?i:i.ownerDocument}function oN(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lN(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function Nb(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var jb=null;function gI(){var i=window.event;return i&&i.type==="popstate"?i===jb?!1:(jb=i,!0):(jb=null,!1)}var cN=typeof setTimeout=="function"?setTimeout:void 0,pI=typeof clearTimeout=="function"?clearTimeout:void 0,dN=typeof Promise=="function"?Promise:void 0,xI=typeof queueMicrotask=="function"?queueMicrotask:typeof dN<"u"?function(i){return dN.resolve(null).then(i).catch(yI)}:cN;function yI(i){setTimeout(function(){throw i})}function Ad(i){return i==="head"}function uN(i,l){var u=l,m=0;do{var w=u.nextSibling;if(i.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(w),ef(l);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")Vm(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Vm(u);for(var _=u.firstChild;_;){var U=_.nextSibling,Q=_.nodeName;_[ca]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=U}}else u==="body"&&Vm(i.ownerDocument.body);u=w}while(u);ef(l)}function hN(i,l){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function _b(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":_b(u),Wi(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function bI(i,l,u,m){for(;i.nodeType===1;){var w=u;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[ca])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==w.rel||i.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||i.getAttribute("title")!==(w.title==null?null:w.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(w.src==null?null:w.src)||i.getAttribute("type")!==(w.type==null?null:w.type)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var _=w.name==null?null:""+w.name;if(w.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Ro(i.nextSibling),i===null)break}return null}function vI(i,l,u){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Ro(i.nextSibling),i===null))return null;return i}function fN(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ro(i.nextSibling),i===null))return null;return i}function Sb(i){return i.data==="$?"||i.data==="$~"}function Eb(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function wI(i,l){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||u.readyState!=="loading")l();else{var m=function(){l(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Ro(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var Ab=null;function mN(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(l===0)return Ro(i.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}i=i.nextSibling}return null}function gN(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return i;l--}else u!=="/$"&&u!=="/&"||l++}i=i.previousSibling}return null}function pN(i,l,u){switch(l=Jp(u),i){case"html":if(i=l.documentElement,!i)throw Error(s(452));return i;case"head":if(i=l.head,!i)throw Error(s(453));return i;case"body":if(i=l.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Vm(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Wi(i)}var Po=new Map,xN=new Set;function Zp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Pc=ge.d;ge.d={f:NI,r:jI,D:_I,C:SI,L:EI,m:AI,X:CI,S:TI,M:II};function NI(){var i=Pc.f(),l=Gp();return i||l}function jI(i){var l=$s(i);l!==null&&l.tag===5&&l.type==="form"?Lw(l):Pc.r(i)}var Qh=typeof document>"u"?null:document;function yN(i,l,u){var m=Qh;if(m&&typeof l=="string"&&l){var w=Fr(l);w='link[rel="'+i+'"][href="'+w+'"]',typeof u=="string"&&(w+='[crossorigin="'+u+'"]'),xN.has(w)||(xN.add(w),i={rel:i,crossOrigin:u,href:l},m.querySelector(w)===null&&(l=m.createElement("link"),Da(l,"link",i),Cr(l),m.head.appendChild(l)))}}function _I(i){Pc.D(i),yN("dns-prefetch",i,null)}function SI(i,l){Pc.C(i,l),yN("preconnect",i,l)}function EI(i,l,u){Pc.L(i,l,u);var m=Qh;if(m&&i&&l){var w='link[rel="preload"][as="'+Fr(l)+'"]';l==="image"&&u&&u.imageSrcSet?(w+='[imagesrcset="'+Fr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(w+='[imagesizes="'+Fr(u.imageSizes)+'"]')):w+='[href="'+Fr(i)+'"]';var _=w;switch(l){case"style":_=Jh(i);break;case"script":_=Zh(i)}Po.has(_)||(i=p({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:i,as:l},u),Po.set(_,i),m.querySelector(w)!==null||l==="style"&&m.querySelector(zm(_))||l==="script"&&m.querySelector(Bm(_))||(l=m.createElement("link"),Da(l,"link",i),Cr(l),m.head.appendChild(l)))}}function AI(i,l){Pc.m(i,l);var u=Qh;if(u&&i){var m=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+Fr(m)+'"][href="'+Fr(i)+'"]',_=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Zh(i)}if(!Po.has(_)&&(i=p({rel:"modulepreload",href:i},l),Po.set(_,i),u.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Bm(_)))return}m=u.createElement("link"),Da(m,"link",i),Cr(m),u.head.appendChild(m)}}}function TI(i,l,u){Pc.S(i,l,u);var m=Qh;if(m&&i){var w=Va(m).hoistableStyles,_=Jh(i);l=l||"default";var U=w.get(_);if(!U){var Q={loading:0,preload:null};if(U=m.querySelector(zm(_)))Q.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":l},u),(u=Po.get(_))&&Tb(i,u);var me=U=m.createElement("link");Cr(me),Da(me,"link",i),me._p=new Promise(function(Re,Ge){me.onload=Re,me.onerror=Ge}),me.addEventListener("load",function(){Q.loading|=1}),me.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,e0(U,l,m)}U={type:"stylesheet",instance:U,count:1,state:Q},w.set(_,U)}}}function CI(i,l){Pc.X(i,l);var u=Qh;if(u&&i){var m=Va(u).hoistableScripts,w=Zh(i),_=m.get(w);_||(_=u.querySelector(Bm(w)),_||(i=p({src:i,async:!0},l),(l=Po.get(w))&&Cb(i,l),_=u.createElement("script"),Cr(_),Da(_,"link",i),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(w,_))}}function II(i,l){Pc.M(i,l);var u=Qh;if(u&&i){var m=Va(u).hoistableScripts,w=Zh(i),_=m.get(w);_||(_=u.querySelector(Bm(w)),_||(i=p({src:i,async:!0,type:"module"},l),(l=Po.get(w))&&Cb(i,l),_=u.createElement("script"),Cr(_),Da(_,"link",i),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(w,_))}}function bN(i,l,u,m){var w=(w=fe.current)?Zp(w):null;if(!w)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Jh(u.href),u=Va(w).hoistableStyles,m=u.get(l),m||(m={type:"style",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Jh(u.href);var _=Va(w).hoistableStyles,U=_.get(i);if(U||(w=w.ownerDocument||w,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,U),(_=w.querySelector(zm(i)))&&!_._p&&(U.instance=_,U.state.loading=5),Po.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Po.set(i,u),_||kI(w,i,u,U.state))),l&&m===null)throw Error(s(528,""));return U}if(l&&m!==null)throw Error(s(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Zh(u),u=Va(w).hoistableScripts,m=u.get(l),m||(m={type:"script",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Jh(i){return'href="'+Fr(i)+'"'}function zm(i){return'link[rel="stylesheet"]['+i+"]"}function vN(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function kI(i,l,u,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Da(l,"link",u),Cr(l),i.head.appendChild(l))}function Zh(i){return'[src="'+Fr(i)+'"]'}function Bm(i){return"script[async]"+i}function wN(i,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+Fr(u.href)+'"]');if(m)return l.instance=m,Cr(m),m;var w=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Cr(m),Da(m,"style",w),e0(m,u.precedence,i),l.instance=m;case"stylesheet":w=Jh(u.href);var _=i.querySelector(zm(w));if(_)return l.state.loading|=4,l.instance=_,Cr(_),_;m=vN(u),(w=Po.get(w))&&Tb(m,w),_=(i.ownerDocument||i).createElement("link"),Cr(_);var U=_;return U._p=new Promise(function(Q,me){U.onload=Q,U.onerror=me}),Da(_,"link",m),l.state.loading|=4,e0(_,u.precedence,i),l.instance=_;case"script":return _=Zh(u.src),(w=i.querySelector(Bm(_)))?(l.instance=w,Cr(w),w):(m=u,(w=Po.get(_))&&(m=p({},u),Cb(m,w)),i=i.ownerDocument||i,w=i.createElement("script"),Cr(w),Da(w,"link",m),i.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(s(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,e0(m,u.precedence,i));return l.instance}function e0(i,l,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,_=w,U=0;U<m.length;U++){var Q=m[U];if(Q.dataset.precedence===l)_=Q;else if(_!==w)break}_?_.parentNode.insertBefore(i,_.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(i,l.firstChild))}function Tb(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Cb(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var t0=null;function NN(i,l,u){if(t0===null){var m=new Map,w=t0=new Map;w.set(u,m)}else w=t0,m=w.get(u),m||(m=new Map,w.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),w=0;w<u.length;w++){var _=u[w];if(!(_[ca]||_[$n]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var U=_.getAttribute(l)||"";U=i+U;var Q=m.get(U);Q?Q.push(_):m.set(U,[_])}}return m}function jN(i,l,u){i=i.ownerDocument||i,i.head.insertBefore(u,l==="title"?i.querySelector("head > title"):null)}function RI(i,l,u){if(u===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function _N(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function PI(i,l,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var w=Jh(m.href),_=l.querySelector(zm(w));if(_){l=_._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=n0.bind(i),l.then(i,i)),u.state.loading|=4,u.instance=_,Cr(_);return}_=l.ownerDocument||l,m=vN(m),(w=Po.get(w))&&Tb(m,w),_=_.createElement("link"),Cr(_);var U=_;U._p=new Promise(function(Q,me){U.onload=Q,U.onerror=me}),Da(_,"link",m),u.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=n0.bind(i),l.addEventListener("load",u),l.addEventListener("error",u))}}var Ib=0;function LI(i,l){return i.stylesheets&&i.count===0&&s0(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&s0(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+l);0<i.imgBytes&&Ib===0&&(Ib=62500*mI());var w=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&s0(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Ib?50:800)+l);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function n0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)s0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var r0=null;function s0(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,r0=new Map,l.forEach(DI,i),r0=null,n0.call(i))}function DI(i,l){if(!(l.state.loading&4)){var u=r0.get(i);if(u)var m=u.get(null);else{u=new Map,r0.set(i,u);for(var w=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<w.length;_++){var U=w[_];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(u.set(U.dataset.precedence,U),m=U)}m&&u.set(null,m)}w=l.instance,U=w.getAttribute("data-precedence"),_=u.get(U)||m,_===m&&u.set(null,w),u.set(U,w),this.count++,m=n0.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),_?_.parentNode.insertBefore(w,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(w,i.firstChild)),l.state.loading|=4}}var qm={$$typeof:M,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function MI(i,l,u,m,w,_,U,Q,me){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xs(0),this.hiddenUpdates=xs(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=_,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function SN(i,l,u,m,w,_,U,Q,me,Re,Ge,Ye){return i=new MI(i,l,u,U,me,Re,Ge,Ye,Q),l=1,_===!0&&(l|=24),_=ga(3,null,null,l),i.current=_,_.stateNode=i,l=gd(),l.refCount++,i.pooledCache=l,l.refCount++,_.memoizedState={element:m,isDehydrated:u,cache:l},at(_),i}function EN(i){return i?(i=Qs,i):Qs}function AN(i,l,u,m,w,_){w=EN(w),m.context===null?m.context=w:m.pendingContext=w,m=Yt(l),m.payload={element:u},_=_===void 0?null:_,_!==null&&(m.callback=_),u=gn(i,m,l),u!==null&&(Ui(u,i,l),Jn(u,i,l))}function TN(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function kb(i,l){TN(i,l),(i=i.alternate)&&TN(i,l)}function CN(i){if(i.tag===13||i.tag===31){var l=sl(i,67108864);l!==null&&Ui(l,i,67108864),kb(i,67108864)}}function IN(i){if(i.tag===13||i.tag===31){var l=ao();l=nr(l);var u=sl(i,l);u!==null&&Ui(u,i,l),kb(i,l)}}var a0=!0;function OI(i,l,u,m){var w=ie.T;ie.T=null;var _=ge.p;try{ge.p=2,Rb(i,l,u,m)}finally{ge.p=_,ie.T=w}}function FI(i,l,u,m){var w=ie.T;ie.T=null;var _=ge.p;try{ge.p=8,Rb(i,l,u,m)}finally{ge.p=_,ie.T=w}}function Rb(i,l,u,m){if(a0){var w=Pb(m);if(w===null)yb(i,l,m,i0,u),RN(i,m);else if(VI(w,i,l,u,m))m.stopPropagation();else if(RN(i,m),l&4&&-1<UI.indexOf(i)){for(;w!==null;){var _=$s(w);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var U=_t(_.pendingLanes);if(U!==0){var Q=_;for(Q.pendingLanes|=2,Q.entangledLanes|=2;U;){var me=1<<31-an(U);Q.entanglements[1]|=me,U&=~me}ql(_),(er&6)===0&&(Bp=sn()+500,Om(0))}}break;case 31:case 13:Q=sl(_,2),Q!==null&&Ui(Q,_,2),Gp(),kb(_,2)}if(_=Pb(m),_===null&&yb(i,l,m,i0,u),_===w)break;w=_}w!==null&&m.stopPropagation()}else yb(i,l,m,null,u)}}function Pb(i){return i=ha(i),Lb(i)}var i0=null;function Lb(i){if(i0=null,i=ja(i),i!==null){var l=o(i);if(l===null)i=null;else{var u=l.tag;if(u===13){if(i=c(l),i!==null)return i;i=null}else if(u===31){if(i=d(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return i0=i,null}function kN(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(un()){case Jt:return 2;case xn:return 8;case on:case Nt:return 32;case tn:return 268435456;default:return 32}default:return 32}}var Db=!1,Td=null,Cd=null,Id=null,Gm=new Map,Hm=new Map,kd=[],UI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RN(i,l){switch(i){case"focusin":case"focusout":Td=null;break;case"dragenter":case"dragleave":Cd=null;break;case"mouseover":case"mouseout":Id=null;break;case"pointerover":case"pointerout":Gm.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hm.delete(l.pointerId)}}function $m(i,l,u,m,w,_){return i===null||i.nativeEvent!==_?(i={blockedOn:l,domEventName:u,eventSystemFlags:m,nativeEvent:_,targetContainers:[w]},l!==null&&(l=$s(l),l!==null&&CN(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),i)}function VI(i,l,u,m,w){switch(l){case"focusin":return Td=$m(Td,i,l,u,m,w),!0;case"dragenter":return Cd=$m(Cd,i,l,u,m,w),!0;case"mouseover":return Id=$m(Id,i,l,u,m,w),!0;case"pointerover":var _=w.pointerId;return Gm.set(_,$m(Gm.get(_)||null,i,l,u,m,w)),!0;case"gotpointercapture":return _=w.pointerId,Hm.set(_,$m(Hm.get(_)||null,i,l,u,m,w)),!0}return!1}function PN(i){var l=ja(i.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){i.blockedOn=l,Hs(i.priority,function(){IN(u)});return}}else if(l===31){if(l=d(u),l!==null){i.blockedOn=l,Hs(i.priority,function(){IN(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function o0(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=Pb(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Qi=m,u.target.dispatchEvent(m),Qi=null}else return l=$s(u),l!==null&&CN(l),i.blockedOn=u,!1;l.shift()}return!0}function LN(i,l,u){o0(i)&&u.delete(l)}function zI(){Db=!1,Td!==null&&o0(Td)&&(Td=null),Cd!==null&&o0(Cd)&&(Cd=null),Id!==null&&o0(Id)&&(Id=null),Gm.forEach(LN),Hm.forEach(LN)}function l0(i,l){i.blockedOn===l&&(i.blockedOn=null,Db||(Db=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zI)))}var c0=null;function DN(i){c0!==i&&(c0=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){c0===i&&(c0=null);for(var l=0;l<i.length;l+=3){var u=i[l],m=i[l+1],w=i[l+2];if(typeof m!="function"){if(Lb(m||u)===null)continue;break}var _=$s(u);_!==null&&(i.splice(l,3),l-=3,Py(_,{pending:!0,data:w,method:u.method,action:m},m,w))}}))}function ef(i){function l(me){return l0(me,i)}Td!==null&&l0(Td,i),Cd!==null&&l0(Cd,i),Id!==null&&l0(Id,i),Gm.forEach(l),Hm.forEach(l);for(var u=0;u<kd.length;u++){var m=kd[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<kd.length&&(u=kd[0],u.blockedOn===null);)PN(u),u.blockedOn===null&&kd.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var w=u[m],_=u[m+1],U=w[sr]||null;if(typeof _=="function")U||DN(u);else if(U){var Q=null;if(_&&_.hasAttribute("formAction")){if(w=_,U=_[sr]||null)Q=U.formAction;else if(Lb(w)!==null)continue}else Q=U.action;typeof Q=="function"?u[m+1]=Q:(u.splice(m,3),m-=3),DN(u)}}}function MN(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(U){return w=U})},focusReset:"manual",scroll:"manual"})}function l(){w!==null&&(w(),w=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),w!==null&&(w(),w=null)}}}function Mb(i){this._internalRoot=i}d0.prototype.render=Mb.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(s(409));var u=l.current,m=ao();AN(u,m,i,l,null,null)},d0.prototype.unmount=Mb.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;AN(i.current,2,null,i,null,null),Gp(),l[as]=null}};function d0(i){this._internalRoot=i}d0.prototype.unstable_scheduleHydration=function(i){if(i){var l=ss();i={blockedOn:null,target:i,priority:l};for(var u=0;u<kd.length&&l!==0&&l<kd[u].priority;u++);kd.splice(u,0,i),u===0&&PN(i)}};var ON=e.version;if(ON!=="19.2.0")throw Error(s(527,ON,"19.2.0"));ge.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=f(l),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var BI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var u0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!u0.isDisabled&&u0.supportsFiber)try{ln=u0.inject(BI),Lt=u0}catch{}}return Km.createRoot=function(i,l){if(!a(i))throw Error(s(299));var u=!1,m="",w=Gw,_=Hw,U=$w;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(U=l.onRecoverableError)),l=SN(i,1,!1,null,null,u,m,null,w,_,U,MN),i[as]=l.current,xb(i),new Mb(l)},Km.hydrateRoot=function(i,l,u){if(!a(i))throw Error(s(299));var m=!1,w="",_=Gw,U=Hw,Q=$w,me=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(U=u.onCaughtError),u.onRecoverableError!==void 0&&(Q=u.onRecoverableError),u.formState!==void 0&&(me=u.formState)),l=SN(i,1,!0,l,u??null,m,w,me,_,U,Q,MN),l.context=EN(null),u=l.current,m=ao(),m=nr(m),w=Yt(m),w.callback=null,gn(u,w,m),u=m,l.current.lanes=u,It(l,u),ql(l),i[as]=l.current,xb(i),new d0(l)},Km.version="19.2.0",Km}var WN;function e8(){if(WN)return Ub.exports;WN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ub.exports=ZI(),Ub.exports}var t8=e8();s3();function Ag(){return Ag=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Ag.apply(this,arguments)}var Hd;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Hd||(Hd={}));const KN="popstate";function n8(n){n===void 0&&(n={});function e(s,a){let{pathname:o,search:c,hash:d}=s.location;return D1("",{pathname:o,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:tx(a)}return s8(e,t,null,n)}function As(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function B2(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function r8(){return Math.random().toString(36).substr(2,8)}function YN(n,e){return{usr:n.state,key:n.key,idx:e}}function D1(n,e,t,s){return t===void 0&&(t=null),Ag({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?tm(e):e,{state:t,key:e&&e.key||s||r8()})}function tx(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function tm(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function s8(n,e,t,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:o=!1}=s,c=a.history,d=Hd.Pop,h=null,f=g();f==null&&(f=0,c.replaceState(Ag({},c.state,{idx:f}),""));function g(){return(c.state||{idx:null}).idx}function p(){d=Hd.Pop;let j=g(),S=j==null?null:j-f;f=j,h&&h({action:d,location:E.location,delta:S})}function v(j,S){d=Hd.Push;let L=D1(E.location,j,S);f=g()+1;let M=YN(L,f),z=E.createHref(L);try{c.pushState(M,"",z)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(z)}o&&h&&h({action:d,location:E.location,delta:1})}function b(j,S){d=Hd.Replace;let L=D1(E.location,j,S);f=g();let M=YN(L,f),z=E.createHref(L);c.replaceState(M,"",z),o&&h&&h({action:d,location:E.location,delta:0})}function T(j){let S=a.location.origin!=="null"?a.location.origin:a.location.href,L=typeof j=="string"?j:tx(j);return L=L.replace(/ $/,"%20"),As(S,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,S)}let E={get action(){return d},get location(){return n(a,c)},listen(j){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(KN,p),h=j,()=>{a.removeEventListener(KN,p),h=null}},createHref(j){return e(a,j)},createURL:T,encodeLocation(j){let S=T(j);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:b,go(j){return c.go(j)}};return E}var XN;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(XN||(XN={}));function a8(n,e,t){return t===void 0&&(t="/"),i8(n,e,t)}function i8(n,e,t,s){let a=typeof e=="string"?tm(e):e,o=q2(a.pathname||"/",t);if(o==null)return null;let c=a3(n);o8(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=b8(o);d=p8(c[h],f)}return d}function a3(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let a=(o,c,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(As(h.relativePath.startsWith(s),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(s.length));let f=Kd([s,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(As(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),a3(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:m8(f,o.index),routesMeta:g})};return n.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,c);else for(let h of i3(o.path))a(o,c,h)}),e}function i3(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let c=i3(s.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...c),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function o8(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:g8(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const l8=/^:[\w-]+$/,c8=3,d8=2,u8=1,h8=10,f8=-2,QN=n=>n==="*";function m8(n,e){let t=n.split("/"),s=t.length;return t.some(QN)&&(s+=f8),e&&(s+=d8),t.filter(a=>!QN(a)).reduce((a,o)=>a+(l8.test(o)?c8:o===""?u8:h8),s)}function g8(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function p8(n,e,t){let{routesMeta:s}=n,a={},o="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],f=d===s.length-1,g=o==="/"?e:e.slice(o.length)||"/",p=x8({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),v=h.route;if(!p)return null;Object.assign(a,p.params),c.push({params:a,pathname:Kd([o,p.pathname]),pathnameBase:_8(Kd([o,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(o=Kd([o,p.pathnameBase]))}return c}function x8(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=y8(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((f,g,p)=>{let{paramName:v,isOptional:b}=g;if(v==="*"){let E=d[p]||"";c=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const T=d[p];return b&&!T?f[v]=void 0:f[v]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:n}}function y8(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),B2(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function b8(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return B2(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function q2(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}const v8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w8=n=>v8.test(n);function N8(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?tm(n):n,o;if(t)if(w8(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),B2(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+t))}t.startsWith("/")?o=JN(t.substring(1),"/"):o=JN(t,e)}else o=e;return{pathname:o,search:S8(s),hash:E8(a)}}function JN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function qb(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function j8(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function G2(n,e){let t=j8(n);return e?t.map((s,a)=>a===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function H2(n,e,t,s){s===void 0&&(s=!1);let a;typeof n=="string"?a=tm(n):(a=Ag({},n),As(!a.pathname||!a.pathname.includes("?"),qb("?","pathname","search",a)),As(!a.pathname||!a.pathname.includes("#"),qb("#","pathname","hash",a)),As(!a.search||!a.search.includes("#"),qb("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=t;else{let p=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),p-=1;a.pathname=v.join("/")}d=p>=0?e[p]:"/"}let h=N8(a,d),f=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}const Kd=n=>n.join("/").replace(/\/\/+/g,"/"),_8=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),S8=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,E8=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function A8(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const o3=["post","put","patch","delete"];new Set(o3);const T8=["get",...o3];new Set(T8);function Tg(){return Tg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Tg.apply(this,arguments)}const $2=W.createContext(null),C8=W.createContext(null),cu=W.createContext(null),zx=W.createContext(null),sc=W.createContext({outlet:null,matches:[],isDataRoute:!1}),l3=W.createContext(null);function I8(n,e){let{relative:t}=e===void 0?{}:e;nm()||As(!1);let{basename:s,navigator:a}=W.useContext(cu),{hash:o,pathname:c,search:d}=d3(n,{relative:t}),h=c;return s!=="/"&&(h=c==="/"?s:Kd([s,c])),a.createHref({pathname:h,search:d,hash:o})}function nm(){return W.useContext(zx)!=null}function du(){return nm()||As(!1),W.useContext(zx).location}function c3(n){W.useContext(cu).static||W.useLayoutEffect(n)}function Ar(){let{isDataRoute:n}=W.useContext(sc);return n?H8():k8()}function k8(){nm()||As(!1);let n=W.useContext($2),{basename:e,future:t,navigator:s}=W.useContext(cu),{matches:a}=W.useContext(sc),{pathname:o}=du(),c=JSON.stringify(G2(a,t.v7_relativeSplatPath)),d=W.useRef(!1);return c3(()=>{d.current=!0}),W.useCallback(function(f,g){if(g===void 0&&(g={}),!d.current)return;if(typeof f=="number"){s.go(f);return}let p=H2(f,JSON.parse(c),o,g.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Kd([e,p.pathname])),(g.replace?s.replace:s.push)(p,g.state,g)},[e,s,c,o,n])}const R8=W.createContext(null);function P8(n){let e=W.useContext(sc).outlet;return e&&W.createElement(R8.Provider,{value:n},e)}function bl(){let{matches:n}=W.useContext(sc),e=n[n.length-1];return e?e.params:{}}function d3(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=W.useContext(cu),{matches:a}=W.useContext(sc),{pathname:o}=du(),c=JSON.stringify(G2(a,s.v7_relativeSplatPath));return W.useMemo(()=>H2(n,JSON.parse(c),o,t==="path"),[n,c,o,t])}function L8(n,e){return D8(n,e)}function D8(n,e,t,s){nm()||As(!1);let{navigator:a}=W.useContext(cu),{matches:o}=W.useContext(sc),c=o[o.length-1],d=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let f=du(),g;if(e){var p;let j=typeof e=="string"?tm(e):e;h==="/"||(p=j.pathname)!=null&&p.startsWith(h)||As(!1),g=j}else g=f;let v=g.pathname||"/",b=v;if(h!=="/"){let j=h.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let T=a8(n,{pathname:b}),E=V8(T&&T.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Kd([h,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?h:Kd([h,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,t,s);return e&&E?W.createElement(zx.Provider,{value:{location:Tg({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Hd.Pop}},E):E}function M8(){let n=G8(),e=A8(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:a},t):null,null)}const O8=W.createElement(M8,null);class F8 extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?W.createElement(sc.Provider,{value:this.props.routeContext},W.createElement(l3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function U8(n){let{routeContext:e,match:t,children:s}=n,a=W.useContext($2);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),W.createElement(sc.Provider,{value:e},s)}function V8(n,e,t,s){var a;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var o;if(!t)return null;if(t.errors)n=t.matches;else if((o=s)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=(a=t)==null?void 0:a.errors;if(d!=null){let g=c.findIndex(p=>p.route.id&&d?.[p.route.id]!==void 0);g>=0||As(!1),c=c.slice(0,Math.min(c.length,g+1))}let h=!1,f=-1;if(t&&s&&s.v7_partialHydration)for(let g=0;g<c.length;g++){let p=c[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=g),p.route.id){let{loaderData:v,errors:b}=t,T=p.route.loader&&v[p.route.id]===void 0&&(!b||b[p.route.id]===void 0);if(p.route.lazy||T){h=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((g,p,v)=>{let b,T=!1,E=null,j=null;t&&(b=d&&p.route.id?d[p.route.id]:void 0,E=p.route.errorElement||O8,h&&(f<0&&v===0?($8("route-fallback"),T=!0,j=null):f===v&&(T=!0,j=p.route.hydrateFallbackElement||null)));let S=e.concat(c.slice(0,v+1)),L=()=>{let M;return b?M=E:T?M=j:p.route.Component?M=W.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=g,W.createElement(U8,{match:p,routeContext:{outlet:g,matches:S,isDataRoute:t!=null},children:M})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?W.createElement(F8,{location:t.location,revalidation:t.revalidation,component:E,error:b,children:L(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):L()},null)}var u3=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(u3||{}),h3=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(h3||{});function z8(n){let e=W.useContext($2);return e||As(!1),e}function B8(n){let e=W.useContext(C8);return e||As(!1),e}function q8(n){let e=W.useContext(sc);return e||As(!1),e}function f3(n){let e=q8(),t=e.matches[e.matches.length-1];return t.route.id||As(!1),t.route.id}function G8(){var n;let e=W.useContext(l3),t=B8(),s=f3();return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function H8(){let{router:n}=z8(u3.UseNavigateStable),e=f3(h3.UseNavigateStable),t=W.useRef(!1);return c3(()=>{t.current=!0}),W.useCallback(function(a,o){o===void 0&&(o={}),t.current&&(typeof a=="number"?n.navigate(a):n.navigate(a,Tg({fromRouteId:e},o)))},[n,e])}const ZN={};function $8(n,e,t){ZN[n]||(ZN[n]=!0)}function W8(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function W2(n){let{to:e,replace:t,state:s,relative:a}=n;nm()||As(!1);let{future:o,static:c}=W.useContext(cu),{matches:d}=W.useContext(sc),{pathname:h}=du(),f=Ar(),g=H2(e,G2(d,o.v7_relativeSplatPath),h,a==="path"),p=JSON.stringify(g);return W.useEffect(()=>f(JSON.parse(p),{replace:t,state:s,relative:a}),[f,p,a,t,s]),null}function m3(n){return P8(n.context)}function Dt(n){As(!1)}function K8(n){let{basename:e="/",children:t=null,location:s,navigationType:a=Hd.Pop,navigator:o,static:c=!1,future:d}=n;nm()&&As(!1);let h=e.replace(/^\/*/,"/"),f=W.useMemo(()=>({basename:h,navigator:o,static:c,future:Tg({v7_relativeSplatPath:!1},d)}),[h,d,o,c]);typeof s=="string"&&(s=tm(s));let{pathname:g="/",search:p="",hash:v="",state:b=null,key:T="default"}=s,E=W.useMemo(()=>{let j=q2(g,h);return j==null?null:{location:{pathname:j,search:p,hash:v,state:b,key:T},navigationType:a}},[h,g,p,v,b,T,a]);return E==null?null:W.createElement(cu.Provider,{value:f},W.createElement(zx.Provider,{children:t,value:E}))}function Y8(n){let{children:e,location:t}=n;return L8(M1(e),t)}new Promise(()=>{});function M1(n,e){e===void 0&&(e=[]);let t=[];return W.Children.forEach(n,(s,a)=>{if(!W.isValidElement(s))return;let o=[...e,a];if(s.type===W.Fragment){t.push.apply(t,M1(s.props.children,o));return}s.type!==Dt&&As(!1),!s.props.index||!s.props.children||As(!1);let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=M1(s.props.children,o)),t.push(c)}),t}function O1(){return O1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},O1.apply(this,arguments)}function X8(n,e){if(n==null)return{};var t={},s=Object.keys(n),a,o;for(o=0;o<s.length;o++)a=s[o],!(e.indexOf(a)>=0)&&(t[a]=n[a]);return t}function Q8(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function J8(n,e){return n.button===0&&(!e||e==="_self")&&!Q8(n)}const Z8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ek="6";try{window.__reactRouterVersion=ek}catch{}const tk="startTransition",ej=YI[tk];function nk(n){let{basename:e,children:t,future:s,window:a}=n,o=W.useRef();o.current==null&&(o.current=n8({window:a,v5Compat:!0}));let c=o.current,[d,h]=W.useState({action:c.action,location:c.location}),{v7_startTransition:f}=s||{},g=W.useCallback(p=>{f&&ej?ej(()=>h(p)):h(p)},[h,f]);return W.useLayoutEffect(()=>c.listen(g),[c,g]),W.useEffect(()=>W8(s),[s]),W.createElement(K8,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c,future:s})}const rk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pn=W.forwardRef(function(e,t){let{onClick:s,relative:a,reloadDocument:o,replace:c,state:d,target:h,to:f,preventScrollReset:g,viewTransition:p}=e,v=X8(e,Z8),{basename:b}=W.useContext(cu),T,E=!1;if(typeof f=="string"&&sk.test(f)&&(T=f,rk))try{let M=new URL(window.location.href),z=f.startsWith("//")?new URL(M.protocol+f):new URL(f),se=q2(z.pathname,b);z.origin===M.origin&&se!=null?f=se+z.search+z.hash:E=!0}catch{}let j=I8(f,{relative:a}),S=ak(f,{replace:c,state:d,target:h,preventScrollReset:g,relative:a,viewTransition:p});function L(M){s&&s(M),M.defaultPrevented||S(M)}return W.createElement("a",O1({},v,{href:T||j,onClick:E||o?s:L,ref:t,target:h}))});var tj;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(tj||(tj={}));var nj;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(nj||(nj={}));function ak(n,e){let{target:t,replace:s,state:a,preventScrollReset:o,relative:c,viewTransition:d}=e===void 0?{}:e,h=Ar(),f=du(),g=d3(n,{relative:c});return W.useCallback(p=>{if(J8(p,t)){p.preventDefault();let v=s!==void 0?s:tx(f)===tx(g);h(n,{replace:v,state:a,preventScrollReset:o,relative:c,viewTransition:d})}},[f,h,g,s,a,t,n,o,c,d])}const ik={en:{nav:{home:"Home",about:"About Village",panchayat:"Gram Panchayat",services:"Services",schemes:"Schemes",downloads:"Forms & Downloads",education:"Education & Anganwadi",gallery:"Gallery",financials:"Financials",notices:"Notices & Tenders",contact:"Contact"},home:{welcomeTitle:"Welcome to",knowMore:"Know More",quickInfo:"Quick Information",phone:"Phone",email:"Email",address:"Address",timings:"Office Timings",quickLinks:"Quick Links",payPropertyTax:"Pay Property Tax",payWaterTax:"Pay Water Tax",viewSchemes:"View Schemes",downloadForms:"Download Forms",latestNotices:"Latest Notices",viewAllNotices:"View All Notices",highlights:"Highlights",members:"Gram Panchayat Members",popularSchemes:"Popular Schemes",importantServices:"Important Services",recentPrograms:"Recent Programs & Events",viewAllPrograms:"View All Programs"},common:{learnMore:"Learn More",readMore:"Read More",viewDetails:"View Details",download:"Download",submit:"Submit",cancel:"Cancel",search:"Search",filter:"Filter",all:"All",active:"Active",closed:"Closed",upcoming:"Upcoming",loading:"Loading...",noResults:"No results found"},footer:{contactUs:"Contact Us",quickLinks:"Quick Links",importantLinks:"Important Links",followUs:"Follow Us",copyright:"All rights reserved"}},mr:{nav:{home:"",about:"",panchayat:"",services:"",schemes:"",downloads:"  ",education:"  ",gallery:"",financials:" ",notices:"  ",contact:""},home:{welcomeTitle:"  ",knowMore:" ",quickInfo:" ",phone:"",email:"",address:"",timings:" ",quickLinks:" ",payPropertyTax:"  ",payWaterTax:"  ",viewSchemes:" ",downloadForms:"  ",latestNotices:" ",viewAllNotices:"  ",highlights:" ",members:" ",popularSchemes:" ",importantServices:" ",recentPrograms:" ",viewAllPrograms:"  "},common:{learnMore:"  ",readMore:" ",viewDetails:" ",download:"",submit:" ",cancel:" ",search:"",filter:"",all:"",active:"",closed:"",upcoming:"",loading:"  ...",noResults:"   "},footer:{contactUs:"  ",quickLinks:" ",importantLinks:" ",followUs:"  ",copyright:"  "}}},g3=W.createContext(),ns=()=>{const n=W.useContext(g3);if(!n)throw new Error("useLanguage must be used within a LanguageProvider");return n},ok=({children:n})=>{const[e,t]=W.useState(()=>localStorage.getItem("language")||"mr");W.useEffect(()=>{localStorage.setItem("language",e),document.documentElement.lang=e},[e]);const c={language:e,setLanguage:t,toggleLanguage:()=>{t(d=>d==="en"?"mr":"en")},t:d=>{const h=d.split(".");let f=ik[e];for(const g of h)f=f?.[g];return f||d},getContent:d=>d?typeof d=="string"?d:d[e]||d.en||d.mr||"":""};return r.jsx(g3.Provider,{value:c,children:n})},lk=()=>{};var rj={};const p3=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},ck=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[s++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],d=n[t++],h=((a&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(h>>10)),e[s++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],c=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},x3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,d=c?n[a+1]:0,h=a+2<n.length,f=h?n[a+2]:0,g=o>>2,p=(o&3)<<4|d>>4;let v=(d&15)<<2|f>>6,b=f&63;h||(b=64,c||(v=64)),s.push(t[g],t[p],t[v],t[b])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(p3(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ck(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const f=a<n.length?t[n.charAt(a)]:64;++a;const p=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||d==null||f==null||p==null)throw new dk;const v=o<<2|d>>4;if(s.push(v),f!==64){const b=d<<4&240|f>>2;if(s.push(b),p!==64){const T=f<<6&192|p;s.push(T)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uk=function(n){const e=p3(n);return x3.encodeByteArray(e,!0)},nx=function(n){return uk(n).replace(/\./g,"")},y3=function(n){try{return x3.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function b3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hk=()=>b3().__FIREBASE_DEFAULTS__,fk=()=>{if(typeof process>"u"||typeof rj>"u")return;const n=rj.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&y3(n[1]);return e&&JSON.parse(e)},Bx=()=>{try{return lk()||hk()||fk()||mk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},v3=n=>Bx()?.emulatorHosts?.[n],w3=n=>{const e=v3(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},N3=()=>Bx()?.config,j3=n=>Bx()?.[`_${n}`];class gk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function uu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function K2(n){return(await fetch(n,{credentials:"include"})).ok}function _3(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[nx(JSON.stringify(t)),nx(JSON.stringify(c)),""].join(".")}const dg={};function pk(){const n={prod:[],emulator:[]};for(const e of Object.keys(dg))dg[e]?n.emulator.push(e):n.prod.push(e);return n}function xk(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let sj=!1;function Y2(n,e){if(typeof window>"u"||typeof document>"u"||!uu(window.location.host)||dg[n]===e||dg[n]||sj)return;dg[n]=e;function t(v){return`__firebase__banner__${v}`}const s="__firebase__banner",o=pk().prod.length>0;function c(){const v=document.getElementById(s);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{sj=!0,c()},v}function g(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=xk(s),b=t("text"),T=document.getElementById(b)||document.createElement("span"),E=t("learnmore"),j=document.getElementById(E)||document.createElement("a"),S=t("preprendIcon"),L=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const M=v.element;d(M),g(j,E);const z=f();h(L,S),M.append(L,T,j,z),document.body.appendChild(M)}o?(T.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function sa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sa())}function S3(){const n=Bx()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function wk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nk(){const n=sa();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function E3(){return!S3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A3(){return!S3()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function T3(){try{return typeof indexedDB=="object"}catch{return!1}}function jk(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const _k="FirebaseError";class ac extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=_k,Object.setPrototypeOf(this,ac.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xg.prototype.create)}}class Xg{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?Sk(o,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ac(a,d,s)}}function Sk(n,e){return n.replace(Ek,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Ek=/\{\$([^}]+)}/g;function Ak(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qu(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const o=n[a],c=e[a];if(aj(o)&&aj(c)){if(!Qu(o,c))return!1}else if(o!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function aj(n){return n!==null&&typeof n=="object"}function Qg(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function rg(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,o]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function sg(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Tk(n,e){const t=new Ck(n,e);return t.subscribe.bind(t)}class Ck{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");Ik(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Gb),a.error===void 0&&(a.error=Gb),a.complete===void 0&&(a.complete=Gb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ik(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Gb(){}function Dr(n){return n&&n._delegate?n._delegate:n}class Wc{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Lu="[DEFAULT]";class kk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new gk;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Pk(e))try{this.getOrInitializeService({instanceIdentifier:Lu})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});s.resolve(o)}catch{}}}}clearInstance(e=Lu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lu){return this.instances.has(e)}getOptions(e=Lu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);s===d&&c.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&e(o,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Rk(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Lu){return this.component?this.component.multipleInstances?e:Lu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rk(n){return n===Lu?void 0:n}function Pk(n){return n.instantiationMode==="EAGER"}class Lk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ln;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ln||(Ln={}));const Dk={debug:Ln.DEBUG,verbose:Ln.VERBOSE,info:Ln.INFO,warn:Ln.WARN,error:Ln.ERROR,silent:Ln.SILENT},Mk=Ln.INFO,Ok={[Ln.DEBUG]:"log",[Ln.VERBOSE]:"log",[Ln.INFO]:"info",[Ln.WARN]:"warn",[Ln.ERROR]:"error"},Fk=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=Ok[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class X2{constructor(e){this.name=e,this._logLevel=Mk,this._logHandler=Fk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ln))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ln.DEBUG,...e),this._logHandler(this,Ln.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ln.VERBOSE,...e),this._logHandler(this,Ln.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ln.INFO,...e),this._logHandler(this,Ln.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ln.WARN,...e),this._logHandler(this,Ln.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ln.ERROR,...e),this._logHandler(this,Ln.ERROR,...e)}}const Uk=(n,e)=>e.some(t=>n instanceof t);let ij,oj;function Vk(){return ij||(ij=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zk(){return oj||(oj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C3=new WeakMap,F1=new WeakMap,I3=new WeakMap,Hb=new WeakMap,Q2=new WeakMap;function Bk(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Yd(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&C3.set(t,n)}).catch(()=>{}),Q2.set(e,n),e}function qk(n){if(F1.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});F1.set(n,e)}let U1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return F1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||I3.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yd(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Gk(n){U1=n(U1)}function Hk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call($b(this),e,...t);return I3.set(s,e.sort?e.sort():[e]),Yd(s)}:zk().includes(n)?function(...e){return n.apply($b(this),e),Yd(C3.get(this))}:function(...e){return Yd(n.apply($b(this),e))}}function $k(n){return typeof n=="function"?Hk(n):(n instanceof IDBTransaction&&qk(n),Uk(n,Vk())?new Proxy(n,U1):n)}function Yd(n){if(n instanceof IDBRequest)return Bk(n);if(Hb.has(n))return Hb.get(n);const e=$k(n);return e!==n&&(Hb.set(n,e),Q2.set(e,n)),e}const $b=n=>Q2.get(n);function Wk(n,e,{blocked:t,upgrade:s,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),d=Yd(c);return s&&c.addEventListener("upgradeneeded",h=>{s(Yd(c.result),h.oldVersion,h.newVersion,Yd(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const Kk=["get","getKey","getAll","getAllKeys","count"],Yk=["put","add","delete","clear"],Wb=new Map;function lj(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wb.get(e))return Wb.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=Yk.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Kk.includes(t)))return;const o=async function(c,...d){const h=this.transaction(c,a?"readwrite":"readonly");let f=h.store;return s&&(f=f.index(d.shift())),(await Promise.all([f[t](...d),a&&h.done]))[0]};return Wb.set(e,o),o}Gk(n=>({...n,get:(e,t,s)=>lj(e,t)||n.get(e,t,s),has:(e,t)=>!!lj(e,t)||n.has(e,t)}));class Xk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Qk(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Qk(n){return n.getComponent()?.type==="VERSION"}const V1="@firebase/app",cj="0.14.6";const Kc=new X2("@firebase/app"),Jk="@firebase/app-compat",Zk="@firebase/analytics-compat",eR="@firebase/analytics",tR="@firebase/app-check-compat",nR="@firebase/app-check",rR="@firebase/auth",sR="@firebase/auth-compat",aR="@firebase/database",iR="@firebase/data-connect",oR="@firebase/database-compat",lR="@firebase/functions",cR="@firebase/functions-compat",dR="@firebase/installations",uR="@firebase/installations-compat",hR="@firebase/messaging",fR="@firebase/messaging-compat",mR="@firebase/performance",gR="@firebase/performance-compat",pR="@firebase/remote-config",xR="@firebase/remote-config-compat",yR="@firebase/storage",bR="@firebase/storage-compat",vR="@firebase/firestore",wR="@firebase/ai",NR="@firebase/firestore-compat",jR="firebase",_R="12.6.0";const z1="[DEFAULT]",SR={[V1]:"fire-core",[Jk]:"fire-core-compat",[eR]:"fire-analytics",[Zk]:"fire-analytics-compat",[nR]:"fire-app-check",[tR]:"fire-app-check-compat",[rR]:"fire-auth",[sR]:"fire-auth-compat",[aR]:"fire-rtdb",[iR]:"fire-data-connect",[oR]:"fire-rtdb-compat",[lR]:"fire-fn",[cR]:"fire-fn-compat",[dR]:"fire-iid",[uR]:"fire-iid-compat",[hR]:"fire-fcm",[fR]:"fire-fcm-compat",[mR]:"fire-perf",[gR]:"fire-perf-compat",[pR]:"fire-rc",[xR]:"fire-rc-compat",[yR]:"fire-gcs",[bR]:"fire-gcs-compat",[vR]:"fire-fst",[NR]:"fire-fst-compat",[wR]:"fire-vertex","fire-js":"fire-js",[jR]:"fire-js-all"};const rx=new Map,ER=new Map,B1=new Map;function dj(n,e){try{n.container.addComponent(e)}catch(t){Kc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function nu(n){const e=n.name;if(B1.has(e))return Kc.debug(`There were multiple attempts to register component ${e}.`),!1;B1.set(e,n);for(const t of rx.values())dj(t,n);for(const t of ER.values())dj(t,n);return!0}function qx(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function zi(n){return n==null?!1:n.settings!==void 0}const AR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xd=new Xg("app","Firebase",AR);class TR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xd.create("app-deleted",{appName:this._name})}}const fh=_R;function k3(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:z1,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Xd.create("bad-app-name",{appName:String(a)});if(t||(t=N3()),!t)throw Xd.create("no-options");const o=rx.get(a);if(o){if(Qu(t,o.options)&&Qu(s,o.config))return o;throw Xd.create("duplicate-app",{appName:a})}const c=new Lk(a);for(const h of B1.values())c.addComponent(h);const d=new TR(t,s,c);return rx.set(a,d),d}function J2(n=z1){const e=rx.get(n);if(!e&&n===z1&&N3())return k3();if(!e)throw Xd.create("no-app",{appName:n});return e}function Oo(n,e,t){let s=SR[n]??n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kc.warn(c.join(" "));return}nu(new Wc(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const CR="firebase-heartbeat-database",IR=1,Cg="firebase-heartbeat-store";let Kb=null;function R3(){return Kb||(Kb=Wk(CR,IR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Cg)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xd.create("idb-open",{originalErrorMessage:n.message})})),Kb}async function kR(n){try{const t=(await R3()).transaction(Cg),s=await t.objectStore(Cg).get(P3(n));return await t.done,s}catch(e){if(e instanceof ac)Kc.warn(e.message);else{const t=Xd.create("idb-get",{originalErrorMessage:e?.message});Kc.warn(t.message)}}}async function uj(n,e){try{const s=(await R3()).transaction(Cg,"readwrite");await s.objectStore(Cg).put(e,P3(n)),await s.done}catch(t){if(t instanceof ac)Kc.warn(t.message);else{const s=Xd.create("idb-set",{originalErrorMessage:t?.message});Kc.warn(s.message)}}}function P3(n){return`${n.name}!${n.options.appId}`}const RR=1024,PR=30;class LR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new MR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hj();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>PR){const a=OR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Kc.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hj(),{heartbeatsToSend:t,unsentEntries:s}=DR(this._heartbeatsCache.heartbeats),a=nx(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Kc.warn(e),""}}}function hj(){return new Date().toISOString().substring(0,10)}function DR(n,e=RR){const t=[];let s=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),fj(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),fj(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class MR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T3()?jk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await kR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return uj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return uj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fj(n){return nx(JSON.stringify({version:2,heartbeats:n})).length}function OR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function FR(n){nu(new Wc("platform-logger",e=>new Xk(e),"PRIVATE")),nu(new Wc("heartbeat",e=>new LR(e),"PRIVATE")),Oo(V1,cj,n),Oo(V1,cj,"esm2020"),Oo("fire-js","")}FR("");function L3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UR=L3,D3=new Xg("auth","Firebase",L3());const sx=new X2("@firebase/auth");function VR(n,...e){sx.logLevel<=Ln.WARN&&sx.warn(`Auth (${fh}): ${n}`,...e)}function P0(n,...e){sx.logLevel<=Ln.ERROR&&sx.error(`Auth (${fh}): ${n}`,...e)}function pl(n,...e){throw Z2(n,...e)}function Jl(n,...e){return Z2(n,...e)}function M3(n,e,t){const s={...UR(),[e]:t};return new Xg("auth","Firebase",s).create(e,{appName:n.name})}function Hc(n){return M3(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Z2(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return D3.create(n,...e)}function Zt(n,e,...t){if(!n)throw Z2(e,...t)}function zc(n){const e="INTERNAL ASSERTION FAILED: "+n;throw P0(e),new Error(e)}function Yc(n,e){n||zc(e)}function q1(){return typeof self<"u"&&self.location?.href||""}function zR(){return mj()==="http:"||mj()==="https:"}function mj(){return typeof self<"u"&&self.location?.protocol||null}function BR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zR()||vk()||"connection"in navigator)?navigator.onLine:!0}function qR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Jg{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yc(t>e,"Short delay should be less than long delay!"),this.isMobile=yk()||wk()}get(){return BR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ev(n,e){Yc(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class O3{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const HR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$R=new Jg(3e4,6e4);function Zc(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ed(n,e,t,s,a={}){return F3(n,a,async()=>{let o={},c={};s&&(e==="GET"?c=s:o={body:JSON.stringify(s)});const d=Qg({key:n.config.apiKey,...c}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:h,...o};return bk()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&uu(n.emulatorConfig.host)&&(f.credentials="include"),O3.fetch()(await U3(n,n.config.apiHost,t,d),f)})}async function F3(n,e,t){n._canInitEmulator=!1;const s={...GR,...e};try{const a=new KR(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw h0(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[h,f]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw h0(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw h0(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw h0(n,"user-disabled",c);const g=s[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw M3(n,g,f);pl(n,g)}}catch(a){if(a instanceof ac)throw a;pl(n,"network-request-failed",{message:String(a)})}}async function Zg(n,e,t,s,a={}){const o=await ed(n,e,t,s,a);return"mfaPendingCredential"in o&&pl(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function U3(n,e,t,s){const a=`${e}${t}?${s}`,o=n,c=o.config.emulator?ev(n.config,a):`${n.config.apiScheme}://${a}`;return HR.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function WR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Jl(this.auth,"network-request-failed")),$R.get())})}}function h0(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Jl(n,e,s);return a.customData._tokenResponse=t,a}function gj(n){return n!==void 0&&n.enterprise!==void 0}class YR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return WR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XR(n,e){return ed(n,"GET","/v2/recaptchaConfig",Zc(n,e))}async function QR(n,e){return ed(n,"POST","/v1/accounts:delete",e)}async function ax(n,e){return ed(n,"POST","/v1/accounts:lookup",e)}function ug(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JR(n,e=!1){const t=Dr(n),s=await t.getIdToken(e),a=tv(s);Zt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:s,authTime:ug(Yb(a.auth_time)),issuedAtTime:ug(Yb(a.iat)),expirationTime:ug(Yb(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Yb(n){return Number(n)*1e3}function tv(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return P0("JWT malformed, contained fewer than 3 sections"),null;try{const a=y3(t);return a?JSON.parse(a):(P0("Failed to decode base64 JWT payload"),null)}catch(a){return P0("Caught error parsing JWT payload as JSON",a?.toString()),null}}function pj(n){const e=tv(n);return Zt(e,"internal-error"),Zt(typeof e.exp<"u","internal-error"),Zt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ig(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ac&&ZR(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function ZR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class eP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class G1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ug(this.lastLoginAt),this.creationTime=ug(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ix(n){const e=n.auth,t=await n.getIdToken(),s=await Ig(n,ax(e,{idToken:t}));Zt(s?.users.length,e,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?V3(a.providerUserInfo):[],c=nP(n.providerData,o),d=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!c?.length,f=d?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new G1(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function tP(n){const e=Dr(n);await ix(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nP(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function V3(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function rP(n,e){const t=await F3(n,{},async()=>{const s=Qg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await U3(n,a,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:s};return n.emulatorConfig&&uu(n.emulatorConfig.host)&&(h.credentials="include"),O3.fetch()(c,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function sP(n,e){return ed(n,"POST","/v2/accounts:revokeToken",Zc(n,e))}class _f{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Zt(e.idToken,"internal-error"),Zt(typeof e.idToken<"u","internal-error"),Zt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Zt(e.length!==0,"internal-error");const t=pj(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Zt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:o}=await rP(e,t);this.updateTokensAndExpiration(s,a,Number(o))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:o}=t,c=new _f;return s&&(Zt(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Zt(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Zt(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _f,this.toJSON())}_performRefresh(){return zc("not implemented")}}function Pd(n,e){Zt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ml{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new eP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new G1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ig(this,this.stsTokenManager.getToken(this.auth,e));return Zt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return JR(this,e)}reload(){return tP(this)}_assign(e){this!==e&&(Zt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ml({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await ix(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zi(this.auth.app))return Promise.reject(Hc(this.auth));const e=await this.getIdToken();return await Ig(this,QR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,h=t._redirectEventId??void 0,f=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:b,providerData:T,stsTokenManager:E}=t;Zt(p&&E,e,"internal-error");const j=_f.fromJSON(this.name,E);Zt(typeof p=="string",e,"internal-error"),Pd(s,e.name),Pd(a,e.name),Zt(typeof v=="boolean",e,"internal-error"),Zt(typeof b=="boolean",e,"internal-error"),Pd(o,e.name),Pd(c,e.name),Pd(d,e.name),Pd(h,e.name),Pd(f,e.name),Pd(g,e.name);const S=new ml({uid:p,auth:e,email:a,emailVerified:v,displayName:s,isAnonymous:b,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:j,createdAt:f,lastLoginAt:g});return T&&Array.isArray(T)&&(S.providerData=T.map(L=>({...L}))),h&&(S._redirectEventId=h),S}static async _fromIdTokenResponse(e,t,s=!1){const a=new _f;a.updateFromServerResponse(t);const o=new ml({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await ix(o),o}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Zt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?V3(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,d=new _f;d.updateFromIdToken(s);const h=new ml({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new G1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(h,f),h}}const xj=new Map;function Bc(n){Yc(n instanceof Function,"Expected a class definition");let e=xj.get(n);return e?(Yc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xj.set(n,e),e)}class z3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}z3.type="NONE";const yj=z3;function L0(n,e,t){return`firebase:${n}:${e}:${t}`}class Sf{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:o}=this.auth;this.fullUserKey=L0(this.userKey,a.apiKey,o),this.fullPersistenceKey=L0("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ax(this.auth,{idToken:e}).catch(()=>{});return t?ml._fromGetAccountInfoResponse(this.auth,t,e):null}return ml._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Sf(Bc(yj),e,s);const a=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=a[0]||Bc(yj);const c=L0(s,e.config.apiKey,e.name);let d=null;for(const f of t)try{const g=await f._get(c);if(g){let p;if(typeof g=="string"){const v=await ax(e,{idToken:g}).catch(()=>{});if(!v)break;p=await ml._fromGetAccountInfoResponse(e,v,g)}else p=ml._fromJSON(e,g);f!==o&&(d=p),o=f;break}}catch{}const h=a.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Sf(o,e,s):(o=h[0],d&&await o._set(c,d.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(c)}catch{}})),new Sf(o,e,s))}}function bj(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(W3(e))return"Blackberry";if(K3(e))return"Webos";if(q3(e))return"Safari";if((e.includes("chrome/")||G3(e))&&!e.includes("edge/"))return"Chrome";if($3(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function B3(n=sa()){return/firefox\//i.test(n)}function q3(n=sa()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G3(n=sa()){return/crios\//i.test(n)}function H3(n=sa()){return/iemobile/i.test(n)}function $3(n=sa()){return/android/i.test(n)}function W3(n=sa()){return/blackberry/i.test(n)}function K3(n=sa()){return/webos/i.test(n)}function nv(n=sa()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function aP(n=sa()){return nv(n)&&!!window.navigator?.standalone}function iP(){return Nk()&&document.documentMode===10}function Y3(n=sa()){return nv(n)||$3(n)||K3(n)||W3(n)||/windows phone/i.test(n)||H3(n)}function X3(n,e=[]){let t;switch(n){case"Browser":t=bj(sa());break;case"Worker":t=`${bj(sa())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fh}/${s}`}class oP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=o=>new Promise((c,d)=>{try{const h=e(o);c(h)}catch(h){d(h)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function lP(n,e={}){return ed(n,"GET","/v2/passwordPolicy",Zc(n,e))}const cP=6;class dP{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??cP,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class uP{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vj(this),this.idTokenSubscription=new vj(this),this.beforeStateQueue=new oP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Bc(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Sf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ax(this,{idToken:e}),s=await ml._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Zt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ix(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zi(this.app))return Promise.reject(Hc(this));const t=e?Dr(e):null;return t&&Zt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Zt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zi(this.app)?Promise.reject(Hc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zi(this.app)?Promise.reject(Hc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lP(this),t=new dP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xg("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await sP(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Bc(e)||this._popupRedirectResolver;Zt(t,this,"argument-error"),this.redirectPersistenceManager=await Sf.create(this,[Bc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Zt(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,s,a);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=X3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(zi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&VR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function hu(n){return Dr(n)}class vj{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tk(t=>this.observer=t)}get next(){return Zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hP(n){Gx=n}function Q3(n){return Gx.loadJS(n)}function fP(){return Gx.recaptchaEnterpriseScript}function mP(){return Gx.gapiScript}function gP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class pP{constructor(){this.enterprise=new xP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class xP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const yP="recaptcha-enterprise",J3="NO_RECAPTCHA";class bP{constructor(e){this.type=yP,this.auth=hu(e)}async verify(e="verify",t=!1){async function s(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{XR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const f=new YR(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,c(f.siteKey)}}).catch(h=>{d(h)})})}function a(o,c,d){const h=window.grecaptcha;gj(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c(J3)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pP().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{s(this.auth).then(d=>{if(!t&&gj(window.grecaptcha))a(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=fP();h.length!==0&&(h+=d),Q3(h).then(()=>{a(d,o,c)}).catch(f=>{c(f)})}}).catch(d=>{c(d)})})}}async function wj(n,e,t,s=!1,a=!1){const o=new bP(n);let c;if(a)c=J3;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,f=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ox(n,e,t,s,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await wj(n,e,t,t==="getOobCode");return s(n,o)}else return s(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await wj(n,e,t,t==="getOobCode");return s(n,c)}else return Promise.reject(o)})}function vP(n,e){const t=qx(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Qu(o,e??{}))return a;pl(a,"already-initialized")}return t.initialize({options:e})}function wP(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Bc);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function NP(n,e,t){const s=hu(n);Zt(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,o=Z3(e),{host:c,port:d}=jP(e),h=d===null?"":`:${d}`,f={url:`${o}//${c}${h}/`},g=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Zt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Zt(Qu(f,s.config.emulator)&&Qu(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=f,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,uu(c)?(K2(`${o}//${c}${h}`),Y2("Auth",!0)):_P()}function Z3(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jP(n){const e=Z3(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const o=a[1];return{host:o,port:Nj(s.substr(o.length+1))}}else{const[o,c]=s.split(":");return{host:o,port:Nj(c)}}}function Nj(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function _P(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class rv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zc("not implemented")}_getIdTokenResponse(e){return zc("not implemented")}_linkToIdToken(e,t){return zc("not implemented")}_getReauthenticationResolver(e){return zc("not implemented")}}async function SP(n,e){return ed(n,"POST","/v1/accounts:signUp",e)}async function EP(n,e){return Zg(n,"POST","/v1/accounts:signInWithPassword",Zc(n,e))}async function AP(n,e){return ed(n,"POST","/v1/accounts:sendOobCode",Zc(n,e))}async function TP(n,e){return AP(n,e)}async function CP(n,e){return Zg(n,"POST","/v1/accounts:signInWithEmailLink",Zc(n,e))}async function IP(n,e){return Zg(n,"POST","/v1/accounts:signInWithEmailLink",Zc(n,e))}class kg extends rv{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new kg(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new kg(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ox(e,t,"signInWithPassword",EP);case"emailLink":return CP(e,{email:this._email,oobCode:this._password});default:pl(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ox(e,s,"signUpPassword",SP);case"emailLink":return IP(e,{idToken:t,email:this._email,oobCode:this._password});default:pl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ef(n,e){return Zg(n,"POST","/v1/accounts:signInWithIdp",Zc(n,e))}const kP="http://localhost";class Ju extends rv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ju(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...o}=t;if(!s||!a)return null;const c=new Ju(s,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ef(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ef(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ef(e,t)}buildRequest(){const e={requestUri:kP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qg(t)}return e}}function RP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PP(n){const e=rg(sg(n)).link,t=e?rg(sg(e)).deep_link_id:null,s=rg(sg(n)).deep_link_id;return(s?rg(sg(s)).link:null)||s||t||e||n}class sv{constructor(e){const t=rg(sg(e)),s=t.apiKey??null,a=t.oobCode??null,o=RP(t.mode??null);Zt(s&&a&&o,"argument-error"),this.apiKey=s,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=PP(e);try{return new sv(t)}catch{return null}}}class rm{constructor(){this.providerId=rm.PROVIDER_ID}static credential(e,t){return kg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=sv.parseLink(t);return Zt(s,"argument-error"),kg._fromEmailAndCode(e,s.code,s.tenantId)}}rm.PROVIDER_ID="password";rm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class eS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ep extends eS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ud extends ep{constructor(){super("facebook.com")}static credential(e){return Ju._fromParams({providerId:Ud.PROVIDER_ID,signInMethod:Ud.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ud.credentialFromTaggedObject(e)}static credentialFromError(e){return Ud.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ud.credential(e.oauthAccessToken)}catch{return null}}}Ud.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ud.PROVIDER_ID="facebook.com";class Vd extends ep{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ju._fromParams({providerId:Vd.PROVIDER_ID,signInMethod:Vd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Vd.credentialFromTaggedObject(e)}static credentialFromError(e){return Vd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Vd.credential(t,s)}catch{return null}}}Vd.GOOGLE_SIGN_IN_METHOD="google.com";Vd.PROVIDER_ID="google.com";class zd extends ep{constructor(){super("github.com")}static credential(e){return Ju._fromParams({providerId:zd.PROVIDER_ID,signInMethod:zd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zd.credentialFromTaggedObject(e)}static credentialFromError(e){return zd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zd.credential(e.oauthAccessToken)}catch{return null}}}zd.GITHUB_SIGN_IN_METHOD="github.com";zd.PROVIDER_ID="github.com";class Bd extends ep{constructor(){super("twitter.com")}static credential(e,t){return Ju._fromParams({providerId:Bd.PROVIDER_ID,signInMethod:Bd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bd.credentialFromTaggedObject(e)}static credentialFromError(e){return Bd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Bd.credential(t,s)}catch{return null}}}Bd.TWITTER_SIGN_IN_METHOD="twitter.com";Bd.PROVIDER_ID="twitter.com";async function LP(n,e){return Zg(n,"POST","/v1/accounts:signUp",Zc(n,e))}class Zu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const o=await ml._fromIdTokenResponse(e,s,a),c=jj(s);return new Zu({user:o,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=jj(s);return new Zu({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function jj(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class lx extends ac{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,lx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new lx(e,t,s,a)}}function tS(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?lx._fromErrorAndOperation(n,o,e,s):o})}async function DP(n,e,t=!1){const s=await Ig(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zu._forOperation(n,"link",s)}async function MP(n,e,t=!1){const{auth:s}=n;if(zi(s.app))return Promise.reject(Hc(s));const a="reauthenticate";try{const o=await Ig(n,tS(s,a,e,n),t);Zt(o.idToken,s,"internal-error");const c=tv(o.idToken);Zt(c,s,"internal-error");const{sub:d}=c;return Zt(n.uid===d,s,"user-mismatch"),Zu._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&pl(s,"user-mismatch"),o}}async function nS(n,e,t=!1){if(zi(n.app))return Promise.reject(Hc(n));const s="signIn",a=await tS(n,s,e),o=await Zu._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(o.user),o}async function OP(n,e){return nS(hu(n),e)}async function rS(n){const e=hu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sS(n,e,t){const s=hu(n);await ox(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",TP)}async function FP(n,e,t){if(zi(n.app))return Promise.reject(Hc(n));const s=hu(n),c=await ox(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LP).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&rS(n),h}),d=await Zu._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function UP(n,e,t){return zi(n.app)?Promise.reject(Hc(n)):OP(Dr(n),rm.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&rS(n),s})}function VP(n,e,t,s){return Dr(n).onIdTokenChanged(e,t,s)}function zP(n,e,t){return Dr(n).beforeAuthStateChanged(e,t)}const cx="__sak";class aS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cx,"1"),this.storage.removeItem(cx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const BP=1e3,qP=10;class iS extends aS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},o=this.storage.getItem(s);iP()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,qP):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},BP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iS.type="LOCAL";const GP=iS;class oS extends aS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}oS.type="SESSION";const lS=oS;function HP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Hx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new Hx(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async f=>f(t.origin,o)),h=await HP(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hx.receivers=[];function av(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class $P{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((d,h)=>{const f=av("",20);a.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(v.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Zl(){return window}function WP(n){Zl().location.href=n}function cS(){return typeof Zl().WorkerGlobalScope<"u"&&typeof Zl().importScripts=="function"}async function KP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YP(){return navigator?.serviceWorker?.controller||null}function XP(){return cS()?self:null}const dS="firebaseLocalStorageDb",QP=1,dx="firebaseLocalStorage",uS="fbase_key";class tp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $x(n,e){return n.transaction([dx],e?"readwrite":"readonly").objectStore(dx)}function JP(){const n=indexedDB.deleteDatabase(dS);return new tp(n).toPromise()}function H1(){const n=indexedDB.open(dS,QP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(dx,{keyPath:uS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(dx)?e(s):(s.close(),await JP(),e(await H1()))})})}async function _j(n,e,t){const s=$x(n,!0).put({[uS]:e,value:t});return new tp(s).toPromise()}async function ZP(n,e){const t=$x(n,!1).get(e),s=await new tp(t).toPromise();return s===void 0?null:s.value}function Sj(n,e){const t=$x(n,!0).delete(e);return new tp(t).toPromise()}const eL=800,tL=3;class hS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await H1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>tL)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hx._getInstance(XP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await KP(),!this.activeServiceWorker)return;this.sender=new $P(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await H1();return await _j(e,cx,"1"),await Sj(e,cx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>_j(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>ZP(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Sj(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=$x(a,!1).getAll();return new tp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hS.type="LOCAL";const nL=hS;new Jg(3e4,6e4);function rL(n,e){return e?Bc(e):(Zt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class iv extends rv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ef(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ef(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ef(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sL(n){return nS(n.auth,new iv(n),n.bypassAuthState)}function aL(n){const{auth:e,user:t}=n;return Zt(t,e,"internal-error"),MP(t,new iv(n),n.bypassAuthState)}async function iL(n){const{auth:e,user:t}=n;return Zt(t,e,"internal-error"),DP(t,new iv(n),n.bypassAuthState)}class fS{constructor(e,t,s,a,o=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:s,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sL;case"linkViaPopup":case"linkViaRedirect":return iL;case"reauthViaPopup":case"reauthViaRedirect":return aL;default:pl(this.auth,"internal-error")}}resolve(e){Yc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oL=new Jg(2e3,1e4);class wf extends fS{constructor(e,t,s,a,o){super(e,t,a,o),this.provider=s,this.authWindow=null,this.pollId=null,wf.currentPopupAction&&wf.currentPopupAction.cancel(),wf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Zt(e,this.auth,"internal-error"),e}async onExecution(){Yc(this.filter.length===1,"Popup operations only handle one event");const e=av();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Jl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wf.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oL.get())};e()}}wf.currentPopupAction=null;const lL="pendingRedirect",D0=new Map;class cL extends fS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=D0.get(this.auth._key());if(!e){try{const s=await dL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}D0.set(this.auth._key(),e)}return this.bypassAuthState||D0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dL(n,e){const t=fL(e),s=hL(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function uL(n,e){D0.set(n._key(),e)}function hL(n){return Bc(n._redirectPersistence)}function fL(n){return L0(lL,n.config.apiKey,n.name)}async function mL(n,e,t=!1){if(zi(n.app))return Promise.reject(Hc(n));const s=hu(n),a=rL(s,e),c=await new cL(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const gL=600*1e3;class pL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!mS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Jl(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ej(e))}saveEventToCache(e){this.cachedEventUids.add(Ej(e)),this.lastProcessedEventTime=Date.now()}}function Ej(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function mS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function xL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mS(n);default:return!1}}async function yL(n,e={}){return ed(n,"GET","/v1/projects",e)}const bL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vL=/^https?/;async function wL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await yL(n);for(const t of e)try{if(NL(t))return}catch{}pl(n,"unauthorized-domain")}function NL(n){const e=q1(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!vL.test(t))return!1;if(bL.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const jL=new Jg(3e4,6e4);function Aj(){const n=Zl().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function _L(n){return new Promise((e,t)=>{function s(){Aj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Aj(),t(Jl(n,"network-request-failed"))},timeout:jL.get()})}if(Zl().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zl().gapi?.load)s();else{const a=gP("iframefcb");return Zl()[a]=()=>{gapi.load?s():t(Jl(n,"network-request-failed"))},Q3(`${mP()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw M0=null,e})}let M0=null;function SL(n){return M0=M0||_L(n),M0}const EL=new Jg(5e3,15e3),AL="__/auth/iframe",TL="emulator/auth/iframe",CL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kL(n){const e=n.config;Zt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ev(e,TL):`https://${n.config.authDomain}/${AL}`,s={apiKey:e.apiKey,appName:n.name,v:fh},a=IL.get(n.config.apiHost);a&&(s.eid=a);const o=n._getFrameworks();return o.length&&(s.fw=o.join(",")),`${t}?${Qg(s).slice(1)}`}async function RL(n){const e=await SL(n),t=Zl().gapi;return Zt(t,n,"internal-error"),e.open({where:document.body,url:kL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CL,dontclear:!0},s=>new Promise(async(a,o)=>{await s.restyle({setHideOnLeave:!1});const c=Jl(n,"network-request-failed"),d=Zl().setTimeout(()=>{o(c)},EL.get());function h(){Zl().clearTimeout(d),a(s)}s.ping(h).then(h,()=>{o(c)})}))}const PL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LL=500,DL=600,ML="_blank",OL="http://localhost";class Tj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FL(n,e,t,s=LL,a=DL){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const h={...PL,width:s.toString(),height:a.toString(),top:o,left:c},f=sa().toLowerCase();t&&(d=G3(f)?ML:t),B3(f)&&(e=e||OL,h.scrollbars="yes");const g=Object.entries(h).reduce((v,[b,T])=>`${v}${b}=${T},`,"");if(aP(f)&&d!=="_self")return UL(e||"",d),new Tj(null);const p=window.open(e||"",d,g);Zt(p,n,"popup-blocked");try{p.focus()}catch{}return new Tj(p)}function UL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const VL="__/auth/handler",zL="emulator/auth/handler",BL=encodeURIComponent("fac");async function Cj(n,e,t,s,a,o){Zt(n.config.authDomain,n,"auth-domain-config-required"),Zt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:fh,eventId:a};if(e instanceof eS){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",Ak(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,p]of Object.entries({}))c[g]=p}if(e instanceof ep){const g=e.getScopes().filter(p=>p!=="");g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await n._getAppCheckToken(),f=h?`#${BL}=${encodeURIComponent(h)}`:"";return`${qL(n)}?${Qg(d).slice(1)}${f}`}function qL({config:n}){return n.emulator?ev(n,zL):`https://${n.authDomain}/${VL}`}const Xb="webStorageSupport";class GL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lS,this._completeRedirectFn=mL,this._overrideRedirectResult=uL}async _openPopup(e,t,s,a){Yc(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Cj(e,t,s,q1(),a);return FL(e,o,av())}async _openRedirect(e,t,s,a){await this._originValidation(e);const o=await Cj(e,t,s,q1(),a);return WP(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Yc(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await RL(e),s=new pL(e);return t.register("authEvent",a=>(Zt(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xb,{type:Xb},a=>{const o=a?.[0]?.[Xb];o!==void 0&&t(!!o),pl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Y3()||q3()||nv()}}const HL=GL;var Ij="@firebase/auth",kj="1.11.1";class $L{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function WL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KL(n){nu(new Wc("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Zt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const h={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X3(n)},f=new uP(s,a,o,h);return wP(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),nu(new Wc("auth-internal",e=>{const t=hu(e.getProvider("auth").getImmediate());return(s=>new $L(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oo(Ij,kj,WL(n)),Oo(Ij,kj,"esm2020")}const YL=300,XL=j3("authIdTokenMaxAge")||YL;let Rj=null;const QL=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>XL)return;const a=t?.token;Rj!==a&&(Rj=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function JL(n=J2()){const e=qx(n,"auth");if(e.isInitialized())return e.getImmediate();const t=vP(n,{popupRedirectResolver:HL,persistence:[nL,GP,lS]}),s=j3("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const c=QL(o.toString());zP(t,c,()=>c(t.currentUser)),VP(t,d=>c(d))}}const a=v3("auth");return a&&NP(t,`http://${a}`),t}function ZL(){return document.getElementsByTagName("head")?.[0]??document}hP({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const o=Jl("internal-error");o.customData=a,t(o)},s.type="text/javascript",s.charset="UTF-8",ZL().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KL("Browser");var Pj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qd,gS;(function(){var n;function e(G,D){function I(){}I.prototype=D.prototype,G.F=D.prototype,G.prototype=new I,G.prototype.constructor=G,G.D=function(F,k,P){for(var V=Array(arguments.length-2),le=2;le<arguments.length;le++)V[le-2]=arguments[le];return D.prototype[k].apply(F,V)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(G,D,I){I||(I=0);const F=Array(16);if(typeof D=="string")for(var k=0;k<16;++k)F[k]=D.charCodeAt(I++)|D.charCodeAt(I++)<<8|D.charCodeAt(I++)<<16|D.charCodeAt(I++)<<24;else for(k=0;k<16;++k)F[k]=D[I++]|D[I++]<<8|D[I++]<<16|D[I++]<<24;D=G.g[0],I=G.g[1],k=G.g[2];let P=G.g[3],V;V=D+(P^I&(k^P))+F[0]+3614090360&4294967295,D=I+(V<<7&4294967295|V>>>25),V=P+(k^D&(I^k))+F[1]+3905402710&4294967295,P=D+(V<<12&4294967295|V>>>20),V=k+(I^P&(D^I))+F[2]+606105819&4294967295,k=P+(V<<17&4294967295|V>>>15),V=I+(D^k&(P^D))+F[3]+3250441966&4294967295,I=k+(V<<22&4294967295|V>>>10),V=D+(P^I&(k^P))+F[4]+4118548399&4294967295,D=I+(V<<7&4294967295|V>>>25),V=P+(k^D&(I^k))+F[5]+1200080426&4294967295,P=D+(V<<12&4294967295|V>>>20),V=k+(I^P&(D^I))+F[6]+2821735955&4294967295,k=P+(V<<17&4294967295|V>>>15),V=I+(D^k&(P^D))+F[7]+4249261313&4294967295,I=k+(V<<22&4294967295|V>>>10),V=D+(P^I&(k^P))+F[8]+1770035416&4294967295,D=I+(V<<7&4294967295|V>>>25),V=P+(k^D&(I^k))+F[9]+2336552879&4294967295,P=D+(V<<12&4294967295|V>>>20),V=k+(I^P&(D^I))+F[10]+4294925233&4294967295,k=P+(V<<17&4294967295|V>>>15),V=I+(D^k&(P^D))+F[11]+2304563134&4294967295,I=k+(V<<22&4294967295|V>>>10),V=D+(P^I&(k^P))+F[12]+1804603682&4294967295,D=I+(V<<7&4294967295|V>>>25),V=P+(k^D&(I^k))+F[13]+4254626195&4294967295,P=D+(V<<12&4294967295|V>>>20),V=k+(I^P&(D^I))+F[14]+2792965006&4294967295,k=P+(V<<17&4294967295|V>>>15),V=I+(D^k&(P^D))+F[15]+1236535329&4294967295,I=k+(V<<22&4294967295|V>>>10),V=D+(k^P&(I^k))+F[1]+4129170786&4294967295,D=I+(V<<5&4294967295|V>>>27),V=P+(I^k&(D^I))+F[6]+3225465664&4294967295,P=D+(V<<9&4294967295|V>>>23),V=k+(D^I&(P^D))+F[11]+643717713&4294967295,k=P+(V<<14&4294967295|V>>>18),V=I+(P^D&(k^P))+F[0]+3921069994&4294967295,I=k+(V<<20&4294967295|V>>>12),V=D+(k^P&(I^k))+F[5]+3593408605&4294967295,D=I+(V<<5&4294967295|V>>>27),V=P+(I^k&(D^I))+F[10]+38016083&4294967295,P=D+(V<<9&4294967295|V>>>23),V=k+(D^I&(P^D))+F[15]+3634488961&4294967295,k=P+(V<<14&4294967295|V>>>18),V=I+(P^D&(k^P))+F[4]+3889429448&4294967295,I=k+(V<<20&4294967295|V>>>12),V=D+(k^P&(I^k))+F[9]+568446438&4294967295,D=I+(V<<5&4294967295|V>>>27),V=P+(I^k&(D^I))+F[14]+3275163606&4294967295,P=D+(V<<9&4294967295|V>>>23),V=k+(D^I&(P^D))+F[3]+4107603335&4294967295,k=P+(V<<14&4294967295|V>>>18),V=I+(P^D&(k^P))+F[8]+1163531501&4294967295,I=k+(V<<20&4294967295|V>>>12),V=D+(k^P&(I^k))+F[13]+2850285829&4294967295,D=I+(V<<5&4294967295|V>>>27),V=P+(I^k&(D^I))+F[2]+4243563512&4294967295,P=D+(V<<9&4294967295|V>>>23),V=k+(D^I&(P^D))+F[7]+1735328473&4294967295,k=P+(V<<14&4294967295|V>>>18),V=I+(P^D&(k^P))+F[12]+2368359562&4294967295,I=k+(V<<20&4294967295|V>>>12),V=D+(I^k^P)+F[5]+4294588738&4294967295,D=I+(V<<4&4294967295|V>>>28),V=P+(D^I^k)+F[8]+2272392833&4294967295,P=D+(V<<11&4294967295|V>>>21),V=k+(P^D^I)+F[11]+1839030562&4294967295,k=P+(V<<16&4294967295|V>>>16),V=I+(k^P^D)+F[14]+4259657740&4294967295,I=k+(V<<23&4294967295|V>>>9),V=D+(I^k^P)+F[1]+2763975236&4294967295,D=I+(V<<4&4294967295|V>>>28),V=P+(D^I^k)+F[4]+1272893353&4294967295,P=D+(V<<11&4294967295|V>>>21),V=k+(P^D^I)+F[7]+4139469664&4294967295,k=P+(V<<16&4294967295|V>>>16),V=I+(k^P^D)+F[10]+3200236656&4294967295,I=k+(V<<23&4294967295|V>>>9),V=D+(I^k^P)+F[13]+681279174&4294967295,D=I+(V<<4&4294967295|V>>>28),V=P+(D^I^k)+F[0]+3936430074&4294967295,P=D+(V<<11&4294967295|V>>>21),V=k+(P^D^I)+F[3]+3572445317&4294967295,k=P+(V<<16&4294967295|V>>>16),V=I+(k^P^D)+F[6]+76029189&4294967295,I=k+(V<<23&4294967295|V>>>9),V=D+(I^k^P)+F[9]+3654602809&4294967295,D=I+(V<<4&4294967295|V>>>28),V=P+(D^I^k)+F[12]+3873151461&4294967295,P=D+(V<<11&4294967295|V>>>21),V=k+(P^D^I)+F[15]+530742520&4294967295,k=P+(V<<16&4294967295|V>>>16),V=I+(k^P^D)+F[2]+3299628645&4294967295,I=k+(V<<23&4294967295|V>>>9),V=D+(k^(I|~P))+F[0]+4096336452&4294967295,D=I+(V<<6&4294967295|V>>>26),V=P+(I^(D|~k))+F[7]+1126891415&4294967295,P=D+(V<<10&4294967295|V>>>22),V=k+(D^(P|~I))+F[14]+2878612391&4294967295,k=P+(V<<15&4294967295|V>>>17),V=I+(P^(k|~D))+F[5]+4237533241&4294967295,I=k+(V<<21&4294967295|V>>>11),V=D+(k^(I|~P))+F[12]+1700485571&4294967295,D=I+(V<<6&4294967295|V>>>26),V=P+(I^(D|~k))+F[3]+2399980690&4294967295,P=D+(V<<10&4294967295|V>>>22),V=k+(D^(P|~I))+F[10]+4293915773&4294967295,k=P+(V<<15&4294967295|V>>>17),V=I+(P^(k|~D))+F[1]+2240044497&4294967295,I=k+(V<<21&4294967295|V>>>11),V=D+(k^(I|~P))+F[8]+1873313359&4294967295,D=I+(V<<6&4294967295|V>>>26),V=P+(I^(D|~k))+F[15]+4264355552&4294967295,P=D+(V<<10&4294967295|V>>>22),V=k+(D^(P|~I))+F[6]+2734768916&4294967295,k=P+(V<<15&4294967295|V>>>17),V=I+(P^(k|~D))+F[13]+1309151649&4294967295,I=k+(V<<21&4294967295|V>>>11),V=D+(k^(I|~P))+F[4]+4149444226&4294967295,D=I+(V<<6&4294967295|V>>>26),V=P+(I^(D|~k))+F[11]+3174756917&4294967295,P=D+(V<<10&4294967295|V>>>22),V=k+(D^(P|~I))+F[2]+718787259&4294967295,k=P+(V<<15&4294967295|V>>>17),V=I+(P^(k|~D))+F[9]+3951481745&4294967295,G.g[0]=G.g[0]+D&4294967295,G.g[1]=G.g[1]+(k+(V<<21&4294967295|V>>>11))&4294967295,G.g[2]=G.g[2]+k&4294967295,G.g[3]=G.g[3]+P&4294967295}s.prototype.v=function(G,D){D===void 0&&(D=G.length);const I=D-this.blockSize,F=this.C;let k=this.h,P=0;for(;P<D;){if(k==0)for(;P<=I;)a(this,G,P),P+=this.blockSize;if(typeof G=="string"){for(;P<D;)if(F[k++]=G.charCodeAt(P++),k==this.blockSize){a(this,F),k=0;break}}else for(;P<D;)if(F[k++]=G[P++],k==this.blockSize){a(this,F),k=0;break}}this.h=k,this.o+=D},s.prototype.A=function(){var G=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);G[0]=128;for(var D=1;D<G.length-8;++D)G[D]=0;D=this.o*8;for(var I=G.length-8;I<G.length;++I)G[I]=D&255,D/=256;for(this.v(G),G=Array(16),D=0,I=0;I<4;++I)for(let F=0;F<32;F+=8)G[D++]=this.g[I]>>>F&255;return G};function o(G,D){var I=d;return Object.prototype.hasOwnProperty.call(I,G)?I[G]:I[G]=D(G)}function c(G,D){this.h=D;const I=[];let F=!0;for(let k=G.length-1;k>=0;k--){const P=G[k]|0;F&&P==D||(I[k]=P,F=!1)}this.g=I}var d={};function h(G){return-128<=G&&G<128?o(G,function(D){return new c([D|0],D<0?-1:0)}):new c([G|0],G<0?-1:0)}function f(G){if(isNaN(G)||!isFinite(G))return p;if(G<0)return j(f(-G));const D=[];let I=1;for(let F=0;G>=I;F++)D[F]=G/I|0,I*=4294967296;return new c(D,0)}function g(G,D){if(G.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(G.charAt(0)=="-")return j(g(G.substring(1),D));if(G.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=f(Math.pow(D,8));let F=p;for(let P=0;P<G.length;P+=8){var k=Math.min(8,G.length-P);const V=parseInt(G.substring(P,P+k),D);k<8?(k=f(Math.pow(D,k)),F=F.j(k).add(f(V))):(F=F.j(I),F=F.add(f(V)))}return F}var p=h(0),v=h(1),b=h(16777216);n=c.prototype,n.m=function(){if(E(this))return-j(this).m();let G=0,D=1;for(let I=0;I<this.g.length;I++){const F=this.i(I);G+=(F>=0?F:4294967296+F)*D,D*=4294967296}return G},n.toString=function(G){if(G=G||10,G<2||36<G)throw Error("radix out of range: "+G);if(T(this))return"0";if(E(this))return"-"+j(this).toString(G);const D=f(Math.pow(G,6));var I=this;let F="";for(;;){const k=z(I,D).g;I=S(I,k.j(D));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(G);if(I=k,T(I))return P+F;for(;P.length<6;)P="0"+P;F=P+F}},n.i=function(G){return G<0?0:G<this.g.length?this.g[G]:this.h};function T(G){if(G.h!=0)return!1;for(let D=0;D<G.g.length;D++)if(G.g[D]!=0)return!1;return!0}function E(G){return G.h==-1}n.l=function(G){return G=S(this,G),E(G)?-1:T(G)?0:1};function j(G){const D=G.g.length,I=[];for(let F=0;F<D;F++)I[F]=~G.g[F];return new c(I,~G.h).add(v)}n.abs=function(){return E(this)?j(this):this},n.add=function(G){const D=Math.max(this.g.length,G.g.length),I=[];let F=0;for(let k=0;k<=D;k++){let P=F+(this.i(k)&65535)+(G.i(k)&65535),V=(P>>>16)+(this.i(k)>>>16)+(G.i(k)>>>16);F=V>>>16,P&=65535,V&=65535,I[k]=V<<16|P}return new c(I,I[I.length-1]&-2147483648?-1:0)};function S(G,D){return G.add(j(D))}n.j=function(G){if(T(this)||T(G))return p;if(E(this))return E(G)?j(this).j(j(G)):j(j(this).j(G));if(E(G))return j(this.j(j(G)));if(this.l(b)<0&&G.l(b)<0)return f(this.m()*G.m());const D=this.g.length+G.g.length,I=[];for(var F=0;F<2*D;F++)I[F]=0;for(F=0;F<this.g.length;F++)for(let k=0;k<G.g.length;k++){const P=this.i(F)>>>16,V=this.i(F)&65535,le=G.i(k)>>>16,Ne=G.i(k)&65535;I[2*F+2*k]+=V*Ne,L(I,2*F+2*k),I[2*F+2*k+1]+=P*Ne,L(I,2*F+2*k+1),I[2*F+2*k+1]+=V*le,L(I,2*F+2*k+1),I[2*F+2*k+2]+=P*le,L(I,2*F+2*k+2)}for(G=0;G<D;G++)I[G]=I[2*G+1]<<16|I[2*G];for(G=D;G<2*D;G++)I[G]=0;return new c(I,0)};function L(G,D){for(;(G[D]&65535)!=G[D];)G[D+1]+=G[D]>>>16,G[D]&=65535,D++}function M(G,D){this.g=G,this.h=D}function z(G,D){if(T(D))throw Error("division by zero");if(T(G))return new M(p,p);if(E(G))return D=z(j(G),D),new M(j(D.g),j(D.h));if(E(D))return D=z(G,j(D)),new M(j(D.g),D.h);if(G.g.length>30){if(E(G)||E(D))throw Error("slowDivide_ only works with positive integers.");for(var I=v,F=D;F.l(G)<=0;)I=se(I),F=se(F);var k=ae(I,1),P=ae(F,1);for(F=ae(F,2),I=ae(I,2);!T(F);){var V=P.add(F);V.l(G)<=0&&(k=k.add(I),P=V),F=ae(F,1),I=ae(I,1)}return D=S(G,k.j(D)),new M(k,D)}for(k=p;G.l(D)>=0;){for(I=Math.max(1,Math.floor(G.m()/D.m())),F=Math.ceil(Math.log(I)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),P=f(I),V=P.j(D);E(V)||V.l(G)>0;)I-=F,P=f(I),V=P.j(D);T(P)&&(P=v),k=k.add(P),G=S(G,V)}return new M(k,G)}n.B=function(G){return z(this,G).h},n.and=function(G){const D=Math.max(this.g.length,G.g.length),I=[];for(let F=0;F<D;F++)I[F]=this.i(F)&G.i(F);return new c(I,this.h&G.h)},n.or=function(G){const D=Math.max(this.g.length,G.g.length),I=[];for(let F=0;F<D;F++)I[F]=this.i(F)|G.i(F);return new c(I,this.h|G.h)},n.xor=function(G){const D=Math.max(this.g.length,G.g.length),I=[];for(let F=0;F<D;F++)I[F]=this.i(F)^G.i(F);return new c(I,this.h^G.h)};function se(G){const D=G.g.length+1,I=[];for(let F=0;F<D;F++)I[F]=G.i(F)<<1|G.i(F-1)>>>31;return new c(I,G.h)}function ae(G,D){const I=D>>5;D%=32;const F=G.g.length-I,k=[];for(let P=0;P<F;P++)k[P]=D>0?G.i(P+I)>>>D|G.i(P+I+1)<<32-D:G.i(P+I);return new c(k,G.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,gS=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=g,Qd=c}).apply(typeof Pj<"u"?Pj:typeof self<"u"?self:typeof window<"u"?window:{});var f0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pS,ag,xS,O0,$1,yS,bS,vS;(function(){var n,e=Object.defineProperty;function t(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof f0=="object"&&f0];for(var R=0;R<y.length;++R){var B=y[R];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var s=t(this);function a(y,R){if(R)e:{var B=s;y=y.split(".");for(var ee=0;ee<y.length-1;ee++){var Se=y[ee];if(!(Se in B))break e;B=B[Se]}y=y[y.length-1],ee=B[y],R=R(ee),R!=ee&&R!=null&&e(B,y,{configurable:!0,writable:!0,value:R})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(R){var B=[],ee;for(ee in R)Object.prototype.hasOwnProperty.call(R,ee)&&B.push([ee,R[ee]]);return B}});var o=o||{},c=this||self;function d(y){var R=typeof y;return R=="object"&&y!=null||R=="function"}function h(y,R,B){return y.call.apply(y.bind,arguments)}function f(y,R,B){return f=h,f.apply(null,arguments)}function g(y,R){var B=Array.prototype.slice.call(arguments,1);return function(){var ee=B.slice();return ee.push.apply(ee,arguments),y.apply(this,ee)}}function p(y,R){function B(){}B.prototype=R.prototype,y.Z=R.prototype,y.prototype=new B,y.prototype.constructor=y,y.Ob=function(ee,Se,Le){for(var nt=Array(arguments.length-2),en=2;en<arguments.length;en++)nt[en-2]=arguments[en];return R.prototype[Se].apply(ee,nt)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function b(y){const R=y.length;if(R>0){const B=Array(R);for(let ee=0;ee<R;ee++)B[ee]=y[ee];return B}return[]}function T(y,R){for(let ee=1;ee<arguments.length;ee++){const Se=arguments[ee];var B=typeof Se;if(B=B!="object"?B:Se?Array.isArray(Se)?"array":B:"null",B=="array"||B=="object"&&typeof Se.length=="number"){B=y.length||0;const Le=Se.length||0;y.length=B+Le;for(let nt=0;nt<Le;nt++)y[B+nt]=Se[nt]}else y.push(Se)}}class E{constructor(R,B){this.i=R,this.j=B,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function j(y){c.setTimeout(()=>{throw y},0)}function S(){var y=G;let R=null;return y.g&&(R=y.g,y.g=y.g.next,y.g||(y.h=null),R.next=null),R}class L{constructor(){this.h=this.g=null}add(R,B){const ee=M.get();ee.set(R,B),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var M=new E(()=>new z,y=>y.reset());class z{constructor(){this.next=this.g=this.h=null}set(R,B){this.h=R,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ae=!1,G=new L,D=()=>{const y=Promise.resolve(void 0);se=()=>{y.then(I)}};function I(){for(var y;y=S();){try{y.h.call(y.g)}catch(B){j(B)}var R=M;R.j(y),R.h<100&&(R.h++,y.next=R.g,R.g=y)}ae=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(y,R){this.type=y,this.g=this.target=R,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,R=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const B=()=>{};c.addEventListener("test",B,R),c.removeEventListener("test",B,R)}catch{}return y})();function V(y){return/^[\s\xa0]*$/.test(y)}function le(y,R){k.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,R)}p(le,k),le.prototype.init=function(y,R){const B=this.type=y.type,ee=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=R,R=y.relatedTarget,R||(B=="mouseover"?R=y.fromElement:B=="mouseout"&&(R=y.toElement)),this.relatedTarget=R,ee?(this.clientX=ee.clientX!==void 0?ee.clientX:ee.pageX,this.clientY=ee.clientY!==void 0?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),ie=0;function ge(y,R,B,ee,Se){this.listener=y,this.proxy=null,this.src=R,this.type=B,this.capture=!!ee,this.ha=Se,this.key=++ie,this.da=this.fa=!1}function ue(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function je(y,R,B){for(const ee in y)R.call(B,y[ee],ee,y)}function ze(y,R){for(const B in y)R.call(void 0,y[B],B,y)}function ne(y){const R={};for(const B in y)R[B]=y[B];return R}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(y,R){let B,ee;for(let Se=1;Se<arguments.length;Se++){ee=arguments[Se];for(B in ee)y[B]=ee[B];for(let Le=0;Le<q.length;Le++)B=q[Le],Object.prototype.hasOwnProperty.call(ee,B)&&(y[B]=ee[B])}}function re(y){this.src=y,this.g={},this.h=0}re.prototype.add=function(y,R,B,ee,Se){const Le=y.toString();y=this.g[Le],y||(y=this.g[Le]=[],this.h++);const nt=fe(y,R,ee,Se);return nt>-1?(R=y[nt],B||(R.fa=!1)):(R=new ge(R,this.src,Le,!!ee,Se),R.fa=B,y.push(R)),R};function he(y,R){const B=R.type;if(B in y.g){var ee=y.g[B],Se=Array.prototype.indexOf.call(ee,R,void 0),Le;(Le=Se>=0)&&Array.prototype.splice.call(ee,Se,1),Le&&(ue(R),y.g[B].length==0&&(delete y.g[B],y.h--))}}function fe(y,R,B,ee){for(let Se=0;Se<y.length;++Se){const Le=y[Se];if(!Le.da&&Le.listener==R&&Le.capture==!!B&&Le.ha==ee)return Se}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Pe={};function ke(y,R,B,ee,Se){if(Array.isArray(R)){for(let Le=0;Le<R.length;Le++)ke(y,R[Le],B,ee,Se);return null}return B=Et(B),y&&y[Ne]?y.J(R,B,d(ee)?!!ee.capture:!1,Se):Be(y,R,B,!1,ee,Se)}function Be(y,R,B,ee,Se,Le){if(!R)throw Error("Invalid event type");const nt=d(Se)?!!Se.capture:!!Se;let en=Ke(y);if(en||(y[be]=en=new re(y)),B=en.add(R,B,ee,nt,Le),B.proxy)return B;if(ee=Ze(),B.proxy=ee,ee.src=y,ee.listener=B,y.addEventListener)P||(Se=nt),Se===void 0&&(Se=!1),y.addEventListener(R.toString(),ee,Se);else if(y.attachEvent)y.attachEvent(Ve(R.toString()),ee);else if(y.addListener&&y.removeListener)y.addListener(ee);else throw Error("addEventListener and attachEvent are unavailable.");return B}function Ze(){function y(B){return R.call(y.src,y.listener,B)}const R=X;return y}function ot(y,R,B,ee,Se){if(Array.isArray(R))for(var Le=0;Le<R.length;Le++)ot(y,R[Le],B,ee,Se);else ee=d(ee)?!!ee.capture:!!ee,B=Et(B),y&&y[Ne]?(y=y.i,Le=String(R).toString(),Le in y.g&&(R=y.g[Le],B=fe(R,B,ee,Se),B>-1&&(ue(R[B]),Array.prototype.splice.call(R,B,1),R.length==0&&(delete y.g[Le],y.h--)))):y&&(y=Ke(y))&&(R=y.g[R.toString()],y=-1,R&&(y=fe(R,B,ee,Se)),(B=y>-1?R[y]:null)&&it(B))}function it(y){if(typeof y!="number"&&y&&!y.da){var R=y.src;if(R&&R[Ne])he(R.i,y);else{var B=y.type,ee=y.proxy;R.removeEventListener?R.removeEventListener(B,ee,y.capture):R.detachEvent?R.detachEvent(Ve(B),ee):R.addListener&&R.removeListener&&R.removeListener(ee),(B=Ke(R))?(he(B,y),B.h==0&&(B.src=null,R[be]=null)):ue(y)}}}function Ve(y){return y in Pe?Pe[y]:Pe[y]="on"+y}function X(y,R){if(y.da)y=!0;else{R=new le(R,this);const B=y.listener,ee=y.ha||y.src;y.fa&&it(y),y=B.call(ee,R)}return y}function Ke(y){return y=y[be],y instanceof re?y:null}var Wt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Et(y){return typeof y=="function"?y:(y[Wt]||(y[Wt]=function(R){return y.handleEvent(R)}),y[Wt])}function He(){F.call(this),this.i=new re(this),this.M=this,this.G=null}p(He,F),He.prototype[Ne]=!0,He.prototype.removeEventListener=function(y,R,B,ee){ot(this,y,R,B,ee)};function dt(y,R){var B,ee=y.G;if(ee)for(B=[];ee;ee=ee.G)B.push(ee);if(y=y.M,ee=R.type||R,typeof R=="string")R=new k(R,y);else if(R instanceof k)R.target=R.target||y;else{var Se=R;R=new k(ee,y),J(R,Se)}Se=!0;let Le,nt;if(B)for(nt=B.length-1;nt>=0;nt--)Le=R.g=B[nt],Se=ct(Le,ee,!0,R)&&Se;if(Le=R.g=y,Se=ct(Le,ee,!0,R)&&Se,Se=ct(Le,ee,!1,R)&&Se,B)for(nt=0;nt<B.length;nt++)Le=R.g=B[nt],Se=ct(Le,ee,!1,R)&&Se}He.prototype.N=function(){if(He.Z.N.call(this),this.i){var y=this.i;for(const R in y.g){const B=y.g[R];for(let ee=0;ee<B.length;ee++)ue(B[ee]);delete y.g[R],y.h--}}this.G=null},He.prototype.J=function(y,R,B,ee){return this.i.add(String(y),R,!1,B,ee)},He.prototype.K=function(y,R,B,ee){return this.i.add(String(y),R,!0,B,ee)};function ct(y,R,B,ee){if(R=y.i.g[String(R)],!R)return!0;R=R.concat();let Se=!0;for(let Le=0;Le<R.length;++Le){const nt=R[Le];if(nt&&!nt.da&&nt.capture==B){const en=nt.listener,gr=nt.ha||nt.src;nt.fa&&he(y.i,nt),Se=en.call(gr,ee)!==!1&&Se}}return Se&&!ee.defaultPrevented}function ft(y,R){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:c.setTimeout(y,R||0)}function At(y){y.g=ft(()=>{y.g=null,y.i&&(y.i=!1,At(y))},y.l);const R=y.h;y.h=null,y.m.apply(null,R)}class sn extends F{constructor(R,B){super(),this.m=R,this.l=B,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:At(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function un(y){F.call(this),this.h=y,this.g={}}p(un,F);var Jt=[];function xn(y){je(y.g,function(R,B){this.g.hasOwnProperty(B)&&it(R)},y),y.g={}}un.prototype.N=function(){un.Z.N.call(this),xn(this)},un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var on=c.JSON.stringify,Nt=c.JSON.parse,tn=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function jt(){}function Tr(){}var ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Lt(){k.call(this,"d")}p(Lt,k);function Kt(){k.call(this,"c")}p(Kt,k);var an={},Ct=null;function Bn(){return Ct=Ct||new He}an.Ia="serverreachability";function Bt(y){k.call(this,an.Ia,y)}p(Bt,k);function qt(y){const R=Bn();dt(R,new Bt(R))}an.STAT_EVENT="statevent";function Hn(y,R){k.call(this,an.STAT_EVENT,y),this.stat=R}p(Hn,k);function Tt(y){const R=Bn();dt(R,new Hn(R,y))}an.Ja="timingevent";function _t(y,R){k.call(this,an.Ja,y),this.size=R}p(_t,k);function yn(y,R){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},R)}function Gs(){this.g=!0}Gs.prototype.ua=function(){this.g=!1};function Cs(y,R,B,ee,Se,Le){y.info(function(){if(y.g)if(Le){var nt="",en=Le.split("&");for(let vn=0;vn<en.length;vn++){var gr=en[vn].split("=");if(gr.length>1){const Kn=gr[0];gr=gr[1];const Ps=Kn.split("_");nt=Ps.length>=2&&Ps[1]=="type"?nt+(Kn+"="+gr+"&"):nt+(Kn+"=redacted&")}}}else nt=null;else nt=Le;return"XMLHTTP REQ ("+ee+") [attempt "+Se+"]: "+R+`
`+B+`
`+nt})}function bi(y,R,B,ee,Se,Le,nt){y.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+Se+"]: "+R+`
`+B+`
`+Le+" "+nt})}function xs(y,R,B,ee){y.info(function(){return"XMLHTTP TEXT ("+R+"): "+$i(y,B)+(ee?" "+ee:"")})}function It(y,R){y.info(function(){return"TIMEOUT: "+R})}Gs.prototype.info=function(){};function $i(y,R){if(!y.g)return R;if(!R)return null;try{const Le=JSON.parse(R);if(Le){for(y=0;y<Le.length;y++)if(Array.isArray(Le[y])){var B=Le[y];if(!(B.length<2)){var ee=B[1];if(Array.isArray(ee)&&!(ee.length<1)){var Se=ee[0];if(Se!="noop"&&Se!="stop"&&Se!="close")for(let nt=1;nt<ee.length;nt++)ee[nt]=""}}}}return on(Le)}catch{return R}}var Na={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ia={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},oa;function nr(){}p(nr,jt),nr.prototype.g=function(){return new XMLHttpRequest},oa=new nr;function fr(y){return encodeURIComponent(String(y))}function ss(y){var R=1;y=y.split(":");const B=[];for(;R>0&&y.length;)B.push(y.shift()),R--;return y.length&&B.push(y.join(":")),B}function Hs(y,R,B,ee){this.j=y,this.i=R,this.l=B,this.S=ee||1,this.V=new un(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Is}function Is(){this.i=null,this.g="",this.h=!1}var $n={},sr={};function as(y,R,B){y.M=1,y.A=po(Or(R)),y.u=B,y.R=!0,la(y,null)}function la(y,R){y.F=Date.now(),ca(y),y.B=Or(y.A);var B=y.B,ee=y.S;Array.isArray(ee)||(ee=[String(ee)]),Sl(B.i,"t",ee),y.C=0,B=y.j.L,y.h=new Is,y.g=mt(y.j,B?R:null,!y.u),y.P>0&&(y.O=new sn(f(y.Y,y,y.g),y.P)),R=y.V,B=y.g,ee=y.ba;var Se="readystatechange";Array.isArray(Se)||(Se&&(Jt[0]=Se.toString()),Se=Jt);for(let Le=0;Le<Se.length;Le++){const nt=ke(B,Se[Le],ee||R.handleEvent,!1,R.h||R);if(!nt)break;R.g[nt.key]=nt}R=y.J?ne(y.J):{},y.u?(y.v||(y.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,R)):(y.v="GET",y.g.ea(y.B,y.v,null,R)),qt(),Cs(y.i,y.v,y.B,y.l,y.S,y.u)}Hs.prototype.ba=function(y){y=y.target;const R=this.O;R&&Ta(y)==3?R.j():this.Y(y)},Hs.prototype.Y=function(y){try{if(y==this.g)e:{const en=Ta(this.g),gr=this.g.ya(),vn=this.g.ca();if(!(en<3)&&(en!=3||this.g&&(this.h.h||this.g.la()||Kr(this.g)))){this.K||en!=4||gr==7||(gr==8||vn<=0?qt(3):qt(2)),ja(this);var R=this.g.ca();this.X=R;var B=Ua(this);if(this.o=R==200,bi(this.i,this.v,this.B,this.l,this.S,en,R),this.o){if(this.U&&!this.L){t:{if(this.g){var ee,Se=this.g;if((ee=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(ee)){var Le=ee;break t}}Le=null}if(y=Le)xs(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Va(this,y);else{this.o=!1,this.m=3,Tt(12),_a(this),$s(this);break e}}if(this.R){y=!0;let Kn;for(;!this.K&&this.C<B.length;)if(Kn=si(this,B),Kn==sr){en==4&&(this.m=4,Tt(14),y=!1),xs(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==$n){this.m=4,Tt(15),xs(this.i,this.l,B,"[Invalid Chunk]"),y=!1;break}else xs(this.i,this.l,Kn,null),Va(this,Kn);if(go(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||B.length!=0||this.h.h||(this.m=1,Tt(16),y=!1),this.o=this.o&&y,!y)xs(this.i,this.l,B,"[Invalid Chunked Response]"),_a(this),$s(this);else if(B.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Cl(nt),nt.P=!0,Tt(11))}}else xs(this.i,this.l,B,null),Va(this,B);en==4&&_a(this),this.o&&!this.K&&(en==4?ce(this.j,this):(this.o=!1,ca(this)))}else vi(this.g),R==400&&B.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),_a(this),$s(this)}}}catch{}finally{}};function Ua(y){if(!go(y))return y.g.la();const R=Kr(y.g);if(R==="")return"";let B="";const ee=R.length,Se=Ta(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return _a(y),$s(y),"";y.h.i=new c.TextDecoder}for(let Le=0;Le<ee;Le++)y.h.h=!0,B+=y.h.i.decode(R[Le],{stream:!(Se&&Le==ee-1)});return R.length=0,y.h.g+=B,y.C=0,y.h.g}function go(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function si(y,R){var B=y.C,ee=R.indexOf(`
`,B);return ee==-1?sr:(B=Number(R.substring(B,ee)),isNaN(B)?$n:(ee+=1,ee+B>R.length?sr:(R=R.slice(ee,ee+B),y.C=ee+B,R)))}Hs.prototype.cancel=function(){this.K=!0,_a(this)};function ca(y){y.T=Date.now()+y.H,Wi(y,y.H)}function Wi(y,R){if(y.D!=null)throw Error("WatchDog timer not null");y.D=yn(f(y.aa,y),R)}function ja(y){y.D&&(c.clearTimeout(y.D),y.D=null)}Hs.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(It(this.i,this.B),this.M!=2&&(qt(),Tt(17)),_a(this),this.m=2,$s(this)):Wi(this,this.T-y)};function $s(y){y.j.I==0||y.K||ce(y.j,y)}function _a(y){ja(y);var R=y.O;R&&typeof R.dispose=="function"&&R.dispose(),y.O=null,xn(y.V),y.g&&(R=y.g,y.g=null,R.abort(),R.dispose())}function Va(y,R){try{var B=y.j;if(B.I!=0&&(B.g==y||ai(B.h,y))){if(!y.L&&ai(B.h,y)&&B.I==3){try{var ee=B.Ba.g.parse(R)}catch{ee=null}if(Array.isArray(ee)&&ee.length==3){var Se=ee;if(Se[0]==0){e:if(!B.v){if(B.g)if(B.g.F+3e3<y.F)H(B),Ni(B);else break e;li(B),Tt(18)}}else B.xa=Se[1],0<B.xa-B.K&&Se[2]<37500&&B.F&&B.A==0&&!B.C&&(B.C=yn(f(B.Va,B),6e3));za(B.h)<=1&&B.ta&&(B.ta=void 0)}else we(B,11)}else if((y.L||B.g==y)&&H(B),!V(R))for(Se=B.Ba.g.parse(R),R=0;R<Se.length;R++){let vn=Se[R];const Kn=vn[0];if(!(Kn<=B.K))if(B.K=Kn,vn=vn[1],B.I==2)if(vn[0]=="c"){B.M=vn[1],B.ba=vn[2];const Ps=vn[3];Ps!=null&&(B.ka=Ps,B.j.info("VER="+B.ka));const Ks=vn[4];Ks!=null&&(B.za=Ks,B.j.info("SVER="+B.za));const ar=vn[5];ar!=null&&typeof ar=="number"&&ar>0&&(ee=1.5*ar,B.O=ee,B.j.info("backChannelRequestTimeoutMs_="+ee)),ee=B;const Ys=y.g;if(Ys){const ci=Ys.g?Ys.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var Le=ee.h;Le.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(Le.j=Le.l,Le.g=new Set,Le.h&&(Ho(Le,Le.h),Le.h=null))}if(ee.G){const wo=Ys.g?Ys.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(ee.wa=wo,kn(ee.J,ee.G,wo))}}B.I=3,B.l&&B.l.ra(),B.aa&&(B.T=Date.now()-y.F,B.j.info("Handshake RTT: "+B.T+"ms")),ee=B;var nt=y;if(ee.na=Qe(ee,ee.L?ee.ba:null,ee.W),nt.L){jl(ee.h,nt);var en=nt,gr=ee.O;gr&&(en.H=gr),en.D&&(ja(en),ca(en)),ee.g=nt}else mc(ee);B.i.length>0&&qa(B)}else vn[0]!="stop"&&vn[0]!="close"||we(B,7);else B.I==3&&(vn[0]=="stop"||vn[0]=="close"?vn[0]=="stop"?we(B,7):vo(B):vn[0]!="noop"&&B.l&&B.l.qa(vn),B.A=0)}}qt(4)}catch{}}var Cr=class{constructor(y,R){this.g=y,this.map=R}};function Nl(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function da(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function za(y){return y.h?1:y.g?y.g.size:0}function ai(y,R){return y.h?y.h==R:y.g?y.g.has(R):!1}function Ho(y,R){y.g?y.g.add(R):y.h=R}function jl(y,R){y.h&&y.h==R?y.h=null:y.g&&y.g.has(R)&&y.g.delete(R)}Nl.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function _l(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let R=y.i;for(const B of y.g.values())R=R.concat(B.G);return R}return b(y.i)}var lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(y,R){if(y){y=y.split("&");for(let B=0;B<y.length;B++){const ee=y[B].indexOf("=");let Se,Le=null;ee>=0?(Se=y[B].substring(0,ee),Le=y[B].substring(ee+1)):Se=y[B],R(Se,Le?decodeURIComponent(Le.replace(/\+/g," ")):"")}}}function ks(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;y instanceof ks?(this.l=y.l,jn(this,y.j),this.o=y.o,this.g=y.g,Ki(this,y.u),this.h=y.h,Ba(this,El(y.i)),this.m=y.m):y&&(R=String(y).match(lc))?(this.l=!1,jn(this,R[1]||"",!0),this.o=Wr(R[2]||""),this.g=Wr(R[3]||"",!0),Ki(this,R[4]),this.h=Wr(R[5]||"",!0),Ba(this,R[6]||"",!0),this.m=Wr(R[7]||"")):(this.l=!1,this.i=new Yi(null,this.l))}ks.prototype.toString=function(){const y=[];var R=this.j;R&&y.push(Nr(R,$o,!0),":");var B=this.g;return(B||R=="file")&&(y.push("//"),(R=this.o)&&y.push(Nr(R,$o,!0),"@"),y.push(fr(B).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.u,B!=null&&y.push(":",String(B))),(B=this.h)&&(this.g&&B.charAt(0)!="/"&&y.push("/"),y.push(Nr(B,B.charAt(0)=="/"?cc:sd,!0))),(B=this.i.toString())&&y.push("?",B),(B=this.m)&&y.push("#",Nr(B,dc)),y.join("")},ks.prototype.resolve=function(y){const R=Or(this);let B=!!y.j;B?jn(R,y.j):B=!!y.o,B?R.o=y.o:B=!!y.g,B?R.g=y.g:B=y.u!=null;var ee=y.h;if(B)Ki(R,y.u);else if(B=!!y.h){if(ee.charAt(0)!="/")if(this.g&&!this.h)ee="/"+ee;else{var Se=R.h.lastIndexOf("/");Se!=-1&&(ee=R.h.slice(0,Se+1)+ee)}if(Se=ee,Se==".."||Se==".")ee="";else if(Se.indexOf("./")!=-1||Se.indexOf("/.")!=-1){ee=Se.lastIndexOf("/",0)==0,Se=Se.split("/");const Le=[];for(let nt=0;nt<Se.length;){const en=Se[nt++];en=="."?ee&&nt==Se.length&&Le.push(""):en==".."?((Le.length>1||Le.length==1&&Le[0]!="")&&Le.pop(),ee&&nt==Se.length&&Le.push("")):(Le.push(en),ee=!0)}ee=Le.join("/")}else ee=Se}return B?R.h=ee:B=y.i.toString()!=="",B?Ba(R,El(y.i)):B=!!y.m,B&&(R.m=y.m),R};function Or(y){return new ks(y)}function jn(y,R,B){y.j=B?Wr(R,!0):R,y.j&&(y.j=y.j.replace(/:$/,""))}function Ki(y,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);y.u=R}else y.u=null}function Ba(y,R,B){R instanceof Yi?(y.i=R,ua(y.i,y.l)):(B||(R=Nr(R,Ws)),y.i=new Yi(R,y.l))}function kn(y,R,B){y.i.set(R,B)}function po(y){return kn(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Wr(y,R){return y?R?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Nr(y,R,B){return typeof y=="string"?(y=encodeURI(y).replace(R,Fr),B&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Fr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var $o=/[#\/\?@]/g,sd=/[#\?:]/g,cc=/[#\?]/g,Ws=/[#\?@]/g,dc=/#/g;function Yi(y,R){this.h=this.g=null,this.i=y||null,this.j=!!R}function ys(y){y.g||(y.g=new Map,y.h=0,y.i&&Sa(y.i,function(R,B){y.add(decodeURIComponent(R.replace(/\+/g," ")),B)}))}n=Yi.prototype,n.add=function(y,R){ys(this),this.i=null,y=Xi(this,y);let B=this.g.get(y);return B||this.g.set(y,B=[]),B.push(R),this.h+=1,this};function xo(y,R){ys(y),R=Xi(y,R),y.g.has(R)&&(y.i=null,y.h-=y.g.get(R).length,y.g.delete(R))}function uc(y,R){return ys(y),R=Xi(y,R),y.g.has(R)}n.forEach=function(y,R){ys(this),this.g.forEach(function(B,ee){B.forEach(function(Se){y.call(R,Se,ee,this)},this)},this)};function hc(y,R){ys(y);let B=[];if(typeof R=="string")uc(y,R)&&(B=B.concat(y.g.get(Xi(y,R))));else for(y=Array.from(y.g.values()),R=0;R<y.length;R++)B=B.concat(y[R]);return B}n.set=function(y,R){return ys(this),this.i=null,y=Xi(this,y),uc(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[R]),this.h+=1,this},n.get=function(y,R){return y?(y=hc(this,y),y.length>0?String(y[0]):R):R};function Sl(y,R,B){xo(y,R),B.length>0&&(y.i=null,y.g.set(Xi(y,R),b(B)),y.h+=B.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],R=Array.from(this.g.keys());for(let ee=0;ee<R.length;ee++){var B=R[ee];const Se=fr(B);B=hc(this,B);for(let Le=0;Le<B.length;Le++){let nt=Se;B[Le]!==""&&(nt+="="+fr(B[Le])),y.push(nt)}}return this.i=y.join("&")};function El(y){const R=new Yi;return R.i=y.i,y.g&&(R.g=new Map(y.g),R.h=y.h),R}function Xi(y,R){return R=String(R),y.j&&(R=R.toLowerCase()),R}function ua(y,R){R&&!y.j&&(ys(y),y.i=null,y.g.forEach(function(B,ee){const Se=ee.toLowerCase();ee!=Se&&(xo(this,ee),Sl(this,Se,B))},y)),y.j=R}function ii(y,R){const B=new Gs;if(c.Image){const ee=new Image;ee.onload=g(ha,B,"TestLoadImage: loaded",!0,R,ee),ee.onerror=g(ha,B,"TestLoadImage: error",!1,R,ee),ee.onabort=g(ha,B,"TestLoadImage: abort",!1,R,ee),ee.ontimeout=g(ha,B,"TestLoadImage: timeout",!1,R,ee),c.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=y}else R(!1)}function Qi(y,R){const B=new Gs,ee=new AbortController,Se=setTimeout(()=>{ee.abort(),ha(B,"TestPingServer: timeout",!1,R)},1e4);fetch(y,{signal:ee.signal}).then(Le=>{clearTimeout(Se),Le.ok?ha(B,"TestPingServer: ok",!0,R):ha(B,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(Se),ha(B,"TestPingServer: error",!1,R)})}function ha(y,R,B,ee,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),ee(B)}catch{}}function yo(){this.g=new tn}function Mt(y){this.i=y.Sb||null,this.h=y.ab||!1}p(Mt,jt),Mt.prototype.g=function(){return new Wo(this.i,this.h)};function Wo(y,R){He.call(this),this.H=y,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Wo,He),n=Wo.prototype,n.open=function(y,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=R,this.readyState=1,bs(this)},n.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(R.body=y),(this.H||c).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bo(this)),this.readyState=0},n.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Al(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Al(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}n.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var R=y.value?y.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!y.done}))&&(this.response=this.responseText+=R)}y.done?bo(this):bs(this),this.readyState==3&&Al(this)}},n.Oa=function(y){this.g&&(this.response=this.responseText=y,bo(this))},n.Na=function(y){this.g&&(this.response=y,bo(this))},n.ga=function(){this.g&&bo(this)};function bo(y){y.readyState=4,y.l=null,y.j=null,y.B=null,bs(y)}n.setRequestHeader=function(y,R){this.A.append(y,R)},n.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],R=this.h.entries();for(var B=R.next();!B.done;)B=B.value,y.push(B[0]+": "+B[1]),B=R.next();return y.join(`\r
`)};function bs(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function is(y){let R="";return je(y,function(B,ee){R+=ee,R+=":",R+=B,R+=`\r
`}),R}function Ko(y,R,B){e:{for(ee in B){var ee=!1;break e}ee=!0}ee||(B=is(B),typeof y=="string"?B!=null&&fr(B):kn(y,R,B))}function Wn(y){He.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Wn,He);var Ea=/^https?$/i,Yo=["POST","PUT"];n=Wn.prototype,n.Fa=function(y){this.H=y},n.ea=function(y,R,B,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);R=R?R.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():oa.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(R,String(y),!0),this.B=!1}catch(Le){oi(this,Le);return}if(y=B||"",B=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var Se in ee)B.set(Se,ee[Se]);else if(typeof ee.keys=="function"&&typeof ee.get=="function")for(const Le of ee.keys())B.set(Le,ee.get(Le));else throw Error("Unknown input type for opt_headers: "+String(ee));ee=Array.from(B.keys()).find(Le=>Le.toLowerCase()=="content-type"),Se=c.FormData&&y instanceof c.FormData,!(Array.prototype.indexOf.call(Yo,R,void 0)>=0)||ee||Se||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Le,nt]of B)this.g.setRequestHeader(Le,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(Le){oi(this,Le)}};function oi(y,R){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=R,y.o=5,fc(y),Ji(y)}function fc(y){y.A||(y.A=!0,dt(y,"complete"),dt(y,"error"))}n.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,dt(this,"complete"),dt(this,"abort"),Ji(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),Wn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Aa(this):this.Xa())},n.Xa=function(){Aa(this)};function Aa(y){if(y.h&&typeof o<"u"){if(y.v&&Ta(y)==4)setTimeout(y.Ca.bind(y),0);else if(dt(y,"readystatechange"),Ta(y)==4){y.h=!1;try{const Le=y.ca();e:switch(Le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var B;if(!(B=R)){var ee;if(ee=Le===0){let nt=String(y.D).match(lc)[1]||null;!nt&&c.self&&c.self.location&&(nt=c.self.location.protocol.slice(0,-1)),ee=!Ea.test(nt?nt.toLowerCase():"")}B=ee}if(B)dt(y,"complete"),dt(y,"success");else{y.o=6;try{var Se=Ta(y)>2?y.g.statusText:""}catch{Se=""}y.l=Se+" ["+y.ca()+"]",fc(y)}}finally{Ji(y)}}}}function Ji(y,R){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const B=y.g;y.g=null,R||dt(y,"ready");try{B.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ta(y){return y.g?y.g.readyState:0}n.ca=function(){try{return Ta(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(y){if(this.g){var R=this.g.responseText;return y&&R.indexOf(y)==0&&(R=R.substring(y.length)),Nt(R)}};function Kr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function vi(y){const R={};y=(y.g&&Ta(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let ee=0;ee<y.length;ee++){if(V(y[ee]))continue;var B=ss(y[ee]);const Se=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const Le=R[Se]||[];R[Se]=Le,Le.push(B)}ze(R,function(ee){return ee.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(y,R,B){return B&&B.internalChannelParams&&B.internalChannelParams[y]||R}function wi(y){this.za=0,this.i=[],this.j=new Gs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rs("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rs("baseRetryDelayMs",5e3,y),this.Za=Rs("retryDelaySeedMs",1e4,y),this.Ta=Rs("forwardChannelMaxRetries",2,y),this.va=Rs("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Nl(y&&y.concurrentRequestLimit),this.Ba=new yo,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=wi.prototype,n.ka=8,n.I=1,n.connect=function(y,R,B,ee){Tt(0),this.W=y,this.H=R||{},B&&ee!==void 0&&(this.H.OSID=B,this.H.OAID=ee),this.F=this.X,this.J=Qe(this,null,this.W),qa(this)};function vo(y){if(ji(y),y.I==3){var R=y.V++,B=Or(y.J);if(kn(B,"SID",y.M),kn(B,"RID",R),kn(B,"TYPE","terminate"),Ca(y,B),R=new Hs(y,y.j,R),R.M=2,R.A=po(Or(B)),B=!1,c.navigator&&c.navigator.sendBeacon)try{B=c.navigator.sendBeacon(R.A.toString(),"")}catch{}!B&&c.Image&&(new Image().src=R.A,B=!0),B||(R.g=mt(R.j,null),R.g.ea(R.A)),R.F=Date.now(),ca(R)}qe(y)}function Ni(y){y.g&&(Cl(y),y.g.cancel(),y.g=null)}function ji(y){Ni(y),y.v&&(c.clearTimeout(y.v),y.v=null),H(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&c.clearTimeout(y.m),y.m=null)}function qa(y){if(!da(y.h)&&!y.m){y.m=!0;var R=y.Ea;se||D(),ae||(se(),ae=!0),G.add(R,y),y.D=0}}function Xo(y,R){return za(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=R.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=yn(f(y.Ea,y,R),pe(y,y.D)),y.D++,!0)}n.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const Se=new Hs(this,this.j,y);let Le=this.o;if(this.U&&(Le?(Le=ne(Le),J(Le,this.U)):Le=this.U),this.u!==null||this.R||(Se.J=Le,Le=null),this.S)e:{for(var R=0,B=0;B<this.i.length;B++){t:{var ee=this.i[B];if("__data__"in ee.map&&(ee=ee.map.__data__,typeof ee=="string")){ee=ee.length;break t}ee=void 0}if(ee===void 0)break;if(R+=ee,R>4096){R=B;break e}if(R===4096||B===this.i.length-1){R=B+1;break e}}R=1e3}else R=1e3;R=_i(this,Se,R),B=Or(this.J),kn(B,"RID",y),kn(B,"CVER",22),this.G&&kn(B,"X-HTTP-Session-Id",this.G),Ca(this,B),Le&&(this.R?R="headers="+fr(is(Le))+"&"+R:this.u&&Ko(B,this.u,Le)),Ho(this.h,Se),this.Ra&&kn(B,"TYPE","init"),this.S?(kn(B,"$req",R),kn(B,"SID","null"),Se.U=!0,as(Se,B,null)):as(Se,B,R),this.I=2}}else this.I==3&&(y?Tl(this,y):this.i.length==0||da(this.h)||Tl(this))};function Tl(y,R){var B;R?B=R.l:B=y.V++;const ee=Or(y.J);kn(ee,"SID",y.M),kn(ee,"RID",B),kn(ee,"AID",y.K),Ca(y,ee),y.u&&y.o&&Ko(ee,y.u,y.o),B=new Hs(y,y.j,B,y.D+1),y.u===null&&(B.J=y.o),R&&(y.i=R.G.concat(y.i)),R=_i(y,B,1e3),B.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Ho(y.h,B),as(B,ee,R)}function Ca(y,R){y.H&&je(y.H,function(B,ee){kn(R,ee,B)}),y.l&&je({},function(B,ee){kn(R,ee,B)})}function _i(y,R,B){B=Math.min(y.i.length,B);const ee=y.l?f(y.l.Ka,y.l,y):null;e:{var Se=y.i;let en=-1;for(;;){const gr=["count="+B];en==-1?B>0?(en=Se[0].g,gr.push("ofs="+en)):en=0:gr.push("ofs="+en);let vn=!0;for(let Kn=0;Kn<B;Kn++){var Le=Se[Kn].g;const Ps=Se[Kn].map;if(Le-=en,Le<0)en=Math.max(0,Se[Kn].g-100),vn=!1;else try{Le="req"+Le+"_"||"";try{var nt=Ps instanceof Map?Ps:Object.entries(Ps);for(const[Ks,ar]of nt){let Ys=ar;d(ar)&&(Ys=on(ar)),gr.push(Le+Ks+"="+encodeURIComponent(Ys))}}catch(Ks){throw gr.push(Le+"type="+encodeURIComponent("_badmap")),Ks}}catch{ee&&ee(Ps)}}if(vn){nt=gr.join("&");break e}}nt=void 0}return y=y.i.splice(0,B),R.G=y,nt}function mc(y){if(!y.g&&!y.v){y.Y=1;var R=y.Da;se||D(),ae||(se(),ae=!0),G.add(R,y),y.A=0}}function li(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=yn(f(y.Da,y),pe(y,y.A)),y.A++,!0)}n.Da=function(){if(this.v=null,A(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=yn(f(this.Wa,this),y)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Ni(this),A(this))};function Cl(y){y.B!=null&&(c.clearTimeout(y.B),y.B=null)}function A(y){y.g=new Hs(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var R=Or(y.na);kn(R,"RID","rpc"),kn(R,"SID",y.M),kn(R,"AID",y.K),kn(R,"CI",y.F?"0":"1"),!y.F&&y.ia&&kn(R,"TO",y.ia),kn(R,"TYPE","xmlhttp"),Ca(y,R),y.u&&y.o&&Ko(R,y.u,y.o),y.O&&(y.g.H=y.O);var B=y.g;y=y.ba,B.M=1,B.A=po(Or(R)),B.u=null,B.R=!0,la(B,y)}n.Va=function(){this.C!=null&&(this.C=null,Ni(this),li(this),Tt(19))};function H(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function ce(y,R){var B=null;if(y.g==R){H(y),Cl(y),y.g=null;var ee=2}else if(ai(y.h,R))B=R.G,jl(y.h,R),ee=1;else return;if(y.I!=0){if(R.o)if(ee==1){B=R.u?R.u.length:0,R=Date.now()-R.F;var Se=y.D;ee=Bn(),dt(ee,new _t(ee,B)),qa(y)}else mc(y);else if(Se=R.m,Se==3||Se==0&&R.X>0||!(ee==1&&Xo(y,R)||ee==2&&li(y)))switch(B&&B.length>0&&(R=y.h,R.i=R.i.concat(B)),Se){case 1:we(y,5);break;case 4:we(y,10);break;case 3:we(y,6);break;default:we(y,2)}}}function pe(y,R){let B=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(B*=2),B*R}function we(y,R){if(y.j.info("Error code "+R),R==2){var B=f(y.bb,y),ee=y.Ua;const Se=!ee;ee=new ks(ee||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||jn(ee,"https"),po(ee),Se?ii(ee.toString(),B):Qi(ee.toString(),B)}else Tt(2);y.I=0,y.l&&y.l.pa(R),qe(y),ji(y)}n.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function qe(y){if(y.I=0,y.ja=[],y.l){const R=_l(y.h);(R.length!=0||y.i.length!=0)&&(T(y.ja,R),T(y.ja,y.i),y.h.i.length=0,b(y.i),y.i.length=0),y.l.oa()}}function Qe(y,R,B){var ee=B instanceof ks?Or(B):new ks(B);if(ee.g!="")R&&(ee.g=R+"."+ee.g),Ki(ee,ee.u);else{var Se=c.location;ee=Se.protocol,R=R?R+"."+Se.hostname:Se.hostname,Se=+Se.port;const Le=new ks(null);ee&&jn(Le,ee),R&&(Le.g=R),Se&&Ki(Le,Se),B&&(Le.h=B),ee=Le}return B=y.G,R=y.wa,B&&R&&kn(ee,B,R),kn(ee,"VER",y.ka),Ca(y,ee),ee}function mt(y,R,B){if(R&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=y.Aa&&!y.ma?new Wn(new Mt({ab:B})):new Wn(y.ma),R.Fa(y.L),R}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yt(){}n=yt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ut(){}Ut.prototype.g=function(y,R){return new kt(y,R)};function kt(y,R){He.call(this),this.g=new wi(R),this.l=y,this.h=R&&R.messageUrlParams||null,y=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(y?y["X-WebChannel-Content-Type"]=R.messageContentType:y={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(y?y["X-WebChannel-Client-Profile"]=R.sa:y={"X-WebChannel-Client-Profile":R.sa}),this.g.U=y,(y=R&&R.Qb)&&!V(y)&&(this.g.u=y),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!V(R)&&(this.g.G=R,y=this.h,y!==null&&R in y&&(y=this.h,R in y&&delete y[R])),this.j=new rr(this)}p(kt,He),kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){vo(this.g)},kt.prototype.o=function(y){var R=this.g;if(typeof y=="string"){var B={};B.__data__=y,y=B}else this.v&&(B={},B.__data__=on(y),y=B);R.i.push(new Cr(R.Ya++,y)),R.I==3&&qa(R)},kt.prototype.N=function(){this.g.l=null,delete this.j,vo(this.g),delete this.g,kt.Z.N.call(this)};function En(y){Lt.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var R=y.__sm__;if(R){e:{for(const B in R){y=B;break e}y=void 0}(this.i=y)&&(y=this.i,R=R!==null&&y in R?R[y]:void 0),this.data=R}else this.data=y}p(En,Lt);function mr(){Kt.call(this),this.status=1}p(mr,Kt);function rr(y){this.g=y}p(rr,yt),rr.prototype.ra=function(){dt(this.g,"a")},rr.prototype.qa=function(y){dt(this.g,new En(y))},rr.prototype.pa=function(y){dt(this.g,new mr)},rr.prototype.oa=function(){dt(this.g,"b")},Ut.prototype.createWebChannel=Ut.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,vS=function(){return new Ut},bS=function(){return Bn()},yS=an,$1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Na.NO_ERROR=0,Na.TIMEOUT=8,Na.HTTP_ERROR=6,O0=Na,ia.COMPLETE="complete",xS=ia,Tr.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",He.prototype.listen=He.prototype.J,ag=Tr,Wn.prototype.listenOnce=Wn.prototype.K,Wn.prototype.getLastError=Wn.prototype.Ha,Wn.prototype.getLastErrorCode=Wn.prototype.ya,Wn.prototype.getStatus=Wn.prototype.ca,Wn.prototype.getResponseJson=Wn.prototype.La,Wn.prototype.getResponseText=Wn.prototype.la,Wn.prototype.send=Wn.prototype.ea,Wn.prototype.setWithCredentials=Wn.prototype.Fa,pS=Wn}).apply(typeof f0<"u"?f0:typeof self<"u"?self:typeof window<"u"?window:{});const Lj="@firebase/firestore",Dj="4.9.2";let Ma=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ma.UNAUTHENTICATED=new Ma(null),Ma.GOOGLE_CREDENTIALS=new Ma("google-credentials-uid"),Ma.FIRST_PARTY=new Ma("first-party-uid"),Ma.MOCK_USER=new Ma("mock-user");let sm="12.3.0";const eh=new X2("@firebase/firestore");function mf(){return eh.logLevel}function tt(n,...e){if(eh.logLevel<=Ln.DEBUG){const t=e.map(ov);eh.debug(`Firestore (${sm}): ${n}`,...t)}}function pi(n,...e){if(eh.logLevel<=Ln.ERROR){const t=e.map(ov);eh.error(`Firestore (${sm}): ${n}`,...t)}}function th(n,...e){if(eh.logLevel<=Ln.WARN){const t=e.map(ov);eh.warn(`Firestore (${sm}): ${n}`,...t)}}function ov(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function wt(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,wS(n,s,t)}function wS(n,e,t){let s=`FIRESTORE (${sm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw pi(s),new Error(s)}function Pt(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||wS(e,a,s)}function dn(n,e){return n}const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ac{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ec{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class NS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ma.UNAUTHENTICATED)))}shutdown(){}}class t7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class n7{constructor(e){this.t=e,this.currentUser=Ma.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Pt(this.o===void 0,42304);let s=this.i;const a=h=>this.i!==s?(s=this.i,t(h)):Promise.resolve();let o=new ec;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ec,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},d=h=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ec)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Pt(typeof s.accessToken=="string",31837,{l:s}),new NS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string",2055,{h:e}),new Ma(e)}}class r7{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Ma.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class s7{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new r7(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ma.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Mj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a7{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Pt(this.o===void 0,3512);const s=o=>{o.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,tt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>s(o)))};const a=o=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Mj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Pt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Mj(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function i7(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class lv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=i7(40);for(let o=0;o<a.length;++o)s.length<20&&a[o]<t&&(s+=e.charAt(a[o]%62))}return s}}function cn(n,e){return n<e?-1:n>e?1:0}function W1(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const a=n.charAt(s),o=e.charAt(s);if(a!==o)return Qb(a)===Qb(o)?cn(a,o):Qb(a)?1:-1}return cn(n.length,e.length)}const o7=55296,l7=57343;function Qb(n){const e=n.charCodeAt(0);return e>=o7&&e<=l7}function Df(n,e,t){return n.length===e.length&&n.every(((s,a)=>t(s,e[a])))}function jS(n){return n+"\0"}const Oj="__name__";class $l{constructor(e,t,s){t===void 0?t=0:t>e.length&&wt(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&wt(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return $l.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $l?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const o=$l.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return cn(e.length,t.length)}static compareSegments(e,t){const s=$l.isNumericId(e),a=$l.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?$l.extractNumericId(e).compare($l.extractNumericId(t)):W1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qd.fromString(e.substring(4,e.length-2))}}class tr extends $l{construct(e,t,s){return new tr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new st(Ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new tr(t)}static emptyPath(){return new tr([])}}const c7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zr extends $l{construct(e,t,s){return new Zr(e,t,s)}static isValidIdentifier(e){return c7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Oj}static keyField(){return new Zr([Oj])}static fromServerFormat(e){const t=[];let s="",a=0;const o=()=>{if(s.length===0)throw new st(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new st(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new st(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=h,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(o(),a++)}if(o(),c)throw new st(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zr(t)}static emptyPath(){return new Zr([])}}class lt{constructor(e){this.path=e}static fromPath(e){return new lt(tr.fromString(e))}static fromName(e){return new lt(tr.fromString(e).popFirst(5))}static empty(){return new lt(tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new tr(e.slice()))}}function _S(n,e,t){if(!t)throw new st(Ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function d7(n,e,t,s){if(e===!0&&s===!0)throw new st(Ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Fj(n){if(!lt.isDocumentKey(n))throw new st(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Uj(n){if(lt.isDocumentKey(n))throw new st(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function SS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Wx(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":wt(12329,{type:typeof n})}function wa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new st(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wx(n);throw new st(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function zs(n,e){const t={typeString:n};return e&&(t.value=e),t}function np(n,e){if(!SS(n))throw new st(Ue.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,o="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(a&&typeof c!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${s}' field to equal '${o.value}'`;break}}if(t)throw new st(Ue.INVALID_ARGUMENT,t);return!0}const Vj=-62135596800,zj=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*zj);return new xt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new st(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new st(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Vj)throw new st(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zj}_compareTo(e){return this.seconds===e.seconds?cn(this.nanoseconds,e.nanoseconds):cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(np(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:zs("string",xt._jsonSchemaVersion),seconds:zs("number"),nanoseconds:zs("number")};class Gt{static fromTimestamp(e){return new Gt(e)}static min(){return new Gt(new xt(0,0))}static max(){return new Gt(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Rg=-1;class ux{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function K1(n){return n.fields.find((e=>e.kind===2))}function Du(n){return n.fields.filter((e=>e.kind!==2))}ux.UNKNOWN_ID=-1;class F0{constructor(e,t){this.fieldPath=e,this.kind=t}}class Pg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Pg(0,fo.min())}}function u7(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Gt.fromTimestamp(s===1e9?new xt(t+1,0):new xt(t,s));return new fo(a,lt.empty(),e)}function ES(n){return new fo(n.readTime,n.key,Rg)}class fo{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new fo(Gt.min(),lt.empty(),Rg)}static max(){return new fo(Gt.max(),lt.empty(),Rg)}}function cv(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=lt.comparator(n.documentKey,e.documentKey),t!==0?t:cn(n.largestBatchId,e.largestBatchId))}const AS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function mh(n){if(n.code!==Ue.FAILED_PRECONDITION||n.message!==AS)throw n;tt("LocalStore","Unexpectedly lost primary lease")}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te(((s,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.reject(t)}static resolve(e){return new Te(((t,s)=>{t(e)}))}static reject(e){return new Te(((t,s)=>{s(e)}))}static waitFor(e){return new Te(((t,s)=>{let a=0,o=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++o,c&&o===a&&t()}),(h=>s(h)))})),c=!0,o===a&&t()}))}static or(e){let t=Te.resolve(!1);for(const s of e)t=t.next((a=>a?Te.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,o)=>{s.push(t.call(this,a,o))})),this.waitFor(s)}static mapArray(e,t){return new Te(((s,a)=>{const o=e.length,c=new Array(o);let d=0;for(let h=0;h<o;h++){const f=h;t(e[f]).next((g=>{c[f]=g,++d,d===o&&s(c)}),(g=>a(g)))}}))}static doWhile(e,t){return new Te(((s,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):s()};o()}))}}const lo="SimpleDb";class Kx{static open(e,t,s,a){try{return new Kx(t,e.transaction(a,s))}catch(o){throw new hg(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new ec,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new hg(e,t.error)):this.S.resolve()},this.transaction.onerror=s=>{const a=dv(s.target.error);this.S.reject(new hg(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(tt(lo,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new f7(t)}}class Jd{static delete(e){return tt(lo,"Removing database:",e),Fu(b3().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!T3())return!1;if(Jd.F())return!0;const e=sa(),t=Jd.M(e),s=0<t&&t<10,a=CS(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}constructor(e,t,s){this.name=e,this.version=t,this.N=s,this.B=null,Jd.M(sa())===12.2&&pi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(tt(lo,"Opening database:",this.name),this.db=await new Promise(((t,s)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const c=o.target.result;t(c)},a.onblocked=()=>{s(new hg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const c=o.target.error;c.name==="VersionError"?s(new st(Ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?s(new st(Ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):s(new hg(e,c))},a.onupgradeneeded=o=>{tt(lo,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const c=o.target.result;this.N.k(c,a.transaction,o.oldVersion,this.version).next((()=>{tt(lo,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,s,a){const o=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const d=Kx.open(this.db,e,o?"readonly":"readwrite",s),h=a(d).next((f=>(d.C(),f))).catch((f=>(d.abort(f),Te.reject(f)))).toPromise();return h.catch((()=>{})),await d.D,h}catch(d){const h=d,f=h.name!=="FirebaseError"&&c<3;if(tt(lo,"Transaction failed with error:",h.message,"Retrying:",f),this.close(),!f)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function CS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class h7{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Fu(this.U.delete())}}class hg extends st{constructor(e,t){super(Ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fu(n){return n.name==="IndexedDbTransactionError"}class f7{constructor(e){this.store=e}put(e,t){let s;return t!==void 0?(tt(lo,"PUT",this.store.name,e,t),s=this.store.put(t,e)):(tt(lo,"PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Fu(s)}add(e){return tt(lo,"ADD",this.store.name,e,e),Fu(this.store.add(e))}get(e){return Fu(this.store.get(e)).next((t=>(t===void 0&&(t=null),tt(lo,"GET",this.store.name,e,t),t)))}delete(e){return tt(lo,"DELETE",this.store.name,e),Fu(this.store.delete(e))}count(){return tt(lo,"COUNT",this.store.name),Fu(this.store.count())}J(e,t){const s=this.options(e,t),a=s.index?this.store.index(s.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(s.range);return new Te(((c,d)=>{o.onerror=h=>{d(h.target.error)},o.onsuccess=h=>{c(h.target.result)}}))}{const o=this.cursor(s),c=[];return this.H(o,((d,h)=>{c.push(h)})).next((()=>c))}}Y(e,t){const s=this.store.getAll(e,t===null?void 0:t);return new Te(((a,o)=>{s.onerror=c=>{o(c.target.error)},s.onsuccess=c=>{a(c.target.result)}}))}Z(e,t){tt(lo,"DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const a=this.cursor(s);return this.H(a,((o,c,d)=>d.delete()))}ee(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.H(a,t)}te(e){const t=this.cursor({});return new Te(((s,a)=>{t.onerror=o=>{const c=dv(o.target.error);a(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next((d=>{d?c.continue():s()})):s()}}))}H(e,t){const s=[];return new Te(((a,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const h=new h7(d),f=t(d.primaryKey,d.value,h);if(f instanceof Te){const g=f.catch((p=>(h.done(),Te.reject(p))));s.push(g)}h.isDone?a():h.G===null?d.continue():d.continue(h.G)}})).next((()=>Te.waitFor(s)))}options(e,t){let s;return e!==void 0&&(typeof e=="string"?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Fu(n){return new Te(((e,t)=>{n.onsuccess=s=>{const a=s.target.result;e(a)},n.onerror=s=>{const a=dv(s.target.error);t(a)}}))}let Bj=!1;function dv(n){const e=Jd.M(sa());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new st("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Bj||(Bj=!0,setTimeout((()=>{throw s}),0)),s}}return n}const fg="IndexBackfiller";class m7{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){tt(fg,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();tt(fg,`Documents written: ${t}`)}catch(t){fu(t)?tt(fg,"Ignoring IndexedDB error during index backfill: ",t):await mh(t)}await this.re(6e4)}))}}class g7{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const s=new Set;let a=t,o=!0;return Te.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!s.has(c))return tt(fg,`Processing collection: ${c}`),this.oe(e,c,a).next((d=>{a-=d,s.add(c)}));o=!1})))).next((()=>t-a))}oe(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next((o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,o))).next((d=>(tt(fg,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d)))).next((()=>c.size))}))))}_e(e,t){let s=e;return t.changes.forEach(((a,o)=>{const c=ES(o);cv(c,s)>0&&(s=c)})),new fo(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Mo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mo.ce=-1;const Gu=-1;function Yx(n){return n==null}function Lg(n){return n===0&&1/n==-1/0}function p7(n){return typeof n=="number"&&Number.isInteger(n)&&!Lg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const hx="";function ei(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qj(e)),e=x7(n.get(t),e);return qj(e)}function x7(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case hx:t+="";break;default:t+=o}}return t}function qj(n){return n+hx+""}function Wl(n){const e=n.length;if(Pt(e>=2,64408,{path:n}),e===2)return Pt(n.charAt(0)===hx&&n.charAt(1)==="",56145,{path:n}),tr.emptyPath();const t=e-2,s=[];let a="";for(let o=0;o<e;){const c=n.indexOf(hx,o);switch((c<0||c>t)&&wt(50515,{path:n}),n.charAt(c+1)){case"":const d=n.substring(o,c);let h;a.length===0?h=d:(a+=d,h=a,a=""),s.push(h);break;case"":a+=n.substring(o,c),a+="\0";break;case"":a+=n.substring(o,c+1);break;default:wt(61167,{path:n})}o=c+2}return new tr(s)}const Mu="remoteDocuments",rp="owner",tf="owner",Dg="mutationQueues",y7="userId",fl="mutations",Gj="batchId",qu="userMutationsIndex",Hj=["userId","batchId"];function U0(n,e){return[n,ei(e)]}function IS(n,e,t){return[n,ei(e),t]}const b7={},Mf="documentMutations",fx="remoteDocumentsV14",v7=["prefixPath","collectionGroup","readTime","documentId"],V0="documentKeyIndex",w7=["prefixPath","collectionGroup","documentId"],kS="collectionGroupIndex",N7=["collectionGroup","readTime","prefixPath","documentId"],Mg="remoteDocumentGlobal",Y1="remoteDocumentGlobalKey",Of="targets",RS="queryTargetsIndex",j7=["canonicalId","targetId"],Ff="targetDocuments",_7=["targetId","path"],uv="documentTargetsIndex",S7=["path","targetId"],mx="targetGlobalKey",Hu="targetGlobal",Og="collectionParents",E7=["collectionId","parent"],Uf="clientMetadata",A7="clientId",Xx="bundles",T7="bundleId",Qx="namedQueries",C7="name",hv="indexConfiguration",I7="indexId",X1="collectionGroupIndex",k7="collectionGroup",mg="indexState",R7=["indexId","uid"],PS="sequenceNumberIndex",P7=["uid","sequenceNumber"],gg="indexEntries",L7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],LS="documentKeyIndex",D7=["indexId","uid","orderedDocumentKey"],Jx="documentOverlays",M7=["userId","collectionPath","documentId"],Q1="collectionPathOverlayIndex",O7=["userId","collectionPath","largestBatchId"],DS="collectionGroupOverlayIndex",F7=["userId","collectionGroup","largestBatchId"],fv="globals",U7="name",MS=[Dg,fl,Mf,Mu,Of,rp,Hu,Ff,Uf,Mg,Og,Xx,Qx],V7=[...MS,Jx],OS=[Dg,fl,Mf,fx,Of,rp,Hu,Ff,Uf,Mg,Og,Xx,Qx,Jx],FS=OS,mv=[...FS,hv,mg,gg],z7=mv,US=[...mv,fv],B7=US;class J1 extends TS{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function aa(n,e){const t=dn(n);return Jd.O(t.le,e)}function $j(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function mu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function VS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class $r{constructor(e,t){this.comparator=e,this.root=t||Oa.EMPTY}insert(e,t){return new $r(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Oa.BLACK,null,null))}remove(e){return new $r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new m0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new m0(this.root,e,this.comparator,!1)}getReverseIterator(){return new m0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new m0(this.root,e,this.comparator,!0)}}class m0{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?s(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oa{constructor(e,t,s,a,o){this.key=e,this.value=t,this.color=s??Oa.RED,this.left=a??Oa.EMPTY,this.right=o??Oa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,o){return new Oa(e??this.key,t??this.value,s??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const o=s(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,s),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Oa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Oa.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw wt(27949);return e+(this.isRed()?0:1)}}Oa.EMPTY=null,Oa.RED=!0,Oa.BLACK=!1;Oa.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(e,t,s,a,o){return this}insert(e,t,s){return new Oa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ur{constructor(e){this.comparator=e,this.data=new $r(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wj(this.data.getIterator())}getIteratorFrom(e){return new Wj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof ur)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=s.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ur(this.comparator);return t.data=e,t}}class Wj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nf(n){return n.hasNext()?n.getNext():void 0}class Bi{constructor(e){this.fields=e,e.sort(Zr.comparator)}static empty(){return new Bi([])}unionWith(e){let t=new ur(Zr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Bi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Df(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class zS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zS("Invalid base64 string: "+o):o}})(e);return new Bs(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new Bs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bs.EMPTY_BYTE_STRING=new Bs("");const q7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xc(n){if(Pt(!!n,39018),typeof n=="string"){let e=0;const t=q7.exec(n);if(Pt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Gr(n.seconds),nanos:Gr(n.nanos)}}function Gr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qc(n){return typeof n=="string"?Bs.fromBase64String(n):Bs.fromUint8Array(n)}const BS="server_timestamp",qS="__type__",GS="__previous_value__",HS="__local_write_time__";function gv(n){return(n?.mapValue?.fields||{})[qS]?.stringValue===BS}function Zx(n){const e=n.mapValue.fields[GS];return gv(e)?Zx(e):e}function Fg(n){const e=Xc(n.mapValue.fields[HS].timestampValue);return new xt(e.seconds,e.nanos)}class G7{constructor(e,t,s,a,o,c,d,h,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=g}}const gx="(default)";class nh{constructor(e,t){this.projectId=e,this.database=t||gx}static empty(){return new nh("","")}get isDefaultDatabase(){return this.database===gx}isEqual(e){return e instanceof nh&&e.projectId===this.projectId&&e.database===this.database}}const pv="__type__",$S="__max__",$d={mapValue:{fields:{__type__:{stringValue:$S}}}},xv="__vector__",Vf="value",z0={nullValue:"NULL_VALUE"};function ru(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gv(n)?4:WS(n)?9007199254740991:ey(n)?10:11:wt(28295,{value:n})}function rc(n,e){if(n===e)return!0;const t=ru(n);if(t!==ru(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fg(n).isEqual(Fg(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Xc(a.timestampValue),d=Xc(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return Qc(a.bytesValue).isEqual(Qc(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return Gr(a.geoPointValue.latitude)===Gr(o.geoPointValue.latitude)&&Gr(a.geoPointValue.longitude)===Gr(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Gr(a.integerValue)===Gr(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Gr(a.doubleValue),d=Gr(o.doubleValue);return c===d?Lg(c)===Lg(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return Df(n.arrayValue.values||[],e.arrayValue.values||[],rc);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},d=o.mapValue.fields||{};if($j(c)!==$j(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!rc(c[h],d[h])))return!1;return!0})(n,e);default:return wt(52216,{left:n})}}function Ug(n,e){return(n.values||[]).find((t=>rc(t,e)))!==void 0}function su(n,e){if(n===e)return 0;const t=ru(n),s=ru(e);if(t!==s)return cn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return cn(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=Gr(o.integerValue||o.doubleValue),h=Gr(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(n,e);case 3:return Kj(n.timestampValue,e.timestampValue);case 4:return Kj(Fg(n),Fg(e));case 5:return W1(n.stringValue,e.stringValue);case 6:return(function(o,c){const d=Qc(o),h=Qc(c);return d.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),h=c.split("/");for(let f=0;f<d.length&&f<h.length;f++){const g=cn(d[f],h[f]);if(g!==0)return g}return cn(d.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=cn(Gr(o.latitude),Gr(c.latitude));return d!==0?d:cn(Gr(o.longitude),Gr(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Yj(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const d=o.fields||{},h=c.fields||{},f=d[Vf]?.arrayValue,g=h[Vf]?.arrayValue,p=cn(f?.values?.length||0,g?.values?.length||0);return p!==0?p:Yj(f,g)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===$d.mapValue&&c===$d.mapValue)return 0;if(o===$d.mapValue)return 1;if(c===$d.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),f=c.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let p=0;p<h.length&&p<g.length;++p){const v=W1(h[p],g[p]);if(v!==0)return v;const b=su(d[h[p]],f[g[p]]);if(b!==0)return b}return cn(h.length,g.length)})(n.mapValue,e.mapValue);default:throw wt(23264,{he:t})}}function Kj(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return cn(n,e);const t=Xc(n),s=Xc(e),a=cn(t.seconds,s.seconds);return a!==0?a:cn(t.nanos,s.nanos)}function Yj(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const o=su(t[a],s[a]);if(o)return o}return cn(t.length,s.length)}function zf(n){return Z1(n)}function Z1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Xc(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Qc(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return lt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",a=!0;for(const o of t.values||[])a?a=!1:s+=",",s+=Z1(o);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of s)o?o=!1:a+=",",a+=`${c}:${Z1(t.fields[c])}`;return a+"}"})(n.mapValue):wt(61005,{value:n})}function B0(n){switch(ru(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zx(n);return e?16+B0(e):16;case 5:return 2*n.stringValue.length;case 6:return Qc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,o)=>a+B0(o)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return mu(s.fields,((o,c)=>{a+=o.length+B0(c)})),a})(n.mapValue);default:throw wt(13486,{value:n})}}function Vg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function e2(n){return!!n&&"integerValue"in n}function zg(n){return!!n&&"arrayValue"in n}function Xj(n){return!!n&&"nullValue"in n}function Qj(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function q0(n){return!!n&&"mapValue"in n}function ey(n){return(n?.mapValue?.fields||{})[pv]?.stringValue===xv}function pg(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return mu(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=pg(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pg(n.arrayValue.values[t]);return e}return{...n}}function WS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===$S}const KS={mapValue:{fields:{[pv]:{stringValue:xv},[Vf]:{arrayValue:{}}}}};function H7(n){return"nullValue"in n?z0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Vg(nh.empty(),lt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?ey(n)?KS:{mapValue:{}}:wt(35942,{value:n})}function $7(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Vg(nh.empty(),lt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?KS:"mapValue"in n?ey(n)?{mapValue:{}}:$d:wt(61959,{value:n})}function Jj(n,e){const t=su(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Zj(n,e){const t=su(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Za{constructor(e){this.value=e}static empty(){return new Za({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!q0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pg(t)}setAll(e){let t=Zr.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,s,a),s={},a=[],t=d.popLast()}c?s[d.lastSegment()]=pg(c):a.push(d.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,s,a)}delete(e){const t=this.field(e.popLast());q0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];q0(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){mu(t,((a,o)=>e[a]=o));for(const a of s)delete e[a]}clone(){return new Za(pg(this.value))}}function YS(n){const e=[];return mu(n.fields,((t,s)=>{const a=new Zr([t]);if(q0(s)){const o=YS(s.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new Bi(e)}class ms{constructor(e,t,s,a,o,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new ms(e,0,Gt.min(),Gt.min(),Gt.min(),Za.empty(),0)}static newFoundDocument(e,t,s,a){return new ms(e,1,t,Gt.min(),s,a,0)}static newNoDocument(e,t){return new ms(e,2,t,Gt.min(),Gt.min(),Za.empty(),0)}static newUnknownDocument(e,t){return new ms(e,3,t,Gt.min(),Gt.min(),Za.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Za.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Za.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ms&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ms(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bf{constructor(e,t){this.position=e,this.inclusive=t}}function e_(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?s=lt.comparator(lt.fromName(c.referenceValue),t.key):s=su(c,t.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function t_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!rc(n.position[t],e.position[t]))return!1;return!0}class Bg{constructor(e,t="asc"){this.field=e,this.dir=t}}function W7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class XS{}class Dn extends XS{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new K7(e,t,s):t==="array-contains"?new Q7(e,s):t==="in"?new nE(e,s):t==="not-in"?new J7(e,s):t==="array-contains-any"?new Z7(e,s):new Dn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new Y7(e,s):new X7(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(su(t,this.value)):t!==null&&ru(this.value)===ru(t)&&this.matchesComparison(su(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends XS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new dr(e,t)}matches(e){return qf(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qf(n){return n.op==="and"}function t2(n){return n.op==="or"}function yv(n){return QS(n)&&qf(n)}function QS(n){for(const e of n.filters)if(e instanceof dr)return!1;return!0}function n2(n){if(n instanceof Dn)return n.field.canonicalString()+n.op.toString()+zf(n.value);if(yv(n))return n.filters.map((e=>n2(e))).join(",");{const e=n.filters.map((t=>n2(t))).join(",");return`${n.op}(${e})`}}function JS(n,e){return n instanceof Dn?(function(s,a){return a instanceof Dn&&s.op===a.op&&s.field.isEqual(a.field)&&rc(s.value,a.value)})(n,e):n instanceof dr?(function(s,a){return a instanceof dr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((o,c,d)=>o&&JS(c,a.filters[d])),!0):!1})(n,e):void wt(19439)}function ZS(n,e){const t=n.filters.concat(e);return dr.create(t,n.op)}function eE(n){return n instanceof Dn?(function(t){return`${t.field.canonicalString()} ${t.op} ${zf(t.value)}`})(n):n instanceof dr?(function(t){return t.op.toString()+" {"+t.getFilters().map(eE).join(" ,")+"}"})(n):"Filter"}class K7 extends Dn{constructor(e,t,s){super(e,t,s),this.key=lt.fromName(s.referenceValue)}matches(e){const t=lt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Y7 extends Dn{constructor(e,t){super(e,"in",t),this.keys=tE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class X7 extends Dn{constructor(e,t){super(e,"not-in",t),this.keys=tE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function tE(n,e){return(e.arrayValue?.values||[]).map((t=>lt.fromName(t.referenceValue)))}class Q7 extends Dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zg(t)&&Ug(t.arrayValue,this.value)}}class nE extends Dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ug(this.value.arrayValue,t)}}class J7 extends Dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ug(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ug(this.value.arrayValue,t)}}class Z7 extends Dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Ug(this.value.arrayValue,s)))}}class eD{constructor(e,t=null,s=[],a=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function r2(n,e=null,t=[],s=[],a=null,o=null,c=null){return new eD(n,e,t,s,a,o,c)}function rh(n){const e=dn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>n2(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),Yx(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>zf(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>zf(s))).join(",")),e.Te=t}return e.Te}function sp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!W7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!JS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!t_(n.startAt,e.startAt)&&t_(n.endAt,e.endAt)}function px(n){return lt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function xx(n,e){return n.filters.filter((t=>t instanceof Dn&&t.field.isEqual(e)))}function n_(n,e,t){let s=z0,a=!0;for(const o of xx(n,e)){let c=z0,d=!0;switch(o.op){case"<":case"<=":c=H7(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,d=!1;break;case"!=":case"not-in":c=z0}Jj({value:s,inclusive:a},{value:c,inclusive:d})<0&&(s=c,a=d)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];Jj({value:s,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(s=c,a=t.inclusive);break}}return{value:s,inclusive:a}}function r_(n,e,t){let s=$d,a=!0;for(const o of xx(n,e)){let c=$d,d=!0;switch(o.op){case">=":case">":c=$7(o.value),d=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,d=!1;break;case"!=":case"not-in":c=$d}Zj({value:s,inclusive:a},{value:c,inclusive:d})>0&&(s=c,a=d)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];Zj({value:s,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(s=c,a=t.inclusive);break}}return{value:s,inclusive:a}}class am{constructor(e,t=null,s=[],a=[],o=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tD(n,e,t,s,a,o,c,d){return new am(n,e,t,s,a,o,c,d)}function ap(n){return new am(n)}function s_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function rE(n){return n.collectionGroup!==null}function xg(n){const e=dn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ur(Zr.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(d=d.add(f.field))}))})),d})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Bg(o,s))})),t.has(Zr.keyField().canonicalString())||e.Ie.push(new Bg(Zr.keyField(),s))}return e.Ie}function Fo(n){const e=dn(n);return e.Ee||(e.Ee=nD(e,xg(n))),e.Ee}function nD(n,e){if(n.limitType==="F")return r2(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Bg(a.field,o)}));const t=n.endAt?new Bf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Bf(n.startAt.position,n.startAt.inclusive):null;return r2(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function s2(n,e){const t=n.filters.concat([e]);return new am(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function a2(n,e,t){return new am(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ty(n,e){return sp(Fo(n),Fo(e))&&n.limitType===e.limitType}function sE(n){return`${rh(Fo(n))}|lt:${n.limitType}`}function gf(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>eE(a))).join(", ")}]`),Yx(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>zf(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>zf(a))).join(",")),`Target(${s})`})(Fo(n))}; limitType=${n.limitType})`}function ip(n,e){return e.isFoundDocument()&&(function(s,a){const o=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):lt.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)})(n,e)&&(function(s,a){for(const o of xg(s))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(s,a){for(const o of s.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,h){const f=e_(c,d,h);return c.inclusive?f<=0:f<0})(s.startAt,xg(s),a)||s.endAt&&!(function(c,d,h){const f=e_(c,d,h);return c.inclusive?f>=0:f>0})(s.endAt,xg(s),a))})(n,e)}function rD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aE(n){return(e,t)=>{let s=!1;for(const a of xg(n)){const o=sD(a,e,t);if(o!==0)return o;s=s||a.field.isKeyField()}return 0}}function sD(n,e,t){const s=n.field.isKeyField()?lt.comparator(e.key,t.key):(function(o,c,d){const h=c.data.field(o),f=d.data.field(o);return h!==null&&f!==null?su(h,f):wt(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return wt(19790,{direction:n.dir})}}class td{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,o]of s)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){mu(this.inner,((t,s)=>{for(const[a,o]of s)e(a,o)}))}isEmpty(){return VS(this.inner)}size(){return this.innerSize}}const aD=new $r(lt.comparator);function co(){return aD}const iE=new $r(lt.comparator);function ig(...n){let e=iE;for(const t of n)e=e.insert(t.key,t);return e}function oE(n){let e=iE;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Kl(){return yg()}function lE(){return yg()}function yg(){return new td((n=>n.toString()),((n,e)=>n.isEqual(e)))}const iD=new $r(lt.comparator),oD=new ur(lt.comparator);function Sn(...n){let e=oD;for(const t of n)e=e.add(t);return e}const lD=new ur(cn);function cD(){return lD}function bv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lg(e)?"-0":e}}function cE(n){return{integerValue:""+n}}function dD(n,e){return p7(e)?cE(e):bv(n,e)}class ny{constructor(){this._=void 0}}function uD(n,e,t){return n instanceof Gf?(function(a,o){const c={fields:{[qS]:{stringValue:BS},[HS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&gv(o)&&(o=Zx(o)),o&&(c.fields[GS]=o),{mapValue:c}})(t,e):n instanceof Hf?uE(n,e):n instanceof $f?hE(n,e):(function(a,o){const c=dE(a,o),d=a_(c)+a_(a.Ae);return e2(c)&&e2(a.Ae)?cE(d):bv(a.serializer,d)})(n,e)}function hD(n,e,t){return n instanceof Hf?uE(n,e):n instanceof $f?hE(n,e):t}function dE(n,e){return n instanceof qg?(function(s){return e2(s)||(function(o){return!!o&&"doubleValue"in o})(s)})(e)?e:{integerValue:0}:null}class Gf extends ny{}class Hf extends ny{constructor(e){super(),this.elements=e}}function uE(n,e){const t=fE(e);for(const s of n.elements)t.some((a=>rc(a,s)))||t.push(s);return{arrayValue:{values:t}}}class $f extends ny{constructor(e){super(),this.elements=e}}function hE(n,e){let t=fE(e);for(const s of n.elements)t=t.filter((a=>!rc(a,s)));return{arrayValue:{values:t}}}class qg extends ny{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function a_(n){return Gr(n.integerValue||n.doubleValue)}function fE(n){return zg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mE{constructor(e,t){this.field=e,this.transform=t}}function fD(n,e){return n.field.isEqual(e.field)&&(function(s,a){return s instanceof Hf&&a instanceof Hf||s instanceof $f&&a instanceof $f?Df(s.elements,a.elements,rc):s instanceof qg&&a instanceof qg?rc(s.Ae,a.Ae):s instanceof Gf&&a instanceof Gf})(n.transform,e.transform)}class mD{constructor(e,t){this.version=e,this.transformResults=t}}class ra{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ra}static exists(e){return new ra(void 0,e)}static updateTime(e){return new ra(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function G0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ry{}function gE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new op(n.key,ra.none()):new im(n.key,n.data,ra.none());{const t=n.data,s=Za.empty();let a=new ur(Zr.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?s.delete(o):s.set(o,c),a=a.add(o)}return new nd(n.key,s,new Bi(a.toArray()),ra.none())}}function gD(n,e,t){n instanceof im?(function(a,o,c){const d=a.value.clone(),h=o_(a.fieldTransforms,o,c.transformResults);d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof nd?(function(a,o,c){if(!G0(a.precondition,o))return void o.convertToUnknownDocument(c.version);const d=o_(a.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(pE(a)),h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function bg(n,e,t,s){return n instanceof im?(function(o,c,d,h){if(!G0(o.precondition,c))return d;const f=o.value.clone(),g=l_(o.fieldTransforms,h,c);return f.setAll(g),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(n,e,t,s):n instanceof nd?(function(o,c,d,h){if(!G0(o.precondition,c))return d;const f=l_(o.fieldTransforms,h,c),g=c.data;return g.setAll(pE(o)),g.setAll(f),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(n,e,t,s):(function(o,c,d){return G0(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function pD(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),o=dE(s.transform,a||null);o!=null&&(t===null&&(t=Za.empty()),t.set(s.field,o))}return t||null}function i_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Df(s,a,((o,c)=>fD(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class im extends ry{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class nd extends ry{constructor(e,t,s,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function o_(n,e,t){const s=new Map;Pt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,d=e.data.field(o.field);s.set(o.field,hD(c,d,t[a]))}return s}function l_(n,e,t){const s=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);s.set(a.field,uD(o,c,e))}return s}class op extends ry{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xE extends ry{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vv{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&gD(o,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=bg(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=bg(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=lE();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=t.has(a.key)?null:d;const h=gE(c,d);h!==null&&s.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Gt.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Sn())}isEqual(e){return this.batchId===e.batchId&&Df(this.mutations,e.mutations,((t,s)=>i_(t,s)))&&Df(this.baseMutations,e.baseMutations,((t,s)=>i_(t,s)))}}class wv{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Pt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return iD})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,s[c].version);return new wv(e,t,s,a)}}class Nv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xD{constructor(e,t){this.count=e,this.unchangedNames=t}}var Fs,zn;function yD(n){switch(n){case Ue.OK:return wt(64938);case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0;default:return wt(15467,{code:n})}}function yE(n){if(n===void 0)return pi("GRPC error has no .code"),Ue.UNKNOWN;switch(n){case Fs.OK:return Ue.OK;case Fs.CANCELLED:return Ue.CANCELLED;case Fs.UNKNOWN:return Ue.UNKNOWN;case Fs.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case Fs.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case Fs.INTERNAL:return Ue.INTERNAL;case Fs.UNAVAILABLE:return Ue.UNAVAILABLE;case Fs.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case Fs.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case Fs.NOT_FOUND:return Ue.NOT_FOUND;case Fs.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case Fs.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case Fs.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case Fs.ABORTED:return Ue.ABORTED;case Fs.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case Fs.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case Fs.DATA_LOSS:return Ue.DATA_LOSS;default:return wt(39323,{code:n})}}(zn=Fs||(Fs={}))[zn.OK=0]="OK",zn[zn.CANCELLED=1]="CANCELLED",zn[zn.UNKNOWN=2]="UNKNOWN",zn[zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zn[zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zn[zn.NOT_FOUND=5]="NOT_FOUND",zn[zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",zn[zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",zn[zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",zn[zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zn[zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zn[zn.ABORTED=10]="ABORTED",zn[zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",zn[zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",zn[zn.INTERNAL=13]="INTERNAL",zn[zn.UNAVAILABLE=14]="UNAVAILABLE",zn[zn.DATA_LOSS=15]="DATA_LOSS";function bD(){return new TextEncoder}const vD=new Qd([4294967295,4294967295],0);function c_(n){const e=bD().encode(n),t=new gS;return t.update(e),new Uint8Array(t.digest())}function d_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Qd([t,s],0),new Qd([a,o],0)]}class jv{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new og(`Invalid padding: ${t}`);if(s<0)throw new og(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new og(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new og(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Qd.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(Qd.fromNumber(s)));return a.compare(vD)===1&&(a=new Qd([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=c_(e),[s,a]=d_(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(s,a,o);if(!this.we(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new jv(o,a,t);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=c_(e),[s,a]=d_(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(s,a,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class og extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sy{constructor(e,t,s,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,lp.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new sy(Gt.min(),a,new $r(cn),co(),Sn())}}class lp{constructor(e,t,s,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new lp(s,t,Sn(),Sn(),Sn())}}class H0{constructor(e,t,s,a){this.be=e,this.removedTargetIds=t,this.key=s,this.De=a}}class bE{constructor(e,t){this.targetId=e,this.Ce=t}}class vE{constructor(e,t,s=Bs.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class u_{constructor(){this.ve=0,this.Fe=h_(),this.Me=Bs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Sn(),t=Sn(),s=Sn();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:wt(38017,{changeType:o})}})),new lp(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=h_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wD{constructor(e){this.Ge=e,this.ze=new Map,this.je=co(),this.Je=g0(),this.He=g0(),this.Ye=new $r(cn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:wt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(px(o))if(s===0){const c=new lt(o.path);this.et(t,c,ms.newNoDocument(c,Gt.min()))}else Pt(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const d=this.ut(e),h=d?this.ct(d,e,c):1;if(h!==0){this.it(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:o=0}=t;let c,d;try{c=Qc(s).toUint8Array()}catch(h){if(h instanceof zS)return th("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new jv(c,a,o)}catch(h){return th(h instanceof og?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&px(d.target)){const h=new lt(d.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,ms.newNoDocument(h,e))}o.Be&&(t.set(c,o.ke()),o.qe())}}));let s=Sn();this.He.forEach(((o,c)=>{let d=!0;c.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new sy(e,t,this.Ye,this.je,s);return this.je=co(),this.Je=g0(),this.He=g0(),this.Ye=new $r(cn),a}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new u_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ur(cn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ur(cn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||tt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new u_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function g0(){return new $r(lt.comparator)}function h_(){return new $r(lt.comparator)}const ND={asc:"ASCENDING",desc:"DESCENDING"},jD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_D={and:"AND",or:"OR"};class SD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function i2(n,e){return n.useProto3Json||Yx(e)?e:{value:e}}function Wf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ED(n,e){return Wf(n,e.toTimestamp())}function xi(n){return Pt(!!n,49232),Gt.fromTimestamp((function(t){const s=Xc(t);return new xt(s.seconds,s.nanos)})(n))}function _v(n,e){return o2(n,e).canonicalString()}function o2(n,e){const t=(function(a){return new tr(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function NE(n){const e=tr.fromString(n);return Pt(kE(e),10190,{key:e.toString()}),e}function yx(n,e){return _v(n.databaseId,e.path)}function $u(n,e){const t=NE(e);if(t.get(1)!==n.databaseId.projectId)throw new st(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new st(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new lt(SE(t))}function jE(n,e){return _v(n.databaseId,e)}function _E(n){const e=NE(n);return e.length===4?tr.emptyPath():SE(e)}function l2(n){return new tr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SE(n){return Pt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function f_(n,e,t){return{name:yx(n,e),fields:t.value.mapValue.fields}}function AD(n,e,t){const s=$u(n,e.name),a=xi(e.updateTime),o=e.createTime?xi(e.createTime):Gt.min(),c=new Za({mapValue:{fields:e.fields}}),d=ms.newFoundDocument(s,a,o,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function TD(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:wt(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(Pt(g===void 0||typeof g=="string",58123),Bs.fromBase64String(g||"")):(Pt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Bs.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(f){const g=f.code===void 0?Ue.UNKNOWN:yE(f.code);return new st(g,f.message||"")})(c);t=new vE(s,a,o,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=$u(n,s.document.name),o=xi(s.document.updateTime),c=s.document.createTime?xi(s.document.createTime):Gt.min(),d=new Za({mapValue:{fields:s.document.fields}}),h=ms.newFoundDocument(a,o,c,d),f=s.targetIds||[],g=s.removedTargetIds||[];t=new H0(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=$u(n,s.document),o=s.readTime?xi(s.readTime):Gt.min(),c=ms.newNoDocument(a,o),d=s.removedTargetIds||[];t=new H0([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=$u(n,s.document),o=s.removedTargetIds||[];t=new H0([],o,a,null)}else{if(!("filter"in e))return wt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:o}=s,c=new xD(a,o),d=s.targetId;t=new bE(d,c)}}return t}function bx(n,e){let t;if(e instanceof im)t={update:f_(n,e.key,e.value)};else if(e instanceof op)t={delete:yx(n,e.key)};else if(e instanceof nd)t={update:f_(n,e.key,e.data),updateMask:LD(e.fieldMask)};else{if(!(e instanceof xE))return wt(16599,{Vt:e.type});t={verify:yx(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(o,c){const d=c.transform;if(d instanceof Gf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Hf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof $f)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof qg)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw wt(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:ED(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:wt(27497)})(n,e.precondition)),t}function c2(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?ra.updateTime(xi(o.updateTime)):o.exists!==void 0?ra.exists(o.exists):ra.none()})(e.currentDocument):ra.none(),s=e.updateTransforms?e.updateTransforms.map((a=>(function(c,d){let h=null;if("setToServerValue"in d)Pt(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),h=new Gf;else if("appendMissingElements"in d){const g=d.appendMissingElements.values||[];h=new Hf(g)}else if("removeAllFromArray"in d){const g=d.removeAllFromArray.values||[];h=new $f(g)}else"increment"in d?h=new qg(c,d.increment):wt(16584,{proto:d});const f=Zr.fromServerFormat(d.fieldPath);return new mE(f,h)})(n,a))):[];if(e.update){e.update.name;const a=$u(n,e.update.name),o=new Za({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(h){const f=h.fieldPaths||[];return new Bi(f.map((g=>Zr.fromServerFormat(g))))})(e.updateMask);return new nd(a,o,c,t,s)}return new im(a,o,t,s)}if(e.delete){const a=$u(n,e.delete);return new op(a,t)}if(e.verify){const a=$u(n,e.verify);return new xE(a,t)}return wt(1463,{proto:e})}function CD(n,e){return n&&n.length>0?(Pt(e!==void 0,14353),n.map((t=>(function(a,o){let c=a.updateTime?xi(a.updateTime):xi(o);return c.isEqual(Gt.min())&&(c=xi(o)),new mD(c,a.transformResults||[])})(t,e)))):[]}function EE(n,e){return{documents:[jE(n,e.path)]}}function AE(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=jE(n,a);const o=(function(f){if(f.length!==0)return IE(dr.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(f){if(f.length!==0)return f.map((g=>(function(v){return{field:pf(v.field),direction:kD(v.dir)}})(g)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=i2(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:a}}function TE(n){let e=_E(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Pt(s===1,65062);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(p){const v=CE(p);return v instanceof dr&&yv(v)?v.getFilters():[v]})(t.where));let c=[];t.orderBy&&(c=(function(p){return p.map((v=>(function(T){return new Bg(xf(T.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(v)))})(t.orderBy));let d=null;t.limit&&(d=(function(p){let v;return v=typeof p=="object"?p.value:p,Yx(v)?null:v})(t.limit));let h=null;t.startAt&&(h=(function(p){const v=!!p.before,b=p.values||[];return new Bf(b,v)})(t.startAt));let f=null;return t.endAt&&(f=(function(p){const v=!p.before,b=p.values||[];return new Bf(b,v)})(t.endAt)),tD(e,a,c,o,d,"F",h,f)}function ID(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function CE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=xf(t.unaryFilter.field);return Dn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=xf(t.unaryFilter.field);return Dn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xf(t.unaryFilter.field);return Dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xf(t.unaryFilter.field);return Dn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Dn.create(xf(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return dr.create(t.compositeFilter.filters.map((s=>CE(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(t.compositeFilter.op))})(n):wt(30097,{filter:n})}function kD(n){return ND[n]}function RD(n){return jD[n]}function PD(n){return _D[n]}function pf(n){return{fieldPath:n.canonicalString()}}function xf(n){return Zr.fromServerFormat(n.fieldPath)}function IE(n){return n instanceof Dn?(function(t){if(t.op==="=="){if(Qj(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NAN"}};if(Xj(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Qj(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NOT_NAN"}};if(Xj(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pf(t.field),op:RD(t.op),value:t.value}}})(n):n instanceof dr?(function(t){const s=t.getFilters().map((a=>IE(a)));return s.length===1?s[0]:{compositeFilter:{op:PD(t.op),filters:s}}})(n):wt(54877,{filter:n})}function LD(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function kE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class qc{constructor(e,t,s,a,o=Gt.min(),c=Gt.min(),d=Bs.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new qc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RE{constructor(e){this.yt=e}}function DD(n,e){let t;if(e.document)t=AD(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=lt.fromSegments(e.noDocument.path),a=ah(e.noDocument.readTime);t=ms.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return wt(56709);{const s=lt.fromSegments(e.unknownDocument.path),a=ah(e.unknownDocument.version);t=ms.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime((function(a){const o=new xt(a[0],a[1]);return Gt.fromTimestamp(o)})(e.readTime)),t}function m_(n,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:vx(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document=(function(o,c){return{name:yx(o,c.key),fields:c.data.value.mapValue.fields,updateTime:Wf(o,c.version.toTimestamp()),createTime:Wf(o,c.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:sh(e.version)};else{if(!e.isUnknownDocument())return wt(57904,{document:e});s.unknownDocument={path:t.path.toArray(),version:sh(e.version)}}return s}function vx(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function sh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ah(n){const e=new xt(n.seconds,n.nanoseconds);return Gt.fromTimestamp(e)}function Uu(n,e){const t=(e.baseMutations||[]).map((o=>c2(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const d=e.mutations[o+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const s=e.mutations.map((o=>c2(n.yt,o))),a=xt.fromMillis(e.localWriteTimeMs);return new vv(e.batchId,a,t,s)}function lg(n){const e=ah(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?ah(n.lastLimboFreeSnapshotVersion):Gt.min();let s;return s=(function(o){return o.documents!==void 0})(n.query)?(function(o){const c=o.documents.length;return Pt(c===1,1966,{count:c}),Fo(ap(_E(o.documents[0])))})(n.query):(function(o){return Fo(TE(o))})(n.query),new qc(s,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Bs.fromBase64String(n.resumeToken))}function PE(n,e){const t=sh(e.snapshotVersion),s=sh(e.lastLimboFreeSnapshotVersion);let a;a=px(e.target)?EE(n.yt,e.target):AE(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:rh(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function LE(n){const e=TE({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?a2(e,e.limit,"L"):e}function Jb(n,e){return new Nv(e.largestBatchId,c2(n.yt,e.overlayMutation))}function g_(n,e){const t=e.path.lastSegment();return[n,ei(e.path.popLast()),t]}function p_(n,e,t,s){return{indexId:n,uid:e,sequenceNumber:t,readTime:sh(s.readTime),documentKey:ei(s.documentKey.path),largestBatchId:s.largestBatchId}}class MD{getBundleMetadata(e,t){return x_(e).get(t).next((s=>{if(s)return(function(o){return{id:o.bundleId,createTime:ah(o.createTime),version:o.version}})(s)}))}saveBundleMetadata(e,t){return x_(e).put((function(a){return{bundleId:a.id,createTime:sh(xi(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return y_(e).get(t).next((s=>{if(s)return(function(o){return{name:o.name,query:LE(o.bundledQuery),readTime:ah(o.readTime)}})(s)}))}saveNamedQuery(e,t){return y_(e).put((function(a){return{name:a.name,readTime:sh(xi(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function x_(n){return aa(n,Xx)}function y_(n){return aa(n,Qx)}class ay{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const s=t.uid||"";return new ay(e,s)}getOverlay(e,t){return Ym(e).get(g_(this.userId,t)).next((s=>s?Jb(this.serializer,s):null))}getOverlays(e,t){const s=Kl();return Te.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&s.set(a,o)})))).next((()=>s))}saveOverlays(e,t,s){const a=[];return s.forEach(((o,c)=>{const d=new Nv(t,c);a.push(this.St(e,d))})),Te.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach((c=>a.add(ei(c.getCollectionPath()))));const o=[];return a.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,s+1],!1,!0);o.push(Ym(e).Z(Q1,d))})),Te.waitFor(o)}getOverlaysForCollection(e,t,s){const a=Kl(),o=ei(t),c=IDBKeyRange.bound([this.userId,o,s],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ym(e).J(Q1,c).next((d=>{for(const h of d){const f=Jb(this.serializer,h);a.set(f.getKey(),f)}return a}))}getOverlaysForCollectionGroup(e,t,s,a){const o=Kl();let c;const d=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ym(e).ee({index:DS,range:d},((h,f,g)=>{const p=Jb(this.serializer,f);o.size()<a||p.largestBatchId===c?(o.set(p.getKey(),p),c=p.largestBatchId):g.done()})).next((()=>o))}St(e,t){return Ym(e).put((function(a,o,c){const[d,h,f]=g_(o,c.mutation.key);return{userId:o,collectionPath:h,documentId:f,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:bx(a.yt,c.mutation)}})(this.serializer,this.userId,t))}}function Ym(n){return aa(n,Jx)}class OD{bt(e){return aa(e,fv)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const s=t?.value;return s?Bs.fromUint8Array(s):Bs.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Vu{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Gr(e.integerValue));else if("doubleValue"in e){const s=Gr(e.doubleValue);isNaN(s)?this.Ft(t,13):(this.Ft(t,15),Lg(s)?t.Mt(0):t.Mt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Ft(t,20),typeof s=="string"&&(s=Xc(s)),t.xt(`${s.seconds||""}`),t.Mt(s.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Qc(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.Ft(t,45),t.Mt(s.latitude||0),t.Mt(s.longitude||0)}else"mapValue"in e?WS(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):ey(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):wt(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const s=e.fields||{};this.Ft(t,55);for(const a of Object.keys(s))this.Ot(a,t),this.Ct(s[a],t)}kt(e,t){const s=e.fields||{};this.Ft(t,53);const a=Vf,o=s[a].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Gr(o)),this.Ot(a,t),this.Ct(s[a],t)}Qt(e,t){const s=e.values||[];this.Ft(t,50);for(const a of s)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),lt.fromName(e).path.forEach((s=>{this.Ft(t,60),this.Ut(s,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Vu.Kt=new Vu;const rf=255;function FD(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function b_(n){const e=64-(function(s){let a=0;for(let o=0;o<8;++o){const c=FD(255&s[o]);if(a+=c,c!==8)break}return a})(n);return Math.ceil(e/8)}class UD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Gt(s.value),s=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Jt(s.value),s=t.next();this.Ht()}Yt(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Gt(s);else if(s<2048)this.Gt(960|s>>>6),this.Gt(128|63&s);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Jt(s);else if(s<2048)this.Jt(960|s>>>6),this.Jt(128|63&s);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s);else{const a=t.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const t=this.en(e),s=b_(t);this.tn(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),s=b_(t);this.tn(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(rf),this.sn(255)}_n(){this.an(rf),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)})(e),s=!!(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===rf?(this.sn(rf),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===rf?(this.an(rf),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class VD{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class zD{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Xm{constructor(){this.cn=new UD,this.ln=new VD(this.cn),this.hn=new zD(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class zu{constructor(e,t,s,a){this.Tn=e,this.In=t,this.En=s,this.dn=a}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,s=new Uint8Array(t);return s.set(this.dn,0),t!==e?s.set([0],this.dn.length):++s[s.length-1],new zu(this.Tn,this.In,this.En,s)}Rn(e,t,s){return{indexId:this.Tn,uid:e,arrayValue:$0(this.En),directionalValue:$0(this.dn),orderedDocumentKey:$0(t),documentKey:s.path.toArray()}}Vn(e,t,s){const a=this.Rn(e,t,s);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Ld(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=v_(n.En,e.En),t!==0?t:(t=v_(n.dn,e.dn),t!==0?t:lt.comparator(n.In,e.In)))}function v_(n,e){for(let t=0;t<n.length&&t<e.length;++t){const s=n[t]-e[t];if(s!==0)return s}return n.length-e.length}function $0(n){return A3()?(function(t){let s="";for(let a=0;a<t.length;a++)s+=String.fromCharCode(t[a]);return s})(n):n}function w_(n){return typeof n!="string"?n:(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(n)}class N_{constructor(e){this.mn=new ur(((t,s)=>Zr.comparator(t.field,s.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const s=t;s.isInequality()?this.mn=this.mn.add(s):this.gn.push(s)}}get pn(){return this.mn.size>1}yn(e){if(Pt(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=K1(e);if(t!==void 0&&!this.wn(t))return!1;const s=Du(e);let a=new Set,o=0,c=0;for(;o<s.length&&this.wn(s[o]);++o)a=a.add(s[o].fieldPath.canonicalString());if(o===s.length)return!0;if(this.mn.size>0){const d=this.mn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const h=s[o];if(!this.Sn(d,h)||!this.bn(this.fn[c++],h))return!1}++o}for(;o<s.length;++o){const d=s[o];if(c>=this.fn.length||!this.bn(this.fn[c++],d))return!1}return!0}Dn(){if(this.pn)return null;let e=new ur(Zr.comparator);const t=[];for(const s of this.gn)if(!s.field.isKeyField())if(s.op==="array-contains"||s.op==="array-contains-any")t.push(new F0(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),t.push(new F0(s.field,0))}for(const s of this.fn)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),t.push(new F0(s.field,s.dir==="asc"?0:1)));return new ux(ux.UNKNOWN_ID,this.collectionId,t,Pg.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const s=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===s}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function DE(n){if(Pt(n instanceof Dn||n instanceof dr,20012),n instanceof Dn){if(n instanceof nE){const t=n.value.arrayValue?.values?.map((s=>Dn.create(n.field,"==",s)))||[];return dr.create(t,"or")}return n}const e=n.filters.map((t=>DE(t)));return dr.create(e,n.op)}function BD(n){if(n.getFilters().length===0)return[];const e=h2(DE(n));return Pt(ME(e),7391),d2(e)||u2(e)?[e]:e.getFilters()}function d2(n){return n instanceof Dn}function u2(n){return n instanceof dr&&yv(n)}function ME(n){return d2(n)||u2(n)||(function(t){if(t instanceof dr&&t2(t)){for(const s of t.getFilters())if(!d2(s)&&!u2(s))return!1;return!0}return!1})(n)}function h2(n){if(Pt(n instanceof Dn||n instanceof dr,34018),n instanceof Dn)return n;if(n.filters.length===1)return h2(n.filters[0]);const e=n.filters.map((s=>h2(s)));let t=dr.create(e,n.op);return t=wx(t),ME(t)?t:(Pt(t instanceof dr,64498),Pt(qf(t),40251),Pt(t.filters.length>1,57927),t.filters.reduce(((s,a)=>Sv(s,a))))}function Sv(n,e){let t;return Pt(n instanceof Dn||n instanceof dr,38388),Pt(e instanceof Dn||e instanceof dr,25473),t=n instanceof Dn?e instanceof Dn?(function(a,o){return dr.create([a,o],"and")})(n,e):j_(n,e):e instanceof Dn?j_(e,n):(function(a,o){if(Pt(a.filters.length>0&&o.filters.length>0,48005),qf(a)&&qf(o))return ZS(a,o.getFilters());const c=t2(a)?a:o,d=t2(a)?o:a,h=c.filters.map((f=>Sv(f,d)));return dr.create(h,"or")})(n,e),wx(t)}function j_(n,e){if(qf(e))return ZS(e,n.getFilters());{const t=e.filters.map((s=>Sv(n,s)));return dr.create(t,"or")}}function wx(n){if(Pt(n instanceof Dn||n instanceof dr,11850),n instanceof Dn)return n;const e=n.getFilters();if(e.length===1)return wx(e[0]);if(QS(n))return n;const t=e.map((a=>wx(a))),s=[];return t.forEach((a=>{a instanceof Dn?s.push(a):a instanceof dr&&(a.op===n.op?s.push(...a.filters):s.push(a))})),s.length===1?s[0]:dr.create(s,n.op)}class qD{constructor(){this.Cn=new Ev}addToCollectionParentIndex(e,t){return this.Cn.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(fo.min())}updateCollectionGroup(e,t,s){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class Ev{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new ur(tr.comparator),o=!a.has(s);return this.index[t]=a.add(s),o}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new ur(tr.comparator)).toArray()}}const __="IndexedDbIndexManager",p0=new Uint8Array(0);class GD{constructor(e,t){this.databaseId=t,this.vn=new Ev,this.Fn=new td((s=>rh(s)),((s,a)=>sp(s,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const o={collectionId:s,parent:ei(a)};return S_(e).put(o)}return Te.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[jS(t),""],!1,!0);return S_(e).J(a).next((o=>{for(const c of o){if(c.collectionId!==t)break;s.push(Wl(c.parent))}return s}))}addFieldIndex(e,t){const s=Qm(e),a=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(t);delete a.indexId;const o=s.add(a);if(t.indexState){const c=af(e);return o.next((d=>{c.put(p_(d,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const s=Qm(e),a=af(e),o=sf(e);return s.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Qm(e),s=sf(e),a=af(e);return t.Z().next((()=>s.Z())).next((()=>a.Z()))}createTargetIndexes(e,t){return Te.forEach(this.Mn(t),(s=>this.getIndexType(e,s).next((a=>{if(a===0||a===1){const o=new N_(s).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const s=sf(e);let a=!0;const o=new Map;return Te.forEach(this.Mn(t),(c=>this.xn(e,c).next((d=>{a&&(a=!!d),o.set(c,d)})))).next((()=>{if(a){let c=Sn();const d=[];return Te.forEach(o,((h,f)=>{tt(__,`Using index ${(function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map((z=>`${z.fieldPath}:${z.kind}`)).join(",")}`})(h)} to execute ${rh(t)}`);const g=(function(M,z){const se=K1(z);if(se===void 0)return null;for(const ae of xx(M,se.fieldPath))switch(ae.op){case"array-contains-any":return ae.value.arrayValue.values||[];case"array-contains":return[ae.value]}return null})(f,h),p=(function(M,z){const se=new Map;for(const ae of Du(z))for(const G of xx(M,ae.fieldPath))switch(G.op){case"==":case"in":se.set(ae.fieldPath.canonicalString(),G.value);break;case"not-in":case"!=":return se.set(ae.fieldPath.canonicalString(),G.value),Array.from(se.values())}return null})(f,h),v=(function(M,z){const se=[];let ae=!0;for(const G of Du(z)){const D=G.kind===0?n_(M,G.fieldPath,M.startAt):r_(M,G.fieldPath,M.startAt);se.push(D.value),ae&&(ae=D.inclusive)}return new Bf(se,ae)})(f,h),b=(function(M,z){const se=[];let ae=!0;for(const G of Du(z)){const D=G.kind===0?r_(M,G.fieldPath,M.endAt):n_(M,G.fieldPath,M.endAt);se.push(D.value),ae&&(ae=D.inclusive)}return new Bf(se,ae)})(f,h),T=this.On(h,f,v),E=this.On(h,f,b),j=this.Nn(h,f,p),S=this.Bn(h.indexId,g,T,v.inclusive,E,b.inclusive,j);return Te.forEach(S,(L=>s.Y(L,t.limit).next((M=>{M.forEach((z=>{const se=lt.fromSegments(z.documentKey);c.has(se)||(c=c.add(se),d.push(se))}))}))))})).next((()=>d))}return Te.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=BD(dr.create(e.filters,"and")).map((s=>r2(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,s,a,o,c,d){const h=(t!=null?t.length:1)*Math.max(s.length,o.length),f=h/(t!=null?t.length:1),g=[];for(let p=0;p<h;++p){const v=t?this.Ln(t[p/f]):p0,b=this.kn(e,v,s[p%f],a),T=this.qn(e,v,o[p%f],c),E=d.map((j=>this.kn(e,v,j,!0)));g.push(...this.createRange(b,T,E))}return g}kn(e,t,s,a){const o=new zu(e,lt.empty(),t,s);return a?o:o.An()}qn(e,t,s,a){const o=new zu(e,lt.empty(),t,s);return a?o.An():o}xn(e,t){const s=new N_(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let c=null;for(const d of o)s.yn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(e,t){let s=2;const a=this.Mn(t);return Te.forEach(a,(o=>this.xn(e,o).next((c=>{c?s!==0&&c.fields.length<(function(h){let f=new ur(Zr.comparator),g=!1;for(const p of h.filters)for(const v of p.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:f=f.add(v.field));for(const p of h.orderBy)p.field.isKeyField()||(f=f.add(p.field));return f.size+(g?1:0)})(o)&&(s=1):s=0})))).next((()=>(function(c){return c.limit!==null})(t)&&a.length>1&&s===2?1:s))}Qn(e,t){const s=new Xm;for(const a of Du(e)){const o=t.data.field(a.fieldPath);if(o==null)return null;const c=s.Pn(a.kind);Vu.Kt.Dt(o,c)}return s.un()}Ln(e){const t=new Xm;return Vu.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const s=new Xm;return Vu.Kt.Dt(Vg(this.databaseId,t),s.Pn((function(o){const c=Du(o);return c.length===0?0:c[c.length-1].kind})(e))),s.un()}Nn(e,t,s){if(s===null)return[];let a=[];a.push(new Xm);let o=0;for(const c of Du(e)){const d=s[o++];for(const h of a)if(this.Un(t,c.fieldPath)&&zg(d))a=this.Kn(a,c,d);else{const f=h.Pn(c.kind);Vu.Kt.Dt(d,f)}}return this.Wn(a)}On(e,t,s){return this.Nn(e,t,s.position)}Wn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].un();return t}Kn(e,t,s){const a=[...e],o=[];for(const c of s.arrayValue.values||[])for(const d of a){const h=new Xm;h.seed(d.un()),Vu.Kt.Dt(c,h.Pn(t.kind)),o.push(h)}return o}Un(e,t){return!!e.filters.find((s=>s instanceof Dn&&s.field.isEqual(t)&&(s.op==="in"||s.op==="not-in")))}getFieldIndexes(e,t){const s=Qm(e),a=af(e);return(t?s.J(X1,IDBKeyRange.bound(t,t)):s.J()).next((o=>{const c=[];return Te.forEach(o,(d=>a.get([d.indexId,this.uid]).next((h=>{c.push((function(g,p){const v=p?new Pg(p.sequenceNumber,new fo(ah(p.readTime),new lt(Wl(p.documentKey)),p.largestBatchId)):Pg.empty(),b=g.fields.map((([T,E])=>new F0(Zr.fromServerFormat(T),E)));return new ux(g.indexId,g.collectionGroup,b,v)})(d,h))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((s,a)=>{const o=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:cn(s.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,s){const a=Qm(e),o=af(e);return this.Gn(e).next((c=>a.J(X1,IDBKeyRange.bound(t,t)).next((d=>Te.forEach(d,(h=>o.put(p_(h.indexId,this.uid,c,s))))))))}updateIndexEntries(e,t){const s=new Map;return Te.forEach(t,((a,o)=>{const c=s.get(a.collectionGroup);return(c?Te.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((d=>(s.set(a.collectionGroup,d),Te.forEach(d,(h=>this.zn(e,a,h).next((f=>{const g=this.jn(o,h);return f.isEqual(g)?Te.resolve():this.Jn(e,o,h,f,g)})))))))}))}Hn(e,t,s,a){return sf(e).put(a.Rn(this.uid,this.$n(s,t.key),t.key))}Yn(e,t,s,a){return sf(e).delete(a.Vn(this.uid,this.$n(s,t.key),t.key))}zn(e,t,s){const a=sf(e);let o=new ur(Ld);return a.ee({index:LS,range:IDBKeyRange.only([s.indexId,this.uid,$0(this.$n(s,t))])},((c,d)=>{o=o.add(new zu(s.indexId,t,w_(d.arrayValue),w_(d.directionalValue)))})).next((()=>o))}jn(e,t){let s=new ur(Ld);const a=this.Qn(t,e);if(a==null)return s;const o=K1(t);if(o!=null){const c=e.data.field(o.fieldPath);if(zg(c))for(const d of c.arrayValue.values||[])s=s.add(new zu(t.indexId,e.key,this.Ln(d),a))}else s=s.add(new zu(t.indexId,e.key,p0,a));return s}Jn(e,t,s,a,o){tt(__,"Updating index entries for document '%s'",t.key);const c=[];return(function(h,f,g,p,v){const b=h.getIterator(),T=f.getIterator();let E=nf(b),j=nf(T);for(;E||j;){let S=!1,L=!1;if(E&&j){const M=g(E,j);M<0?L=!0:M>0&&(S=!0)}else E!=null?L=!0:S=!0;S?(p(j),j=nf(T)):L?(v(E),E=nf(b)):(E=nf(b),j=nf(T))}})(a,o,Ld,(d=>{c.push(this.Hn(e,t,s,d))}),(d=>{c.push(this.Yn(e,t,s,d))})),Te.waitFor(c)}Gn(e){let t=1;return af(e).ee({index:PS,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((s,a,o)=>{o.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,s){s=s.sort(((c,d)=>Ld(c,d))).filter(((c,d,h)=>!d||Ld(c,h[d-1])!==0));const a=[];a.push(e);for(const c of s){const d=Ld(c,e),h=Ld(c,t);if(d===0)a[0]=e.An();else if(d>0&&h<0)a.push(c),a.push(c.An());else if(h>0)break}a.push(t);const o=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const d=a[c].Vn(this.uid,p0,lt.empty()),h=a[c+1].Vn(this.uid,p0,lt.empty());o.push(IDBKeyRange.bound(d,h))}return o}Zn(e,t){return Ld(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(E_)}getMinOffset(e,t){return Te.mapArray(this.Mn(t),(s=>this.xn(e,s).next((a=>a||wt(44426))))).next(E_)}}function S_(n){return aa(n,Og)}function sf(n){return aa(n,gg)}function Qm(n){return aa(n,hv)}function af(n){return aa(n,mg)}function E_(n){Pt(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<n.length;s++){const a=n[s].indexState.offset;cv(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new fo(e.readTime,e.documentKey,t)}const A_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OE=41943040;class Ja{static withCacheSize(e){return new Ja(e,Ja.DEFAULT_COLLECTION_PERCENTILE,Ja.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}function FE(n,e,t){const s=n.store(fl),a=n.store(Mf),o=[],c=IDBKeyRange.only(t.batchId);let d=0;const h=s.ee({range:c},((g,p,v)=>(d++,v.delete())));o.push(h.next((()=>{Pt(d===1,47070,{batchId:t.batchId})})));const f=[];for(const g of t.mutations){const p=IS(e,g.key.path,t.batchId);o.push(a.delete(p)),f.push(g.key)}return Te.waitFor(o).next((()=>f))}function Nx(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw wt(14731);e=n.noDocument}return JSON.stringify(e).length}Ja.DEFAULT_COLLECTION_PERCENTILE=10,Ja.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ja.DEFAULT=new Ja(OE,Ja.DEFAULT_COLLECTION_PERCENTILE,Ja.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ja.DISABLED=new Ja(-1,0,0);class iy{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.Xn={}}static wt(e,t,s,a){Pt(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new iy(o,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dd(e).ee({index:qu,range:s},((a,o,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,s,a){const o=yf(e),c=Dd(e);return c.add({}).next((d=>{Pt(typeof d=="number",49019);const h=new vv(d,t,s,a),f=(function(b,T,E){const j=E.baseMutations.map((L=>bx(b.yt,L))),S=E.mutations.map((L=>bx(b.yt,L)));return{userId:T,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:j,mutations:S}})(this.serializer,this.userId,h),g=[];let p=new ur(((v,b)=>cn(v.canonicalString(),b.canonicalString())));for(const v of a){const b=IS(this.userId,v.key.path,d);p=p.add(v.key.path.popLast()),g.push(c.put(f)),g.push(o.put(b,b7))}return p.forEach((v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[d]=h.keys()})),Te.waitFor(g).next((()=>h))}))}lookupMutationBatch(e,t){return Dd(e).get(t).next((s=>s?(Pt(s.userId===this.userId,48,"Unexpected user for mutation batch",{userId:s.userId,batchId:t}),Uu(this.serializer,s)):null))}er(e,t){return this.Xn[t]?Te.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((s=>{if(s){const a=s.keys();return this.Xn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let o=null;return Dd(e).ee({index:qu,range:a},((c,d,h)=>{d.userId===this.userId&&(Pt(d.batchId>=s,47524,{tr:s}),o=Uu(this.serializer,d)),h.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=Gu;return Dd(e).ee({index:qu,range:t,reverse:!0},((a,o,c)=>{s=o.batchId,c.done()})).next((()=>s))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Gu],[this.userId,Number.POSITIVE_INFINITY]);return Dd(e).J(qu,t).next((s=>s.map((a=>Uu(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=U0(this.userId,t.path),a=IDBKeyRange.lowerBound(s),o=[];return yf(e).ee({range:a},((c,d,h)=>{const[f,g,p]=c,v=Wl(g);if(f===this.userId&&t.path.isEqual(v))return Dd(e).get(p).next((b=>{if(!b)throw wt(61480,{nr:c,batchId:p});Pt(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:p}),o.push(Uu(this.serializer,b))}));h.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ur(cn);const a=[];return t.forEach((o=>{const c=U0(this.userId,o.path),d=IDBKeyRange.lowerBound(c),h=yf(e).ee({range:d},((f,g,p)=>{const[v,b,T]=f,E=Wl(b);v===this.userId&&o.path.isEqual(E)?s=s.add(T):p.done()}));a.push(h)})),Te.waitFor(a).next((()=>this.rr(e,s)))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,o=U0(this.userId,s),c=IDBKeyRange.lowerBound(o);let d=new ur(cn);return yf(e).ee({range:c},((h,f,g)=>{const[p,v,b]=h,T=Wl(v);p===this.userId&&s.isPrefixOf(T)?T.length===a&&(d=d.add(b)):g.done()})).next((()=>this.rr(e,d)))}rr(e,t){const s=[],a=[];return t.forEach((o=>{a.push(Dd(e).get(o).next((c=>{if(c===null)throw wt(35274,{batchId:o});Pt(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:o}),s.push(Uu(this.serializer,c))})))})),Te.waitFor(a).next((()=>s))}removeMutationBatch(e,t){return FE(e.le,this.userId,t).next((s=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),Te.forEach(s,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Te.resolve();const s=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return yf(e).ee({range:s},((o,c,d)=>{if(o[0]===this.userId){const h=Wl(o[1]);a.push(h)}else d.done()})).next((()=>{Pt(a.length===0,56720,{sr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return UE(e,this.userId,t)}_r(e){return VE(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Gu,lastStreamToken:""}))}}function UE(n,e,t){const s=U0(e,t.path),a=s[1],o=IDBKeyRange.lowerBound(s);let c=!1;return yf(n).ee({range:o,X:!0},((d,h,f)=>{const[g,p,v]=d;g===e&&p===a&&(c=!0),f.done()})).next((()=>c))}function Dd(n){return aa(n,fl)}function yf(n){return aa(n,Mf)}function VE(n){return aa(n,Dg)}class ih{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ih(0)}static cr(){return new ih(-1)}}class HD{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const s=new ih(t.highestTargetId);return t.highestTargetId=s.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Gt.fromTimestamp(new xt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,s){return this.lr(e).next((a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.hr(e,a))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((s=>(s.targetCount+=1,this.Tr(t,s),this.hr(e,s))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>of(e).delete(t.targetId))).next((()=>this.lr(e))).next((s=>(Pt(s.targetCount>0,8065),s.targetCount-=1,this.hr(e,s))))}removeTargets(e,t,s){let a=0;const o=[];return of(e).ee(((c,d)=>{const h=lg(d);h.sequenceNumber<=t&&s.get(h.targetId)===null&&(a++,o.push(this.removeTargetData(e,h)))})).next((()=>Te.waitFor(o))).next((()=>a))}forEachTarget(e,t){return of(e).ee(((s,a)=>{const o=lg(a);t(o)}))}lr(e){return T_(e).get(mx).next((t=>(Pt(t!==null,2888),t)))}hr(e,t){return T_(e).put(mx,t)}Pr(e,t){return of(e).put(PE(this.serializer,t))}Tr(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const s=rh(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let o=null;return of(e).ee({range:a,index:RS},((c,d,h)=>{const f=lg(d);sp(t,f.target)&&(o=f,h.done())})).next((()=>o))}addMatchingKeys(e,t,s){const a=[],o=qd(e);return t.forEach((c=>{const d=ei(c.path);a.push(o.put({targetId:s,path:d})),a.push(this.referenceDelegate.addReference(e,s,c))})),Te.waitFor(a)}removeMatchingKeys(e,t,s){const a=qd(e);return Te.forEach(t,(o=>{const c=ei(o.path);return Te.waitFor([a.delete([s,c]),this.referenceDelegate.removeReference(e,s,o)])}))}removeMatchingKeysForTargetId(e,t){const s=qd(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=qd(e);let o=Sn();return a.ee({range:s,X:!0},((c,d,h)=>{const f=Wl(c[1]),g=new lt(f);o=o.add(g)})).next((()=>o))}containsKey(e,t){const s=ei(t.path),a=IDBKeyRange.bound([s],[jS(s)],!1,!0);let o=0;return qd(e).ee({index:uv,X:!0,range:a},(([c,d],h,f)=>{c!==0&&(o++,f.done())})).next((()=>o>0))}At(e,t){return of(e).get(t).next((s=>s?lg(s):null))}}function of(n){return aa(n,Of)}function T_(n){return aa(n,Hu)}function qd(n){return aa(n,Ff)}const C_="LruGarbageCollector",$D=1048576;function I_([n,e],[t,s]){const a=cn(n,t);return a===0?cn(e,s):a}class WD{constructor(e){this.Ir=e,this.buffer=new ur(I_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();I_(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zE{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){tt(C_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fu(t)?tt(C_,"Ignoring IndexedDB error during garbage collection: ",t):await mh(t)}await this.Vr(3e5)}))}}class KD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Te.resolve(Mo.ce);const s=new WD(t);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(A_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,a,o,c,d,h,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),a=this.params.maximumSequenceNumbersToCollect):a=p,c=Date.now(),this.nthSequenceNumber(e,a)))).next((p=>(s=p,d=Date.now(),this.removeTargets(e,s,t)))).next((p=>(o=p,h=Date.now(),this.removeOrphanedDocuments(e,s)))).next((p=>(f=Date.now(),mf()<=Ln.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${p} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:p}))))}}function BE(n,e){return new KD(n,e)}class YD{constructor(e,t){this.db=e,this.garbageCollector=BE(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((s,a)=>t(a)))}addReference(e,t,s){return x0(e,s)}removeReference(e,t,s){return x0(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return x0(e,t)}br(e,t){return(function(a,o){let c=!1;return VE(a).te((d=>UE(a,d,o).next((h=>(h&&(c=!0),Te.resolve(!h)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.Sr(e,((c,d)=>{if(d<=t){const h=this.br(e,c).next((f=>{if(!f)return o++,s.getEntry(e,c).next((()=>(s.removeEntry(c,Gt.min()),qd(e).delete((function(p){return[0,ei(p.path)]})(c)))))}));a.push(h)}})).next((()=>Te.waitFor(a))).next((()=>s.apply(e))).next((()=>o))}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return x0(e,t)}Sr(e,t){const s=qd(e);let a,o=Mo.ce;return s.ee({index:uv},(([c,d],{path:h,sequenceNumber:f})=>{c===0?(o!==Mo.ce&&t(new lt(Wl(a)),o),o=f,a=h):o=Mo.ce})).next((()=>{o!==Mo.ce&&t(new lt(Wl(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function x0(n,e){return qd(n).put((function(s,a){return{targetId:0,path:ei(s.path),sequenceNumber:a}})(e,n.currentSequenceNumber))}class qE{constructor(){this.changes=new td((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ms.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XD{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Pu(e).put(s)}removeEntry(e,t,s){return Pu(e).delete((function(o,c){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],vx(c),d[d.length-1]]})(t,s))}updateMetadata(e,t){return this.getMetadata(e).next((s=>(s.byteSize+=t,this.Dr(e,s))))}getEntry(e,t){let s=ms.newInvalidDocument(t);return Pu(e).ee({index:V0,range:IDBKeyRange.only(Jm(t))},((a,o)=>{s=this.Cr(t,o)})).next((()=>s))}vr(e,t){let s={size:0,document:ms.newInvalidDocument(t)};return Pu(e).ee({index:V0,range:IDBKeyRange.only(Jm(t))},((a,o)=>{s={document:this.Cr(t,o),size:Nx(o)}})).next((()=>s))}getEntries(e,t){let s=co();return this.Fr(e,t,((a,o)=>{const c=this.Cr(a,o);s=s.insert(a,c)})).next((()=>s))}Mr(e,t){let s=co(),a=new $r(lt.comparator);return this.Fr(e,t,((o,c)=>{const d=this.Cr(o,c);s=s.insert(o,d),a=a.insert(o,Nx(c))})).next((()=>({documents:s,Or:a})))}Fr(e,t,s){if(t.isEmpty())return Te.resolve();let a=new ur(P_);t.forEach((h=>a=a.add(h)));const o=IDBKeyRange.bound(Jm(a.first()),Jm(a.last())),c=a.getIterator();let d=c.getNext();return Pu(e).ee({index:V0,range:o},((h,f,g)=>{const p=lt.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;d&&P_(d,p)<0;)s(d,null),d=c.getNext();d&&d.isEqual(p)&&(s(d,f),d=c.hasNext()?c.getNext():null),d?g.j(Jm(d)):g.done()})).next((()=>{for(;d;)s(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,s,a,o){const c=t.path,d=[c.popLast().toArray(),c.lastSegment(),vx(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],h=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pu(e).J(IDBKeyRange.bound(d,h,!0)).next((f=>{o?.incrementDocumentReadCount(f.length);let g=co();for(const p of f){const v=this.Cr(lt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);v.isFoundDocument()&&(ip(t,v)||a.has(v.key))&&(g=g.insert(v.key,v))}return g}))}getAllFromCollectionGroup(e,t,s,a){let o=co();const c=R_(t,s),d=R_(t,fo.max());return Pu(e).ee({index:kS,range:IDBKeyRange.bound(c,d,!0)},((h,f,g)=>{const p=this.Cr(lt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(p.key,p),o.size===a&&g.done()})).next((()=>o))}newChangeBuffer(e){return new QD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return k_(e).get(Y1).next((t=>(Pt(!!t,20021),t)))}Dr(e,t){return k_(e).put(Y1,t)}Cr(e,t){if(t){const s=DD(this.serializer,t);if(!(s.isNoDocument()&&s.version.isEqual(Gt.min())))return s}return ms.newInvalidDocument(e)}}function GE(n){return new XD(n)}class QD extends qE{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new td((s=>s.toString()),((s,a)=>s.isEqual(a)))}applyChanges(e){const t=[];let s=0,a=new ur(((o,c)=>cn(o.canonicalString(),c.canonicalString())));return this.changes.forEach(((o,c)=>{const d=this.Br.get(o);if(t.push(this.Nr.removeEntry(e,o,d.readTime)),c.isValidDocument()){const h=m_(this.Nr.serializer,c);a=a.add(o.path.popLast());const f=Nx(h);s+=f-d.size,t.push(this.Nr.addEntry(e,o,h))}else if(s-=d.size,this.trackRemovals){const h=m_(this.Nr.serializer,c.convertToNoDocument(Gt.min()));t.push(this.Nr.addEntry(e,o,h))}})),a.forEach((o=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Nr.updateMetadata(e,s)),Te.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((s=>(this.Br.set(t,{size:s.size,readTime:s.document.readTime}),s.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:s,Or:a})=>(a.forEach(((o,c)=>{this.Br.set(o,{size:c,readTime:s.get(o).readTime})})),s)))}}function k_(n){return aa(n,Mg)}function Pu(n){return aa(n,fx)}function Jm(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function R_(n,e){const t=e.documentKey.path.toArray();return[n,vx(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function P_(n,e){const t=n.path.toArray(),s=e.path.toArray();let a=0;for(let o=0;o<t.length-2&&o<s.length-2;++o)if(a=cn(t[o],s[o]),a)return a;return a=cn(t.length,s.length),a||(a=cn(t[t.length-2],s[s.length-2]),a||cn(t[t.length-1],s[s.length-1]))}class JD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class HE{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&bg(s.mutation,a,Bi.empty(),xt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Sn()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Sn()){const a=Kl();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((o=>{let c=ig();return o.forEach(((d,h)=>{c=c.insert(d,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Kl();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Sn())))}populateOverlays(e,t,s){const a=[];return s.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,s,a){let o=co();const c=yg(),d=(function(){return yg()})();return t.forEach(((h,f)=>{const g=s.get(f.key);a.has(f.key)&&(g===void 0||g.mutation instanceof nd)?o=o.insert(f.key,f):g!==void 0?(c.set(f.key,g.mutation.getFieldMask()),bg(g.mutation,f,g.mutation.getFieldMask(),xt.now())):c.set(f.key,Bi.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((f,g)=>c.set(f,g))),t.forEach(((f,g)=>d.set(f,new JD(g,c.get(f)??null)))),d)))}recalculateAndSaveOverlays(e,t){const s=yg();let a=new $r(((c,d)=>c-d)),o=Sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((h=>{const f=t.get(h);if(f===null)return;let g=s.get(h)||Bi.empty();g=d.applyToLocalView(f,g),s.set(h,g);const p=(a.get(d.batchId)||Sn()).add(h);a=a.insert(d.batchId,p)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),f=h.key,g=h.value,p=lE();g.forEach((v=>{if(!o.has(v)){const b=gE(t.get(v),s.get(v));b!==null&&p.set(v,b),o=o.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Te.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return(function(c){return lt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-o.size):Te.resolve(Kl());let d=Rg,h=o;return c.next((f=>Te.forEach(f,((g,p)=>(d<p.largestBatchId&&(d=p.largestBatchId),o.get(g)?Te.resolve():this.remoteDocumentCache.getEntry(e,g).next((v=>{h=h.insert(g,v)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,h,f,Sn()))).next((g=>({batchId:d,changes:oE(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lt(t)).next((s=>{let a=ig();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const o=t.collectionGroup;let c=ig();return this.indexManager.getCollectionParents(e,o).next((d=>Te.forEach(d,(h=>{const f=(function(p,v){return new am(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,s,a).next((g=>{g.forEach(((p,v)=>{c=c.insert(p,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,o,a)))).next((c=>{o.forEach(((h,f)=>{const g=f.getKey();c.get(g)===null&&(c=c.insert(g,ms.newInvalidDocument(g)))}));let d=ig();return c.forEach(((h,f)=>{const g=o.get(h);g!==void 0&&bg(g.mutation,f,Bi.empty(),xt.now()),ip(t,f)&&(d=d.insert(h,f))})),d}))}}class ZD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:xi(a.createTime)}})(t)),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:LE(a.bundledQuery),readTime:xi(a.readTime)}})(t)),Te.resolve()}}class eM{constructor(){this.overlays=new $r(lt.comparator),this.qr=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Kl();return Te.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&s.set(a,o)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,o)=>{this.St(e,t,o)})),Te.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(s)),Te.resolve()}getOverlaysForCollection(e,t,s){const a=Kl(),o=t.length+1,c=new lt(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>s&&a.set(h.getKey(),h)}return Te.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let o=new $r(((f,g)=>f-g));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>s){let g=o.get(f.largestBatchId);g===null&&(g=Kl(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const d=Kl(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,g)=>d.set(f,g))),!(d.size()>=a)););return Te.resolve(d)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new Nv(t,s));let o=this.qr.get(t);o===void 0&&(o=Sn(),this.qr.set(t,o)),this.qr.set(t,o.add(s.key))}}class tM{constructor(){this.sessionToken=Bs.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Te.resolve()}}class Av{constructor(){this.Qr=new ur(ba.$r),this.Ur=new ur(ba.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new ba(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new ba(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new lt(new tr([])),s=new ba(t,e),a=new ba(t,e+1),o=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new lt(new tr([])),s=new ba(t,e),a=new ba(t,e+1);let o=Sn();return this.Ur.forEachInRange([s,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new ba(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class ba{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return lt.comparator(e.key,t.key)||cn(e.Yr,t.Yr)}static Kr(e,t){return cn(e.Yr,t.Yr)||lt.comparator(e.key,t.key)}}class nM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ur(ba.$r)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new vv(o,t,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new ba(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Te.resolve(c)}lookupMutationBatch(e,t){return Te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ei(s),o=a<0?0:a;return Te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?Gu:this.tr-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new ba(t,0),a=new ba(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);o.push(d)})),Te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ur(cn);return t.forEach((a=>{const o=new ba(a,0),c=new ba(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(d=>{s=s.add(d.Yr)}))})),Te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let o=s;lt.isDocumentKey(o)||(o=o.child(""));const c=new ba(new lt(o),0);let d=new ur(cn);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!s.isPrefixOf(f)&&(f.length===a&&(d=d.add(h.Yr)),!0)}),c),Te.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Pt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Te.forEach(t.mutations,(a=>{const o=new ba(a.key,t.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new ba(t,0),a=this.Zr.firstAfterOrEqual(s);return Te.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rM{constructor(e){this.ri=e,this.docs=(function(){return new $r(lt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),o=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Te.resolve(s?s.document.mutableCopy():ms.newInvalidDocument(t))}getEntries(e,t){let s=co();return t.forEach((a=>{const o=this.docs.get(a);s=s.insert(a,o?o.document.mutableCopy():ms.newInvalidDocument(a))})),Te.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let o=co();const c=t.path,d=new lt(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||cv(ES(g),s)<=0||(a.has(g.key)||ip(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Te.resolve(o)}getAllFromCollectionGroup(e,t,s,a){wt(9500)}ii(e,t){return Te.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new sM(this)}getSize(e){return Te.resolve(this.size)}}class sM extends qE{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),Te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class aM{constructor(e){this.persistence=e,this.si=new td((t=>rh(t)),sp),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.oi=0,this._i=new Av,this.targetCount=0,this.ai=ih.ur()}forEachTarget(e,t){return this.si.forEach(((s,a)=>t(a))),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),Te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ih(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.Pr(t),Te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,s){let a=0;const o=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),Te.waitFor(o).next((()=>a))}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return Te.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),Te.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),Te.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return Te.resolve(s)}containsKey(e,t){return Te.resolve(this._i.containsKey(t))}}class Tv{constructor(e,t){this.ui={},this.overlays={},this.ci=new Mo(0),this.li=!1,this.li=!0,this.hi=new tM,this.referenceDelegate=e(this),this.Pi=new aM(this),this.indexManager=new qD,this.remoteDocumentCache=(function(a){return new rM(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new RE(t),this.Ii=new ZD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new nM(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){tt("MemoryPersistence","Starting transaction:",e);const a=new iM(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,t){return Te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class iM extends TS{constructor(e){super(),this.currentSequenceNumber=e}}class oy{constructor(e){this.persistence=e,this.Ri=new Av,this.Vi=null}static mi(e){return new oy(e)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),Te.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.fi,(s=>{const a=lt.fromPath(s);return this.gi(e,a).next((o=>{o||t.removeEntry(a,Gt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Te.or([()=>Te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class jx{constructor(e,t){this.persistence=e,this.pi=new td((s=>ei(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=BE(this,t)}static mi(e,t){return new jx(e,t)}Ei(){}di(e){return Te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return Te.forEach(this.pi,((s,a)=>this.br(e,s,a).next((o=>o?Te.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((d=>{d||(s++,o.removeEntry(c,Gt.min()))})))).next((()=>o.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Te.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=B0(e.data.value)),t}br(e,t,s){return Te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return Te.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class oM{constructor(e){this.serializer=e}k(e,t,s,a){const o=new Kx("createOrUpgrade",t);s<1&&a>=1&&((function(h){h.createObjectStore(rp)})(e),(function(h){h.createObjectStore(Dg,{keyPath:y7}),h.createObjectStore(fl,{keyPath:Gj,autoIncrement:!0}).createIndex(qu,Hj,{unique:!0}),h.createObjectStore(Mf)})(e),L_(e),(function(h){h.createObjectStore(Mu)})(e));let c=Te.resolve();return s<3&&a>=3&&(s!==0&&((function(h){h.deleteObjectStore(Ff),h.deleteObjectStore(Of),h.deleteObjectStore(Hu)})(e),L_(e)),c=c.next((()=>(function(h){const f=h.store(Hu),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Gt.min().toTimestamp(),targetCount:0};return f.put(mx,g)})(o)))),s<4&&a>=4&&(s!==0&&(c=c.next((()=>(function(h,f){return f.store(fl).J().next((p=>{h.deleteObjectStore(fl),h.createObjectStore(fl,{keyPath:Gj,autoIncrement:!0}).createIndex(qu,Hj,{unique:!0});const v=f.store(fl),b=p.map((T=>v.put(T)));return Te.waitFor(b)}))})(e,o)))),c=c.next((()=>{(function(h){h.createObjectStore(Uf,{keyPath:A7})})(e)}))),s<5&&a>=5&&(c=c.next((()=>this.yi(o)))),s<6&&a>=6&&(c=c.next((()=>((function(h){h.createObjectStore(Mg)})(e),this.wi(o))))),s<7&&a>=7&&(c=c.next((()=>this.Si(o)))),s<8&&a>=8&&(c=c.next((()=>this.bi(e,o)))),s<9&&a>=9&&(c=c.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),s<10&&a>=10&&(c=c.next((()=>this.Di(o)))),s<11&&a>=11&&(c=c.next((()=>{(function(h){h.createObjectStore(Xx,{keyPath:T7})})(e),(function(h){h.createObjectStore(Qx,{keyPath:C7})})(e)}))),s<12&&a>=12&&(c=c.next((()=>{(function(h){const f=h.createObjectStore(Jx,{keyPath:M7});f.createIndex(Q1,O7,{unique:!1}),f.createIndex(DS,F7,{unique:!1})})(e)}))),s<13&&a>=13&&(c=c.next((()=>(function(h){const f=h.createObjectStore(fx,{keyPath:v7});f.createIndex(V0,w7),f.createIndex(kS,N7)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(Mu)))),s<14&&a>=14&&(c=c.next((()=>this.Fi(e,o)))),s<15&&a>=15&&(c=c.next((()=>(function(h){h.createObjectStore(hv,{keyPath:I7,autoIncrement:!0}).createIndex(X1,k7,{unique:!1}),h.createObjectStore(mg,{keyPath:R7}).createIndex(PS,P7,{unique:!1}),h.createObjectStore(gg,{keyPath:L7}).createIndex(LS,D7,{unique:!1})})(e)))),s<16&&a>=16&&(c=c.next((()=>{t.objectStore(mg).clear()})).next((()=>{t.objectStore(gg).clear()}))),s<17&&a>=17&&(c=c.next((()=>{(function(h){h.createObjectStore(fv,{keyPath:U7})})(e)}))),s<18&&a>=18&&A3()&&(c=c.next((()=>{t.objectStore(mg).clear()})).next((()=>{t.objectStore(gg).clear()}))),c}wi(e){let t=0;return e.store(Mu).ee(((s,a)=>{t+=Nx(a)})).next((()=>{const s={byteSize:t};return e.store(Mg).put(Y1,s)}))}yi(e){const t=e.store(Dg),s=e.store(fl);return t.J().next((a=>Te.forEach(a,(o=>{const c=IDBKeyRange.bound([o.userId,Gu],[o.userId,o.lastAcknowledgedBatchId]);return s.J(qu,c).next((d=>Te.forEach(d,(h=>{Pt(h.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const f=Uu(this.serializer,h);return FE(e,o.userId,f).next((()=>{}))}))))}))))}Si(e){const t=e.store(Ff),s=e.store(Mu);return e.store(Hu).get(mx).next((a=>{const o=[];return s.ee(((c,d)=>{const h=new tr(c),f=(function(p){return[0,ei(p)]})(h);o.push(t.get(f).next((g=>g?Te.resolve():(p=>t.put({targetId:0,path:ei(p),sequenceNumber:a.highestListenSequenceNumber}))(h))))})).next((()=>Te.waitFor(o)))}))}bi(e,t){e.createObjectStore(Og,{keyPath:E7});const s=t.store(Og),a=new Ev,o=c=>{if(a.add(c)){const d=c.lastSegment(),h=c.popLast();return s.put({collectionId:d,parent:ei(h)})}};return t.store(Mu).ee({X:!0},((c,d)=>{const h=new tr(c);return o(h.popLast())})).next((()=>t.store(Mf).ee({X:!0},(([c,d,h],f)=>{const g=Wl(d);return o(g.popLast())}))))}Di(e){const t=e.store(Of);return t.ee(((s,a)=>{const o=lg(a),c=PE(this.serializer,o);return t.put(c)}))}Ci(e,t){const s=t.store(Mu),a=[];return s.ee(((o,c)=>{const d=t.store(fx),h=(function(p){return p.document?new lt(tr.fromString(p.document.name).popFirst(5)):p.noDocument?lt.fromSegments(p.noDocument.path):p.unknownDocument?lt.fromSegments(p.unknownDocument.path):wt(36783)})(c).path.toArray(),f={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(f))})).next((()=>Te.waitFor(a)))}Fi(e,t){const s=t.store(fl),a=GE(this.serializer),o=new Tv(oy.mi,this.serializer.yt);return s.J().next((c=>{const d=new Map;return c.forEach((h=>{let f=d.get(h.userId)??Sn();Uu(this.serializer,h).keys().forEach((g=>f=f.add(g))),d.set(h.userId,f)})),Te.forEach(d,((h,f)=>{const g=new Ma(f),p=ay.wt(this.serializer,g),v=o.getIndexManager(g),b=iy.wt(g,this.serializer,v,o.referenceDelegate);return new HE(a,b,p,v).recalculateAndSaveOverlaysForDocumentKeys(new J1(t,Mo.ce),h).next()}))}))}}function L_(n){n.createObjectStore(Ff,{keyPath:_7}).createIndex(uv,S7,{unique:!0}),n.createObjectStore(Of,{keyPath:"targetId"}).createIndex(RS,j7,{unique:!0}),n.createObjectStore(Hu)}const Md="IndexedDbPersistence",Zb=18e5,e1=5e3,t1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lM="main";class Cv{constructor(e,t,s,a,o,c,d,h,f,g,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Mi=o,this.window=c,this.document=d,this.xi=f,this.Oi=g,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!Cv.v())throw new st(Ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new YD(this,a),this.$i=t+lM,this.serializer=new RE(h),this.Ui=new Jd(this.$i,this.Ni,new oM(this.serializer)),this.hi=new OD,this.Pi=new HD(this.referenceDelegate,this.serializer),this.remoteDocumentCache=GE(this.serializer),this.Ii=new MD,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,g===!1&&pi(Md,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new st(Ue.FAILED_PRECONDITION,t1);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Mo(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>y0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(fu(e))return tt(Md,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return tt(Md,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Zm(e).get(tf).next((t=>Te.resolve(this.es(t))))}ts(e){return y0(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Zb)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const s=aa(t,Uf);return s.J().next((a=>{const o=this.ss(a,Zb),c=a.filter((d=>o.indexOf(d)===-1));return Te.forEach(c,(d=>s.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Te.resolve(!0):Zm(e).get(tf).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,e1)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new st(Ue.FAILED_PRECONDITION,t1);return!1}}return!(!this.networkEnabled||!this.inForeground)||y0(e).J().next((s=>this.ss(s,e1).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(o||c&&d)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&tt(Md,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[rp,Uf],(e=>{const t=new J1(e,Mo.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((s=>this.rs(s.updateTimeMs,t)&&!this.us(s.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>y0(e).J().next((t=>this.ss(t,Zb).map((s=>s.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return iy.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new GD(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return ay.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,s){tt(Md,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",o=(function(h){return h===18?B7:h===17?US:h===16?z7:h===15?mv:h===14?FS:h===13?OS:h===12?V7:h===11?MS:void wt(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,a,o,(d=>(c=new J1(d,this.ci?this.ci.next():Mo.ce),t==="readwrite-primary"?this.Hi(c).next((h=>!!h||this.Yi(c))).next((h=>{if(!h)throw pi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new st(Ue.FAILED_PRECONDITION,AS);return s(c)})).next((h=>this.Xi(c).next((()=>h)))):this.Is(c).next((()=>s(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Is(e){return Zm(e).get(tf).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,e1)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new st(Ue.FAILED_PRECONDITION,t1)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zm(e).put(tf,t)}static v(){return Jd.v()}Zi(e){const t=Zm(e);return t.get(tf).next((s=>this.es(s)?(tt(Md,"Releasing primary lease."),t.delete(tf)):Te.resolve()))}rs(e,t){const s=Date.now();return!(e<s-t)&&(!(e>s)||(pi(`Detected an update time that is in the future: ${e} > ${s}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;E3()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return tt(Md,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return pi(Md,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){pi("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Zm(n){return aa(n,rp)}function y0(n){return aa(n,Uf)}function cM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Iv{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=a}static As(e,t){let s=Sn(),a=Sn();for(const o of t.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Iv(e,t.fromCache,s,a)}}class dM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $E{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return E3()?8:CS(sa())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const o={result:null};return this.ys(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,t,a,s).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new dM;return this.Ss(e,t,c).next((d=>{if(o.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>o.result))}bs(e,t,s,a){return s.documentReadCount<this.fs?(mf()<=Ln.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",gf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Te.resolve()):(mf()<=Ln.DEBUG&&tt("QueryEngine","Query:",gf(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(mf()<=Ln.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",gf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fo(t))):Te.resolve())}ys(e,t){if(s_(t))return Te.resolve(null);let s=Fo(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=a2(t,null,"F"),s=Fo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((o=>{const c=Sn(...o);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((h=>{const f=this.Ds(t,d);return this.Cs(t,f,c,h.readTime)?this.ys(e,a2(t,null,"F")):this.vs(e,f,t,h)}))))})))))}ws(e,t,s,a){return s_(t)||a.isEqual(Gt.min())?Te.resolve(null):this.ps.getDocuments(e,s).next((o=>{const c=this.Ds(t,o);return this.Cs(t,c,s,a)?Te.resolve(null):(mf()<=Ln.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),gf(t)),this.vs(e,c,t,u7(a,Rg)).next((d=>d)))}))}Ds(e,t){let s=new ur(aE(e));return t.forEach(((a,o)=>{ip(e,o)&&(s=s.add(o))})),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,t,s){return mf()<=Ln.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",gf(t)),this.ps.getDocumentsMatchingQuery(e,t,fo.min(),s)}vs(e,t,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const kv="LocalStore",uM=3e8;class hM{constructor(e,t,s,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new $r(cn),this.xs=new td((o=>rh(o)),sp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HE(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function WE(n,e,t,s){return new hM(n,e,t,s)}async function KE(n,e){const t=dn(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((o=>(a=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((o=>{const c=[],d=[];let h=Sn();for(const f of a){c.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of o){d.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(s,h).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:d})))}))}))}function fM(n,e){const t=dn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,h,f,g){const p=f.batch,v=p.keys();let b=Te.resolve();return v.forEach((T=>{b=b.next((()=>g.getEntry(h,T))).next((E=>{const j=f.docVersions.get(T);Pt(j!==null,48541),E.version.compareTo(j)<0&&(p.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),g.addEntry(E)))}))})),b.next((()=>d.mutationQueue.removeMutationBatch(h,p)))})(t,s,e,o).next((()=>o.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let h=Sn();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(h=h.add(d.batch.mutations[f].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function YE(n){const e=dn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function mM(n,e){const t=dn(n),s=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((g,p)=>{const v=a.get(p);if(!v)return;d.push(t.Pi.removeMatchingKeys(o,g.removedDocuments,p).next((()=>t.Pi.addMatchingKeys(o,g.addedDocuments,p))));let b=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(Bs.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,s)),a=a.insert(p,b),(function(E,j,S){return E.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=uM?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(v,b,g)&&d.push(t.Pi.updateTargetData(o,b))}));let h=co(),f=Sn();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),d.push(gM(o,c,e.documentUpdates).next((g=>{h=g.ks,f=g.qs}))),!s.isEqual(Gt.min())){const g=t.Pi.getLastRemoteSnapshotVersion(o).next((p=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,s)));d.push(g)}return Te.waitFor(d).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,h,f))).next((()=>h))})).then((o=>(t.Ms=a,o)))}function gM(n,e,t){let s=Sn(),a=Sn();return t.forEach((o=>s=s.add(o))),e.getEntries(n,s).next((o=>{let c=co();return t.forEach(((d,h)=>{const f=o.get(d);h.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(Gt.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):tt(kv,"Ignoring outdated watch update for ",d,". Current version:",f.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function pM(n,e){const t=dn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Gu),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function xM(n,e){const t=dn(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.Pi.getTargetData(s,e).next((o=>o?(a=o,Te.resolve(a)):t.Pi.allocateTargetId(s).next((c=>(a=new qc(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function f2(n,e,t){const s=dn(n),a=s.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",o,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!fu(c))throw c;tt(kv,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function D_(n,e,t){const s=dn(n);let a=Gt.min(),o=Sn();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,f,g){const p=dn(h),v=p.xs.get(g);return v!==void 0?Te.resolve(p.Ms.get(v)):p.Pi.getTargetData(f,g)})(s,c,Fo(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((h=>{o=h}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?a:Gt.min(),t?o:Sn()))).next((d=>(yM(s,rD(e),d),{documents:d,Qs:o})))))}function yM(n,e,t){let s=n.Os.get(e)||Gt.min();t.forEach(((a,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)})),n.Os.set(e,s)}class M_{constructor(){this.activeTargetIds=cD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XE{constructor(){this.Mo=new M_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new M_,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bM{Oo(e){}shutdown(){}}const O_="ConnectivityMonitor";class F_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){tt(O_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){tt(O_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let b0=null;function m2(){return b0===null?b0=(function(){return 268435456+Math.round(2147483648*Math.random())})():b0++,"0x"+b0.toString(16)}const n1="RestConnection",vM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===gx?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,t,s,a,o){const c=m2(),d=this.zo(e,t.toUriEncodedString());tt(n1,`Sending RPC '${e}' ${c}:`,d,s);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,o);const{host:f}=new URL(d),g=uu(f);return this.Jo(e,d,h,s,g).then((p=>(tt(n1,`Received RPC '${e}' ${c}: `,p),p)),(p=>{throw th(n1,`RPC '${e}' ${c} failed with error: `,p,"url: ",d,"request:",s),p}))}Ho(e,t,s,a,o,c){return this.Go(e,t,s,a,o)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sm})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),s&&s.headers.forEach(((a,o)=>e[o]=a))}zo(e,t){const s=vM[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}class NM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wa="WebChannelConnection";class jM extends wM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,o){const c=m2();return new Promise(((d,h)=>{const f=new pS;f.setWithCredentials(!0),f.listenOnce(xS.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case O0.NO_ERROR:const p=f.getResponseJson();tt(Wa,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(p)),d(p);break;case O0.TIMEOUT:tt(Wa,`RPC '${e}' ${c} timed out`),h(new st(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case O0.HTTP_ERROR:const v=f.getStatus();if(tt(Wa,`RPC '${e}' ${c} failed with status:`,v,"response text:",f.getResponseText()),v>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const T=b?.error;if(T&&T.status&&T.message){const E=(function(S){const L=S.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(L)>=0?L:Ue.UNKNOWN})(T.status);h(new st(E,T.message))}else h(new st(Ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new st(Ue.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{tt(Wa,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);tt(Wa,`RPC '${e}' ${c} sending request:`,a),f.send(t,"POST",g,s,15)}))}T_(e,t,s){const a=m2(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=vS(),d=bS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,s),h.encodeInitMessageHeaders=!0;const g=o.join("");tt(Wa,`Creating RPC '${e}' stream ${a}: ${g}`,h);const p=c.createWebChannel(g,h);this.I_(p);let v=!1,b=!1;const T=new NM({Yo:j=>{b?tt(Wa,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(v||(tt(Wa,`Opening RPC '${e}' stream ${a} transport.`),p.open(),v=!0),tt(Wa,`RPC '${e}' stream ${a} sending:`,j),p.send(j))},Zo:()=>p.close()}),E=(j,S,L)=>{j.listen(S,(M=>{try{L(M)}catch(z){setTimeout((()=>{throw z}),0)}}))};return E(p,ag.EventType.OPEN,(()=>{b||(tt(Wa,`RPC '${e}' stream ${a} transport opened.`),T.o_())})),E(p,ag.EventType.CLOSE,(()=>{b||(b=!0,tt(Wa,`RPC '${e}' stream ${a} transport closed`),T.a_(),this.E_(p))})),E(p,ag.EventType.ERROR,(j=>{b||(b=!0,th(Wa,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),T.a_(new st(Ue.UNAVAILABLE,"The operation could not be completed")))})),E(p,ag.EventType.MESSAGE,(j=>{if(!b){const S=j.data[0];Pt(!!S,16349);const L=S,M=L?.error||L[0]?.error;if(M){tt(Wa,`RPC '${e}' stream ${a} received error:`,M);const z=M.status;let se=(function(D){const I=Fs[D];if(I!==void 0)return yE(I)})(z),ae=M.message;se===void 0&&(se=Ue.INTERNAL,ae="Unknown error status: "+z+" with message "+M.message),b=!0,T.a_(new st(se,ae)),p.close()}else tt(Wa,`RPC '${e}' stream ${a} received:`,S),T.u_(S)}})),E(d,yS.STAT_EVENT,(j=>{j.stat===$1.PROXY?tt(Wa,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===$1.NOPROXY&&tt(Wa,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function _M(){return typeof window<"u"?window:null}function W0(){return typeof document<"u"?document:null}function ly(n){return new SD(n,!0)}class QE{constructor(e,t,s=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&tt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const U_="PersistentStream";class JE{constructor(e,t,s,a,o,c,d,h){this.Mi=e,this.S_=s,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ue.RESOURCE_EXHAUSTED?(pi(t.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new st(Ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return tt(U_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(tt(U_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SM extends JE{constructor(e,t,s,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=TD(this.serializer,e),s=(function(o){if(!("targetChange"in o))return Gt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Gt.min():c.readTime?xi(c.readTime):Gt.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=l2(this.serializer),t.addTarget=(function(o,c){let d;const h=c.target;if(d=px(h)?{documents:EE(o,h)}:{query:AE(o,h).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=wE(o,c.resumeToken);const f=i2(o,c.expectedCount);f!==null&&(d.expectedCount=f)}else if(c.snapshotVersion.compareTo(Gt.min())>0){d.readTime=Wf(o,c.snapshotVersion.toTimestamp());const f=i2(o,c.expectedCount);f!==null&&(d.expectedCount=f)}return d})(this.serializer,e);const s=ID(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=l2(this.serializer),t.removeTarget=e,this.q_(t)}}class EM extends JE{constructor(e,t,s,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=CD(e.writeResults,e.commitTime),s=xi(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=l2(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>bx(this.serializer,s)))};this.q_(t)}}class AM{}class TM extends AM{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new st(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,o2(t,s),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new st(Ue.UNKNOWN,o.toString())}))}Ho(e,t,s,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,o2(t,s),a,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(Ue.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pi(t),this.aa=!1):tt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oh="RemoteStore";class IM{constructor(e,t,s,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{gh(this)&&(tt(oh,"Restarting streams for network reachability change."),await(async function(h){const f=dn(h);f.Ea.add(4),await cp(f),f.Ra.set("Unknown"),f.Ea.delete(4),await cy(f)})(this))}))})),this.Ra=new CM(s,a)}}async function cy(n){if(gh(n))for(const e of n.da)await e(!0)}async function cp(n){for(const e of n.da)await e(!1)}function ZE(n,e){const t=dn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Dv(t)?Lv(t):om(t).O_()&&Pv(t,e))}function Rv(n,e){const t=dn(n),s=om(t);t.Ia.delete(e),s.O_()&&eA(t,e),t.Ia.size===0&&(s.O_()?s.L_():gh(t)&&t.Ra.set("Unknown"))}function Pv(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Gt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}om(n).Y_(e)}function eA(n,e){n.Va.Ue(e),om(n).Z_(e)}function Lv(n){n.Va=new wD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),om(n).start(),n.Ra.ua()}function Dv(n){return gh(n)&&!om(n).x_()&&n.Ia.size>0}function gh(n){return dn(n).Ea.size===0}function tA(n){n.Va=void 0}async function kM(n){n.Ra.set("Online")}async function RM(n){n.Ia.forEach(((e,t)=>{Pv(n,e)}))}async function PM(n,e){tA(n),Dv(n)?(n.Ra.ha(e),Lv(n)):n.Ra.set("Unknown")}async function LM(n,e,t){if(n.Ra.set("Online"),e instanceof vE&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const d of o.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(n,e)}catch(s){tt(oh,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _x(n,s)}else if(e instanceof H0?n.Va.Ze(e):e instanceof bE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Gt.min()))try{const s=await YE(n.localStore);t.compareTo(s)>=0&&await(function(o,c){const d=o.Va.Tt(c);return d.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(h.resumeToken,c))}})),d.targetMismatches.forEach(((h,f)=>{const g=o.Ia.get(h);if(!g)return;o.Ia.set(h,g.withResumeToken(Bs.EMPTY_BYTE_STRING,g.snapshotVersion)),eA(o,h);const p=new qc(g.target,h,f,g.sequenceNumber);Pv(o,p)})),o.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(s){tt(oh,"Failed to raise snapshot:",s),await _x(n,s)}}async function _x(n,e,t){if(!fu(e))throw e;n.Ea.add(1),await cp(n),n.Ra.set("Offline"),t||(t=()=>YE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{tt(oh,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await cy(n)}))}function nA(n,e){return e().catch((t=>_x(n,t,e)))}async function dp(n){const e=dn(n),t=au(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gu;for(;DM(e);)try{const a=await pM(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,MM(e,a)}catch(a){await _x(e,a)}rA(e)&&sA(e)}function DM(n){return gh(n)&&n.Ta.length<10}function MM(n,e){n.Ta.push(e);const t=au(n);t.O_()&&t.X_&&t.ea(e.mutations)}function rA(n){return gh(n)&&!au(n).x_()&&n.Ta.length>0}function sA(n){au(n).start()}async function OM(n){au(n).ra()}async function FM(n){const e=au(n);for(const t of n.Ta)e.ea(t.mutations)}async function UM(n,e,t){const s=n.Ta.shift(),a=wv.from(s,e,t);await nA(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await dp(n)}async function VM(n,e){e&&au(n).X_&&await(async function(s,a){if((function(c){return yD(c)&&c!==Ue.ABORTED})(a.code)){const o=s.Ta.shift();au(s).B_(),await nA(s,(()=>s.remoteSyncer.rejectFailedWrite(o.batchId,a))),await dp(s)}})(n,e),rA(n)&&sA(n)}async function V_(n,e){const t=dn(n);t.asyncQueue.verifyOperationInProgress(),tt(oh,"RemoteStore received new credentials");const s=gh(t);t.Ea.add(3),await cp(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await cy(t)}async function zM(n,e){const t=dn(n);e?(t.Ea.delete(2),await cy(t)):e||(t.Ea.add(2),await cp(t),t.Ra.set("Unknown"))}function om(n){return n.ma||(n.ma=(function(t,s,a){const o=dn(t);return o.sa(),new SM(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:kM.bind(null,n),t_:RM.bind(null,n),r_:PM.bind(null,n),H_:LM.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Dv(n)?Lv(n):n.Ra.set("Unknown")):(await n.ma.stop(),tA(n))}))),n.ma}function au(n){return n.fa||(n.fa=(function(t,s,a){const o=dn(t);return o.sa(),new EM(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:OM.bind(null,n),r_:VM.bind(null,n),ta:FM.bind(null,n),na:UM.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await dp(n)):(await n.fa.stop(),n.Ta.length>0&&(tt(oh,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Mv{constructor(e,t,s,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=o,this.deferred=new ec,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,o){const c=Date.now()+s,d=new Mv(e,t,c,a,o);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ov(n,e){if(pi("AsyncQueue",`${e}: ${n}`),fu(n))return new st(Ue.UNAVAILABLE,`${e}: ${n}`);throw n}class Af{static emptySet(e){return new Af(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||lt.comparator(t.key,s.key):(t,s)=>lt.comparator(t.key,s.key),this.keyedMap=ig(),this.sortedSet=new $r(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Af)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=s.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Af;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class z_{constructor(){this.ga=new $r(lt.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):wt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Kf{constructor(e,t,s,a,o,c,d,h,f){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,s,a,o){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Kf(e,t,Af.emptySet(t),c,s,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ty(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class BM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class qM{constructor(){this.queries=B_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=dn(t),o=a.queries;a.queries=B_(),o.forEach(((c,d)=>{for(const h of d.Sa)h.onError(s)}))})(this,new st(Ue.ABORTED,"Firestore shutting down"))}}function B_(){return new td((n=>sE(n)),ty)}async function Fv(n,e){const t=dn(n);let s=3;const a=e.query;let o=t.queries.get(a);o?!o.ba()&&e.Da()&&(s=2):(o=new BM,s=e.Da()?0:1);try{switch(s){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Ov(c,`Initialization of query '${gf(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Vv(t)}async function Uv(n,e){const t=dn(n),s=e.query;let a=3;const o=t.queries.get(s);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function GM(n,e){const t=dn(n);let s=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&Vv(t)}function HM(n,e,t){const s=dn(n),a=s.queries.get(e);if(a)for(const o of a.Sa)o.onError(t);s.queries.delete(e)}function Vv(n){n.Ca.forEach((e=>{e.next()}))}var g2,q_;(q_=g2||(g2={})).Ma="default",q_.Cache="cache";class zv{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Kf(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Kf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==g2.Cache}}class aA{constructor(e){this.key=e}}class iA{constructor(e){this.key=e}}class $M{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Sn(),this.mutatedKeys=Sn(),this.eu=aE(e),this.tu=new Af(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new z_,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,p)=>{const v=a.get(g),b=ip(this.query,p)?p:null,T=!!v&&this.mutatedKeys.has(v.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let j=!1;v&&b?v.data.isEqual(b.data)?T!==E&&(s.track({type:3,doc:b}),j=!0):this.su(v,b)||(s.track({type:2,doc:b}),j=!0,(h&&this.eu(b,h)>0||f&&this.eu(b,f)<0)&&(d=!0)):!v&&b?(s.track({type:0,doc:b}),j=!0):v&&!b&&(s.track({type:1,doc:v}),j=!0,(h||f)&&(d=!0)),j&&(b?(c=c.add(b),o=E?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),s.track({type:1,doc:g})}return{tu:c,iu:s,Cs:d,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,p)=>(function(b,T){const E=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:j})}};return E(b)-E(T)})(g.type,p.type)||this.eu(g.doc,p.doc))),this.ou(s),a=a??!1;const d=t&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,f=h!==this.Za;return this.Za=h,c.length!==0||f?{snapshot:new Kf(this.query,e.tu,o,c,e.mutatedKeys,h===0,f,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Sn(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new iA(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new aA(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Sn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Kf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bv="SyncEngine";class WM{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class KM{constructor(e){this.key=e,this.hu=!1}}class YM{constructor(e,t,s,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new td((d=>sE(d)),ty),this.Iu=new Map,this.Eu=new Set,this.du=new $r(lt.comparator),this.Au=new Map,this.Ru=new Av,this.Vu={},this.mu=new Map,this.fu=ih.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XM(n,e,t=!0){const s=hA(n);let a;const o=s.Tu.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await oA(s,e,t,!0),a}async function QM(n,e){const t=hA(n);await oA(t,e,!0,!1)}async function oA(n,e,t,s){const a=await xM(n.localStore,Fo(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let d;return s&&(d=await JM(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&ZE(n.remoteStore,a),d}async function JM(n,e,t,s,a){n.pu=(p,v,b)=>(async function(E,j,S,L){let M=j.view.ru(S);M.Cs&&(M=await D_(E.localStore,j.query,!1).then((({documents:G})=>j.view.ru(G,M))));const z=L&&L.targetChanges.get(j.targetId),se=L&&L.targetMismatches.get(j.targetId)!=null,ae=j.view.applyChanges(M,E.isPrimaryClient,z,se);return H_(E,j.targetId,ae.au),ae.snapshot})(n,p,v,b);const o=await D_(n.localStore,e,!0),c=new $M(e,o.Qs),d=c.ru(o.documents),h=lp.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),f=c.applyChanges(d,n.isPrimaryClient,h);H_(n,t,f.au);const g=new WM(e,t,c);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function ZM(n,e,t){const s=dn(n),a=s.Tu.get(e),o=s.Iu.get(a.targetId);if(o.length>1)return s.Iu.set(a.targetId,o.filter((c=>!ty(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await f2(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Rv(s.remoteStore,a.targetId),p2(s,a.targetId)})).catch(mh)):(p2(s,a.targetId),await f2(s.localStore,a.targetId,!0))}async function e9(n,e){const t=dn(n),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Rv(t.remoteStore,s.targetId))}async function t9(n,e,t){const s=fA(n);try{const a=await(function(c,d){const h=dn(c),f=xt.now(),g=d.reduce(((b,T)=>b.add(T.key)),Sn());let p,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let T=co(),E=Sn();return h.Ns.getEntries(b,g).next((j=>{T=j,T.forEach(((S,L)=>{L.isValidDocument()||(E=E.add(S))}))})).next((()=>h.localDocuments.getOverlayedDocuments(b,T))).next((j=>{p=j;const S=[];for(const L of d){const M=pD(L,p.get(L.key).overlayedDocument);M!=null&&S.push(new nd(L.key,M,YS(M.value.mapValue),ra.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,S,d)})).next((j=>{v=j;const S=j.applyToLocalDocumentSet(p,E);return h.documentOverlayCache.saveOverlays(b,j.batchId,S)}))})).then((()=>({batchId:v.batchId,changes:oE(p)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,h){let f=c.Vu[c.currentUser.toKey()];f||(f=new $r(cn)),f=f.insert(d,h),c.Vu[c.currentUser.toKey()]=f})(s,a.batchId,t),await up(s,a.changes),await dp(s.remoteStore)}catch(a){const o=Ov(a,"Failed to persist write");t.reject(o)}}async function lA(n,e){const t=dn(n);try{const s=await mM(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=t.Au.get(o);c&&(Pt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Pt(c.hu,14607):a.removedDocuments.size>0&&(Pt(c.hu,42227),c.hu=!1))})),await up(t,s,e)}catch(s){await mh(s)}}function G_(n,e,t){const s=dn(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const h=dn(c);h.onlineState=d;let f=!1;h.queries.forEach(((g,p)=>{for(const v of p.Sa)v.va(d)&&(f=!0)})),f&&Vv(h)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function n9(n,e,t){const s=dn(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),o=a&&a.key;if(o){let c=new $r(lt.comparator);c=c.insert(o,ms.newNoDocument(o,Gt.min()));const d=Sn().add(o),h=new sy(Gt.min(),new Map,new $r(cn),c,d);await lA(s,h),s.du=s.du.remove(o),s.Au.delete(e),qv(s)}else await f2(s.localStore,e,!1).then((()=>p2(s,e,t))).catch(mh)}async function r9(n,e){const t=dn(n),s=e.batch.batchId;try{const a=await fM(t.localStore,e);dA(t,s,null),cA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await up(t,a)}catch(a){await mh(a)}}async function s9(n,e,t){const s=dn(n);try{const a=await(function(c,d){const h=dn(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return h.mutationQueue.lookupMutationBatch(f,d).next((p=>(Pt(p!==null,37113),g=p.keys(),h.mutationQueue.removeMutationBatch(f,p)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>h.localDocuments.getDocuments(f,g)))}))})(s.localStore,e);dA(s,e,t),cA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await up(s,a)}catch(a){await mh(a)}}function cA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function dA(n,e,t){const s=dn(n);let a=s.Vu[s.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function p2(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||uA(n,s)}))}function uA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Rv(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),qv(n))}function H_(n,e,t){for(const s of t)s instanceof aA?(n.Ru.addReference(s.key,e),a9(n,s)):s instanceof iA?(tt(Bv,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||uA(n,s.key)):wt(19791,{wu:s})}function a9(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(tt(Bv,"New document in limbo: "+t),n.Eu.add(s),qv(n))}function qv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new lt(tr.fromString(e)),s=n.fu.next();n.Au.set(s,new KM(t)),n.du=n.du.insert(t,s),ZE(n.remoteStore,new qc(Fo(ap(t.path)),s,"TargetPurposeLimboResolution",Mo.ce))}}async function up(n,e,t){const s=dn(n),a=[],o=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,h)=>{c.push(s.pu(h,e,t).then((f=>{if((f||t)&&s.isPrimaryClient){const g=f?!f.fromCache:t?.targetChanges.get(h.targetId)?.current;s.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){a.push(f);const g=Iv.As(h.targetId,f);o.push(g)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(h,f){const g=dn(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Te.forEach(f,(v=>Te.forEach(v.Es,(b=>g.persistence.referenceDelegate.addReference(p,v.targetId,b))).next((()=>Te.forEach(v.ds,(b=>g.persistence.referenceDelegate.removeReference(p,v.targetId,b)))))))))}catch(p){if(!fu(p))throw p;tt(kv,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const b=g.Ms.get(v),T=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(T);g.Ms=g.Ms.insert(v,E)}}})(s.localStore,o))}async function i9(n,e){const t=dn(n);if(!t.currentUser.isEqual(e)){tt(Bv,"User change. New user:",e.toKey());const s=await KE(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((h=>{h.reject(new st(Ue.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await up(t,s.Ls)}}function o9(n,e){const t=dn(n),s=t.Au.get(e);if(s&&s.hu)return Sn().add(s.key);{let a=Sn();const o=t.Iu.get(e);if(!o)return a;for(const c of o){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function hA(n){const e=dn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n9.bind(null,e),e.Pu.H_=GM.bind(null,e.eventManager),e.Pu.yu=HM.bind(null,e.eventManager),e}function fA(n){const e=dn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s9.bind(null,e),e}class Gg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ly(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return WE(this.persistence,new $E,e.initialUser,this.serializer)}Cu(e){return new Tv(oy.mi,this.serializer)}Du(e){return new XE}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gg.provider={build:()=>new Gg};class l9 extends Gg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Pt(this.persistence.referenceDelegate instanceof jx,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new zE(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ja.withCacheSize(this.cacheSizeBytes):Ja.DEFAULT;return new Tv((s=>jx.mi(s,t)),this.serializer)}}class c9 extends Gg{constructor(e,t,s){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await fA(this.xu.syncEngine),await dp(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return WE(this.persistence,new $E,e.initialUser,this.serializer)}Fu(e,t){const s=this.persistence.referenceDelegate.garbageCollector;return new zE(s,e.asyncQueue,t)}Mu(e,t){const s=new g7(t,this.persistence);return new m7(e.asyncQueue,s)}Cu(e){const t=cM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=this.cacheSizeBytes!==void 0?Ja.withCacheSize(this.cacheSizeBytes):Ja.DEFAULT;return new Cv(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,_M(),W0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new XE}}class Sx{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>G_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=i9.bind(null,this.syncEngine),await zM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qM})()}createDatastore(e){const t=ly(e.databaseInfo.databaseId),s=(function(o){return new jM(o)})(e.databaseInfo);return(function(o,c,d,h){return new TM(o,c,d,h)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,o,c,d){return new IM(s,a,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>G_(this.syncEngine,t,0)),(function(){return F_.v()?new F_:new bM})())}createSyncEngine(e,t){return(function(a,o,c,d,h,f,g){const p=new YM(a,o,c,d,h,f);return g&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=dn(t);tt(oh,"RemoteStore shutting down."),s.Ea.add(5),await cp(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sx.provider={build:()=>new Sx};class Gv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const iu="FirestoreClient";class d9{constructor(e,t,s,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Ma.UNAUTHENTICATED,this.clientId=lv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,(async c=>{tt(iu,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(tt(iu,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ec;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Ov(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function r1(n,e){n.asyncQueue.verifyOperationInProgress(),tt(iu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await KE(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function $_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await u9(n);tt(iu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>V_(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>V_(e.remoteStore,a))),n._onlineComponents=e}async function u9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){tt(iu,"Using user provided OfflineComponentProvider");try{await r1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Ue.FAILED_PRECONDITION||a.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;th("Error using user provided cache. Falling back to memory cache: "+t),await r1(n,new Gg)}}else tt(iu,"Using default OfflineComponentProvider"),await r1(n,new l9(void 0));return n._offlineComponents}async function mA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(tt(iu,"Using user provided OnlineComponentProvider"),await $_(n,n._uninitializedComponentsProvider._online)):(tt(iu,"Using default OnlineComponentProvider"),await $_(n,new Sx))),n._onlineComponents}function h9(n){return mA(n).then((e=>e.syncEngine))}async function Ex(n){const e=await mA(n),t=e.eventManager;return t.onListen=XM.bind(null,e.syncEngine),t.onUnlisten=ZM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=QM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=e9.bind(null,e.syncEngine),t}function f9(n,e,t={}){const s=new ec;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,h,f){const g=new Gv({next:v=>{g.Nu(),c.enqueueAndForget((()=>Uv(o,p)));const b=v.docs.has(d);!b&&v.fromCache?f.reject(new st(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&h&&h.source==="server"?f.reject(new st(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new zv(ap(d.path),g,{includeMetadataChanges:!0,qa:!0});return Fv(o,p)})(await Ex(n),n.asyncQueue,e,t,s))),s.promise}function gA(n,e,t={}){const s=new ec;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,h,f){const g=new Gv({next:v=>{g.Nu(),c.enqueueAndForget((()=>Uv(o,p))),v.fromCache&&h.source==="server"?f.reject(new st(Ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new zv(d,g,{includeMetadataChanges:!0,qa:!0});return Fv(o,p)})(await Ex(n),n.asyncQueue,e,t,s))),s.promise}function pA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const W_=new Map;const xA="firestore.googleapis.com",K_=!0;class Y_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xA,this.ssl=K_}else this.host=e.host,this.ssl=e.ssl??K_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$D)throw new st(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new st(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new st(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new st(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dy{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new e7;switch(s.type){case"firstParty":return new s7(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=W_.get(t);s&&(tt("ComponentProvider","Removing Datastore"),W_.delete(t),s.terminate())})(this),Promise.resolve()}}function m9(n,e,t,s={}){n=wa(n,dy);const a=uu(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;a&&(K2(`https://${d}`),Y2("Firestore",!0)),o.host!==xA&&o.host!==d&&th("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:d,ssl:a,emulatorOptions:s};if(!Qu(h,c)&&(n._setSettings(h),s.mockUserToken)){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=Ma.MOCK_USER;else{f=_3(s.mockUserToken,n._app?.options.projectId);const p=s.mockUserToken.sub||s.mockUserToken.user_id;if(!p)throw new st(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ma(p)}n._authCredentials=new t7(new NS(f,g))}}class rd{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new rd(this.firestore,e,this._query)}}class gs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gs(this.firestore,e,this._key)}toJSON(){return{type:gs._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(np(t,gs._jsonSchema))return new gs(e,s||null,new lt(tr.fromString(t.referencePath)))}}gs._jsonSchemaVersion="firestore/documentReference/1.0",gs._jsonSchema={type:zs("string",gs._jsonSchemaVersion),referencePath:zs("string")};class Zd extends rd{constructor(e,t,s){super(e,t,ap(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gs(this.firestore,null,new lt(e))}withConverter(e){return new Zd(this.firestore,e,this._path)}}function Ht(n,e,...t){if(n=Dr(n),_S("collection","path",e),n instanceof dy){const s=tr.fromString(e,...t);return Uj(s),new Zd(n,null,s)}{if(!(n instanceof gs||n instanceof Zd))throw new st(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(tr.fromString(e,...t));return Uj(s),new Zd(n.firestore,null,s)}}function Ft(n,e,...t){if(n=Dr(n),arguments.length===1&&(e=lv.newId()),_S("doc","path",e),n instanceof dy){const s=tr.fromString(e,...t);return Fj(s),new gs(n,null,new lt(s))}{if(!(n instanceof gs||n instanceof Zd))throw new st(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(tr.fromString(e,...t));return Fj(s),new gs(n.firestore,n instanceof Zd?n.converter:null,new lt(s))}}const X_="AsyncQueue";class Q_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QE(this,"async_queue_retry"),this._c=()=>{const s=W0();s&&tt(X_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=W0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=W0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ec;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fu(e))throw e;tt(X_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,pi("INTERNAL UNHANDLED ERROR: ",J_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Mv.createAndSchedule(this,e,t,s,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&wt(47125,{Pc:J_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function J_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function Z_(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of s)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class zo extends dy{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Q_,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q_(e),this._firestoreClient=void 0,await e}}}function g9(n,e){const t=typeof n=="object"?n:J2(),s=typeof n=="string"?n:gx,a=qx(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const o=w3("firestore");o&&m9(a,...o)}return a}function lm(n){if(n._terminated)throw new st(Ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||yA(n),n._firestoreClient}function yA(n){const e=n._freezeSettings(),t=(function(a,o,c,d){return new G7(a,o,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,pA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new d9(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}function p9(n,e){th("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return x9(n,Sx.provider,{build:s=>new c9(s,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function x9(n,e,t){if((n=wa(n,zo))._firestoreClient||n._terminated)throw new st(Ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new st(Ue.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},yA(n)}class Lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lo(Bs.fromBase64String(e))}catch(t){throw new st(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Lo(Bs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Lo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(np(e,Lo._jsonSchema))return Lo.fromBase64String(e.bytes)}}Lo._jsonSchemaVersion="firestore/bytes/1.0",Lo._jsonSchema={type:zs("string",Lo._jsonSchemaVersion),bytes:zs("string")};class hp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new st(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uy{constructor(e){this._methodName=e}}class tc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new st(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new st(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return cn(this._lat,e._lat)||cn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tc._jsonSchemaVersion}}static fromJSON(e){if(np(e,tc._jsonSchema))return new tc(e.latitude,e.longitude)}}tc._jsonSchemaVersion="firestore/geoPoint/1.0",tc._jsonSchema={type:zs("string",tc._jsonSchemaVersion),latitude:zs("number"),longitude:zs("number")};class nc{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:nc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(np(e,nc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new nc(e.vectorValues);throw new st(Ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}nc._jsonSchemaVersion="firestore/vectorValue/1.0",nc._jsonSchema={type:zs("string",nc._jsonSchemaVersion),vectorValues:zs("object")};const y9=/^__.*__$/;class b9{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new nd(e,this.data,this.fieldMask,t,this.fieldTransforms):new im(e,this.data,t,this.fieldTransforms)}}class bA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new nd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ac:n})}}class Hv{constructor(e,t,s,a,o,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ax(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vA(this.Ac)&&y9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class v9{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||ly(e)}Cc(e,t,s,a=!1){return new Hv({Ac:e,methodName:t,Dc:s,path:Zr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fp(n){const e=n._freezeSettings(),t=ly(n._databaseId);return new v9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $v(n,e,t,s,a,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,e,t,a);Kv("Data must be an object, but it was:",c,s);const d=jA(s,c);let h,f;if(o.merge)h=new Bi(c.fieldMask),f=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const p of o.mergeFields){const v=x2(e,p,t);if(!c.contains(v))throw new st(Ue.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);SA(g,v)||g.push(v)}h=new Bi(g),f=c.fieldTransforms.filter((p=>h.covers(p.field)))}else h=null,f=c.fieldTransforms;return new b9(new Za(d),h,f)}class hy extends uy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hy}}class Wv extends uy{_toFieldTransform(e){return new mE(e.path,new Gf)}isEqual(e){return e instanceof Wv}}function wA(n,e,t,s){const a=n.Cc(1,e,t);Kv("Data must be an object, but it was:",a,s);const o=[],c=Za.empty();mu(s,((h,f)=>{const g=Yv(e,h,t);f=Dr(f);const p=a.yc(g);if(f instanceof hy)o.push(g);else{const v=mp(f,p);v!=null&&(o.push(g),c.set(g,v))}}));const d=new Bi(o);return new bA(c,d,a.fieldTransforms)}function NA(n,e,t,s,a,o){const c=n.Cc(1,e,t),d=[x2(e,s,t)],h=[a];if(o.length%2!=0)throw new st(Ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)d.push(x2(e,o[v])),h.push(o[v+1]);const f=[],g=Za.empty();for(let v=d.length-1;v>=0;--v)if(!SA(f,d[v])){const b=d[v];let T=h[v];T=Dr(T);const E=c.yc(b);if(T instanceof hy)f.push(b);else{const j=mp(T,E);j!=null&&(f.push(b),g.set(b,j))}}const p=new Bi(f);return new bA(g,p,c.fieldTransforms)}function w9(n,e,t,s=!1){return mp(t,n.Cc(s?4:3,e))}function mp(n,e){if(_A(n=Dr(n)))return Kv("Unsupported field value:",e,n),jA(n,e);if(n instanceof uy)return(function(s,a){if(!vA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const o=[];let c=0;for(const d of s){let h=mp(d,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}})(n,e)}return(function(s,a){if((s=Dr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dD(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=xt.fromDate(s);return{timestampValue:Wf(a.serializer,o)}}if(s instanceof xt){const o=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wf(a.serializer,o)}}if(s instanceof tc)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Lo)return{bytesValue:wE(a.serializer,s._byteString)};if(s instanceof gs){const o=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_v(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof nc)return(function(c,d){return{mapValue:{fields:{[pv]:{stringValue:xv},[Vf]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw d.Sc("VectorValues must only contain numeric values.");return bv(d.serializer,f)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Wx(s)}`)})(n,e)}function jA(n,e){const t={};return VS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mu(n,((s,a)=>{const o=mp(a,e.mc(s));o!=null&&(t[s]=o)})),{mapValue:{fields:t}}}function _A(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof tc||n instanceof Lo||n instanceof gs||n instanceof uy||n instanceof nc)}function Kv(n,e,t){if(!_A(t)||!SS(t)){const s=Wx(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function x2(n,e,t){if((e=Dr(e))instanceof hp)return e._internalPath;if(typeof e=="string")return Yv(n,e);throw Ax("Field path arguments must be of type string or ",n,!1,void 0,t)}const N9=new RegExp("[~\\*/\\[\\]]");function Yv(n,e,t){if(e.search(N9)>=0)throw Ax(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hp(...e.split("."))._internalPath}catch{throw Ax(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ax(n,e,t,s,a){const o=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${s}`),c&&(h+=` in document ${a}`),h+=")"),new st(Ue.INVALID_ARGUMENT,d+n+h)}function SA(n,e){return n.some((t=>t.isEqual(e)))}class EA{constructor(e,t,s,a,o){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class j9 extends EA{data(){return super.data()}}function fy(n,e){return typeof e=="string"?Yv(n,e):e instanceof hp?e._internalPath:e._delegate._internalPath}function AA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new st(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xv{}class TA extends Xv{}function Ts(n,e,...t){let s=[];e instanceof Xv&&s.push(e),s=s.concat(t),(function(o){const c=o.filter((h=>h instanceof Qv)).length,d=o.filter((h=>h instanceof my)).length;if(c>1||c>0&&d>0)throw new st(Ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)n=a._apply(n);return n}class my extends TA{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new my(e,t,s)}_apply(e){const t=this._parse(e);return CA(e._query,t),new rd(e.firestore,e.converter,s2(e._query,t))}_parse(e){const t=fp(e.firestore);return(function(o,c,d,h,f,g,p){let v;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new st(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){t4(p,g);const T=[];for(const E of p)T.push(e4(h,o,E));v={arrayValue:{values:T}}}else v=e4(h,o,p)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||t4(p,g),v=w9(d,c,p,g==="in"||g==="not-in");return Dn.create(f,g,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ti(n,e,t){const s=e,a=fy("where",n);return my._create(a,s,t)}class Qv extends Xv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qv(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:dr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let c=a;const d=o.getFlattenedFilters();for(const h of d)CA(c,h),c=s2(c,h)})(e._query,t),new rd(e.firestore,e.converter,s2(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jv extends TA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Jv(e,t)}_apply(e){const t=(function(a,o,c){if(a.startAt!==null)throw new st(Ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new st(Ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bg(o,c)})(e._query,this._field,this._direction);return new rd(e.firestore,e.converter,(function(a,o){const c=a.explicitOrderBy.concat([o]);return new am(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function ic(n,e="asc"){const t=e,s=fy("orderBy",n);return Jv._create(s,t)}function e4(n,e,t){if(typeof(t=Dr(t))=="string"){if(t==="")throw new st(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rE(e)&&t.indexOf("/")!==-1)throw new st(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tr.fromString(t));if(!lt.isDocumentKey(s))throw new st(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Vg(n,new lt(s))}if(t instanceof gs)return Vg(n,t._key);throw new st(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wx(t)}.`)}function t4(n,e){if(!Array.isArray(n)||n.length===0)throw new st(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CA(n,e){const t=(function(a,o){for(const c of a)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new st(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class _9{convertValue(e,t="none"){switch(ru(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw wt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return mu(e,((a,o)=>{s[a]=this.convertValue(o,t)})),s}convertVectorValue(e){const t=e.fields?.[Vf].arrayValue?.values?.map((s=>Gr(s.doubleValue)));return new nc(t)}convertGeoPoint(e){return new tc(Gr(e.latitude),Gr(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Zx(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Fg(e));default:return null}}convertTimestamp(e){const t=Xc(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tr.fromString(e);Pt(kE(s),9688,{name:e});const a=new nh(s.get(1),s.get(3)),o=new lt(s.popFirst(5));return a.isEqual(t)||pi(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function Zv(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class cg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wu extends EA{constructor(e,t,s,a,o,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new K0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(fy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Wu._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Wu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wu._jsonSchema={type:zs("string",Wu._jsonSchemaVersion),bundleSource:zs("string","DocumentSnapshot"),bundleName:zs("string"),bundle:zs("string")};class K0 extends Wu{data(e={}){return super.data(e)}}class eu{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new cg(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new K0(this._firestore,this._userDataWriter,s.key,s,new cg(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new st(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const h=new K0(a._firestore,a._userDataWriter,d.doc.key,d.doc,new cg(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const h=new K0(a._firestore,a._userDataWriter,d.doc.key,d.doc,new cg(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,g=-1;return d.type!==0&&(f=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:S9(d.type),doc:h,oldIndex:f,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),s.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:n})}}function ri(n){n=wa(n,gs);const e=wa(n.firestore,zo);return f9(lm(e),n._key).then((t=>IA(e,n,t)))}eu._jsonSchemaVersion="firestore/querySnapshot/1.0",eu._jsonSchema={type:zs("string",eu._jsonSchemaVersion),bundleSource:zs("string","QuerySnapshot"),bundleName:zs("string"),bundle:zs("string")};class gy extends _9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gs(this.firestore,null,t)}}function wr(n){n=wa(n,rd);const e=wa(n.firestore,zo),t=lm(e),s=new gy(e);return AA(n._query),gA(t,n._query).then((a=>new eu(e,s,n,a)))}function E9(n){n=wa(n,rd);const e=wa(n.firestore,zo),t=lm(e),s=new gy(e);return gA(t,n._query,{source:"server"}).then((a=>new eu(e,s,n,a)))}function lh(n,e,t){n=wa(n,gs);const s=wa(n.firestore,zo),a=Zv(n.converter,e,t);return gp(s,[$v(fp(s),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ra.none())])}function Go(n,e,t,...s){n=wa(n,gs);const a=wa(n.firestore,zo),o=fp(a);let c;return c=typeof(e=Dr(e))=="string"||e instanceof hp?NA(o,"updateDoc",n._key,e,t,s):wA(o,"updateDoc",n._key,e),gp(a,[c.toMutation(n._key,ra.exists(!0))])}function Uo(n){return gp(wa(n.firestore,zo),[new op(n._key,ra.none())])}function Ns(n,e){const t=wa(n.firestore,zo),s=Ft(n),a=Zv(n.converter,e);return gp(t,[$v(fp(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,ra.exists(!1))]).then((()=>s))}function A9(n,...e){n=Dr(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Z_(e[s])||(t=e[s++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Z_(e[s])){const h=e[s];e[s]=h.next?.bind(h),e[s+1]=h.error?.bind(h),e[s+2]=h.complete?.bind(h)}let o,c,d;if(n instanceof gs)c=wa(n.firestore,zo),d=ap(n._key.path),o={next:h=>{e[s]&&e[s](IA(c,n,h))},error:e[s+1],complete:e[s+2]};else{const h=wa(n,rd);c=wa(h.firestore,zo),d=h._query;const f=new gy(c);o={next:g=>{e[s]&&e[s](new eu(c,f,h,g))},error:e[s+1],complete:e[s+2]},AA(n._query)}return(function(f,g,p,v){const b=new Gv(v),T=new zv(g,b,p);return f.asyncQueue.enqueueAndForget((async()=>Fv(await Ex(f),T))),()=>{b.Nu(),f.asyncQueue.enqueueAndForget((async()=>Uv(await Ex(f),T)))}})(lm(c),d,a,o)}function gp(n,e){return(function(s,a){const o=new ec;return s.asyncQueue.enqueueAndForget((async()=>t9(await h9(s),a,o))),o.promise})(lm(n),e)}function IA(n,e,t){const s=t.docs.get(e._key),a=new gy(n);return new Wu(n,a,e._key,s,new cg(t.hasPendingWrites,t.fromCache),e.converter)}class T9{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=fp(e)}set(e,t,s){this._verifyNotCommitted();const a=s1(e,this._firestore),o=Zv(a.converter,t,s),c=$v(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,ra.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const o=s1(e,this._firestore);let c;return c=typeof(t=Dr(t))=="string"||t instanceof hp?NA(this._dataReader,"WriteBatch.update",o._key,t,s,a):wA(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,ra.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=s1(e,this._firestore);return this._mutations=this._mutations.concat(new op(t._key,ra.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(Ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function s1(n,e){if((n=Dr(n)).firestore!==e)throw new st(Ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Qt(){return new Wv("serverTimestamp")}function py(n){return lm(n=wa(n,zo)),new T9(n,(e=>gp(n,e)))}(function(e,t=!0){(function(a){sm=a})(fh),nu(new Wc("firestore",((s,{instanceIdentifier:a,options:o})=>{const c=s.getProvider("app").getImmediate(),d=new zo(new n7(s.getProvider("auth-internal")),new a7(c,s.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new st(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nh(f.options.projectId,g)})(c,a),c);return o={useFetchStreams:t,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Oo(Lj,Dj,e),Oo(Lj,Dj,"esm2020")})();var C9="firebase",I9="12.6.0";Oo(C9,I9,"app");const kA="firebasestorage.googleapis.com",RA="storageBucket",k9=120*1e3,R9=600*1e3,P9=1e3;class rs extends ac{constructor(e,t,s=0){super(a1(e),`Firebase Storage: ${t} (${a1(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return a1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mr||(Mr={}));function a1(n){return"storage/"+n}function ew(){const n="An unknown error occurred, please check the error payload for server response.";return new rs(Mr.UNKNOWN,n)}function L9(n){return new rs(Mr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function D9(n){return new rs(Mr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function M9(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new rs(Mr.UNAUTHENTICATED,n)}function O9(){return new rs(Mr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function F9(n){return new rs(Mr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function PA(){return new rs(Mr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LA(){return new rs(Mr.CANCELED,"User canceled the upload/download.")}function U9(n){return new rs(Mr.INVALID_URL,"Invalid URL '"+n+"'.")}function V9(n){return new rs(Mr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function z9(){return new rs(Mr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+RA+"' property when initializing the app?")}function DA(){return new rs(Mr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function B9(){return new rs(Mr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function q9(){return new rs(Mr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function G9(n){return new rs(Mr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function y2(n){return new rs(Mr.INVALID_ARGUMENT,n)}function MA(){return new rs(Mr.APP_DELETED,"The Firebase app was deleted.")}function H9(n){return new rs(Mr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vg(n,e){return new rs(Mr.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function eg(n){throw new rs(Mr.INTERNAL_ERROR,"Internal error: "+n)}class uo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=uo.makeFromUrl(e,t)}catch{return new uo(e,"")}if(s.path==="")return s;throw V9(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function o(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),h={bucket:1,path:3};function f(z){z.path_=decodeURIComponent(z.path)}const g="v[A-Za-z0-9_]+",p=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp(`^https?://${p}/${g}/b/${a}/o${v}`,"i"),T={bucket:1,path:3},E=t===kA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",S=new RegExp(`^https?://${E}/${a}/${j}`,"i"),M=[{regex:d,indices:h,postModify:o},{regex:b,indices:T,postModify:f},{regex:S,indices:{bucket:1,path:2},postModify:f}];for(let z=0;z<M.length;z++){const se=M[z],ae=se.regex.exec(e);if(ae){const G=ae[se.indices.bucket];let D=ae[se.indices.path];D||(D=""),s=new uo(G,D),se.postModify(s);break}}if(s==null)throw U9(e);return s}}class $9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function W9(n,e,t){let s=1,a=null,o=null,c=!1,d=0;function h(){return d===2}let f=!1;function g(...j){f||(f=!0,e.apply(null,j))}function p(j){a=setTimeout(()=>{a=null,n(b,h())},j)}function v(){o&&clearTimeout(o)}function b(j,...S){if(f){v();return}if(j){v(),g.call(null,j,...S);return}if(h()||c){v(),g.call(null,j,...S);return}s<64&&(s*=2);let M;d===1?(d=2,M=0):M=(s+Math.random())*1e3,p(M)}let T=!1;function E(j){T||(T=!0,v(),!f&&(a!==null?(j||(d=2),clearTimeout(a),p(0)):j||(d=1)))}return p(0),o=setTimeout(()=>{c=!0,E(!0)},t),E}function K9(n){n(!1)}function Y9(n){return n!==void 0}function X9(n){return typeof n=="function"}function Q9(n){return typeof n=="object"&&!Array.isArray(n)}function xy(n){return typeof n=="string"||n instanceof String}function n4(n){return tw()&&n instanceof Blob}function tw(){return typeof Blob<"u"}function r4(n,e,t,s){if(s<e)throw y2(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw y2(`Invalid value for '${n}'. Expected ${t} or less.`)}function cm(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function OA(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const a=e(s)+"="+e(n[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var Ku;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ku||(Ku={}));function FA(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||a||o}class J9{constructor(e,t,s,a,o,c,d,h,f,g,p,v=!0,b=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=p,this.retry=v,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,E)=>{this.resolve_=T,this.reject_=E,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new v0(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{const h=d.loaded,f=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===Ku.NO_ERROR,h=o.getStatus();if(!d||FA(h,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Ku.ABORT;s(!1,new v0(!1,null,g));return}const f=this.successCodes_.indexOf(h)!==-1;s(!0,new v0(f,o))})},t=(s,a)=>{const o=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());Y9(h)?o(h):o()}catch(h){c(h)}else if(d!==null){const h=ew();h.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,h)):c(h)}else if(a.canceled){const h=this.appDelete_?MA():LA();c(h)}else{const h=PA();c(h)}};this.canceled_?t(!1,new v0(!1,null,!0)):this.backoffId_=W9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&K9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class v0{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function Z9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function eO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function nO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function rO(n,e,t,s,a,o,c=!0,d=!1){const h=OA(n.urlParams),f=n.url+h,g=Object.assign({},n.headers);return tO(g,e),Z9(g,t),eO(g,o),nO(g,s),new J9(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,d)}function sO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function aO(...n){const e=sO();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(tw())return new Blob(n);throw new rs(Mr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function iO(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function oO(n){if(typeof atob>"u")throw G9("base-64");return atob(n)}const Yl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class i1{constructor(e,t){this.data=e,this.contentType=t||null}}function lO(n,e){switch(n){case Yl.RAW:return new i1(UA(e));case Yl.BASE64:case Yl.BASE64URL:return new i1(VA(n,e));case Yl.DATA_URL:return new i1(dO(e),uO(e))}throw ew()}function UA(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=s,c=n.charCodeAt(++t);s=65536|(o&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function cO(n){let e;try{e=decodeURIComponent(n)}catch{throw vg(Yl.DATA_URL,"Malformed data URL.")}return UA(e)}function VA(n,e){switch(n){case Yl.BASE64:{const a=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(a||o)throw vg(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Yl.BASE64URL:{const a=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(a||o)throw vg(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=oO(e)}catch(a){throw a.message.includes("polyfill")?a:vg(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}class zA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw vg(Yl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=hO(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function dO(n){const e=new zA(n);return e.base64?VA(Yl.BASE64,e.rest):cO(e.rest)}function uO(n){return new zA(n).contentType}function hO(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Vc{constructor(e,t){let s=0,a="";n4(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(n4(this.data_)){const s=this.data_,a=iO(s,e,t);return a===null?null:new Vc(a)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Vc(s,!0)}}static getBlob(...e){if(tw()){const t=e.map(s=>s instanceof Vc?s.data_:s);return new Vc(aO.apply(null,t))}else{const t=e.map(c=>xy(c)?lO(Yl.RAW,c).data:c.data_);let s=0;t.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let o=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)a[o++]=c[d]}),new Vc(a,!0)}}uploadData(){return this.data_}}function BA(n){let e;try{e=JSON.parse(n)}catch{return null}return Q9(e)?e:null}function fO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function mO(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function qA(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function gO(n,e){return e}class mi{constructor(e,t,s,a){this.server=e,this.local=t||e,this.writable=!!s,this.xform=a||gO}}let w0=null;function pO(n){return!xy(n)||n.length<2?n:qA(n)}function nw(){if(w0)return w0;const n=[];n.push(new mi("bucket")),n.push(new mi("generation")),n.push(new mi("metageneration")),n.push(new mi("name","fullPath",!0));function e(o,c){return pO(c)}const t=new mi("name");t.xform=e,n.push(t);function s(o,c){return c!==void 0?Number(c):c}const a=new mi("size");return a.xform=s,n.push(a),n.push(new mi("timeCreated")),n.push(new mi("updated")),n.push(new mi("md5Hash",null,!0)),n.push(new mi("cacheControl",null,!0)),n.push(new mi("contentDisposition",null,!0)),n.push(new mi("contentEncoding",null,!0)),n.push(new mi("contentLanguage",null,!0)),n.push(new mi("contentType",null,!0)),n.push(new mi("metadata","customMetadata",!0)),w0=n,w0}function xO(n,e){function t(){const s=n.bucket,a=n.fullPath,o=new uo(s,a);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function yO(n,e,t){const s={};s.type="file";const a=t.length;for(let o=0;o<a;o++){const c=t[o];s[c.local]=c.xform(s,e[c.server])}return xO(s,n),s}function GA(n,e,t){const s=BA(e);return s===null?null:yO(n,s,t)}function bO(n,e,t,s){const a=BA(e);if(a===null||!xy(a.downloadTokens))return null;const o=a.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(f=>{const g=n.bucket,p=n.fullPath,v="/b/"+c(g)+"/o/"+c(p),b=cm(v,t,s),T=OA({alt:"media",token:f});return b+T})[0]}function HA(n,e){const t={},s=e.length;for(let a=0;a<s;a++){const o=e[a];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class ph{constructor(e,t,s,a){this.url=e,this.method=t,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function $c(n){if(!n)throw ew()}function rw(n,e){function t(s,a){const o=GA(n,a,e);return $c(o!==null),o}return t}function vO(n,e){function t(s,a){const o=GA(n,a,e);return $c(o!==null),bO(o,a,n.host,n._protocol)}return t}function pp(n){function e(t,s){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=O9():a=M9():t.getStatus()===402?a=D9(n.bucket):t.getStatus()===403?a=F9(n.path):a=s,a.status=t.getStatus(),a.serverResponse=s.serverResponse,a}return e}function sw(n){const e=pp(n);function t(s,a){let o=e(s,a);return s.getStatus()===404&&(o=L9(n.path)),o.serverResponse=a.serverResponse,o}return t}function wO(n,e,t){const s=e.fullServerUrl(),a=cm(s,n.host,n._protocol),o="GET",c=n.maxOperationRetryTime,d=new ph(a,o,rw(n,t),c);return d.errorHandler=sw(e),d}function NO(n,e,t){const s=e.fullServerUrl(),a=cm(s,n.host,n._protocol),o="GET",c=n.maxOperationRetryTime,d=new ph(a,o,vO(n,t),c);return d.errorHandler=sw(e),d}function jO(n,e){const t=e.fullServerUrl(),s=cm(t,n.host,n._protocol),a="DELETE",o=n.maxOperationRetryTime;function c(h,f){}const d=new ph(s,a,c,o);return d.successCodes=[200,204],d.errorHandler=sw(e),d}function _O(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function $A(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=_O(null,e)),s}function WA(n,e,t,s,a){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let M="";for(let z=0;z<2;z++)M=M+Math.random().toString().slice(2);return M}const h=d();c["Content-Type"]="multipart/related; boundary="+h;const f=$A(e,s,a),g=HA(f,t),p="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+h+"--",b=Vc.getBlob(p,s,v);if(b===null)throw DA();const T={name:f.fullPath},E=cm(o,n.host,n._protocol),j="POST",S=n.maxUploadRetryTime,L=new ph(E,j,rw(n,t),S);return L.urlParams=T,L.headers=c,L.body=b.uploadData(),L.errorHandler=pp(e),L}class Tx{constructor(e,t,s,a){this.current=e,this.total=t,this.finalized=!!s,this.metadata=a||null}}function aw(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{$c(!1)}return $c(!!t&&(e||["active"]).indexOf(t)!==-1),t}function SO(n,e,t,s,a){const o=e.bucketOnlyServerUrl(),c=$A(e,s,a),d={name:c.fullPath},h=cm(o,n.host,n._protocol),f="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},p=HA(c,t),v=n.maxUploadRetryTime;function b(E){aw(E);let j;try{j=E.getResponseHeader("X-Goog-Upload-URL")}catch{$c(!1)}return $c(xy(j)),j}const T=new ph(h,f,b,v);return T.urlParams=d,T.headers=g,T.body=p,T.errorHandler=pp(e),T}function EO(n,e,t,s){const a={"X-Goog-Upload-Command":"query"};function o(f){const g=aw(f,["active","final"]);let p=null;try{p=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{$c(!1)}p||$c(!1);const v=Number(p);return $c(!isNaN(v)),new Tx(v,s.size(),g==="final")}const c="POST",d=n.maxUploadRetryTime,h=new ph(t,c,o,d);return h.headers=a,h.errorHandler=pp(e),h}const s4=256*1024;function AO(n,e,t,s,a,o,c,d){const h=new Tx(0,0);if(c?(h.current=c.current,h.total=c.total):(h.current=0,h.total=s.size()),s.size()!==h.total)throw B9();const f=h.total-h.current;let g=f;a>0&&(g=Math.min(g,a));const p=h.current,v=p+g;let b="";g===0?b="finalize":f===g?b="upload, finalize":b="upload";const T={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":`${h.current}`},E=s.slice(p,v);if(E===null)throw DA();function j(z,se){const ae=aw(z,["active","final"]),G=h.current+g,D=s.size();let I;return ae==="final"?I=rw(e,o)(z,se):I=null,new Tx(G,D,ae==="final",I)}const S="POST",L=e.maxUploadRetryTime,M=new ph(t,S,j,L);return M.headers=T,M.body=E.uploadData(),M.progressCallback=d||null,M.errorHandler=pp(n),M}const Vi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function o1(n){switch(n){case"running":case"pausing":case"canceling":return Vi.RUNNING;case"paused":return Vi.PAUSED;case"success":return Vi.SUCCESS;case"canceled":return Vi.CANCELED;case"error":return Vi.ERROR;default:return Vi.ERROR}}class TO{constructor(e,t,s){if(X9(e)||t!=null||s!=null)this.next=e,this.error=t??void 0,this.complete=s??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function lf(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class CO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ku.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ku.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ku.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,a,o){if(this.sent_)throw eg("cannot .send() more than once");if(uu(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw eg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw eg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw eg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw eg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class IO extends CO{initXhr(){this.xhr_.responseType="text"}}function Gd(){return new IO}class kO{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=s,this._mappings=nw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(Mr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(FA(a.status,[]))if(o)a=PA();else{this.sleepTime=Math.max(this.sleepTime*2,P9),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(Mr.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,o)=>{this._resolve=a,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,s])=>{switch(this._state){case"running":e(t,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const s=SO(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,Gd,e,t);this._request=a,a.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,s)=>{const a=EO(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(a,Gd,t,s);this._request=o,o.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=s4*this._chunkMultiplier,t=new Tx(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((a,o)=>{let c;try{c=AO(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const d=this._ref.storage._makeRequest(c,Gd,a,o,!1);this._request=d,d.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){s4*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const s=wO(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(s,Gd,e,t);this._request=a,a.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const s=WA(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,Gd,e,t);this._request=a,a.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=LA(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=o1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,s,a){const o=new TO(t||void 0,s||void 0,a||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(o1(this._state)){case Vi.SUCCESS:lf(this._resolve.bind(null,this.snapshot))();break;case Vi.CANCELED:case Vi.ERROR:const t=this._reject;lf(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(o1(this._state)){case Vi.RUNNING:case Vi.PAUSED:e.next&&lf(e.next.bind(e,this.snapshot))();break;case Vi.SUCCESS:e.complete&&lf(e.complete.bind(e))();break;case Vi.CANCELED:case Vi.ERROR:e.error&&lf(e.error.bind(e,this._error))();break;default:e.error&&lf(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class ch{constructor(e,t){this._service=e,t instanceof uo?this._location=t:this._location=uo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ch(e,t)}get root(){const e=new uo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qA(this._location.path)}get storage(){return this._service}get parent(){const e=fO(this._location.path);if(e===null)return null;const t=new uo(this._location.bucket,e);return new ch(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw H9(e)}}function RO(n,e,t){n._throwIfRoot("uploadBytes");const s=WA(n.storage,n._location,nw(),new Vc(e,!0),t);return n.storage.makeRequestWithTokens(s,Gd).then(a=>({metadata:a,ref:n}))}function PO(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new kO(n,new Vc(e),t)}function LO(n){n._throwIfRoot("getDownloadURL");const e=NO(n.storage,n._location,nw());return n.storage.makeRequestWithTokens(e,Gd).then(t=>{if(t===null)throw q9();return t})}function DO(n){n._throwIfRoot("deleteObject");const e=jO(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Gd)}function MO(n,e){const t=mO(n._location.path,e),s=new uo(n._location.bucket,t);return new ch(n.storage,s)}function OO(n){return/^[A-Za-z]+:\/\//.test(n)}function FO(n,e){return new ch(n,e)}function KA(n,e){if(n instanceof iw){const t=n;if(t._bucket==null)throw z9();const s=new ch(t,t._bucket);return e!=null?KA(s,e):s}else return e!==void 0?MO(n,e):n}function UO(n,e){if(e&&OO(e)){if(n instanceof iw)return FO(n,e);throw y2("To use ref(service, url), the first argument must be a Storage instance.")}else return KA(n,e)}function a4(n,e){const t=e?.[RA];return t==null?null:uo.makeFromBucketSpec(t,n)}function VO(n,e,t,s={}){n.host=`${e}:${t}`;const a=uu(e);a&&(K2(`https://${n.host}/b`),Y2("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:o}=s;o&&(n._overrideAuthToken=typeof o=="string"?o:_3(o,n.app.options.projectId))}class iw{constructor(e,t,s,a,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=kA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=k9,this._maxUploadRetryTime=R9,this._requests=new Set,a!=null?this._bucket=uo.makeFromBucketSpec(a,this._host):this._bucket=a4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=uo.makeFromBucketSpec(this._url,e):this._bucket=a4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){r4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){r4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(zi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ch(this,e)}_makeRequest(e,t,s,a,o=!0){if(this._deleted)return new $9(MA());{const c=rO(e,this._appId,s,a,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const i4="@firebase/storage",o4="0.14.0";const YA="storage";function zO(n,e,t){return n=Dr(n),RO(n,e,t)}function BO(n,e,t){return n=Dr(n),PO(n,e,t)}function XA(n){return n=Dr(n),LO(n)}function QA(n){return n=Dr(n),DO(n)}function yy(n,e){return n=Dr(n),UO(n,e)}function qO(n=J2(),e){n=Dr(n);const s=qx(n,YA).getImmediate({identifier:e}),a=w3("storage");return a&&GO(s,...a),s}function GO(n,e,t,s={}){VO(n,e,t,s)}function HO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new iw(t,s,a,e,fh)}function $O(){nu(new Wc(YA,HO,"PUBLIC").setMultipleInstances(!0)),Oo(i4,o4,""),Oo(i4,o4,"esm2020")}$O();const oo={apiKey:"AIzaSyCAYLsu3pN6daniMe2EOUD2bOzRhWclNlE",authDomain:"grampanchayat-dev.firebaseapp.com",projectId:"grampanchayat-dev",storageBucket:"grampanchayat-dev.firebasestorage.app",messagingSenderId:"1012133622988",appId:"1:1012133622988:web:64c6eb01ddd61f4affbe69",measurementId:void 0};if(!oo.apiKey||!oo.projectId)throw console.error(" Firebase environment variables are not loaded!"),console.error("Missing variables:",{apiKey:!oo.apiKey,authDomain:!oo.authDomain,projectId:!oo.projectId,storageBucket:!oo.storageBucket,messagingSenderId:!oo.messagingSenderId,appId:!oo.appId}),new Error("Firebase configuration is incomplete. Please check environment variables.");const ow=k3(oo);console.log(`

            FIREBASE INITIALIZED                            


 Project ID: ${oo.projectId}
 Auth Domain: ${oo.authDomain}
 Storage Bucket: ${oo.storageBucket}

${oo.projectId==="grampanchayat-dev"?" Using DEVELOPMENT Firebase (safe to test!)":"  Using PRODUCTION Firebase (be careful!)"}

Environment: development
Debug Mode: Enabled
`);const Je=g9(ow);p9(Je).then(()=>{console.log(" Firestore offline persistence enabled")}).catch(n=>{n.code==="failed-precondition"?console.warn(" Multiple tabs open, persistence can only be enabled in one tab at a time"):n.code==="unimplemented"&&console.warn(" Current browser does not support persistence")});const Yf=JL(ow),by=qO(ow),l4={"grampanchayatpindkeparlodha.in":"pindkeparlodha","www.grampanchayatpindkeparlodha.in":"pindkeparlodha","grampanchayatdongartal.in":"dongartal","www.grampanchayatdongartal.in":"dongartal","grampanchayatkatta.in":"katta","www.grampanchayatkatta.in":"katta","grampanchayatnawargaon.in":"nawargaon","www.grampanchayatnawargaon.in":"nawargaon","grampanchayatpindkepaarlodha.in":"pindkepar","www.grampanchayatpindkepaarlodha.in":"pindkepar",localhost:"development","127.0.0.1":"development"},wg=[{id:"pindkepar",name:"Gram Panchayat Pindkepar Lodha",nameHi:"   ",domain:"grampanchayatpindkepaarlodha.in",active:!0},{id:"demo",name:"Demo Gram Panchayat",nameHi:"  ",domain:"demo",active:!0}],WO=n=>{if(!n||typeof n!="string")return"";let e=n.toLowerCase();if(e.startsWith("gp-")){e=e.substring(3);const t=e.match(/^(.+)-([a-z0-9]{6})$/);return t&&(e=t[1]),e}return e.includes("-gpmulti")&&(e=e.split("-gpmulti")[0]),e=e.replace(/-+$/g,""),e=e.replace(/gpmulti$/g,"").replace(/-+$/g,""),e},KO=()=>{const e=new URLSearchParams(window.location.search).get("tenant");if(e&&wg.find(o=>o.id===e))return console.log(" Tenant from query parameter:",e),e;const t=window.location.hostname;if(l4[t]){const a=l4[t];if(a==="development"){const o=wg.find(c=>c.active);if(o)return console.log(" Development mode - Using default tenant:",o.id),console.log(" Tip: Use ?tenant=TENANT_ID to test other GPs"),o.id}return console.log(" Tenant from domain:",a),a}if(t.includes(".grampanchayats.in")){const a=t.split(".")[0];if(a!=="www")return console.log(" Tenant from subdomain:",a),a}if(t.endsWith(".web.app")||t.endsWith(".firebaseapp.com")){const a=t.split(".")[0];if(a&&a!=="www"){const o=WO(a);return console.log(" Tenant from Firebase subdomain:",o,"(from",a+")"),o}}const s=wg.find(a=>a.active);return s?(console.log(" Using default tenant:",s.id),s.id):(console.warn(" No tenant detected, using fallback"),"pindkepar")};let N0=null;const Xf=()=>(N0||(N0=KO(),console.log(" Current Tenant:",N0)),N0),YO=()=>{const n=Xf(),e=wg.find(t=>t.id===n);return e||(console.log(` Tenant "${n}" using dynamic configuration (will load from Firestore)`),{id:n,name:`GP ${n.charAt(0).toUpperCase()+n.slice(1)}`,nameHi:`  ${n}`,domain:`gp-${n}.web.app`,active:!0})},XO=()=>wg.filter(n=>n.active);async function QO(n,e,t,s=null){try{const o=(await FP(Yf,n,e)).user,c=s||Xf();return await lh(Ft(Je,"gramPanchayats",c,"users",o.uid),{email:o.email,role:"admin",tenant:c,...t,createdAt:Qt(),updatedAt:Qt()}),{uid:o.uid,email:o.email,...t}}catch(a){throw console.error("Create admin error:",a),a}}const JO="functions";class ZO{constructor(e,t,s,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,zi(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||t.get().then(o=>this.auth=o,()=>{}),this.messaging||s.get().then(o=>this.messaging=o,()=>{}),this.appCheck||a?.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),s=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:t,messagingToken:s,appCheckToken:a}}}const c4="us-central1";class eF{constructor(e,t,s,a,o=c4,c=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new ZO(e,t,s,a),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(o);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=c4}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const d4="@firebase/functions",u4="0.13.1";const tF="auth-internal",nF="app-check-internal",rF="messaging-internal";function sF(n){const e=(t,{instanceIdentifier:s})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider(tF),c=t.getProvider(rF),d=t.getProvider(nF);return new eF(a,o,c,d,s)};nu(new Wc(JO,e,"PUBLIC").setMultipleInstances(!0)),Oo(d4,u4,n),Oo(d4,u4,"esm2020")}sF();const aF=W.createContext(),lw=()=>{const n=W.useContext(aF);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},Os={panchayatName:{en:"Gram Panchayat Shivpur",mr:" "},tagline:{en:"Working for Village Development",mr:"  "},logo:"/logo.png",contact:{phone:"+91 1234567890",email:"grampanchayat@example.com",address:{en:"Village Shivpur, Taluka Sample, District Example, Maharashtra - 411001",mr:" ,  ,  ,  - "}},officeTimings:{en:"Monday to Friday: 10:00 AM - 5:00 PM",mr:"  :     "},socialMedia:{facebook:"https://facebook.com",twitter:"https://twitter.com",youtube:"https://youtube.com"}},Nn=()=>`gramPanchayats/${Xf()}`,$t={settings:()=>`${Nn()}/settings`,siteSettings:()=>`${Nn()}/settings/siteConfig`,theme:()=>`${Nn()}/theme`,themeConfig:()=>`${Nn()}/theme/config`,features:()=>`${Nn()}/features`,featuresConfig:()=>`${Nn()}/features/config`,members:()=>`${Nn()}/members`,member:n=>`${Nn()}/members/${n}`,staff:()=>`${Nn()}/staff`,staffMember:n=>`${Nn()}/staff/${n}`,notices:()=>`${Nn()}/notices`,notice:n=>`${Nn()}/notices/${n}`,announcements:()=>`${Nn()}/announcements`,announcement:n=>`${Nn()}/announcements/${n}`,services:()=>`${Nn()}/services`,service:n=>`${Nn()}/services/${n}`,schemes:()=>`${Nn()}/schemes`,scheme:n=>`${Nn()}/schemes/${n}`,forms:()=>`${Nn()}/forms`,form:n=>`${Nn()}/forms/${n}`,programs:()=>`${Nn()}/programs`,program:n=>`${Nn()}/programs/${n}`,gallery:()=>`${Nn()}/gallery`,galleryItem:n=>`${Nn()}/gallery/${n}`,villages:()=>`${Nn()}/villages`,village:n=>`${Nn()}/villages/${n}`,demographics:()=>`${Nn()}/demographics`,populationBreakdowns:()=>`${Nn()}/populationBreakdowns`,villageGroups:()=>`${Nn()}/villageGroups`,infrastructure:()=>`${Nn()}/infrastructure`,statisticsYears:()=>`${Nn()}/statisticsYears`,financials:()=>`${Nn()}/financials`,financial:n=>`${Nn()}/financials/${n}`,grievances:()=>`${Nn()}/grievances`,grievance:n=>`${Nn()}/grievances/${n}`,pages:()=>`${Nn()}/pages`,page:n=>`${Nn()}/pages/${n}`,content:()=>`${Nn()}/content`,metadata:()=>`${Nn()}/metadata`,metadataConfig:()=>`${Nn()}/metadata/config`},Cx=async()=>{try{const n=Ft(Je,$t.siteSettings()),e=await ri(n);return e.exists()?e.data():null}catch(n){throw console.error("Error fetching settings:",n),n}},JA=async n=>{try{const e=Ft(Je,$t.siteSettings());return await lh(e,n,{merge:!0}),console.log("Settings updated successfully in Firebase"),n}catch(e){throw console.error("Error updating settings:",e),e}},iF=async n=>{try{const e=await Cx();return e||(await JA(n),console.log("Settings initialized with default data"),n)}catch(e){throw console.error("Error initializing settings:",e),e}},h4=n=>{if(!n)return;document.querySelectorAll("link[rel*='icon']").forEach(a=>a.remove());const t=document.createElement("link");t.rel="icon",t.type="image/png",t.href=n,document.head.appendChild(t);const s=document.createElement("link");s.rel="apple-touch-icon",s.href=n,document.head.appendChild(s),console.log(" Favicon updated to:",n)},f4=n=>{if(!n)return;const e=typeof n=="object"&&n.en?n.en:n;document.title=e||"Gram Panchayat",console.log(" Document title updated to:",document.title)},ZA=W.createContext(),oF=({children:n})=>{const[e,t]=W.useState(null),[s,a]=W.useState(!0);return W.useEffect(()=>{(async()=>{try{a(!0);const c=await Cx();if(c)t(c),c.logo&&h4(c.logo),c.panchayatName&&f4(c.panchayatName),console.log("Site settings loaded from Firebase:",c);else{const d=await iF(Os);t(d),console.log("Site settings initialized in Firebase")}}catch(c){console.error("Error loading site settings:",c),t(Os)}finally{a(!1)}})()},[]),r.jsx(ZA.Provider,{value:{settings:e,loading:s,refresh:async()=>{const o=await Cx();o&&(t(o),o.logo&&h4(o.logo),o.panchayatName&&f4(o.panchayatName))}},children:n})},gu=()=>{const n=W.useContext(ZA);if(n===void 0)throw new Error("useSiteSettings must be used within a SiteSettingsProvider");return n},lF=W.createContext(),gi={primaryColor:"#1e40af",secondaryColor:"#059669",accentColor:"#f59e0b",fontFamily:"Inter, sans-serif",headerHeight:"80px",borderRadius:"8px",useCustomHomepage:!1,useCustomNavbar:!1,useCustomFooter:!1};function cF({children:n}){const[e,t]=W.useState(gi),[s,a]=W.useState(!0),[o,c]=W.useState(null);W.useEffect(()=>{d()},[]);const d=async()=>{try{a(!0);const v=Ft(Je,$t.themeConfig()),b=await ri(v);if(b.exists()){const T={...gi,...b.data()};t(T),h(T),console.log(" Theme loaded for tenant:",Xf())}else console.log(" Using default theme for tenant:",Xf()),h(gi)}catch(v){console.error("Error loading theme:",v),c(v),h(gi)}finally{a(!1)}},h=v=>{const b=document.documentElement;b.style.setProperty("--color-primary",v.primaryColor||gi.primaryColor),b.style.setProperty("--color-secondary",v.secondaryColor||gi.secondaryColor),b.style.setProperty("--color-accent",v.accentColor||gi.accentColor),b.style.setProperty("--font-family",v.fontFamily||gi.fontFamily),b.style.setProperty("--header-height",v.headerHeight||gi.headerHeight),b.style.setProperty("--border-radius",v.borderRadius||gi.borderRadius),document.body.style.fontFamily=v.fontFamily||gi.fontFamily},p={theme:e,loading:s,error:o,updateTheme:async v=>{try{const b=Ft(Je,$t.themeConfig()),T={...e,...v};return await setDoc(b,T),t(T),h(T),!0}catch(b){throw console.error("Error updating theme:",b),b}},resetTheme:async()=>{try{const v=Ft(Je,$t.themeConfig());return await setDoc(v,gi),t(gi),h(gi),!0}catch(v){throw console.error("Error resetting theme:",v),v}},defaultTheme:gi};return r.jsx(lF.Provider,{value:p,children:!s&&n})}const dF=async n=>{try{const e=await ri(Ft(Je,"globalConfig","superAdmins","users",n));return e.exists()&&e.data().role==="superadmin"}catch(e){return console.error("Error checking super admin status:",e),!1}},vy=async()=>{try{const n=Ht(Je,"globalConfig","metadata","gramPanchayats"),e=await wr(n),t=[];return e.forEach(s=>{t.push({id:s.id,...s.data()})}),t.sort((s,a)=>{const o=s.createdAt?.toDate?.()||new Date(0);return(a.createdAt?.toDate?.()||new Date(0))-o})}catch(n){throw console.error("Error getting all GPs:",n),n}},cw=async n=>{try{const e=await ri(Ft(Je,"globalConfig","metadata","gramPanchayats",n));return e.exists()?{id:e.id,...e.data()}:null}catch(e){throw console.error("Error getting GP:",e),e}},uF=(n,e)=>{try{const t=Ft(Je,"globalConfig","metadata","gramPanchayats",n);return A9(t,a=>{a.exists()?e({id:a.id,...a.data()}):e(null)},a=>{console.error("Error in GP subscription:",a),e(null)})}catch(t){return console.error("Error subscribing to GP:",t),null}},hF=async n=>{try{const{id:e,name:t,nameMarathi:s,domain:a,adminEmail:o,adminPassword:c,adminName:d,...h}=n;if(!e||!t||!a||!o||!c)throw new Error("Missing required fields: id, name, domain, adminEmail, adminPassword");if(!d)throw new Error("Admin name is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o))throw new Error("Invalid email format");if(c.length<6)throw new Error("Password must be at least 6 characters");if((await ri(Ft(Je,"globalConfig","metadata","gramPanchayats",e))).exists())throw new Error(`Gram Panchayat with ID "${e}" already exists. Please use a different name.`);console.log(" Creating GP:",{id:e,name:t,domain:a,adminEmail:o});const p={id:e,name:t,nameMarathi:s||"",domain:a,subdomain:h.subdomain||a.replace(".web.app",""),domainStatus:"pending",active:!0,createdAt:xt.now(),updatedAt:xt.now(),adminEmail:o,adminPassword:c,adminName:d,...h};await lh(Ft(Je,"globalConfig","metadata","gramPanchayats",e),p),console.log(" GP document created in Firestore");const v=`pending_${e}_${Date.now()}`;return await lh(Ft(Je,`gramPanchayats/${e}/users`,v),{email:o,name:d,role:"admin",tenantId:e,createdAt:xt.now(),active:!0,createdBy:"superadmin",password:c,passwordLastChanged:xt.now(),isPending:!0,note:"Auth user will be created on first login or by Cloud Function"}),console.log(" Placeholder user document created"),await xh({action:"create_gp",gpId:e,gpName:t,adminEmail:o,timestamp:xt.now()}),console.log(" Activity logged"),{success:!0,gpId:e,adminEmail:o,message:`Gram Panchayat "${t}" created successfully. Admin can login with provided credentials.`}}catch(e){throw console.error(" Error creating GP:",e),e.code==="permission-denied"?new Error("Permission denied. Please ensure you are logged in as a Super Admin."):e}},fF=async(n,e)=>{try{return await Go(Ft(Je,"globalConfig","metadata","gramPanchayats",n),{...e,updatedAt:xt.now()}),await xh({action:"update_gp",gpId:n,updates:e,timestamp:xt.now()}),{success:!0,message:"GP updated successfully"}}catch(t){throw console.error("Error updating GP:",t),t}},eT=async(n,e)=>{try{return await Go(Ft(Je,"globalConfig","metadata","gramPanchayats",n),{active:e,updatedAt:xt.now()}),await xh({action:e?"activate_gp":"deactivate_gp",gpId:n,timestamp:xt.now()}),{success:!0}}catch(t){throw console.error("Error toggling GP status:",t),t}},tT=async n=>{try{const e=await cw(n);if(!e)throw new Error("GP not found");console.log(" Starting deletion of GP:",n),console.log(" Deleting GP users...");const t=await wr(Ht(Je,`gramPanchayats/${n}/users`)),s=[];for(const o of t.docs)s.push(Uo(Ft(Je,`gramPanchayats/${n}/users`,o.id)));await Promise.all(s),console.log(" User documents deleted");const a=["notices","announcements","members","services","schemes","gallery","forms","grievances","financials","downloads","settings"];for(const o of a){console.log(` Deleting ${o}...`);const d=(await wr(Ht(Je,`gramPanchayats/${n}/${o}`))).docs.map(h=>Uo(h.ref));await Promise.all(d)}return console.log(" All subcollections deleted"),await Uo(Ft(Je,"globalConfig","metadata","gramPanchayats",n)),console.log(" GP metadata deleted - Cloud Functions will handle hosting site & Auth user cleanup"),await xh({action:"delete_gp",gpId:n,gpData:e,timestamp:xt.now()}),{success:!0,message:" GP deleted successfully! Cloud Functions are automatically cleaning up hosting site and Auth users.",automated:!0,note:"No manual steps required - everything is handled automatically by Cloud Functions."}}catch(e){throw console.error("Error deleting GP:",e),e}},nT=async()=>{try{const n=[],e=await vy();for(const t of e){const s=Ht(Je,`gramPanchayats/${t.id}/users`);(await wr(Ts(s,ti("role","==","admin")))).forEach(o=>{n.push({id:o.id,gpId:t.id,gpName:t.name,...o.data()})})}return n}catch(n){throw console.error("Error getting all admin users:",n),n}},mF=async n=>{try{return await sS(Yf,n),await xh({action:"reset_password",email:n,timestamp:xt.now()}),{success:!0,message:"Password reset email sent"}}catch(e){throw console.error("Error resetting password:",e),e}},gF=async(n,e)=>{try{const t=await ri(Ft(Je,`gramPanchayats/${n}/users`,e));if(!t.exists())throw new Error("User not found");const s=t.data(),a=s.initialPassword?atob(s.initialPassword):null;return await xh({action:"view_password",userId:e,gpId:n,timestamp:xt.now()}),{password:a,createdAt:s.createdAt,passwordLastChanged:s.passwordLastChanged}}catch(t){throw console.error("Error getting initial password:",t),t}},pF=async(n,e,t,s=null)=>{try{const a=s||rT(12);return await Go(Ft(Je,`gramPanchayats/${n}/users`,e),{initialPassword:btoa(a),passwordLastChanged:xt.now(),passwordChangedBy:"superadmin"}),await sS(Yf,t),await xh({action:"generate_new_password",userId:e,gpId:n,email:t,timestamp:xt.now()}),{success:!0,password:a,message:"Password updated. User should use the password reset email to set this password."}}catch(a){throw console.error("Error generating new password:",a),a}},xF=async()=>{try{const n=await vy(),e=await nT(),t=n.filter(d=>d.active).length,s=n.filter(d=>!d.active).length,a=e.filter(d=>d.active).length,o=n.filter(d=>d.domainStatus==="active").length,c=n.filter(d=>d.domainStatus==="pending").length;return{totalGPs:n.length,activeGPs:t,inactiveGPs:s,totalUsers:e.length,activeUsers:a,domainsActive:o,domainsPending:c,lastUpdated:new Date}}catch(n){throw console.error("Error getting system stats:",n),n}},xh=async n=>{try{const e=Ht(Je,"globalConfig","metadata","activityLogs");await lh(Ft(e),{...n,timestamp:n.timestamp||xt.now()})}catch(e){console.error("Error logging activity:",e)}},rT=(n=16)=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t="abcdefghijklmnopqrstuvwxyz",s="0123456789",o=e+t+s+"@#";let c="";c+=e[Math.floor(Math.random()*e.length)],c+=t[Math.floor(Math.random()*t.length)],c+=s[Math.floor(Math.random()*s.length)],c+="@#"[Math.floor(Math.random()*2)];for(let d=4;d<n;d++)c+=o[Math.floor(Math.random()*o.length)];return c.split("").sort(()=>Math.random()-.5).join("")},yF=async n=>{try{const e=Ht(Je,`gramPanchayats/${n}/users`),t=await wr(e),s=[];return t.forEach(a=>{s.push({id:a.id,...a.data()})}),s.sort((a,o)=>{const c=a.createdAt?.toDate?.()||new Date(0);return(o.createdAt?.toDate?.()||new Date(0))-c})}catch(e){throw console.error("Error getting GP users:",e),e}},bF=async n=>{try{const e={totalUsers:0,totalNotices:0,totalGrievances:0,storageUsed:0};try{const t=await wr(Ht(Je,`gramPanchayats/${n}/users`));e.totalUsers=t.size}catch(t){console.error("Error counting users:",t)}try{const t=await wr(Ht(Je,`gramPanchayats/${n}/notices`));e.totalNotices=t.size}catch(t){console.error("Error counting notices:",t)}try{const t=await wr(Ht(Je,`gramPanchayats/${n}/grievances`));e.totalGrievances=t.size}catch(t){console.error("Error counting grievances:",t)}return e}catch(e){return console.error("Error getting GP stats:",e),null}},vF=W.createContext(),sT=()=>{const n=W.useContext(vF);if(!n)throw new Error("useSuperAdmin must be used within SuperAdminProvider");return n};const wF=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NF=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),m4=n=>{const e=NF(n);return e.charAt(0).toUpperCase()+e.slice(1)},aT=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),jF=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var _F={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const SF=W.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:c,...d},h)=>W.createElement("svg",{ref:h,..._F,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:aT("lucide",a),...!o&&!jF(d)&&{"aria-hidden":"true"},...d},[...c.map(([f,g])=>W.createElement(f,g)),...Array.isArray(o)?o:[o]]));const rt=(n,e)=>{const t=W.forwardRef(({className:s,...a},o)=>W.createElement(SF,{ref:o,iconNode:e,className:aT(`lucide-${wF(m4(n))}`,`lucide-${n}`,s),...a}));return t.displayName=m4(n),t};const EF=[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]],AF=rt("accessibility",EF);const TF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mo=rt("arrow-left",TF);const CF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Mc=rt("arrow-right",CF);const IF=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],tu=rt("award",IF);const kF=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],b2=rt("baby",kF);const RF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],qi=rt("bell",RF);const PF=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Hg=rt("book-open",PF);const LF=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Qf=rt("briefcase",LF);const DF=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],gl=rt("building-2",DF);const MF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],es=rt("calendar",MF);const OF=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],g4=rt("camera",OF);const FF=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],iT=rt("chart-column",FF);const UF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],p4=rt("chevron-down",UF);const VF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],oT=rt("chevron-left",VF);const zF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xp=rt("chevron-right",zF);const BF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qn=rt("circle-alert",BF);const qF=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gi=rt("circle-check-big",qF);const GF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Nf=rt("circle-user",GF);const HF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],dh=rt("circle-x",HF);const $F=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$g=rt("clock",$F);const WF=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],v2=rt("copy",WF);const KF=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],x4=rt("credit-card",KF);const YF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],XF=rt("dollar-sign",YF);const QF=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vo=rt("download",QF);const JF=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Ix=rt("droplets",JF);const ZF=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ng=rt("external-link",ZF);const eU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],yh=rt("eye-off",eU);const tU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yi=rt("eye",tU);const nU=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],w2=rt("facebook",nU);const rU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],sU=rt("file-check",rU);const aU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hr=rt("file-text",aU);const iU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],oU=rt("file",iU);const lU=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],y4=rt("folder-open",lU);const cU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],wy=rt("funnel",cU);const dU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Jf=rt("globe",dU);const uU=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],b4=rt("graduation-cap",uU);const hU=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],fU=rt("hash",hU);const mU=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],gU=rt("headphones",mU);const pU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],xU=rt("house",pU);const yU=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],bU=rt("image-plus",yU);const vU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Hr=rt("image",vU);const wU=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],kx=rt("indian-rupee",wU);const NU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],N2=rt("info",NU);const jU=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],_U=rt("instagram",jU);const SU=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],EU=rt("key-round",SU);const AU=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Tf=rt("languages",AU);const TU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],CU=rt("layout-dashboard",TU);const IU=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],v4=rt("link",IU);const kU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],RU=rt("loader-circle",kU);const PU=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Wg=rt("loader",PU);const LU=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],w4=rt("log-in",LU);const DU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],j2=rt("lock",DU);const MU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lT=rt("log-out",MU);const OU=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Bo=rt("mail",OU);const FU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xl=rt("map-pin",FU);const UU=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Rx=rt("megaphone",UU);const VU=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],cT=rt("menu",VU);const zU=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Cf=rt("message-square",zU);const BU=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],N4=rt("mic",BU);const qU=[["path",{d:"M5 12h14",key:"1ays0h"}]],GU=rt("minus",qU);const HU=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$U=rt("pen-line",HU);const WU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yp=rt("pen",WU);const KU=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Do=rt("phone",KU);const YU=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],XU=rt("piggy-bank",YU);const QU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ps=rt("plus",QU);const JU=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],dT=rt("power",JU);const ZU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Px=rt("refresh-cw",ZU);const eV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qs=rt("save",eV);const tV=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],_2=rt("school",tV);const nV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Fa=rt("search",nV);const rV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],j4=rt("send",rV);const sV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uT=rt("settings",sV);const aV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Xl=rt("shield",aV);const iV=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],oV=rt("skip-forward",iV);const lV=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Us=rt("sparkles",lV);const cV=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ou=rt("square-pen",cV);const dV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],hT=rt("target",dV);const uV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ni=rt("trash-2",uV);const hV=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],jg=rt("trending-down",hV);const fV=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Yu=rt("trending-up",fV);const mV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dw=rt("triangle-alert",mV);const gV=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],fT=rt("twitter",gV);const pV=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Zf=rt("upload",pV);const xV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],yV=rt("user-plus",xV);const bV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],em=rt("user",bV);const vV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Es=rt("users",vV);const wV=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],S2=rt("video",wV);const NV=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],E2=rt("wallet",NV);const jV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vs=rt("x",jV);const _V=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],SV=rt("youtube",_V),EV=()=>{const{t:n,getContent:e}=ns(),{settings:t,loading:s}=gu();if(s||!t)return null;const a=[{path:"/",label:n("nav.home")},{path:"/services",label:n("nav.services")},{path:"/schemes",label:n("nav.schemes")},{path:"/downloads",label:n("nav.downloads")},{path:"/notices",label:n("nav.notices")}],o=[{label:"Ministry of Panchayati Raj",url:"https://panchayat.gov.in"},{label:"Digital India",url:"https://digitalindia.gov.in"},{label:"MyGov",url:"https://mygov.in"}];return r.jsxs("footer",{className:"bg-gray-900 text-gray-300",children:[r.jsx("div",{className:"container-custom py-12",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:e(t.panchayatName)}),r.jsx("p",{className:"text-sm mb-4",children:e(t.tagline)}),t.socialMedia&&r.jsxs("div",{className:"flex gap-3",children:[t.socialMedia.facebook&&r.jsx("a",{href:t.socialMedia.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-gray-700 hover:bg-primary-600 rounded-full flex items-center justify-center transition-colors",children:r.jsx(w2,{size:16})}),t.socialMedia.twitter&&r.jsx("a",{href:t.socialMedia.twitter,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-gray-700 hover:bg-primary-600 rounded-full flex items-center justify-center transition-colors",children:r.jsx(fT,{size:16})}),t.socialMedia.youtube&&r.jsx("a",{href:t.socialMedia.youtube,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-gray-700 hover:bg-primary-600 rounded-full flex items-center justify-center transition-colors",children:r.jsx(SV,{size:16})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:n("footer.quickLinks")}),r.jsxs("ul",{className:"space-y-2",children:[a.map(c=>r.jsx("li",{children:r.jsx(pn,{to:c.path,className:"text-sm hover:text-primary-400 transition-colors",children:c.label})},c.path)),r.jsx("li",{children:r.jsx(pn,{to:"/admin/login",className:"text-sm hover:text-primary-400 transition-colors font-semibold",children:" Admin Login"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:n("footer.importantLinks")}),r.jsx("ul",{className:"space-y-2",children:o.map(c=>r.jsx("li",{children:r.jsx("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:text-primary-400 transition-colors",children:c.label})},c.url))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:n("footer.contactUs")}),r.jsxs("ul",{className:"space-y-3",children:[r.jsxs("li",{className:"flex gap-2 text-sm",children:[r.jsx(xl,{size:16,className:"flex-shrink-0 mt-1"}),r.jsx("span",{children:e(t.contact.address)})]}),r.jsxs("li",{className:"flex gap-2 text-sm",children:[r.jsx(Do,{size:16,className:"flex-shrink-0"}),r.jsx("a",{href:`tel:${t.contact.phone}`,className:"hover:text-primary-400 transition-colors",children:t.contact.phone})]}),r.jsxs("li",{className:"flex gap-2 text-sm",children:[r.jsx(Bo,{size:16,className:"flex-shrink-0"}),r.jsx("a",{href:`mailto:${t.contact.email}`,className:"hover:text-primary-400 transition-colors",children:t.contact.email})]})]})]})]})}),r.jsx("div",{className:"border-t border-gray-800",children:r.jsx("div",{className:"container-custom py-4",children:r.jsx("div",{className:"text-center text-sm",children:r.jsxs("p",{children:[" ",new Date().getFullYear()," ",e(t.panchayatName),". ",n("footer.copyright"),"."]})})})})]})};async function AV(){try{const n=Ht(Je,$t.announcements()),e=Ts(n,ic("createdAt","desc")),s=(await wr(e)).docs.map(o=>({id:o.id,...o.data(),createdAt:o.data().createdAt?.toDate?.()||new Date,updatedAt:o.data().updatedAt?.toDate?.()||new Date})),a={high:3,medium:2,low:1};return s.sort((o,c)=>{const d=(a[c.priority]||0)-(a[o.priority]||0);return d!==0?d:c.createdAt-o.createdAt})}catch(n){throw console.error("Error getting announcements:",n),n}}async function TV(){try{const n=Ht(Je,$t.announcements()),e=Ts(n,ti("isActive","==",!0)),s=(await wr(e)).docs.map(o=>({id:o.id,...o.data(),createdAt:o.data().createdAt?.toDate?.()||new Date})),a={high:3,medium:2,low:1};return s.sort((o,c)=>{const d=(a[c.priority]||0)-(a[o.priority]||0);return d!==0?d:c.createdAt-o.createdAt})}catch(n){throw console.error("Error getting active announcements:",n),n}}async function CV(n){try{const e=Ft(Je,$t.announcement(n)),t=await ri(e);if(t.exists()){const s=t.data();return{id:t.id,...s,createdAt:s.createdAt?.toDate?.()||new Date,updatedAt:s.updatedAt?.toDate?.()||new Date}}return null}catch(e){throw console.error("Error getting announcement:",e),e}}async function IV(n){try{const e=Ht(Je,$t.announcements());return(await Ns(e,{...n,createdAt:Qt(),updatedAt:Qt()})).id}catch(e){throw console.error("Error creating announcement:",e),e}}async function mT(n,e){try{const t=Ft(Je,$t.announcement(n));await Go(t,{...e,updatedAt:Qt()})}catch(t){throw console.error("Error updating announcement:",t),t}}async function kV(n){try{const e=Ft(Je,$t.announcement(n));await Uo(e)}catch(e){throw console.error("Error deleting announcement:",e),e}}async function RV(n,e){try{await mT(n,{isActive:e})}catch(t){throw console.error("Error toggling announcement status:",t),t}}function PV(){const[n,e]=W.useState([]),[t,s]=W.useState(0),[a,o]=W.useState(!0),{getContent:c}=ns();W.useEffect(()=>{d()},[]),W.useEffect(()=>{if(n.length>1){const b=setInterval(()=>{s(T=>(T+1)%n.length)},5e3);return()=>clearInterval(b)}},[n.length]);const d=async()=>{try{const b=await TV();e(b)}catch(b){console.error("Error loading announcements:",b)}},h=()=>{o(!1)};if(!a||n.length===0)return null;const f=n[t],g={info:{bg:"bg-blue-500",icon:N2},warning:{bg:"bg-yellow-500",icon:dw},alert:{bg:"bg-red-500",icon:Qn},success:{bg:"bg-green-500",icon:Gi}},p=g[f?.type]||g.info,v=p.icon;return r.jsxs("div",{className:`${p.bg} text-white shadow-lg relative overflow-hidden`,children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')]"})}),r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-3 relative z-10",children:[r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx(v,{className:"flex-shrink-0 animate-pulse",size:24}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("p",{className:"font-bold text-sm sm:text-base",children:c(f.title)}),r.jsx("span",{className:"text-white/80 text-sm hidden sm:inline",children:""}),r.jsx("p",{className:"text-white/90 text-sm",children:c(f.message)})]})})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[f.link&&r.jsxs("a",{href:f.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-3 py-1.5 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-semibold transition-colors backdrop-blur-sm",children:[r.jsx("span",{className:"hidden sm:inline",children:"Read More"}),r.jsx(Ng,{size:14})]}),r.jsx("button",{onClick:h,className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",title:"Close",children:r.jsx(Vs,{size:18})})]})]}),n.length>1&&r.jsx("div",{className:"flex justify-center gap-1.5 mt-2",children:n.map((b,T)=>r.jsx("button",{onClick:()=>s(T),className:`h-1.5 rounded-full transition-all ${T===t?"w-6 bg-white":"w-1.5 bg-white/40 hover:bg-white/60"}`,title:`Announcement ${T+1}`},T))})]})]})}const LV=()=>{const[n,e]=W.useState(""),[t,s]=W.useState(!1),a=c=>{c.preventDefault(),console.log("Searching for:",n)},o=()=>{console.log("Voice search activated")};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"w-full bg-white h-10 border-b border-[#e5e5e5] px-6 flex items-center justify-between",children:[r.jsxs("section",{id:"top-left",className:"flex items-center gap-[10px]",children:[r.jsx("img",{src:"https://rdd.maharashtra.gov.in/wp-content/themes/sdo-theme/images/flag.svg",alt:"Indian Flag",className:"object-contain",style:{width:"28px",height:"18px"},onError:c=>{c.target.style.display="none"}}),r.jsx("div",{className:"text-black whitespace-nowrap",style:{fontSize:"14px",fontWeight:600},children:" "}),r.jsx("div",{className:"bg-[#cccccc]",style:{width:"1px",height:"20px"}}),r.jsx("div",{className:"text-black whitespace-nowrap",style:{fontSize:"13px",fontWeight:600},children:"GOVERNMENT OF MAHARASHTRA"})]}),r.jsxs("section",{id:"top-right",className:"flex items-center gap-[14px]",children:[r.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded transition-colors","aria-label":"Skip to main content",title:"Skip to main content",children:r.jsx(oV,{size:16,className:"text-gray-700"})}),r.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded transition-colors","aria-label":"Screen reader access",title:"Screen reader access",children:r.jsx(gU,{size:16,className:"text-gray-700"})}),r.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded transition-colors","aria-label":"Decrease font size",title:"Decrease font size",children:r.jsx(GU,{size:16,className:"text-gray-700"})}),r.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded transition-colors","aria-label":"Increase font size",title:"Increase font size",children:r.jsx(ps,{size:16,className:"text-gray-700"})}),r.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded transition-colors","aria-label":"Accessibility options",title:"Accessibility options",children:r.jsx(AF,{size:16,className:"text-gray-700"})})]})]}),r.jsxs("header",{className:"w-full relative flex items-center justify-between bg-white min-h-[90px] pt-3 pb-3 px-[clamp(12px,2vw,24px)]",children:[r.jsxs("section",{id:"left",className:"flex items-center gap-3 flex-shrink-0 min-w-0",children:[r.jsx("img",{src:"https://rdd.maharashtra.gov.in/wp-content/themes/sdo-theme/images/emblem.svg",alt:"Government Emblem",className:"object-contain",style:{width:"55px",height:"70px"},onError:c=>{c.target.style.display="none"}}),r.jsxs("div",{className:"hidden sm:flex flex-col gap-1",children:[r.jsx("div",{className:"whitespace-nowrap leading-tight text-black",style:{fontSize:"14px",fontWeight:500},children:"     "}),r.jsx("div",{className:"whitespace-nowrap leading-tight text-black",style:{fontSize:"18px",fontWeight:700},children:"Rural Development & Panchayat Raj Department"}),r.jsx("div",{className:"whitespace-nowrap leading-tight text-black",style:{fontSize:"14px",fontWeight:600},children:"Government Of Maharashtra"})]})]}),r.jsx("section",{id:"center",className:"hidden md:flex items-center justify-center flex-1 mx-6",children:r.jsxs("form",{onSubmit:a,className:"relative w-full",style:{maxWidth:"520px"},children:[r.jsx("input",{type:"text",placeholder:"Search",value:n,onChange:c=>e(c.target.value),className:"w-full h-11 rounded-lg border-2 border-solid pl-4 pr-[100px] text-base outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-opacity-50",style:{borderColor:"#d6a23c"}}),r.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:o,className:"flex items-center justify-center w-8 h-8 rounded-full border-0 bg-transparent cursor-pointer hover:bg-yellow-50 transition-colors",style:{color:"#d6a23c"},"aria-label":"Voice search",children:r.jsx(N4,{size:18})}),r.jsx("button",{type:"submit",className:"flex items-center justify-center w-8 h-8 rounded-full border-0 bg-transparent cursor-pointer hover:bg-yellow-50 transition-colors",style:{color:"#d6a23c"},"aria-label":"Search",children:r.jsx(Fa,{size:18})})]})]})}),r.jsxs("section",{id:"right",className:"hidden lg:flex items-center gap-4 flex-shrink-0",children:[r.jsx("img",{src:"https://cdnbbsr.s3waas.gov.in/s3e6c2dc3dee4a51dcec3a876aa2339a78/uploads/2023/07/2023072135.png",alt:"State Seal",className:"object-contain",style:{width:"70px",height:"70px"},onError:c=>{c.target.style.display="none"}}),r.jsx("img",{src:"https://cdnbbsr.s3waas.gov.in/s3e6c2dc3dee4a51dcec3a876aa2339a78/uploads/2023/07/2023072114.png",alt:"Azadi Ka Amrit Mahotsav",className:"object-contain",style:{width:"110px",height:"55px"},onError:c=>{c.target.style.display="none"}})]}),r.jsx("div",{className:"md:hidden flex items-center gap-2",children:r.jsx("button",{onClick:()=>s(!t),className:"p-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Search",children:r.jsx(Fa,{size:20})})}),t&&r.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-white border-b border-gray-200 p-4 z-50 shadow-lg",children:r.jsxs("form",{onSubmit:a,className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Search",value:n,onChange:c=>e(c.target.value),className:"w-full h-11 rounded-lg border-2 border-solid pl-4 pr-[100px] text-base outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-opacity-50",style:{borderColor:"#d6a23c"}}),r.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:o,className:"p-2 hover:bg-yellow-50 rounded-full transition-colors","aria-label":"Voice search",children:r.jsx(N4,{size:18,color:"#d6a23c"})}),r.jsx("button",{type:"submit",className:"p-2 hover:bg-yellow-50 rounded-full transition-colors","aria-label":"Search",children:r.jsx(Fa,{size:18,color:"#d6a23c"})})]})]})})]})]})},DV=()=>{const[n,e]=W.useState(!1),[t,s]=W.useState({}),a=du(),o=[{id:"home",label:"Home",route:"/",active:!0},{id:"about",label:"About Us",route:"/about",hasDropdown:!0,children:[{id:"overview",label:"Overview",route:"/about/overview"},{id:"organization",label:"Organization Structure",route:"/about/organization"}]},{id:"directory",label:"Directory",route:"/directory"},{id:"report",label:"100 Day Program Report",route:"/100-day-report"},{id:"schemes",label:"Schemes",route:"/schemes",hasDropdown:!0,children:[]},{id:"documents",label:"Documents",route:"/documents",hasDropdown:!0,children:[]},{id:"notices",label:"Notices",route:"/notices",hasDropdown:!0,children:[]},{id:"citizens-corner",label:"Citizen's Corner",route:"/citizens-corner",hasDropdown:!0,children:[]},{id:"rts",label:"Right to Service (RTS)",route:"/rts"},{id:"rti",label:"RTI",route:"/rti",hasDropdown:!0,children:[]}],c=a.pathname,d=p=>c===p.route?!0:p.children&&p.children.length>0?p.children.some(v=>c===v.route):!1,h=p=>c===p,f=p=>{s(v=>({...v,[p]:!v[p]}))},g=()=>{e(!1),s({})};return r.jsxs("nav",{className:"w-full h-12 bg-[#f7f2ec] px-6 flex items-center justify-between relative",children:[r.jsx("div",{className:"hidden lg:flex items-center w-full h-full",children:o.map(p=>r.jsx("div",{className:"relative group  h-full",children:p.hasDropdown?r.jsxs("div",{className:"relative h-full ",children:[r.jsxs("button",{onClick:()=>f(p.id),className:`px-4 h-full  py-2 text-sm font-semibold transition-colors flex items-center justify-center gap-1 ${d(p)?"bg-[#f5a300] text-white":"text-black hover:bg-[#f5a300] hover:text-white"}`,children:[p.label,r.jsx(p4,{size:16,className:`transition-transform ${t[p.id]?"rotate-180":""}`})]}),t[p.id]&&r.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white shadow-lg rounded-md min-w-[200px] z-50 border border-gray-200",children:p.children&&p.children.length>0?p.children.map(v=>r.jsx(pn,{to:v.route,onClick:g,className:`block px-4 py-2 text-sm transition-colors ${h(v.route)?"bg-[#f5a300] text-white":"text-black hover:bg-gray-100"}`,children:v.label},v.id)):r.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No items available"})})]}):r.jsx(pn,{to:p.route,className:`px-4 h-full  py-2 text-sm font-semibold transition-colors flex items-center justify-center ${d(p)?"bg-[#f5a300] text-white":"text-black hover:bg-[#f5a300] hover:text-white"}`,children:p.label})},p.id))}),r.jsx("button",{onClick:()=>e(!n),className:"lg:hidden p-2 text-black hover:text-[#f5a300] transition-colors","aria-label":"Toggle menu",children:n?r.jsx(Vs,{size:24}):r.jsx(cT,{size:24})}),n&&r.jsx("div",{className:"lg:hidden absolute top-full left-0 right-0 bg-[#f7f2ec] border-t border-gray-200 shadow-lg z-50 max-h-[calc(100vh-48px)] overflow-y-auto",children:r.jsx("div",{className:"flex flex-col",children:o.map(p=>r.jsx("div",{className:"border-b border-gray-200",children:p.hasDropdown?r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>f(p.id),className:`w-full px-6 py-3 text-left flex items-center justify-between text-sm font-semibold transition-colors ${d(p)?"bg-[#f5a300] text-white":"text-black hover:bg-[#f5a300] hover:text-white"}`,children:[r.jsx("span",{children:p.label}),r.jsx(p4,{size:16,className:`transition-transform ${t[p.id]?"rotate-180":""}`})]}),t[p.id]&&r.jsx("div",{className:"bg-white",children:p.children&&p.children.length>0?p.children.map(v=>r.jsx(pn,{to:v.route,onClick:g,className:`block px-8 py-2 text-sm transition-colors ${h(v.route)?"bg-[#f5a300] text-white":"text-black hover:bg-gray-100"}`,children:v.label},v.id)):r.jsx("div",{className:"px-8 py-2 text-sm text-gray-500",children:"No items available"})})]}):r.jsx(pn,{to:p.route,onClick:g,className:`block px-6 py-3 text-sm font-semibold transition-colors ${d(p)?"bg-[#f5a300] text-white":"text-black hover:bg-[#f5a300] hover:text-white"}`,children:p.label})},p.id))})})]})},MV=()=>r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(LV,{}),r.jsx(DV,{}),r.jsx(PV,{}),r.jsx("main",{className:"flex-1",children:r.jsx(m3,{})}),r.jsx(EV,{})]}),OV=({children:n})=>{const{isAuthenticated:e,loading:t}=lw();return t?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e?n:r.jsx(W2,{to:"/admin/login",replace:!0})};function cf({children:n,requiredPermission:e=null}){const{superAdmin:t,loading:s,isAuthenticated:a,hasPermission:o}=sT(),c=du();return s?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/10 backdrop-blur-md rounded-full mb-4 border border-white/20",children:r.jsx(Xl,{className:"w-10 h-10 text-white animate-pulse"})}),r.jsxs("div",{className:"flex items-center justify-center gap-3 text-white",children:[r.jsx(Wg,{className:"w-6 h-6 animate-spin"}),r.jsx("p",{className:"text-lg",children:"Verifying super admin access..."})]})]})}):!a||!t?r.jsx(W2,{to:"/superadmin/login",state:{from:c},replace:!0}):e&&!o(e)?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 max-w-md text-center border border-white/20",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-500/20 rounded-full mb-4",children:r.jsx(Xl,{className:"w-8 h-8 text-red-200"})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Access Denied"}),r.jsx("p",{className:"text-indigo-200 mb-6",children:"You do not have permission to access this feature."}),r.jsxs("p",{className:"text-sm text-indigo-300 mb-6",children:["Required permission: ",r.jsx("span",{className:"font-mono bg-white/10 px-2 py-1 rounded",children:e})]}),r.jsx("button",{onClick:()=>window.history.back(),className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-6 py-2 rounded-lg hover:from-indigo-600 hover:to-purple-700 transition",children:"Go Back"})]})}):n}const FV=()=>{const[n,e]=W.useState(!1),{user:t,logout:s}=lw(),{language:a,toggleLanguage:o}=ns(),c=du(),d=Ar(),h=()=>{s(),d("/admin/login")},f=[{path:"/admin/dashboard",label:"Dashboard",icon:CU},{path:"/admin/members",label:"Members & Staff",icon:Es},{path:"/admin/services",label:"Services",icon:Qf},{path:"/admin/schemes",label:"Schemes",icon:hr},{path:"/admin/forms",label:"Forms & Downloads",icon:Vo},{path:"/admin/gallery",label:"Gallery",icon:Hr},{path:"/admin/financials",label:"Financials",icon:XF},{path:"/admin/notices",label:"Notices & Tenders",icon:qi},{path:"/admin/announcements",label:"Announcements",icon:Rx},{path:"/admin/grievances",label:"Grievances",icon:Cf},{path:"/admin/village-statistics",label:"Village Statistics",icon:hr},{path:"/admin/settings",label:"Settings",icon:uT}],g=p=>c.pathname===p;return r.jsxs("div",{className:"min-h-screen bg-gray-100",children:[r.jsx("header",{className:"bg-white shadow-md fixed top-0 left-0 right-0 z-40",children:r.jsxs("div",{className:"flex justify-between items-center px-4 py-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>e(!n),className:"lg:hidden p-2 hover:bg-gray-100 rounded",children:n?r.jsx(Vs,{size:24}):r.jsx(cT,{size:24})}),r.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Admin Panel"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right hidden sm:block",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-800",children:t?.name}),r.jsx("p",{className:"text-xs text-gray-500",children:t?.role})]}),r.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",title:a==="en"?"Switch to Marathi":"Switch to English",children:[r.jsx(Tf,{size:18}),r.jsx("span",{className:"hidden sm:inline text-sm",children:a==="en"?"EN":""})]}),r.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[r.jsx(lT,{size:18}),r.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}),r.jsx("aside",{className:`fixed top-16 left-0 bottom-0 w-64 bg-white shadow-lg transform transition-transform duration-200 z-30 ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:r.jsx("nav",{className:"p-4 space-y-2 overflow-y-auto h-full",children:f.map(p=>{const v=p.icon;return r.jsxs(pn,{to:p.path,onClick:()=>e(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${g(p.path)?"bg-primary-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[r.jsx(v,{size:20}),r.jsx("span",{className:"font-medium",children:p.label})]},p.path)})})}),r.jsx("main",{className:"pt-16 lg:pl-64 min-h-screen",children:r.jsx("div",{className:"p-6",children:r.jsx(m3,{})})}),n&&r.jsx("div",{onClick:()=>e(!1),className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden"})]})};function UV(){const[n,e]=W.useState(!1);return YO(),XO(),null}const VV=({slides:n=[]})=>{const[e,t]=W.useState(0),[s,a]=W.useState(!0),{getContent:o}=ns();W.useEffect(()=>{if(!s||n.length===0)return;const f=setInterval(()=>{t(g=>(g+1)%n.length)},5e3);return()=>clearInterval(f)},[s,n.length]);const c=f=>{t(f),a(!1),setTimeout(()=>a(!0),1e4)},d=()=>{t(f=>(f+1)%n.length),a(!1),setTimeout(()=>a(!0),1e4)},h=()=>{t(f=>(f-1+n.length)%n.length),a(!1),setTimeout(()=>a(!0),1e4)};return!n||n.length===0?r.jsx("div",{className:"relative w-full h-[300px] md:h-[400px] lg:h-[500px] bg-gradient-to-r from-orange-100 to-green-100 flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500 text-lg",children:"No slides available"})}):r.jsxs("div",{className:"relative w-full h-[300px] md:h-[400px] lg:h-[500px] overflow-hidden group",children:[r.jsx("div",{className:"relative w-full h-full",children:n.map((f,g)=>r.jsxs("div",{className:`absolute inset-0 transition-opacity duration-700 ${g===e?"opacity-100 z-10":"opacity-0 z-0"}`,children:[r.jsx("img",{src:f.image,alt:f.title||`Slide ${g+1}`,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),f.title&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 md:p-8 lg:p-12 text-white",children:r.jsxs("div",{className:"container mx-auto",children:[r.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold mb-2 drop-shadow-lg",children:o(f.title)}),f.description&&r.jsx("p",{className:"text-sm md:text-base lg:text-lg max-w-2xl drop-shadow-lg",children:o(f.description)})]})})]},g))}),r.jsx("button",{onClick:h,className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 bg-white/80 hover:bg-white p-2 md:p-3 rounded-full shadow-lg transition-all opacity-0 group-hover:opacity-100","aria-label":"Previous slide",children:r.jsx(oT,{className:"w-5 h-5 md:w-6 md:h-6 text-gray-800"})}),r.jsx("button",{onClick:d,className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 bg-white/80 hover:bg-white p-2 md:p-3 rounded-full shadow-lg transition-all opacity-0 group-hover:opacity-100","aria-label":"Next slide",children:r.jsx(xp,{className:"w-5 h-5 md:w-6 md:h-6 text-gray-800"})}),r.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-20 flex gap-2",children:n.map((f,g)=>r.jsx("button",{onClick:()=>c(g),className:`w-2 h-2 md:w-3 md:h-3 rounded-full transition-all ${g===e?"bg-white w-6 md:w-8":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to slide ${g+1}`},g))})]})},zV=({officials:n=[]})=>{const{getContent:e}=ns();return!n||n.length===0?null:r.jsx("section",{className:"bg-white py-12",children:r.jsx("div",{className:"mx-auto",style:{maxWidth:"1200px",paddingLeft:"24px",paddingRight:"24px"},children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3",style:{columnGap:"64px",rowGap:"56px"},children:n.map((t,s)=>r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"rounded-full bg-white overflow-hidden mb-4",style:{width:"140px",height:"140px",border:"1.5px solid #D1D5DB"},children:t.photo?r.jsx("img",{src:t.photo,alt:e(t.name),className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-white text-4xl font-semibold text-gray-400",children:e(t.name)?.charAt(0)})}),r.jsxs("div",{className:"text-center",style:{maxWidth:"260px"},children:[r.jsx("p",{className:"font-semibold text-center mb-1.5",style:{fontSize:"15px",fontWeight:600,color:"#1F2937",lineHeight:"1.4"},children:e(t.designation)}),r.jsx("p",{className:"text-center",style:{fontSize:"14px",fontWeight:400,color:"#374151"},children:e(t.name)})]})]},s))})})})},BV=()=>{const{t:n,getContent:e}=ns(),{settings:t,loading:s}=gu(),[a]=W.useState([{id:1,order:1,image:"https://images.unsplash.com/photo-1524492412937-b28074a5d7da?w=1200&h=500&fit=crop",title:{en:"Welcome to Our Gram Panchayat",mr:"     "},description:{en:"Working together for village development and prosperity",mr:"       "}},{id:2,order:2,image:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=1200&h=500&fit=crop",title:{en:"Digital India Initiative",mr:"  "},description:{en:"Empowering citizens through technology and e-governance",mr:"  -   "}},{id:3,order:3,image:"https://images.unsplash.com/photo-1533854775446-95c4609da544?w=1200&h=500&fit=crop",title:{en:"Clean & Green Village",mr:"  "},description:{en:"Building a sustainable and eco-friendly community",mr:"     "}}]),[o]=W.useState([{id:1,order:1,name:{en:"Ramesh Kumar Patil",mr:"  "},honorific:{en:"Shri",mr:""},designation:{en:"Sarpanch",mr:""},additionalInfo:{en:"Gram Panchayat Pindkepar",mr:"  "},photo:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=300&fit=crop"},{id:2,order:2,name:{en:"Sunita Devi Sharma",mr:"  "},honorific:{en:"Smt.",mr:""},designation:{en:"Deputy Sarpanch",mr:""},additionalInfo:{en:"Gram Panchayat Pindkepar",mr:"  "},photo:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=300&h=300&fit=crop"},{id:3,order:3,name:{en:"Vijay Singh Thakur",mr:"  "},honorific:{en:"Shri",mr:""},designation:{en:"Gram Sevak",mr:" "},additionalInfo:{en:"Village Development Officer",mr:"  "},photo:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=300&h=300&fit=crop"},{id:4,order:4,name:{en:"Anjali Deshmukh",mr:" "},honorific:{en:"Smt.",mr:""},designation:{en:"Secretary",mr:""},additionalInfo:{en:"Panchayat Administration",mr:" "},photo:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=300&h=300&fit=crop"}]);return s||!t?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-blue-50 to-green-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-orange-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Loading..."})]})}):r.jsxs("div",{className:"overflow-hidden",children:[o&&o.length>0&&r.jsx(zV,{officials:o}),r.jsxs("section",{className:"relative overflow-hidden min-h-[650px] md:min-h-[700px] lg:min-h-[750px] flex items-center",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-600 via-white to-green-600",children:r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')] opacity-20"})})}),r.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 md:w-48 md:h-48 opacity-5 animate-spin-slow",children:r.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[r.jsx("circle",{cx:"100",cy:"100",r:"80",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-blue-900"}),[...Array(24)].map((c,d)=>r.jsx("line",{x1:"100",y1:"100",x2:"100",y2:"20",stroke:"currentColor",strokeWidth:"2",className:"text-blue-900",transform:`rotate(${d*15} 100 100)`},d))]})}),r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10 py-16 md:py-20",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsxs("div",{className:"text-center mb-8 md:mb-12 animate-fade-in-up",children:[r.jsx("div",{className:"inline-block mb-6 p-4 bg-white rounded-full shadow-2xl",children:t.logo?r.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-full overflow-hidden flex items-center justify-center",children:r.jsx("img",{src:t.logo,alt:e(t.panchayatName),className:"w-full h-full object-contain"})}):r.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-orange-600 via-blue-900 to-green-600 rounded-full flex items-center justify-center",children:r.jsx(tu,{className:"text-white w-8 h-8 md:w-10 md:h-10"})})}),r.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 text-gray-900 leading-snug",children:[r.jsx("span",{className:"block text-orange-600",children:n("home.welcomeTitle")}),r.jsx("span",{className:"block mt-2 pt-2 bg-gradient-to-r from-blue-900 via-gray-800 to-blue-900 bg-clip-text text-transparent",children:e(t.panchayatName)})]}),r.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-gray-700 font-medium max-w-3xl mx-auto mb-8 px-4",children:e(t.tagline)}),r.jsxs("div",{className:"w-32 h-1 mx-auto mb-8 flex rounded-full overflow-hidden shadow-lg",children:[r.jsx("div",{className:"flex-1 bg-orange-600"}),r.jsx("div",{className:"flex-1 bg-white"}),r.jsx("div",{className:"flex-1 bg-green-600"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[r.jsxs(pn,{to:"/about",className:"group inline-flex items-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-8 py-4 rounded-lg text-base md:text-lg font-semibold shadow-xl hover:shadow-2xl transition-all transform hover:scale-105",children:[n("home.knowMore"),r.jsx(Mc,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),r.jsxs(pn,{to:"/services",className:"group inline-flex items-center gap-2 bg-white hover:bg-gray-50 text-gray-900 px-8 py-4 rounded-lg text-base md:text-lg font-semibold shadow-xl hover:shadow-2xl transition-all transform hover:scale-105 border-2 border-gray-200",children:[n("home.importantServices"),r.jsx(Ng,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]})})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:r.jsx("svg",{viewBox:"0 0 1440 120",className:"w-full h-16 md:h-24 fill-current text-white",children:r.jsx("path",{d:"M0,64L48,69.3C96,75,192,85,288,80C384,75,480,53,576,48C672,43,768,53,864,58.7C960,64,1056,64,1152,58.7C1248,53,1344,43,1392,37.3L1440,32L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z"})})})]}),a&&a.length>0&&r.jsx("section",{className:"py-8 md:py-12 bg-white",children:r.jsx(VV,{slides:a})}),r.jsx("section",{className:"py-12 md:py-16 lg:py-20 bg-gradient-to-br from-gray-50 via-blue-50/30 to-orange-50/30",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-10 md:mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:n("home.quickInfo")}),r.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-600 to-green-600 mx-auto rounded-full"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 max-w-7xl mx-auto",children:[r.jsx("div",{className:"group bg-white p-6 md:p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-l-4 border-orange-600 transform hover:-translate-y-2",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:r.jsx(Do,{className:"text-white",size:24})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:n("home.phone")}),r.jsx("a",{href:`tel:${t.contact.phone}`,className:"text-gray-700 hover:text-orange-600 font-medium transition-colors block truncate",children:t.contact.phone})]})]})}),r.jsx("div",{className:"group bg-white p-6 md:p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-l-4 border-green-600 transform hover:-translate-y-2",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-green-600 to-green-700 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:r.jsx(Bo,{className:"text-white",size:24})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:n("home.email")}),r.jsx("a",{href:`mailto:${t.contact.email}`,className:"text-gray-700 hover:text-green-600 font-medium transition-colors block break-all text-sm md:text-base",children:t.contact.email})]})]})}),r.jsx("div",{className:"group bg-white p-6 md:p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-l-4 border-blue-600 transform hover:-translate-y-2",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:r.jsx(xl,{className:"text-white",size:24})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:n("home.address")}),r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:e(t.contact.address)})]})]})}),r.jsx("div",{className:"group bg-white p-6 md:p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-l-4 border-orange-600 transform hover:-translate-y-2",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:r.jsx($g,{className:"text-white",size:24})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:n("home.timings")}),r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:e(t.officeTimings)})]})]})})]})]})}),r.jsx("section",{className:"py-12 md:py-16 lg:py-20 bg-white",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-10 md:mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:n("home.quickLinks")}),r.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-600 to-green-600 mx-auto rounded-full"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 max-w-7xl mx-auto",children:[r.jsxs(pn,{to:"/financials#property-tax",className:"group relative bg-gradient-to-br from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white p-6 md:p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(kx,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),r.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2",children:n("home.payPropertyTax")}),r.jsx("p",{className:"text-white/90 text-sm mb-4",children:"Pay your property tax online"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[r.jsx("span",{children:"Pay Now"}),r.jsx(Mc,{size:18,className:"group-hover:translate-x-2 transition-transform"})]})]})]}),r.jsxs(pn,{to:"/financials#water-tax",className:"group relative bg-gradient-to-br from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white p-6 md:p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(kx,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),r.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2",children:n("home.payWaterTax")}),r.jsx("p",{className:"text-white/90 text-sm mb-4",children:"Pay your water bill online"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[r.jsx("span",{children:"Pay Now"}),r.jsx(Mc,{size:18,className:"group-hover:translate-x-2 transition-transform"})]})]})]}),r.jsxs(pn,{to:"/schemes",className:"group relative bg-gradient-to-br from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white p-6 md:p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(Qf,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),r.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2",children:n("home.viewSchemes")}),r.jsx("p",{className:"text-white/90 text-sm mb-4",children:"Browse government schemes"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[r.jsx("span",{children:"View All"}),r.jsx(Mc,{size:18,className:"group-hover:translate-x-2 transition-transform"})]})]})]}),r.jsxs(pn,{to:"/downloads",className:"group relative bg-gradient-to-br from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white p-6 md:p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(Vo,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),r.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2",children:n("home.downloadForms")}),r.jsx("p",{className:"text-white/90 text-sm mb-4",children:"Download application forms"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[r.jsx("span",{children:"Download"}),r.jsx(Mc,{size:18,className:"group-hover:translate-x-2 transition-transform"})]})]})]})]})]})}),r.jsxs("section",{className:"py-12 md:py-16 lg:py-20 bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 text-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')]"})}),r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[r.jsxs("div",{className:"text-center mb-10 md:mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-3",children:n("home.highlights")}),r.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-400 to-green-400 mx-auto rounded-full"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 max-w-6xl mx-auto",children:[r.jsxs(pn,{to:"/panchayat",className:"group bg-white/10 backdrop-blur-sm p-8 md:p-10 rounded-2xl text-center hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl border border-white/20",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-400 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform shadow-xl",children:r.jsx(Es,{className:"text-white",size:40})}),r.jsx("p",{className:"text-xl font-semibold mb-2 text-orange-300",children:n("home.members")}),r.jsx("p",{className:"text-white/80 text-sm",children:"Panchayat Representatives"}),r.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-orange-300 text-sm font-semibold opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("span",{children:"View Details"}),r.jsx(Mc,{size:16})]})]}),r.jsxs(pn,{to:"/schemes",className:"group bg-white/10 backdrop-blur-sm p-8 md:p-10 rounded-2xl text-center hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl border border-white/20",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-green-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform shadow-xl",children:r.jsx(Qf,{className:"text-white",size:40})}),r.jsx("p",{className:"text-xl font-semibold mb-2 text-green-300",children:n("home.popularSchemes")}),r.jsx("p",{className:"text-white/80 text-sm",children:"Government Schemes"}),r.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-green-300 text-sm font-semibold opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("span",{children:"View Details"}),r.jsx(Mc,{size:16})]})]}),r.jsxs(pn,{to:"/services",className:"group bg-white/10 backdrop-blur-sm p-8 md:p-10 rounded-2xl text-center hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl border border-white/20",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-400 to-blue-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform shadow-xl",children:r.jsx(hr,{className:"text-white",size:40})}),r.jsx("p",{className:"text-xl font-semibold mb-2 text-blue-300",children:n("home.importantServices")}),r.jsx("p",{className:"text-white/80 text-sm",children:"Panchayat Services"}),r.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-blue-300 text-sm font-semibold opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("span",{children:"View Details"}),r.jsx(Mc,{size:16})]})]})]})]})]})]})},Ny={ABOUT:"about",EDUCATION:"education"},gT=async n=>{try{const e=Ft(Je,$t.pages(),n),t=await ri(e);if(t.exists()){const s=t.data();return{id:t.id,...s,updatedAt:s.updatedAt?.toDate?.()?.toISOString?.()||s.updatedAt,createdAt:s.createdAt?.toDate?.()?.toISOString?.()||s.createdAt}}else return console.log(`No ${n} page content found`),null}catch(e){throw console.error(`Error fetching ${n} page content:`,e),new Error(`Failed to fetch ${n} page content`)}},pT=async(n,e)=>{try{const t=Ft(Je,$t.pages(),n),a=!(await ri(t)).exists(),o={...e,updatedAt:xt.now(),...a&&{createdAt:xt.now()}};await lh(t,o,{merge:!0}),console.log(`${n} page content ${a?"created":"updated"}`)}catch(t){throw console.error(`Error updating ${n} page content:`,t),new Error(`Failed to update ${n} page content`)}},xT=async()=>await gT(Ny.ABOUT),_4=async n=>await pT(Ny.ABOUT,n),yT=async()=>await gT(Ny.EDUCATION),S4=async n=>await pT(Ny.EDUCATION,n),qV=()=>{const{t:n,language:e,getContent:t}=ns(),{settings:s,loading:a}=gu(),[o,c]=W.useState(null),[d,h]=W.useState(!0);return W.useEffect(()=>{(async()=>{try{h(!0);const g=await xT();c(g)}catch(g){console.error("Error loading about content:",g),c(null)}finally{h(!1)}})()},[]),d||a?r.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-orange-50 via-blue-50 to-green-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-orange-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Loading..."})]})}):s?o?r.jsxs("div",{className:"overflow-hidden",children:[r.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-orange-600 via-white to-green-600 py-16 md:py-24",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')]"})}),r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("div",{className:"inline-block mb-6 p-4 bg-white rounded-full shadow-2xl",children:r.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-orange-600 via-blue-900 to-green-600 rounded-full flex items-center justify-center",children:r.jsx(tu,{className:"text-white w-8 h-8 md:w-10 md:h-10"})})}),r.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-6 text-gray-900",children:[e==="en"?"About":"",r.jsx("span",{className:"block mt-2 bg-gradient-to-r from-orange-600 via-blue-900 to-green-600 bg-clip-text text-transparent",children:t(s.panchayatName)})]}),r.jsxs("div",{className:"w-32 h-1 mx-auto mb-6 flex rounded-full overflow-hidden shadow-lg",children:[r.jsx("div",{className:"flex-1 bg-orange-600"}),r.jsx("div",{className:"flex-1 bg-white"}),r.jsx("div",{className:"flex-1 bg-green-600"})]}),r.jsx("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed",children:t(o.description)})]})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:r.jsx("svg",{viewBox:"0 0 1440 120",className:"w-full h-12 md:h-16 fill-current text-white",children:r.jsx("path",{d:"M0,64L48,69.3C96,75,192,85,288,80C384,75,480,53,576,48C672,43,768,53,864,58.7C960,64,1056,64,1152,58.7C1248,53,1344,43,1392,37.3L1440,32L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z"})})})]}),r.jsx("section",{className:"py-12 md:py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:[r.jsxs("div",{className:"group relative bg-gradient-to-br from-orange-500 to-orange-600 text-white p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(Es,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),r.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:o.population}),r.jsx("div",{className:"text-white/90 text-lg",children:e==="en"?"Population":""})]})]}),r.jsxs("div",{className:"group relative bg-gradient-to-br from-green-600 to-green-700 text-white p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(xl,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),r.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:o.area}),r.jsx("div",{className:"text-white/90 text-lg",children:e==="en"?"Area":""})]})]}),r.jsxs("div",{className:"group relative bg-gradient-to-br from-blue-600 to-blue-700 text-white p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(xU,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),r.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:o.households}),r.jsx("div",{className:"text-white/90 text-lg",children:e==="en"?"Households":""})]})]})]})})})}),(o.history||o.vision||o.mission)&&r.jsx("section",{className:"py-12 md:py-16 lg:py-20 bg-gradient-to-br from-gray-50 via-blue-50/30 to-orange-50/30",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-10 md:mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:e==="en"?"Our Journey":" "}),r.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-600 to-green-600 mx-auto rounded-full"})]}),r.jsxs("div",{className:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:[o.history&&r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-t-4 border-orange-600",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:r.jsx(es,{className:"text-orange-600",size:24})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e==="en"?"History":""})]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:t(o.history)})]}),o.vision&&r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-t-4 border-green-600",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:r.jsx(yi,{className:"text-green-600",size:24})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e==="en"?"Vision":""})]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:t(o.vision)})]}),o.mission&&r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-t-4 border-blue-600",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(hT,{className:"text-blue-600",size:24})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e==="en"?"Mission":""})]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:t(o.mission)})]})]})]})}),o.importantPlaces&&o.importantPlaces.length>0&&r.jsxs("section",{className:"py-12 md:py-16 lg:py-20 bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 text-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')]"})}),r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[r.jsxs("div",{className:"text-center mb-10 md:mb-12",children:[r.jsx(Us,{className:"w-12 h-12 mx-auto mb-4 text-orange-400"}),r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-3",children:e==="en"?"Important Places":" "}),r.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-400 to-green-400 mx-auto rounded-full"})]}),r.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:o.importantPlaces.map((f,g)=>r.jsxs("div",{className:"group bg-white/10 backdrop-blur-sm rounded-2xl overflow-hidden hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl border border-white/20",children:[f.photoUrl&&r.jsx("div",{className:"h-48 overflow-hidden",children:r.jsx("img",{src:f.photoUrl,alt:t(f.name),className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),!f.photoUrl&&r.jsx("div",{className:"h-48 bg-gradient-to-br from-orange-400 to-green-400 flex items-center justify-center",children:r.jsx(xl,{size:64,className:"text-white opacity-50"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:t(f.name)}),r.jsx("p",{className:"text-white/80 leading-relaxed",children:t(f.description)})]})]},f.id))})]})]})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-16",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[r.jsx(tu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:e==="en"?"No About Information Available":"   "}),r.jsx("p",{className:"text-gray-600",children:e==="en"?"About page content has not been added yet.":"     ."})]})}):null},E4=()=>Xf(),GV=(n,e,t=null)=>t?`${E4()}/${n}/${t}/${e}`:`${E4()}/${n}/${e}`;async function Oc(n,e,t=null,s=null){try{const a=t||`${Date.now()}_${n.name}`,o=GV(e,a,s),c=yy(by,o),d=await zO(c,n);return await XA(d.ref)}catch(a){throw console.error("Error uploading image:",a),a}}async function Fc(n){try{const e=HV(n);if(!e)throw new Error("Invalid file URL");const t=yy(by,e);return await QA(t),!0}catch(e){throw console.error("Error deleting image:",e),e}}function HV(n){try{if(!n.startsWith("https://firebasestorage.googleapis.com/v0/b/"))return null;const t=n.split("/o/")[1]?.split("?")[0];return t?decodeURIComponent(t):null}catch(e){return console.error("Error extracting path:",e),null}}async function bT(n,e){try{const t=Array.from(n).map(s=>Oc(s,e));return await Promise.all(t)}catch(t){throw console.error("Error uploading multiple images:",t),t}}const uw=async()=>{try{const n=Ht(Je,$t.members()),e=Ts(n,ic("position","asc")),t=await wr(e),s=[];return t.forEach(a=>{s.push({id:a.id,...a.data()})}),s}catch(n){throw console.error("Error fetching members:",n),n}},hw=async n=>{try{const e=Ft(Je,$t.members(),n),t=await ri(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){throw console.error("Error fetching member:",e),e}},$V=async(n,e=null)=>{try{let t=n.photo||"";e&&(t=await Oc(e,"members"));const s=Ht(Je,$t.members()),a=await Ns(s,{...n,photo:t,createdAt:xt.now(),updatedAt:xt.now()});return console.log("Member created successfully with ID:",a.id),a.id}catch(t){throw console.error("Error creating member:",t),t}},WV=async(n,e,t=null)=>{try{let s=e.photo||"";if(t){const o=await hw(n);if(o&&o.photo)try{await Fc(o.photo)}catch(c){console.warn("Failed to delete old photo:",c)}s=await Oc(t,"members")}const a=Ft(Je,$t.members(),n);return await Go(a,{...e,photo:s,updatedAt:xt.now()}),console.log("Member updated successfully:",n),n}catch(s){throw console.error("Error updating member:",s),s}},KV=async n=>{try{const e=await hw(n);if(e&&e.photo)try{await Fc(e.photo)}catch(s){console.warn("Failed to delete member photo:",s)}const t=Ft(Je,$t.members(),n);return await Uo(t),console.log("Member deleted successfully:",n),!0}catch(e){throw console.error("Error deleting member:",e),e}},YV=()=>{const{t:n,getContent:e}=ns(),{settings:t,loading:s}=gu(),[a,o]=W.useState([]),[c,d]=W.useState(!0);W.useEffect(()=>{(async()=>{try{d(!0);const b=await uw();o(Array.isArray(b)?b:[])}catch(b){console.error("Error loading members:",b),o([])}finally{d(!1)}})()},[]);const h=a.filter(v=>v.type==="SARPANCH"),f=a.filter(v=>v.type==="UPSARPANCH"),g=a.filter(v=>v.type==="MEMBER"),p=a.filter(v=>v.type==="STAFF");return c||s?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):t?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("section",{className:"relative bg-gradient-to-br from-orange-600 via-white to-green-600 py-20",children:[r.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm"}),r.jsx("div",{className:"container-custom relative z-10",children:r.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[r.jsxs("div",{className:"inline-flex items-center gap-3 mb-6 px-6 py-3 bg-gradient-to-r from-orange-600 to-green-600 rounded-full shadow-lg",children:[r.jsx(gl,{className:"text-white",size:28}),r.jsx("span",{className:"text-white font-bold text-xl",children:"Gram Panchayat"})]}),r.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-orange-600 to-green-600 bg-clip-text text-transparent",children:n("nav.panchayat")}),r.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:"Meet our elected representatives and dedicated office staff committed to serving our community"}),r.jsxs("div",{className:"mt-8 flex items-center justify-center gap-8 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-600 rounded-full"}),r.jsx("span",{children:"Saffron - Courage & Sacrifice"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full"}),r.jsx("span",{children:"Green - Growth & Prosperity"})]})]})]})})]}),r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(gl,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:"Office Information"}),r.jsx("p",{className:"text-gray-600",children:"Your gateway to local governance and public services"})]}),r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsx("div",{className:"bg-gradient-to-br from-orange-50 via-white to-green-50 rounded-2xl shadow-xl overflow-hidden border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-0",children:[r.jsxs("div",{className:"relative h-80 lg:h-auto",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-600/20 to-green-600/20"}),r.jsx("img",{src:t.officePhoto||"https://via.placeholder.com/600x400",alt:"Gram Panchayat Office",className:"w-full h-full object-cover"}),r.jsxs("div",{className:"absolute bottom-6 left-6 right-6 bg-white/90 backdrop-blur-sm rounded-lg p-4",children:[r.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Government of India"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Serving the community since establishment"})]})]}),r.jsxs("div",{className:"p-8 lg:p-12 space-y-6",children:[r.jsxs("div",{className:"flex gap-4 group",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-orange-600 to-orange-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(xl,{className:"text-white",size:24})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-lg mb-2 text-blue-900",children:"Office Address"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:e(t.contact.address)})]})]}),r.jsxs("div",{className:"flex gap-4 group",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-blue-900 to-blue-800 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:r.jsx($g,{className:"text-white",size:24})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-lg mb-2 text-blue-900",children:"Working Hours"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:e(t.officeTimings)})]})]}),r.jsxs("div",{className:"flex gap-4 group",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-green-600 to-green-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(Do,{className:"text-white",size:24})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-lg mb-2 text-blue-900",children:"Contact Details"}),r.jsx("p",{className:"text-gray-700 mb-1",children:r.jsx("a",{href:`tel:${t.contact.phone}`,className:"hover:text-orange-600 transition-colors",children:t.contact.phone})}),r.jsx("p",{className:"text-gray-700",children:r.jsxs("a",{href:`mailto:${t.contact.email}`,className:"hover:text-orange-600 transition-colors flex items-center gap-2",children:[r.jsx(Bo,{size:16}),t.contact.email]})})]})]})]})]})})})]})}),h.length>0&&r.jsx("section",{className:"py-16 bg-gradient-to-br from-orange-50 via-white to-green-50",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(tu,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e(h[0].designation)}),r.jsx("p",{className:"text-gray-600",children:"Head of the Gram Panchayat"})]}),r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border-t-4 border-orange-600",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),r.jsx("div",{className:"p-8 md:p-12",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-orange-600 to-green-600 rounded-full opacity-20 blur-xl"}),r.jsx("div",{className:"relative w-56 h-56 rounded-full border-8 border-white shadow-2xl overflow-hidden bg-gradient-to-br from-orange-100 to-green-100 flex items-center justify-center",children:h[0].photo?r.jsx("img",{src:h[0].photo,alt:e(h[0].name),className:"w-full h-full object-cover"}):r.jsx(Nf,{size:140,className:"text-gray-400"})}),r.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-gradient-to-r from-orange-600 to-green-600 text-white px-6 py-2 rounded-full shadow-lg text-sm font-bold",children:"SARPANCH"})]}),r.jsxs("div",{className:"flex-1 text-center md:text-left space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-3xl font-bold text-blue-900 mb-2",children:e(h[0].name)}),r.jsx("p",{className:"text-xl text-orange-600 font-semibold mb-1",children:e(h[0].designation)})]}),r.jsxs("div",{className:"inline-flex items-center gap-3 bg-gradient-to-r from-orange-50 to-green-50 px-6 py-3 rounded-xl border border-orange-200",children:[r.jsx(Do,{size:20,className:"text-orange-600"}),r.jsx("a",{href:`tel:${h[0].phone}`,className:"text-blue-900 hover:text-orange-600 transition-colors font-semibold",children:h[0].phone})]}),h[0].termStart&&r.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-1",children:"Current Term"}),r.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[new Date(h[0].termStart).getFullYear()," - ",new Date(h[0].termEnd).getFullYear()]})]}),r.jsx("div",{className:"pt-4 border-t border-gray-200",children:r.jsx("p",{className:"text-sm text-gray-600 italic leading-relaxed",children:'"Committed to the development and welfare of our village community"'})})]})]})})]})})]})}),f.length>0&&r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(tu,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e(f[0].designation)}),r.jsx("p",{className:"text-gray-600",children:"Vice-Head of the Gram Panchayat"})]}),r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 via-white to-green-50 rounded-2xl shadow-2xl overflow-hidden border-t-4 border-green-600",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-600 to-orange-600 h-2"}),r.jsx("div",{className:"p-8 md:p-12",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-green-600 to-orange-600 rounded-full opacity-20 blur-xl"}),r.jsx("div",{className:"relative w-56 h-56 rounded-full border-8 border-white shadow-2xl overflow-hidden bg-gradient-to-br from-green-100 to-orange-100 flex items-center justify-center",children:f[0].photo?r.jsx("img",{src:f[0].photo,alt:e(f[0].name),className:"w-full h-full object-cover"}):r.jsx(Nf,{size:140,className:"text-gray-400"})}),r.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-gradient-to-r from-green-600 to-orange-600 text-white px-6 py-2 rounded-full shadow-lg text-sm font-bold",children:"UP-SARPANCH"})]}),r.jsxs("div",{className:"flex-1 text-center md:text-left space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-3xl font-bold text-blue-900 mb-2",children:e(f[0].name)}),r.jsx("p",{className:"text-xl text-green-600 font-semibold mb-1",children:e(f[0].designation)})]}),r.jsxs("div",{className:"inline-flex items-center gap-3 bg-gradient-to-r from-green-50 to-orange-50 px-6 py-3 rounded-xl border border-green-200",children:[r.jsx(Do,{size:20,className:"text-green-600"}),r.jsx("a",{href:`tel:${f[0].phone}`,className:"text-blue-900 hover:text-green-600 transition-colors font-semibold",children:f[0].phone})]}),f[0].termStart&&r.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-1",children:"Current Term"}),r.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[new Date(f[0].termStart).getFullYear()," - ",new Date(f[0].termEnd).getFullYear()]})]}),r.jsx("div",{className:"pt-4 border-t border-gray-200",children:r.jsx("p",{className:"text-sm text-gray-600 italic leading-relaxed",children:'"Supporting the vision of progress and prosperity for our community"'})})]})]})})]})})]})}),g.length>0&&r.jsx("section",{className:"py-16 bg-gradient-to-br from-orange-50 via-white to-green-50",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(Es,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:"Gram Panchayat Members"}),r.jsx("p",{className:"text-gray-600",children:"Elected representatives serving our community"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:g.map((v,b)=>r.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-orange-600 hover:scale-105",children:[r.jsx("div",{className:"h-1 bg-gradient-to-r from-orange-600 to-green-600"}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"relative mb-6",children:[r.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-orange-600 to-green-600 rounded-full opacity-0 group-hover:opacity-20 blur-lg transition-opacity"}),r.jsx("div",{className:"relative w-32 h-32 mx-auto rounded-full border-4 border-white shadow-xl overflow-hidden bg-gradient-to-br from-orange-100 to-green-100 flex items-center justify-center",children:v.photo?r.jsx("img",{src:v.photo,alt:e(v.name),className:"w-full h-full object-cover"}):r.jsx(Nf,{size:80,className:"text-gray-400"})}),r.jsx("div",{className:"absolute -top-2 -right-2 w-10 h-10 bg-gradient-to-r from-orange-600 to-green-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:b+1})]}),r.jsxs("div",{className:"text-center space-y-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-1 group-hover:text-orange-600 transition-colors",children:e(v.name)}),r.jsx("p",{className:"text-orange-600 font-semibold text-sm",children:e(v.designation)})]}),r.jsx("div",{className:"pt-3 border-t border-gray-200",children:r.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-orange-50 to-green-50 px-4 py-2 rounded-lg border border-orange-200",children:[r.jsx(Do,{size:16,className:"text-orange-600"}),r.jsx("a",{href:`tel:${v.phone}`,className:"text-blue-900 hover:text-orange-600 transition-colors text-sm font-medium",children:v.phone})]})})]})]})]},v.id))})]})}),p.length>0&&r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(gl,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:"Office Staff"}),r.jsx("p",{className:"text-gray-600",children:"Dedicated professionals serving the public"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:p.map((v,b)=>r.jsxs("div",{className:"group bg-gradient-to-br from-green-50 via-white to-orange-50 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-green-600 hover:scale-105",children:[r.jsx("div",{className:"h-1 bg-gradient-to-r from-green-600 to-orange-600"}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"relative mb-6",children:[r.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-green-600 to-orange-600 rounded-full opacity-0 group-hover:opacity-20 blur-lg transition-opacity"}),r.jsx("div",{className:"relative w-32 h-32 mx-auto rounded-full border-4 border-white shadow-xl overflow-hidden bg-gradient-to-br from-green-100 to-orange-100 flex items-center justify-center",children:v.photo?r.jsx("img",{src:v.photo,alt:e(v.name),className:"w-full h-full object-cover"}):r.jsx(Nf,{size:80,className:"text-gray-400"})}),r.jsx("div",{className:"absolute -top-2 -right-2 w-10 h-10 bg-gradient-to-r from-green-600 to-orange-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:b+1})]}),r.jsxs("div",{className:"text-center space-y-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-1 group-hover:text-green-600 transition-colors",children:e(v.name)}),r.jsx("p",{className:"text-green-600 font-semibold text-sm",children:e(v.designation)})]}),r.jsx("div",{className:"pt-3 border-t border-gray-200",children:r.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-green-50 to-orange-50 px-4 py-2 rounded-lg border border-green-200",children:[r.jsx(Do,{size:16,className:"text-green-600"}),r.jsx("a",{href:`tel:${v.phone}`,className:"text-blue-900 hover:text-green-600 transition-colors text-sm font-medium",children:v.phone})]})})]})]})]},v.id))})]})})]}):null},fw=async()=>{try{const n=Ht(Je,$t.services()),e=Ts(n,ic("name.en","asc")),t=await wr(e),s=[];return t.forEach(a=>{s.push({id:a.id,...a.data()})}),s}catch(n){throw console.error("Error fetching services:",n),n}},XV=async n=>{try{const e=Ft(Je,$t.services(),n),t=await ri(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){throw console.error("Error fetching service:",e),e}},QV=async n=>{try{const e=Ht(Je,$t.services()),t=await Ns(e,{...n,createdAt:xt.now(),updatedAt:xt.now()});return console.log("Service created successfully with ID:",t.id),t.id}catch(e){throw console.error("Error creating service:",e),e}},JV=async(n,e)=>{try{const t=Ft(Je,$t.services(),n);return await Go(t,{...e,updatedAt:xt.now()}),console.log("Service updated successfully:",n),n}catch(t){throw console.error("Error updating service:",t),t}},ZV=async n=>{try{const e=Ft(Je,$t.services(),n);return await Uo(e),console.log("Service deleted successfully:",n),!0}catch(e){throw console.error("Error deleting service:",e),e}},ez=()=>{const{t:n,getContent:e}=ns(),[t,s]=W.useState(""),[a,o]=W.useState("All"),[c,d]=W.useState([]),[h,f]=W.useState(!0);W.useEffect(()=>{(async()=>{try{f(!0);const b=await fw();d(Array.isArray(b)?b:[])}catch(b){console.error("Error loading services:",b),d([])}finally{f(!1)}})()},[]);const g=["All","Certificate","Tax","NOC","Other"],p=c.filter(v=>{const b=e(v.name).toLowerCase().includes(t.toLowerCase()),T=a==="All"||v.category===a;return b&&T});return h?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):r.jsxs("div",{children:[r.jsx("section",{className:"bg-gradient-to-r from-primary-600 to-primary-800 text-white py-16",children:r.jsxs("div",{className:"container-custom",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:n("nav.services")}),r.jsx("p",{className:"text-xl text-primary-100",children:"Explore various services provided by Gram Panchayat"})]})}),r.jsx("section",{className:"py-12",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"mb-8 flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:n("common.search"),value:t,onChange:v=>s(v.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:g.map(v=>r.jsx("button",{onClick:()=>o(v),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===v?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:v},v))})]}),c.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500 text-lg",children:n("common.language")==="en"?"No services have been added yet.":"     ."})}):p.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500 text-lg",children:n("common.noResults")})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.map(v=>r.jsxs("div",{className:"card p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:e(v.name)}),r.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 text-sm font-medium rounded-full",children:v.category})]}),r.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:e(v.description)}),r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Fees: "}),r.jsx("span",{className:"font-semibold text-gray-700",children:v.fees})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Time: "}),r.jsx("span",{className:"font-semibold text-gray-700",children:v.processingTime})]})]}),r.jsxs(pn,{to:`/services/${v.id}`,className:"mt-4 inline-flex items-center gap-1 text-primary-600 hover:text-primary-700 font-medium",children:[n("common.viewDetails"),r.jsx(xp,{size:16})]})]},v.id))})]})})]})},mw=async()=>{try{const n=Ht(Je,$t.schemes()),e=Ts(n,ic("name.en","asc")),t=await wr(e),s=[];return t.forEach(a=>{s.push({id:a.id,...a.data()})}),s}catch(n){throw console.error("Error fetching schemes:",n),n}},tz=async n=>{try{const e=Ft(Je,$t.schemes(),n),t=await ri(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){throw console.error("Error fetching scheme:",e),e}},nz=async n=>{try{const e=Ht(Je,$t.schemes()),t=await Ns(e,{...n,createdAt:xt.now(),updatedAt:xt.now()});return console.log("Scheme created successfully with ID:",t.id),t.id}catch(e){throw console.error("Error creating scheme:",e),e}},rz=async(n,e)=>{try{const t=Ft(Je,$t.schemes(),n);return await Go(t,{...e,updatedAt:xt.now()}),console.log("Scheme updated successfully:",n),n}catch(t){throw console.error("Error updating scheme:",t),t}},sz=async n=>{try{const e=Ft(Je,$t.schemes(),n);return await Uo(e),console.log("Scheme deleted successfully:",n),!0}catch(e){throw console.error("Error deleting scheme:",e),e}},az=()=>{const{t:n,getContent:e}=ns(),[t,s]=W.useState(""),[a,o]=W.useState("All"),[c,d]=W.useState("All"),[h,f]=W.useState([]),[g,p]=W.useState(!0);W.useEffect(()=>{(async()=>{try{p(!0);const j=await mw();f(Array.isArray(j)?j:[])}catch(j){console.error("Error loading schemes:",j),f([])}finally{p(!1)}})()},[]);const v=["All","CENTRAL","STATE","LOCAL","OTHER"],b=["All","ACTIVE","CLOSED","UPCOMING"],T=h.filter(E=>{const j=e(E.name).toLowerCase().includes(t.toLowerCase()),S=a==="All"||E.category===a,L=c==="All"||E.status===c;return j&&S&&L});return g?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):r.jsxs("div",{children:[r.jsx("section",{className:"bg-gradient-to-r from-primary-600 to-primary-800 text-white py-16",children:r.jsxs("div",{className:"container-custom",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:n("nav.schemes")}),r.jsx("p",{className:"text-xl text-primary-100",children:"Government schemes and welfare programs for villagers"})]})}),r.jsx("section",{className:"py-12",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"mb-8 space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:n("common.search"),value:t,onChange:E=>s(E.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex gap-2 flex-wrap",children:v.map(E=>r.jsx("button",{onClick:()=>o(E),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===E?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:E},E))}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:b.map(E=>r.jsx("button",{onClick:()=>d(E),className:`px-4 py-2 rounded-lg font-medium transition-colors ${c===E?"bg-secondary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:E},E))})]})]}),h.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500 text-lg",children:n("common.language")==="en"?"No schemes have been added yet.":"     ."})}):T.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500 text-lg",children:n("common.noResults")})}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:T.map(E=>r.jsxs("div",{className:"card p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800 flex-1",children:e(E.name)}),r.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded-full",children:E.category}),r.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${E.status==="ACTIVE"?"bg-green-100 text-green-700":E.status==="CLOSED"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:E.status})]})]}),r.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:e(E.description)}),r.jsxs(pn,{to:`/schemes/${E.id}`,className:"inline-flex items-center gap-1 text-primary-600 hover:text-primary-700 font-medium",children:[n("common.viewDetails"),r.jsx(xp,{size:16})]})]},E.id))})]})})]})},iz="forms",gw=async()=>{try{const n=Ht(Je,$t.forms()),e=Ts(n,ic("createdAt","desc")),t=await wr(e),s=[];return t.forEach(a=>{s.push({id:a.id,...a.data()})}),console.log(`Loaded ${s.length} forms from Firebase`),s}catch(n){throw console.error("Error loading forms:",n),n}},oz=async n=>{try{const e=Ft(Je,$t.forms(),n),t=await ri(e);if(t.exists())return{id:t.id,...t.data()};throw new Error("Form not found")}catch(e){throw console.error("Error loading form:",e),e}},vT=async(n,e,t=null)=>{try{if(n.type!=="application/pdf")throw new Error("Only PDF files are allowed");const s=10*1024*1024;if(n.size>s)throw new Error("File size must be less than 10MB");const a=`${Date.now()}_${n.name}`,o=yy(by,`${iz}/${e}/${a}`),c=BO(o,n);return new Promise((d,h)=>{c.on("state_changed",f=>{const g=f.bytesTransferred/f.totalBytes*100;console.log(`Upload progress: ${g}%`),t&&t(g)},f=>{console.error("Error uploading PDF:",f),h(f)},async()=>{const f=await XA(c.snapshot.ref);console.log("PDF uploaded successfully:",f),d(f)})})}catch(s){throw console.error("Error in uploadPDF:",s),s}},wT=async n=>{try{if(!n){console.log("No file URL provided, skipping deletion");return}const e=n.split("/o/");if(e.length<2){console.warn("Invalid file URL format");return}const t=e[1],s=decodeURIComponent(t.split("?")[0]),a=yy(by,s);await QA(a),console.log("PDF deleted from storage:",s)}catch(e){if(e.code==="storage/object-not-found")console.log("File already deleted or does not exist");else throw console.error("Error deleting PDF:",e),e}},lz=async(n,e,t=null)=>{try{const s=Ht(Je,$t.forms()),a={titleEn:n.titleEn||"",titleMr:n.titleMr||"",descriptionEn:n.descriptionEn||"",descriptionMr:n.descriptionMr||"",category:n.category||"General",language:n.language||"BOTH",fileUrl:"",fileName:e.name,fileSize:e.size,createdAt:Qt(),updatedAt:Qt()},o=await Ns(s,a);console.log("Form document created with ID:",o.id);const c=await vT(e,o.id,t);return await Go(o,{fileUrl:c}),console.log("Form updated with file URL"),o.id}catch(s){throw console.error("Error creating form:",s),s}},cz=async(n,e,t=null,s=null,a=null)=>{try{const o=Ft(Je,$t.forms(),n),c={titleEn:e.titleEn||"",titleMr:e.titleMr||"",descriptionEn:e.descriptionEn||"",descriptionMr:e.descriptionMr||"",category:e.category||"General",language:e.language||"BOTH",updatedAt:Qt()};if(t){s&&await wT(s);const d=await vT(t,n,a);c.fileUrl=d,c.fileName=t.name,c.fileSize=t.size}await Go(o,c),console.log("Form updated:",n)}catch(o){throw console.error("Error updating form:",o),o}},dz=async(n,e)=>{try{e&&await wT(e);const t=Ft(Je,$t.forms(),n);await Uo(t),console.log("Form deleted:",n)}catch(t){throw console.error("Error deleting form:",t),t}},uz=()=>{const{language:n}=ns(),[e,t]=W.useState([]),[s,a]=W.useState(""),[o,c]=W.useState("ALL"),[d,h]=W.useState(!0);W.useEffect(()=>{(async()=>{try{h(!0);const E=await gw();console.log("Fetched forms:",E),console.log("First form data:",E[0]),t(E)}catch(E){console.error("Error loading forms:",E),t([])}finally{h(!1)}})()},[]);const f=["ALL",...new Set(e.map(T=>T.category))],g=e.filter(T=>{const E=T.titleEn&&T.titleEn.toLowerCase().includes(s.toLowerCase())||T.titleMr&&T.titleMr.toLowerCase().includes(s.toLowerCase()),j=o==="ALL"||T.category===o;return E&&j}),p=T=>({Certificate:"from-blue-500 to-blue-600 border-blue-400",APPLICATION:"from-green-500 to-green-600 border-green-400",Tax:"from-orange-500 to-orange-600 border-orange-400",LICENSE:"from-purple-500 to-purple-600 border-purple-400",OTHER:"from-gray-500 to-gray-600 border-gray-400"})[T]||"from-gray-500 to-gray-600 border-gray-400",v=T=>({Certificate:"",APPLICATION:"",Tax:"",LICENSE:"",OTHER:""})[T]||"",b=T=>{console.log("Download clicked for form:",T),console.log("File URL:",T.fileUrl),T.fileUrl&&T.fileUrl.trim()!==""?window.open(T.fileUrl,"_blank"):(console.error("File URL is missing or empty for form:",T.id),alert(n==="en"?"Download link not available. Please contact administrator.":"   .    ."))};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[r.jsxs("section",{className:"relative bg-gradient-to-br from-orange-600 via-white to-green-600 py-20 overflow-hidden",children:[r.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[r.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-10 right-10 w-40 h-40 bg-blue-900 rounded-full blur-3xl"})]}),r.jsx("div",{className:"container-custom relative z-10",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md px-6 py-3 rounded-full mb-6 border border-white/30 shadow-lg",children:[r.jsx(y4,{className:"text-blue-900",size:24}),r.jsx("span",{className:"text-blue-900 font-bold text-lg",children:n==="en"?"Document Center":" "})]}),r.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 text-blue-900 leading-tight",children:n==="en"?"Forms & Downloads":"  "}),r.jsx("p",{className:"text-xl md:text-2xl text-gray-700 mb-8 leading-relaxed",children:n==="en"?"Download application forms, certificates, and important documents with ease":" ,       "}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[r.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-orange-200",children:[r.jsx("div",{className:"text-3xl font-bold text-orange-600",children:e.length}),r.jsx("div",{className:"text-sm text-gray-600 font-medium",children:n==="en"?"Total Forms":" "})]}),r.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-green-200",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600",children:f.length-1}),r.jsx("div",{className:"text-sm text-gray-600 font-medium",children:n==="en"?"Categories":""})]}),r.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-blue-200 col-span-2 md:col-span-1",children:[r.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"24/7"}),r.jsx("div",{className:"text-sm text-gray-600 font-medium",children:n==="en"?"Available":""})]})]})]})}),r.jsx("div",{className:"absolute bottom-0 left-0 w-full",children:r.jsx("svg",{viewBox:"0 0 1440 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{d:"M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z",fill:"white"})})})]}),r.jsx("section",{className:"py-8 -mt-12 relative z-20",children:r.jsx("div",{className:"container-custom",children:r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl border-t-4 border-orange-600",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"relative group",children:[r.jsx(Fa,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-orange-500 group-focus-within:text-orange-600 transition-colors",size:22}),r.jsx("input",{type:"text",placeholder:n==="en"?"Search forms by name...":"  ...",value:s,onChange:T=>a(T.target.value),className:"w-full pl-12 pr-4 py-4 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all text-gray-700 font-medium"})]}),r.jsxs("div",{className:"relative group",children:[r.jsx(wy,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-green-600 group-focus-within:text-green-700 transition-colors z-10",size:22}),r.jsx("select",{value:o,onChange:T=>c(T.target.value),className:"w-full pl-12 pr-4 py-4 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-green-600 focus:ring-2 focus:ring-green-200 appearance-none bg-white transition-all text-gray-700 font-medium cursor-pointer",children:f.map(T=>r.jsx("option",{value:T,children:T==="ALL"?n==="en"?" All Categories":"  ":`${v(T)} ${T}`},T))}),r.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:r.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),s||o!=="ALL"?r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:r.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[r.jsx(Us,{size:16,className:"text-orange-500"}),r.jsx("span",{children:n==="en"?`Found ${g.length} form${g.length!==1?"s":""}`:`${g.length}  `})]})}):null]})})}),r.jsx("section",{className:"py-12",children:r.jsxs("div",{className:"container-custom",children:[d?r.jsxs("div",{className:"flex flex-col justify-center items-center py-20",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-b-4 border-t-4 border-orange-600"}),r.jsx(hr,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-orange-600",size:32})]}),r.jsx("p",{className:"text-gray-600 font-semibold mt-6 text-lg",children:n==="en"?"Loading forms...":"   ..."})]}):g.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:g.map((T,E)=>r.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-lg border-t-4 border-orange-600 overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2",style:{animationDelay:`${E*50}ms`},children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-orange-100 to-green-100 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),r.jsx("div",{className:"relative bg-gradient-to-r from-blue-900 to-blue-800 p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"p-4 bg-white/20 backdrop-blur-sm rounded-xl shadow-lg group-hover:scale-110 transition-transform duration-300",children:r.jsx(hr,{className:"text-white",size:32})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-white text-lg leading-tight mb-2 line-clamp-2",children:n==="en"?T.titleEn:T.titleMr||T.titleEn}),r.jsx("div",{className:"inline-flex items-center gap-2",children:r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r ${p(T.category)} text-white shadow-md border-2`,children:[v(T.category)," ",T.category]})})]})]})}),r.jsxs("div",{className:"relative p-6 space-y-4",children:[r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-3 min-h-[60px]",children:n==="en"?T.descriptionEn:T.descriptionMr||T.descriptionEn}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[T.language&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-semibold bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-md",children:[r.jsx(Tf,{size:14}),T.language]}),T.createdAt&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-semibold bg-gray-100 text-gray-700 border border-gray-300",children:[r.jsx(es,{size:14}),(()=>{try{return(T.createdAt?.toDate?T.createdAt.toDate():new Date(T.createdAt)).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}catch{return"Recent"}})()]})]}),r.jsxs("button",{onClick:()=>b(T),className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-xl hover:from-orange-700 hover:to-orange-600 transition-all shadow-lg hover:shadow-xl font-bold text-sm group-hover:scale-105 transform duration-300",children:[r.jsx(Vo,{size:20,className:"animate-bounce"}),r.jsx("span",{children:n==="en"?"Download Form":"  "}),r.jsx(Mc,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]}),T.fileName&&r.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-gray-100 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-600 flex-1 min-w-0",children:[r.jsx(oU,{size:14,className:"flex-shrink-0 text-blue-600"}),r.jsx("span",{className:"truncate font-medium",children:T.fileName})]}),T.fileSize&&r.jsxs("span",{className:"ml-3 text-gray-500 font-semibold bg-white px-2 py-1 rounded-md border border-gray-300",children:[(T.fileSize/1024).toFixed(1)," KB"]})]})}),r.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:r.jsx(Us,{className:"text-yellow-400",size:24})})]},T.id))}):r.jsxs("div",{className:"text-center py-20",children:[r.jsx("div",{className:"inline-block p-8 bg-gradient-to-br from-orange-50 to-green-50 rounded-full mb-6 border-4 border-orange-200",children:r.jsx(y4,{size:80,className:"text-orange-600"})}),r.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-3",children:n==="en"?"No Forms Available":"   "}),r.jsx("p",{className:"text-gray-600 text-lg max-w-md mx-auto",children:n==="en"?"Forms and documents will be displayed here once they are uploaded by the admin.":"         ."})]}),g.length>0&&r.jsxs("div",{className:"mt-16 bg-gradient-to-br from-blue-50 via-white to-green-50 border-2 border-blue-300 rounded-2xl p-8 shadow-xl",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl shadow-lg",children:r.jsx(N2,{className:"text-white",size:28})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2",children:n==="en"?"How to Download & Submit Forms":"     "}),r.jsx("p",{className:"text-gray-600",children:n==="en"?"Follow these simple steps to complete your application":"        "})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"relative bg-white rounded-xl p-6 shadow-md border-t-4 border-orange-600 hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"absolute -top-4 left-6 w-12 h-12 bg-gradient-to-br from-orange-600 to-orange-700 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:"1"}),r.jsxs("div",{className:"mt-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(Vo,{className:"text-orange-600",size:24}),r.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:n==="en"?"Download":""})]}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n==="en"?'Click the "Download Form" button to get the PDF file on your device':'  PDF   "  "   '})]})]}),r.jsxs("div",{className:"relative bg-white rounded-xl p-6 shadow-md border-t-4 border-green-600 hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"absolute -top-4 left-6 w-12 h-12 bg-gradient-to-br from-green-600 to-green-700 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:"2"}),r.jsxs("div",{className:"mt-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(sU,{className:"text-green-600",size:24}),r.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:n==="en"?"Fill Form":" "})]}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n==="en"?"Complete all required fields accurately and attach necessary documents":"         "})]})]}),r.jsxs("div",{className:"relative bg-white rounded-xl p-6 shadow-md border-t-4 border-blue-600 hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"absolute -top-4 left-6 w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:"3"}),r.jsxs("div",{className:"mt-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(Gi,{className:"text-blue-600",size:24}),r.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:n==="en"?"Submit":" "})]}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n==="en"?"Submit the completed form at the Gram Panchayat office during working hours":"        "})]})]})]}),r.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-lg",children:r.jsxs("p",{className:"text-sm text-yellow-800 flex items-start gap-2",children:[r.jsx(N2,{size:18,className:"flex-shrink-0 mt-0.5"}),r.jsx("span",{children:n==="en"?"For any assistance, please contact the Gram Panchayat office during working hours or call our helpline.":" ,            ."})]})})]})]})})]})},hz=()=>{const{t:n,language:e}=ns(),[t,s]=W.useState(null),[a,o]=W.useState(!0);return W.useEffect(()=>{(async()=>{try{o(!0);const d=await yT();s(d)}catch(d){console.error("Error loading education content:",d),s(null)}finally{o(!1)}})()},[]),a?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#ff6b00]"})}):t?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("section",{className:"relative bg-gradient-to-br from-orange-600 via-white to-green-600 py-20",children:[r.jsx("div",{className:"absolute inset-0 bg-white/85 backdrop-blur-sm"}),r.jsx("div",{className:"container-custom relative z-10",children:r.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[r.jsxs("div",{className:"inline-flex items-center gap-3 mb-6 px-6 py-3 bg-gradient-to-r from-orange-600 to-green-600 rounded-full shadow-lg",children:[r.jsx(b4,{className:"text-white",size:32}),r.jsx("span",{className:"text-white font-bold text-xl",children:e==="en"?"Education":""})]}),r.jsx("h1",{className:"text-5xl font-bold mb-6 bg-gradient-to-r from-orange-600 to-green-600 bg-clip-text text-transparent",children:n("nav.education")}),r.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:e==="en"?t.description.en:t.description.mr}),r.jsxs("div",{className:"mt-8 flex items-center justify-center gap-8 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-600 rounded-full"}),r.jsx("span",{children:e==="en"?"Knowledge & Wisdom":"  "})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full"}),r.jsx("span",{children:e==="en"?"Growth & Progress":"  "})]})]})]})})]}),r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(Yu,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e==="en"?"Education at a Glance":"  "}),r.jsx("p",{className:"text-gray-600",children:"Key metrics and achievements in education"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"group bg-gradient-to-br from-blue-50 to-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all border-t-4 border-blue-600 hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(tu,{className:"text-white",size:32})}),r.jsx(Us,{className:"text-blue-300",size:24})]}),r.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:t.stats.literacyRate}),r.jsx("div",{className:"text-gray-700 font-semibold",children:e==="en"?"Literacy Rate":" "})]}),r.jsxs("div",{className:"group bg-gradient-to-br from-green-50 to-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all border-t-4 border-green-600 hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-600 to-green-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(Es,{className:"text-white",size:32})}),r.jsx(Us,{className:"text-green-300",size:24})]}),r.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:t.stats.totalStudents}),r.jsx("div",{className:"text-gray-700 font-semibold",children:e==="en"?"Total Students":" "})]}),r.jsxs("div",{className:"group bg-gradient-to-br from-orange-50 to-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all border-t-4 border-orange-600 hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-600 to-orange-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(b4,{className:"text-white",size:32})}),r.jsx(Us,{className:"text-orange-300",size:24})]}),r.jsx("div",{className:"text-4xl font-bold text-orange-600 mb-2",children:t.stats.totalTeachers}),r.jsx("div",{className:"text-gray-700 font-semibold",children:e==="en"?"Total Teachers":" "})]}),r.jsxs("div",{className:"group bg-gradient-to-br from-purple-50 to-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all border-t-4 border-purple-600 hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-purple-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(hT,{className:"text-white",size:32})}),r.jsx(Us,{className:"text-purple-300",size:24})]}),r.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:t.stats.schoolDropoutRate}),r.jsx("div",{className:"text-gray-700 font-semibold",children:e==="en"?"Dropout Rate":"  "})]})]})]})}),t.schools.length>0&&r.jsx("section",{className:"py-16 bg-gradient-to-br from-orange-50 via-white to-green-50",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(_2,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e==="en"?"Our Schools":" "}),r.jsx("p",{className:"text-gray-600",children:"Centers of excellence nurturing young minds"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.schools.map((c,d)=>r.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all overflow-hidden border-t-4 border-orange-600 hover:scale-105",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2 group-hover:text-orange-600 transition-colors",children:e==="en"?c.name.en:c.name.mr}),r.jsx("span",{className:"inline-block px-4 py-1 bg-gradient-to-r from-orange-100 to-green-100 text-orange-700 rounded-full text-sm font-semibold",children:e==="en"?c.type.en:c.type.mr})]}),r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:d+1})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-xl text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:c.students}),r.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:e==="en"?"Students":""})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-xl text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:c.teachers}),r.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:e==="en"?"Teachers":""})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-xl text-center",children:[r.jsx("div",{className:"text-lg font-bold text-orange-600 mb-1",children:c.classes}),r.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:e==="en"?"Classes":""})]})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:e==="en"?c.description.en:c.description.mr}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-green-50 p-6 rounded-xl border border-orange-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(tu,{className:"text-orange-600",size:20}),r.jsx("div",{className:"text-sm font-bold text-blue-900",children:e==="en"?"Facilities & Amenities":"  "})]}),r.jsx("div",{className:"text-sm text-gray-700 leading-relaxed",children:e==="en"?c.facilities.en:c.facilities.mr})]})]})]},c.id))})]})}),t.anganwadis.length>0&&r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(b2,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e==="en"?"Anganwadi Centers":""}),r.jsx("p",{className:"text-gray-600",children:"Early childhood care and development"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.anganwadis.map((c,d)=>r.jsxs("div",{className:"group bg-gradient-to-br from-green-50 via-white to-orange-50 rounded-2xl shadow-xl hover:shadow-2xl transition-all overflow-hidden border-t-4 border-green-600 hover:scale-105",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-600 to-orange-600 h-2"}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2 group-hover:text-green-600 transition-colors",children:e==="en"?c.name.en:c.name.mr}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),r.jsx("span",{className:"font-semibold",children:e==="en"?c.location.en:c.location.mr})]})]}),r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-600 to-orange-600 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:d+1})]}),r.jsx("div",{className:"bg-gradient-to-br from-green-100 to-orange-100 p-6 rounded-xl mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600 mb-1",children:c.children}),r.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:e==="en"?"Children":""})]}),r.jsx("div",{className:"w-px h-12 bg-gray-300"}),r.jsxs("div",{className:"text-center px-4",children:[r.jsx(b2,{className:"mx-auto text-orange-600 mb-1",size:28}),r.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:e==="en"?"Age 0-6":" -"})]})]})}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 bg-white p-3 rounded-lg border border-green-200",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-600 to-green-700 rounded-full flex items-center justify-center",children:r.jsx(Es,{className:"text-white",size:20})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 font-semibold",children:e==="en"?"Worker":""}),r.jsx("div",{className:"text-sm font-bold text-gray-800",children:e==="en"?c.worker.en:c.worker.mr})]})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-white p-3 rounded-lg border border-orange-200",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-600 to-orange-700 rounded-full flex items-center justify-center",children:r.jsx(Es,{className:"text-white",size:20})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 font-semibold",children:e==="en"?"Helper":""}),r.jsx("div",{className:"text-sm font-bold text-gray-800",children:e==="en"?c.helper.en:c.helper.mr})]})]})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:e==="en"?c.description.en:c.description.mr}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-orange-50 p-6 rounded-xl border border-green-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(tu,{className:"text-green-600",size:20}),r.jsx("div",{className:"text-sm font-bold text-blue-900",children:e==="en"?"Services Provided":"  "})]}),r.jsx("div",{className:"text-sm text-gray-700 leading-relaxed",children:e==="en"?c.services.en:c.services.mr})]})]})]},c.id))})]})}),t.programs.length>0&&r.jsx("section",{className:"py-16 bg-gradient-to-br from-orange-50 via-white to-green-50",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(Hg,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e==="en"?"Educational Programs":" "}),r.jsx("p",{className:"text-gray-600",children:"Empowering communities through learning initiatives"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.programs.map((c,d)=>r.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all overflow-hidden border-t-4 border-blue-600 hover:scale-105",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 h-2"}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(Hg,{className:"text-white",size:24})}),r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:d+1})]}),r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4 group-hover:text-blue-600 transition-colors leading-snug",children:e==="en"?c.name.en:c.name.mr}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:e==="en"?c.description.en:c.description.mr}),r.jsxs("div",{className:"space-y-3",children:[c.timing&&r.jsxs("div",{className:"flex items-start gap-3 bg-gradient-to-r from-blue-50 to-purple-50 p-3 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 font-semibold mb-1",children:e==="en"?"Timing":""}),r.jsx("div",{className:"text-sm text-gray-800 font-medium",children:e==="en"?c.timing.en:c.timing.mr})]})]}),c.participants&&r.jsxs("div",{className:"flex items-start gap-3 bg-gradient-to-r from-green-50 to-orange-50 p-3 rounded-lg border border-green-200",children:[r.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full mt-2"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 font-semibold mb-1",children:e==="en"?"Participants":""}),r.jsx("div",{className:"text-sm text-gray-800 font-medium",children:c.participants})]})]}),c.beneficiaries&&r.jsxs("div",{className:"flex items-start gap-3 bg-gradient-to-r from-green-50 to-orange-50 p-3 rounded-lg border border-green-200",children:[r.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full mt-2"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 font-semibold mb-1",children:e==="en"?"Beneficiaries":""}),r.jsx("div",{className:"text-sm text-gray-800 font-medium",children:c.beneficiaries})]})]}),c.coordinator&&r.jsxs("div",{className:"flex items-start gap-3 bg-gradient-to-r from-orange-50 to-purple-50 p-3 rounded-lg border border-orange-200",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-600 rounded-full mt-2"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 font-semibold mb-1",children:e==="en"?"Coordinator":""}),r.jsx("div",{className:"text-sm text-gray-800 font-medium",children:e==="en"?c.coordinator.en:c.coordinator.mr})]})]})]})]})]},c.id))})]})})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-16",children:r.jsxs("div",{className:"container-custom text-center",children:[r.jsx(_2,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:e==="en"?"No Education Data Available":"   "}),r.jsx("p",{className:"text-gray-600",children:e==="en"?"Education information has not been added yet.":"     ."})]})})},pw=async()=>{try{const n=Ts(Ht(Je,$t.gallery()),ic("date","desc"));return(await wr(n)).docs.map(t=>({id:t.id,...t.data(),date:t.data().date?.toDate?.()||new Date(t.data().date),createdAt:t.data().createdAt?.toDate?.()||new Date,updatedAt:t.data().updatedAt?.toDate?.()||new Date}))}catch(n){throw console.error("Error getting gallery programs:",n),new Error("Failed to fetch gallery programs")}},NT=async n=>{try{const e=Ft(Je,$t.gallery(),n),t=await ri(e);if(!t.exists())throw new Error("Program not found");return{id:t.id,...t.data(),date:t.data().date?.toDate?.()||new Date(t.data().date),createdAt:t.data().createdAt?.toDate?.()||new Date,updatedAt:t.data().updatedAt?.toDate?.()||new Date}}catch(e){throw console.error("Error getting program:",e),new Error("Failed to fetch program")}},fz=async(n,e=[])=>{try{let t=[];if(e&&e.length>0){const o=`gallery/${Date.now()}`;t=await bT(e,o)}const s={titleEn:n.titleEn||"",titleMr:n.titleMr||"",descriptionEn:n.descriptionEn||"",descriptionMr:n.descriptionMr||"",date:xt.fromDate(new Date(n.date)),images:t,youtubeLink:n.youtubeLink||"",createdAt:Qt(),updatedAt:Qt()};return{id:(await Ns(Ht(Je,$t.gallery()),s)).id,...s,date:new Date(n.date),createdAt:new Date,updatedAt:new Date}}catch(t){throw console.error("Error creating program:",t),new Error("Failed to create gallery program")}},mz=async(n,e,t=[],s=[])=>{try{const a=Ft(Je,$t.gallery(),n);let o=[];if(t&&t.length>0){const h=`gallery/${n}`;o=await bT(t,h)}const c=[...s,...o],d={titleEn:e.titleEn||"",titleMr:e.titleMr||"",descriptionEn:e.descriptionEn||"",descriptionMr:e.descriptionMr||"",date:xt.fromDate(new Date(e.date)),images:c,youtubeLink:e.youtubeLink||"",updatedAt:Qt()};return await Go(a,d),{id:n,...d,date:new Date(e.date),updatedAt:new Date}}catch(a){throw console.error("Error updating program:",a),new Error("Failed to update gallery program")}},gz=async n=>{try{const e=await NT(n);e.images&&e.images.length>0&&await Promise.all(e.images.map(t=>Fc(t).catch(s=>{console.warn("Failed to delete image:",t,s)}))),await Uo(Ft(Je,$t.gallery(),n))}catch(e){throw console.error("Error deleting program:",e),new Error("Failed to delete gallery program")}},l1=n=>{if(!n)return null;n=n.trim();const e=[/(?:youtube\.com\/watch\?v=)([^&\s]+)/,/(?:youtube\.com\/embed\/)([^?&\s]+)/,/(?:youtube\.com\/v\/)([^?&\s]+)/,/(?:youtu\.be\/)([^?&\s]+)/,/(?:youtube\.com\/watch\?.*&v=)([^&\s]+)/];for(const t of e){const s=n.match(t);if(s&&s[1])return s[1]}return null},pz=n=>`https://www.youtube.com/embed/${n}?rel=0&modestbranding=1`,xz=(n,e="hqdefault")=>`https://img.youtube.com/vi/${n}/${e}.jpg`,yz=()=>{const{language:n}=ns(),[e,t]=W.useState([]),[s,a]=W.useState(!0),[o,c]=W.useState(null),[d,h]=W.useState(0),[f,g]=W.useState(0);W.useEffect(()=>{p()},[]);const p=async()=>{try{a(!0);const z=(await pw()).sort((se,ae)=>new Date(ae.date)-new Date(se.date));t(z)}catch(M){console.error("Error loading gallery programs:",M),t([])}finally{a(!1)}},v=M=>new Date(M).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),b=(M,z)=>{c(M),h(z),g(0)},T=()=>{c(null),g(0)},E=()=>{if(!o)return;const M=S(o),z=f===0?M-1:f-1;g(z)},j=()=>{if(!o)return;const M=S(o),z=f===M-1?0:f+1;g(z)},S=M=>{const z=M.images&&M.images.length>0?M.images.length:0,se=M.youtubeLink&&l1(M.youtubeLink)?1:0;return z+se},L=(M,z)=>{if(!M)return!1;const se=M.images&&M.images.length>0?M.images.length:0;return z>=se};return W.useEffect(()=>{const M=z=>{if(!o)return;const se=S(o);z.key==="ArrowLeft"&&se>1&&E(),z.key==="ArrowRight"&&se>1&&j(),z.key==="Escape"&&T()};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[o,d,f]),r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("section",{className:"relative bg-gradient-to-br from-orange-600 via-white to-green-600 py-20",children:[r.jsx("div",{className:"absolute inset-0 bg-white/85 backdrop-blur-sm"}),r.jsx("div",{className:"container-custom relative z-10",children:r.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[r.jsxs("div",{className:"inline-flex items-center gap-3 mb-6 px-6 py-3 bg-gradient-to-r from-orange-600 to-green-600 rounded-full shadow-lg",children:[r.jsx(g4,{className:"text-white",size:32}),r.jsx("span",{className:"text-white font-bold text-xl",children:n==="en"?"Photo Gallery":" "})]}),r.jsx("h1",{className:"text-5xl font-bold mb-6 bg-gradient-to-r from-orange-600 to-green-600 bg-clip-text text-transparent",children:n==="en"?"Visual Chronicles":" "}),r.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:n==="en"?"Capturing moments of progress, celebration, and community spirit in our village":"  ,      "}),r.jsxs("div",{className:"mt-8 flex items-center justify-center gap-8 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-600 rounded-full"}),r.jsx("span",{children:n==="en"?"Events & Programs":"  "})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full"}),r.jsx("span",{children:n==="en"?"Development Activities":" "})]})]})]})})]}),r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(Hr,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:n==="en"?"Programs & Events":"  "}),r.jsx("p",{className:"text-gray-600",children:n==="en"?"Browse through our collection of memorable moments":"    "})]}),s?r.jsxs("div",{className:"flex flex-col justify-center items-center py-16",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-orange-600 mb-4"}),r.jsx("p",{className:"text-gray-600 font-semibold",children:n==="en"?"Loading gallery...":"   ..."})]}):e.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((M,z)=>{const se=M.youtubeLink?l1(M.youtubeLink):null,ae=se!==null,G=M.images&&M.images.length>0,D=ae?xz(se,"hqdefault"):G?M.images[0]:"https://via.placeholder.com/400x300?text=No+Media",I=(G?M.images.length:0)+(ae?1:0);return r.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl overflow-hidden cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-2xl border-t-4 border-orange-600",onClick:()=>b(M,z),children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),r.jsxs("div",{className:"relative h-64 overflow-hidden bg-gradient-to-br from-orange-100 to-green-100",children:[r.jsx("img",{src:D,alt:n==="en"?M.titleEn:M.titleMr,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:F=>{F.target.src="https://via.placeholder.com/400x300?text=No+Media"}}),ae&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:r.jsx("div",{className:"w-20 h-20 bg-red-600/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-2xl transform transition-transform group-hover:scale-110",children:r.jsx("div",{className:"w-0 h-0 border-t-8 border-t-transparent border-l-12 border-l-white border-b-8 border-b-transparent ml-1"})})}),I>1&&r.jsx("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-orange-600 to-green-600 text-white px-4 py-2 rounded-full text-sm font-bold flex items-center gap-2 shadow-lg",children:G&&ae?r.jsxs(r.Fragment,{children:[r.jsx(Hr,{size:16}),r.jsx("span",{children:M.images.length}),r.jsx(S2,{size:16}),r.jsx("span",{children:"1"})]}):G?r.jsxs(r.Fragment,{children:[r.jsx(Hr,{size:16}),r.jsxs("span",{children:[M.images.length," ",n==="en"?"Photos":""]})]}):null}),r.jsx("div",{className:"absolute top-4 left-4 w-12 h-12 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center text-blue-900 font-bold text-lg shadow-lg",children:z+1}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center",children:r.jsxs("div",{className:"text-white text-center p-6 transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:[r.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(yi,{size:32})}),r.jsx("p",{className:"font-bold text-lg",children:n==="en"?"View Gallery":" "}),I>0&&r.jsxs("p",{className:"text-sm text-white/80 mt-1",children:[G&&`${M.images.length} ${n==="en"?"photos":""}`,G&&ae&&" + ",ae&&`1 ${n==="en"?"video":""}`]})]})})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("h3",{className:"font-bold text-xl text-blue-900 mb-2 line-clamp-2 flex-1 group-hover:text-orange-600 transition-colors",children:n==="en"?M.titleEn:M.titleMr||M.titleEn}),r.jsx(Us,{className:"text-orange-500 flex-shrink-0 ml-2",size:20})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed",children:n==="en"?M.descriptionEn:M.descriptionMr||M.descriptionEn}),r.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-orange-50 to-green-50 px-4 py-2 rounded-lg border border-orange-200",children:[r.jsx(es,{size:16,className:"text-orange-600"}),r.jsx("span",{className:"text-sm font-semibold text-gray-700",children:v(M.date)})]})]})]},M.id)})}):r.jsxs("div",{className:"text-center py-16 bg-gradient-to-br from-orange-50 to-green-50 rounded-2xl border-2 border-dashed border-orange-300",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-orange-100 to-green-100 rounded-full mb-6",children:r.jsx(Hr,{size:48,className:"text-orange-600"})}),r.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-3",children:n==="en"?"No Photos Available":"   "}),r.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:n==="en"?"Photos and programs will be displayed here once they are uploaded by the admin.":"         ."})]})]})}),o&&r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-hidden",onClick:T,children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/95 via-blue-900/80 to-black/95 backdrop-blur-sm"}),r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-orange-600/10 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-green-600/10 rounded-full blur-3xl"}),r.jsxs("div",{className:"relative max-w-7xl w-full max-h-[95vh] flex flex-col z-10",onClick:M=>M.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 bg-white/10 backdrop-blur-md rounded-2xl px-6 py-4 border border-white/20",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(g4,{size:24,className:"text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-white font-bold text-xl",children:n==="en"?"Photo Gallery":" "}),r.jsx("p",{className:"text-white/70 text-sm",children:n==="en"?o.titleEn:o.titleMr||o.titleEn})]})]}),r.jsx("button",{onClick:T,className:"w-12 h-12 bg-white/10 hover:bg-red-600 backdrop-blur-sm text-white rounded-full flex items-center justify-center transition-all shadow-lg hover:shadow-red-500/50 hover:scale-110","aria-label":"Close",children:r.jsx(Vs,{size:24})})]}),S(o)>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:M=>{M.stopPropagation(),E()},className:"absolute left-4 top-1/2 -translate-y-1/2 w-14 h-14 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 backdrop-blur-sm text-white rounded-full flex items-center justify-center transition-all z-20 shadow-xl hover:scale-110","aria-label":"Previous Media",children:r.jsx(oT,{size:32})}),r.jsx("button",{onClick:M=>{M.stopPropagation(),j()},className:"absolute right-4 top-1/2 -translate-y-1/2 w-14 h-14 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 backdrop-blur-sm text-white rounded-full flex items-center justify-center transition-all z-20 shadow-xl hover:scale-110","aria-label":"Next Media",children:r.jsx(xp,{size:32})})]}),r.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-black/50 to-blue-900/30 backdrop-blur-md rounded-2xl mb-4 p-8 border border-white/20 shadow-2xl overflow-hidden",children:r.jsx("div",{className:"relative w-full",children:L(o,f)?r.jsxs("div",{className:"w-full max-w-5xl mx-auto",children:[r.jsxs("div",{className:"relative pb-[56.25%]",children:[" ",r.jsx("iframe",{src:pz(l1(o.youtubeLink)),title:`${n==="en"?o.titleEn:o.titleMr} - YouTube Video`,className:"absolute top-0 left-0 w-full h-full rounded-xl shadow-2xl",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]}),r.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-red-600 to-red-700 text-white px-5 py-2 rounded-full font-bold text-lg shadow-xl flex items-center gap-2",children:[r.jsx(S2,{size:20}),r.jsx("span",{children:n==="en"?"YouTube Video":"YouTube "})]})]}):r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("img",{src:o.images[f],alt:`${n==="en"?o.titleEn:o.titleMr} - Image ${f+1}`,className:"max-w-full max-h-[60vh] object-contain rounded-xl shadow-2xl",onError:M=>{M.target.src="https://via.placeholder.com/800x600?text=No+Image"}}),o.images&&o.images.length>0&&r.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-orange-600 to-green-600 text-white px-5 py-2 rounded-full font-bold text-lg shadow-xl flex items-center gap-2",children:[r.jsx(Hr,{size:20}),r.jsxs("span",{children:[f+1," / ",o.images.length]})]})]})})}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl p-6 text-white border border-white/20 shadow-2xl",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600/20 to-green-600/20 h-1 rounded-full mb-6"}),r.jsx("div",{className:"flex justify-between items-start mb-6",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(Us,{size:20,className:"text-white"})}),r.jsx("h3",{className:"text-2xl font-bold text-white",children:n==="en"?o.titleEn:o.titleMr||o.titleEn})]}),r.jsx("p",{className:"text-white/80 mb-4 leading-relaxed pl-13",children:n==="en"?o.descriptionEn:o.descriptionMr||o.descriptionEn}),r.jsxs("div",{className:"flex items-center gap-3 bg-white/10 backdrop-blur-sm px-4 py-3 rounded-xl border border-white/20 w-fit",children:[r.jsx(es,{size:20,className:"text-orange-400"}),r.jsx("span",{className:"font-semibold",children:v(o.date)})]})]})}),o.images.length>1&&r.jsxs("div",{className:"border-t border-white/20 pt-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center",children:r.jsx(Hr,{size:16,className:"text-white"})}),r.jsx("h4",{className:"font-bold text-white",children:n==="en"?"All Photos":" "}),r.jsxs("span",{className:"text-white/60 text-sm",children:["(",o.images.length,")"]})]}),r.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-orange-600 scrollbar-track-white/10",children:o.images.map((M,z)=>r.jsxs("button",{onClick:se=>{se.stopPropagation(),g(z)},className:`relative flex-shrink-0 w-24 h-24 rounded-xl overflow-hidden transition-all group ${z===f?"ring-4 ring-orange-500 scale-110 shadow-xl shadow-orange-500/50":"ring-2 ring-white/30 hover:ring-white/60 hover:scale-105"}`,children:[r.jsx("img",{src:M,alt:`Thumbnail ${z+1}`,className:"w-full h-full object-cover",onError:se=>{se.target.src="https://via.placeholder.com/80x80?text=No+Image"}}),z===f&&r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-orange-600/50 to-transparent flex items-end justify-center pb-1",children:r.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-lg",children:r.jsx(yi,{size:14,className:"text-orange-600"})})}),r.jsx("div",{className:"absolute top-1 right-1 w-6 h-6 bg-black/70 backdrop-blur-sm rounded-full flex items-center justify-center text-white text-xs font-bold",children:z+1})]},z))})]})]}),r.jsxs("div",{className:"mt-3 flex items-center justify-center gap-6 text-white/50 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("kbd",{className:"px-2 py-1 bg-white/10 rounded border border-white/20",children:""}),r.jsx("span",{children:n==="en"?"Previous":""})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("kbd",{className:"px-2 py-1 bg-white/10 rounded border border-white/20",children:""}),r.jsx("span",{children:n==="en"?"Next":""})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("kbd",{className:"px-2 py-1 bg-white/10 rounded border border-white/20",children:"ESC"}),r.jsx("span",{children:n==="en"?"Close":" "})]})]})]})]})]})},jT=Ht(Je,$t.financials()),_T=async()=>{try{const n=Ts(jT,ic("transactionDate","desc")),e=await wr(n),t=[];return e.forEach(s=>{const a=s.data();t.push({id:s.id,...a,transactionDate:a.transactionDate?.toDate?.()?.toISOString?.()||a.transactionDate,createdAt:a.createdAt?.toDate?.()?.toISOString?.()||a.createdAt,updatedAt:a.updatedAt?.toDate?.()?.toISOString?.()||a.updatedAt})}),t}catch(n){throw console.error("Error fetching financial records:",n),new Error("Failed to fetch financial records")}},bz=async n=>{try{const e=Ft(Je,$t.financials(),n),t=await ri(e);if(t.exists()){const s=t.data();return{id:t.id,...s,transactionDate:s.transactionDate?.toDate?.()?.toISOString?.()||s.transactionDate,createdAt:s.createdAt?.toDate?.()?.toISOString?.()||s.createdAt,updatedAt:s.updatedAt?.toDate?.()?.toISOString?.()||s.updatedAt}}else throw new Error("Record not found")}catch(e){throw console.error("Error fetching record:",e),new Error("Failed to fetch record")}},vz=async n=>{try{if(!n.type||!n.category||!n.amount||!n.transactionDate)throw new Error("Missing required fields");const e=n.transactionDate instanceof Date?xt.fromDate(n.transactionDate):xt.fromDate(new Date(n.transactionDate)),t={type:n.type,category:n.category,subcategory:n.subcategory||"",subcategoryMr:n.subcategoryMr||"",amount:parseFloat(n.amount),description:n.description||"",descriptionMr:n.descriptionMr||"",transactionDate:e,paymentMode:n.paymentMode||"CASH",referenceNumber:n.referenceNumber||"",receivedFrom:n.receivedFrom||"",receivedFromMr:n.receivedFromMr||"",paidTo:n.paidTo||"",paidToMr:n.paidToMr||"",attachment:n.attachment||null,createdAt:xt.now(),updatedAt:xt.now()},s=await Ns(jT,t);return console.log("Financial record created with ID:",s.id),s.id}catch(e){throw console.error("Error creating financial record:",e),new Error("Failed to create financial record")}},wz=async(n,e)=>{try{const t=Ft(Je,$t.financials(),n);let s=e.transactionDate;s&&!(s instanceof xt)&&(s=s instanceof Date?xt.fromDate(s):xt.fromDate(new Date(s)));const a={...e,...s&&{transactionDate:s},...e.amount&&{amount:parseFloat(e.amount)},updatedAt:xt.now()};Object.keys(a).forEach(o=>a[o]===void 0&&delete a[o]),await Go(t,a),console.log("Financial record updated:",n)}catch(t){throw console.error("Error updating financial record:",t),new Error("Failed to update financial record")}},Nz=async n=>{try{const e=Ft(Je,$t.financials(),n);await Uo(e),console.log("Financial record deleted:",n)}catch(e){throw console.error("Error deleting financial record:",e),new Error("Failed to delete financial record")}},jz=()=>{const{t:n,language:e}=ns(),[t,s]=W.useState([]),[a,o]=W.useState("ALL"),[c,d]=W.useState("ALL"),[h,f]=W.useState(!0);W.useEffect(()=>{(async()=>{try{f(!0);const j=await _T();s(j)}catch(j){console.error("Error loading transactions:",j),s([])}finally{f(!1)}})()},[]);const g={totalIncome:t.filter(E=>E.type==="INCOME").reduce((E,j)=>E+j.amount,0),totalExpense:t.filter(E=>E.type==="EXPENSE").reduce((E,j)=>E+j.amount,0),balance:0,transactionCount:t.length};g.balance=g.totalIncome-g.totalExpense;const p=["ALL",...new Set(t.map(E=>new Date(E.transactionDate).getFullYear()))],v=t.filter(E=>{const j=a==="ALL"||E.type===a,S=c==="ALL"||new Date(E.transactionDate).getFullYear().toString()===c;return j&&S}),b=E=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(E),T=E=>new Date(E).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"});return h?r.jsxs("div",{children:[r.jsx("section",{className:"bg-gradient-to-r from-[#ff6b00] to-[#ff8533] text-white py-16",children:r.jsxs("div",{className:"container-custom",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:e==="en"?"Financial Transparency":" "}),r.jsx("p",{className:"text-xl text-white/90",children:e==="en"?"Complete transparency of Gram Panchayat income and expenditure":"     "})]})}),r.jsx("div",{className:"flex justify-center items-center py-16",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#ff6b00]"})})]}):r.jsxs("div",{children:[r.jsx("section",{className:"bg-gradient-to-r from-[#ff6b00] to-[#ff8533] text-white py-16",children:r.jsxs("div",{className:"container-custom",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:e==="en"?"Financial Transparency":" "}),r.jsx("p",{className:"text-xl text-white/90",children:e==="en"?"Complete transparency of Gram Panchayat income and expenditure":"     "})]})}),r.jsx("section",{className:"py-12 bg-gray-50",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-green-300 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(Yu,{className:"text-green-600",size:24})}),r.jsx("span",{className:"text-green-700 font-semibold text-sm",children:e==="en"?"Total Income":" "})]}),r.jsx("div",{className:"text-3xl font-bold text-green-800",children:b(g.totalIncome)}),r.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[t.filter(E=>E.type==="INCOME").length," ",e==="en"?"transactions":""]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-red-300 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:r.jsx(jg,{className:"text-red-600",size:24})}),r.jsx("span",{className:"text-red-700 font-semibold text-sm",children:e==="en"?"Total Expense":" "})]}),r.jsx("div",{className:"text-3xl font-bold text-red-800",children:b(g.totalExpense)}),r.jsxs("div",{className:"text-sm text-red-600 mt-1",children:[t.filter(E=>E.type==="EXPENSE").length," ",e==="en"?"transactions":""]})]}),r.jsxs("div",{className:`bg-white p-6 rounded-xl border-2 ${g.balance>=0?"border-blue-300":"border-orange-300"} shadow-lg`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:`p-3 ${g.balance>=0?"bg-blue-100":"bg-orange-100"} rounded-lg`,children:r.jsx(E2,{className:`${g.balance>=0?"text-blue-600":"text-orange-600"}`,size:24})}),r.jsx("span",{className:`${g.balance>=0?"text-blue-700":"text-orange-700"} font-semibold text-sm`,children:e==="en"?"Balance":""})]}),r.jsx("div",{className:`text-3xl font-bold ${g.balance>=0?"text-blue-800":"text-orange-800"}`,children:b(g.balance)}),r.jsx("div",{className:`text-sm ${g.balance>=0?"text-blue-600":"text-orange-600"} mt-1`,children:g.balance>=0?e==="en"?"Surplus":"":e==="en"?"Deficit":""})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-purple-300 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(hr,{className:"text-purple-600",size:24})}),r.jsx("span",{className:"text-purple-700 font-semibold text-sm",children:e==="en"?"Total":""})]}),r.jsx("div",{className:"text-3xl font-bold text-purple-800",children:g.transactionCount}),r.jsx("div",{className:"text-sm text-purple-600 mt-1",children:e==="en"?"Transactions":""})]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6 border-2 border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(wy,{size:20,className:"text-gray-500"}),r.jsxs("select",{value:a,onChange:E=>o(E.target.value),className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:[r.jsx("option",{value:"ALL",children:e==="en"?"All Types":" "}),r.jsx("option",{value:"INCOME",children:e==="en"?"Income":""}),r.jsx("option",{value:"EXPENSE",children:e==="en"?"Expense":""})]}),r.jsx("select",{value:c,onChange:E=>d(E.target.value),className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:p.map(E=>r.jsx("option",{value:E,children:E==="ALL"?e==="en"?"All Years":" ":E},E))})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-2 border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#138808] to-[#1aa910] text-white px-6 py-4",children:r.jsx("h2",{className:"text-2xl font-bold",children:e==="en"?"Recent Transactions":" "})}),v.length>0?r.jsx("div",{className:"divide-y divide-gray-200",children:v.map(E=>r.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:`p-2 rounded-lg ${E.type==="INCOME"?"bg-green-100":"bg-red-100"}`,children:E.type==="INCOME"?r.jsx(Yu,{className:`${E.type==="INCOME"?"text-green-600":"text-red-600"}`,size:20}):r.jsx(jg,{className:"text-red-600",size:20})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg text-gray-800",children:e==="en"?E.subcategory:E.subcategoryMr}),r.jsx("p",{className:"text-sm text-gray-600",children:e==="en"?E.description:E.descriptionMr})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"text-gray-500",children:[e==="en"?"Date":"",":"]}),r.jsxs("div",{className:"flex items-center gap-1 text-gray-700 font-semibold",children:[r.jsx(es,{size:14}),T(E.transactionDate)]})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-gray-500",children:[E.type==="INCOME"?e==="en"?"Received From":" ":e==="en"?"Paid To":" ",":"]}),r.jsx("div",{className:"text-gray-700 font-semibold",children:E.type==="INCOME"?e==="en"?E.receivedFrom:E.receivedFromMr:e==="en"?E.paidTo:E.paidToMr})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-gray-500",children:[e==="en"?"Payment Mode":" ",":"]}),r.jsx("div",{className:"text-gray-700 font-semibold",children:E.paymentMode.replace("_"," ")})]})]}),E.referenceNumber&&r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[e==="en"?"Ref":"",": ",E.referenceNumber]})]}),r.jsxs("div",{className:"ml-6 text-right",children:[r.jsxs("div",{className:`text-2xl font-bold ${E.type==="INCOME"?"text-green-600":"text-red-600"}`,children:[E.type==="INCOME"?"+":"-"," ",b(E.amount)]}),r.jsx("span",{className:`inline-block mt-2 px-3 py-1 rounded-full text-xs font-semibold ${E.type==="INCOME"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:E.type==="INCOME"?e==="en"?"Income":"":e==="en"?"Expense":""})]})]})},E.id))}):r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(hr,{size:64,className:"mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg",children:e==="en"?"No transactions available yet":"    "}),r.jsx("p",{className:"text-gray-500 text-sm mt-2",children:e==="en"?"Financial data will be displayed here once transactions are added by the admin":"        "})]})]})]})})]})},xw=async()=>{try{const n=Ht(Je,$t.notices()),e=Ts(n,ic("startDate","desc")),t=await wr(e),s=[];return t.forEach(a=>{s.push({id:a.id,...a.data()})}),console.log(`Loaded ${s.length} notices from Firebase`),s}catch(n){throw console.error("Error loading notices:",n),n}},_z=async()=>{try{const n=await xw(),e=new Date;e.setHours(0,0,0,0);const t=n.filter(s=>{const a=new Date(s.startDate),o=new Date(s.endDate);return a<=e&&o>=e});return console.log(`Found ${t.length} active notices`),t}catch(n){throw console.error("Error loading active notices:",n),n}},Sz=async n=>{try{const e=Ft(Je,$t.notices(),n),t=await ri(e);if(t.exists())return{id:t.id,...t.data()};throw new Error("Notice not found")}catch(e){throw console.error("Error loading notice:",e),e}},Ez=async n=>{try{const e=Ht(Je,$t.notices()),t={titleEn:n.titleEn||"",titleMr:n.titleMr||"",type:n.type||"ANNOUNCEMENT",descriptionEn:n.descriptionEn||"",descriptionMr:n.descriptionMr||"",startDate:n.startDate,endDate:n.endDate,showOnHome:n.showOnHome||!1,createdAt:Qt(),updatedAt:Qt()},s=await Ns(e,t);return console.log("Notice created with ID:",s.id),s.id}catch(e){throw console.error("Error creating notice:",e),e}},Az=async(n,e)=>{try{const t=Ft(Je,$t.notices(),n),s={titleEn:e.titleEn||"",titleMr:e.titleMr||"",type:e.type||"ANNOUNCEMENT",descriptionEn:e.descriptionEn||"",descriptionMr:e.descriptionMr||"",startDate:e.startDate,endDate:e.endDate,showOnHome:e.showOnHome||!1,updatedAt:Qt()};await Go(t,s),console.log("Notice updated:",n)}catch(t){throw console.error("Error updating notice:",t),t}},Tz=async n=>{try{const e=Ft(Je,$t.notices(),n);await Uo(e),console.log("Notice deleted:",n)}catch(e){throw console.error("Error deleting notice:",e),e}},Cz=()=>{const{language:n}=ns(),[e,t]=W.useState([]),[s,a]=W.useState(!0),[o,c]=W.useState("ALL");W.useEffect(()=>{d()},[]);const d=async()=>{try{a(!0);const E=(await _z()).sort((j,S)=>new Date(S.startDate)-new Date(j.startDate));t(E)}catch(T){console.error("Error loading notices:",T),t([])}finally{a(!1)}},h=e.filter(T=>o==="ALL"||T.type===o),f=T=>new Date(T).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),g=T=>{switch(T){case"MEETING":return r.jsx(qi,{className:"w-5 h-5"});case"TENDER":return r.jsx(hr,{className:"w-5 h-5"});case"ANNOUNCEMENT":return r.jsx(Rx,{className:"w-5 h-5"});default:return r.jsx(hr,{className:"w-5 h-5"})}},p=T=>{switch(T){case"MEETING":return"from-blue-500 to-blue-600";case"TENDER":return"from-green-500 to-green-600";case"ANNOUNCEMENT":return"from-orange-500 to-orange-600";case"EVENT":return"from-purple-500 to-purple-600";case"URGENT":return"from-red-500 to-red-600";default:return"from-gray-500 to-gray-600"}},v=T=>{switch(T){case"MEETING":return"text-blue-700";case"TENDER":return"text-green-700";case"ANNOUNCEMENT":return"text-orange-700";case"EVENT":return"text-purple-700";case"URGENT":return"text-red-700";default:return"text-gray-700"}},b=T=>{const E=new Date(T),S=Math.ceil((E-new Date)/(1e3*60*60*24));return S<=7&&S>=0};return r.jsxs("div",{children:[r.jsxs("section",{className:"relative py-20 overflow-hidden bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-orange-600/20 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-green-600/20 rounded-full blur-3xl animate-pulse delay-700"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white/5 rounded-full blur-2xl"})]}),r.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-orange-600 via-white to-green-600"}),r.jsx("div",{className:"container-custom relative z-10",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-600 to-green-600 rounded-full mb-6 shadow-2xl shadow-orange-500/50 animate-bounce-slow",children:r.jsx(qi,{size:40,className:"text-white"})}),r.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4 tracking-tight",children:n==="en"?"Notices & Announcements":"  "}),r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[r.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-transparent via-orange-500 to-orange-600 rounded-full"}),r.jsx(Us,{className:"text-orange-400",size:24}),r.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-green-600 via-green-500 to-transparent rounded-full"})]}),r.jsx("p",{className:"text-xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:n==="en"?"Stay updated with important notices, meetings, tenders, and announcements":" , ,     "}),r.jsxs("div",{className:"flex items-center justify-center gap-8 mt-8 text-white/60",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm",children:n==="en"?"Official":""})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse delay-300"}),r.jsx("span",{className:"text-sm",children:n==="en"?"Verified":""})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse delay-700"}),r.jsx("span",{className:"text-sm",children:n==="en"?"Updated":""})]})]})]})})]}),r.jsx("section",{className:"py-8 bg-gradient-to-br from-orange-50 via-white to-green-50",children:r.jsx("div",{className:"container-custom",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-t-4 border-orange-600 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(wy,{size:20,className:"text-white"})}),r.jsx("label",{className:"font-bold text-blue-900 text-lg",children:n==="en"?"Filter by Type":"  "})]}),r.jsxs("select",{value:o,onChange:T=>c(T.target.value),className:"flex-1 min-w-[200px] px-5 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-600 focus:ring-2 focus:ring-orange-200 bg-gradient-to-r from-orange-50 to-green-50 font-semibold text-gray-700 transition-all hover:border-orange-500",children:[r.jsx("option",{value:"ALL",children:n==="en"?" All Types":"  "}),r.jsx("option",{value:"MEETING",children:" Meeting"}),r.jsx("option",{value:"TENDER",children:" Tender"}),r.jsx("option",{value:"ANNOUNCEMENT",children:" Announcement"}),r.jsx("option",{value:"EVENT",children:" Event"}),r.jsx("option",{value:"URGENT",children:" Urgent"}),r.jsx("option",{value:"OTHER",children:" Other"})]}),o!=="ALL"&&r.jsx("button",{onClick:()=>c("ALL"),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg text-gray-700 font-semibold transition-all",children:n==="en"?"Clear Filter":"  "})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-semibold text-orange-600",children:h.length})," ",n==="en"?o==="ALL"?"active notices found":`${o.toLowerCase()} notices found`:o==="ALL"?"  ":`${o.toLowerCase()}  `]})})]})]})})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container-custom",children:[s?r.jsxs("div",{className:"flex flex-col justify-center items-center py-16",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-orange-600 mb-4"}),r.jsx("p",{className:"text-gray-600 font-semibold",children:n==="en"?"Loading notices...":"   ..."})]}):h.length>0?r.jsx("div",{className:"space-y-6",children:h.map((T,E)=>r.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-orange-600 transform hover:scale-[1.02]",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),r.jsx("div",{className:`bg-gradient-to-r ${p(T.type)} p-6`,children:r.jsx("div",{className:"flex items-start justify-between gap-4",children:r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:E+1}),r.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-white/90 rounded-full flex items-center justify-center shadow-lg",children:r.jsx("div",{className:`${v(T.type)}`,children:g(T.type)})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[r.jsx("span",{className:`px-4 py-1.5 rounded-full text-sm font-bold bg-white/95 ${v(T.type)} shadow-md`,children:T.type}),b(T.endDate)&&r.jsxs("span",{className:"px-4 py-1.5 rounded-full text-sm font-bold bg-red-100 text-red-700 flex items-center gap-2 shadow-md animate-pulse",children:[r.jsx(dw,{size:16}),n==="en"?"Expiring Soon":"   "]})]}),r.jsx("h2",{className:"font-bold text-white text-2xl mb-2 leading-tight",children:n==="en"?T.titleEn:T.titleMr||T.titleEn}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-white text-sm font-semibold",children:[r.jsx(es,{size:16}),r.jsx("span",{children:f(T.startDate)})]}),r.jsx(xp,{size:16,className:"text-white/60"}),r.jsxs("div",{className:"flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-white text-sm font-semibold",children:[r.jsx(es,{size:16}),r.jsx("span",{children:f(T.endDate)})]})]})]})]})})}),r.jsxs("div",{className:"p-8 bg-gradient-to-br from-gray-50 to-white",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center mt-1",children:r.jsx(hr,{size:16,className:"text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-blue-900 text-lg mb-3",children:n==="en"?"Description":""}),r.jsx("p",{className:"text-gray-700 text-base leading-relaxed",children:n==="en"?T.descriptionEn:T.descriptionMr||T.descriptionEn})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-4 border-l-4 border-green-600 shadow-md hover:shadow-lg transition-all",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(es,{size:20,className:"text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:n==="en"?"Start Date":" "}),r.jsx("p",{className:"font-bold text-gray-800",children:f(T.startDate)})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border-l-4 border-red-600 shadow-md hover:shadow-lg transition-all",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(es,{size:20,className:"text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:n==="en"?"End Date":" "}),r.jsx("p",{className:"font-bold text-gray-800",children:f(T.endDate)})]})]})})]})]})]},T.id))}):r.jsxs("div",{className:"text-center py-16 bg-gradient-to-br from-orange-50 to-green-50 rounded-2xl border-2 border-dashed border-orange-300",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-orange-100 to-green-100 rounded-full mb-6",children:r.jsx(qi,{size:48,className:"text-orange-600"})}),r.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-3",children:n==="en"?"No Active Notices":"   "}),r.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:n==="en"?"There are currently no active notices. Check back later for updates.":"    .   ."})]}),h.length>0&&r.jsxs("div",{className:"mt-12 bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl shadow-xl border-t-4 border-blue-600 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 h-2"}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-full flex items-center justify-center shadow-lg flex-shrink-0",children:r.jsx(Qn,{size:24,className:"text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-blue-900 text-2xl mb-2",children:n==="en"?"Important Information":" "}),r.jsx("p",{className:"text-blue-700 text-sm",children:n==="en"?"Please read the following guidelines carefully":"     "})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-3 bg-white/50 backdrop-blur-sm rounded-xl p-4",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"1"})}),r.jsx("p",{className:"text-blue-900 font-medium",children:n==="en"?"Please check the start and end dates for each notice carefully":"        "})]}),r.jsxs("div",{className:"flex items-start gap-3 bg-white/50 backdrop-blur-sm rounded-xl p-4",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"2"})}),r.jsx("p",{className:"text-blue-900 font-medium",children:n==="en"?"For tender submissions, contact the Gram Panchayat office before the deadline":" ,      "})]}),r.jsxs("div",{className:"flex items-start gap-3 bg-white/50 backdrop-blur-sm rounded-xl p-4",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"3"})}),r.jsx("p",{className:"text-blue-900 font-medium",children:n==="en"?"Meeting attendance is mandatory for all members and important for village development":"          "})]})]})]})]})]})})]})},Iz=()=>{const{t:n,getContent:e}=ns(),{settings:t}=gu(),[s,a]=W.useState({name:"",phone:"",email:"",category:"QUERY",subject:"",message:""}),[o,c]=W.useState(!1),d=f=>{a({...s,[f.target.name]:f.target.value})},h=f=>{f.preventDefault(),console.log("Form submitted:",s),c(!0),setTimeout(()=>{c(!1),a({name:"",phone:"",email:"",category:"QUERY",subject:"",message:""})},3e3)};return r.jsxs("div",{children:[r.jsxs("section",{className:"relative py-20 overflow-hidden bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-orange-600/20 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-green-600/20 rounded-full blur-3xl animate-pulse delay-700"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white/5 rounded-full blur-2xl"})]}),r.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-orange-600 via-white to-green-600"}),r.jsx("div",{className:"container-custom relative z-10",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-600 to-green-600 rounded-full mb-6 shadow-2xl shadow-orange-500/50 animate-bounce-slow",children:r.jsx(Cf,{size:40,className:"text-white"})}),r.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4 tracking-tight",children:n("nav.contact")}),r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[r.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-transparent via-orange-500 to-orange-600 rounded-full"}),r.jsx(Us,{className:"text-orange-400",size:24}),r.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-green-600 via-green-500 to-transparent rounded-full"})]}),r.jsx("p",{className:"text-xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Get in touch with us or submit your grievances"}),r.jsxs("div",{className:"flex items-center justify-center gap-8 mt-8 text-white/60",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm",children:"24/7 Available"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse delay-300"}),r.jsx("span",{className:"text-sm",children:"Quick Response"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse delay-700"}),r.jsx("span",{className:"text-sm",children:"Verified"})]})]})]})})]}),r.jsx("section",{className:"py-16 bg-gradient-to-br from-orange-50 via-white to-green-50",children:r.jsx("div",{className:"container-custom",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(Do,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:"Contact Information"}),r.jsx("p",{className:"text-gray-600",children:"Reach out to us through any of the following channels"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-orange-600 transform hover:scale-105",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(Do,{className:"text-white",size:28})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-xl text-blue-900 mb-2",children:"Phone"}),r.jsxs("a",{href:`tel:${t?.contact?.phone||""}`,className:"text-orange-600 hover:text-orange-700 text-lg font-semibold flex items-center gap-2 group-hover:gap-3 transition-all",children:[t?.contact?.phone||"Not available",r.jsx(Us,{size:18,className:"group-hover:animate-spin"})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Available during office hours"})]})]})})]}),r.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-green-600 transform hover:scale-105",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-600 to-orange-600 h-2"}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-br from-green-600 to-orange-600 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(Bo,{className:"text-white",size:28})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-xl text-blue-900 mb-2",children:"Email"}),r.jsxs("a",{href:`mailto:${t?.contact?.email||""}`,className:"text-green-600 hover:text-green-700 text-lg font-semibold flex items-center gap-2 group-hover:gap-3 transition-all break-all",children:[t?.contact?.email||"Not available",r.jsx(Us,{size:18,className:"group-hover:animate-spin flex-shrink-0"})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"We respond within 24 hours"})]})]})})]}),r.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-blue-600 transform hover:scale-105",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 h-2"}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-700 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(xl,{className:"text-white",size:28})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-xl text-blue-900 mb-2",children:"Address"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:e(t?.contact?.address)||"Not available"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-2 flex items-center gap-2",children:[r.jsx($g,{size:16}),e(t?.officeTimings)||"Mon - Fri: 10:00 AM - 5:00 PM"]})]})]})})]})]}),r.jsx("div",{className:"mt-8",children:t?.googleMapsLink?r.jsx("div",{className:"h-80 bg-white rounded-2xl shadow-xl overflow-hidden border-2 border-orange-300",children:r.jsx("iframe",{src:t.googleMapsLink,width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Gram Panchayat Location"})}):r.jsx("div",{className:"h-64 bg-gradient-to-br from-orange-100 to-green-100 rounded-2xl shadow-xl overflow-hidden border-2 border-dashed border-orange-300 flex items-center justify-center group hover:border-solid transition-all",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white rounded-full mb-3 shadow-lg",children:r.jsx(xl,{size:32,className:"text-orange-600"})}),r.jsx("p",{className:"text-gray-600 font-semibold",children:"Map will be embedded here"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Interactive location map"})]})})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(j4,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:"Send us a Message"}),r.jsx("p",{className:"text-gray-600",children:"Fill out the form below and we'll get back to you soon"})]}),o?r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border-t-4 border-green-600 animate-fade-in",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 h-2"}),r.jsxs("div",{className:"p-12 text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-green-600 to-green-700 rounded-full mb-6 shadow-2xl shadow-green-500/50 animate-bounce",children:r.jsx(Gi,{className:"text-white",size:48})}),r.jsx("h3",{className:"text-3xl font-bold text-blue-900 mb-3",children:"Message Sent Successfully!"}),r.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"We will get back to you soon."}),r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsx("div",{className:"h-1 w-16 bg-gradient-to-r from-orange-600 to-green-600 rounded-full"}),r.jsx(Us,{className:"text-green-600",size:20}),r.jsx("div",{className:"h-1 w-16 bg-gradient-to-r from-green-600 to-orange-600 rounded-full"})]})]})]}):r.jsxs("form",{onSubmit:h,className:"bg-white rounded-2xl shadow-2xl overflow-hidden border-t-4 border-orange-600",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),r.jsxs("div",{className:"p-8 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[r.jsx(em,{size:18,className:"text-orange-600"}),"Name *"]}),r.jsx("input",{type:"text",name:"name",required:!0,value:s.name,onChange:d,placeholder:"Enter your full name",className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-orange-600 focus:ring-2 focus:ring-orange-200 transition-all bg-gradient-to-r from-orange-50/50 to-green-50/50 hover:border-orange-400"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[r.jsx(Do,{size:18,className:"text-green-600"}),"Phone *"]}),r.jsx("input",{type:"tel",name:"phone",required:!0,value:s.phone,onChange:d,placeholder:"Enter your phone number",className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-green-600 focus:ring-2 focus:ring-green-200 transition-all bg-gradient-to-r from-green-50/50 to-orange-50/50 hover:border-green-400"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[r.jsx(Bo,{size:18,className:"text-blue-600"}),"Email"]}),r.jsx("input",{type:"email",name:"email",value:s.email,onChange:d,placeholder:"Enter your email address",className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200 transition-all bg-gradient-to-r from-blue-50/50 to-white hover:border-blue-400"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[r.jsx(Cf,{size:18,className:"text-orange-600"}),"Category *"]}),r.jsxs("select",{name:"category",required:!0,value:s.category,onChange:d,className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-orange-600 focus:ring-2 focus:ring-orange-200 transition-all bg-gradient-to-r from-orange-50/50 to-green-50/50 hover:border-orange-400 font-semibold text-gray-700",children:[r.jsx("option",{value:"QUERY",children:" Query"}),r.jsx("option",{value:"COMPLAINT",children:" Complaint"}),r.jsx("option",{value:"SUGGESTION",children:" Suggestion"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[r.jsx(Us,{size:18,className:"text-green-600"}),"Subject *"]}),r.jsx("input",{type:"text",name:"subject",required:!0,value:s.subject,onChange:d,placeholder:"Enter the subject of your message",className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-green-600 focus:ring-2 focus:ring-green-200 transition-all bg-gradient-to-r from-green-50/50 to-orange-50/50 hover:border-green-400"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[r.jsx(Cf,{size:18,className:"text-blue-600"}),"Message *"]}),r.jsx("textarea",{name:"message",required:!0,rows:"5",value:s.message,onChange:d,placeholder:"Type your message here...",className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200 transition-all bg-gradient-to-br from-blue-50/50 to-white hover:border-blue-400 resize-none"})]}),r.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-600 to-green-600 hover:from-orange-700 hover:to-green-700 text-white font-bold py-4 px-6 rounded-xl flex items-center justify-center gap-3 transition-all transform hover:scale-105 shadow-xl hover:shadow-2xl",children:[r.jsx(j4,{size:24}),r.jsx("span",{className:"text-lg",children:n("common.submit")}),r.jsx(Us,{size:20,className:"animate-pulse"})]}),r.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[r.jsxs("p",{className:"text-sm text-gray-600 text-center",children:[r.jsx("span",{className:"font-semibold text-orange-600",children:"*"})," Required fields"]}),r.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3 text-xs text-gray-500",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{children:"Your information is secure with us"})]})]})]})]})]})]})})})]})},kz=()=>{const n=Ar(),{login:e}=lw(),[t,s]=W.useState({email:"",password:""}),[a,o]=W.useState(""),[c,d]=W.useState(!1),h=g=>{s({...t,[g.target.name]:g.target.value}),o("")},f=async g=>{g.preventDefault(),d(!0),o("");const p=await e(t);p.success?n("/admin/dashboard"):o(p.error||"Invalid credentials"),d(!1)};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center px-3 sm:px-4 py-6 sm:py-12 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 sm:w-96 h-64 sm:h-96 bg-orange-600/20 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-64 sm:w-96 h-64 sm:h-96 bg-green-600/20 rounded-full blur-3xl animate-pulse delay-700"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 sm:w-96 h-64 sm:h-96 bg-white/5 rounded-full blur-2xl"})]}),r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 sm:h-2 bg-gradient-to-r from-orange-600 via-white to-green-600"}),r.jsxs("div",{className:"max-w-md w-full relative z-10",children:[r.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-2xl overflow-hidden border-t-4 border-orange-600",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-1.5 sm:h-2"}),r.jsxs("div",{className:"text-center pt-8 sm:pt-12 pb-6 sm:pb-8 px-4 sm:px-8 bg-gradient-to-br from-blue-50 to-white",children:[r.jsxs("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-br from-orange-600 to-green-600 rounded-full mb-4 sm:mb-6 shadow-2xl shadow-orange-500/50 animate-bounce-slow",children:[r.jsx(Xl,{className:"text-white",size:32}),r.jsx(Xl,{className:"text-white hidden sm:block",size:48})]}),r.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-blue-900 mb-2 sm:mb-3",children:"Admin Login"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[r.jsx("div",{className:"h-0.5 sm:h-1 w-12 sm:w-16 bg-gradient-to-r from-transparent via-orange-500 to-orange-600 rounded-full"}),r.jsx(Us,{className:"text-orange-400",size:16}),r.jsx(Us,{className:"text-orange-400 hidden sm:block",size:20}),r.jsx("div",{className:"h-0.5 sm:h-1 w-12 sm:w-16 bg-gradient-to-r from-green-600 via-green-500 to-transparent rounded-full"})]}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-semibold",children:"Gram Panchayat Management System"}),r.jsxs("div",{className:"inline-flex items-center gap-2 mt-3 sm:mt-4 px-3 sm:px-4 py-1.5 sm:py-2 bg-white/80 backdrop-blur-sm rounded-full border border-orange-200 shadow-md",children:[r.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-xs sm:text-sm text-gray-700 font-semibold",children:"Secure Access"})]})]}),a&&r.jsx("div",{className:"mx-4 sm:mx-8 mt-6 sm:mt-8",children:r.jsxs("div",{className:"bg-red-50 border-l-4 border-red-600 rounded-lg p-3 sm:p-4 flex items-start gap-2 sm:gap-3 shadow-lg",children:[r.jsx(Qn,{className:"text-red-600 flex-shrink-0 mt-0.5",size:18}),r.jsx(Qn,{className:"text-red-600 flex-shrink-0 mt-0.5 hidden sm:block",size:20}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-red-900 mb-1 text-sm sm:text-base",children:"Login Failed"}),r.jsx("p",{className:"text-red-700 text-xs sm:text-sm",children:a})]})]})}),r.jsxs("form",{onSubmit:f,className:"p-4 sm:p-8 space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold text-blue-900 mb-2",children:[r.jsx(Bo,{size:16,className:"text-orange-600"}),r.jsx(Bo,{size:18,className:"text-orange-600 hidden sm:block"}),"Email Address"]}),r.jsx("input",{type:"email",name:"email",required:!0,value:t.email,onChange:h,className:"w-full px-4 sm:px-5 py-2.5 sm:py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-orange-600 focus:ring-2 focus:ring-orange-200 transition-all bg-gradient-to-r from-orange-50/50 to-green-50/50 hover:border-orange-400 text-gray-900 font-medium text-sm sm:text-base",placeholder:"admin@example.com"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold text-blue-900 mb-2",children:[r.jsx(j2,{size:16,className:"text-green-600"}),r.jsx(j2,{size:18,className:"text-green-600 hidden sm:block"}),"Password"]}),r.jsx("input",{type:"password",name:"password",required:!0,value:t.password,onChange:h,className:"w-full px-4 sm:px-5 py-2.5 sm:py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-green-600 focus:ring-2 focus:ring-green-200 transition-all bg-gradient-to-r from-green-50/50 to-orange-50/50 hover:border-green-400 text-gray-900 font-medium text-sm sm:text-base",placeholder:"Enter your password"})]}),r.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-orange-600 to-green-600 hover:from-orange-700 hover:to-green-700 text-white font-bold py-3 sm:py-4 px-4 sm:px-6 rounded-xl flex items-center justify-center gap-2 sm:gap-3 transition-all transform hover:scale-105 shadow-xl hover:shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[r.jsx(w4,{size:20}),r.jsx(w4,{size:24,className:"hidden sm:block"}),r.jsx("span",{className:"text-base sm:text-lg",children:c?"Logging in...":"Login to Admin Panel"}),!c&&r.jsx(Us,{size:18,className:"animate-pulse sm:hidden"}),!c&&r.jsx(Us,{size:20,className:"animate-pulse hidden sm:block"})]}),c&&r.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 sm:h-5 sm:w-5 border-b-2 border-orange-600"}),r.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Authenticating..."})]})]}),r.jsx("div",{className:"px-4 sm:px-8 pb-4 sm:pb-8",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-xl p-3 sm:p-4 border border-blue-200",children:r.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[r.jsx(Xl,{size:18,className:"text-blue-600 flex-shrink-0 mt-0.5 sm:hidden"}),r.jsx(Xl,{size:20,className:"text-blue-600 flex-shrink-0 mt-0.5 hidden sm:block"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-blue-900 text-xs sm:text-sm mb-1",children:"Authorized Personnel Only"}),r.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 leading-relaxed",children:"This portal is restricted to authorized Gram Panchayat administrators. Unauthorized access is prohibited and may be subject to legal action."})]})]})})})]}),r.jsx("div",{className:"mt-4 sm:mt-6 text-center px-4",children:r.jsxs("div",{className:"inline-flex items-center gap-2 text-white/80 text-xs sm:text-sm",children:[r.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{children:"Government of India Initiative"})]})})]})]})},Rz=()=>{const{t:n}=ns(),[e,t]=W.useState(!0),[s,a]=W.useState({members:0,services:0,schemes:0,activeNotices:0,programs:0,forms:0}),[o,c]=W.useState([]),[d,h]=W.useState([]);W.useEffect(()=>{f()},[]);const f=async()=>{try{t(!0);const[p,v,b,T,E,j]=await Promise.all([uw(),fw(),mw(),xw(),pw(),gw()]);a({members:p?.length||0,services:v?.length||0,schemes:b?.length||0,activeNotices:T?.filter(S=>S.status==="ACTIVE")?.length||0,programs:E?.length||0,forms:j?.length||0}),c(T?.slice(0,3)||[]),h(E?.slice(0,3)||[])}catch(p){console.error("Error loading dashboard data:",p)}finally{t(!1)}},g=[{title:"Total Members",count:s.members,icon:Es,color:"from-orange-500 to-orange-600",link:"/admin/members"},{title:"Services",count:s.services,icon:hr,color:"from-green-600 to-green-700",link:"/admin/services"},{title:"Schemes",count:s.schemes,icon:Qf,color:"from-blue-800 to-blue-900",link:"/admin/schemes"},{title:"Active Notices",count:s.activeNotices,icon:qi,color:"from-purple-500 to-purple-600",link:"/admin/notices"},{title:"Programs",count:s.programs,icon:Hr,color:"from-pink-500 to-pink-600",link:"/admin/gallery"},{title:"Forms",count:s.forms,icon:Vo,color:"from-indigo-500 to-indigo-600",link:"/admin/forms"}];return e?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Admin Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening with your Gram Panchayat."})]}),r.jsxs(pn,{to:"/admin/settings",className:"flex items-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[r.jsx(uT,{size:20}),"Site Settings"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map((p,v)=>r.jsxs(pn,{to:p.link,className:"bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all transform hover:scale-105 overflow-hidden group",children:[r.jsx("div",{className:`bg-gradient-to-br ${p.color} p-6 text-white`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white/80 text-sm font-medium mb-1",children:p.title}),r.jsx("p",{className:"text-4xl font-bold",children:p.count})]}),r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center group-hover:bg-white/30 transition-colors",children:r.jsx(p.icon,{size:32})})]})}),r.jsx("div",{className:"p-4 bg-gray-50",children:r.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:["Manage ",p.title,r.jsx(Yu,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})})]},v))}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(yV,{size:24,className:"text-orange-600"}),"Quick Actions"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs(pn,{to:"/admin/members/new",className:"flex items-center gap-3 p-4 border-2 border-orange-200 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-all group",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center group-hover:bg-orange-200 transition-colors",children:r.jsx(Es,{size:20,className:"text-orange-600"})}),r.jsx("span",{className:"font-semibold text-gray-700",children:"Add Member"})]}),r.jsxs(pn,{to:"/admin/services/new",className:"flex items-center gap-3 p-4 border-2 border-green-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all group",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center group-hover:bg-green-200 transition-colors",children:r.jsx(hr,{size:20,className:"text-green-600"})}),r.jsx("span",{className:"font-semibold text-gray-700",children:"Add Service"})]}),r.jsxs(pn,{to:"/admin/notices/new",className:"flex items-center gap-3 p-4 border-2 border-purple-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-all group",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:r.jsx(qi,{size:20,className:"text-purple-600"})}),r.jsx("span",{className:"font-semibold text-gray-700",children:"Add Notice"})]}),r.jsxs(pn,{to:"/admin/gallery/new",className:"flex items-center gap-3 p-4 border-2 border-pink-200 rounded-lg hover:border-pink-500 hover:bg-pink-50 transition-all group",children:[r.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center group-hover:bg-pink-200 transition-colors",children:r.jsx(Hr,{size:20,className:"text-pink-600"})}),r.jsx("span",{className:"font-semibold text-gray-700",children:"Add Program"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx($U,{size:24,className:"text-blue-600"}),"Content Management"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(pn,{to:"/admin/content/about",className:"flex items-center gap-3 p-4 border-2 border-blue-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all group",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:r.jsx(hr,{size:20,className:"text-blue-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-700",children:"Edit About Page"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Village info, history, vision & mission"})]})]}),r.jsxs(pn,{to:"/admin/content/education",className:"flex items-center gap-3 p-4 border-2 border-indigo-200 rounded-lg hover:border-indigo-500 hover:bg-indigo-50 transition-all group",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center group-hover:bg-indigo-200 transition-colors",children:r.jsx(Hg,{size:20,className:"text-indigo-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-700",children:"Edit Education Page"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Schools, anganwadis & programs"})]})]}),r.jsxs(pn,{to:"/admin/slider",className:"flex items-center gap-3 p-4 border-2 border-orange-200 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-all group",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center group-hover:bg-orange-200 transition-colors",children:r.jsx(Hr,{size:20,className:"text-orange-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-700",children:"Homepage Slider"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Manage rotating banner images"})]})]}),r.jsxs(pn,{to:"/admin/officials",className:"flex items-center gap-3 p-4 border-2 border-green-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all group",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center group-hover:bg-green-200 transition-colors",children:r.jsx(Es,{size:20,className:"text-green-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-700",children:"Government Officials"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Manage ministers & officials"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[r.jsx(qi,{size:24,className:"text-purple-600"}),"Recent Notices"]}),r.jsx(pn,{to:"/admin/notices",className:"text-orange-600 hover:text-orange-700 font-semibold text-sm",children:"View All "})]}),r.jsx("div",{className:"space-y-3",children:o.length>0?o.map(p=>r.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-orange-300 hover:bg-orange-50/50 transition-all",children:r.jsx("div",{className:"flex items-start justify-between gap-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:p.title.en}),r.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:p.description.en}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(es,{size:12}),new Date(p.startDate).toLocaleDateString()]}),r.jsx("span",{className:`px-2 py-1 rounded-full ${p.status==="ACTIVE"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:p.status})]})]})})},p.id)):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No notices yet"})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[r.jsx(Hr,{size:24,className:"text-pink-600"}),"Recent Programs"]}),r.jsx(pn,{to:"/admin/gallery",className:"text-orange-600 hover:text-orange-700 font-semibold text-sm",children:"View All "})]}),r.jsx("div",{className:"space-y-3",children:d.length>0?d.map(p=>r.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-orange-300 hover:bg-orange-50/50 transition-all",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("img",{src:p.images?.[0]||"/placeholder.jpg",alt:p.titleEn||"Program",className:"w-16 h-16 object-cover rounded-lg"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:p.titleEn}),r.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:p.descriptionEn}),r.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx(es,{size:12}),new Date(p.date).toLocaleDateString()]})]})]})},p.id)):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No programs yet"})})]})]})]})},Pz=()=>{const[n,e]=W.useState([]),[t,s]=W.useState(""),[a,o]=W.useState("ALL"),[c,d]=W.useState(!0);W.useEffect(()=>{(async()=>{try{d(!0);const v=await uw();e(v)}catch(v){console.error("Error loading members:",v)}finally{d(!1)}})()},[]);const h=n.filter(p=>{const v=p.name.en.toLowerCase().includes(t.toLowerCase())||p.name.mr.includes(t),b=a==="ALL"||p.type===a;return v&&b}),f=async p=>{if(window.confirm("Are you sure you want to delete this member?"))try{await KV(p),e(n.filter(v=>v.id!==p)),console.log("Member deleted successfully")}catch(v){console.error("Error deleting member:",v),alert("Failed to delete member. Please try again.")}},g=p=>({SARPANCH:"bg-orange-100 text-orange-700",UPSARPANCH:"bg-green-100 text-green-700",MEMBER:"bg-blue-100 text-blue-700",STAFF:"bg-purple-100 text-purple-700"})[p]||"bg-gray-100 text-gray-700";return c?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Members Management"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage Sarpanch, Upsarpanch, Members and Staff"})]}),r.jsxs(pn,{to:"/admin/members/new",className:"flex items-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[r.jsx(ps,{size:20}),"Add Member"]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search members...",value:t,onChange:p=>s(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),r.jsxs("select",{value:a,onChange:p=>o(p.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ALL",children:"All Members"}),r.jsx("option",{value:"SARPANCH",children:"Sarpanch"}),r.jsx("option",{value:"UPSARPANCH",children:"Upsarpanch"}),r.jsx("option",{value:"MEMBER",children:"Members"}),r.jsx("option",{value:"STAFF",children:"Staff"})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.length>0?h.map(p=>r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all",children:[r.jsx("div",{className:"h-48 bg-gradient-to-br from-orange-100 to-green-100 flex items-center justify-center",children:p.photo?r.jsx("img",{src:p.photo,alt:p.name.en,className:"w-full h-full object-cover"}):r.jsx(Nf,{size:80,className:"text-gray-400"})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:p.name.en}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:p.name.mr})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${g(p.type)}`,children:p.type})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:"Designation:"})," ",p.designation.en]}),r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:"Phone:"})," ",p.phone]}),p.termStart&&r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:"Term:"})," ",new Date(p.termStart).getFullYear()," - ",new Date(p.termEnd).getFullYear()]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(pn,{to:`/admin/members/edit/${p.id}`,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:[r.jsx(ou,{size:16}),"Edit"]}),r.jsxs("button",{onClick:()=>f(p.id),className:"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:[r.jsx(ni,{size:16}),"Delete"]})]})]})]},p.id)):r.jsxs("div",{className:"col-span-full text-center py-12",children:[r.jsx(Nf,{size:64,className:"mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"No members found"}),r.jsxs(pn,{to:"/admin/members/new",className:"inline-flex items-center gap-2 mt-4 text-orange-600 hover:text-orange-700 font-semibold",children:[r.jsx(ps,{size:20}),"Add your first member"]})]})})]})},Lz=async n=>{if(!n||n.trim()==="")return"";try{const e=`https://api.mymemory.translated.net/get?q=${encodeURIComponent(n)}&langpair=en|mr`,s=await(await fetch(e)).json();return s.responseStatus===200&&s.responseData?s.responseData.translatedText:(console.error("Translation API error:",s),n)}catch(e){return console.error("Translation error:",e),n}},_n=({label:n,name:e,value:t={en:"",mr:""},onChange:s,required:a=!1,type:o="text",placeholder:c="",rows:d=3,disabled:h=!1})=>{const[f,g]=W.useState(!1),[p,v]=W.useState(!0),[b,T]=W.useState(null),E=o==="textarea",j=M=>{const z=M.target.value;if(s({...t,en:z}),p&&z.trim()){b&&clearTimeout(b);const se=setTimeout(async()=>{g(!0);try{const ae=await Lz(z);s({en:z,mr:ae})}catch(ae){console.error("Translation failed:",ae)}finally{g(!1)}},1500);T(se)}},S=M=>{const z=M.target.value;s({...t,mr:z})};W.useEffect(()=>()=>{b&&clearTimeout(b)},[b]);const L=E?"textarea":"input";return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[n," ",a&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx("input",{type:"checkbox",id:`auto-translate-${e}`,checked:p,onChange:M=>v(M.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),r.jsxs("label",{htmlFor:`auto-translate-${e}`,className:"text-gray-600 flex items-center gap-1",children:[r.jsx(Tf,{size:14}),"Auto-translate to Marathi",f&&r.jsx(RU,{size:14,className:"animate-spin text-primary-600 ml-1"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"English"}),r.jsx(L,{type:E?void 0:o,rows:E?d:void 0,value:t.en||"",onChange:j,placeholder:c||`Enter ${n} in English`,required:a,disabled:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:[" (Marathi)",f&&r.jsx("span",{className:"ml-2 text-primary-600 text-xs",children:"Translating..."})]}),r.jsx(L,{type:E?void 0:o,rows:E?d:void 0,value:t.mr||"",onChange:S,placeholder:`${n}  `,disabled:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"}),p&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Auto-translated. You can edit manually."})]})]})]})},A4=()=>{const n=Ar(),{id:e}=bl(),t=!!e,[s,a]=W.useState({name:{en:"",mr:""},designation:{en:"",mr:""},phone:"",type:"MEMBER",position:0,termStart:"",termEnd:"",photo:""}),[o,c]=W.useState(null),[d,h]=W.useState({}),[f,g]=W.useState(!1),[p,v]=W.useState(!1);W.useEffect(()=>{(async()=>{if(t&&e)try{g(!0);const M=await hw(e);M&&a({name:M.name||{en:"",mr:""},designation:M.designation||{en:"",mr:""},phone:M.phone||"",type:M.type||"MEMBER",position:M.position||0,termStart:M.termStart||"",termEnd:M.termEnd||"",photo:M.photo||""})}catch(M){console.error("Error loading member:",M),alert("Failed to load member. Please try again.")}finally{g(!1)}})()},[t,e]);const b=(L,M)=>{a(z=>({...z,[L]:M})),d[L]&&h(z=>({...z,[L]:""}))},T=L=>{const{name:M,value:z}=L.target;a(se=>({...se,[M]:z})),d[M]&&h(se=>({...se,[M]:""}))},E=()=>{const L={};return s.name.en.trim()||(L.name="Member name is required"),s.designation.en.trim()||(L.designation="Designation is required"),s.phone.trim()?/^[\+]?[0-9]{10,13}$/.test(s.phone.replace(/\s/g,""))||(L.phone="Invalid phone number"):L.phone="Phone number is required",s.type||(L.type="Member type is required"),s.termStart&&s.termEnd&&s.termEnd<s.termStart&&(L.termEnd="End date must be after start date"),L},j=async L=>{L.preventDefault();const M=E();if(Object.keys(M).length>0){h(M);return}v(!0);try{const z={name:s.name,designation:s.designation,phone:s.phone,type:s.type,position:parseInt(s.position)||0,photo:s.photo,...s.termStart&&{termStart:s.termStart},...s.termEnd&&{termEnd:s.termEnd}};t?(await WV(e,z,o),console.log("Member updated successfully")):(await $V(z,o),console.log("Member created successfully")),n("/admin/members")}catch(z){console.error("Error saving member:",z),alert("Failed to save member. Please try again.")}finally{v(!1)}},S=L=>{const M=L.target.files[0];if(M){c(M);const z=new FileReader;z.onloadend=()=>{a(se=>({...se,photo:z.result}))},z.readAsDataURL(M)}};return f?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/admin/members"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(mo,{size:24})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:t?"Edit Member":"Add New Member"}),r.jsx("p",{className:"text-gray-600 mt-1",children:t?"Update member information":"Fill in the details to add a new member"})]})]}),r.jsx("form",{onSubmit:j,className:"bg-white rounded-xl shadow-lg p-8",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Photo"}),r.jsxs("div",{className:"flex items-center gap-6",children:[s.photo?r.jsx("img",{src:s.photo,alt:"Member photo",className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-200"}):r.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center",children:r.jsx(Zf,{size:32,className:"text-gray-400"})}),r.jsxs("div",{children:[r.jsx("input",{type:"file",id:"photo",accept:"image/*",onChange:S,className:"hidden"}),r.jsxs("label",{htmlFor:"photo",className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold cursor-pointer transition-all",children:[r.jsx(Zf,{size:16}),"Choose Photo"]}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Recommended: 400x400px, Max 2MB"})]})]})]}),r.jsxs("div",{children:[r.jsx(_n,{label:"Member Name",name:"name",value:s.name,onChange:L=>b("name",L),required:!0,placeholder:"Enter member name"}),d.name&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.name})]}),r.jsxs("div",{children:[r.jsx(_n,{label:"Designation",name:"designation",value:s.designation,onChange:L=>b("designation",L),required:!0,placeholder:"Enter designation"}),d.designation&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.designation})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",id:"phone",name:"phone",value:s.phone,onChange:T,className:`w-full px-4 py-3 border ${d.phone?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent`,placeholder:"+91 1234567890"}),d.phone&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.phone})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"type",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Member Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{id:"type",name:"type",value:s.type,onChange:T,className:`w-full px-4 py-3 border ${d.type?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent`,children:[r.jsx("option",{value:"SARPANCH",children:"Sarpanch"}),r.jsx("option",{value:"UPSARPANCH",children:"Upsarpanch"}),r.jsx("option",{value:"MEMBER",children:"Member"}),r.jsx("option",{value:"STAFF",children:"Staff"})]}),d.type&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.type})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"position",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Display Order"}),r.jsx("input",{type:"number",id:"position",name:"position",value:s.position,onChange:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"1"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Lower numbers appear first"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"termStart",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Term Start Date",r.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Optional)"})]}),r.jsx("input",{type:"date",id:"termStart",name:"termStart",value:s.termStart,onChange:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"YYYY-MM-DD"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"termEnd",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Term End Date",r.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Optional)"})]}),r.jsx("input",{type:"date",id:"termEnd",name:"termEnd",value:s.termEnd,onChange:T,min:s.termStart,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"YYYY-MM-DD"}),s.termStart&&s.termEnd&&s.termEnd<s.termStart&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:"End date must be after start date"})]})]}),r.jsxs("div",{className:"flex gap-4 pt-6 border-t",children:[r.jsx("button",{type:"button",onClick:()=>n("/admin/members"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-all",children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:p,className:"flex items-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-8 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all disabled:opacity-50",children:[r.jsx(qs,{size:20}),p?"Saving...":t?"Update Member":"Add Member"]})]})]})})]})},Dz=()=>{const[n,e]=W.useState([]),[t,s]=W.useState(""),[a,o]=W.useState("ALL"),[c,d]=W.useState(!0),h=["ALL","Certificate","Tax","License","Registration","Other"];W.useEffect(()=>{(async()=>{try{d(!0);const b=await fw();e(b)}catch(b){console.error("Error loading services:",b)}finally{d(!1)}})()},[]);const f=n.filter(v=>{const b=v.name.en.toLowerCase().includes(t.toLowerCase())||v.name.mr.includes(t),T=a==="ALL"||v.category===a;return b&&T}),g=async v=>{if(window.confirm("Are you sure you want to delete this service?"))try{await ZV(v),e(n.filter(b=>b.id!==v)),console.log("Service deleted successfully")}catch(b){console.error("Error deleting service:",b),alert("Failed to delete service. Please try again.")}},p=v=>({Certificate:"bg-blue-100 text-blue-700",Tax:"bg-green-100 text-green-700",License:"bg-purple-100 text-purple-700",Registration:"bg-orange-100 text-orange-700",Other:"bg-gray-100 text-gray-700"})[v]||"bg-gray-100 text-gray-700";return c?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Services Management"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all services provided by Gram Panchayat"})]}),r.jsxs(pn,{to:"/admin/services/new",className:"flex items-center gap-2 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[r.jsx(ps,{size:20}),"Add Service"]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search services...",value:t,onChange:v=>s(v.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),r.jsx("select",{value:a,onChange:v=>o(v.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:h.map(v=>r.jsx("option",{value:v,children:v==="ALL"?"All Categories":v},v))})]})}),r.jsx("div",{className:"grid grid-cols-1 gap-6",children:f.length>0?f.map(v=>r.jsx("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all overflow-hidden",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center",children:r.jsx(hr,{size:24,className:"text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:v.name.en}),r.jsx("p",{className:"text-gray-600",children:v.name.mr})]})]})}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${p(v.category)}`,children:v.category})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Description"}),r.jsx("p",{className:"text-gray-600 text-sm",children:v.description.en})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Fees:"}),r.jsx("span",{className:"text-green-600 font-bold",children:v.fees})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Processing Time:"}),r.jsx("span",{className:"text-blue-600 font-semibold",children:v.processingTime})]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Required Documents"}),r.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:r.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans",children:v.requiredDocuments.en})})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"How to Apply"}),r.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:r.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans",children:v.howToApply.en})})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsxs(pn,{to:`/admin/services/edit/${v.id}`,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-semibold transition-all",children:[r.jsx(ou,{size:18}),"Edit Service"]}),r.jsxs("button",{onClick:()=>g(v.id),className:"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:[r.jsx(ni,{size:18}),"Delete"]})]})]})},v.id)):r.jsxs("div",{className:"col-span-full text-center py-12 bg-white rounded-xl shadow-lg",children:[r.jsx(hr,{size:64,className:"mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"No services found"}),r.jsxs(pn,{to:"/admin/services/new",className:"inline-flex items-center gap-2 mt-4 text-green-600 hover:text-green-700 font-semibold",children:[r.jsx(ps,{size:20}),"Add your first service"]})]})})]})},T4=()=>{const n=Ar(),{id:e}=bl(),t=!!e,[s,a]=W.useState({name:{en:"",mr:""},category:"Certificate",description:{en:"",mr:""},requiredDocuments:{en:"",mr:""},fees:"",processingTime:"",howToApply:{en:"",mr:""}}),[o,c]=W.useState({}),[d,h]=W.useState(!1),[f,g]=W.useState(!1),p=["Certificate","Tax","License","Registration","Other"];W.useEffect(()=>{(async()=>{if(t&&e)try{h(!0);const S=await XV(e);S&&a({name:S.name||{en:"",mr:""},category:S.category||"Certificate",description:S.description||{en:"",mr:""},requiredDocuments:S.requiredDocuments||{en:"",mr:""},fees:S.fees||"",processingTime:S.processingTime||"",howToApply:S.howToApply||{en:"",mr:""}})}catch(S){console.error("Error loading service:",S),alert("Failed to load service. Please try again.")}finally{h(!1)}})()},[t,e]);const v=(j,S)=>{a(L=>({...L,[j]:S})),o[j]&&c(L=>({...L,[j]:""}))},b=j=>{const{name:S,value:L}=j.target;a(M=>({...M,[S]:L})),o[S]&&c(M=>({...M,[S]:""}))},T=()=>{const j={};return s.name.en.trim()||(j.name="Service name is required"),s.description.en.trim()||(j.description="Description is required"),s.requiredDocuments.en.trim()||(j.requiredDocuments="Required documents is required"),s.fees.trim()||(j.fees="Fees is required"),s.processingTime.trim()||(j.processingTime="Processing time is required"),s.howToApply.en.trim()||(j.howToApply="How to apply is required"),j},E=async j=>{j.preventDefault();const S=T();if(Object.keys(S).length>0){c(S);return}g(!0);try{const L={name:s.name,category:s.category,description:s.description,requiredDocuments:s.requiredDocuments,fees:s.fees,processingTime:s.processingTime,howToApply:s.howToApply};t?(await JV(e,L),console.log("Service updated successfully")):(await QV(L),console.log("Service created successfully")),n("/admin/services")}catch(L){console.error("Error saving service:",L),alert("Failed to save service. Please try again.")}finally{g(!1)}};return d?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/admin/services"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(mo,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Service":"Add New Service"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update service information":"Add a new service offered by the Panchayat"})]})]})}),r.jsxs("form",{onSubmit:E,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(_n,{label:"Service Name",name:"name",value:s.name,onChange:j=>v("name",j),required:!0,placeholder:"Enter service name"}),o.name&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"category",value:s.category,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:p.map(j=>r.jsx("option",{value:j,children:j},j))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fees ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"fees",value:s.fees,onChange:b,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.fees?"border-red-500":"border-gray-300"}`,placeholder:"e.g., 100 or Free"}),o.fees&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.fees})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Processing Time ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"processingTime",value:s.processingTime,onChange:b,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.processingTime?"border-red-500":"border-gray-300"}`,placeholder:"e.g., 7 days or 1-2 weeks"}),o.processingTime&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.processingTime})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Description"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_n,{label:"Service Description",name:"description",type:"textarea",rows:5,value:s.description,onChange:j=>v("description",j),required:!0,placeholder:"Describe the service in detail..."}),o.description&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.description})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Required Documents"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_n,{label:"Documents Required",name:"requiredDocuments",type:"textarea",rows:5,value:s.requiredDocuments,onChange:j=>v("requiredDocuments",j),required:!0,placeholder:"List required documents..."}),o.requiredDocuments&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.requiredDocuments})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"How to Apply"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_n,{label:"Application Process",name:"howToApply",type:"textarea",rows:5,value:s.howToApply,onChange:j=>v("howToApply",j),required:!0,placeholder:"Explain how to apply for this service..."}),o.howToApply&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.howToApply})]})]}),r.jsxs("div",{className:"flex gap-4 justify-end",children:[r.jsx("button",{type:"button",onClick:()=>n("/admin/services"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50",children:[r.jsx(qs,{className:"w-4 h-4"}),f?"Saving...":t?"Update Service":"Save Service"]})]})]})]})},Mz=()=>{const[n,e]=W.useState([]),[t,s]=W.useState(""),[a,o]=W.useState("ALL"),[c,d]=W.useState(!0),h=["ALL","CENTRAL","STATE","DISTRICT"];W.useEffect(()=>{(async()=>{try{d(!0);const T=await mw();e(T)}catch(T){console.error("Error loading schemes:",T)}finally{d(!1)}})()},[]);const f=n.filter(b=>{const T=b.name.en.toLowerCase().includes(t.toLowerCase())||b.name.mr.includes(t),E=a==="ALL"||b.category===a;return T&&E}),g=async b=>{if(window.confirm("Are you sure you want to delete this scheme?"))try{await sz(b),e(n.filter(T=>T.id!==b)),console.log("Scheme deleted successfully")}catch(T){console.error("Error deleting scheme:",T),alert("Failed to delete scheme. Please try again.")}},p=b=>({CENTRAL:"bg-orange-100 text-orange-700",STATE:"bg-green-100 text-green-700",DISTRICT:"bg-blue-100 text-blue-700"})[b]||"bg-gray-100 text-gray-700",v=b=>b==="ACTIVE"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700";return c?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Schemes Management"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage government schemes and programs"})]}),r.jsxs(pn,{to:"/admin/schemes/new",className:"flex items-center gap-2 bg-gradient-to-r from-blue-800 to-blue-900 hover:from-blue-900 hover:to-blue-950 text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[r.jsx(ps,{size:20}),"Add Scheme"]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search schemes...",value:t,onChange:b=>s(b.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("select",{value:a,onChange:b=>o(b.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:h.map(b=>r.jsx("option",{value:b,children:b==="ALL"?"All Categories":b},b))})]})}),r.jsx("div",{className:"grid grid-cols-1 gap-6",children:f.length>0?f.map(b=>r.jsx("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all overflow-hidden",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-800 to-blue-900 rounded-full flex items-center justify-center",children:r.jsx(Qf,{size:24,className:"text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:b.name.en}),r.jsx("p",{className:"text-gray-600",children:b.name.mr})]})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${p(b.category)}`,children:b.category}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${v(b.status)}`,children:b.status})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Description"}),r.jsx("p",{className:"text-gray-600 text-sm",children:b.description.en})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Eligibility Criteria"}),r.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:r.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans",children:b.eligibility.en})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Required Documents"}),r.jsx("div",{className:"bg-orange-50 p-4 rounded-lg",children:r.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans",children:b.documentsRequired.en})})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Application Process"}),r.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:r.jsx("p",{className:"text-sm text-gray-700",children:b.applicationProcess.en})})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsxs(pn,{to:`/admin/schemes/edit/${b.id}`,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-semibold transition-all",children:[r.jsx(ou,{size:18}),"Edit Scheme"]}),r.jsxs("button",{onClick:()=>g(b.id),className:"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:[r.jsx(ni,{size:18}),"Delete"]})]})]})},b.id)):r.jsxs("div",{className:"col-span-full text-center py-12 bg-white rounded-xl shadow-lg",children:[r.jsx(Qf,{size:64,className:"mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"No schemes found"}),r.jsxs(pn,{to:"/admin/schemes/new",className:"inline-flex items-center gap-2 mt-4 text-blue-600 hover:text-blue-700 font-semibold",children:[r.jsx(ps,{size:20}),"Add your first scheme"]})]})})]})};function C4(){const n=Ar(),{id:e}=bl(),t=!!e,[s,a]=W.useState(!1),[o,c]=W.useState(!1),[d,h]=W.useState({name:{en:"",mr:""},category:"CENTRAL",description:{en:"",mr:""},eligibility:{en:"",mr:""},documentsRequired:{en:"",mr:""},applicationProcess:{en:"",mr:""},status:"ACTIVE"}),[f,g]=W.useState({});W.useEffect(()=>{(async()=>{if(t)try{a(!0);const j=await tz(e);j&&h({name:j.name,category:j.category,description:j.description,eligibility:j.eligibility,documentsRequired:{en:j.documentsRequired.en.join(`
`),mr:j.documentsRequired.mr.join(`
`)},applicationProcess:j.applicationProcess,status:j.status})}catch(j){console.error("Error loading scheme:",j)}finally{a(!1)}})()},[e,t]);const p=(E,j)=>{h(S=>({...S,[E]:j})),f[E]&&g(S=>({...S,[E]:""}))},v=E=>{const{name:j,value:S}=E.target;h(L=>({...L,[j]:S})),f[j]&&g(L=>({...L,[j]:""}))},b=()=>{const E={};return d.name.en.trim()||(E.name="Scheme name is required"),d.description.en.trim()||(E.description="Description is required"),d.eligibility.en.trim()||(E.eligibility="Eligibility criteria is required"),d.documentsRequired.en.trim()||(E.documentsRequired="Required documents are required"),d.applicationProcess.en.trim()||(E.applicationProcess="Application process is required"),g(E),Object.keys(E).length===0},T=async E=>{if(E.preventDefault(),!!b())try{c(!0);const j={name:d.name,category:d.category,description:d.description,eligibility:d.eligibility,documentsRequired:{en:d.documentsRequired.en.split(`
`).filter(S=>S.trim()),mr:d.documentsRequired.mr.split(`
`).filter(S=>S.trim())},applicationProcess:d.applicationProcess,status:d.status};t?await rz(e,j):await nz(j),n("/admin/schemes")}catch(j){console.error("Error saving scheme:",j),alert("Failed to save scheme. Please try again.")}finally{c(!1)}};return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/admin/schemes"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(mo,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Scheme":"Add New Scheme"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update scheme information":"Add a new government scheme"})]})]})}),s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsx(r.Fragment,{children:r.jsxs("form",{onSubmit:T,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(_n,{label:"Scheme Name",name:"name",value:d.name,onChange:E=>p("name",E),required:!0,placeholder:"Enter scheme name"}),f.name&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"category",value:d.category,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"CENTRAL",children:"Central Government"}),r.jsx("option",{value:"STATE",children:"State Government"}),r.jsx("option",{value:"DISTRICT",children:"District Level"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"status",value:d.status,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ACTIVE",children:"Active"}),r.jsx("option",{value:"INACTIVE",children:"Inactive"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Description"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_n,{label:"Scheme Description",name:"description",type:"textarea",rows:5,value:d.description,onChange:E=>p("description",E),required:!0,placeholder:"Describe the scheme in detail..."}),f.description&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.description})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Eligibility Criteria"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_n,{label:"Eligibility Criteria",name:"eligibility",type:"textarea",rows:5,value:d.eligibility,onChange:E=>p("eligibility",E),required:!0,placeholder:"Who can apply for this scheme..."}),f.eligibility&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.eligibility})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Required Documents"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_n,{label:"Documents Required",name:"documentsRequired",type:"textarea",rows:6,value:d.documentsRequired,onChange:E=>p("documentsRequired",E),required:!0,placeholder:"List required documents (one per line)..."}),f.documentsRequired&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.documentsRequired}),r.jsx("p",{className:"text-xs text-gray-500",children:"Enter one document per line"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Application Process"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_n,{label:"Application Process",name:"applicationProcess",type:"textarea",rows:6,value:d.applicationProcess,onChange:E=>p("applicationProcess",E),required:!0,placeholder:"Explain how to apply for this scheme..."}),f.applicationProcess&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.applicationProcess})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Status"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheme Status"}),r.jsxs("select",{name:"status",value:d.status,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ACTIVE",children:"Active"}),r.jsx("option",{value:"INACTIVE",children:"Inactive"}),r.jsx("option",{value:"UPCOMING",children:"Upcoming"})]})]})]}),r.jsxs("div",{className:"flex gap-4 justify-end",children:[r.jsx("button",{type:"button",onClick:()=>n("/admin/schemes"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:o,children:"Cancel"}),r.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,children:[r.jsx(qs,{className:"w-4 h-4"}),o?"Saving...":t?"Update Scheme":"Save Scheme"]})]})]})})]})}function Oz(){const n=Ar(),[e,t]=W.useState([]),[s,a]=W.useState(!0),[o,c]=W.useState(""),[d,h]=W.useState("ALL");W.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const j=await xw();t(j)}catch(j){console.error("Error loading notices:",j),alert("Failed to load notices. Please try again.")}finally{a(!1)}},g=e.filter(j=>{const S=j.titleEn.toLowerCase().includes(o.toLowerCase())||j.titleMr&&j.titleMr.toLowerCase().includes(o.toLowerCase()),L=d==="ALL"||j.type===d;return S&&L}),p=async j=>{if(window.confirm("Are you sure you want to delete this notice?"))try{await Tz(j),t(e.filter(S=>S.id!==j))}catch(S){console.error("Error deleting notice:",S),alert("Failed to delete notice. Please try again.")}},v=j=>{switch(j){case"MEETING":return r.jsx(qi,{className:"w-4 h-4"});case"TENDER":return r.jsx(hr,{className:"w-4 h-4"});case"ANNOUNCEMENT":return r.jsx(Rx,{className:"w-4 h-4"});default:return r.jsx(hr,{className:"w-4 h-4"})}},b=j=>{const S={MEETING:"bg-blue-100 text-blue-700",TENDER:"bg-green-100 text-green-700",ANNOUNCEMENT:"bg-orange-100 text-orange-700"};return r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${S[j]}`,children:[v(j),j]})},T=j=>new Date(j).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),E=j=>{const S=new Date,L=new Date(j.startDate),M=new Date(j.endDate);return S>=L&&S<=M};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Notices Management"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage meetings, tenders, and announcements"})]}),r.jsxs("button",{onClick:()=>n("/admin/notices/new"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-md hover:shadow-lg",children:[r.jsx(ps,{className:"w-5 h-5"}),"Add Notice"]})]}),s?r.jsx("div",{className:"flex justify-center items-center py-16",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg",children:r.jsx(qi,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Meetings"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(j=>j.type==="MEETING").length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-green-600 to-green-700 rounded-lg",children:r.jsx(hr,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Tenders"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(j=>j.type==="TENDER").length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg",children:r.jsx(Rx,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Announcements"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(j=>j.type==="ANNOUNCEMENT").length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg",children:r.jsx(es,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(j=>E(j)).length})]})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6 border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search notices...",value:o,onChange:j=>c(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),r.jsx("div",{children:r.jsxs("select",{value:d,onChange:j=>h(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ALL",children:"All Types"}),r.jsx("option",{value:"MEETING",children:"Meetings"}),r.jsx("option",{value:"TENDER",children:"Tenders"}),r.jsx("option",{value:"ANNOUNCEMENT",children:"Announcements"})]})})]})}),r.jsx("div",{className:"space-y-4",children:g.length===0?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center border border-gray-200",children:[r.jsx(qi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Notices Found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:o||d!=="ALL"?"Try adjusting your filters":"Get started by adding your first notice"}),!o&&d==="ALL"&&r.jsx("button",{onClick:()=>n("/admin/notices/new"),className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all",children:"Add Notice"})]}):g.map(j=>r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b(j.type),E(j)?r.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700 flex items-center gap-1",children:[r.jsx(yi,{className:"w-3 h-3"}),"ACTIVE"]}):r.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600 flex items-center gap-1",children:[r.jsx(yh,{className:"w-3 h-3"}),"INACTIVE"]}),j.showOnHome&&r.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:"ON HOMEPAGE"})]}),r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-1",children:j.titleEn}),j.titleMr&&r.jsx("p",{className:"text-base text-gray-600 mb-3",children:j.titleMr}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(es,{className:"w-4 h-4"}),r.jsxs("span",{children:["From: ",T(j.startDate)]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(es,{className:"w-4 h-4"}),r.jsxs("span",{children:["To: ",T(j.endDate)]})]})]}),r.jsx("p",{className:"text-gray-700 mb-2",children:j.descriptionEn}),j.descriptionMr&&r.jsx("p",{className:"text-gray-600 text-sm",children:j.descriptionMr})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx("button",{onClick:()=>n(`/admin/notices/edit/${j.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:r.jsx(yp,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>p(j.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:r.jsx(ni,{className:"w-5 h-5"})})]})]})},j.id))})]})]})}function I4(){const n=Ar(),{id:e}=bl(),t=!!e,[s,a]=W.useState({titleEn:"",titleMr:"",type:"ANNOUNCEMENT",descriptionEn:"",descriptionMr:"",startDate:"",endDate:"",showOnHome:!1}),[o,c]=W.useState({}),[d,h]=W.useState(!1),[f,g]=W.useState(!1);W.useEffect(()=>{t&&p()},[e,t]);const p=async()=>{try{g(!0);const j=await Sz(e);a({titleEn:j.titleEn||"",titleMr:j.titleMr||"",type:j.type||"ANNOUNCEMENT",descriptionEn:j.descriptionEn||"",descriptionMr:j.descriptionMr||"",startDate:j.startDate||"",endDate:j.endDate||"",showOnHome:j.showOnHome||!1})}catch(j){console.error("Error loading notice:",j),alert("Failed to load notice. Redirecting to notices list."),n("/admin/notices")}finally{g(!1)}},v=(j,S,L)=>{const M=S?`${j}${S.charAt(0).toUpperCase()+S.slice(1)}`:j;a(z=>({...z,[M]:L})),o[M]&&c(z=>({...z,[M]:""}))},b=j=>{const{name:S,value:L,type:M,checked:z}=j.target;a(se=>({...se,[S]:M==="checkbox"?z:L})),o[S]&&c(se=>({...se,[S]:""}))},T=()=>{const j={};if(s.titleEn.trim()||(j.titleEn="Title is required"),s.descriptionEn.trim()||(j.descriptionEn="Description is required"),s.startDate||(j.startDate="Start date is required"),s.endDate||(j.endDate="End date is required"),s.startDate&&s.endDate){const S=new Date(s.startDate);new Date(s.endDate)<S&&(j.endDate="End date must be after start date")}return c(j),Object.keys(j).length===0},E=async j=>{if(j.preventDefault(),!!T())try{h(!0);const S={titleEn:s.titleEn,titleMr:s.titleMr,type:s.type,descriptionEn:s.descriptionEn,descriptionMr:s.descriptionMr,startDate:s.startDate,endDate:s.endDate,showOnHome:s.showOnHome};t?(await Az(e,S),alert("Notice updated successfully!")):(await Ez(S),alert("Notice created successfully!")),n("/admin/notices")}catch(S){console.error("Error saving notice:",S),alert("Failed to save notice. Please try again.")}finally{h(!1)}};return f?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/admin/notices"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:d,children:r.jsx(mo,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Notice":"Add New Notice"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update notice information":"Create a new notice, meeting, or tender"})]})]})}),r.jsxs("form",{onSubmit:E,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title (English) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:s.titleEn,onChange:j=>v("title","en",j.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.titleEn?"border-red-500":"border-gray-300"}`,placeholder:"Enter notice title in English",disabled:d}),o.titleEn&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.titleEn})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (Marathi)"}),r.jsx("input",{type:"text",value:s.titleMr,onChange:j=>v("title","mr",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"    ",disabled:d})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"type",value:s.type,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",disabled:d,children:[r.jsx("option",{value:"ANNOUNCEMENT",children:"Announcement"}),r.jsx("option",{value:"MEETING",children:"Meeting"}),r.jsx("option",{value:"TENDER",children:"Tender"}),r.jsx("option",{value:"EVENT",children:"Event"}),r.jsx("option",{value:"HOLIDAY",children:"Holiday"}),r.jsx("option",{value:"URGENT",children:"Urgent"}),r.jsx("option",{value:"OTHER",children:"Other"})]})]}),r.jsx("div",{className:"flex items-center",children:r.jsxs("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",name:"showOnHome",checked:s.showOnHome,onChange:b,className:"w-5 h-5 text-orange-600 border-gray-300 rounded focus:ring-orange-500",disabled:d}),r.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Show on Homepage"})]})})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Description"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description (English) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{rows:6,value:s.descriptionEn,onChange:j=>v("description","en",j.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.descriptionEn?"border-red-500":"border-gray-300"}`,placeholder:"Enter detailed description in English",disabled:d}),o.descriptionEn&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.descriptionEn})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Marathi)"}),r.jsx("textarea",{rows:6,value:s.descriptionMr,onChange:j=>v("description","mr",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"    ",disabled:d})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Validity Period"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Start Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"startDate",value:s.startDate,onChange:b,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.startDate?"border-red-500":"border-gray-300"}`,disabled:d}),o.startDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.startDate}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"When this notice becomes active"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["End Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"endDate",value:s.endDate,onChange:b,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.endDate?"border-red-500":"border-gray-300"}`,disabled:d}),o.endDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.endDate}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"When this notice expires"})]})]}),r.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Note:"})," The notice will automatically be marked as active during the specified date range. After the end date, it will be marked as inactive."]})})]}),r.jsxs("div",{className:"flex gap-4 justify-end",children:[r.jsx("button",{type:"button",onClick:()=>n("/admin/notices"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",disabled:d,children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:d,children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t?"Updating...":"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(qs,{className:"w-4 h-4"}),t?"Update Notice":"Save Notice"]})})]})]})]})}function Fz(){const n=Ar(),[e,t]=W.useState([]),[s,a]=W.useState(!0),[o,c]=W.useState("");W.useEffect(()=>{d()},[]);const d=async()=>{try{a(!0);const p=await pw();console.log("Loaded gallery programs from Firebase:",p.length),t(p)}catch(p){console.error("Error loading gallery programs:",p),alert("Failed to load gallery programs")}finally{a(!1)}},h=e.filter(p=>p.titleEn?.toLowerCase().includes(o.toLowerCase())||p.titleMr?.toLowerCase().includes(o.toLowerCase())),f=async p=>{if(window.confirm("Are you sure you want to delete this program/photo? All images will be permanently deleted."))try{await gz(p),t(e.filter(v=>v.id!==p)),alert("Program deleted successfully!")}catch(v){console.error("Error deleting program:",v),alert("Failed to delete program")}},g=p=>new Date(p).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"});return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Gallery Management"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage photos and programs"})]}),r.jsxs("button",{onClick:()=>n("/admin/gallery/new"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-md hover:shadow-lg",children:[r.jsx(ps,{className:"w-5 h-5"}),"Add Photo/Program"]})]}),s?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg",children:r.jsx(Hr,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Programs"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-green-600 to-green-700 rounded-lg",children:r.jsx(Hr,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Images"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.reduce((p,v)=>p+(v.images?.length||0),0)})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-800 to-blue-900 rounded-lg",children:r.jsx(es,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"This Month"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(p=>{const v=new Date(p.date),b=new Date;return v.getMonth()===b.getMonth()&&v.getFullYear()===b.getFullYear()}).length})]})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6 border border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search programs...",value:o,onChange:p=>c(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.length===0?r.jsxs("div",{className:"col-span-full bg-white rounded-xl shadow-sm p-12 text-center border border-gray-200",children:[r.jsx(Hr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Photos Found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:o?"Try adjusting your search":"Get started by adding your first photo or program"}),!o&&r.jsx("button",{onClick:()=>n("/admin/gallery/new"),className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all",children:"Add Photo/Program"})]}):h.map(p=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200 hover:shadow-lg transition-shadow group",children:[r.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden",children:[p.images&&p.images.length>0?r.jsx("img",{src:p.images[0],alt:p.titleEn,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(Hr,{className:"w-16 h-16 text-gray-400"})}),p.images&&p.images.length>1&&r.jsx("div",{className:"absolute top-3 left-3",children:r.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/70 text-white shadow-lg flex items-center gap-1",children:[r.jsx(Hr,{className:"w-3 h-3"}),p.images.length," photos"]})}),r.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3",children:[r.jsx("button",{onClick:()=>n(`/admin/gallery/edit/${p.id}`),className:"p-3 bg-white/90 hover:bg-white rounded-lg transition-colors",title:"Edit",children:r.jsx(yp,{className:"w-5 h-5 text-blue-600"})}),r.jsx("button",{onClick:()=>f(p.id),className:"p-3 bg-white/90 hover:bg-white rounded-lg transition-colors",title:"Delete",children:r.jsx(ni,{className:"w-5 h-5 text-red-600"})})]})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2",children:[r.jsx(es,{className:"w-4 h-4"}),r.jsx("span",{children:g(p.date)})]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:p.titleEn}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:p.titleMr}),r.jsx("p",{className:"text-gray-700 text-sm line-clamp-2 mb-2",children:p.descriptionEn}),r.jsx("p",{className:"text-gray-600 text-xs line-clamp-2",children:p.descriptionMr})]})]},p.id))})]})]})}const Uz=async(n,e=350,t=1920,s=1080)=>new Promise((a,o)=>{const c=n.size/1024;if(c<=e){console.log(`Image ${n.name} is already small enough (${c.toFixed(2)}KB)`),a(n);return}const d=new FileReader;d.onload=h=>{const f=new Image;f.onload=()=>{let g=f.width,p=f.height;if(g>t||p>s){const S=g/p;g>p?(g=t,p=g/S):(p=s,g=p*S)}const v=document.createElement("canvas");v.width=g,v.height=p,v.getContext("2d").drawImage(f,0,0,g,p);let T=.9;const E=e*1024,j=S=>{v.toBlob(L=>{if(!L){o(new Error("Failed to compress image"));return}if(console.log(`Compressed ${n.name}: ${(L.size/1024).toFixed(2)}KB at quality ${S}`),L.size<=E||S<=.5){const M=new File([L],n.name,{type:"image/jpeg",lastModified:Date.now()});console.log(`Final size: ${(M.size/1024).toFixed(2)}KB`),a(M)}else j(S-.1)},"image/jpeg",S)};j(T)},f.onerror=()=>{o(new Error("Failed to load image"))},f.src=h.target.result},d.onerror=()=>{o(new Error("Failed to read file"))},d.readAsDataURL(n)}),Vz=n=>{const e=[];if(!n.type.startsWith("image/"))return e.push("File must be an image"),{valid:!1,errors:e};const t=10;return n.size>t*1024*1024?(e.push(`File size must be less than ${t}MB`),{valid:!1,errors:e}):["image/jpeg","image/jpg","image/png","image/webp"].includes(n.type)?{valid:!0,errors:[]}:(e.push("Only JPEG, PNG, and WebP images are allowed"),{valid:!1,errors:e})};function k4(){const n=Ar(),{id:e}=bl(),t=!!e,[s,a]=W.useState({titleEn:"",titleMr:"",descriptionEn:"",descriptionMr:"",date:"",youtubeLink:""}),[o,c]=W.useState([]),[d,h]=W.useState([]),[f,g]=W.useState([]),[p,v]=W.useState(!1),[b,T]=W.useState({}),[E,j]=W.useState(!1),[S,L]=W.useState(!1);W.useEffect(()=>{t&&M()},[e,t]);const M=async()=>{try{L(!0);const P=await NT(e);a({titleEn:P.titleEn||"",titleMr:P.titleMr||"",descriptionEn:P.descriptionEn||"",descriptionMr:P.descriptionMr||"",date:P.date?.toISOString?.().split("T")[0]||"",youtubeLink:P.youtubeLink||""}),c(P.images||[])}catch(P){console.error("Error loading program:",P),alert("Failed to load program"),n("/admin/gallery")}finally{L(!1)}},z=(P,V,le)=>{const Ne=`${P}${V.charAt(0).toUpperCase()+V.slice(1)}`;a(ie=>({...ie,[Ne]:le})),b[P]&&T(ie=>({...ie,[P]:""}))},se=P=>{const{name:V,value:le}=P.target;a(Ne=>({...Ne,[V]:le})),b[V]&&T(Ne=>({...Ne,[V]:""}))},ae=async P=>{const V=Array.from(P.target.files);if(V.length!==0){v(!0);try{const le=[],Ne=[];for(const ie of V){const ge=Vz(ie);if(!ge.valid){Ne.push(`${ie.name}: ${ge.errors.join(", ")}`);continue}try{const ue=ie.size/1024;console.log(`Original size of ${ie.name}: ${ue.toFixed(2)}KB`);let je=ie;if(ue>1024){console.log(`Compressing ${ie.name}...`),je=await Uz(ie,350);const ze=je.size/1024;console.log(`Compressed ${ie.name}: ${ue.toFixed(2)}KB  ${ze.toFixed(2)}KB`)}le.push(je)}catch(ue){console.error(`Error compressing ${ie.name}:`,ue),Ne.push(`${ie.name}: Failed to compress`)}}if(Ne.length>0&&alert(`Some files had errors:
`+Ne.join(`
`)),le.length===0){v(!1);return}h(ie=>[...ie,...le]);for(const ie of le){const ge=new FileReader;ge.onloadend=()=>{g(ue=>[...ue,ge.result])},ge.readAsDataURL(ie)}if(T(ie=>({...ie,images:""})),le.length>0){const ie=le.reduce((ge,ue)=>ge+ue.size,0)/1024;console.log(`Successfully processed ${le.length} image(s). Total size: ${ie.toFixed(2)}KB`)}}catch(le){console.error("Error processing images:",le),alert("Failed to process images. Please try again.")}finally{v(!1)}}},G=P=>{c(V=>V.filter(le=>le!==P))},D=P=>{h(V=>V.filter((le,Ne)=>Ne!==P)),g(V=>V.filter((le,Ne)=>Ne!==P))},I=()=>{const P={};s.titleEn.trim()||(P.titleEn="English title is required"),s.descriptionEn.trim()||(P.descriptionEn="English description is required"),s.date||(P.date="Date is required");const V=t&&o.length>0||d.length>0,le=s.youtubeLink&&s.youtubeLink.trim()!=="";return!V&&!le&&(P.media="Please provide either images or a YouTube video link"),s.youtubeLink&&s.youtubeLink.trim()!==""&&(/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/.+/.test(s.youtubeLink)||(P.youtubeLink="Please enter a valid YouTube URL")),T(P),Object.keys(P).length===0},F=async P=>{if(P.preventDefault(),!!I())try{j(!0);const V={titleEn:s.titleEn,titleMr:s.titleMr,descriptionEn:s.descriptionEn,descriptionMr:s.descriptionMr,date:s.date,youtubeLink:s.youtubeLink||""};t?(await mz(e,V,d,o),alert("Program updated successfully!")):(await fz(V,d),alert("Program created successfully!")),n("/admin/gallery")}catch(V){console.error("Error saving program:",V),alert("Failed to save program. Please try again.")}finally{j(!1)}};if(S)return r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})});const k=o.length+d.length;return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/admin/gallery"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:E,children:r.jsx(mo,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Photo/Program":"Add New Photo/Program"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update photo/program information":"Add a new photo or program to the gallery"})]})]})}),r.jsxs("form",{onSubmit:F,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b flex items-center justify-between",children:[r.jsxs("span",{children:["Photos (",k,")"]}),k>0&&r.jsxs("span",{className:"text-sm font-normal text-gray-500",children:[o.length," saved + ",d.length," new"]})]}),r.jsxs("div",{className:"space-y-4",children:[o.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Saved Images"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:o.map((P,V)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:P,alt:`Existing ${V+1}`,className:"w-full h-32 object-cover rounded-lg border border-gray-300"}),r.jsx("button",{type:"button",onClick:()=>G(P),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors shadow-lg opacity-0 group-hover:opacity-100",disabled:E,children:r.jsx(Vs,{className:"w-4 h-4"})})]},V))})]}),f.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"New Images (will be uploaded)"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:f.map((P,V)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:P,alt:`New ${V+1}`,className:"w-full h-32 object-cover rounded-lg border border-orange-300"}),r.jsx("button",{type:"button",onClick:()=>D(V),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors shadow-lg opacity-0 group-hover:opacity-100",disabled:E,children:r.jsx(Vs,{className:"w-4 h-4"})})]},V))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block",children:[r.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${p?"border-orange-500 bg-orange-50":"border-gray-300 hover:border-orange-500"}`,children:p?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-orange-600 mx-auto mb-3"}),r.jsx("p",{className:"text-orange-600 font-medium mb-1",children:"Compressing images..."}),r.jsx("p",{className:"text-sm text-orange-500",children:"Please wait while we optimize your images"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Hr,{className:"w-10 h-10 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 mb-1",children:"Click to upload images"}),r.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, WebP up to 10MB"}),r.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Images over 1MB will be automatically compressed to ~350KB"})]})}),r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:ae,className:"hidden",disabled:E||p})]}),b.media&&r.jsx("p",{className:"text-red-500 text-sm mt-2",children:b.media})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b flex items-center gap-2",children:[r.jsx(S2,{className:"w-5 h-5 text-orange-600"}),r.jsx("span",{children:"YouTube Video (Optional)"})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube Video Link"}),r.jsx("input",{type:"url",value:s.youtubeLink,onChange:P=>a({...s,youtubeLink:P.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${b.youtubeLink?"border-red-500":"border-gray-300"}`,placeholder:"https://www.youtube.com/watch?v=...",disabled:E}),b.youtubeLink&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.youtubeLink}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Add a YouTube video link to display alongside or instead of images. Supported formats: youtube.com/watch?v=, youtu.be/"})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title (English) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:s.titleEn,onChange:P=>z("title","en",P.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${b.titleEn?"border-red-500":"border-gray-300"}`,placeholder:"Enter program title in English",disabled:E}),b.titleEn&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.titleEn})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (Marathi)"}),r.jsx("input",{type:"text",value:s.titleMr,onChange:P=>z("title","mr",P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"    ",disabled:E})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"date",value:s.date,onChange:se,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${b.date?"border-red-500":"border-gray-300"}`,disabled:E}),b.date&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.date})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Description"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description (English) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{rows:4,value:s.descriptionEn,onChange:P=>z("description","en",P.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${b.descriptionEn?"border-red-500":"border-gray-300"}`,placeholder:"Describe the program or event in English",disabled:E}),b.descriptionEn&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.descriptionEn})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Marathi)"}),r.jsx("textarea",{rows:4,value:s.descriptionMr,onChange:P=>z("description","mr",P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"     ",disabled:E})]})]})]}),r.jsxs("div",{className:"flex gap-4 justify-end",children:[r.jsx("button",{type:"button",onClick:()=>n("/admin/gallery"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",disabled:E,children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:E,children:E?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t?"Updating...":"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(qs,{className:"w-4 h-4"}),t?"Update Program":"Save Program"]})})]})]})]})}function zz(){const n=Ar(),[e,t]=W.useState([]),[s,a]=W.useState(!0),[o,c]=W.useState(""),[d,h]=W.useState("ALL"),[f,g]=W.useState("ALL");W.useEffect(()=>{p()},[]);const p=async()=>{try{a(!0);const S=await gw();t(S)}catch(S){console.error("Error loading forms:",S),alert("Failed to load forms. Please try again.")}finally{a(!1)}},v=e.filter(S=>{const L=S.titleEn.toLowerCase().includes(o.toLowerCase())||S.titleMr&&S.titleMr.toLowerCase().includes(o.toLowerCase()),M=d==="ALL"||S.category===d,z=f==="ALL"||S.language===f;return L&&M&&z}),b=async(S,L)=>{if(window.confirm("Are you sure you want to delete this form? The PDF file will also be removed."))try{await dz(S,L),t(e.filter(M=>M.id!==S))}catch(M){console.error("Error deleting form:",M),alert("Failed to delete form. Please try again.")}},T=S=>{const L={CERTIFICATE:"bg-blue-100 text-blue-700",APPLICATION:"bg-green-100 text-green-700",TAX:"bg-orange-100 text-orange-700",LICENSE:"bg-purple-100 text-purple-700",OTHER:"bg-gray-100 text-gray-700"};return r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${L[S]}`,children:S})},E=S=>{const L={ENGLISH:"bg-blue-500 text-white",MARATHI:"bg-orange-500 text-white",BOTH:"bg-gradient-to-r from-blue-500 to-orange-500 text-white"};return r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${L[S]}`,children:[r.jsx(Tf,{className:"w-3 h-3"}),S]})},j=S=>{S.fileUrl?window.open(S.fileUrl,"_blank"):alert(" No file URL available for this form. Please edit and re-upload the PDF file.")};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Forms & Downloads"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage downloadable forms and documents"})]}),r.jsxs("button",{onClick:()=>n("/admin/forms/new"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-md hover:shadow-lg",children:[r.jsx(ps,{className:"w-5 h-5"}),"Upload Form"]})]}),s?r.jsx("div",{className:"flex justify-center items-center py-16",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg",children:r.jsx(hr,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Forms"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg",children:r.jsx(Tf,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"English"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(S=>S.language==="ENGLISH"||S.language==="BOTH").length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-600 to-orange-700 rounded-lg",children:r.jsx(Tf,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Marathi"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(S=>S.language==="MARATHI"||S.language==="BOTH").length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-green-600 to-green-700 rounded-lg",children:r.jsx(Vo,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Downloads"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.reduce((S,L)=>S+(L.downloads||0),0)})]})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6 border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search forms...",value:o,onChange:S=>c(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),r.jsx("div",{children:r.jsxs("select",{value:d,onChange:S=>h(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ALL",children:"All Categories"}),r.jsx("option",{value:"CERTIFICATE",children:"Certificate"}),r.jsx("option",{value:"APPLICATION",children:"Application"}),r.jsx("option",{value:"TAX",children:"Tax"}),r.jsx("option",{value:"LICENSE",children:"License"}),r.jsx("option",{value:"OTHER",children:"Other"})]})}),r.jsx("div",{children:r.jsxs("select",{value:f,onChange:S=>g(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ALL",children:"All Languages"}),r.jsx("option",{value:"ENGLISH",children:"English Only"}),r.jsx("option",{value:"MARATHI",children:"Marathi Only"}),r.jsx("option",{value:"BOTH",children:"Both Languages"})]})})]})}),r.jsx("div",{className:"space-y-4",children:v.length===0?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center border border-gray-200",children:[r.jsx(hr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Forms Found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:o||d!=="ALL"||f!=="ALL"?"Try adjusting your filters":"Get started by uploading your first form"}),!o&&d==="ALL"&&f==="ALL"&&r.jsx("button",{onClick:()=>n("/admin/forms/new"),className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all",children:"Upload Form"})]}):v.map(S=>r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[T(S.category),E(S.language),!S.fileUrl&&r.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700 flex items-center gap-1 animate-pulse",children:[r.jsx(dw,{className:"w-3 h-3"}),"Missing File"]})]}),r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-1",children:S.titleEn}),S.titleMr&&r.jsx("p",{className:"text-base text-gray-600 mb-3",children:S.titleMr}),r.jsx("p",{className:"text-gray-700 mb-2",children:S.descriptionEn}),S.descriptionMr&&r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:S.descriptionMr}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hr,{className:"w-4 h-4"}),r.jsx("span",{children:S.fileName||"PDF Document"})]}),S.fileSize&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vo,{className:"w-4 h-4"}),r.jsxs("span",{children:[(S.fileSize/1024).toFixed(2)," KB"]})]})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx("button",{onClick:()=>j(S),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download",children:r.jsx(Vo,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>n(`/admin/forms/edit/${S.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:r.jsx(yp,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>b(S.id,S.fileUrl),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:r.jsx(ni,{className:"w-5 h-5"})})]})]})},S.id))})]})]})}function R4(){const n=Ar(),{id:e}=bl(),t=!!e,[s,a]=W.useState({titleEn:"",titleMr:"",descriptionEn:"",descriptionMr:"",category:"APPLICATION",language:"BOTH",file:null,fileName:"",existingFileUrl:""}),[o,c]=W.useState({}),[d,h]=W.useState(!1),[f,g]=W.useState(0);W.useEffect(()=>{(async()=>{if(t)try{h(!0);const L=await oz(e);L?a({titleEn:L.titleEn||"",titleMr:L.titleMr||"",descriptionEn:L.descriptionEn||"",descriptionMr:L.descriptionMr||"",category:L.category,language:L.language,file:null,fileName:L.fileName||"",existingFileUrl:L.fileUrl||""}):(alert("Form not found"),n("/admin/forms"))}catch(L){console.error("Error loading form:",L),alert("Failed to load form")}finally{h(!1)}})()},[e,t,n]);const p=(S,L)=>{a(M=>({...M,[S]:L})),o[S]&&c(M=>({...M,[S]:""}))},v=S=>{const{name:L,value:M}=S.target;a(z=>({...z,[L]:M})),o[L]&&c(z=>({...z,[L]:""}))},b=S=>{const L=S.target.files[0];if(L){if(L.type!=="application/pdf"){c(M=>({...M,file:"Please select a PDF file"}));return}if(L.size>10*1024*1024){c(M=>({...M,file:"File size should be less than 10MB"}));return}a(M=>({...M,file:L,fileName:L.name})),c(M=>({...M,file:""}))}},T=()=>{a(S=>({...S,file:null,fileName:""}))},E=()=>{const S={};return s.titleEn.trim()||(S.titleEn="English title is required"),s.descriptionEn.trim()||(S.descriptionEn="English description is required"),!s.file&&!t&&(S.file="PDF file is required"),!s.fileName&&!s.file&&(S.file="PDF file is required"),c(S),Object.keys(S).length===0},j=async S=>{if(S.preventDefault(),!!E())try{h(!0),g(0);const L={titleEn:s.titleEn,titleMr:s.titleMr,descriptionEn:s.descriptionEn,descriptionMr:s.descriptionMr,category:s.category,language:s.language};t?(await cz(e,L,s.file,s.existingFileUrl,M=>g(M)),alert("Form updated successfully!")):(await lz(L,s.file,M=>g(M)),alert("Form uploaded successfully!")),n("/admin/forms")}catch(L){console.error("Error saving form:",L),alert(`Failed to ${t?"update":"upload"} form: ${L.message}`)}finally{h(!1),g(0)}};return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/admin/forms"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(mo,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Form":"Upload New Form"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update form information":"Upload a new downloadable form"})]})]})}),r.jsxs("form",{onSubmit:j,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"PDF File Upload"}),r.jsxs("div",{className:"space-y-4",children:[s.fileName?r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(hr,{className:"w-8 h-8 text-red-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:s.fileName}),r.jsx("p",{className:"text-sm text-gray-500",children:"PDF Document"})]})]}),r.jsx("button",{type:"button",onClick:T,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(Vs,{className:"w-5 h-5"})})]}):r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[r.jsx(Zf,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Click to upload or drag and drop"}),r.jsx("p",{className:"text-sm text-gray-500",children:"PDF up to 10MB"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block",children:r.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:b,className:`block w-full text-sm text-gray-500
                    file:mr-4 file:py-2 file:px-4
                    file:rounded-lg file:border-0
                    file:text-sm file:font-semibold
                    file:bg-gradient-to-r file:from-orange-500 file:to-orange-600
                    file:text-white hover:file:from-orange-600 hover:file:to-orange-700
                    file:cursor-pointer cursor-pointer`})}),o.file&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.file})]}),d&&f>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[r.jsx("span",{children:"Uploading..."}),r.jsxs("span",{children:[f,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-2 rounded-full transition-all duration-300",style:{width:`${f}%`}})})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Form Title (English) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:s.titleEn,onChange:S=>p("titleEn",S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter form title in English"}),o.titleEn&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.titleEn})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Form Title (Marathi)"}),r.jsx("input",{type:"text",value:s.titleMr,onChange:S=>p("titleMr",S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"    "})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"category",value:s.category,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"CERTIFICATE",children:"Certificate"}),r.jsx("option",{value:"APPLICATION",children:"Application"}),r.jsx("option",{value:"TAX",children:"Tax"}),r.jsx("option",{value:"LICENSE",children:"License"}),r.jsx("option",{value:"OTHER",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Language ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"language",value:s.language,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ENGLISH",children:"English Only"}),r.jsx("option",{value:"MARATHI",children:"Marathi Only"}),r.jsx("option",{value:"BOTH",children:"Both Languages"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Description"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description (English) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{rows:4,value:s.descriptionEn,onChange:S=>p("descriptionEn",S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Describe the form and its purpose in English"}),o.descriptionEn&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.descriptionEn})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Marathi)"}),r.jsx("textarea",{rows:4,value:s.descriptionMr,onChange:S=>p("descriptionMr",S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"      "})]})]})]}),r.jsxs("div",{className:"flex gap-4 justify-end",children:[r.jsx("button",{type:"button",onClick:()=>n("/admin/forms"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:d,children:"Cancel"}),r.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:d,children:[r.jsx(qs,{className:"w-4 h-4"}),d?t?"Updating...":"Uploading...":t?"Update Form":"Upload Form"]})]})]})]})}const Bz=n=>{document.querySelectorAll("link[rel*='icon']").forEach(s=>s.remove());const t=document.createElement("link");t.rel="icon",t.type="image/png",t.href=n,document.head.appendChild(t),console.log("Favicon updated to:",n)};function qz(){const{refresh:n}=gu(),[e,t]=W.useState({panchayatName:{en:"",mr:""},tagline:{en:"",mr:""},phone:"",email:"",address:{en:"",mr:""},officeTimings:{en:"",mr:""},facebook:"",twitter:"",instagram:"",officePhoto:"",googleMapsLink:"",logo:"",headerLeftLogo:"",headerCenterEmblem:"",headerRightLogo1:"",headerRightLogo2:""}),[s,a]=W.useState({}),[o,c]=W.useState(!1),[d,h]=W.useState(!0),[f,g]=W.useState(!1),[p,v]=W.useState(null),[b,T]=W.useState(""),[E,j]=W.useState(null),[S,L]=W.useState(""),[M,z]=W.useState(null),[se,ae]=W.useState(""),[G,D]=W.useState(null),[I,F]=W.useState(""),[k,P]=W.useState(null),[V,le]=W.useState(""),[Ne,ie]=W.useState(null),[ge,ue]=W.useState("");W.useEffect(()=>{(async()=>{try{h(!0);const X=await Cx();X?(t({panchayatName:X.panchayatName||{en:"",mr:""},tagline:X.tagline||{en:"",mr:""},phone:X.contact?.phone||"",email:X.contact?.email||"",address:X.contact?.address||{en:"",mr:""},officeTimings:X.officeTimings||{en:"",mr:""},facebook:X.socialMedia?.facebook||"",twitter:X.socialMedia?.twitter||"",instagram:X.socialMedia?.instagram||"",officePhoto:X.officePhoto||"",googleMapsLink:X.googleMapsLink||"",logo:X.logo||"",headerLeftLogo:X.headerLeftLogo||"",headerCenterEmblem:X.headerCenterEmblem||"",headerRightLogo1:X.headerRightLogo1||"",headerRightLogo2:X.headerRightLogo2||""}),T(X.officePhoto||""),L(X.logo||""),ae(X.headerLeftLogo||""),F(X.headerCenterEmblem||""),le(X.headerRightLogo1||""),ue(X.headerRightLogo2||"")):t({panchayatName:Os.panchayatName,tagline:Os.tagline,phone:Os.contact.phone,email:Os.contact.email,address:Os.contact.address,officeTimings:Os.officeTimings,facebook:Os.socialMedia.facebook,twitter:Os.socialMedia.twitter,instagram:Os.socialMedia.instagram,officePhoto:"",googleMapsLink:""})}catch(X){console.error("Error loading settings:",X),t({panchayatName:Os.panchayatName,tagline:Os.tagline,phone:Os.contact.phone,email:Os.contact.email,address:Os.contact.address,officeTimings:Os.officeTimings,facebook:Os.socialMedia.facebook,twitter:Os.socialMedia.twitter,instagram:Os.socialMedia.instagram})}finally{h(!1)}})()},[]);const je=(Ve,X)=>{t(Ke=>({...Ke,[Ve]:X})),s[Ve]&&a(Ke=>{const Wt={...Ke};return delete Wt[Ve],Wt})},ze=Ve=>{const X=Ve.target.files[0];if(X){v(X);const Ke=new FileReader;Ke.onloadend=()=>{T(Ke.result)},Ke.readAsDataURL(X)}},ne=Ve=>{const X=Ve.target.files[0];if(X){if(!X.type.startsWith("image/")){alert("Please select an image file");return}if(X.size>2*1024*1024){alert("Logo size should be less than 2MB");return}j(X);const Ke=new FileReader;Ke.onloadend=()=>{L(Ke.result)},Ke.readAsDataURL(X)}},q=()=>{v(null),T(""),t(Ve=>({...Ve,officePhoto:""}))},J=()=>{j(null),L(""),t(Ve=>({...Ve,logo:""}))},re=Ve=>{const X=Ve.target.files[0];if(X){if(!X.type.startsWith("image/")){alert("Please select an image file");return}if(X.size>2*1024*1024){alert("File size should be less than 2MB");return}z(X);const Ke=new FileReader;Ke.onloadend=()=>ae(Ke.result),Ke.readAsDataURL(X)}},he=Ve=>{const X=Ve.target.files[0];if(X){if(!X.type.startsWith("image/")){alert("Please select an image file");return}if(X.size>2*1024*1024){alert("File size should be less than 2MB");return}D(X);const Ke=new FileReader;Ke.onloadend=()=>F(Ke.result),Ke.readAsDataURL(X)}},fe=Ve=>{const X=Ve.target.files[0];if(X){if(!X.type.startsWith("image/")){alert("Please select an image file");return}if(X.size>2*1024*1024){alert("File size should be less than 2MB");return}P(X);const Ke=new FileReader;Ke.onloadend=()=>le(Ke.result),Ke.readAsDataURL(X)}},be=Ve=>{const X=Ve.target.files[0];if(X){if(!X.type.startsWith("image/")){alert("Please select an image file");return}if(X.size>2*1024*1024){alert("File size should be less than 2MB");return}ie(X);const Ke=new FileReader;Ke.onloadend=()=>ue(Ke.result),Ke.readAsDataURL(X)}},Pe=()=>{z(null),ae(""),t(Ve=>({...Ve,headerLeftLogo:""}))},ke=()=>{D(null),F(""),t(Ve=>({...Ve,headerCenterEmblem:""}))},Be=()=>{P(null),le(""),t(Ve=>({...Ve,headerRightLogo1:""}))},Ze=()=>{ie(null),ue(""),t(Ve=>({...Ve,headerRightLogo2:""}))},ot=()=>{const Ve={};return e.panchayatName.en.trim()||(Ve.panchayatName="Panchayat name is required"),e.tagline.en.trim()||(Ve.tagline="Tagline is required"),e.phone.trim()?/^\+?[\d\s-]{10,}$/.test(e.phone)||(Ve.phone="Invalid phone number"):Ve.phone="Phone number is required",e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(Ve.email="Invalid email address"):Ve.email="Email is required",e.address.en.trim()||(Ve.address="Address is required"),e.officeTimings.en.trim()||(Ve.officeTimings="Office timings are required"),a(Ve),Object.keys(Ve).length===0},it=async Ve=>{if(Ve.preventDefault(),!!ot()){g(!0);try{let X=e.officePhoto,Ke=e.logo,Wt=e.headerLeftLogo,Et=e.headerCenterEmblem,He=e.headerRightLogo1,dt=e.headerRightLogo2;if(E){if(e.logo)try{await Fc(e.logo)}catch(ft){console.warn("Failed to delete old logo:",ft)}Ke=await Oc(E,"site/logos")}if(p){if(e.officePhoto)try{await Fc(e.officePhoto)}catch(ft){console.warn("Failed to delete old office photo:",ft)}X=await Oc(p,"site")}if(M){if(e.headerLeftLogo)try{await Fc(e.headerLeftLogo)}catch(ft){console.warn("Failed to delete old header left logo:",ft)}Wt=await Oc(M,"site/header-logos")}if(G){if(e.headerCenterEmblem)try{await Fc(e.headerCenterEmblem)}catch(ft){console.warn("Failed to delete old center emblem:",ft)}Et=await Oc(G,"site/header-logos")}if(k){if(e.headerRightLogo1)try{await Fc(e.headerRightLogo1)}catch(ft){console.warn("Failed to delete old right logo 1:",ft)}He=await Oc(k,"site/header-logos")}if(Ne){if(e.headerRightLogo2)try{await Fc(e.headerRightLogo2)}catch(ft){console.warn("Failed to delete old right logo 2:",ft)}dt=await Oc(Ne,"site/header-logos")}const ct={panchayatName:e.panchayatName,tagline:e.tagline,logo:Ke,headerLeftLogo:Wt,headerCenterEmblem:Et,headerRightLogo1:He,headerRightLogo2:dt,contact:{phone:e.phone,email:e.email,address:e.address},officeTimings:e.officeTimings,socialMedia:{facebook:e.facebook,twitter:e.twitter,instagram:e.instagram},officePhoto:X,googleMapsLink:e.googleMapsLink};await JA(ct),Ke&&Bz(Ke),await n(),console.log("Settings saved successfully!",ct),c(!0),setTimeout(()=>{c(!1),window.location.reload()},1e3)}catch(X){console.error("Error saving settings:",X),alert("Failed to save settings. Please try again.")}finally{g(!1)}}};return d?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Site Settings"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Configure your Gram Panchayat website settings"})]})}),o&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg",children:" Settings saved successfully! Reloading page..."}),r.jsxs("form",{onSubmit:it,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(gl,{className:"text-primary-600",size:24}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Basic Information"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(_n,{label:"Panchayat Name",name:"panchayatName",value:e.panchayatName,onChange:Ve=>je("panchayatName",Ve),required:!0,placeholder:"e.g., Gram Panchayat Pindkepar Lodha"}),s.panchayatName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.panchayatName}),r.jsx(_n,{label:"Tagline",name:"tagline",value:e.tagline,onChange:Ve=>je("tagline",Ve),required:!0,placeholder:"e.g., Progress with Tradition"}),s.tagline&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.tagline})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(Hr,{className:"text-primary-600",size:24}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Logo & Branding"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gram Panchayat Logo"}),r.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Upload your Gram Panchayat logo. This will appear in the header and as the favicon. Recommended size: 200x200px, PNG or JPG format."}),S?r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:S,alt:"Logo Preview",className:"w-32 h-32 object-contain rounded-lg border-2 border-gray-300 bg-white p-2"}),r.jsx("button",{type:"button",onClick:J,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:r.jsx(Vs,{size:16})})]}):r.jsx("div",{className:"flex items-center justify-center w-full",children:r.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[r.jsx(Hr,{className:"w-10 h-10 mb-3 text-gray-400"}),r.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[r.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG (MAX. 2MB)"})]}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:ne})]})})]}),r.jsx("div",{className:"border-t border-gray-200 my-6"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Government Header Logos"}),r.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"These logos will appear in the professional government-style header. All fields are optional."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Left Logo (Flag/State Emblem)"}),r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Appears on the left side of header"}),se?r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:se,alt:"Left Logo Preview",className:"w-24 h-24 object-contain rounded-lg border-2 border-gray-300 bg-white p-2"}),r.jsx("button",{type:"button",onClick:Pe,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:r.jsx(Vs,{size:14})})]}):r.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsx(Hr,{className:"w-8 h-8 mb-2 text-gray-400"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Click to upload"}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:re})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Center Emblem (National/State)"}),r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recommended: 52x90px, appears above title"}),I?r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:I,alt:"Center Emblem Preview",className:"w-24 h-24 object-contain rounded-lg border-2 border-gray-300 bg-white p-2"}),r.jsx("button",{type:"button",onClick:ke,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:r.jsx(Vs,{size:14})})]}):r.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsx(Hr,{className:"w-8 h-8 mb-2 text-gray-400"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Click to upload"}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:he})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Right Logo 1"}),r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recommended: 64x64px"}),V?r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:V,alt:"Right Logo 1 Preview",className:"w-24 h-24 object-contain rounded-lg border-2 border-gray-300 bg-white p-2"}),r.jsx("button",{type:"button",onClick:Be,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:r.jsx(Vs,{size:14})})]}):r.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsx(Hr,{className:"w-8 h-8 mb-2 text-gray-400"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Click to upload"}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:fe})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Right Logo 2"}),r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recommended: 119x64px"}),ge?r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:ge,alt:"Right Logo 2 Preview",className:"w-24 h-24 object-contain rounded-lg border-2 border-gray-300 bg-white p-2"}),r.jsx("button",{type:"button",onClick:Ze,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:r.jsx(Vs,{size:14})})]}):r.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsx(Hr,{className:"w-8 h-8 mb-2 text-gray-400"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Click to upload"}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:be})]})]})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(Do,{className:"text-primary-600",size:24}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Contact Information"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",value:e.phone,onChange:Ve=>je("phone",Ve.target.value),placeholder:"+91 1234567890",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),s.phone&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.phone})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",value:e.email,onChange:Ve=>je("email",Ve.target.value),placeholder:"contact@grampanchayat.gov.in",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),s.email&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.email})]}),r.jsx(_n,{label:"Address",name:"address",type:"textarea",rows:3,value:e.address,onChange:Ve=>je("address",Ve),required:!0,placeholder:"Village, Taluka, District, State, PIN"}),s.address&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.address}),r.jsx(_n,{label:"Office Timings",name:"officeTimings",value:e.officeTimings,onChange:Ve=>je("officeTimings",Ve),required:!0,placeholder:"e.g., Mon-Fri: 10:00 AM - 5:00 PM"}),s.officeTimings&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.officeTimings}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xl,{size:16,className:"text-primary-600"}),"Google Maps Embed Link"]})}),r.jsx("input",{type:"url",value:e.googleMapsLink,onChange:Ve=>je("googleMapsLink",Ve.target.value),placeholder:"https://www.google.com/maps/embed?pb=...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'To get the embed link: Go to Google Maps  Search your location  Click "Share"  Click "Embed a map"  Copy the iframe src URL'})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(Hr,{className:"text-primary-600",size:24}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Office Photo"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Upload a photo of your Gram Panchayat office. This will be displayed on the Panchayat page."}),b&&r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:b,alt:"Office",className:"w-full max-w-md h-64 object-cover rounded-lg border-2 border-gray-300"}),r.jsx("button",{type:"button",onClick:q,className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors shadow-lg",children:r.jsx(Vs,{size:20})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:b?"Change Photo":"Upload Photo"}),r.jsx("input",{type:"file",accept:"image/*",onChange:ze,className:`block w-full text-sm text-gray-500
                  file:mr-4 file:py-2 file:px-4
                  file:rounded-lg file:border-0
                  file:text-sm file:font-semibold
                  file:bg-primary-50 file:text-primary-700
                  hover:file:bg-primary-100
                  cursor-pointer`}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: 1200x800px or larger, JPG or PNG format"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(w2,{className:"text-primary-600",size:24}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Social Media Links"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(w2,{size:16,className:"inline mr-2"}),"Facebook URL"]}),r.jsx("input",{type:"url",value:e.facebook,onChange:Ve=>je("facebook",Ve.target.value),placeholder:"https://facebook.com/yourpage",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(fT,{size:16,className:"inline mr-2"}),"Twitter URL"]}),r.jsx("input",{type:"url",value:e.twitter,onChange:Ve=>je("twitter",Ve.target.value),placeholder:"https://twitter.com/yourhandle",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(_U,{size:16,className:"inline mr-2"}),"Instagram URL"]}),r.jsx("input",{type:"url",value:e.instagram,onChange:Ve=>je("instagram",Ve.target.value),placeholder:"https://instagram.com/yourprofile",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]})]}),r.jsx("div",{className:"flex justify-end gap-4",children:r.jsxs("button",{type:"submit",disabled:f,className:"flex items-center gap-2 px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50",children:[r.jsx(qs,{size:20}),f?"Saving...":"Save Settings"]})})]})]})}const Gz=async()=>{try{const n=Ht(Je,$t.grievances()),e=Ts(n,ic("createdAt","desc")),t=await wr(e),s=[];return t.forEach(a=>{s.push({id:a.id,...a.data()})}),s}catch(n){throw console.error("Error fetching grievances:",n),n}};function Hz(){const n=Ar(),[e,t]=W.useState([]),[s,a]=W.useState(!0);W.useEffect(()=>{o()},[]);const o=async()=>{try{const z=await Gz();t(z)}catch(z){console.error("Error loading grievances:",z)}finally{a(!1)}},[c,d]=W.useState(""),[h,f]=W.useState("ALL"),[g,p]=W.useState("ALL"),[v,b]=W.useState("ALL"),T=e.filter(z=>{const se=z.title.en.toLowerCase().includes(c.toLowerCase())||z.title.mr.toLowerCase().includes(c.toLowerCase())||z.submittedBy.toLowerCase().includes(c.toLowerCase()),ae=h==="ALL"||z.status===h,G=g==="ALL"||z.category===g,D=v==="ALL"||z.priority===v;return se&&ae&&G&&D}),E=z=>{window.confirm("Are you sure you want to delete this grievance?")&&t(e.filter(se=>se.id!==z))},j=z=>{const se={PENDING:"bg-yellow-100 text-yellow-700 border-yellow-300",IN_PROGRESS:"bg-blue-100 text-blue-700 border-blue-300",RESOLVED:"bg-green-100 text-green-700 border-green-300",REJECTED:"bg-red-100 text-red-700 border-red-300"},ae={PENDING:r.jsx($g,{className:"w-3 h-3"}),IN_PROGRESS:r.jsx(Qn,{className:"w-3 h-3"}),RESOLVED:r.jsx(Gi,{className:"w-3 h-3"}),REJECTED:r.jsx(dh,{className:"w-3 h-3"})};return r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border flex items-center gap-1 ${se[z]}`,children:[ae[z],z.replace("_"," ")]})},S=z=>{const se={LOW:"bg-gray-100 text-gray-700",MEDIUM:"bg-orange-100 text-orange-700",HIGH:"bg-red-100 text-red-700"};return r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${se[z]}`,children:z})},L=z=>{const se={WATER:"bg-blue-100 text-blue-700",ROAD:"bg-gray-100 text-gray-700",ELECTRICITY:"bg-yellow-100 text-yellow-700",SANITATION:"bg-green-100 text-green-700",TAX:"bg-purple-100 text-purple-700",OTHER:"bg-pink-100 text-pink-700"};return r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${se[z]}`,children:z})},M=z=>z?new Date(z).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A";return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Grievances Management"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage citizen complaints and feedback"})]}),r.jsxs("button",{onClick:()=>n("/admin/grievances/new"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-md hover:shadow-lg",children:[r.jsx(ps,{className:"w-5 h-5"}),"Add Grievance"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg",children:r.jsx($g,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(z=>z.status==="PENDING").length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg",children:r.jsx(Qn,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"In Progress"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(z=>z.status==="IN_PROGRESS").length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-green-600 to-green-700 rounded-lg",children:r.jsx(Gi,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Resolved"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(z=>z.status==="RESOLVED").length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg",children:r.jsx(Cf,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6 border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search grievances...",value:c,onChange:z=>d(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),r.jsx("div",{children:r.jsxs("select",{value:h,onChange:z=>f(z.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ALL",children:"All Status"}),r.jsx("option",{value:"PENDING",children:"Pending"}),r.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),r.jsx("option",{value:"RESOLVED",children:"Resolved"}),r.jsx("option",{value:"REJECTED",children:"Rejected"})]})}),r.jsx("div",{children:r.jsxs("select",{value:g,onChange:z=>p(z.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ALL",children:"All Categories"}),r.jsx("option",{value:"WATER",children:"Water"}),r.jsx("option",{value:"ROAD",children:"Road"}),r.jsx("option",{value:"ELECTRICITY",children:"Electricity"}),r.jsx("option",{value:"SANITATION",children:"Sanitation"}),r.jsx("option",{value:"TAX",children:"Tax"}),r.jsx("option",{value:"OTHER",children:"Other"})]})}),r.jsx("div",{children:r.jsxs("select",{value:v,onChange:z=>b(z.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ALL",children:"All Priorities"}),r.jsx("option",{value:"HIGH",children:"High"}),r.jsx("option",{value:"MEDIUM",children:"Medium"}),r.jsx("option",{value:"LOW",children:"Low"})]})})]})}),r.jsx("div",{className:"space-y-4",children:T.length===0?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center border border-gray-200",children:[r.jsx(Cf,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Grievances Found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:c||h!=="ALL"||g!=="ALL"||v!=="ALL"?"Try adjusting your filters":"Get started by adding your first grievance"}),!c&&h==="ALL"&&g==="ALL"&&v==="ALL"&&r.jsx("button",{onClick:()=>n("/admin/grievances/new"),className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all",children:"Add Grievance"})]}):T.map(z=>r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[j(z.status),S(z.priority),L(z.category)]}),r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-1",children:z.title.en}),r.jsx("p",{className:"text-base text-gray-600 mb-3",children:z.title.mr}),r.jsx("p",{className:"text-gray-700 mb-2",children:z.description.en}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:z.description.mr}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600 mb-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Submitted By:"})," ",z.submittedBy]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Phone:"})," ",z.phone]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Email:"})," ",z.email]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Address:"})," ",z.address]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Submitted Date:"})," ",M(z.submittedDate)]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Assigned To:"})," ",z.assignedTo]})]}),z.response&&r.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Response:"}),r.jsx("p",{className:"text-blue-800 text-sm",children:z.response.en}),r.jsx("p",{className:"text-blue-700 text-xs mt-1",children:z.response.mr})]}),z.resolvedDate&&r.jsxs("div",{className:"mt-2 text-sm text-green-700",children:[r.jsx("span",{className:"font-medium",children:"Resolved on:"})," ",M(z.resolvedDate)]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx("button",{onClick:()=>n(`/admin/grievances/edit/${z.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:r.jsx(yp,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>E(z.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:r.jsx(ni,{className:"w-5 h-5"})})]})]})},z.id))})]})}function P4(){const n=Ar(),{id:e}=bl(),t=!!e,[s,a]=W.useState(!1),[o,c]=W.useState(!1),[d,h]=W.useState({title:{en:"",mr:""},description:{en:"",mr:""},category:"OTHER",status:"PENDING",priority:"MEDIUM",submittedBy:"",phone:"",email:"",address:"",submittedDate:new Date().toISOString().split("T")[0],resolvedDate:"",assignedTo:"",response:{en:"",mr:""}}),[f,g]=W.useState({});W.useEffect(()=>{t&&h({title:{en:"Water Supply Issue",mr:" "},description:{en:"No water supply for the last 3 days",mr:"    "},category:"WATER",status:"PENDING",priority:"HIGH",submittedBy:"Ramesh Kumar",phone:"+91 9876543210",email:"ramesh@example.com",address:"Village Road, Area 1",submittedDate:"2024-11-15",resolvedDate:"",assignedTo:"Water Department",response:{en:"",mr:""}})},[e,t]);const p=(E,j)=>{h(S=>({...S,[E]:j})),f[E]&&g(S=>({...S,[E]:""}))},v=E=>{const{name:j,value:S}=E.target;h(L=>({...L,[j]:S})),f[j]&&g(L=>({...L,[j]:""}))},b=()=>{const E={};return d.title.en.trim()||(E.title="Title is required"),d.description.en.trim()||(E.description="Description is required"),d.submittedBy.trim()||(E.submittedBy="Name is required"),d.phone.trim()?/^\+?[\d\s-]{10,}$/.test(d.phone)||(E.phone="Invalid phone number"):E.phone="Phone number is required",d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(E.email="Invalid email address"):E.email="Email is required",d.address.trim()||(E.address="Address is required"),d.submittedDate||(E.submittedDate="Submitted date is required"),d.assignedTo.trim()||(E.assignedTo="Department assignment is required"),d.status==="RESOLVED"&&!d.resolvedDate&&(E.resolvedDate="Resolved date is required when status is Resolved"),g(E),Object.keys(E).length===0},T=E=>{if(E.preventDefault(),!b())return;const j={id:t?parseInt(e):Date.now(),title:d.title,description:d.description,category:d.category,status:d.status,priority:d.priority,submittedBy:d.submittedBy,phone:d.phone,email:d.email,address:d.address,submittedDate:d.submittedDate,resolvedDate:d.resolvedDate||null,assignedTo:d.assignedTo,response:d.response.en&&d.response.mr?d.response:null};console.log(t?"Updating grievance:":"Creating grievance:",j),n("/admin/grievances")};return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/admin/grievances"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(mo,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Grievance":"Add New Grievance"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update grievance information and status":"Record a new citizen grievance"})]})]})}),s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsx(r.Fragment,{children:r.jsxs("form",{onSubmit:T,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Grievance Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(_n,{label:"Grievance Title",name:"title",value:d.title,onChange:E=>p("title",E),required:!0,placeholder:"Enter grievance title"}),f.title&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.title})]}),r.jsxs("div",{children:[r.jsx(_n,{label:"Description",name:"description",type:"textarea",rows:4,value:d.description,onChange:E=>p("description",E),required:!0,placeholder:"Describe the grievance in detail"}),f.description&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.description})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"category",value:d.category,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"WATER",children:"Water"}),r.jsx("option",{value:"ROAD",children:"Road"}),r.jsx("option",{value:"ELECTRICITY",children:"Electricity"}),r.jsx("option",{value:"SANITATION",children:"Sanitation"}),r.jsx("option",{value:"TAX",children:"Tax"}),r.jsx("option",{value:"OTHER",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Priority ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"priority",value:d.priority,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"LOW",children:"Low"}),r.jsx("option",{value:"MEDIUM",children:"Medium"}),r.jsx("option",{value:"HIGH",children:"High"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"status",value:d.status,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"PENDING",children:"Pending"}),r.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),r.jsx("option",{value:"RESOLVED",children:"Resolved"}),r.jsx("option",{value:"REJECTED",children:"Rejected"})]})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Citizen Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Submitted By ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"submittedBy",value:d.submittedBy,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.submittedBy?"border-red-500":"border-gray-300"}`,placeholder:"Enter citizen name"}),f.submittedBy&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.submittedBy})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.phone?"border-red-500":"border-gray-300"}`,placeholder:"+91 9876543210"}),f.phone&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.phone})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",name:"email",value:d.email,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.email?"border-red-500":"border-gray-300"}`,placeholder:"citizen@example.com"}),f.email&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.email})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Address ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"address",value:d.address,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.address?"border-red-500":"border-gray-300"}`,placeholder:"Enter full address"}),f.address&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.address})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Management Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Assigned To ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"assignedTo",value:d.assignedTo,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.assignedTo?"border-red-500":"border-gray-300"}`,placeholder:"Department or Officer name"}),f.assignedTo&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.assignedTo})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Submitted Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"submittedDate",value:d.submittedDate,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.submittedDate?"border-red-500":"border-gray-300"}`}),f.submittedDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.submittedDate})]}),d.status==="RESOLVED"&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Resolved Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"resolvedDate",value:d.resolvedDate,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.resolvedDate?"border-red-500":"border-gray-300"}`}),f.resolvedDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.resolvedDate})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Response (Optional)"}),r.jsx("div",{children:r.jsx(_n,{label:"Response",name:"response",type:"textarea",rows:3,value:d.response,onChange:E=>p("response",E),placeholder:"Enter response or action taken"})})]}),r.jsxs("div",{className:"flex gap-4 justify-end",children:[r.jsx("button",{type:"button",onClick:()=>n("/admin/grievances"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:o,children:"Cancel"}),r.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,children:[r.jsx(qs,{className:"w-4 h-4"}),o?"Saving...":t?"Update Grievance":"Submit Grievance"]})]})]})})]})}const $z=()=>{const{language:n}=ns(),e=Ar(),[t,s]=W.useState([]),[a,o]=W.useState(!0),[c,d]=W.useState(""),[h,f]=W.useState("ALL"),[g,p]=W.useState("ALL"),[v,b]=W.useState({start:"",end:""});W.useEffect(()=>{(async()=>{try{o(!0);const G=await _T();s(G)}catch(G){console.error("Error loading transactions:",G),alert("Failed to load transactions")}finally{o(!1)}})()},[]);const T={totalIncome:t.filter(ae=>ae.type==="INCOME").reduce((ae,G)=>ae+G.amount,0),totalExpense:t.filter(ae=>ae.type==="EXPENSE").reduce((ae,G)=>ae+G.amount,0),balance:0,transactionCount:t.length};T.balance=T.totalIncome-T.totalExpense;const E=t.filter(ae=>{const G=ae.description.toLowerCase().includes(c.toLowerCase())||ae.descriptionMr.includes(c)||ae.subcategory.toLowerCase().includes(c.toLowerCase())||ae.referenceNumber.toLowerCase().includes(c.toLowerCase()),D=h==="ALL"||ae.type===h,I=g==="ALL"||ae.category===g,F=(!v.start||ae.transactionDate>=v.start)&&(!v.end||ae.transactionDate<=v.end);return G&&D&&I&&F}),j=async ae=>{if(window.confirm(n==="en"?"Are you sure you want to delete this transaction?":"        ?"))try{await Nz(ae),s(t.filter(G=>G.id!==ae))}catch(G){console.error("Error deleting transaction:",G),alert("Failed to delete transaction")}},S=ae=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(ae),L=ae=>new Date(ae).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),M=ae=>{switch(ae){case"INCOME":return"bg-green-100 text-green-800 border-green-300";case"EXPENSE":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},z=ae=>{switch(ae){case"TAX":return r.jsx(kx,{size:16});case"GRANT":return r.jsx(XU,{size:16});case"SALARY":return r.jsx(E2,{size:16});case"INFRASTRUCTURE":return r.jsx(Yu,{size:16});case"UTILITIES":return r.jsx(jg,{size:16});default:return r.jsx(hr,{size:16})}},se=()=>{alert(n==="en"?"Export functionality will be implemented":"    ")};return a?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#ff6b00]"})}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n==="en"?"Financial Management":" "}),r.jsx("p",{className:"text-gray-600 mt-1",children:n==="en"?"Track income, expenses, and budgets":",     "})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:se,className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-[#138808] text-[#138808] rounded-lg hover:bg-[#138808] hover:text-white transition-colors",children:[r.jsx(Vo,{size:20}),n==="en"?"Export Report":"  "]}),r.jsxs(pn,{to:"/admin/financials/new",className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-[#ff6b00] to-[#ff8533] text-white rounded-lg hover:shadow-lg transition-all",children:[r.jsx(ps,{size:20}),n==="en"?"Add Transaction":" "]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl border-2 border-green-300 shadow-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:r.jsx(Yu,{className:"text-white",size:24})}),r.jsx("span",{className:"text-green-700 font-semibold",children:n==="en"?"Income":""})]}),r.jsx("div",{className:"text-3xl font-bold text-green-800",children:S(T.totalIncome)}),r.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[t.filter(ae=>ae.type==="INCOME").length," ",n==="en"?"transactions":""]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-xl border-2 border-red-300 shadow-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"p-3 bg-red-500 rounded-lg",children:r.jsx(jg,{className:"text-white",size:24})}),r.jsx("span",{className:"text-red-700 font-semibold",children:n==="en"?"Expense":""})]}),r.jsx("div",{className:"text-3xl font-bold text-red-800",children:S(T.totalExpense)}),r.jsxs("div",{className:"text-sm text-red-600 mt-1",children:[t.filter(ae=>ae.type==="EXPENSE").length," ",n==="en"?"transactions":""]})]}),r.jsxs("div",{className:`bg-gradient-to-br ${T.balance>=0?"from-blue-50 to-blue-100 border-blue-300":"from-orange-50 to-orange-100 border-orange-300"} p-6 rounded-xl border-2 shadow-md`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:`p-3 ${T.balance>=0?"bg-blue-500":"bg-orange-500"} rounded-lg`,children:r.jsx(E2,{className:"text-white",size:24})}),r.jsx("span",{className:`${T.balance>=0?"text-blue-700":"text-orange-700"} font-semibold`,children:n==="en"?"Balance":""})]}),r.jsx("div",{className:`text-3xl font-bold ${T.balance>=0?"text-blue-800":"text-orange-800"}`,children:S(T.balance)}),r.jsx("div",{className:`text-sm ${T.balance>=0?"text-blue-600":"text-orange-600"} mt-1`,children:T.balance>=0?n==="en"?"Surplus":"":n==="en"?"Deficit":""})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-xl border-2 border-purple-300 shadow-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:r.jsx(hr,{className:"text-white",size:24})}),r.jsx("span",{className:"text-purple-700 font-semibold",children:n==="en"?"Total":""})]}),r.jsx("div",{className:"text-3xl font-bold text-purple-800",children:T.transactionCount}),r.jsx("div",{className:"text-sm text-purple-600 mt-1",children:n==="en"?"Transactions":""})]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6 border-2 border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsxs("div",{className:"relative",children:[r.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:n==="en"?"Search transactions...":" ...",value:c,onChange:ae=>d(ae.target.value),className:"w-full pl-10 pr-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]})}),r.jsx("div",{children:r.jsxs("select",{value:h,onChange:ae=>f(ae.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:[r.jsx("option",{value:"ALL",children:n==="en"?"All Types":" "}),r.jsx("option",{value:"INCOME",children:n==="en"?"Income":""}),r.jsx("option",{value:"EXPENSE",children:n==="en"?"Expense":""})]})}),r.jsx("div",{children:r.jsxs("select",{value:g,onChange:ae=>p(ae.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:[r.jsx("option",{value:"ALL",children:n==="en"?"All Categories":" "}),r.jsx("option",{value:"TAX",children:n==="en"?"Tax":""}),r.jsx("option",{value:"GRANT",children:n==="en"?"Grant":""}),r.jsx("option",{value:"SALARY",children:n==="en"?"Salary":""}),r.jsx("option",{value:"INFRASTRUCTURE",children:n==="en"?"Infrastructure":" "}),r.jsx("option",{value:"UTILITIES",children:n==="en"?"Utilities":""}),r.jsx("option",{value:"OTHER",children:n==="en"?"Other":""})]})}),r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx("input",{type:"date",value:v.start,onChange:ae=>b({...v,start:ae.target.value}),className:"flex-1 px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00] text-sm"}),r.jsx("span",{className:"text-gray-500",children:"-"}),r.jsx("input",{type:"date",value:v.end,onChange:ae=>b({...v,end:ae.target.value}),className:"flex-1 px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00] text-sm"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-md border-2 border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gradient-to-r from-[#ff6b00] to-[#ff8533] text-white",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Date":""}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Type":""}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Category":""}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Description":""}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Party":""}),r.jsx("th",{className:"px-6 py-4 text-right font-semibold",children:n==="en"?"Amount":""}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Payment Mode":" "}),r.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:n==="en"?"Actions":""})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:E.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center text-gray-500",children:n==="en"?"No transactions found. Add your first transaction!":"   .    !"})}):E.map(ae=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(es,{size:16,className:"text-gray-400"}),L(ae.transactionDate)]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold border ${M(ae.type)}`,children:ae.type==="INCOME"?r.jsxs(r.Fragment,{children:[r.jsx(Yu,{size:14}),n==="en"?"Income":""]}):r.jsxs(r.Fragment,{children:[r.jsx(jg,{size:14}),n==="en"?"Expense":""]})})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[z(ae.category),r.jsx("span",{className:"text-gray-700",children:n==="en"?ae.subcategory:ae.subcategoryMr})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"max-w-xs",children:[r.jsx("p",{className:"text-gray-700 line-clamp-2",children:n==="en"?ae.description:ae.descriptionMr}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ae.referenceNumber})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-gray-700",children:ae.type==="INCOME"?n==="en"?ae.receivedFrom:ae.receivedFromMr:n==="en"?ae.paidTo:ae.paidToMr})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("span",{className:`font-bold text-lg ${ae.type==="INCOME"?"text-green-600":"text-red-600"}`,children:[ae.type==="INCOME"?"+":"-"," ",S(ae.amount)]})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("span",{className:"text-sm text-gray-600",children:ae.paymentMode.replace("_"," ")}),ae.attachment&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600 mt-1",children:[r.jsx(hr,{size:12}),n==="en"?"Attachment":""]})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("button",{onClick:()=>e(`/admin/financials/edit/${ae.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:n==="en"?"Edit":" ",children:r.jsx(ou,{size:18})}),r.jsx("button",{onClick:()=>j(ae.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:n==="en"?"Delete":"",children:r.jsx(ni,{size:18})})]})})]},ae.id))})]})})})]})},L4=()=>{const{language:n}=ns(),e=Ar(),{id:t}=bl(),s=!!t,[a,o]=W.useState(!1),[c,d]=W.useState({type:"INCOME",category:"TAX",subcategory:"",subcategoryMr:"",amount:"",description:"",descriptionMr:"",transactionDate:new Date().toISOString().split("T")[0],paymentMode:"CASH",referenceNumber:"",receivedFrom:"",receivedFromMr:"",paidTo:"",paidToMr:"",attachment:null,remarks:"",remarksMr:""}),[h,f]=W.useState({}),[g,p]=W.useState(null),v={TAX:{en:"Tax",mr:"",subcategories:[{en:"Property Tax",mr:" "},{en:"Water Tax",mr:" "},{en:"Trade License",mr:" "},{en:"Building Permission",mr:" "}]},GRANT:{en:"Grant",mr:"",subcategories:[{en:"Central Government Grant",mr:"  "},{en:"State Government Grant",mr:"  "},{en:"District Grant",mr:" "},{en:"Special Grant",mr:" "}]},FEES:{en:"Fees & Charges",mr:"  ",subcategories:[{en:"Birth/Death Certificate",mr:"/ "},{en:"Other Certificates",mr:" "},{en:"Rent Income",mr:" "},{en:"Advertisement Fees",mr:" "}]},DONATION:{en:"Donation",mr:"",subcategories:[{en:"CSR Donation",mr:"CSR "},{en:"Individual Donation",mr:" "},{en:"Organization Donation",mr:" "}]},OTHER:{en:"Other Income",mr:" ",subcategories:[{en:"Miscellaneous",mr:""}]}},b={SALARY:{en:"Salary & Wages",mr:"  ",subcategories:[{en:"Staff Salaries",mr:" "},{en:"Daily Wages",mr:" "},{en:"Honorarium",mr:""},{en:"Allowances",mr:""}]},INFRASTRUCTURE:{en:"Infrastructure",mr:" ",subcategories:[{en:"Road Construction",mr:" "},{en:"Road Repair",mr:" "},{en:"Drainage Work",mr:" "},{en:"Street Lights",mr:" "},{en:"Water Supply",mr:" "},{en:"Building Maintenance",mr:" "}]},UTILITIES:{en:"Utilities",mr:"",subcategories:[{en:"Electricity Bill",mr:" "},{en:"Water Bill",mr:" "},{en:"Telephone/Internet",mr:"/"},{en:"Fuel",mr:""}]},SUPPLIES:{en:"Supplies & Materials",mr:"  ",subcategories:[{en:"Stationery",mr:" "},{en:"Office Supplies",mr:" "},{en:"Cleaning Materials",mr:" "},{en:"Equipment",mr:""}]},PROGRAMS:{en:"Programs & Schemes",mr:"  ",subcategories:[{en:"Health Programs",mr:" "},{en:"Education Programs",mr:" "},{en:"Social Welfare",mr:" "},{en:"Agriculture Programs",mr:" "}]},ADMINISTRATIVE:{en:"Administrative",mr:"",subcategories:[{en:"Legal Fees",mr:" "},{en:"Audit Fees",mr:" "},{en:"Insurance",mr:""},{en:"Bank Charges",mr:" "},{en:"Travel Expenses",mr:" "}]},OTHER:{en:"Other Expenses",mr:" ",subcategories:[{en:"Miscellaneous",mr:""}]}},T=[{value:"CASH",en:"Cash",mr:""},{value:"CHEQUE",en:"Cheque",mr:""},{value:"ONLINE",en:"Online Payment",mr:" "},{value:"NEFT",en:"NEFT",mr:"NEFT"},{value:"RTGS",en:"RTGS",mr:"RTGS"},{value:"IMPS",en:"IMPS",mr:"IMPS"},{value:"UPI",en:"UPI",mr:"UPI"},{value:"BANK_TRANSFER",en:"Bank Transfer",mr:" "},{value:"DD",en:"Demand Draft",mr:" "}];W.useEffect(()=>{(async()=>{if(s)try{o(!0);const F=await bz(t);if(F){const k=F.transactionDate?new Date(F.transactionDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];d({...F,transactionDate:k}),F.attachment&&p(F.attachment)}else alert("Transaction not found"),e("/admin/financials")}catch(F){console.error("Error loading transaction:",F),alert("Failed to load transaction")}finally{o(!1)}})()},[t,s,e]);const E=()=>c.type==="INCOME"?v:b,j=()=>E()[c.category]?.subcategories||[],S=I=>{const{name:F,value:k}=I.target;d(P=>({...P,[F]:k})),h[F]&&f(P=>({...P,[F]:""}))},L=I=>{d(F=>({...F,type:I,category:I==="INCOME"?"TAX":"SALARY",subcategory:"",subcategoryMr:"",receivedFrom:"",receivedFromMr:"",paidTo:"",paidToMr:""}))},M=I=>{const F=I.target.value;d(k=>({...k,category:F,subcategory:"",subcategoryMr:""}))},z=I=>{const F=I.target.value;if(F!==""){const P=j()[parseInt(F)];d(V=>({...V,subcategory:P.en,subcategoryMr:P.mr}))}else d(k=>({...k,subcategory:"",subcategoryMr:""}))},se=I=>{const F=I.target.files[0];if(F){if(F.size>5*1024*1024){f(P=>({...P,attachment:n==="en"?"File size should not exceed 5MB":"  5MB   "}));return}if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(F.type)){f(P=>({...P,attachment:n==="en"?"Only PDF and image files are allowed":" PDF     "}));return}d(P=>({...P,attachment:F})),p(F.name),f(P=>({...P,attachment:""}))}},ae=()=>{const I={};return c.subcategory||(I.subcategory=n==="en"?"Subcategory is required":"  "),(!c.amount||parseFloat(c.amount)<=0)&&(I.amount=n==="en"?"Valid amount is required":"   "),c.description.trim()||(I.description=n==="en"?"Description is required":"  "),c.descriptionMr.trim()||(I.descriptionMr=n==="en"?"Marathi description is required":"   "),c.transactionDate||(I.transactionDate=n==="en"?"Transaction date is required":"   "),c.referenceNumber.trim()||(I.referenceNumber=n==="en"?"Reference number is required":"   "),c.type==="INCOME"?(c.receivedFrom.trim()||(I.receivedFrom=n==="en"?"Received from is required":"   "),c.receivedFromMr.trim()||(I.receivedFromMr=n==="en"?"Marathi received from is required":"   ")):(c.paidTo.trim()||(I.paidTo=n==="en"?"Paid to is required":"   "),c.paidToMr.trim()||(I.paidToMr=n==="en"?"Marathi paid to is required":"   ")),f(I),Object.keys(I).length===0},G=async I=>{if(I.preventDefault(),ae())try{o(!0),s?(await wz(t,c),alert(n==="en"?"Transaction updated successfully!":"   !")):(await vz(c),alert(n==="en"?"Transaction added successfully!":"  !")),e("/admin/financials")}catch(F){console.error("Error saving transaction:",F),alert(n==="en"?`Failed to ${s?"update":"add"} transaction: ${F.message}`:` ${s?"":""} : ${F.message}`)}finally{o(!1)}},D=I=>I?new Intl.NumberFormat("en-IN").format(I):"";return r.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:s?n==="en"?"Edit Transaction":"  ":n==="en"?"Add New Transaction":"  "}),r.jsx("p",{className:"text-gray-600 mt-1",children:n==="en"?"Enter financial transaction details":"    "})]}),r.jsxs("form",{onSubmit:G,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(x4,{className:"text-[#ff6b00]"}),n==="en"?"Transaction Type":" "]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("button",{type:"button",onClick:()=>L("INCOME"),className:`flex-1 p-4 rounded-lg border-2 transition-all ${c.type==="INCOME"?"bg-green-50 border-green-500 text-green-700":"bg-white border-gray-300 text-gray-600 hover:border-green-300"}`,children:[r.jsx("div",{className:"text-2xl mb-2",children:""}),r.jsx("div",{className:"font-semibold",children:n==="en"?"Income":""}),r.jsx("div",{className:"text-sm",children:n==="en"?"Money Received":" "})]}),r.jsxs("button",{type:"button",onClick:()=>L("EXPENSE"),className:`flex-1 p-4 rounded-lg border-2 transition-all ${c.type==="EXPENSE"?"bg-red-50 border-red-500 text-red-700":"bg-white border-gray-300 text-gray-600 hover:border-red-300"}`,children:[r.jsx("div",{className:"text-2xl mb-2",children:""}),r.jsx("div",{className:"font-semibold",children:n==="en"?"Expense":""}),r.jsx("div",{className:"text-sm",children:n==="en"?"Money Paid":" "})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(hr,{className:"text-[#ff6b00]"}),n==="en"?"Transaction Details":" "]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Category":""," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"category",value:c.category,onChange:M,className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:Object.entries(E()).map(([I,F])=>r.jsx("option",{value:I,children:n==="en"?F.en:F.mr},I))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Subcategory":""," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{onChange:z,value:j().findIndex(I=>I.en===c.subcategory),className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.subcategory?"border-red-500":"border-gray-300"}`,children:[r.jsx("option",{value:"",children:n==="en"?"Select subcategory":" "}),j().map((I,F)=>r.jsx("option",{value:F,children:n==="en"?I.en:I.mr},F))]}),h.subcategory&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",h.subcategory]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Amount ()":" ()"," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(kx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"number",name:"amount",value:c.amount,onChange:S,placeholder:"0",className:`w-full pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.amount?"border-red-500":"border-gray-300"}`})]}),c.amount&&r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:D(c.amount)}),h.amount&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",h.amount]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Transaction Date":" "," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"date",name:"transactionDate",value:c.transactionDate,onChange:S,className:`w-full pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.transactionDate?"border-red-500":"border-gray-300"}`})]}),h.transactionDate&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",h.transactionDate]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Description (English)":" ()"," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{name:"description",value:c.description,onChange:S,rows:"3",placeholder:"Enter transaction description in English...",className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.description?"border-red-500":"border-gray-300"}`}),h.description&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",h.description]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Description (Marathi)":" ()"," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{name:"descriptionMr",value:c.descriptionMr,onChange:S,rows:"3",placeholder:"    ...",className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.descriptionMr?"border-red-500":"border-gray-300"}`}),h.descriptionMr&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",h.descriptionMr]})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(x4,{className:"text-[#ff6b00]"}),n==="en"?"Payment Information":" "]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Payment Mode":" "," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"paymentMode",value:c.paymentMode,onChange:S,className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:T.map(I=>r.jsx("option",{value:I.value,children:n==="en"?I.en:I.mr},I.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Reference Number":" "," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(fU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",name:"referenceNumber",value:c.referenceNumber,onChange:S,placeholder:"REF/2025/001",className:`w-full pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.referenceNumber?"border-red-500":"border-gray-300"}`})]}),h.referenceNumber&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",h.referenceNumber]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[c.type==="INCOME"?n==="en"?"Received From (English)":"  ()":n==="en"?"Paid To (English)":"  ()",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(em,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",name:c.type==="INCOME"?"receivedFrom":"paidTo",value:c.type==="INCOME"?c.receivedFrom:c.paidTo,onChange:S,placeholder:c.type==="INCOME"?"Name of payer...":"Name of payee...",className:`w-full pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${(c.type==="INCOME"?h.receivedFrom:h.paidTo)?"border-red-500":"border-gray-300"}`})]}),(c.type==="INCOME"?h.receivedFrom:h.paidTo)&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",c.type==="INCOME"?h.receivedFrom:h.paidTo]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[c.type==="INCOME"?n==="en"?"Received From (Marathi)":"  ()":n==="en"?"Paid To (Marathi)":"  ()",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(em,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",name:c.type==="INCOME"?"receivedFromMr":"paidToMr",value:c.type==="INCOME"?c.receivedFromMr:c.paidToMr,onChange:S,placeholder:c.type==="INCOME"?" ...":" ...",className:`w-full pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${(c.type==="INCOME"?h.receivedFromMr:h.paidToMr)?"border-red-500":"border-gray-300"}`})]}),(c.type==="INCOME"?h.receivedFromMr:h.paidToMr)&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",c.type==="INCOME"?h.receivedFromMr:h.paidToMr]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Attachment (Invoice, Receipt, etc.)":" (, , .)"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"flex-1 cursor-pointer",children:[r.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 border-2 rounded-lg hover:border-[#ff6b00] transition-colors ${h.attachment?"border-red-500":"border-gray-300"}`,children:[r.jsx(Zf,{size:20,className:"text-gray-400"}),r.jsx("span",{className:"text-gray-600",children:g||(n==="en"?"Choose file...":" ...")})]}),r.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:se,className:"hidden"})]}),g&&r.jsx("button",{type:"button",onClick:()=>{d(I=>({...I,attachment:null})),p(null)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(Vs,{size:20})})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n==="en"?"PDF or Image files only. Max size: 5MB":" PDF   .  : 5MB"}),h.attachment&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",h.attachment]})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:n==="en"?"Additional Notes (Optional)":"  ()"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Remarks (English)":" ()"}),r.jsx("textarea",{name:"remarks",value:c.remarks,onChange:S,rows:"3",placeholder:"Any additional notes...",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Remarks (Marathi)":" ()"}),r.jsx("textarea",{name:"remarksMr",value:c.remarksMr,onChange:S,rows:"3",placeholder:"  ...",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-4",children:[r.jsxs("button",{type:"button",onClick:()=>e("/admin/financials"),className:"px-6 py-2 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",disabled:a,children:[r.jsx(Vs,{size:20}),n==="en"?"Cancel":" "]}),r.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-[#138808] to-[#1aa910] text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:a,children:[r.jsx(qs,{size:20}),a?n==="en"?"Saving...":"  ...":s?n==="en"?"Update Transaction":"  ":n==="en"?"Save Transaction":"  "]})]})]})]})},Wz=()=>{const{language:n}=ns(),e=Ar(),[t,s]=W.useState({villageImage:"",description:{en:"Shivpur is a vibrant village located in the heart of Maharashtra. With a rich cultural heritage and a progressive outlook, our village has been at the forefront of rural development. The village is known for its agricultural productivity, community spirit, and commitment to education and social welfare.",mr:"        .             .    ,          ."},population:"5,000+",area:"15 sq km",households:"800+",history:{en:"Our village has a rich history spanning over 500 years. Founded during the Maratha Empire, Shivpur has witnessed significant historical events and has been home to many notable personalities. The village played an important role during the freedom struggle and continues to preserve its historical heritage.",mr:"        .                 .             ."},vision:{en:"To transform Shivpur into a model village that balances traditional values with modern development, ensuring prosperity, education, and well-being for all residents while preserving our cultural heritage and environment.",mr:"            ,          ,     ."},mission:{en:"Our mission is to provide quality infrastructure, promote sustainable agriculture, ensure access to education and healthcare, empower youth and women, and foster community participation in development initiatives.",mr:"      ,    ,       ,            ."},importantPlaces:[{id:1,name:{en:"Village Temple",mr:" "},description:{en:"Ancient temple dedicated to Lord Shiva, the spiritual center of our village",mr:"    ,    "},photoUrl:""},{id:2,name:{en:"Community Hall",mr:" "},description:{en:"Modern community hall for village meetings and cultural programs",mr:"       "},photoUrl:""},{id:3,name:{en:"Village Pond",mr:" "},description:{en:"Historic pond that serves as the main water source during summer",mr:"         "},photoUrl:""}]}),[a,o]=W.useState({}),[c,d]=W.useState(!1),[h,f]=W.useState(!0),[g,p]=W.useState(!1);W.useEffect(()=>{(async()=>{try{f(!0);const I=await xT();I&&s({...I,villageImage:I.villageImage||""})}catch(I){console.error("Error loading about content:",I)}finally{f(!1)}})()},[]);const v=(D,I)=>{s(F=>({...F,[D]:I})),a[D]&&o(F=>({...F,[D]:""}))},b=(D,I)=>{s(F=>({...F,[D]:I})),a[D]&&o(F=>({...F,[D]:""}))},T=(D,I,F)=>{const k=[...t.importantPlaces];k[D]={...k[D],[I]:F},s(P=>({...P,importantPlaces:k}))},E=(D,I)=>{const F=I.target.files[0];if(F){if(!F.type.startsWith("image/")){alert(n==="en"?"Please select an image file":"   ");return}if(F.size>5*1024*1024){alert(n==="en"?"Image size should be less than 5MB":"  5MB   ");return}const k=new FileReader;k.onloadend=()=>{const P=[...t.importantPlaces];P[D]={...P[D],photoUrl:k.result},s(V=>({...V,importantPlaces:P}))},k.readAsDataURL(F)}},j=D=>{const I=D.target.files[0];if(I){if(!I.type.startsWith("image/")){alert(n==="en"?"Please select an image file":"   ");return}if(I.size>5*1024*1024){alert(n==="en"?"Image size should be less than 5MB":"  5MB   ");return}const F=new FileReader;F.onloadend=()=>{s(k=>({...k,villageImage:F.result}))},F.readAsDataURL(I)}},S=()=>{s(D=>({...D,villageImage:""}))},L=D=>{const I=[...t.importantPlaces];I[D]={...I[D],photoUrl:""},s(F=>({...F,importantPlaces:I}))},M=()=>{const D={id:Date.now(),name:{en:"",mr:""},description:{en:"",mr:""},photoUrl:""};s(I=>({...I,importantPlaces:[...I.importantPlaces,D]}))},z=D=>{window.confirm(n==="en"?"Remove this place?":"  ?")&&s(I=>({...I,importantPlaces:I.importantPlaces.filter((F,k)=>k!==D)}))},se=()=>{const D={};return t.description.en.trim()||(D.description_en=n==="en"?"English description is required":"   "),t.description.mr.trim()||(D.description_mr=n==="en"?"Marathi description is required":"   "),t.population.trim()||(D.population=n==="en"?"Population is required":"  "),t.area.trim()||(D.area=n==="en"?"Area is required":"  "),t.households.trim()||(D.households=n==="en"?"Households is required":"  "),o(D),Object.keys(D).length===0},ae=async D=>{if(D.preventDefault(),se())try{p(!0),await _4(t),d(!0),setTimeout(()=>d(!1),3e3),alert(n==="en"?"About page content updated successfully!":"About     !")}catch(I){console.error("Error saving about content:",I),alert(n==="en"?"Failed to save about content":"   ")}finally{p(!1)}},G=async()=>{try{await _4(t),window.open("/about","_blank")}catch(D){console.error("Error saving before preview:",D),alert("Failed to save content before preview")}};return r.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n==="en"?"About Page Management":"About  "}),r.jsx("p",{className:"text-gray-600 mt-1",children:n==="en"?"Edit village information, history, vision, and important places":" , ,      "})]}),r.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-[#138808] text-[#138808] rounded-lg hover:bg-[#138808] hover:text-white transition-colors",children:[r.jsx(yi,{size:20}),n==="en"?"Preview Page":" "]})]}),c&&r.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-500 rounded-lg flex items-center gap-2 text-green-700",children:[r.jsx(Qn,{size:20}),n==="en"?"Changes saved successfully!":"   !"]}),r.jsxs("form",{onSubmit:ae,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(bU,{className:"text-[#ff6b00]"}),n==="en"?"Village Hero Image":"  "]}),t.villageImage&&r.jsxs("div",{className:"mb-4 relative inline-block",children:[r.jsx("img",{src:t.villageImage,alt:"Village",className:"h-48 w-auto rounded-lg border-2 border-gray-300 object-cover",onError:D=>{D.target.src="https://via.placeholder.com/800x400?text=Image+Not+Found"}}),r.jsx("button",{type:"button",onClick:S,className:"absolute -top-2 -right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:r.jsx(Vs,{size:20})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg cursor-pointer hover:from-blue-600 hover:to-blue-700 transition-all shadow-md hover:shadow-lg",children:[r.jsx(Zf,{size:20}),r.jsx("span",{className:"font-medium",children:n==="en"?"Upload Village Photo":"   "})]}),r.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:n==="en"?"Recommended: 1200x600px, Max 5MB, JPG/PNG":": 1200x600px,  5MB, JPG/PNG"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"relative",children:[r.jsx(v4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:t.villageImage&&t.villageImage.startsWith("data:")?"":t.villageImage||"",onChange:D=>v("villageImage",D.target.value),placeholder:n==="en"?"Or paste image URL":"  URL  ",className:"w-full pl-10 pr-4 py-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"https://example.com/village-image.jpg"})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(hr,{className:"text-[#ff6b00]"}),n==="en"?"Village Description":" "]}),r.jsxs("div",{children:[r.jsx(_n,{label:"Village Description",name:"description",type:"textarea",rows:4,value:t.description,onChange:D=>b("description",D),required:!0,placeholder:"Enter village description"}),a.description&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.description})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(Es,{className:"text-[#ff6b00]"}),n==="en"?"Village Statistics":" "]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Population":""," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:t.population,onChange:D=>v("population",D.target.value),placeholder:"5,000+",className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${a.population?"border-red-500":"border-gray-300"}`}),a.population&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.population})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Area":""," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:t.area,onChange:D=>v("area",D.target.value),placeholder:"15 sq km",className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${a.area?"border-red-500":"border-gray-300"}`}),a.area&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.area})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Households":""," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:t.households,onChange:D=>v("households",D.target.value),placeholder:"800+",className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${a.households?"border-red-500":"border-gray-300"}`}),a.households&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.households})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(hr,{className:"text-[#ff6b00]"}),n==="en"?"History, Vision & Mission":",   "]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{children:r.jsx(_n,{label:"History",name:"history",type:"textarea",rows:3,value:t.history,onChange:D=>b("history",D),placeholder:"Enter village history"})}),r.jsx("div",{children:r.jsx(_n,{label:"Vision",name:"vision",type:"textarea",rows:3,value:t.vision,onChange:D=>b("vision",D),placeholder:"Enter village vision"})}),r.jsx("div",{children:r.jsx(_n,{label:"Mission",name:"mission",type:"textarea",rows:3,value:t.mission,onChange:D=>b("mission",D),placeholder:"Enter village mission"})})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(xl,{className:"text-[#ff6b00]"}),n==="en"?"Important Places":" "]}),r.jsxs("button",{type:"button",onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-[#138808] text-white rounded-lg hover:bg-[#0f6906] transition-colors",children:[r.jsx(ps,{size:18}),n==="en"?"Add Place":" "]})]}),r.jsx("div",{className:"space-y-6",children:t.importantPlaces.map((D,I)=>r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border-2 border-gray-200 relative",children:[r.jsx("button",{type:"button",onClick:()=>z(I),className:"absolute top-2 right-2 p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(ni,{size:18})}),r.jsxs("div",{className:"space-y-4 pr-10",children:[r.jsx("div",{children:r.jsx(_n,{label:"Place Name",name:`place-name-${I}`,value:D.name,onChange:F=>T(I,"name",F),placeholder:"Enter place name"})}),r.jsx("div",{children:r.jsx(_n,{label:"Description",name:`place-description-${I}`,type:"textarea",rows:2,value:D.description,onChange:F=>T(I,"description",F),placeholder:"Enter place description"})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n==="en"?"Photo":""}),D.photoUrl&&r.jsxs("div",{className:"mb-3 relative inline-block",children:[r.jsx("img",{src:D.photoUrl,alt:D.name.en,className:"h-32 w-auto rounded-lg border-2 border-gray-300 object-cover",onError:F=>{F.target.src="https://via.placeholder.com/400x300?text=Image+Not+Found"}}),r.jsx("button",{type:"button",onClick:()=>L(I),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:r.jsx(Vs,{size:16})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg cursor-pointer hover:from-blue-600 hover:to-blue-700 transition-all shadow-md hover:shadow-lg",children:[r.jsx(Zf,{size:18}),r.jsx("span",{className:"text-sm font-medium",children:n==="en"?"Upload Image":"  "})]}),r.jsx("input",{type:"file",accept:"image/*",onChange:F=>E(I,F),className:"hidden"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n==="en"?"Max 5MB, JPG/PNG":" 5MB, JPG/PNG"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"relative",children:[r.jsx(v4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",value:D.photoUrl&&D.photoUrl.startsWith("data:")?"":D.photoUrl||"",onChange:F=>T(I,"photoUrl",F.target.value),placeholder:n==="en"?"Or paste image URL":"  URL  ",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"https://example.com/image.jpg"})]})]})]})]})]},D.id))})]}),r.jsxs("div",{className:"flex justify-end gap-4",children:[r.jsx("button",{type:"button",onClick:()=>e("/admin/dashboard"),className:"px-6 py-2 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:g,children:n==="en"?"Cancel":" "}),r.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-[#138808] to-[#1aa910] text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:g,children:[r.jsx(qs,{size:20}),g?n==="en"?"Saving...":"  ...":n==="en"?"Save Changes":"  "]})]})]})]})},Kz=()=>{const{language:n}=ns(),e=Ar(),[t,s]=W.useState({description:{en:"Education is the foundation of our village development. We are committed to providing quality education to all children and promoting literacy among adults. Our village has well-equipped schools and anganwadis that ensure holistic development of children.",mr:"      .            .             ."},schools:[{id:1,name:{en:"Government Primary School",mr:"  "},type:{en:"Primary",mr:""},classes:"1st to 7th",students:"250+",teachers:"12",facilities:{en:"Computer Lab, Library, Playground, Mid-day Meal",mr:" , ,  ,  "},description:{en:"Well-established primary school with modern facilities and dedicated teachers",mr:"       "}},{id:2,name:{en:"Zilla Parishad High School",mr:"  "},type:{en:"Secondary",mr:""},classes:"8th to 10th",students:"180+",teachers:"15",facilities:{en:"Science Lab, Computer Lab, Sports Room, Library",mr:" ,  ,  , "},description:{en:"Quality secondary education with focus on science and mathematics",mr:"        "}}],anganwadis:[{id:1,name:{en:"Anganwadi Center 1",mr:"  "},location:{en:"Main Village",mr:" "},children:"35",worker:{en:"Smt. Anita Patil",mr:"  "},helper:{en:"Smt. Sunita Bhosale",mr:"  "},services:{en:"Nutrition, Pre-school Education, Health Check-ups, Immunization",mr:", - ,  , "},description:{en:"Comprehensive child development center for children aged 0-6 years",mr:"-       "}},{id:2,name:{en:"Anganwadi Center 2",mr:"  "},location:{en:"East Hamlet",mr:" "},children:"30",worker:{en:"Smt. Rekha Kamble",mr:"  "},helper:{en:"Smt. Meera Jadhav",mr:"  "},services:{en:"Nutrition, Pre-school Education, Health Check-ups, Immunization",mr:", - ,  , "},description:{en:"Well-equipped anganwadi serving children from eastern part of village",mr:"       "}}],programs:[{id:1,name:{en:"Adult Literacy Program",mr:"  "},description:{en:"Evening classes for adults who missed formal education, focusing on basic reading, writing and numeracy skills",mr:"     ,  ,      "},timing:{en:"6 PM - 8 PM (Mon-Fri)",mr:"  -  (-)"},participants:"40+",coordinator:{en:"Mr. Suresh Deshmukh",mr:"  "}},{id:2,name:{en:"Computer Training for Youth",mr:"  "},description:{en:"Free computer training program for village youth covering basic computer skills, MS Office, and internet usage",mr:"  , MS Office           "},timing:{en:"4 PM - 6 PM (Tue-Sat)",mr:"  -  (-)"},participants:"25",coordinator:{en:"Mr. Rahul Patil",mr:"  "}},{id:3,name:{en:"Girl Child Education Support",mr:"  "},description:{en:"Scholarship and support program to encourage girl child education and reduce dropout rates",mr:"            "},beneficiaries:"50+ girls",coordinator:{en:"Mrs. Savita Shinde",mr:"  "}}],stats:{literacyRate:"78%",totalStudents:"500+",totalTeachers:"30+",schoolDropoutRate:"5%"}}),[a,o]=W.useState({}),[c,d]=W.useState(!1),[h,f]=W.useState(!0),[g,p]=W.useState(!1);W.useEffect(()=>{(async()=>{try{f(!0);const k=await yT();k&&s(k)}catch(k){console.error("Error loading education content:",k)}finally{f(!1)}})()},[]);const v=(F,k)=>{s(P=>({...P,[F]:k}))},b=(F,k)=>{s(P=>({...P,stats:{...P.stats,[F]:k}}))},T=(F,k,P)=>{const V=[...t.schools];V[F]={...V[F],[k]:P},s(le=>({...le,schools:V}))},E=()=>{const F={id:Date.now(),name:{en:"",mr:""},type:{en:"",mr:""},classes:"",students:"",teachers:"",facilities:{en:"",mr:""},description:{en:"",mr:""}};s(k=>({...k,schools:[...k.schools,F]}))},j=F=>{window.confirm(n==="en"?"Remove this school?":"  ?")&&s(k=>({...k,schools:k.schools.filter((P,V)=>V!==F)}))},S=(F,k,P)=>{const V=[...t.anganwadis];V[F]={...V[F],[k]:P},s(le=>({...le,anganwadis:V}))},L=()=>{const F={id:Date.now(),name:{en:"",mr:""},location:{en:"",mr:""},children:"",worker:{en:"",mr:""},helper:{en:"",mr:""},services:{en:"",mr:""},description:{en:"",mr:""}};s(k=>({...k,anganwadis:[...k.anganwadis,F]}))},M=F=>{window.confirm(n==="en"?"Remove this anganwadi?":"  ?")&&s(k=>({...k,anganwadis:k.anganwadis.filter((P,V)=>V!==F)}))},z=(F,k,P)=>{const V=[...t.programs];V[F]={...V[F],[k]:P},s(le=>({...le,programs:V}))},se=()=>{const F={id:Date.now(),name:{en:"",mr:""},description:{en:"",mr:""},timing:{en:"",mr:""},participants:"",coordinator:{en:"",mr:""}};s(k=>({...k,programs:[...k.programs,F]}))},ae=F=>{window.confirm(n==="en"?"Remove this program?":"  ?")&&s(k=>({...k,programs:k.programs.filter((P,V)=>V!==F)}))},G=()=>{const F={};return t.description.en.trim()||(F.description_en=n==="en"?"English description is required":"   "),t.description.mr.trim()||(F.description_mr=n==="en"?"Marathi description is required":"   "),o(F),Object.keys(F).length===0},D=async F=>{if(F.preventDefault(),G())try{p(!0),await S4(t),d(!0),setTimeout(()=>d(!1),3e3),alert(n==="en"?"Education page content updated successfully!":"Education     !")}catch(k){console.error("Error saving education content:",k),alert(n==="en"?"Failed to save education content":"   ")}finally{p(!1)}},I=async()=>{try{await S4(t),window.open("/education","_blank")}catch(F){console.error("Error saving before preview:",F),alert("Failed to save content before preview")}};return r.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n==="en"?"Education Page Management":"  "}),r.jsx("p",{className:"text-gray-600 mt-1",children:n==="en"?"Edit schools, anganwadis, and educational programs":",      "})]}),r.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-[#138808] text-[#138808] rounded-lg hover:bg-[#138808] hover:text-white transition-colors",children:[r.jsx(yi,{size:20}),n==="en"?"Preview Page":" "]})]}),c&&r.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-500 rounded-lg flex items-center gap-2 text-green-700",children:[r.jsx(Qn,{size:20}),n==="en"?"Changes saved successfully!":"   !"]}),r.jsxs("form",{onSubmit:D,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(Hg,{className:"text-[#ff6b00]"}),n==="en"?"Page Description":" "]}),r.jsxs("div",{children:[r.jsx(_n,{label:"Education Page Description",name:"description",type:"textarea",rows:4,value:t.description,onChange:F=>v("description",F),required:!0,placeholder:"Enter education page description"}),a.description&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.description})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(Es,{className:"text-[#ff6b00]"}),n==="en"?"Education Statistics":" "]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Literacy Rate":" "}),r.jsx("input",{type:"text",value:t.stats.literacyRate,onChange:F=>b("literacyRate",F.target.value),placeholder:"78%",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Total Students":" "}),r.jsx("input",{type:"text",value:t.stats.totalStudents,onChange:F=>b("totalStudents",F.target.value),placeholder:"500+",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Total Teachers":" "}),r.jsx("input",{type:"text",value:t.stats.totalTeachers,onChange:F=>b("totalTeachers",F.target.value),placeholder:"30+",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Dropout Rate":"  "}),r.jsx("input",{type:"text",value:t.stats.schoolDropoutRate,onChange:F=>b("schoolDropoutRate",F.target.value),placeholder:"5%",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(_2,{className:"text-[#ff6b00]"}),n==="en"?"Schools":""]}),r.jsxs("button",{type:"button",onClick:E,className:"flex items-center gap-2 px-4 py-2 bg-[#138808] text-white rounded-lg hover:bg-[#0f6906] transition-colors",children:[r.jsx(ps,{size:18}),n==="en"?"Add School":" "]})]}),r.jsx("div",{className:"space-y-6",children:t.schools.map((F,k)=>r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border-2 border-gray-200 relative",children:[r.jsx("button",{type:"button",onClick:()=>j(k),className:"absolute top-2 right-2 p-2 text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(ni,{size:18})}),r.jsxs("div",{className:"space-y-4 pr-10",children:[r.jsx("div",{children:r.jsx(_n,{label:"School Name",name:`school-name-${k}`,value:F.name,onChange:P=>T(k,"name",P),placeholder:"Enter school name"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Classes":""}),r.jsx("input",{type:"text",value:F.classes,onChange:P=>T(k,"classes",P.target.value),placeholder:"1st to 7th",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Students":""}),r.jsx("input",{type:"text",value:F.students,onChange:P=>T(k,"students",P.target.value),placeholder:"250+",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Teachers":""}),r.jsx("input",{type:"text",value:F.teachers,onChange:P=>T(k,"teachers",P.target.value),placeholder:"12",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsx("div",{children:r.jsx(_n,{label:"School Type",name:`school-type-${k}`,value:F.type,onChange:P=>T(k,"type",P),placeholder:"Primary / Secondary"})})]}),r.jsx("div",{children:r.jsx(_n,{label:"Facilities",name:`school-facilities-${k}`,value:F.facilities,onChange:P=>T(k,"facilities",P),placeholder:"Enter school facilities"})}),r.jsx("div",{children:r.jsx(_n,{label:"Description",name:`school-description-${k}`,type:"textarea",rows:2,value:F.description,onChange:P=>T(k,"description",P),placeholder:"Enter school description"})})]})]},F.id))})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(b2,{className:"text-[#ff6b00]"}),n==="en"?"Anganwadis":""]}),r.jsxs("button",{type:"button",onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-[#138808] text-white rounded-lg hover:bg-[#0f6906] transition-colors",children:[r.jsx(ps,{size:18}),n==="en"?"Add Anganwadi":" "]})]}),r.jsx("div",{className:"space-y-6",children:t.anganwadis.map((F,k)=>r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border-2 border-gray-200 relative",children:[r.jsx("button",{type:"button",onClick:()=>M(k),className:"absolute top-2 right-2 p-2 text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(ni,{size:18})}),r.jsxs("div",{className:"space-y-4 pr-10",children:[r.jsx("div",{children:r.jsx(_n,{label:"Anganwadi Name",name:`anganwadi-name-${k}`,value:F.name,onChange:P=>S(k,"name",P),placeholder:"Enter anganwadi name"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{children:r.jsx(_n,{label:"Location",name:`anganwadi-location-${k}`,value:F.location,onChange:P=>S(k,"location",P),placeholder:"Enter location"})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Children":""}),r.jsx("input",{type:"text",value:F.children,onChange:P=>S(k,"children",P.target.value),placeholder:"35",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("div",{children:r.jsx(_n,{label:"Worker",name:`anganwadi-worker-${k}`,value:F.worker,onChange:P=>S(k,"worker",P),placeholder:"Enter worker name"})}),r.jsx("div",{children:r.jsx(_n,{label:"Helper",name:`anganwadi-helper-${k}`,value:F.helper,onChange:P=>S(k,"helper",P),placeholder:"Enter helper name"})})]}),r.jsx("div",{children:r.jsx(_n,{label:"Services",name:`anganwadi-services-${k}`,value:F.services,onChange:P=>S(k,"services",P),placeholder:"Enter services provided"})}),r.jsx("div",{children:r.jsx(_n,{label:"Description",name:`anganwadi-description-${k}`,type:"textarea",rows:2,value:F.description,onChange:P=>S(k,"description",P),placeholder:"Enter anganwadi description"})})]})]},F.id))})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(Hg,{className:"text-[#ff6b00]"}),n==="en"?"Educational Programs":" "]}),r.jsxs("button",{type:"button",onClick:se,className:"flex items-center gap-2 px-4 py-2 bg-[#138808] text-white rounded-lg hover:bg-[#0f6906] transition-colors",children:[r.jsx(ps,{size:18}),n==="en"?"Add Program":" "]})]}),r.jsx("div",{className:"space-y-6",children:t.programs.map((F,k)=>r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border-2 border-gray-200 relative",children:[r.jsx("button",{type:"button",onClick:()=>ae(k),className:"absolute top-2 right-2 p-2 text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(ni,{size:18})}),r.jsxs("div",{className:"space-y-4 pr-10",children:[r.jsx("div",{children:r.jsx(_n,{label:"Program Name",name:`program-name-${k}`,value:F.name,onChange:P=>z(k,"name",P),placeholder:"Enter program name"})}),r.jsx("div",{children:r.jsx(_n,{label:"Description",name:`program-description-${k}`,type:"textarea",rows:2,value:F.description,onChange:P=>z(k,"description",P),placeholder:"Enter program description"})})]})]},F.id))})]}),r.jsxs("div",{className:"flex justify-end gap-4",children:[r.jsx("button",{type:"button",onClick:()=>e("/admin/dashboard"),className:"px-6 py-2 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:g,children:n==="en"?"Cancel":" "}),r.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-[#138808] to-[#1aa910] text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:g,children:[r.jsx(qs,{size:20}),g?n==="en"?"Saving...":"  ...":n==="en"?"Save Changes":"  "]})]})]})]})},ts={VILLAGES:$t.villages(),DEMOGRAPHICS:$t.demographics(),POPULATION_BREAKDOWNS:$t.populationBreakdowns(),VILLAGE_GROUPS:$t.villageGroups(),INFRASTRUCTURE:$t.infrastructure(),STATISTICS_YEARS:$t.statisticsYears()};async function dm(){try{console.log("Fetching villages from Firebase server (bypassing cache)...");const e=(await E9(Ht(Je,ts.VILLAGES))).docs.map(t=>{const s=t.data(),{id:a,...o}=s;return{id:t.id,...o}});return e.sort((t,s)=>{const a=t.createdAt?.toMillis?.()||0,o=s.createdAt?.toMillis?.()||0;return a-o}),console.log("Fetched from server:",e.length,"villages"),console.log("Village IDs:",e.map(t=>({docId:t.id,name:t.nameEn,createdAt:t.createdAt}))),e}catch(n){throw console.error("Error getting villages:",n),n}}async function Yz(n){try{return{id:(await Ns(Ht(Je,ts.VILLAGES),{...n,gramPanchayatId:n.gramPanchayatId||"default",createdAt:Qt(),updatedAt:Qt()})).id,...n}}catch(e){throw console.error("Error creating village:",e),e}}async function Xz(n,e){try{return await lh(Ft(Je,ts.VILLAGES,n),{...e,updatedAt:Qt()},{merge:!0}),{id:n,...e}}catch(t){throw console.error("Error updating village:",t),t}}async function Qz(n){try{console.log("Attempting to delete village from Firebase, ID:",n);const e=Ft(Je,ts.VILLAGES,n);return console.log("Village reference created:",e.path),await Uo(e),console.log("Firebase deleteDoc completed successfully for:",n),!0}catch(e){throw console.error("Error deleting village from Firebase:",e),console.error("Error code:",e.code),console.error("Error message:",e.message),e}}async function Jz(n,e){try{const t=Ts(Ht(Je,ts.DEMOGRAPHICS),ti("villageId","==",n),ti("year","==",e)),s=await wr(t);if(s.empty)return null;const a=s.docs[0];return{id:a.id,...a.data()}}catch(t){throw console.error("Error getting demographics:",t),t}}async function ST(n){try{const e=Ts(Ht(Je,ts.DEMOGRAPHICS),ti("year","==",n));return(await wr(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting demographics by year:",e),e}}async function ET(n){try{console.log("bulkUpsertDemographics: Starting batch operation for",n.length,"records");const e=py(Je);let t=0,s=0;for(const a of n){const o=await Jz(a.villageId,a.year);if(o){console.log(`Updating demographics for village ${a.villageId}, year ${a.year}`);const c=Ft(Je,ts.DEMOGRAPHICS,o.id);e.update(c,{...a,updatedAt:Qt()}),t++}else{console.log(`Creating new demographics for village ${a.villageId}, year ${a.year}`);const c=Ft(Ht(Je,ts.DEMOGRAPHICS));e.set(c,{...a,createdAt:Qt(),updatedAt:Qt()}),s++}}return console.log(`Committing batch: ${s} creates, ${t} updates`),await e.commit(),console.log("Batch committed successfully to Firebase"),!0}catch(e){throw console.error("Error bulk upserting demographics:",e),e}}async function AT(n){try{const e=Ts(Ht(Je,ts.POPULATION_BREAKDOWNS),ti("year","==",n));return(await wr(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting breakdowns by year:",e),e}}async function Zz(n){try{console.log("bulkUpsertPopulationBreakdowns: Starting batch operation for",n.length,"records");const e=py(Je);let t=0,s=0;for(const a of n){const o=Ts(Ht(Je,ts.POPULATION_BREAKDOWNS),ti("villageId","==",a.villageId),ti("year","==",a.year),ti("category","==",a.category)),c=await wr(o),d=(a.maleCount||0)+(a.femaleCount||0);if(c.empty){const h=Ft(Ht(Je,ts.POPULATION_BREAKDOWNS));e.set(h,{...a,totalCount:d,createdAt:Qt(),updatedAt:Qt()}),s++}else{const h=c.docs[0],f=Ft(Je,ts.POPULATION_BREAKDOWNS,h.id);e.update(f,{...a,totalCount:d,updatedAt:Qt()}),t++}}return console.log(`Committing batch: ${s} creates, ${t} updates`),await e.commit(),console.log("Population breakdowns batch committed successfully"),!0}catch(e){throw console.error("Error bulk upserting breakdowns:",e),e}}async function eB(n,e){try{const t=Ts(Ht(Je,ts.VILLAGE_GROUPS),ti("villageId","==",n),ti("year","==",e)),s=await wr(t);if(s.empty)return null;const a=s.docs[0];return{id:a.id,...a.data()}}catch(t){throw console.error("Error getting groups:",t),t}}async function TT(n){try{const e=Ts(Ht(Je,ts.VILLAGE_GROUPS),ti("year","==",n));return(await wr(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting groups by year:",e),e}}async function tB(n){try{const e=py(Je);for(const t of n){const s=await eB(t.villageId,t.year);if(s){const a=Ft(Je,ts.VILLAGE_GROUPS,s.id);e.update(a,{...t,updatedAt:Qt()})}else{const a=Ft(Ht(Je,ts.VILLAGE_GROUPS));e.set(a,{...t,createdAt:Qt(),updatedAt:Qt()})}}return await e.commit(),!0}catch(e){throw console.error("Error bulk upserting groups:",e),e}}async function nB(n,e){try{const t=Ts(Ht(Je,ts.INFRASTRUCTURE),ti("villageId","==",n),ti("year","==",e)),s=await wr(t);if(s.empty)return null;const a=s.docs[0];return{id:a.id,...a.data()}}catch(t){throw console.error("Error getting infrastructure:",t),t}}async function CT(n){try{const e=Ts(Ht(Je,ts.INFRASTRUCTURE),ti("year","==",n));return(await wr(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting infrastructure by year:",e),e}}async function rB(n){try{const e=py(Je);for(const t of n){const s=await nB(t.villageId,t.year);if(s){const a=Ft(Je,ts.INFRASTRUCTURE,s.id);e.update(a,{...t,updatedAt:Qt()})}else{const a=Ft(Ht(Je,ts.INFRASTRUCTURE));e.set(a,{...t,createdAt:Qt(),updatedAt:Qt()})}}return await e.commit(),!0}catch(e){throw console.error("Error bulk upserting infrastructure:",e),e}}async function Lx(){try{const n=Ts(Ht(Je,ts.STATISTICS_YEARS),ic("year","desc"));return(await wr(n)).docs.map(t=>t.data().year)}catch(n){throw console.error("Error getting years:",n),n}}async function sB(n){try{const e=Ts(Ht(Je,ts.STATISTICS_YEARS),ti("year","==",n));if(!(await wr(e)).empty)throw new Error("Year already exists");return await Ns(Ht(Je,ts.STATISTICS_YEARS),{year:n,createdAt:Qt()}),n}catch(e){throw console.error("Error adding year:",e),e}}async function IT(){try{const n=await Lx();return n.length>0?n[0]:new Date().getFullYear()}catch(n){return console.error("Error getting latest year:",n),new Date().getFullYear()}}async function kT(n){try{const[e,t,s,a,o]=await Promise.all([dm(),ST(n),AT(n),TT(n),CT(n)]);return{year:n,villages:e,demographics:t,breakdowns:s,groups:a,infrastructure:o}}catch(e){throw console.error("Error getting summary:",e),e}}const aB=()=>{const[n,e]=W.useState([]),[t,s]=W.useState(!1),[a,o]=W.useState(null),[c,d]=W.useState({type:"",text:""}),[h,f]=W.useState({nameEn:"",nameMr:"",code:""});W.useEffect(()=>{g()},[]),W.useEffect(()=>{if(c.type==="success"&&c.text){const L=setTimeout(()=>{d({type:"",text:""})},5e3);return()=>clearTimeout(L)}},[c]);const g=async()=>{try{console.log("Loading villages from Firebase...");const L=await dm();console.log("Loaded villages count:",L.length),console.log("Villages data:",JSON.stringify(L,null,2)),e(L)}catch(L){console.error("Error loading villages:",L),d({type:"error",text:"Failed to load villages"})}},p=()=>{f({nameEn:"",nameMr:"",code:""}),s(!1),o(null)},v=(L,M)=>{f(z=>({...z,[L]:M}))},b=async()=>{if(d({type:"",text:""}),!h.nameEn.trim()||!h.nameMr.trim()){d({type:"error",text:"Village name in both English and Marathi is required"});return}try{await Yz(h),await g(),p(),d({type:"success",text:`Village "${h.nameEn}" added successfully!`})}catch(L){console.error("Error adding village:",L),d({type:"error",text:"Failed to add village. Please try again."})}},T=L=>{o(L.id),f({nameEn:L.nameEn,nameMr:L.nameMr,code:L.code||""}),d({type:"",text:""})},E=async()=>{if(d({type:"",text:""}),!h.nameEn.trim()||!h.nameMr.trim()){d({type:"error",text:"Village name in both English and Marathi is required"});return}try{await Xz(a,h),await g(),p(),d({type:"success",text:`Village "${h.nameEn}" updated successfully!`})}catch(L){console.error("Error updating village:",L);const M=L.message||"Failed to update village. Please try again.";d({type:"error",text:`Error: ${M}. The village may not exist in the database.`})}},j=async L=>{if(confirm(`Are you sure you want to delete "${L.nameEn}"?

Warning: This will NOT delete associated statistics data. The data will remain but won't be visible unless you recreate the village.`))try{console.log("Deleting village with ID:",L.id),await Qz(L.id),console.log("Delete successful, reloading villages..."),await g(),console.log("Villages reloaded, current count:",n.length-1),d({type:"success",text:`Village "${L.nameEn}" deleted successfully!`})}catch(M){console.error("Error deleting village:",M),d({type:"error",text:`Failed to delete village: ${M.message}`})}},S=()=>{p(),d({type:"",text:""})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Village Management"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Add, edit, or delete villages in your Gram Panchayat"})]}),!t&&!a&&r.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors shadow-md",children:[r.jsx(ps,{className:"w-4 h-4"}),"Add Village"]})]}),c.text&&r.jsxs("div",{className:`flex items-center justify-between gap-2 p-4 rounded-lg ${c.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[c.type==="success"?r.jsx(Gi,{className:"w-5 h-5"}):r.jsx(Qn,{className:"w-5 h-5"}),r.jsx("span",{children:c.text})]}),r.jsx("button",{onClick:()=>d({type:"",text:""}),className:"text-gray-500 hover:text-gray-700 transition-colors",title:"Dismiss",children:r.jsx(Vs,{className:"w-4 h-4"})})]}),(t||a)&&r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-green-50 border border-orange-200 rounded-lg p-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:t?"Add New Village":"Edit Village"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Village Name (English) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:h.nameEn,onChange:L=>v("nameEn",L.target.value),placeholder:"e.g., Kothrud",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Village Name (Marathi) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:h.nameMr,onChange:L=>v("nameMr",L.target.value),placeholder:"e.g., ",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Village Code (Optional)"}),r.jsx("input",{type:"text",value:h.code,onChange:L=>v("code",L.target.value),placeholder:"e.g., V001",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:t?b:E,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(qs,{className:"w-4 h-4"}),t?"Add Village":"Update Village"]}),r.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:[r.jsx(Vs,{className:"w-4 h-4"}),"Cancel"]})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Qn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"No villages found"}),r.jsx("button",{onClick:()=>s(!0),className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Add Your First Village"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"#"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Village Name (English)"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Village Name (Marathi)"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Code"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((L,M)=>r.jsxs("tr",{className:M%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M+1}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.nameEn})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:L.nameMr})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-700",children:L.code||"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("button",{onClick:()=>T(L),disabled:t||a,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Edit",children:r.jsx(yp,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>j(L),disabled:t||a,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Delete",children:r.jsx(ni,{className:"w-4 h-4"})})]})})]},L.id))})]})})}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Qn,{className:"w-5 h-5 text-blue-600 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("p",{className:"font-semibold mb-2",children:"Important Notes:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Add all your villages here before entering statistics data"}),r.jsx("li",{children:"Deleting a village won't delete its statistics data (data remains orphaned)"}),r.jsx("li",{children:"Village names should be unique to avoid confusion"}),r.jsx("li",{children:"After adding villages, go to other tabs to enter their statistics"})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg border border-orange-200",children:[r.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"Total Villages"}),r.jsx("div",{className:"text-2xl font-bold text-orange-900 mt-1",children:n.length})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:[r.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Villages with Code"}),r.jsx("div",{className:"text-2xl font-bold text-green-900 mt-1",children:n.filter(L=>L.code).length})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Last Added"}),r.jsx("div",{className:"text-sm font-semibold text-blue-900 mt-1",children:n.length>0?n[n.length-1].nameEn:"None"})]})]})]})},iB=({selectedYear:n})=>{const[e,t]=W.useState([]),[s,a]=W.useState({}),[o,c]=W.useState(!0),[d,h]=W.useState(!1),[f,g]=W.useState({type:"",text:""});W.useEffect(()=>{p()},[n]);const p=async()=>{c(!0);try{const T=await dm(),E=await ST(n),j={};T.forEach(S=>{const L=E.find(se=>se.villageId===S.id),M=L?.malePopulation||0,z=L?.femalePopulation||0;j[S.id]={villageId:S.id,year:n,totalPopulation:M+z,malePopulation:M,femalePopulation:z,source:L?.source||""}}),t(T),a(j)}catch(T){console.error("Error loading demographics:",T),g({type:"error",text:"Failed to load demographics data"})}finally{c(!1)}},v=(T,E,j)=>{a(S=>{const L={...S,[T]:{...S[T],[E]:E==="source"?j:parseInt(j)||0}};if(E==="malePopulation"||E==="femalePopulation"){const M=E==="malePopulation"?parseInt(j)||0:L[T].malePopulation,z=E==="femalePopulation"?parseInt(j)||0:L[T].femalePopulation;L[T].totalPopulation=M+z}return L})},b=async()=>{h(!0),g({type:"",text:""});try{const T=Object.values(s);console.log("Saving demographics data:",T);for(const E of T)if(E.totalPopulation<0||E.malePopulation<0||E.femalePopulation<0){g({type:"error",text:"Population counts cannot be negative"}),h(!1);return}console.log("Calling bulkUpsertDemographics with",T.length,"records"),await ET(T),console.log("Demographics saved successfully to Firebase"),g({type:"success",text:`Demographics for year ${n} saved successfully!`})}catch(T){console.error("Error saving demographics:",T),g({type:"error",text:`Failed to save demographics: ${T.message}`})}finally{h(!1)}};return o?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Population Demographics - ",n]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage total, male, and female population for each village"})]}),r.jsxs("button",{onClick:b,disabled:d,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(qs,{className:"w-4 h-4"}),d?"Saving...":"Save All"]})]}),f.text&&r.jsxs("div",{className:`flex items-center gap-2 p-4 rounded-lg ${f.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[r.jsx(Qn,{className:"w-5 h-5"}),r.jsx("span",{children:f.text})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Village Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:r.jsxs("div",{className:"flex items-center gap-1",children:["Total Population",r.jsx("span",{className:"text-xs normal-case text-gray-500",children:"(Auto)"})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Male Population"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Female Population"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Data Source"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((T,E)=>r.jsxs("tr",{className:E%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.nameEn}),r.jsx("div",{className:"text-sm text-gray-500",children:T.nameMr})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"number",min:"0",value:s[T.id]?.totalPopulation||0,readOnly:!0,className:"w-32 px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-700 font-semibold cursor-not-allowed",title:"Auto-calculated: Male + Female"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"number",min:"0",value:s[T.id]?.malePopulation||0,onChange:j=>v(T.id,"malePopulation",j.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"number",min:"0",value:s[T.id]?.femalePopulation||0,onChange:j=>v(T.id,"femalePopulation",j.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"text",value:s[T.id]?.source||"",onChange:j=>v(T.id,"source",j.target.value),placeholder:"e.g., Census 2011",className:"w-48 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]},T.id))})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Total Population"}),r.jsx("div",{className:"text-2xl font-bold text-blue-900 mt-1",children:Object.values(s).reduce((T,E)=>T+(E.totalPopulation||0),0).toLocaleString()})]}),r.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-4 rounded-lg border border-indigo-200",children:[r.jsx("div",{className:"text-sm text-indigo-600 font-medium",children:"Male Population"}),r.jsx("div",{className:"text-2xl font-bold text-indigo-900 mt-1",children:Object.values(s).reduce((T,E)=>T+(E.malePopulation||0),0).toLocaleString()})]}),r.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 p-4 rounded-lg border border-pink-200",children:[r.jsx("div",{className:"text-sm text-pink-600 font-medium",children:"Female Population"}),r.jsx("div",{className:"text-2xl font-bold text-pink-900 mt-1",children:Object.values(s).reduce((T,E)=>T+(E.femalePopulation||0),0).toLocaleString()})]})]})]})},df=["ST","SC","OBC","OTHER"],oB=({selectedYear:n})=>{const[e,t]=W.useState([]),[s,a]=W.useState({}),[o,c]=W.useState(!0),[d,h]=W.useState(!1),[f,g]=W.useState({type:"",text:""});W.useEffect(()=>{p()},[n]);const p=async()=>{c(!0);try{const j=await dm(),S=await AT(n),L={};j.forEach(M=>{L[M.id]={},df.forEach(z=>{const se=S.find(ae=>ae.villageId===M.id&&ae.category===z);L[M.id][z]={maleCount:se?.maleCount||0,femaleCount:se?.femaleCount||0}})}),t(j),a(L)}catch(j){console.error("Error loading category data:",j),g({type:"error",text:"Failed to load category data"})}finally{c(!1)}},v=(j,S,L,M)=>{a(z=>({...z,[j]:{...z[j],[S]:{...z[j][S],[L]:parseInt(M)||0}}}))},b=async()=>{h(!0),g({type:"",text:""});try{const j=[];Object.entries(s).forEach(([L,M])=>{Object.entries(M).forEach(([z,se])=>{if(se.maleCount<0||se.femaleCount<0)throw new Error("Population counts cannot be negative");j.push({villageId:L,year:n,category:z,maleCount:se.maleCount,femaleCount:se.femaleCount})})}),console.log("Saving category-wise data:",j.length,"records"),await Zz(j),console.log("Category-wise data saved successfully");const S=[];Object.entries(s).forEach(([L,M])=>{let z=0,se=0;Object.values(M).forEach(ae=>{z+=ae.maleCount||0,se+=ae.femaleCount||0}),S.push({villageId:L,year:n,totalPopulation:z+se,malePopulation:z,femalePopulation:se,source:"Auto-calculated from Category-wise data"})}),console.log("Auto-updating demographics from category data:",S.length,"villages"),await ET(S),console.log("Demographics auto-updated successfully"),g({type:"success",text:` Category-wise data saved! Demographics auto-updated for ${n}.`})}catch(j){console.error("Error saving category-wise data:",j),g({type:"error",text:j.message||"Failed to save data. Please try again."})}finally{h(!1)}},T=(j,S)=>{const L=s[j]?.[S];return(L?.maleCount||0)+(L?.femaleCount||0)},E=j=>e.reduce((S,L)=>S+T(L.id,j),0);return o?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Category-wise Population - ",n]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage ST/SC/OBC/Other population breakdown for each village"})]}),r.jsxs("button",{onClick:b,disabled:d,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(qs,{className:"w-4 h-4"}),d?"Saving...":"Save All"]})]}),f.text&&r.jsxs("div",{className:`flex items-center gap-2 p-4 rounded-lg ${f.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[r.jsx(Qn,{className:"w-5 h-5"}),r.jsx("span",{children:f.text})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsxs("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:[r.jsxs("tr",{children:[r.jsx("th",{rowSpan:"2",className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider border-r",children:"Village Name"}),df.map(j=>r.jsx("th",{colSpan:"3",className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider border-r",children:j},j))]}),r.jsx("tr",{children:df.map(j=>r.jsxs(R0.Fragment,{children:[r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-600",children:"Male"}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-600",children:"Female"}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-600 border-r",children:"Total"})]},j))})]}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((j,S)=>r.jsxs("tr",{className:S%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap border-r",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.nameEn}),r.jsx("div",{className:"text-sm text-gray-500",children:j.nameMr})]})}),df.map(L=>r.jsxs(R0.Fragment,{children:[r.jsx("td",{className:"px-2 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[j.id]?.[L]?.maleCount||0,onChange:M=>v(j.id,L,"maleCount",M.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),r.jsx("td",{className:"px-2 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[j.id]?.[L]?.femaleCount||0,onChange:M=>v(j.id,L,"femaleCount",M.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),r.jsx("td",{className:"px-2 py-4 text-center border-r",children:r.jsx("span",{className:"font-semibold text-gray-700",children:T(j.id,L)})})]},L))]},j.id))}),r.jsx("tfoot",{className:"bg-gray-100",children:r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 font-bold text-gray-900 border-r",children:"Grand Total"}),df.map(j=>r.jsxs(R0.Fragment,{children:[r.jsx("td",{className:"px-2 py-4 text-center font-semibold text-gray-700",children:e.reduce((S,L)=>S+(s[L.id]?.[j]?.maleCount||0),0)}),r.jsx("td",{className:"px-2 py-4 text-center font-semibold text-gray-700",children:e.reduce((S,L)=>S+(s[L.id]?.[j]?.femaleCount||0),0)}),r.jsx("td",{className:"px-2 py-4 text-center font-bold text-gray-900 border-r",children:E(j)})]},j))]})})]})})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:df.map((j,S)=>{const L=[{from:"purple-50",to:"purple-100",border:"purple-200",text:"purple-600",value:"purple-900"},{from:"blue-50",to:"blue-100",border:"blue-200",text:"blue-600",value:"blue-900"},{from:"green-50",to:"green-100",border:"green-200",text:"green-600",value:"green-900"},{from:"amber-50",to:"amber-100",border:"amber-200",text:"amber-600",value:"amber-900"}][S];return r.jsxs("div",{className:`bg-gradient-to-br from-${L.from} to-${L.to} p-4 rounded-lg border border-${L.border}`,children:[r.jsxs("div",{className:`text-sm text-${L.text} font-medium`,children:[j," Population"]}),r.jsx("div",{className:`text-2xl font-bold text-${L.value} mt-1`,children:E(j).toLocaleString()})]},j)})})]})},lB=({selectedYear:n})=>{const[e,t]=W.useState([]),[s,a]=W.useState({}),[o,c]=W.useState(!0),[d,h]=W.useState(!1),[f,g]=W.useState({type:"",text:""});W.useEffect(()=>{p()},[n]);const p=async()=>{c(!0);try{const j=await dm(),S=await TT(n),L={};j.forEach(M=>{const z=S.find(se=>se.villageId===M.id);L[M.id]={villageId:M.id,year:n,mahilaBachatGatCount:z?.mahilaBachatGatCount||0,yuvakMandalCount:z?.yuvakMandalCount||0,kisanGatCount:z?.kisanGatCount||0,otherGroupCount:z?.otherGroupCount||0}}),t(j),a(L)}catch(j){console.error("Error loading groups data:",j),g({type:"error",text:"Failed to load groups data"})}finally{c(!1)}},v=(j,S,L)=>{a(M=>({...M,[j]:{...M[j],[S]:parseInt(L)||0}}))},b=async()=>{h(!0),g({type:"",text:""});try{const j=Object.values(s);for(const S of j)if(S.mahilaBachatGatCount<0||S.yuvakMandalCount<0||S.kisanGatCount<0||S.otherGroupCount<0)throw new Error("Group counts cannot be negative");console.log("Saving groups & committees data:",j.length,"records"),await tB(j),console.log("Groups & committees data saved successfully"),g({type:"success",text:`Groups & Committees data for ${n} saved successfully!`})}catch(j){console.error("Error saving groups data:",j),g({type:"error",text:j.message||"Failed to save data. Please try again."})}finally{h(!1)}},T=j=>{const S=s[j];return S?(S.mahilaBachatGatCount||0)+(S.yuvakMandalCount||0)+(S.kisanGatCount||0)+(S.otherGroupCount||0):0},E=j=>Object.values(s).reduce((S,L)=>S+(L[j]||0),0);return o?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Groups & Committees - ",n]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage community groups count for each village"})]}),r.jsxs("button",{onClick:b,disabled:d,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(qs,{className:"w-4 h-4"}),d?"Saving...":"Save All"]})]}),f.text&&r.jsxs("div",{className:`flex items-center gap-2 p-4 rounded-lg ${f.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[r.jsx(Qn,{className:"w-5 h-5"}),r.jsx("span",{children:f.text})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 p-4 rounded-lg border border-pink-200",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Es,{className:"w-5 h-5 text-pink-600"}),r.jsx("div",{className:"text-sm text-pink-600 font-medium",children:"Mahila Bachat Gat"})]}),r.jsx("div",{className:"text-sm text-pink-500 mt-1",children:"Women's Self-Help Groups"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Es,{className:"w-5 h-5 text-blue-600"}),r.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Yuvak Mandal"})]}),r.jsx("div",{className:"text-sm text-blue-500 mt-1",children:"Youth Organizations"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Es,{className:"w-5 h-5 text-green-600"}),r.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Kisan Gat"})]}),r.jsx("div",{className:"text-sm text-green-500 mt-1",children:"Farmers' Groups"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Es,{className:"w-5 h-5 text-purple-600"}),r.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Other Groups"})]}),r.jsx("div",{className:"text-sm text-purple-500 mt-1",children:"Other Community Groups"})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Village Name"}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Mahila Bachat Gat",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:"(  )"})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Yuvak Mandal",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:"( )"})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Kisan Gat",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:"( )"})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Other Groups",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:"( )"})]}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Total"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((j,S)=>r.jsxs("tr",{className:S%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.nameEn}),r.jsx("div",{className:"text-sm text-gray-500",children:j.nameMr})]})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[j.id]?.mahilaBachatGatCount||0,onChange:L=>v(j.id,"mahilaBachatGatCount",L.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[j.id]?.yuvakMandalCount||0,onChange:L=>v(j.id,"yuvakMandalCount",L.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[j.id]?.kisanGatCount||0,onChange:L=>v(j.id,"kisanGatCount",L.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[j.id]?.otherGroupCount||0,onChange:L=>v(j.id,"otherGroupCount",L.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("span",{className:"font-semibold text-gray-700",children:T(j.id)})})]},j.id))}),r.jsx("tfoot",{className:"bg-gray-100",children:r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 font-bold text-gray-900",children:"Grand Total"}),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:E("mahilaBachatGatCount")}),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:E("yuvakMandalCount")}),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:E("kisanGatCount")}),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:E("otherGroupCount")}),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:E("mahilaBachatGatCount")+E("yuvakMandalCount")+E("kisanGatCount")+E("otherGroupCount")})]})})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 p-4 rounded-lg border border-pink-200",children:[r.jsx("div",{className:"text-sm text-pink-600 font-medium",children:"Mahila Bachat Gat"}),r.jsx("div",{className:"text-2xl font-bold text-pink-900 mt-1",children:E("mahilaBachatGatCount")})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Yuvak Mandal"}),r.jsx("div",{className:"text-2xl font-bold text-blue-900 mt-1",children:E("yuvakMandalCount")})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:[r.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Kisan Gat"}),r.jsx("div",{className:"text-2xl font-bold text-green-900 mt-1",children:E("kisanGatCount")})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200",children:[r.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Other Groups"}),r.jsx("div",{className:"text-2xl font-bold text-purple-900 mt-1",children:E("otherGroupCount")})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg border border-orange-200",children:[r.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"Total Groups"}),r.jsx("div",{className:"text-2xl font-bold text-orange-900 mt-1",children:E("mahilaBachatGatCount")+E("yuvakMandalCount")+E("kisanGatCount")+E("otherGroupCount")})]})]})]})},cB=({selectedYear:n})=>{const[e,t]=W.useState([]),[s,a]=W.useState({}),[o,c]=W.useState(!0),[d,h]=W.useState(!1),[f,g]=W.useState({type:"",text:""});W.useEffect(()=>{p()},[n]);const p=async()=>{c(!0);try{const E=await dm(),j=await CT(n),S={};E.forEach(L=>{const M=j.find(z=>z.villageId===L.id);S[L.id]={villageId:L.id,year:n,privateWells:M?.privateWells||0,publicWells:M?.publicWells||0,nitScheme:M?.nitScheme||0,handpumps:M?.handpumps||0,waterTankCapacity:M?.waterTankCapacity||"",waterFilterPlant:M?.waterFilterPlant||0,privatePonds:M?.privatePonds||0,families:M?.families||0,oldTapConnections:M?.oldTapConnections||0,newTapConnections:M?.newTapConnections||0,totalTapConnections:M?.totalTapConnections||0,privateWellsForTap:M?.privateWellsForTap||0,pendingTapConnections:M?.pendingTapConnections||0,notes:M?.notes||""}}),t(E),a(S)}catch(E){console.error("Error loading infrastructure:",E),g({type:"error",text:"Failed to load infrastructure data"})}finally{c(!1)}},v=(E,j,S)=>{a(L=>{const M={...L,[E]:{...L[E],[j]:j==="notes"||j==="waterTankCapacity"?S:parseInt(S)||0}};if(j==="oldTapConnections"||j==="newTapConnections"){const z=j==="oldTapConnections"?parseInt(S)||0:M[E].oldTapConnections,se=j==="newTapConnections"?parseInt(S)||0:M[E].newTapConnections;M[E].totalTapConnections=z+se}return M})},b=async()=>{h(!0),g({type:"",text:""});try{const E=Object.values(s);console.log("Saving water & infrastructure data:",E.length,"records"),await rB(E),console.log("Water & infrastructure data saved successfully"),g({type:"success",text:`Water & Infrastructure data for ${n} saved successfully!`})}catch(E){console.error("Error saving infrastructure data:",E),g({type:"error",text:E.message||"Failed to save data. Please try again."})}finally{h(!1)}},T=E=>Object.values(s).reduce((j,S)=>j+(S[E]||0),0);return o?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Water Supply Information - ",n]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"  | Manage water resources and infrastructure"})]}),r.jsxs("button",{onClick:b,disabled:d,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(qs,{className:"w-4 h-4"}),d?"Saving...":"Save All"]})]}),f.text&&r.jsxs("div",{className:`flex items-center gap-2 p-4 rounded-lg ${f.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[r.jsx(Qn,{className:"w-5 h-5"}),r.jsx("span",{children:f.text})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 px-6 py-4",children:r.jsxs("h4",{className:"text-white font-semibold flex items-center gap-2",children:[r.jsx(Ix,{className:"w-5 h-5"}),"Table 1: Water Supply Sources |   "]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Sr. No.",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:".."})]}),r.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Water Source",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:" "})]}),e.map(E=>r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:[E.nameEn,r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:E.nameMr})]},E.id)),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider bg-blue-50",children:["Total",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:""})]})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"1"}),r.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Private Wells",r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-500",children:" "})]}),e.map(E=>r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[E.id]?.privateWells||0,onChange:j=>v(E.id,"privateWells",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},E.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:T("privateWells")})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"2"}),r.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Public Wells",r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-500",children:" "})]}),e.map(E=>r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[E.id]?.publicWells||0,onChange:j=>v(E.id,"publicWells",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},E.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:T("publicWells")})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"3"}),r.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["NIT Scheme",r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-500",children:" "})]}),e.map(E=>r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[E.id]?.nitScheme||0,onChange:j=>v(E.id,"nitScheme",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},E.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:T("nitScheme")})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"4"}),r.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Handpumps",r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-500",children:""})]}),e.map(E=>r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[E.id]?.handpumps||0,onChange:j=>v(E.id,"handpumps",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},E.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:T("handpumps")})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"5"}),r.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Water Tank Capacity",r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-500",children:"  "})]}),e.map(E=>r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"text",value:s[E.id]?.waterTankCapacity||"",onChange:j=>v(E.id,"waterTankCapacity",j.target.value),placeholder:"e.g., 8 lakh liters",className:"w-32 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})},E.id)),r.jsx("td",{className:"px-6 py-4 text-center text-gray-500 bg-blue-50",children:""})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"6"}),r.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Water Filter Plant",r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-500",children:"  "})]}),e.map(E=>r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[E.id]?.waterFilterPlant||0,onChange:j=>v(E.id,"waterFilterPlant",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},E.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:T("waterFilterPlant")})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"7"}),r.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Private Ponds",r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-500",children:" "})]}),e.map(E=>r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[E.id]?.privatePonds||0,onChange:j=>v(E.id,"privatePonds",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},E.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:T("privatePonds")})]})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4",children:r.jsxs("h4",{className:"text-white font-semibold flex items-center gap-2",children:[r.jsx(Ix,{className:"w-5 h-5"}),"Table 2: Tap Connection Details |   "]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Sr. No.",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:".."})]}),r.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Village",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:""})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Families",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:""})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Old Tap Connections",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:" "})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["New Tap Connections",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:" "})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider bg-indigo-50",children:["Total Tap Connections",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:"(Auto)"})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Private Wells",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:" "})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Pending",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:""})]})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((E,j)=>r.jsxs("tr",{className:j%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:j+1}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.nameEn}),r.jsx("div",{className:"text-xs text-gray-500",children:E.nameMr})]}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[E.id]?.families||0,onChange:S=>v(E.id,"families",S.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[E.id]?.oldTapConnections||0,onChange:S=>v(E.id,"oldTapConnections",S.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[E.id]?.newTapConnections||0,onChange:S=>v(E.id,"newTapConnections",S.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 text-center bg-indigo-50",children:r.jsx("input",{type:"number",value:s[E.id]?.totalTapConnections||0,readOnly:!0,className:"w-24 px-3 py-2 text-center border border-gray-300 rounded bg-gray-100 font-semibold cursor-not-allowed",title:"Auto-calculated: Old + New"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[E.id]?.privateWellsForTap||0,onChange:S=>v(E.id,"privateWellsForTap",S.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[E.id]?.pendingTapConnections||0,onChange:S=>v(E.id,"pendingTapConnections",S.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})})]},E.id))}),r.jsx("tfoot",{className:"bg-indigo-50",children:r.jsxs("tr",{className:"font-bold",children:[r.jsx("td",{className:"px-6 py-4",colSpan:"2",children:"Total | "}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:T("families")}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:T("oldTapConnections")}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:T("newTapConnections")}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900 bg-indigo-100",children:T("totalTapConnections")}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:T("privateWellsForTap")}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:T("pendingTapConnections")})]})})]})})]})]})},dB="modulepreload",uB=function(n){return"/"+n},D4={},c1=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let h=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");a=h(t.map(f=>{if(f=uB(f),f in D4)return;D4[f]=!0;const g=f.endsWith(".css"),p=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":dB,g||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),g)return new Promise((b,T)=>{v.addEventListener("load",b),v.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};function cr(n){"@babel/helpers - typeof";return cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(n)}var yl=Uint8Array,ho=Uint16Array,yw=Int32Array,bw=new yl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),vw=new yl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),M4=new yl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),RT=function(n,e){for(var t=new ho(31),s=0;s<31;++s)t[s]=e+=1<<n[s-1];for(var a=new yw(t[30]),s=1;s<30;++s)for(var o=t[s];o<t[s+1];++o)a[o]=o-t[s]<<5|s;return{b:t,r:a}},PT=RT(bw,2),hB=PT.b,A2=PT.r;hB[28]=258,A2[258]=28;var fB=RT(vw,0),O4=fB.r,T2=new ho(32768);for(var Lr=0;Lr<32768;++Lr){var Od=(Lr&43690)>>1|(Lr&21845)<<1;Od=(Od&52428)>>2|(Od&13107)<<2,Od=(Od&61680)>>4|(Od&3855)<<4,T2[Lr]=((Od&65280)>>8|(Od&255)<<8)>>1}var _g=(function(n,e,t){for(var s=n.length,a=0,o=new ho(e);a<s;++a)n[a]&&++o[n[a]-1];var c=new ho(e);for(a=1;a<e;++a)c[a]=c[a-1]+o[a-1]<<1;var d;if(t){d=new ho(1<<e);var h=15-e;for(a=0;a<s;++a)if(n[a])for(var f=a<<4|n[a],g=e-n[a],p=c[n[a]-1]++<<g,v=p|(1<<g)-1;p<=v;++p)d[T2[p]>>h]=f}else for(d=new ho(s),a=0;a<s;++a)n[a]&&(d[a]=T2[c[n[a]-1]++]>>15-n[a]);return d}),uh=new yl(288);for(var Lr=0;Lr<144;++Lr)uh[Lr]=8;for(var Lr=144;Lr<256;++Lr)uh[Lr]=9;for(var Lr=256;Lr<280;++Lr)uh[Lr]=7;for(var Lr=280;Lr<288;++Lr)uh[Lr]=8;var Dx=new yl(32);for(var Lr=0;Lr<32;++Lr)Dx[Lr]=5;var mB=_g(uh,9,0),gB=_g(Dx,5,0),LT=function(n){return(n+7)/8|0},pB=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new yl(n.subarray(e,t))},Lc=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8},tg=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8,n[s+2]|=t>>16},d1=function(n,e){for(var t=[],s=0;s<n.length;++s)n[s]&&t.push({s,f:n[s]});var a=t.length,o=t.slice();if(!a)return{t:MT,l:0};if(a==1){var c=new yl(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(se,ae){return se.f-ae.f}),t.push({s:-1,f:25001});var d=t[0],h=t[1],f=0,g=1,p=2;for(t[0]={s:-1,f:d.f+h.f,l:d,r:h};g!=a-1;)d=t[t[f].f<t[p].f?f++:p++],h=t[f!=g&&t[f].f<t[p].f?f++:p++],t[g++]={s:-1,f:d.f+h.f,l:d,r:h};for(var v=o[0].s,s=1;s<a;++s)o[s].s>v&&(v=o[s].s);var b=new ho(v+1),T=C2(t[g-1],b,0);if(T>e){var s=0,E=0,j=T-e,S=1<<j;for(o.sort(function(ae,G){return b[G.s]-b[ae.s]||ae.f-G.f});s<a;++s){var L=o[s].s;if(b[L]>e)E+=S-(1<<T-b[L]),b[L]=e;else break}for(E>>=j;E>0;){var M=o[s].s;b[M]<e?E-=1<<e-b[M]++-1:++s}for(;s>=0&&E;--s){var z=o[s].s;b[z]==e&&(--b[z],++E)}T=e}return{t:new yl(b),l:T}},C2=function(n,e,t){return n.s==-1?Math.max(C2(n.l,e,t+1),C2(n.r,e,t+1)):e[n.s]=t},F4=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ho(++e),s=0,a=n[0],o=1,c=function(h){t[s++]=h},d=1;d<=e;++d)if(n[d]==a&&d!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(a),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(a);o=1,a=n[d]}return{c:t.subarray(0,s),n:e}},ng=function(n,e){for(var t=0,s=0;s<e.length;++s)t+=n[s]*e[s];return t},DT=function(n,e,t){var s=t.length,a=LT(e+2);n[a]=s&255,n[a+1]=s>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<s;++o)n[a+o+4]=t[o];return(a+4+s)*8},U4=function(n,e,t,s,a,o,c,d,h,f,g){Lc(e,g++,t),++a[256];for(var p=d1(a,15),v=p.t,b=p.l,T=d1(o,15),E=T.t,j=T.l,S=F4(v),L=S.c,M=S.n,z=F4(E),se=z.c,ae=z.n,G=new ho(19),D=0;D<L.length;++D)++G[L[D]&31];for(var D=0;D<se.length;++D)++G[se[D]&31];for(var I=d1(G,7),F=I.t,k=I.l,P=19;P>4&&!F[M4[P-1]];--P);var V=f+5<<3,le=ng(a,uh)+ng(o,Dx)+c,Ne=ng(a,v)+ng(o,E)+c+14+3*P+ng(G,F)+2*G[16]+3*G[17]+7*G[18];if(h>=0&&V<=le&&V<=Ne)return DT(e,g,n.subarray(h,h+f));var ie,ge,ue,je;if(Lc(e,g,1+(Ne<le)),g+=2,Ne<le){ie=_g(v,b,0),ge=v,ue=_g(E,j,0),je=E;var ze=_g(F,k,0);Lc(e,g,M-257),Lc(e,g+5,ae-1),Lc(e,g+10,P-4),g+=14;for(var D=0;D<P;++D)Lc(e,g+3*D,F[M4[D]]);g+=3*P;for(var ne=[L,se],q=0;q<2;++q)for(var J=ne[q],D=0;D<J.length;++D){var re=J[D]&31;Lc(e,g,ze[re]),g+=F[re],re>15&&(Lc(e,g,J[D]>>5&127),g+=J[D]>>12)}}else ie=mB,ge=uh,ue=gB,je=Dx;for(var D=0;D<d;++D){var he=s[D];if(he>255){var re=he>>18&31;tg(e,g,ie[re+257]),g+=ge[re+257],re>7&&(Lc(e,g,he>>23&31),g+=bw[re]);var fe=he&31;tg(e,g,ue[fe]),g+=je[fe],fe>3&&(tg(e,g,he>>5&8191),g+=vw[fe])}else tg(e,g,ie[he]),g+=ge[he]}return tg(e,g,ie[256]),g+ge[256]},xB=new yw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),MT=new yl(0),yB=function(n,e,t,s,a,o){var c=o.z||n.length,d=new yl(s+c+5*(1+Math.ceil(c/7e3))+a),h=d.subarray(s,d.length-a),f=o.l,g=(o.r||0)&7;if(e){g&&(h[0]=o.r>>3);for(var p=xB[e-1],v=p>>13,b=p&8191,T=(1<<t)-1,E=o.p||new ho(32768),j=o.h||new ho(T+1),S=Math.ceil(t/3),L=2*S,M=function(Ve){return(n[Ve]^n[Ve+1]<<S^n[Ve+2]<<L)&T},z=new yw(25e3),se=new ho(288),ae=new ho(32),G=0,D=0,I=o.i||0,F=0,k=o.w||0,P=0;I+2<c;++I){var V=M(I),le=I&32767,Ne=j[V];if(E[le]=Ne,j[V]=le,k<=I){var ie=c-I;if((G>7e3||F>24576)&&(ie>423||!f)){g=U4(n,h,0,z,se,ae,D,F,P,I-P,g),F=G=D=0,P=I;for(var ge=0;ge<286;++ge)se[ge]=0;for(var ge=0;ge<30;++ge)ae[ge]=0}var ue=2,je=0,ze=b,ne=le-Ne&32767;if(ie>2&&V==M(I-ne))for(var q=Math.min(v,ie)-1,J=Math.min(32767,I),re=Math.min(258,ie);ne<=J&&--ze&&le!=Ne;){if(n[I+ue]==n[I+ue-ne]){for(var he=0;he<re&&n[I+he]==n[I+he-ne];++he);if(he>ue){if(ue=he,je=ne,he>q)break;for(var fe=Math.min(ne,he-2),be=0,ge=0;ge<fe;++ge){var Pe=I-ne+ge&32767,ke=E[Pe],Be=Pe-ke&32767;Be>be&&(be=Be,Ne=Pe)}}}le=Ne,Ne=E[le],ne+=le-Ne&32767}if(je){z[F++]=268435456|A2[ue]<<18|O4[je];var Ze=A2[ue]&31,ot=O4[je]&31;D+=bw[Ze]+vw[ot],++se[257+Ze],++ae[ot],k=I+ue,++G}else z[F++]=n[I],++se[n[I]]}}for(I=Math.max(I,k);I<c;++I)z[F++]=n[I],++se[n[I]];g=U4(n,h,f,z,se,ae,D,F,P,I-P,g),f||(o.r=g&7|h[g/8|0]<<3,g-=7,o.h=j,o.p=E,o.i=I,o.w=k)}else{for(var I=o.w||0;I<c+f;I+=65535){var it=I+65535;it>=c&&(h[g/8|0]=f,it=c),g=DT(h,g+1,n.subarray(I,it))}o.i=c}return pB(d,0,s+LT(g)+a)},OT=function(){var n=1,e=0;return{p:function(t){for(var s=n,a=e,o=t.length|0,c=0;c!=o;){for(var d=Math.min(c+2655,o);c<d;++c)a+=s+=t[c];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}n=s,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},bB=function(n,e,t,s,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new yl(o.length+n.length);c.set(o),c.set(n,o.length),n=c,a.w=o.length}return yB(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,s,a)},FT=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},vB=function(n,e){var t=e.level,s=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=s<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=OT();a.p(e.dictionary),FT(n,2,a.d())}};function I2(n,e){e||(e={});var t=OT();t.p(n);var s=bB(n,e,e.dictionary?6:2,4);return vB(s,e),FT(s,s.length-4,t.d()),s}var wB=typeof TextDecoder<"u"&&new TextDecoder,NB=0;try{wB.decode(MT,{stream:!0}),NB=1}catch{}function jB(n){if(Array.isArray(n))return n}function _B(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var s,a,o,c,d=[],h=!0,f=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(h=(s=o.call(t)).done)&&(d.push(s.value),d.length!==e);h=!0);}catch(g){f=!0,a=g}finally{try{if(!h&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(f)throw a}}return d}}function V4(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=Array(e);t<e;t++)s[t]=n[t];return s}function SB(n,e){if(n){if(typeof n=="string")return V4(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?V4(n,e):void 0}}function EB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z4(n,e){return jB(n)||_B(n,e)||SB(n,e)||EB()}function B4(n,e="utf8"){return new TextDecoder(e).decode(n)}const AB=new TextEncoder;function TB(n){return AB.encode(n)}const CB=1024*8,IB=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),u1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ww{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=CB,t={}){let s=!1;typeof e=="number"?e=new ArrayBuffer(e):(s=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let c=a;(ArrayBuffer.isView(e)||e instanceof ww)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+a),e=e.buffer),s?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const s=(this.offset+e)*2,a=new Uint8Array(s);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const s=u1[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+s);if(this.littleEndian===IB&&t!=="uint8"&&t!=="int8"){const d=new Uint8Array(this.buffer.slice(a,a+s));d.reverse();const h=new u1[t](d.buffer);return this.offset+=s,h.reverse(),h}const c=new u1[t](o);return this.offset+=s,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let s=0;s<e;s++)t+=this.readChar();return t}readUtf8(e=1){return B4(this.readBytes(e))}decodeText(e=1,t="utf8"){return B4(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(TB(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function um(n){let e=n.length;for(;--e>=0;)n[e]=0}const kB=3,RB=258,UT=29,PB=256,LB=PB+1+UT,VT=30,DB=512,MB=new Array((LB+2)*2);um(MB);const OB=new Array(VT*2);um(OB);const FB=new Array(DB);um(FB);const UB=new Array(RB-kB+1);um(UB);const VB=new Array(UT);um(VB);const zB=new Array(VT);um(zB);const BB=(n,e,t,s)=>{let a=n&65535|0,o=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do a=a+e[s++]|0,o=o+a|0;while(--c);a%=65521,o%=65521}return a|o<<16|0};var k2=BB;const qB=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},GB=new Uint32Array(qB()),HB=(n,e,t,s)=>{const a=GB,o=s+t;n^=-1;for(let c=s;c<o;c++)n=n>>>8^a[(n^e[c])&255];return n^-1};var Gl=HB,R2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zT={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const $B=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var WB=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const s in t)$B(t,s)&&(n[s]=t[s])}}return n},KB=n=>{let e=0;for(let s=0,a=n.length;s<a;s++)e+=n[s].length;const t=new Uint8Array(e);for(let s=0,a=0,o=n.length;s<o;s++){let c=n[s];t.set(c,a),a+=c.length}return t},BT={assign:WB,flattenChunks:KB};let qT=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{qT=!1}const Kg=new Uint8Array(256);for(let n=0;n<256;n++)Kg[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Kg[254]=Kg[254]=1;var YB=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,s,a,o,c=n.length,d=0;for(a=0;a<c;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(s=n.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),d+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(d),o=0,a=0;o<d;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(s=n.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const XB=(n,e)=>{if(e<65534&&n.subarray&&qT)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let s=0;s<e;s++)t+=String.fromCharCode(n[s]);return t};var QB=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let s,a;const o=new Array(t*2);for(a=0,s=0;s<t;){let c=n[s++];if(c<128){o[a++]=c;continue}let d=Kg[c];if(d>4){o[a++]=65533,s+=d-1;continue}for(c&=d===2?31:d===3?15:7;d>1&&s<t;)c=c<<6|n[s++]&63,d--;if(d>1){o[a++]=65533;continue}c<65536?o[a++]=c:(c-=65536,o[a++]=55296|c>>10&1023,o[a++]=56320|c&1023)}return XB(o,a)},JB=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Kg[n[t]]>e?t:e},P2={string2buf:YB,buf2string:QB,utf8border:JB};function ZB(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var eq=ZB;const j0=16209,tq=16191;var nq=function(e,t){let s,a,o,c,d,h,f,g,p,v,b,T,E,j,S,L,M,z,se,ae,G,D,I,F;const k=e.state;s=e.next_in,I=e.input,a=s+(e.avail_in-5),o=e.next_out,F=e.output,c=o-(t-e.avail_out),d=o+(e.avail_out-257),h=k.dmax,f=k.wsize,g=k.whave,p=k.wnext,v=k.window,b=k.hold,T=k.bits,E=k.lencode,j=k.distcode,S=(1<<k.lenbits)-1,L=(1<<k.distbits)-1;e:do{T<15&&(b+=I[s++]<<T,T+=8,b+=I[s++]<<T,T+=8),M=E[b&S];t:for(;;){if(z=M>>>24,b>>>=z,T-=z,z=M>>>16&255,z===0)F[o++]=M&65535;else if(z&16){se=M&65535,z&=15,z&&(T<z&&(b+=I[s++]<<T,T+=8),se+=b&(1<<z)-1,b>>>=z,T-=z),T<15&&(b+=I[s++]<<T,T+=8,b+=I[s++]<<T,T+=8),M=j[b&L];n:for(;;){if(z=M>>>24,b>>>=z,T-=z,z=M>>>16&255,z&16){if(ae=M&65535,z&=15,T<z&&(b+=I[s++]<<T,T+=8,T<z&&(b+=I[s++]<<T,T+=8)),ae+=b&(1<<z)-1,ae>h){e.msg="invalid distance too far back",k.mode=j0;break e}if(b>>>=z,T-=z,z=o-c,ae>z){if(z=ae-z,z>g&&k.sane){e.msg="invalid distance too far back",k.mode=j0;break e}if(G=0,D=v,p===0){if(G+=f-z,z<se){se-=z;do F[o++]=v[G++];while(--z);G=o-ae,D=F}}else if(p<z){if(G+=f+p-z,z-=p,z<se){se-=z;do F[o++]=v[G++];while(--z);if(G=0,p<se){z=p,se-=z;do F[o++]=v[G++];while(--z);G=o-ae,D=F}}}else if(G+=p-z,z<se){se-=z;do F[o++]=v[G++];while(--z);G=o-ae,D=F}for(;se>2;)F[o++]=D[G++],F[o++]=D[G++],F[o++]=D[G++],se-=3;se&&(F[o++]=D[G++],se>1&&(F[o++]=D[G++]))}else{G=o-ae;do F[o++]=F[G++],F[o++]=F[G++],F[o++]=F[G++],se-=3;while(se>2);se&&(F[o++]=F[G++],se>1&&(F[o++]=F[G++]))}}else if((z&64)===0){M=j[(M&65535)+(b&(1<<z)-1)];continue n}else{e.msg="invalid distance code",k.mode=j0;break e}break}}else if((z&64)===0){M=E[(M&65535)+(b&(1<<z)-1)];continue t}else if(z&32){k.mode=tq;break e}else{e.msg="invalid literal/length code",k.mode=j0;break e}break}}while(s<a&&o<d);se=T>>3,s-=se,T-=se<<3,b&=(1<<T)-1,e.next_in=s,e.next_out=o,e.avail_in=s<a?5+(a-s):5-(s-a),e.avail_out=o<d?257+(d-o):257-(o-d),k.hold=b,k.bits=T};const uf=15,q4=852,G4=592,H4=0,h1=1,$4=2,rq=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),sq=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),aq=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),iq=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),oq=(n,e,t,s,a,o,c,d)=>{const h=d.bits;let f=0,g=0,p=0,v=0,b=0,T=0,E=0,j=0,S=0,L=0,M,z,se,ae,G,D=null,I;const F=new Uint16Array(uf+1),k=new Uint16Array(uf+1);let P=null,V,le,Ne;for(f=0;f<=uf;f++)F[f]=0;for(g=0;g<s;g++)F[e[t+g]]++;for(b=h,v=uf;v>=1&&F[v]===0;v--);if(b>v&&(b=v),v===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,d.bits=1,0;for(p=1;p<v&&F[p]===0;p++);for(b<p&&(b=p),j=1,f=1;f<=uf;f++)if(j<<=1,j-=F[f],j<0)return-1;if(j>0&&(n===H4||v!==1))return-1;for(k[1]=0,f=1;f<uf;f++)k[f+1]=k[f]+F[f];for(g=0;g<s;g++)e[t+g]!==0&&(c[k[e[t+g]]++]=g);if(n===H4?(D=P=c,I=20):n===h1?(D=rq,P=sq,I=257):(D=aq,P=iq,I=0),L=0,g=0,f=p,G=o,T=b,E=0,se=-1,S=1<<b,ae=S-1,n===h1&&S>q4||n===$4&&S>G4)return 1;for(;;){V=f-E,c[g]+1<I?(le=0,Ne=c[g]):c[g]>=I?(le=P[c[g]-I],Ne=D[c[g]-I]):(le=96,Ne=0),M=1<<f-E,z=1<<T,p=z;do z-=M,a[G+(L>>E)+z]=V<<24|le<<16|Ne|0;while(z!==0);for(M=1<<f-1;L&M;)M>>=1;if(M!==0?(L&=M-1,L+=M):L=0,g++,--F[f]===0){if(f===v)break;f=e[t+c[g]]}if(f>b&&(L&ae)!==se){for(E===0&&(E=b),G+=p,T=f-E,j=1<<T;T+E<v&&(j-=F[T+E],!(j<=0));)T++,j<<=1;if(S+=1<<T,n===h1&&S>q4||n===$4&&S>G4)return 1;se=L&ae,a[se]=b<<24|T<<16|G-o|0}}return L!==0&&(a[G+L]=f-E<<24|64<<16|0),d.bits=b,0};var Sg=oq;const lq=0,GT=1,HT=2,{Z_FINISH:W4,Z_BLOCK:cq,Z_TREES:_0,Z_OK:hh,Z_STREAM_END:dq,Z_NEED_DICT:uq,Z_STREAM_ERROR:qo,Z_DATA_ERROR:$T,Z_MEM_ERROR:WT,Z_BUF_ERROR:hq,Z_DEFLATED:K4}=zT,jy=16180,Y4=16181,X4=16182,Q4=16183,J4=16184,Z4=16185,e6=16186,t6=16187,n6=16188,r6=16189,Mx=16190,Dc=16191,f1=16192,s6=16193,m1=16194,a6=16195,i6=16196,o6=16197,l6=16198,S0=16199,E0=16200,c6=16201,d6=16202,u6=16203,h6=16204,f6=16205,g1=16206,m6=16207,g6=16208,qr=16209,KT=16210,YT=16211,fq=852,mq=592,gq=15,pq=gq,p6=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function xq(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const bh=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<jy||e.mode>YT?1:0},XT=n=>{if(bh(n))return qo;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=jy,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(fq),e.distcode=e.distdyn=new Int32Array(mq),e.sane=1,e.back=-1,hh},QT=n=>{if(bh(n))return qo;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,XT(n)},JT=(n,e)=>{let t;if(bh(n))return qo;const s=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?qo:(s.window!==null&&s.wbits!==e&&(s.window=null),s.wrap=t,s.wbits=e,QT(n))},ZT=(n,e)=>{if(!n)return qo;const t=new xq;n.state=t,t.strm=n,t.window=null,t.mode=jy;const s=JT(n,e);return s!==hh&&(n.state=null),s},yq=n=>ZT(n,pq);let x6=!0,p1,x1;const bq=n=>{if(x6){p1=new Int32Array(512),x1=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Sg(GT,n.lens,0,288,p1,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Sg(HT,n.lens,0,32,x1,0,n.work,{bits:5}),x6=!1}n.lencode=p1,n.lenbits=9,n.distcode=x1,n.distbits=5},eC=(n,e,t,s)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),s>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>s&&(a=s),o.window.set(e.subarray(t-s,t-s+a),o.wnext),s-=a,s?(o.window.set(e.subarray(t-s,t),0),o.wnext=s,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},vq=(n,e)=>{let t,s,a,o,c,d,h,f,g,p,v,b,T,E,j=0,S,L,M,z,se,ae,G,D;const I=new Uint8Array(4);let F,k;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(bh(n)||!n.output||!n.input&&n.avail_in!==0)return qo;t=n.state,t.mode===Dc&&(t.mode=f1),c=n.next_out,a=n.output,h=n.avail_out,o=n.next_in,s=n.input,d=n.avail_in,f=t.hold,g=t.bits,p=d,v=h,D=hh;e:for(;;)switch(t.mode){case jy:if(t.wrap===0){t.mode=f1;break}for(;g<16;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,I[0]=f&255,I[1]=f>>>8&255,t.check=Gl(t.check,I,2,0),f=0,g=0,t.mode=Y4;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=qr;break}if((f&15)!==K4){n.msg="unknown compression method",t.mode=qr;break}if(f>>>=4,g-=4,G=(f&15)+8,t.wbits===0&&(t.wbits=G),G>15||G>t.wbits){n.msg="invalid window size",t.mode=qr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?r6:Dc,f=0,g=0;break;case Y4:for(;g<16;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if(t.flags=f,(t.flags&255)!==K4){n.msg="unknown compression method",t.mode=qr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=qr;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,t.check=Gl(t.check,I,2,0)),f=0,g=0,t.mode=X4;case X4:for(;g<32;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,I[2]=f>>>16&255,I[3]=f>>>24&255,t.check=Gl(t.check,I,4,0)),f=0,g=0,t.mode=Q4;case Q4:for(;g<16;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,t.check=Gl(t.check,I,2,0)),f=0,g=0,t.mode=J4;case J4:if(t.flags&1024){for(;g<16;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,t.check=Gl(t.check,I,2,0)),f=0,g=0}else t.head&&(t.head.extra=null);t.mode=Z4;case Z4:if(t.flags&1024&&(b=t.length,b>d&&(b=d),b&&(t.head&&(G=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(s.subarray(o,o+b),G)),t.flags&512&&t.wrap&4&&(t.check=Gl(t.check,s,b,o)),d-=b,o+=b,t.length-=b),t.length))break e;t.length=0,t.mode=e6;case e6:if(t.flags&2048){if(d===0)break e;b=0;do G=s[o+b++],t.head&&G&&t.length<65536&&(t.head.name+=String.fromCharCode(G));while(G&&b<d);if(t.flags&512&&t.wrap&4&&(t.check=Gl(t.check,s,b,o)),d-=b,o+=b,G)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=t6;case t6:if(t.flags&4096){if(d===0)break e;b=0;do G=s[o+b++],t.head&&G&&t.length<65536&&(t.head.comment+=String.fromCharCode(G));while(G&&b<d);if(t.flags&512&&t.wrap&4&&(t.check=Gl(t.check,s,b,o)),d-=b,o+=b,G)break e}else t.head&&(t.head.comment=null);t.mode=n6;case n6:if(t.flags&512){for(;g<16;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=qr;break}f=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Dc;break;case r6:for(;g<32;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}n.adler=t.check=p6(f),f=0,g=0,t.mode=Mx;case Mx:if(t.havedict===0)return n.next_out=c,n.avail_out=h,n.next_in=o,n.avail_in=d,t.hold=f,t.bits=g,uq;n.adler=t.check=1,t.mode=Dc;case Dc:if(e===cq||e===_0)break e;case f1:if(t.last){f>>>=g&7,g-=g&7,t.mode=g1;break}for(;g<3;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}switch(t.last=f&1,f>>>=1,g-=1,f&3){case 0:t.mode=s6;break;case 1:if(bq(t),t.mode=S0,e===_0){f>>>=2,g-=2;break e}break;case 2:t.mode=i6;break;case 3:n.msg="invalid block type",t.mode=qr}f>>>=2,g-=2;break;case s6:for(f>>>=g&7,g-=g&7;g<32;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=qr;break}if(t.length=f&65535,f=0,g=0,t.mode=m1,e===_0)break e;case m1:t.mode=a6;case a6:if(b=t.length,b){if(b>d&&(b=d),b>h&&(b=h),b===0)break e;a.set(s.subarray(o,o+b),c),d-=b,o+=b,h-=b,c+=b,t.length-=b;break}t.mode=Dc;break;case i6:for(;g<14;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if(t.nlen=(f&31)+257,f>>>=5,g-=5,t.ndist=(f&31)+1,f>>>=5,g-=5,t.ncode=(f&15)+4,f>>>=4,g-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=qr;break}t.have=0,t.mode=o6;case o6:for(;t.have<t.ncode;){for(;g<3;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}t.lens[P[t.have++]]=f&7,f>>>=3,g-=3}for(;t.have<19;)t.lens[P[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,F={bits:t.lenbits},D=Sg(lq,t.lens,0,19,t.lencode,0,t.work,F),t.lenbits=F.bits,D){n.msg="invalid code lengths set",t.mode=qr;break}t.have=0,t.mode=l6;case l6:for(;t.have<t.nlen+t.ndist;){for(;j=t.lencode[f&(1<<t.lenbits)-1],S=j>>>24,L=j>>>16&255,M=j&65535,!(S<=g);){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if(M<16)f>>>=S,g-=S,t.lens[t.have++]=M;else{if(M===16){for(k=S+2;g<k;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if(f>>>=S,g-=S,t.have===0){n.msg="invalid bit length repeat",t.mode=qr;break}G=t.lens[t.have-1],b=3+(f&3),f>>>=2,g-=2}else if(M===17){for(k=S+3;g<k;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}f>>>=S,g-=S,G=0,b=3+(f&7),f>>>=3,g-=3}else{for(k=S+7;g<k;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}f>>>=S,g-=S,G=0,b=11+(f&127),f>>>=7,g-=7}if(t.have+b>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=qr;break}for(;b--;)t.lens[t.have++]=G}}if(t.mode===qr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=qr;break}if(t.lenbits=9,F={bits:t.lenbits},D=Sg(GT,t.lens,0,t.nlen,t.lencode,0,t.work,F),t.lenbits=F.bits,D){n.msg="invalid literal/lengths set",t.mode=qr;break}if(t.distbits=6,t.distcode=t.distdyn,F={bits:t.distbits},D=Sg(HT,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,F),t.distbits=F.bits,D){n.msg="invalid distances set",t.mode=qr;break}if(t.mode=S0,e===_0)break e;case S0:t.mode=E0;case E0:if(d>=6&&h>=258){n.next_out=c,n.avail_out=h,n.next_in=o,n.avail_in=d,t.hold=f,t.bits=g,nq(n,v),c=n.next_out,a=n.output,h=n.avail_out,o=n.next_in,s=n.input,d=n.avail_in,f=t.hold,g=t.bits,t.mode===Dc&&(t.back=-1);break}for(t.back=0;j=t.lencode[f&(1<<t.lenbits)-1],S=j>>>24,L=j>>>16&255,M=j&65535,!(S<=g);){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if(L&&(L&240)===0){for(z=S,se=L,ae=M;j=t.lencode[ae+((f&(1<<z+se)-1)>>z)],S=j>>>24,L=j>>>16&255,M=j&65535,!(z+S<=g);){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}f>>>=z,g-=z,t.back+=z}if(f>>>=S,g-=S,t.back+=S,t.length=M,L===0){t.mode=f6;break}if(L&32){t.back=-1,t.mode=Dc;break}if(L&64){n.msg="invalid literal/length code",t.mode=qr;break}t.extra=L&15,t.mode=c6;case c6:if(t.extra){for(k=t.extra;g<k;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=d6;case d6:for(;j=t.distcode[f&(1<<t.distbits)-1],S=j>>>24,L=j>>>16&255,M=j&65535,!(S<=g);){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if((L&240)===0){for(z=S,se=L,ae=M;j=t.distcode[ae+((f&(1<<z+se)-1)>>z)],S=j>>>24,L=j>>>16&255,M=j&65535,!(z+S<=g);){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}f>>>=z,g-=z,t.back+=z}if(f>>>=S,g-=S,t.back+=S,L&64){n.msg="invalid distance code",t.mode=qr;break}t.offset=M,t.extra=L&15,t.mode=u6;case u6:if(t.extra){for(k=t.extra;g<k;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=qr;break}t.mode=h6;case h6:if(h===0)break e;if(b=v-h,t.offset>b){if(b=t.offset-b,b>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=qr;break}b>t.wnext?(b-=t.wnext,T=t.wsize-b):T=t.wnext-b,b>t.length&&(b=t.length),E=t.window}else E=a,T=c-t.offset,b=t.length;b>h&&(b=h),h-=b,t.length-=b;do a[c++]=E[T++];while(--b);t.length===0&&(t.mode=E0);break;case f6:if(h===0)break e;a[c++]=t.length,h--,t.mode=E0;break;case g1:if(t.wrap){for(;g<32;){if(d===0)break e;d--,f|=s[o++]<<g,g+=8}if(v-=h,n.total_out+=v,t.total+=v,t.wrap&4&&v&&(n.adler=t.check=t.flags?Gl(t.check,a,v,c-v):k2(t.check,a,v,c-v)),v=h,t.wrap&4&&(t.flags?f:p6(f))!==t.check){n.msg="incorrect data check",t.mode=qr;break}f=0,g=0}t.mode=m6;case m6:if(t.wrap&&t.flags){for(;g<32;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=qr;break}f=0,g=0}t.mode=g6;case g6:D=dq;break e;case qr:D=$T;break e;case KT:return WT;case YT:default:return qo}return n.next_out=c,n.avail_out=h,n.next_in=o,n.avail_in=d,t.hold=f,t.bits=g,(t.wsize||v!==n.avail_out&&t.mode<qr&&(t.mode<g1||e!==W4))&&eC(n,n.output,n.next_out,v-n.avail_out),p-=n.avail_in,v-=n.avail_out,n.total_in+=p,n.total_out+=v,t.total+=v,t.wrap&4&&v&&(n.adler=t.check=t.flags?Gl(t.check,a,v,n.next_out-v):k2(t.check,a,v,n.next_out-v)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Dc?128:0)+(t.mode===S0||t.mode===m1?256:0),(p===0&&v===0||e===W4)&&D===hh&&(D=hq),D},wq=n=>{if(bh(n))return qo;let e=n.state;return e.window&&(e.window=null),n.state=null,hh},Nq=(n,e)=>{if(bh(n))return qo;const t=n.state;return(t.wrap&2)===0?qo:(t.head=e,e.done=!1,hh)},jq=(n,e)=>{const t=e.length;let s,a,o;return bh(n)||(s=n.state,s.wrap!==0&&s.mode!==Mx)?qo:s.mode===Mx&&(a=1,a=k2(a,e,t,0),a!==s.check)?$T:(o=eC(n,e,t,t),o?(s.mode=KT,WT):(s.havedict=1,hh))};var _q=QT,Sq=JT,Eq=XT,Aq=yq,Tq=ZT,Cq=vq,Iq=wq,kq=Nq,Rq=jq,Pq="pako inflate (from Nodeca project)",Uc={inflateReset:_q,inflateReset2:Sq,inflateResetKeep:Eq,inflateInit:Aq,inflateInit2:Tq,inflate:Cq,inflateEnd:Iq,inflateGetHeader:kq,inflateSetDictionary:Rq,inflateInfo:Pq};function Lq(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Dq=Lq;const tC=Object.prototype.toString,{Z_NO_FLUSH:Mq,Z_FINISH:Oq,Z_OK:Yg,Z_STREAM_END:y1,Z_NEED_DICT:b1,Z_STREAM_ERROR:Fq,Z_DATA_ERROR:y6,Z_MEM_ERROR:Uq}=zT;function bp(n){this.options=BT.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new eq,this.strm.avail_out=0;let t=Uc.inflateInit2(this.strm,e.windowBits);if(t!==Yg)throw new Error(R2[t]);if(this.header=new Dq,Uc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=P2.string2buf(e.dictionary):tC.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Uc.inflateSetDictionary(this.strm,e.dictionary),t!==Yg)))throw new Error(R2[t])}bp.prototype.push=function(n,e){const t=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let o,c,d;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?Oq:Mq,tC.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(s),t.next_out=0,t.avail_out=s),o=Uc.inflate(t,c),o===b1&&a&&(o=Uc.inflateSetDictionary(t,a),o===Yg?o=Uc.inflate(t,c):o===y6&&(o=b1));t.avail_in>0&&o===y1&&t.state.wrap>0&&n[t.next_in]!==0;)Uc.inflateReset(t),o=Uc.inflate(t,c);switch(o){case Fq:case y6:case b1:case Uq:return this.onEnd(o),this.ended=!0,!1}if(d=t.avail_out,t.next_out&&(t.avail_out===0||o===y1))if(this.options.to==="string"){let h=P2.utf8border(t.output,t.next_out),f=t.next_out-h,g=P2.buf2string(t.output,h);t.next_out=f,t.avail_out=s-f,f&&t.output.set(t.output.subarray(h,h+f),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Yg&&d===0)){if(o===y1)return o=Uc.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};bp.prototype.onData=function(n){this.chunks.push(n)};bp.prototype.onEnd=function(n){n===Yg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=BT.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Vq(n,e){const t=new bp(e);if(t.push(n),t.err)throw t.msg||R2[t.err];return t.result}var zq=bp,Bq=Vq,qq={Inflate:zq,inflate:Bq};const{Inflate:Gq,inflate:Hq}=qq;var b6=Gq,$q=Hq;const nC=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;nC[n]=e}const v6=4294967295;function Wq(n,e,t){let s=n;for(let a=0;a<t;a++)s=nC[(s^e[a])&255]^s>>>8;return s}function Kq(n,e){return(Wq(v6,n,e)^v6)>>>0}function w6(n,e,t){const s=n.readUint32(),a=Kq(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==s)throw new Error(`CRC mismatch for chunk ${t}. Expected ${s}, found ${a}`)}function rC(n,e,t){for(let s=0;s<t;s++)e[s]=n[s]}function sC(n,e,t,s){let a=0;for(;a<s;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-s]&255}function aC(n,e,t,s){let a=0;if(t.length===0)for(;a<s;a++)e[a]=n[a];else for(;a<s;a++)e[a]=n[a]+t[a]&255}function iC(n,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<s;o++)e[o]=n[o]+(e[o-a]+t[o]>>1)&255}}function oC(n,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=n[o]+t[o]&255;for(;o<s;o++)e[o]=n[o]+Yq(e[o-a],t[o],t[o-a])&255}}function Yq(n,e,t){const s=n+e-t,a=Math.abs(s-n),o=Math.abs(s-e),c=Math.abs(s-t);return a<=o&&a<=c?n:o<=c?e:t}function Xq(n,e,t,s,a,o){switch(n){case 0:rC(e,t,a);break;case 1:sC(e,t,a,o);break;case 2:aC(e,t,s,a);break;case 3:iC(e,t,s,a,o);break;case 4:oC(e,t,s,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const Qq=new Uint16Array([255]),Jq=new Uint8Array(Qq.buffer),Zq=Jq[0]===255;function eG(n){const{data:e,width:t,height:s,channels:a,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(o/8)*a,h=new Uint8Array(s*t*d);let f=0;for(let g=0;g<7;g++){const p=c[g],v=Math.ceil((t-p.x)/p.xStep),b=Math.ceil((s-p.y)/p.yStep);if(v<=0||b<=0)continue;const T=v*d,E=new Uint8Array(T);for(let j=0;j<b;j++){const S=e[f++],L=e.subarray(f,f+T);f+=T;const M=new Uint8Array(T);Xq(S,L,M,E,T,d),E.set(M);for(let z=0;z<v;z++){const se=p.x+z*p.xStep,ae=p.y+j*p.yStep;if(!(se>=t||ae>=s))for(let G=0;G<d;G++)h[(ae*t+se)*d+G]=M[z*d+G]}}}if(o===16){const g=new Uint16Array(h.buffer);if(Zq)for(let p=0;p<g.length;p++)g[p]=tG(g[p]);return g}else return h}function tG(n){return(n&255)<<8|n>>8&255}const nG=new Uint16Array([255]),rG=new Uint8Array(nG.buffer),sG=rG[0]===255,aG=new Uint8Array(0);function N6(n){const{data:e,width:t,height:s,channels:a,depth:o}=n,c=Math.ceil(o/8)*a,d=Math.ceil(o/8*a*t),h=new Uint8Array(s*d);let f=aG,g=0,p,v;for(let b=0;b<s;b++){switch(p=e.subarray(g+1,g+1+d),v=h.subarray(b*d,(b+1)*d),e[g]){case 0:rC(p,v,d);break;case 1:sC(p,v,d,c);break;case 2:aC(p,v,f,d);break;case 3:iC(p,v,f,d,c);break;case 4:oC(p,v,f,d,c);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}f=v,g+=d+1}if(o===16){const b=new Uint16Array(h.buffer);if(sG)for(let T=0;T<b.length;T++)b[T]=iG(b[T]);return b}else return h}function iG(n){return(n&255)<<8|n>>8&255}const Y0=Uint8Array.of(137,80,78,71,13,10,26,10);function j6(n){if(!oG(n.readBytes(Y0.length)))throw new Error("wrong PNG signature")}function oG(n){if(n.length<Y0.length)return!1;for(let e=0;e<Y0.length;e++)if(n[e]!==Y0[e])return!1;return!0}const lG="tEXt",cG=0,lC=new TextDecoder("latin1");function dG(n){if(hG(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const uG=/^[\u0000-\u00FF]*$/;function hG(n){if(!uG.test(n))throw new Error("invalid latin1 text")}function fG(n,e,t){const s=cC(e);n[s]=mG(e,t-s.length-1)}function cC(n){for(n.mark();n.readByte()!==cG;);const e=n.offset;n.reset();const t=lC.decode(n.readBytes(e-n.offset-1));return n.skip(1),dG(t),t}function mG(n,e){return lC.decode(n.readBytes(e))}const io={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},v1={UNKNOWN:-1,DEFLATE:0},_6={UNKNOWN:-1,ADAPTIVE:0},w1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},A0={NONE:0,BACKGROUND:1,PREVIOUS:2},N1={SOURCE:0,OVER:1};class gG extends ww{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:s=!1}=t;this._checkCrc=s,this._inflator=new b6,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=v1.UNKNOWN,this._filterMethod=_6.UNKNOWN,this._interlaceMethod=w1.UNKNOWN,this._colorType=io.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(j6(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(j6(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const s=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case lG:fG(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?w6(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const s=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=s+e;break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?w6(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=pG(this.readUint8());const t=this.readUint8();this._colorType=t;let s;switch(t){case io.GREYSCALE:s=1;break;case io.TRUECOLOUR:s=3;break;case io.INDEXED_COLOUR:s=1;break;case io.GREYSCALE_ALPHA:s=2;break;case io.TRUECOLOUR_ALPHA:s=4;break;case io.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==v1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const s=[];this._palette=s;for(let a=0;a<t;a++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,s=this.offset+this.byteOffset;if(s+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,s,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case io.GREYSCALE:case io.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case io.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const s=this.readByte();this._palette[t].push(s)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case io.UNKNOWN:case io.GREYSCALE_ALPHA:case io.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=cC(this),s=this.readUint8();if(s!==v1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:$q(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),s=this.readByte();this._png.resolution={x:e,y:t,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(e);if(s){if(s.data=N6({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)t.data=s.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(s,a,t),this.addFrameDataToCanvas(t,s)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,s){switch(e.disposeOp){case A0.NONE:break;case A0.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const c=(a*e.width+o)*this._png.channels;for(let d=0;d<this._png.channels;d++)s.data[c+d]=0}break;case A0.PREVIOUS:s.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const s=1<<this._png.depth,a=(o,c)=>{const d=((o+t.yOffset)*this._png.width+t.xOffset+c)*this._png.channels,h=(o*t.width+c)*this._png.channels;return{index:d,frameIndex:h}};switch(t.blendOp){case N1.SOURCE:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:d,frameIndex:h}=a(o,c);for(let f=0;f<this._png.channels;f++)e.data[d+f]=t.data[h+f]}break;case N1.OVER:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:d,frameIndex:h}=a(o,c);for(let f=0;f<this._png.channels;f++){const g=t.data[h+this._png.channels-1]/s,p=f%(this._png.channels-1)===0?1:t.data[h+f],v=Math.floor(g*p+(1-g)*e.data[d+f]);e.data[d+f]+=v}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==_6.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===w1.NO_INTERLACE)this._png.data=N6({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===w1.ADAM7)this._png.data=eG({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:A0.NONE,blendOp:N1.SOURCE,data:e}),this._inflator=new b6,this._writingDataChunks=!1}}function pG(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var S6;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(S6||(S6={}));function xG(n,e){return new gG(n,e).decode()}var rn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function j1(){rn.console&&typeof rn.console.log=="function"&&rn.console.log.apply(rn.console,arguments)}var Er={log:j1,warn:function(n){rn.console&&(typeof rn.console.warn=="function"?rn.console.warn.apply(rn.console,arguments):j1.call(null,arguments))},error:function(n){rn.console&&(typeof rn.console.error=="function"?rn.console.error.apply(rn.console,arguments):j1(n))}};function _1(n,e,t){var s=new XMLHttpRequest;s.open("GET",n),s.responseType="blob",s.onload=function(){Ou(s.response,e,t)},s.onerror=function(){Er.error("could not download file")},s.send()}function E6(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function T0(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Ou=rn.saveAs||((typeof window>"u"?"undefined":cr(window))!=="object"||window!==rn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var s=rn.URL||rn.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?E6(a.href)?_1(n,e,t):T0(a,a.target="_blank"):T0(a)):(a.href=s.createObjectURL(n),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){T0(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(E6(n))_1(n,e,t);else{var s=document.createElement("a");s.href=n,s.target="_blank",setTimeout(function(){T0(s)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:cr(o)!=="object"&&(Er.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof n=="string")return _1(n,e,t);var a=n.type==="application/octet-stream",o=/constructor/i.test(rn.HTMLElement)||rn.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&o)&&(typeof FileReader>"u"?"undefined":cr(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var g=d.result;g=c?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=g:location=g,s=null},d.readAsDataURL(n)}else{var h=rn.URL||rn.webkitURL,f=h.createObjectURL(n);s?s.location=f:location.href=f,s=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});function dC(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],s=0;s<t.length;s++){var a=t[s].re,o=t[s].process,c=a.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+d+h+f}}var X0=rn.atob.bind(rn),A6=rn.btoa.bind(rn);function S1(n,e){var t=n[0],s=n[1],a=n[2],o=n[3];t=Ka(t,s,a,o,e[0],7,-680876936),o=Ka(o,t,s,a,e[1],12,-389564586),a=Ka(a,o,t,s,e[2],17,606105819),s=Ka(s,a,o,t,e[3],22,-1044525330),t=Ka(t,s,a,o,e[4],7,-176418897),o=Ka(o,t,s,a,e[5],12,1200080426),a=Ka(a,o,t,s,e[6],17,-1473231341),s=Ka(s,a,o,t,e[7],22,-45705983),t=Ka(t,s,a,o,e[8],7,1770035416),o=Ka(o,t,s,a,e[9],12,-1958414417),a=Ka(a,o,t,s,e[10],17,-42063),s=Ka(s,a,o,t,e[11],22,-1990404162),t=Ka(t,s,a,o,e[12],7,1804603682),o=Ka(o,t,s,a,e[13],12,-40341101),a=Ka(a,o,t,s,e[14],17,-1502002290),t=Ya(t,s=Ka(s,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Ya(o,t,s,a,e[6],9,-1069501632),a=Ya(a,o,t,s,e[11],14,643717713),s=Ya(s,a,o,t,e[0],20,-373897302),t=Ya(t,s,a,o,e[5],5,-701558691),o=Ya(o,t,s,a,e[10],9,38016083),a=Ya(a,o,t,s,e[15],14,-660478335),s=Ya(s,a,o,t,e[4],20,-405537848),t=Ya(t,s,a,o,e[9],5,568446438),o=Ya(o,t,s,a,e[14],9,-1019803690),a=Ya(a,o,t,s,e[3],14,-187363961),s=Ya(s,a,o,t,e[8],20,1163531501),t=Ya(t,s,a,o,e[13],5,-1444681467),o=Ya(o,t,s,a,e[2],9,-51403784),a=Ya(a,o,t,s,e[7],14,1735328473),t=Xa(t,s=Ya(s,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Xa(o,t,s,a,e[8],11,-2022574463),a=Xa(a,o,t,s,e[11],16,1839030562),s=Xa(s,a,o,t,e[14],23,-35309556),t=Xa(t,s,a,o,e[1],4,-1530992060),o=Xa(o,t,s,a,e[4],11,1272893353),a=Xa(a,o,t,s,e[7],16,-155497632),s=Xa(s,a,o,t,e[10],23,-1094730640),t=Xa(t,s,a,o,e[13],4,681279174),o=Xa(o,t,s,a,e[0],11,-358537222),a=Xa(a,o,t,s,e[3],16,-722521979),s=Xa(s,a,o,t,e[6],23,76029189),t=Xa(t,s,a,o,e[9],4,-640364487),o=Xa(o,t,s,a,e[12],11,-421815835),a=Xa(a,o,t,s,e[15],16,530742520),t=Qa(t,s=Xa(s,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=Qa(o,t,s,a,e[7],10,1126891415),a=Qa(a,o,t,s,e[14],15,-1416354905),s=Qa(s,a,o,t,e[5],21,-57434055),t=Qa(t,s,a,o,e[12],6,1700485571),o=Qa(o,t,s,a,e[3],10,-1894986606),a=Qa(a,o,t,s,e[10],15,-1051523),s=Qa(s,a,o,t,e[1],21,-2054922799),t=Qa(t,s,a,o,e[8],6,1873313359),o=Qa(o,t,s,a,e[15],10,-30611744),a=Qa(a,o,t,s,e[6],15,-1560198380),s=Qa(s,a,o,t,e[13],21,1309151649),t=Qa(t,s,a,o,e[4],6,-145523070),o=Qa(o,t,s,a,e[11],10,-1120210379),a=Qa(a,o,t,s,e[2],15,718787259),s=Qa(s,a,o,t,e[9],21,-343485551),n[0]=Wd(t,n[0]),n[1]=Wd(s,n[1]),n[2]=Wd(a,n[2]),n[3]=Wd(o,n[3])}function _y(n,e,t,s,a,o){return e=Wd(Wd(e,n),Wd(s,o)),Wd(e<<a|e>>>32-a,t)}function Ka(n,e,t,s,a,o,c){return _y(e&t|~e&s,n,e,a,o,c)}function Ya(n,e,t,s,a,o,c){return _y(e&s|t&~s,n,e,a,o,c)}function Xa(n,e,t,s,a,o,c){return _y(e^t^s,n,e,a,o,c)}function Qa(n,e,t,s,a,o,c){return _y(t^(e|~s),n,e,a,o,c)}function uC(n){var e,t=n.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)S1(s,yG(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(S1(s,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,S1(s,a),s}function yG(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var T6="0123456789abcdef".split("");function bG(n){for(var e="",t=0;t<4;t++)e+=T6[n>>8*t+4&15]+T6[n>>8*t&15];return e}function vG(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function L2(n){return uC(n).map(vG).join("")}var wG=(function(n){for(var e=0;e<n.length;e++)n[e]=bG(n[e]);return n.join("")})(uC("hello"))!="5d41402abc4b2a76b9719d911017c592";function Wd(n,e){if(wG){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function D2(n,e){var t,s,a,o;if(n!==t){for(var c=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),d=[],h=0;h<256;h++)d[h]=h;var f=0;for(h=0;h<256;h++){var g=d[h];f=(f+g+c.charCodeAt(h))%256,d[h]=d[f],d[f]=g}t=n,s=d}else d=s;var p=e.length,v=0,b=0,T="";for(h=0;h<p;h++)b=(b+(g=d[v=(v+1)%256]))%256,d[v]=d[b],d[b]=g,c=d[(d[v]+d[b])%256],T+=String.fromCharCode(e.charCodeAt(h)^c);return T}var C6={print:4,modify:8,copy:16,"annot-forms":32};function bf(n,e,t,s){this.v=1,this.r=2;var a=192;n.forEach(function(d){if(C6.perm!==void 0)throw new Error("Invalid permission: "+d);a+=C6[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^a)),this.encryptionKey=L2(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=D2(this.encryptionKey,this.padding)}function vf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,s=0;s<t;s++){var a=n.charCodeAt(s);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[s]}return e}function I6(n){if(cr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,s,a){if(a=a||!1,typeof t!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[s,!!a],o},this.unsubscribe=function(t){for(var s in e)if(e[s][t])return delete e[s][t],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,s)}catch(d){rn.console&&Er.error("jsPDF PubSub Error",d.message,d)}c[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ox(n){if(!(this instanceof Ox))return new Ox(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function hC(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Bu(n,e,t,s,a){if(!(this instanceof Bu))return new Bu(n,e,t,s,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,hC.call(this,s,a)}function jf(n,e,t,s,a){if(!(this instanceof jf))return new jf(n,e,t,s,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,hC.call(this,s,a)}function Rt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],o=arguments[3],c=[],d=1,h=16,f="S",g=null;cr(n=n||{})==="object"&&(t=n.orientation,s=n.unit||s,a=n.format||a,o=n.compress||n.compressPdf||o,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),d=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(h=n.floatPrecision),f=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),s=s||"mm",t=(""+(t||"P")).toLowerCase();var p=n.putOnlyUsedFonts||!1,v={},b={internal:{},__private__:{}};b.__private__.PubSub=I6;var T="1.3",E=b.__private__.getPdfVersion=function(){return T};b.__private__.setPdfVersion=function(A){T=A};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return j};var S=b.__private__.getPageFormat=function(A){return j[A]};a=a||"a4";var L="compat",M="advanced",z=L;function se(){this.saveGraphicsState(),X(new It(tn,0,0,-tn,0,li()*tn).toString()+" cm"),this.setFontSize(this.getFontSize()/tn),f="n",z=M}function ae(){this.restoreGraphicsState(),f="S",z=L}var G=b.__private__.combineFontStyleAndFontWeight=function(A,H){if(A=="bold"&&H=="normal"||A=="bold"&&H==400||A=="normal"&&H=="italic"||A=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(A=H==400||H==="normal"?A==="italic"?"italic":"normal":H!=700&&H!=="bold"||A!=="normal"?(H==700?"bold":H)+""+A:"bold"),A};b.advancedAPI=function(A){var H=z===L;return H&&se.call(this),typeof A!="function"||(A(this),H&&ae.call(this)),this},b.compatAPI=function(A){var H=z===M;return H&&ae.call(this),typeof A!="function"||(A(this),H&&se.call(this)),this},b.isAdvancedAPI=function(){return z===M};var D,I=function(A){if(z!==M)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=b.roundToPrecision=b.__private__.roundToPrecision=function(A,H){var ce=e||H;if(isNaN(A)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ce).replace(/0+$/,"")};D=b.hpf=b.__private__.hpf=typeof h=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,h)}:h==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,16)};var k=b.f2=b.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return F(A,2)},P=b.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return F(A,3)},V=b.scale=b.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return z===L?A*tn:z===M?A:void 0},le=function(A){return V((function(H){return z===L?li()-H:z===M?H:void 0})(A))};b.__private__.setPrecision=b.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var Ne,ie="00000000000000000000000000000000",ge=b.__private__.getFileId=function(){return ie},ue=b.__private__.setFileId=function(A){return ie=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(Nr=new bf(g.userPermissions,g.userPassword,g.ownerPassword,ie)),ie};b.setFileId=function(A){return ue(A),this},b.getFileId=function(){return ge()};var je=b.__private__.convertDateToPDFDate=function(A){var H=A.getTimezoneOffset(),ce=H<0?"+":"-",pe=Math.floor(Math.abs(H/60)),we=Math.abs(H%60),qe=[ce,re(pe),"'",re(we),"'"].join("");return["D:",A.getFullYear(),re(A.getMonth()+1),re(A.getDate()),re(A.getHours()),re(A.getMinutes()),re(A.getSeconds()),qe].join("")},ze=b.__private__.convertPDFDateToDate=function(A){var H=parseInt(A.substr(2,4),10),ce=parseInt(A.substr(6,2),10)-1,pe=parseInt(A.substr(8,2),10),we=parseInt(A.substr(10,2),10),qe=parseInt(A.substr(12,2),10),Qe=parseInt(A.substr(14,2),10);return new Date(H,ce,pe,we,qe,Qe,0)},ne=b.__private__.setCreationDate=function(A){var H;if(A===void 0&&(A=new Date),A instanceof Date)H=je(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=A}return Ne=H},q=b.__private__.getCreationDate=function(A){var H=Ne;return A==="jsDate"&&(H=ze(Ne)),H};b.setCreationDate=function(A){return ne(A),this},b.getCreationDate=function(A){return q(A)};var J,re=b.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},he=b.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},fe=0,be=[],Pe=[],ke=0,Be=[],Ze=[],ot=!1,it=Pe;b.__private__.setCustomOutputDestination=function(A){ot=!0,it=A};var Ve=function(A){ot||(it=A)};b.__private__.resetCustomOutputDestination=function(){ot=!1,it=Pe};var X=b.__private__.out=function(A){return A=A.toString(),ke+=A.length+1,it.push(A),it},Ke=b.__private__.write=function(A){return X(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Wt=b.__private__.getArrayBuffer=function(A){for(var H=A.length,ce=new ArrayBuffer(H),pe=new Uint8Array(ce);H--;)pe[H]=A.charCodeAt(H);return ce},Et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Et};var He=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(A){return He=z===M?A/tn:A,this};var dt,ct=b.__private__.getFontSize=b.getFontSize=function(){return z===L?He:He*tn},ft=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(A){return ft=A,this},b.__private__.getR2L=b.getR2L=function(){return ft};var At,sn=b.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))dt=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');dt=A}else dt=parseInt(A,10)};b.__private__.getZoomMode=function(){return dt};var un,Jt=b.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');At=A};b.__private__.getPageMode=function(){return At};var xn=b.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');un=A};b.__private__.getLayoutMode=function(){return un},b.__private__.setDisplayMode=b.setDisplayMode=function(A,H,ce){return sn(A),xn(H),Jt(ce),this};var on={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(A){if(Object.keys(on).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return on[A]},b.__private__.getDocumentProperties=function(){return on},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(A){for(var H in on)on.hasOwnProperty(H)&&A[H]&&(on[H]=A[H]);return this},b.__private__.setDocumentProperty=function(A,H){if(Object.keys(on).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return on[A]=H};var Nt,tn,jt,Tr,ln,Lt={},Kt={},an=[],Ct={},Bn={},Bt={},qt={},Hn=null,Tt=0,_t=[],yn=new I6(b),Gs=n.hotfixes||[],Cs={},bi={},xs=[],It=function A(H,ce,pe,we,qe,Qe){if(!(this instanceof A))return new A(H,ce,pe,we,qe,Qe);isNaN(H)&&(H=1),isNaN(ce)&&(ce=0),isNaN(pe)&&(pe=0),isNaN(we)&&(we=1),isNaN(qe)&&(qe=0),isNaN(Qe)&&(Qe=0),this._matrix=[H,ce,pe,we,qe,Qe]};Object.defineProperty(It.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(It.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(It.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(It.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(It.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(It.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(It.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(It.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(It.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(It.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(It.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(It.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(It.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(It.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(It.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(It.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),It.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(A)},It.prototype.multiply=function(A){var H=A.sx*this.sx+A.shy*this.shx,ce=A.sx*this.shy+A.shy*this.sy,pe=A.shx*this.sx+A.sy*this.shx,we=A.shx*this.shy+A.sy*this.sy,qe=A.tx*this.sx+A.ty*this.shx+this.tx,Qe=A.tx*this.shy+A.ty*this.sy+this.ty;return new It(H,ce,pe,we,qe,Qe)},It.prototype.decompose=function(){var A=this.sx,H=this.shy,ce=this.shx,pe=this.sy,we=this.tx,qe=this.ty,Qe=Math.sqrt(A*A+H*H),mt=(A/=Qe)*ce+(H/=Qe)*pe;ce-=A*mt,pe-=H*mt;var yt=Math.sqrt(ce*ce+pe*pe);return mt/=yt,A*(pe/=yt)<H*(ce/=yt)&&(A=-A,H=-H,mt=-mt,Qe=-Qe),{scale:new It(Qe,0,0,yt,0,0),translate:new It(1,0,0,1,we,qe),rotate:new It(A,H,-H,A,0,0),skew:new It(1,0,mt,1,0,0)}},It.prototype.toString=function(A){return this.join(" ")},It.prototype.inversed=function(){var A=this.sx,H=this.shy,ce=this.shx,pe=this.sy,we=this.tx,qe=this.ty,Qe=1/(A*pe-H*ce),mt=pe*Qe,yt=-H*Qe,Ut=-ce*Qe,kt=A*Qe;return new It(mt,yt,Ut,kt,-mt*we-Ut*qe,-yt*we-kt*qe)},It.prototype.applyToPoint=function(A){var H=A.x*this.sx+A.y*this.shx+this.tx,ce=A.x*this.shy+A.y*this.sy+this.ty;return new Rs(H,ce)},It.prototype.applyToRectangle=function(A){var H=this.applyToPoint(A),ce=this.applyToPoint(new Rs(A.x+A.w,A.y+A.h));return new wi(H.x,H.y,ce.x-H.x,ce.y-H.y)},It.prototype.clone=function(){var A=this.sx,H=this.shy,ce=this.shx,pe=this.sy,we=this.tx,qe=this.ty;return new It(A,H,ce,pe,we,qe)},b.Matrix=It;var $i=b.matrixMult=function(A,H){return H.multiply(A)},Na=new It(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Na;var ia=function(A,H){if(!Bn[A]){var ce=(H instanceof Bu?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);H.id=ce,Bn[A]=ce,Ct[ce]=H,yn.publish("addPattern",H)}};b.ShadingPattern=Bu,b.TilingPattern=jf,b.addShadingPattern=function(A,H){return I("addShadingPattern()"),ia(A,H),this},b.beginTilingPattern=function(A){I("beginTilingPattern()"),Ni(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},b.endTilingPattern=function(A,H){I("endTilingPattern()"),H.stream=Ze[J].join(`
`),ia(A,H),yn.publish("endTilingPattern",H),xs.pop().restore()};var oa,nr=b.__private__.newObject=function(){var A=fr();return ss(A,!0),A},fr=b.__private__.newObjectDeferred=function(){return fe++,be[fe]=function(){return ke},fe},ss=function(A,H){return H=typeof H=="boolean"&&H,be[A]=ke,H&&X(A+" 0 obj"),A},Hs=b.__private__.newAdditionalObject=function(){var A={objId:fr(),content:""};return Be.push(A),A},Is=fr(),$n=fr(),sr=b.__private__.decodeColorString=function(A){var H=A.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length!==5||H[4]!=="k"&&H[4]!=="K"||(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var ce=parseFloat(H[0]);H=[ce,ce,ce,"r"]}for(var pe="#",we=0;we<3;we++)pe+=("0"+Math.floor(255*parseFloat(H[we])).toString(16)).slice(-2);return pe},as=b.__private__.encodeColorString=function(A){var H;typeof A=="string"&&(A={ch1:A});var ce=A.ch1,pe=A.ch2,we=A.ch3,qe=A.ch4,Qe=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var mt=new dC(ce);if(mt.ok)ce=mt.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var yt=parseInt(ce.substr(1),16);ce=yt>>16&255,pe=yt>>8&255,we=255&yt}if(pe===void 0||qe===void 0&&ce===pe&&pe===we)H=typeof ce=="string"?ce+" "+Qe[0]:A.precision===2?k(ce/255)+" "+Qe[0]:P(ce/255)+" "+Qe[0];else if(qe===void 0||cr(qe)==="object"){if(qe&&!isNaN(qe.a)&&qe.a===0)return["1.","1.","1.",Qe[1]].join(" ");H=typeof ce=="string"?[ce,pe,we,Qe[1]].join(" "):A.precision===2?[k(ce/255),k(pe/255),k(we/255),Qe[1]].join(" "):[P(ce/255),P(pe/255),P(we/255),Qe[1]].join(" ")}else H=typeof ce=="string"?[ce,pe,we,qe,Qe[2]].join(" "):A.precision===2?[k(ce),k(pe),k(we),k(qe),Qe[2]].join(" "):[P(ce),P(pe),P(we),P(qe),Qe[2]].join(" ");return H},la=b.__private__.getFilters=function(){return c},Ua=b.__private__.putStream=function(A){var H=(A=A||{}).data||"",ce=A.filters||la(),pe=A.alreadyAppliedFilters||[],we=A.addLength1||!1,qe=H.length,Qe=A.objectId,mt=function(R){return R};if(g!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(mt=Nr.encryptor(Qe,0));var yt={};ce===!0&&(ce=["FlateEncode"]);var Ut=A.additionalKeyValues||[],kt=(yt=Rt.API.processDataByFilters!==void 0?Rt.API.processDataByFilters(H,ce):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(yt.data.length!==0&&(Ut.push({key:"Length",value:yt.data.length}),we===!0&&Ut.push({key:"Length1",value:qe})),kt.length!=0)if(kt.split("/").length-1==1)Ut.push({key:"Filter",value:kt});else{Ut.push({key:"Filter",value:"["+kt+"]"});for(var En=0;En<Ut.length;En+=1)if(Ut[En].key==="DecodeParms"){for(var mr=[],rr=0;rr<yt.reverseChain.split("/").length-1;rr+=1)mr.push("null");mr.push(Ut[En].value),Ut[En].value="["+mr.join(" ")+"]"}}X("<<");for(var y=0;y<Ut.length;y++)X("/"+Ut[y].key+" "+Ut[y].value);X(">>"),yt.data.length!==0&&(X("stream"),X(mt(yt.data)),X("endstream"))},go=b.__private__.putPage=function(A){var H=A.number,ce=A.data,pe=A.objId,we=A.contentsObjId;ss(pe,!0),X("<</Type /Page"),X("/Parent "+A.rootDictionaryObjId+" 0 R"),X("/Resources "+A.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(D(A.mediaBox.bottomLeftX))+" "+parseFloat(D(A.mediaBox.bottomLeftY))+" "+D(A.mediaBox.topRightX)+" "+D(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&X("/CropBox ["+D(A.cropBox.bottomLeftX)+" "+D(A.cropBox.bottomLeftY)+" "+D(A.cropBox.topRightX)+" "+D(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&X("/BleedBox ["+D(A.bleedBox.bottomLeftX)+" "+D(A.bleedBox.bottomLeftY)+" "+D(A.bleedBox.topRightX)+" "+D(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&X("/TrimBox ["+D(A.trimBox.bottomLeftX)+" "+D(A.trimBox.bottomLeftY)+" "+D(A.trimBox.topRightX)+" "+D(A.trimBox.topRightY)+"]"),A.artBox!==null&&X("/ArtBox ["+D(A.artBox.bottomLeftX)+" "+D(A.artBox.bottomLeftY)+" "+D(A.artBox.topRightX)+" "+D(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&X("/UserUnit "+A.userUnit),yn.publish("putPage",{objId:pe,pageContext:_t[H],pageNumber:H,page:ce}),X("/Contents "+we+" 0 R"),X(">>"),X("endobj");var qe=ce.join(`
`);return z===M&&(qe+=`
Q`),ss(we,!0),Ua({data:qe,filters:la(),objectId:we}),X("endobj"),pe},si=b.__private__.putPages=function(){var A,H,ce=[];for(A=1;A<=Tt;A++)_t[A].objId=fr(),_t[A].contentsObjId=fr();for(A=1;A<=Tt;A++)ce.push(go({number:A,data:Ze[A],objId:_t[A].objId,contentsObjId:_t[A].contentsObjId,mediaBox:_t[A].mediaBox,cropBox:_t[A].cropBox,bleedBox:_t[A].bleedBox,trimBox:_t[A].trimBox,artBox:_t[A].artBox,userUnit:_t[A].userUnit,rootDictionaryObjId:Is,resourceDictionaryObjId:$n}));ss(Is,!0),X("<</Type /Pages");var pe="/Kids [";for(H=0;H<Tt;H++)pe+=ce[H]+" 0 R ";X(pe+"]"),X("/Count "+Tt),X(">>"),X("endobj"),yn.publish("postPutPages")},ca=function(A){yn.publish("putFont",{font:A,out:X,newObject:nr,putStream:Ua}),A.isAlreadyPutted!==!0&&(A.objectNumber=nr(),X("<<"),X("/Type /Font"),X("/BaseFont /"+vf(A.postScriptName)),X("/Subtype /Type1"),typeof A.encoding=="string"&&X("/Encoding /"+A.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Wi=function(A){A.objectNumber=nr();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[D(A.x),D(A.y),D(A.x+A.width),D(A.y+A.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ce=A.pages[1].join(`
`);Ua({data:ce,additionalKeyValues:H,objectId:A.objectNumber}),X("endobj")},ja=function(A,H){H||(H=21);var ce=nr(),pe=(function(Qe,mt){var yt,Ut=[],kt=1/(mt-1);for(yt=0;yt<1;yt+=kt)Ut.push(yt);if(Ut.push(1),Qe[0].offset!=0){var En={offset:0,color:Qe[0].color};Qe.unshift(En)}if(Qe[Qe.length-1].offset!=1){var mr={offset:1,color:Qe[Qe.length-1].color};Qe.push(mr)}for(var rr="",y=0,R=0;R<Ut.length;R++){for(yt=Ut[R];yt>Qe[y+1].offset;)y++;var B=Qe[y].offset,ee=(yt-B)/(Qe[y+1].offset-B),Se=Qe[y].color,Le=Qe[y+1].color;rr+=he(Math.round((1-ee)*Se[0]+ee*Le[0]).toString(16))+he(Math.round((1-ee)*Se[1]+ee*Le[1]).toString(16))+he(Math.round((1-ee)*Se[2]+ee*Le[2]).toString(16))}return rr.trim()})(A.colors,H),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+H+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ua({data:pe,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),X("endobj"),A.objectNumber=nr(),X("<< /ShadingType "+A.type),X("/ColorSpace /DeviceRGB");var qe="/Coords ["+D(parseFloat(A.coords[0]))+" "+D(parseFloat(A.coords[1]))+" ";A.type===2?qe+=D(parseFloat(A.coords[2]))+" "+D(parseFloat(A.coords[3])):qe+=D(parseFloat(A.coords[2]))+" "+D(parseFloat(A.coords[3]))+" "+D(parseFloat(A.coords[4]))+" "+D(parseFloat(A.coords[5])),X(qe+="]"),A.matrix&&X("/Matrix ["+A.matrix.toString()+"]"),X("/Function "+ce+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},$s=function(A,H){var ce=fr(),pe=nr();H.push({resourcesOid:ce,objectOid:pe}),A.objectNumber=pe;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+A.boundingBox.map(D).join(" ")+"]"}),we.push({key:"XStep",value:D(A.xStep)}),we.push({key:"YStep",value:D(A.yStep)}),we.push({key:"Resources",value:ce+" 0 R"}),A.matrix&&we.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Ua({data:A.stream,additionalKeyValues:we,objectId:A.objectNumber}),X("endobj")},_a=function(A){for(var H in A.objectNumber=nr(),X("<<"),A)switch(H){case"opacity":X("/ca "+k(A[H]));break;case"stroke-opacity":X("/CA "+k(A[H]))}X(">>"),X("endobj")},Va=function(A){ss(A.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var H in X("/Font <<"),Lt)Lt.hasOwnProperty(H)&&(p===!1||p===!0&&v.hasOwnProperty(H))&&X("/"+H+" "+Lt[H].objectNumber+" 0 R");X(">>")})(),(function(){if(Object.keys(Ct).length>0){for(var H in X("/Shading <<"),Ct)Ct.hasOwnProperty(H)&&Ct[H]instanceof Bu&&Ct[H].objectNumber>=0&&X("/"+H+" "+Ct[H].objectNumber+" 0 R");yn.publish("putShadingPatternDict"),X(">>")}})(),(function(H){if(Object.keys(Ct).length>0){for(var ce in X("/Pattern <<"),Ct)Ct.hasOwnProperty(ce)&&Ct[ce]instanceof b.TilingPattern&&Ct[ce].objectNumber>=0&&Ct[ce].objectNumber<H&&X("/"+ce+" "+Ct[ce].objectNumber+" 0 R");yn.publish("putTilingPatternDict"),X(">>")}})(A.objectOid),(function(){if(Object.keys(Bt).length>0){var H;for(H in X("/ExtGState <<"),Bt)Bt.hasOwnProperty(H)&&Bt[H].objectNumber>=0&&X("/"+H+" "+Bt[H].objectNumber+" 0 R");yn.publish("putGStateDict"),X(">>")}})(),(function(){for(var H in X("/XObject <<"),Cs)Cs.hasOwnProperty(H)&&Cs[H].objectNumber>=0&&X("/"+H+" "+Cs[H].objectNumber+" 0 R");yn.publish("putXobjectDict"),X(">>")})(),X(">>"),X("endobj")},Cr=function(A){Kt[A.fontName]=Kt[A.fontName]||{},Kt[A.fontName][A.fontStyle]=A.id},Nl=function(A,H,ce,pe,we){var qe={id:"F"+(Object.keys(Lt).length+1).toString(10),postScriptName:A,fontName:H,fontStyle:ce,encoding:pe,isStandardFont:we||!1,metadata:{}};return yn.publish("addFont",{font:qe,instance:this}),Lt[qe.id]=qe,Cr(qe),qe.id},da=b.__private__.pdfEscape=b.pdfEscape=function(A,H){return(function(ce,pe){var we,qe,Qe,mt,yt,Ut,kt,En,mr;if(Qe=(pe=pe||{}).sourceEncoding||"Unicode",yt=pe.outputEncoding,(pe.autoencode||yt)&&Lt[Nt].metadata&&Lt[Nt].metadata[Qe]&&Lt[Nt].metadata[Qe].encoding&&(mt=Lt[Nt].metadata[Qe].encoding,!yt&&Lt[Nt].encoding&&(yt=Lt[Nt].encoding),!yt&&mt.codePages&&(yt=mt.codePages[0]),typeof yt=="string"&&(yt=mt[yt]),yt)){for(kt=!1,Ut=[],we=0,qe=ce.length;we<qe;we++)(En=yt[ce.charCodeAt(we)])?Ut.push(String.fromCharCode(En)):Ut.push(ce[we]),Ut[we].charCodeAt(0)>>8&&(kt=!0);ce=Ut.join("")}for(we=ce.length;kt===void 0&&we!==0;)ce.charCodeAt(we-1)>>8&&(kt=!0),we--;if(!kt)return ce;for(Ut=pe.noBOM?[]:[254,255],we=0,qe=ce.length;we<qe;we++){if((mr=(En=ce.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ut.push(mr),Ut.push(En-(mr<<8))}return String.fromCharCode.apply(void 0,Ut)})(A,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},za=b.__private__.beginPage=function(A){Ze[++Tt]=[],_t[Tt]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},jl(Tt),Ve(Ze[J])},ai=function(A,H){var ce,pe,we;switch(t=H||t,typeof A=="string"&&(ce=S(A.toLowerCase()),Array.isArray(ce)&&(pe=ce[0],we=ce[1])),Array.isArray(A)&&(pe=A[0]*tn,we=A[1]*tn),isNaN(pe)&&(pe=a[0],we=a[1]),(pe>14400||we>14400)&&(Er.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),we=Math.min(14400,we)),a=[pe,we],t.substr(0,1)){case"l":we>pe&&(a=[we,pe]);break;case"p":pe>we&&(a=[we,pe])}za(a),Mt(ha),X(Ea),Ta!==0&&X(Ta+" J"),Kr!==0&&X(Kr+" j"),yn.publish("addPage",{pageNumber:Tt})},Ho=function(A){A>0&&A<=Tt&&(Ze.splice(A,1),_t.splice(A,1),Tt--,J>Tt&&(J=Tt),this.setPage(J))},jl=function(A){A>0&&A<=Tt&&(J=A)},_l=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Ze.length-1},lc=function(A,H,ce){var pe,we=void 0;return ce=ce||{},A=A!==void 0?A:Lt[Nt].fontName,H=H!==void 0?H:Lt[Nt].fontStyle,pe=A.toLowerCase(),Kt[pe]!==void 0&&Kt[pe][H]!==void 0?we=Kt[pe][H]:Kt[A]!==void 0&&Kt[A][H]!==void 0?we=Kt[A][H]:ce.disableWarning===!1&&Er.warn("Unable to look up font label for font '"+A+"', '"+H+"'. Refer to getFontList() for available fonts."),we||ce.noFallback||(we=Kt.times[H])==null&&(we=Kt.times.normal),we},Sa=b.__private__.putInfo=function(){var A=nr(),H=function(pe){return pe};for(var ce in g!==null&&(H=Nr.encryptor(A,0)),X("<<"),X("/Producer ("+da(H("jsPDF "+Rt.version))+")"),on)on.hasOwnProperty(ce)&&on[ce]&&X("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+da(H(on[ce]))+")");X("/CreationDate ("+da(H(Ne))+")"),X(">>"),X("endobj")},ks=b.__private__.putCatalog=function(A){var H=(A=A||{}).rootDictionaryObjId||Is;switch(nr(),X("<<"),X("/Type /Catalog"),X("/Pages "+H+" 0 R"),dt||(dt="fullwidth"),dt){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+dt;ce.substr(ce.length-1)==="%"&&(dt=parseInt(dt)/100),typeof dt=="number"&&X("/OpenAction [3 0 R /XYZ null null "+k(dt)+"]")}switch(un||(un="continuous"),un){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}At&&X("/PageMode /"+At),yn.publish("putCatalog"),X(">>"),X("endobj")},Or=b.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(fe+1)),X("/Root "+fe+" 0 R"),X("/Info "+(fe-1)+" 0 R"),g!==null&&X("/Encrypt "+Nr.oid+" 0 R"),X("/ID [ <"+ie+"> <"+ie+"> ]"),X(">>")},jn=b.__private__.putHeader=function(){X("%PDF-"+T),X("%")},Ki=b.__private__.putXRef=function(){var A="0000000000";X("xref"),X("0 "+(fe+1)),X("0000000000 65535 f ");for(var H=1;H<=fe;H++)typeof be[H]=="function"?X((A+be[H]()).slice(-10)+" 00000 n "):be[H]!==void 0?X((A+be[H]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},Ba=b.__private__.buildDocument=function(){var A;fe=0,ke=0,Pe=[],be=[],Be=[],Is=fr(),$n=fr(),Ve(Pe),yn.publish("buildDocument"),jn(),si(),(function(){yn.publish("putAdditionalObjects");for(var ce=0;ce<Be.length;ce++){var pe=Be[ce];ss(pe.objId,!0),X(pe.content),X("endobj")}yn.publish("postPutAdditionalObjects")})(),A=[],(function(){for(var ce in Lt)Lt.hasOwnProperty(ce)&&(p===!1||p===!0&&v.hasOwnProperty(ce))&&ca(Lt[ce])})(),(function(){var ce;for(ce in Bt)Bt.hasOwnProperty(ce)&&_a(Bt[ce])})(),(function(){for(var ce in Cs)Cs.hasOwnProperty(ce)&&Wi(Cs[ce])})(),(function(ce){var pe;for(pe in Ct)Ct.hasOwnProperty(pe)&&(Ct[pe]instanceof Bu?ja(Ct[pe]):Ct[pe]instanceof jf&&$s(Ct[pe],ce))})(A),yn.publish("putResources"),A.forEach(Va),Va({resourcesOid:$n,objectOid:Number.MAX_SAFE_INTEGER}),yn.publish("postPutResources"),g!==null&&(Nr.oid=nr(),X("<<"),X("/Filter /Standard"),X("/V "+Nr.v),X("/R "+Nr.r),X("/U <"+Nr.toHexString(Nr.U)+">"),X("/O <"+Nr.toHexString(Nr.O)+">"),X("/P "+Nr.P),X(">>"),X("endobj")),Sa(),ks();var H=ke;return Ki(),Or(),X("startxref"),X(""+H),X("%%EOF"),Ve(Ze[J]),Pe.join(`
`)},kn=b.__private__.getBlob=function(A){return new Blob([Wt(A)],{type:"application/pdf"})},po=b.output=b.__private__.output=(oa=function(A,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",A){case void 0:return Ba();case"save":b.save(H.filename);break;case"arraybuffer":return Wt(Ba());case"blob":return kn(Ba());case"bloburi":case"bloburl":if(rn.URL!==void 0&&typeof rn.URL.createObjectURL=="function")return rn.URL&&rn.URL.createObjectURL(kn(Ba()))||void 0;Er.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",pe=Ba();try{ce=A6(pe)}catch{ce=A6(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+H.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rn)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(we=H.pdfObjectUrl,qe="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",mt=rn.open();return mt!==null&&mt.document.write(Qe),mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rn)==="[object Window]"){var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',Ut=rn.open();if(Ut!==null){Ut.document.write(yt);var kt=this;Ut.document.documentElement.querySelector("#pdfViewer").onload=function(){Ut.document.title=H.filename,Ut.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kt.output("bloburl"))}}return Ut}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var En='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',mr=rn.open();if(mr!==null&&(mr.document.write(En),mr.document.title=H.filename),mr||typeof safari>"u")return mr;break;case"datauri":case"dataurl":return rn.document.location.href=this.output("datauristring",H);default:return null}},oa.foo=function(){try{return oa.apply(this,arguments)}catch(ce){var A=ce.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var H="Error in function "+A.split(`
`)[0].split("<")[0]+": "+ce.message;if(!rn.console)throw new Error(H);rn.console.error(H,ce),rn.alert&&alert(H)}},oa.foo.bar=oa,oa.foo),Wr=function(A){return Array.isArray(Gs)===!0&&Gs.indexOf(A)>-1};switch(s){case"pt":tn=1;break;case"mm":tn=72/25.4;break;case"cm":tn=72/2.54;break;case"in":tn=72;break;case"px":tn=Wr("px_scaling")==1?.75:96/72;break;case"pc":case"em":tn=12;break;case"ex":tn=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);tn=s}var Nr=null;ne(),ue();var Fr=b.__private__.getPageInfo=b.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_t[A].objId,pageNumber:A,pageContext:_t[A]}},$o=b.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in _t)if(_t[H].objId===A)break;return Fr(H)},sd=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:_t[J].objId,pageNumber:J,pageContext:_t[J]}};b.addPage=function(){return ai.apply(this,arguments),this},b.setPage=function(){return jl.apply(this,arguments),Ve.call(this,Ze[J]),this},b.insertPage=function(A){return this.addPage(),this.movePage(J,A),this},b.movePage=function(A,H){var ce,pe;if(A>H){ce=Ze[A],pe=_t[A];for(var we=A;we>H;we--)Ze[we]=Ze[we-1],_t[we]=_t[we-1];Ze[H]=ce,_t[H]=pe,this.setPage(H)}else if(A<H){ce=Ze[A],pe=_t[A];for(var qe=A;qe<H;qe++)Ze[qe]=Ze[qe+1],_t[qe]=_t[qe+1];Ze[H]=ce,_t[H]=pe,this.setPage(H)}return this},b.deletePage=function(){return Ho.apply(this,arguments),this},b.__private__.text=b.text=function(A,H,ce,pe,we){var qe,Qe,mt,yt,Ut,kt,En,mr,rr,y=(pe=pe||{}).scope||this;if(typeof A=="number"&&typeof H=="number"&&(typeof ce=="string"||Array.isArray(ce))){var R=ce;ce=H,H=A,A=R}if(arguments[3]instanceof It==0?(mt=arguments[4],yt=arguments[5],cr(En=arguments[3])==="object"&&En!==null||(typeof mt=="string"&&(yt=mt,mt=null),typeof En=="string"&&(yt=En,En=null),typeof En=="number"&&(mt=En,En=null),pe={flags:En,angle:mt,align:yt})):(I("The transform parameter of text() with a Matrix value"),rr=we),isNaN(H)||isNaN(ce)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return y;var B,ee="",Se=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:Qi,Le=y.internal.scaleFactor;function nt(qn){return qn=qn.split("	").join(Array(pe.TabLen||9).join(" ")),da(qn,En)}function en(qn){for(var Mn,pr=qn.concat(),Xr=[],To=pr.length;To--;)typeof(Mn=pr.shift())=="string"?Xr.push(Mn):Array.isArray(qn)&&(Mn.length===1||Mn[1]===void 0&&Mn[2]===void 0)?Xr.push(Mn[0]):Xr.push([Mn[0],Mn[1],Mn[2]]);return Xr}function gr(qn,Mn){var pr;if(typeof qn=="string")pr=Mn(qn)[0];else if(Array.isArray(qn)){for(var Xr,To,to=qn.concat(),pc=[],yu=to.length;yu--;)typeof(Xr=to.shift())=="string"?pc.push(Mn(Xr)[0]):Array.isArray(Xr)&&typeof Xr[0]=="string"&&(To=Mn(Xr[0],Xr[1],Xr[2]),pc.push([To[0],To[1],To[2]]));pr=pc}return pr}var vn=!1,Kn=!0;if(typeof A=="string")vn=!0;else if(Array.isArray(A)){var Ps=A.concat();Qe=[];for(var Ks,ar=Ps.length;ar--;)(typeof(Ks=Ps.shift())!="string"||Array.isArray(Ks)&&typeof Ks[0]!="string")&&(Kn=!1);vn=Kn}if(vn===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Ys=He/y.internal.scaleFactor,ci=Ys*(Se-1);switch(pe.baseline){case"bottom":ce-=ci;break;case"top":ce+=Ys-ci;break;case"hanging":ce+=Ys-2*ci;break;case"middle":ce+=Ys/2-ci}if((kt=pe.maxWidth||0)>0&&(typeof A=="string"?A=y.splitTextToSize(A,kt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(qn,Mn){return qn.concat(y.splitTextToSize(Mn,kt))},[]))),qe={text:A,x:H,y:ce,options:pe,mutex:{pdfEscape:da,activeFontKey:Nt,fonts:Lt,activeFontSize:He}},yn.publish("preProcessText",qe),A=qe.text,mt=(pe=qe.options).angle,rr instanceof It==0&&mt&&typeof mt=="number"){mt*=Math.PI/180,pe.rotationDirection===0&&(mt=-mt),z===M&&(mt=-mt);var wo=Math.cos(mt),No=Math.sin(mt);rr=new It(wo,No,-No,wo,0,0)}else mt&&mt instanceof It&&(rr=mt);z!==M||rr||(rr=Na),(Ut=pe.charSpace||Aa)!==void 0&&(ee+=D(V(Ut))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(mr=pe.horizontalScale)!==void 0&&(ee+=D(100*mr)+` Tz
`),pe.lang;var Ia=-1,Qo=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,ad=y.internal.getCurrentPageInfo().pageContext;switch(Qo){case 0:case!1:case"fill":Ia=0;break;case 1:case!0:case"stroke":Ia=1;break;case 2:case"fillThenStroke":Ia=2;break;case 3:case"invisible":Ia=3;break;case 4:case"fillAndAddForClipping":Ia=4;break;case 5:case"strokeAndAddPathForClipping":Ia=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ia=6;break;case 7:case"addToPathForClipping":Ia=7}var pu=ad.usedRenderingMode!==void 0?ad.usedRenderingMode:-1;Ia!==-1?ee+=Ia+` Tr
`:pu!==-1&&(ee+=`0 Tr
`),Ia!==-1&&(ad.usedRenderingMode=Ia),yt=pe.align||"left";var di,Zi=He*Se,Jo=y.internal.pageSize.getWidth(),xu=Lt[Nt];Ut=pe.charSpace||Aa,kt=pe.maxWidth||0,En=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var eo=[],Il=function(qn){return y.getStringUnitWidth(qn,{font:xu,charSpace:Ut,fontSize:He,doKerning:!1})*He/Le};if(Object.prototype.toString.call(A)==="[object Array]"){var Ga;Qe=en(A),yt!=="left"&&(di=Qe.map(Il));var ka,jo=0;if(yt==="right"){H-=di[0],A=[],ar=Qe.length;for(var _o=0;_o<ar;_o++)_o===0?(ka=bs(H),Ga=is(ce)):(ka=V(jo-di[_o]),Ga=-Zi),A.push([Qe[_o],ka,Ga]),jo=di[_o]}else if(yt==="center"){H-=di[0]/2,A=[],ar=Qe.length;for(var Zo=0;Zo<ar;Zo++)Zo===0?(ka=bs(H),Ga=is(ce)):(ka=V((jo-di[Zo])/2),Ga=-Zi),A.push([Qe[Zo],ka,Ga]),jo=di[Zo]}else if(yt==="left"){A=[],ar=Qe.length;for(var id=0;id<ar;id++)A.push(Qe[id])}else if(yt==="justify"&&xu.encoding==="Identity-H"){A=[],ar=Qe.length,kt=kt!==0?kt:Jo;for(var od=0,Yr=0;Yr<ar;Yr++)if(Ga=Yr===0?is(ce):-Zi,ka=Yr===0?bs(H):od,Yr<ar-1){var wh=V((kt-di[Yr])/(Qe[Yr].split(" ").length-1)),So=Qe[Yr].split(" ");A.push([So[0]+" ",ka,Ga]),od=0;for(var Eo=1;Eo<So.length;Eo++){var Xs=(Il(So[Eo-1]+" "+So[Eo])-Il(So[Eo]))*Le+wh;Eo==So.length-1?A.push([So[Eo],Xs,0]):A.push([So[Eo]+" ",Xs,0]),od-=Xs}}else A.push([Qe[Yr],ka,Ga]);A.push(["",od,0])}else{if(yt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],ar=Qe.length,kt=kt!==0?kt:Jo,Yr=0;Yr<ar;Yr++){Ga=Yr===0?is(ce):-Zi,ka=Yr===0?bs(H):0;var el=Qe[Yr].split(" ").length-1,ld=el>0?(kt-di[Yr])/el:0;Yr<ar-1?eo.push(D(V(ld))):eo.push(0),A.push([Qe[Yr],ka,Ga])}}}(typeof pe.R2L=="boolean"?pe.R2L:ft)===!0&&(A=gr(A,function(qn,Mn,pr){return[qn.split("").reverse().join(""),Mn,pr]})),qe={text:A,x:H,y:ce,options:pe,mutex:{pdfEscape:da,activeFontKey:Nt,fonts:Lt,activeFontSize:He}},yn.publish("postProcessText",qe),A=qe.text,B=qe.mutex.isHex||!1;var cd=Lt[Nt].encoding;cd!=="WinAnsiEncoding"&&cd!=="StandardEncoding"||(A=gr(A,function(qn,Mn,pr){return[nt(qn),Mn,pr]})),Qe=en(A),A=[];for(var tl,nl,Ao,gc=Array.isArray(Qe[0])?1:0,ui="",rl=function(qn,Mn,pr){var Xr="";return pr instanceof It?(pr=typeof pe.angle=="number"?$i(pr,new It(1,0,0,1,qn,Mn)):$i(new It(1,0,0,1,qn,Mn),pr),z===M&&(pr=$i(new It(1,0,0,-1,0,0),pr)),Xr=pr.join(" ")+` Tm
`):Xr=D(qn)+" "+D(Mn)+` Td
`,Xr},fa=0;fa<Qe.length;fa++){switch(ui="",gc){case 1:Ao=(B?"<":"(")+Qe[fa][0]+(B?">":")"),tl=parseFloat(Qe[fa][1]),nl=parseFloat(Qe[fa][2]);break;case 0:Ao=(B?"<":"(")+Qe[fa]+(B?">":")"),tl=bs(H),nl=is(ce)}eo!==void 0&&eo[fa]!==void 0&&(ui=eo[fa]+` Tw
`),fa===0?A.push(ui+rl(tl,nl,rr)+Ao):gc===0?A.push(ui+Ao):gc===1&&A.push(ui+rl(tl,nl,rr)+Ao)}A=gc===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Si=`BT
/`;return Si+=Nt+" "+He+` Tf
`,Si+=D(He*Se)+` TL
`,Si+=oi+`
`,Si+=ee,Si+=A,X(Si+="ET"),v[Nt]=!0,y};var cc=b.__private__.clip=b.clip=function(A){return X(A==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return cc("evenodd")},b.__private__.discardPath=b.discardPath=function(){return X("n"),this};var Ws=b.__private__.isValidStyle=function(A){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(H=!0),H};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(A){return Ws(A)&&(f=A),this};var dc=b.__private__.getStyle=b.getStyle=function(A){var H=f;switch(A){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=A}return H},Yi=b.close=function(){return X("h"),this};b.stroke=function(){return X("S"),this},b.fill=function(A){return ys("f",A),this},b.fillEvenOdd=function(A){return ys("f*",A),this},b.fillStroke=function(A){return ys("B",A),this},b.fillStrokeEvenOdd=function(A){return ys("B*",A),this};var ys=function(A,H){cr(H)==="object"?hc(H,A):X(A)},xo=function(A){A===null||z===M&&A===void 0||(A=dc(A),X(A))};function uc(A,H,ce,pe,we){var qe=new jf(H||this.boundingBox,ce||this.xStep,pe||this.yStep,this.gState,we||this.matrix);qe.stream=this.stream;var Qe=A+"$$"+this.cloneIndex+++"$$";return ia(Qe,qe),qe}var hc=function(A,H){var ce=Bn[A.key],pe=Ct[ce];if(pe instanceof Bu)X("q"),X(Sl(H)),pe.gState&&b.setGState(pe.gState),X(A.matrix.toString()+" cm"),X("/"+ce+" sh"),X("Q");else if(pe instanceof jf){var we=new It(1,0,0,-1,0,li());A.matrix&&(we=we.multiply(A.matrix||Na),ce=uc.call(pe,A.key,A.boundingBox,A.xStep,A.yStep,we).id),X("q"),X("/Pattern cs"),X("/"+ce+" scn"),pe.gState&&b.setGState(pe.gState),X(H),X("Q")}},Sl=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},El=b.moveTo=function(A,H){return X(D(V(A))+" "+D(le(H))+" m"),this},Xi=b.lineTo=function(A,H){return X(D(V(A))+" "+D(le(H))+" l"),this},ua=b.curveTo=function(A,H,ce,pe,we,qe){return X([D(V(A)),D(le(H)),D(V(ce)),D(le(pe)),D(V(we)),D(le(qe)),"c"].join(" ")),this};b.__private__.line=b.line=function(A,H,ce,pe,we){if(isNaN(A)||isNaN(H)||isNaN(ce)||isNaN(pe)||!Ws(we))throw new Error("Invalid arguments passed to jsPDF.line");return z===L?this.lines([[ce-A,pe-H]],A,H,[1,1],we||"S"):this.lines([[ce-A,pe-H]],A,H,[1,1]).stroke()},b.__private__.lines=b.lines=function(A,H,ce,pe,we,qe){var Qe,mt,yt,Ut,kt,En,mr,rr,y,R,B,ee;if(typeof A=="number"&&(ee=ce,ce=H,H=A,A=ee),pe=pe||[1,1],qe=qe||!1,isNaN(H)||isNaN(ce)||!Array.isArray(A)||!Array.isArray(pe)||!Ws(we)||typeof qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(El(H,ce),Qe=pe[0],mt=pe[1],Ut=A.length,R=H,B=ce,yt=0;yt<Ut;yt++)(kt=A[yt]).length===2?(R=kt[0]*Qe+R,B=kt[1]*mt+B,Xi(R,B)):(En=kt[0]*Qe+R,mr=kt[1]*mt+B,rr=kt[2]*Qe+R,y=kt[3]*mt+B,R=kt[4]*Qe+R,B=kt[5]*mt+B,ua(En,mr,rr,y,R,B));return qe&&Yi(),xo(we),this},b.path=function(A){for(var H=0;H<A.length;H++){var ce=A[H],pe=ce.c;switch(ce.op){case"m":El(pe[0],pe[1]);break;case"l":Xi(pe[0],pe[1]);break;case"c":ua.apply(this,pe);break;case"h":Yi()}}return this},b.__private__.rect=b.rect=function(A,H,ce,pe,we){if(isNaN(A)||isNaN(H)||isNaN(ce)||isNaN(pe)||!Ws(we))throw new Error("Invalid arguments passed to jsPDF.rect");return z===L&&(pe=-pe),X([D(V(A)),D(le(H)),D(V(ce)),D(V(pe)),"re"].join(" ")),xo(we),this},b.__private__.triangle=b.triangle=function(A,H,ce,pe,we,qe,Qe){if(isNaN(A)||isNaN(H)||isNaN(ce)||isNaN(pe)||isNaN(we)||isNaN(qe)||!Ws(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-A,pe-H],[we-ce,qe-pe],[A-we,H-qe]],A,H,[1,1],Qe,!0),this},b.__private__.roundedRect=b.roundedRect=function(A,H,ce,pe,we,qe,Qe){if(isNaN(A)||isNaN(H)||isNaN(ce)||isNaN(pe)||isNaN(we)||isNaN(qe)||!Ws(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var mt=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*ce),qe=Math.min(qe,.5*pe),this.lines([[ce-2*we,0],[we*mt,0,we,qe-qe*mt,we,qe],[0,pe-2*qe],[0,qe*mt,-we*mt,qe,-we,qe],[2*we-ce,0],[-we*mt,0,-we,-qe*mt,-we,-qe],[0,2*qe-pe],[0,-qe*mt,we*mt,-qe,we,-qe]],A+we,H,[1,1],Qe,!0),this},b.__private__.ellipse=b.ellipse=function(A,H,ce,pe,we){if(isNaN(A)||isNaN(H)||isNaN(ce)||isNaN(pe)||!Ws(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qe=4/3*(Math.SQRT2-1)*ce,Qe=4/3*(Math.SQRT2-1)*pe;return El(A+ce,H),ua(A+ce,H-Qe,A+qe,H-pe,A,H-pe),ua(A-qe,H-pe,A-ce,H-Qe,A-ce,H),ua(A-ce,H+Qe,A-qe,H+pe,A,H+pe),ua(A+qe,H+pe,A+ce,H+Qe,A+ce,H),xo(we),this},b.__private__.circle=b.circle=function(A,H,ce,pe){if(isNaN(A)||isNaN(H)||isNaN(ce)||!Ws(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,H,ce,ce,pe)},b.setFont=function(A,H,ce){return ce&&(H=G(H,ce)),Nt=lc(A,H,{disableWarning:!1}),this};var ii=b.__private__.getFont=b.getFont=function(){return Lt[lc.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var A,H,ce={};for(A in Kt)if(Kt.hasOwnProperty(A))for(H in ce[A]=[],Kt[A])Kt[A].hasOwnProperty(H)&&ce[A].push(H);return ce},b.addFont=function(A,H,ce,pe,we){var qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qe.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&qe.indexOf(arguments[3])==-1&&(ce=G(ce,pe)),Nl.call(this,A,H,ce,we=we||"Identity-H")};var Qi,ha=n.lineWidth||.200025,yo=b.__private__.getLineWidth=b.getLineWidth=function(){return ha},Mt=b.__private__.setLineWidth=b.setLineWidth=function(A){return ha=A,X(D(V(A))+" w"),this};b.__private__.setLineDash=Rt.API.setLineDash=Rt.API.setLineDashPattern=function(A,H){if(A=A||[],H=H||0,isNaN(H)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ce){return D(V(ce))}).join(" "),H=D(V(H)),X("["+A+"] "+H+" d"),this};var Wo=b.__private__.getLineHeight=b.getLineHeight=function(){return He*Qi};b.__private__.getLineHeight=b.getLineHeight=function(){return He*Qi};var Al=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Qi=A),this},bo=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Qi};Al(n.lineHeight);var bs=b.__private__.getHorizontalCoordinate=function(A){return V(A)},is=b.__private__.getVerticalCoordinate=function(A){return z===M?A:_t[J].mediaBox.topRightY-_t[J].mediaBox.bottomLeftY-V(A)},Ko=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(A){return D(bs(A))},Wn=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(A){return D(is(A))},Ea=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return sr(Ea)},b.__private__.setStrokeColor=b.setDrawColor=function(A,H,ce,pe){return Ea=as({ch1:A,ch2:H,ch3:ce,ch4:pe,pdfColorType:"draw",precision:2}),X(Ea),this};var Yo=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return sr(Yo)},b.__private__.setFillColor=b.setFillColor=function(A,H,ce,pe){return Yo=as({ch1:A,ch2:H,ch3:ce,ch4:pe,pdfColorType:"fill",precision:2}),X(Yo),this};var oi=n.textColor||"0 g",fc=b.__private__.getTextColor=b.getTextColor=function(){return sr(oi)};b.__private__.setTextColor=b.setTextColor=function(A,H,ce,pe){return oi=as({ch1:A,ch2:H,ch3:ce,ch4:pe,pdfColorType:"text",precision:3}),this};var Aa=n.charSpace,Ji=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Aa||0)};b.__private__.setCharSpace=b.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Aa=A,this};var Ta=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(A){var H=b.CapJoinStyles[A];if(H===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ta=H,X(H+" J"),this};var Kr=0;b.__private__.setLineJoin=b.setLineJoin=function(A){var H=b.CapJoinStyles[A];if(H===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kr=H,X(H+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(D(V(A))+" M"),this},b.GState=Ox,b.setGState=function(A){(A=typeof A=="string"?Bt[qt[A]]:vi(null,A)).equals(Hn)||(X("/"+A.id+" gs"),Hn=A)};var vi=function(A,H){if(!A||!qt[A]){var ce=!1;for(var pe in Bt)if(Bt.hasOwnProperty(pe)&&Bt[pe].equals(H)){ce=!0;break}if(ce)H=Bt[pe];else{var we="GS"+(Object.keys(Bt).length+1).toString(10);Bt[we]=H,H.id=we}return A&&(qt[A]=H.id),yn.publish("addGState",H),H}};b.addGState=function(A,H){return vi(A,H),this},b.saveGraphicsState=function(){return X("q"),an.push({key:Nt,size:He,color:oi}),this},b.restoreGraphicsState=function(){X("Q");var A=an.pop();return Nt=A.key,He=A.size,oi=A.color,Hn=null,this},b.setCurrentTransformationMatrix=function(A){return X(A.toString()+" cm"),this},b.comment=function(A){return X("#"+A),this};var Rs=function(A,H){var ce=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(qe){isNaN(qe)||(ce=parseFloat(qe))}});var pe=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(qe){isNaN(qe)||(pe=parseFloat(qe))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(qe){we=qe.toString()}}),this},wi=function(A,H,ce,pe){Rs.call(this,A,H),this.type="rect";var we=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(Qe){isNaN(Qe)||(we=parseFloat(Qe))}});var qe=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qe},set:function(Qe){isNaN(Qe)||(qe=parseFloat(Qe))}}),this},vo=function(){this.page=Tt,this.currentPage=J,this.pages=Ze.slice(0),this.pagesContext=_t.slice(0),this.x=jt,this.y=Tr,this.matrix=ln,this.width=qa(J),this.height=Tl(J),this.outputDestination=it,this.id="",this.objectNumber=-1};vo.prototype.restore=function(){Tt=this.page,J=this.currentPage,_t=this.pagesContext,Ze=this.pages,jt=this.x,Tr=this.y,ln=this.matrix,Xo(J,this.width),Ca(J,this.height),it=this.outputDestination};var Ni=function(A,H,ce,pe,we){xs.push(new vo),Tt=J=0,Ze=[],jt=A,Tr=H,ln=we,za([ce,pe])};for(var ji in b.beginFormObject=function(A,H,ce,pe,we){return Ni(A,H,ce,pe,we),this},b.endFormObject=function(A){return(function(H){if(bi[H])xs.pop().restore();else{var ce=new vo,pe="Xo"+(Object.keys(Cs).length+1).toString(10);ce.id=pe,bi[H]=pe,Cs[pe]=ce,yn.publish("addFormObject",ce),xs.pop().restore()}})(A),this},b.doFormObject=function(A,H){var ce=Cs[bi[A]];return X("q"),X(H.toString()+" cm"),X("/"+ce.id+" Do"),X("Q"),this},b.getFormObject=function(A){var H=Cs[bi[A]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},b.save=function(A,H){return A=A||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(Ou(kn(Ba()),A),typeof Ou.unload=="function"&&rn.setTimeout&&setTimeout(Ou.unload,911),this):new Promise(function(ce,pe){try{var we=Ou(kn(Ba()),A);typeof Ou.unload=="function"&&rn.setTimeout&&setTimeout(Ou.unload,911),ce(we)}catch(qe){pe(qe.message)}})},Rt.API)Rt.API.hasOwnProperty(ji)&&(ji==="events"&&Rt.API.events.length?(function(A,H){var ce,pe,we;for(we=H.length-1;we!==-1;we--)ce=H[we][0],pe=H[we][1],A.subscribe.apply(A,[ce].concat(typeof pe=="function"?[pe]:pe))})(yn,Rt.API.events):b[ji]=Rt.API[ji]);function qa(A){return _t[A].mediaBox.topRightX-_t[A].mediaBox.bottomLeftX}function Xo(A,H){_t[A].mediaBox.topRightX=H+_t[A].mediaBox.bottomLeftX}function Tl(A){return _t[A].mediaBox.topRightY-_t[A].mediaBox.bottomLeftY}function Ca(A,H){_t[A].mediaBox.topRightY=H+_t[A].mediaBox.bottomLeftY}var _i=b.getPageWidth=function(A){return qa(A=A||J)/tn},mc=b.setPageWidth=function(A,H){Xo(A,H*tn)},li=b.getPageHeight=function(A){return Tl(A=A||J)/tn},Cl=b.setPageHeight=function(A,H){Ca(A,H*tn)};return b.internal={pdfEscape:da,getStyle:dc,getFont:ii,getFontSize:ct,getCharSpace:Ji,getTextColor:fc,getLineHeight:Wo,getLineHeightFactor:bo,getLineWidth:yo,write:Ke,getHorizontalCoordinate:bs,getVerticalCoordinate:is,getCoordinateString:Ko,getVerticalCoordinateString:Wn,collections:{},newObject:nr,newAdditionalObject:Hs,newObjectDeferred:fr,newObjectDeferredBegin:ss,getFilters:la,putStream:Ua,events:yn,scaleFactor:tn,pageSize:{getWidth:function(){return _i(J)},setWidth:function(A){mc(J,A)},getHeight:function(){return li(J)},setHeight:function(A){Cl(J,A)}},encryptionOptions:g,encryption:Nr,getEncryptor:function(A){return g!==null?Nr.encryptor(A,0):function(H){return H}},output:po,getNumberOfPages:_l,get pages(){return Ze},out:X,f2:k,f3:P,getPageInfo:Fr,getPageInfoByObjId:$o,getCurrentPageInfo:sd,getPDFVersion:E,Point:Rs,Rectangle:wi,Matrix:It,hasHotfix:Wr},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return _i(J)},set:function(A){mc(J,A)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return li(J)},set:function(A){Cl(J,A)},enumerable:!0,configurable:!0}),(function(A){for(var H=0,ce=Et.length;H<ce;H++){var pe=Nl.call(this,A[H][0],A[H][1],A[H][2],Et[H][3],!0);p===!1&&(v[pe]=!0);var we=A[H][0].split("-");Cr({id:pe,fontName:we[0],fontStyle:we[1]||""})}yn.publish("addFonts",{fonts:Lt,dictionary:Kt})}).call(b,Et),Nt="F1",ai(a,t),yn.publish("initialized"),b}bf.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},bf.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},bf.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},bf.prototype.processOwnerPassword=function(n,e){return D2(L2(e).substr(0,5),n)},bf.prototype.encryptor=function(n,e){var t=L2(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return D2(t,s)}},Ox.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||cr(n)!==cr(this))return!1;var s=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;s++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&s--;return s===0},Rt.API={events:[]},Rt.version="3.0.4";var fs=Rt.API,Nw=1,vh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mn=function(n){return n.toFixed(2)},Fd=function(n){return n.toFixed(5)};fs.__acroform__={};var Hi=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},k6=function(n){return n*Nw},Hl=function(n){var e=new mC,t=vt.internal.getHeight(n)||0,s=vt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(mn(s)),Number(mn(t))],e},NG=fs.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},jG=fs.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},_G=fs.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},js=fs.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _G(n,e-1)},_s=fs.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return NG(n,e-1)},Ss=fs.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return jG(n,e-1)},SG=fs.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,a=n[0],o=n[1],c=n[2],d=n[3],h={};return h.lowerLeft_X=t(a)||0,h.lowerLeft_Y=s(o+d)||0,h.upperRight_X=t(a+c)||0,h.upperRight_Y=s(o)||0,[Number(mn(h.lowerLeft_X)),Number(mn(h.lowerLeft_Y)),Number(mn(h.upperRight_X)),Number(mn(h.upperRight_Y))]},EG=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,s=M2(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+mn(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Hl(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},M2=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,s={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var o=t,c=vt.internal.getHeight(n)||0;c=c<0?-c:c;var d=vt.internal.getWidth(n)||0;d=d<0?-d:d;var h=function(k,P,V){if(k+1<a.length){var le=P+" "+a[k+1][0];return C0(le,n,V).width<=d-4}return!1};o++;e:for(;o>0;){e="",o--;var f,g,p=C0("3",n,o).height,v=n.multiline?c-o:(c-p)/2,b=v+=2,T=0,E=0,j=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+C0(e,n,o=12).width+", FieldWidth:"+d+`
`;break}for(var S="",L=0,M=0;M<a.length;M++)if(a.hasOwnProperty(M)){var z=!1;if(a[M].length!==1&&j!==a[M].length-1){if((p+2)*(L+2)+2>c)continue e;S+=a[M][j],z=!0,E=M,M--}else{S=(S+=a[M][j]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var se=parseInt(M),ae=h(se,S,o),G=M>=a.length-1;if(ae&&!G){S+=" ",j=0;continue}if(ae||G){if(G)E=se;else if(n.multiline&&(p+2)*(L+2)+2>c)continue e}else{if(!n.multiline||(p+2)*(L+2)+2>c)continue e;E=se}}for(var D="",I=T;I<=E;I++){var F=a[I];if(n.multiline){if(I===E){D+=F[j]+" ",j=(j+1)%F.length;continue}if(I===T){D+=F[F.length-1]+" ";continue}}D+=F[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,g=C0(D,n,o).width,n.textAlign){case"right":f=d-g-2;break;case"center":f=(d-g)/2;break;default:f=2}e+=mn(f)+" "+mn(b)+` Td
`,e+="("+vh(D)+`) Tj
`,e+=-mn(f)+` 0 Td
`,b=-(o+2),g=0,T=z?E:E+1,L++,S=""}break}return s.text=e,s.fontSize=o,s},C0=function(n,e,t){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},AG={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},TG=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(s){return s.type===t.type&&s.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},CG=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(vl.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(AG)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Nw=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new gC,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];o.objId=void 0,o.hasAnnotation&&TG(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(s,a){var o=!s;for(var c in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(c)){var d=s[c],h=[],f=d.Rect;if(d.Rect&&(d.Rect=SG(d.Rect,a)),a.internal.newObjectDeferredBegin(d.objId,!0),d.DA=vt.createDefaultAppearanceStream(d),cr(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(h=d.getKeyValueListForStream()),d.Rect=f,d.hasAppearanceStream&&!d.appearanceStreamContent){var g=EG(d);h.push({key:"AP",value:"<</N "+g+">>"}),a.internal.acroformPlugin.xForms.push(g)}if(d.appearanceStreamContent){var p="";for(var v in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(v)){var b=d.appearanceStreamContent[v];if(p+="/"+v+" ",p+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var c in b)if(b.hasOwnProperty(c)){var T=b[c];typeof T=="function"&&(T=T.call(a,d)),p+="/"+c+" "+T+" ",a.internal.acroformPlugin.xForms.indexOf(T)>=0||a.internal.acroformPlugin.xForms.push(T)}}else typeof(T=b)=="function"&&(T=T.call(a,d)),p+="/"+c+" "+T,a.internal.acroformPlugin.xForms.indexOf(T)>=0||a.internal.acroformPlugin.xForms.push(T);p+=">>"}h.push({key:"AP",value:`<<
`+p+">>"})}a.internal.putStream({additionalKeyValues:h,objectId:d.objId}),a.internal.out("endobj")}o&&(function(E,j){for(var S in E)if(E.hasOwnProperty(S)){var L=S,M=E[S];j.internal.newObjectDeferredBegin(M.objId,!0),cr(M)==="object"&&typeof M.putStream=="function"&&M.putStream(),delete E[L]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},fC=fs.__acroform__.arrayToPdfArray=function(n,e,t){var s=function(c){return c};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),cr(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(s=t.internal.getEncryptor(e)),a+="("+vh(s(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},E1=function(n,e,t){var s=function(a){return a};return e!==void 0&&t&&(s=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+vh(s(n))+")"},Ql=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ql.prototype.toString=function(){return this.objId+" 0 R"},Ql.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ql.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var s=e[t],a=this[s];a&&(Array.isArray(a)?n.push({key:s,value:fC(a,this.objId,this.scope)}):a instanceof Ql?(a.scope=this.scope,n.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:s,value:a}))}return n};var mC=function(){Ql.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Hi(mC,Ql);var gC=function(){Ql.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(s){return s};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+vh(t(n))+")"}},set:function(t){n=t}})};Hi(gC,Ql);var vl=function n(){Ql.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!js(e,3)},set:function(S){S?this.F=_s(e,3):this.F=Ss(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');t=S}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(S){s=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(S){s[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(S){s[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(S){s[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(S){s[3]=S}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Fx)return;o="FieldObject"+n.FieldNum++}var S=function(L){return L};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+vh(S(o))+")"},set:function(S){o=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(S){o=S}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/Nw:f},set:function(S){f=S}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(S){g=S}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Fx||this instanceof Xu))return E1(p,this.objId,this.scope)},set:function(S){S=S.toString(),p=S}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof va==0?E1(v,this.objId,this.scope):v},set:function(S){S=S.toString(),v=this instanceof va==0?S.substr(0,1)==="("?hf(S.substr(1,S.length-2)):hf(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof va==1?hf(v.substr(1,v.length-1)):v},set:function(S){S=S.toString(),v=this instanceof va==1?"/"+S:S}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof va==0?E1(b,this.objId,this.scope):b},set:function(S){S=S.toString(),b=this instanceof va==0?S.substr(0,1)==="("?hf(S.substr(1,S.length-2)):hf(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof va==1?hf(b.substr(1,b.length-1)):b},set:function(S){S=S.toString(),b=this instanceof va==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(S){S=!!S,E=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(S){T=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,1)},set:function(S){S?this.Ff=_s(this.Ff,1):this.Ff=Ss(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,2)},set:function(S){S?this.Ff=_s(this.Ff,2):this.Ff=Ss(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,3)},set:function(S){S?this.Ff=_s(this.Ff,3):this.Ff=Ss(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');j=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(j){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:j=2;break;case"center":case 1:j=1;break;default:j=0}}})};Hi(vl,Ql);var If=function(){vl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fC(e,this.objId,this.scope)},set:function(t){var s,a;a=[],typeof(s=t)=="string"&&(a=(function(o,c,d){d||(d=1);for(var h,f=[];h=c.exec(o);)f.push(h[d]);return f})(s,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,s){for(s=s||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,18)},set:function(t){t?this.Ff=_s(this.Ff,18):this.Ff=Ss(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=_s(this.Ff,19):this.Ff=Ss(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,20)},set:function(t){t?(this.Ff=_s(this.Ff,20),e.sort()):this.Ff=Ss(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,22)},set:function(t){t?this.Ff=_s(this.Ff,22):this.Ff=Ss(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,23)},set:function(t){t?this.Ff=_s(this.Ff,23):this.Ff=Ss(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,27)},set:function(t){t?this.Ff=_s(this.Ff,27):this.Ff=Ss(this.Ff,27)}}),this.hasAppearanceStream=!1};Hi(If,vl);var kf=function(){If.call(this),this.fontName="helvetica",this.combo=!1};Hi(kf,If);var Rf=function(){kf.call(this),this.combo=!0};Hi(Rf,kf);var Q0=function(){Rf.call(this),this.edit=!0};Hi(Q0,Rf);var va=function(){vl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,15)},set:function(t){t?this.Ff=_s(this.Ff,15):this.Ff=Ss(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,16)},set:function(t){t?this.Ff=_s(this.Ff,16):this.Ff=Ss(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,17)},set:function(t){t?this.Ff=_s(this.Ff,17):this.Ff=Ss(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,26)},set:function(t){t?this.Ff=_s(this.Ff,26):this.Ff=Ss(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,a=[];for(s in a.push("<<"),e)a.push("/"+s+" ("+vh(t(e[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){cr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Hi(va,vl);var J0=function(){va.call(this),this.pushButton=!0};Hi(J0,va);var Pf=function(){va.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Hi(Pf,va);var Fx=function(){var n,e;vl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(d){return d};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),s)c.push("/"+o+" ("+vh(a(s[o]))+")");return c.push(">>"),c.join(`
`)},set:function(a){cr(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Hi(Fx,vl),Pf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Pf.prototype.createOption=function(n){var e=new Fx;return e.Parent=this,e.optionName=n,this.Kids.push(e),IG.call(this.scope,e),e};var Z0=function(){va.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vt.CheckBox.createAppearanceStream()};Hi(Z0,va);var Xu=function(){vl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,13)},set:function(e){e?this.Ff=_s(this.Ff,13):this.Ff=Ss(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,21)},set:function(e){e?this.Ff=_s(this.Ff,21):this.Ff=Ss(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,23)},set:function(e){e?this.Ff=_s(this.Ff,23):this.Ff=Ss(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,24)},set:function(e){e?this.Ff=_s(this.Ff,24):this.Ff=Ss(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,25)},set:function(e){e?this.Ff=_s(this.Ff,25):this.Ff=Ss(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,26)},set:function(e){e?this.Ff=_s(this.Ff,26):this.Ff=Ss(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Hi(Xu,vl);var ex=function(){Xu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,14)},set:function(n){n?this.Ff=_s(this.Ff,14):this.Ff=Ss(this.Ff,14)}}),this.password=!0};Hi(ex,Xu);var vt={CheckBox:{createAppearanceStream:function(){return{N:{On:vt.CheckBox.YesNormal},D:{On:vt.CheckBox.YesPushDown,Off:vt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Hl(n);e.scope=n.scope;var t=[],s=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=M2(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+mn(vt.internal.getWidth(n))+" "+mn(vt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+s+" "+mn(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Hl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),a=[],o=vt.internal.getHeight(n),c=vt.internal.getWidth(n),d=M2(n,n.caption);return a.push("1 g"),a.push("0 0 "+mn(c)+" "+mn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+mn(c-1)+" "+mn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+mn(d.fontSize)+" Tf "+s),a.push(d.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=Hl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+mn(vt.internal.getWidth(n))+" "+mn(vt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:vt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=vt.RadioButton.Circle.YesNormal,e.D[n]=vt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Hl(n);e.scope=n.scope;var t=[],s=vt.internal.getWidth(n)<=vt.internal.getHeight(n)?vt.internal.getWidth(n)/4:vt.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=vt.internal.Bezier_C,o=Number((s*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Fd(vt.internal.getWidth(n)/2)+" "+Fd(vt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Hl(n);e.scope=n.scope;var t=[],s=vt.internal.getWidth(n)<=vt.internal.getHeight(n)?vt.internal.getWidth(n)/4:vt.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*vt.internal.Bezier_C).toFixed(5)),c=Number((s*vt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Fd(vt.internal.getWidth(n)/2)+" "+Fd(vt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Fd(vt.internal.getWidth(n)/2)+" "+Fd(vt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+c+" "+c+" "+s+" 0 "+s+" c"),t.push("-"+c+" "+s+" -"+s+" "+c+" -"+s+" 0 c"),t.push("-"+s+" -"+c+" -"+c+" -"+s+" 0 -"+s+" c"),t.push(c+" -"+s+" "+s+" -"+c+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Hl(n);e.scope=n.scope;var t=[],s=vt.internal.getWidth(n)<=vt.internal.getHeight(n)?vt.internal.getWidth(n)/4:vt.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*vt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Fd(vt.internal.getWidth(n)/2)+" "+Fd(vt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:vt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=vt.RadioButton.Cross.YesNormal,e.D[n]=vt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Hl(n);e.scope=n.scope;var t=[],s=vt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+mn(vt.internal.getWidth(n)-2)+" "+mn(vt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(mn(s.x1.x)+" "+mn(s.x1.y)+" m"),t.push(mn(s.x2.x)+" "+mn(s.x2.y)+" l"),t.push(mn(s.x4.x)+" "+mn(s.x4.y)+" m"),t.push(mn(s.x3.x)+" "+mn(s.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Hl(n);e.scope=n.scope;var t=vt.internal.calculateCross(n),s=[];return s.push("0.749023 g"),s.push("0 0 "+mn(vt.internal.getWidth(n))+" "+mn(vt.internal.getHeight(n))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+mn(vt.internal.getWidth(n)-2)+" "+mn(vt.internal.getHeight(n)-2)+" re"),s.push("W"),s.push("n"),s.push(mn(t.x1.x)+" "+mn(t.x1.y)+" m"),s.push(mn(t.x2.x)+" "+mn(t.x2.y)+" l"),s.push(mn(t.x4.x)+" "+mn(t.x4.y)+" m"),s.push(mn(t.x3.x)+" "+mn(t.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Hl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+mn(vt.internal.getWidth(n))+" "+mn(vt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};vt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=vt.internal.getWidth(n),t=vt.internal.getHeight(n),s=Math.min(e,t);return{x1:{x:(e-s)/2,y:(t-s)/2+s},x2:{x:(e-s)/2+s,y:(t-s)/2},x3:{x:(e-s)/2,y:(t-s)/2},x4:{x:(e-s)/2+s,y:(t-s)/2+s}}}},vt.internal.getWidth=function(n){var e=0;return cr(n)==="object"&&(e=k6(n.Rect[2])),e},vt.internal.getHeight=function(n){var e=0;return cr(n)==="object"&&(e=k6(n.Rect[3])),e};var IG=fs.addField=function(n){if(CG(this,n),!(n instanceof vl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};fs.AcroFormChoiceField=If,fs.AcroFormListBox=kf,fs.AcroFormComboBox=Rf,fs.AcroFormEditBox=Q0,fs.AcroFormButton=va,fs.AcroFormPushButton=J0,fs.AcroFormRadioButton=Pf,fs.AcroFormCheckBox=Z0,fs.AcroFormTextField=Xu,fs.AcroFormPasswordField=ex,fs.AcroFormAppearance=vt,fs.AcroForm={ChoiceField:If,ListBox:kf,ComboBox:Rf,EditBox:Q0,Button:va,PushButton:J0,RadioButton:Pf,CheckBox:Z0,TextField:Xu,PasswordField:ex,Appearance:vt},Rt.AcroForm={ChoiceField:If,ListBox:kf,ComboBox:Rf,EditBox:Q0,Button:va,PushButton:J0,RadioButton:Pf,CheckBox:Z0,TextField:Xu,PasswordField:ex,Appearance:vt};Rt.AcroForm;function pC(n){return n.reduce(function(e,t,s){return e[t]=s,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(k,P){var V,le,Ne,ie,ge,ue=t;if((P=P||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(ae(k))for(ge in s)for(Ne=s[ge],V=0;V<Ne.length;V+=1){for(ie=!0,le=0;le<Ne[V].length;le+=1)if(Ne[V][le]!==void 0&&Ne[V][le]!==k[le]){ie=!1;break}if(ie===!0){ue=ge;break}}else for(ge in s)for(Ne=s[ge],V=0;V<Ne.length;V+=1){for(ie=!0,le=0;le<Ne[V].length;le+=1)if(Ne[V][le]!==void 0&&Ne[V][le]!==k.charCodeAt(le)){ie=!1;break}if(ie===!0){ue=ge;break}}return ue===t&&P!==t&&(ue=P),ue},o=function k(P){for(var V=this.internal.write,le=this.internal.putStream,Ne=(0,this.internal.getFilters)();Ne.indexOf("FlateEncode")!==-1;)Ne.splice(Ne.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:P.width}),ie.push({key:"Height",value:P.height}),P.colorSpace===S.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===S.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var ge="",ue=0,je=P.transparency.length;ue<je;ue++)ge+=P.transparency[ue]+" "+P.transparency[ue]+" ";ie.push({key:"Mask",value:"["+ge+"]"})}P.sMask!==void 0&&ie.push({key:"SMask",value:P.objectId+1+" 0 R"});var ze=P.filter!==void 0?["/"+P.filter]:void 0;if(le({data:P.data,additionalKeyValues:ie,alreadyAppliedFilters:ze,objectId:P.objectId}),V("endobj"),"sMask"in P&&P.sMask!==void 0){var ne,q=(ne=P.sMaskBitsPerComponent)!==null&&ne!==void 0?ne:P.bitsPerComponent,J={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:q,data:P.sMask};"filter"in P&&(J.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(q," /Columns ").concat(P.width),J.filter=P.filter),k.call(this,J)}if(P.colorSpace===S.INDEXED){var re=this.internal.newObject();le({data:D(new Uint8Array(P.palette)),objectId:re}),V("endobj")}},c=function(){var k=this.internal.collections[e+"images"];for(var P in k)o.call(this,k[P])},d=function(){var k,P=this.internal.collections[e+"images"],V=this.internal.write;for(var le in P)V("/I"+(k=P[le]).index,k.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",d))},f=function(){var k=this.internal.collections[e+"images"];return h.call(this),k},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(k){return typeof n["process"+k.toUpperCase()]=="function"},v=function(k){return cr(k)==="object"&&k.nodeType===1},b=function(k,P){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var V=""+k.getAttribute("src");if(V.indexOf("data:image/")===0)return X0(unescape(V).split("base64,").pop());var le=n.loadFile(V,!0);if(le!==void 0)return le}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var Ne;switch(P){case"PNG":Ne="image/png";break;case"WEBP":Ne="image/webp";break;default:Ne="image/jpeg"}return X0(k.toDataURL(Ne,1).split("base64,").pop())}},T=function(k){var P=this.internal.collections[e+"images"];if(P){for(var V in P)if(k===P[V].alias)return P[V]}},E=function(k,P,V){return k||P||(k=-96,P=-96),k<0&&(k=-1*V.width*72/k/this.internal.scaleFactor),P<0&&(P=-1*V.height*72/P/this.internal.scaleFactor),k===0&&(k=P*V.width/V.height),P===0&&(P=k*V.height/V.width),[k,P]},j=function(k,P,V,le,Ne,ie){var ge=E.call(this,V,le,Ne),ue=this.internal.getCoordinateString,je=this.internal.getVerticalCoordinateString,ze=f.call(this);if(V=ge[0],le=ge[1],ze[Ne.index]=Ne,ie){ie*=Math.PI/180;var ne=Math.cos(ie),q=Math.sin(ie),J=function(he){return he.toFixed(4)},re=[J(ne),J(q),J(-1*q),J(ne),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,ue(k),je(P+le),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([ue(V),"0","0",ue(le),"0","0","cm"].join(" "))):this.internal.write([ue(V),"0","0",ue(le),ue(k),je(P+le),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ne.index+" Do"),this.internal.write("Q")},S=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=n.__addimage__.sHashCode=function(k){var P,V,le=0;if(typeof k=="string")for(V=k.length,P=0;P<V;P++)le=(le<<5)-le+k.charCodeAt(P),le|=0;else if(ae(k))for(V=k.byteLength/2,P=0;P<V;P++)le=(le<<5)-le+k[P],le|=0;return le},z=n.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var P=!0;return k.length===0&&(P=!1),k.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(P=!1),P},se=n.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var P=k.indexOf(",");return P<0?null:k.substring(0,P).trim().endsWith("base64")?k.substring(P+1):null};n.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var ae=n.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},G=n.__addimage__.binaryStringToUint8Array=function(k){for(var P=k.length,V=new Uint8Array(P),le=0;le<P;le++)V[le]=k.charCodeAt(le);return V},D=n.__addimage__.arrayBufferToBinaryString=function(k){for(var P="",V=ae(k)?k:new Uint8Array(k),le=0;le<V.length;le+=8192)P+=String.fromCharCode.apply(null,V.subarray(le,le+8192));return P};n.addImage=function(){var k,P,V,le,Ne,ie,ge,ue,je;if(typeof arguments[1]=="number"?(P=t,V=arguments[1],le=arguments[2],Ne=arguments[3],ie=arguments[4],ge=arguments[5],ue=arguments[6],je=arguments[7]):(P=arguments[1],V=arguments[2],le=arguments[3],Ne=arguments[4],ie=arguments[5],ge=arguments[6],ue=arguments[7],je=arguments[8]),cr(k=arguments[0])==="object"&&!v(k)&&"imageData"in k){var ze=k;k=ze.imageData,P=ze.format||P||t,V=ze.x||V||0,le=ze.y||le||0,Ne=ze.w||ze.width||Ne,ie=ze.h||ze.height||ie,ge=ze.alias||ge,ue=ze.compression||ue,je=ze.rotation||ze.angle||je}var ne=this.internal.getFilters();if(ue===void 0&&ne.indexOf("FlateEncode")!==-1&&(ue="SLOW"),isNaN(V)||isNaN(le))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var q=I.call(this,k,P,ge,ue);return j.call(this,V,le,Ne,ie,q,je),this};var I=function(k,P,V,le){var Ne,ie,ge;if(typeof k=="string"&&a(k)===t){k=unescape(k);var ue=F(k,!1);(ue!==""||(ue=n.loadFile(k,!0))!==void 0)&&(k=ue)}if(v(k)&&(k=b(k,P)),P=a(k,P),!p(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((ge=V)==null||ge.length===0)&&(V=(function(je){return typeof je=="string"||ae(je)?M(je):ae(je.data)?M(je.data):null})(k)),(Ne=T.call(this,V))||(k instanceof Uint8Array||P==="RGBA"||(ie=k,k=G(k)),Ne=this["process"+P.toUpperCase()](k,g.call(this),V,(function(je){return je&&typeof je=="string"&&(je=je.toUpperCase()),je in n.image_compression?je:L.NONE})(le),ie)),!Ne)throw new Error("An unknown error occurred whilst processing the image.");return Ne},F=n.__addimage__.convertBase64ToBinaryString=function(k,P){P=typeof P!="boolean"||P;var V,le="";if(typeof k=="string"){var Ne;V=(Ne=se(k))!==null&&Ne!==void 0?Ne:k;try{le=X0(V)}catch(ie){if(P)throw z(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return le};n.getImageProperties=function(k){var P,V,le="";if(v(k)&&(k=b(k)),typeof k=="string"&&a(k)===t&&((le=F(k,!1))===""&&(le=n.loadFile(k)||""),k=le),V=a(k),!p(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(k instanceof Uint8Array||(k=G(k)),!(P=this["process"+V.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=V,P}})(Rt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Rt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var s,a,o,c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,g=!1,p=0;p<f.length&&!g;p++)switch((s=f[p]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var v=0;v<f.length;v++){s=f[v];var b=this.internal.pdfEscape,T=this.internal.getEncryptor(t.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(E.objId),L=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(s.bounds.x)+" "+d(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w)+" "+d(s.bounds.y)+"] ")+"/Contents ("+b(S(s.contents))+")",o+=" /Popup "+j.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+b(S(L))+") >>",E.content=o;var M=E.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(s.bounds.x+30)+" "+d(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w+30)+" "+d(s.bounds.y)+"] ")+" /Parent "+M,s.open&&(o+=" /Open true"),o+=" >>",j.content=o,this.internal.write(E.objId,"0 R",j.objId,"0 R");break;case"freetext":a="/Rect ["+c(s.bounds.x)+" "+d(s.bounds.y)+" "+c(s.bounds.x+s.bounds.w)+" "+d(s.bounds.y+s.bounds.h)+"] ";var z=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+b(T(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var se=this.annotations._nameMap[s.options.name];s.options.pageNumber=se.page,s.options.top=se.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+b(T(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;default:var ae=d(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+ae+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var s=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":s.pageContext.annotations.push(t)}},n.link=function(t,s,a,o,c){var d=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:h(t),y:f(s),w:h(t+a),h:f(s+o)},options:c,type:"link"})},n.textWithLink=function(t,s,a,o){var c,d,h=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){d=o.maxWidth;var g=this.splitTextToSize(t,d).length;c=Math.ceil(f*g)}else d=h,c=f;return this.text(t,s,a,o),a+=.2*f,o.align==="center"&&(s-=h/2),o.align==="right"&&(s-=h),this.link(s,a-f,d,c,o),h},n.getTextWidth=function(t){var s=this.internal.getFontSize();return this.getStringUnitWidth(t)*s/this.internal.scaleFactor}})(Rt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},d=n.__arabicParser__.isArabicEndLetter=function(E){return c(E)&&o(E)&&e[E.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(E){return c(E)&&a.indexOf(E.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return c(E)&&o(E)&&e[E.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(E){return c(E)&&o(E)&&e[E.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(E){return c(E)&&o(E)&&e[E.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(E){return c(E)&&o(E)&&e[E.charCodeAt(0)].length==4},p=n.__arabicParser__.resolveLigatures=function(E){var j=0,S=t,L="",M=0;for(j=0;j<E.length;j+=1)S[E.charCodeAt(j)]!==void 0?(M++,typeof(S=S[E.charCodeAt(j)])=="number"&&(L+=String.fromCharCode(S),S=t,M=0),j===E.length-1&&(S=t,L+=E.charAt(j-(M-1)),j-=M-1,M=0)):(S=t,L+=E.charAt(j-M),j-=M,M=0);return L};n.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&s[E.charCodeAt(0)]!==void 0};var v=n.__arabicParser__.getCorrectForm=function(E,j,S){return c(E)?o(E)===!1?-1:!f(E)||!c(j)&&!c(S)||!c(S)&&d(j)||d(E)&&!c(j)||d(E)&&h(j)||d(E)&&d(j)?0:g(E)&&c(j)&&!d(j)&&c(S)&&f(S)?3:d(E)||!c(S)?1:2:-1},b=function(E){var j=0,S=0,L=0,M="",z="",se="",ae=(E=E||"").split("\\s+"),G=[];for(j=0;j<ae.length;j+=1){for(G.push(""),S=0;S<ae[j].length;S+=1)M=ae[j][S],z=ae[j][S-1],se=ae[j][S+1],c(M)?(L=v(M,z,se),G[j]+=L!==-1?String.fromCharCode(e[M.charCodeAt(0)][L]):M):G[j]+=M;G[j]=p(G[j])}return G.join(" ")},T=n.__arabicParser__.processArabic=n.processArabic=function(){var E,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(j)){var L=0;for(S=[],L=0;L<j.length;L+=1)Array.isArray(j[L])?S.push([b(j[L][0]),j[L][1],j[L][2]]):S.push([b(j[L])]);E=S}else E=b(j);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};n.events.push(["preProcessText",T])})(Rt.API),Rt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(d){t=d}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(d){s=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(d){a=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(d){o=d}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(d){c=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,s){var a;if((t=t||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Rt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(E){f=E}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(E){v=E}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(E){b=E}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(E){T=E}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return s.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},n.getTextDimensions=function(h,f){s.call(this);var g=(f=f||{}).fontSize||this.getFontSize(),p=f.font||this.getFont(),v=f.scaleFactor||this.internal.scaleFactor,b=0,T=0,E=0,j=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var S=f.maxWidth;S>0?typeof h=="string"?h=this.splitTextToSize(h,S):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(M,z){return M.concat(j.splitTextToSize(z,S))},[])):h=Array.isArray(h)?h:[h];for(var L=0;L<h.length;L++)b<(E=this.getStringUnitWidth(h[L],{font:p})*g)&&(b=E);return b!==0&&(T=h.length),{w:b/=v,h:Math.max((T*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/v,0)}},n.cellAddPage=function(){s.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),s.call(this);var f=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=p.top,b&&v&&(this.printHeaderRow(h.lineNumber,!0),h.y+=v[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-g,h.y+g,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+g,{align:"center",baseline:"top",maxWidth:h.width-g-g}):this.text(h.text,h.x+g,h.y+g,{align:"left",baseline:"top",maxWidth:h.width-g-g})),this.internal.__cell__.lastCell=h,this};n.table=function(h,f,g,p,v){if(s.call(this),!g)throw new Error("No data for PDF table.");var b,T,E,j,S=[],L=[],M=[],z={},se={},ae=[],G=[],D=(v=v||{}).autoSize||!1,I=v.printHeaders!==!1,F=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,k=v.margins||Object.assign({width:this.getPageWidth()},e),P=typeof v.padding=="number"?v.padding:3,V=v.headerBackgroundColor||"#c8c8c8",le=v.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=le,this.setFontSize(F),p==null)L=S=Object.keys(g[0]),M=S.map(function(){return"left"});else if(Array.isArray(p)&&cr(p[0])==="object")for(S=p.map(function(ze){return ze.name}),L=p.map(function(ze){return ze.prompt||ze.name||""}),M=p.map(function(ze){return ze.align||"left"}),b=0;b<p.length;b+=1)se[p[b].name]=.7499990551181103*p[b].width;else Array.isArray(p)&&typeof p[0]=="string"&&(L=S=p,M=S.map(function(){return"left"}));if(D||Array.isArray(p)&&typeof p[0]=="string")for(b=0;b<S.length;b+=1){for(z[j=S[b]]=g.map(function(ze){return ze[j]}),this.setFont(void 0,"bold"),ae.push(this.getTextDimensions(L[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=z[j],this.setFont(void 0,"normal"),E=0;E<T.length;E+=1)ae.push(this.getTextDimensions(T[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);se[j]=Math.max.apply(null,ae)+P+P,ae=[]}if(I){var Ne={};for(b=0;b<S.length;b+=1)Ne[S[b]]={},Ne[S[b]].text=L[b],Ne[S[b]].align=M[b];var ie=d.call(this,Ne,se);G=S.map(function(ze){return new o(h,f,se[ze],ie,Ne[ze].text,void 0,Ne[ze].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var ge=p.reduce(function(ze,ne){return ze[ne.name]=ne.align,ze},{});for(b=0;b<g.length;b+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:b,data:g[b]},this);var ue=d.call(this,g[b],se);for(E=0;E<S.length;E+=1){var je=g[b][S[E]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:b,col:E,data:je},this),c.call(this,new o(h,f,se[S[E]],ue,je,b+2,ge[S[E]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var d=function(h,f){var g=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(h).map(function(b){var T=h[b];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,f[b]-g-g)},this).map(function(b){return this.getLineHeightFactor()*b.length*p/v+g+g},this).reduce(function(b,T){return Math.max(b,T)},0)};n.setTableHeaderRow=function(h){s.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,f){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){g=this.internal.__cell__.tableHeaderRow[b].clone(),f&&(g.y=this.internal.__cell__.margins.top||0,v.push(g)),g.lineNumber=h;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,g),this.setTextColor(T)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),t=!1}})(Rt.API);var xC={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},yC=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],O2=pC(yC),bC=[100,200,300,400,500,600,700,800,900],kG=pC(bC);function A1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return xC[o=o||"normal"]?o:"normal"})(n.style),s=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof O2[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:s,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,s].join(" ")}}}function R6(n,e,t,s){var a;for(a=t;a>=0&&a<e.length;a+=s)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=s)if(n[e[a]])return n[e[a]]}var RG={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},P6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function L6(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function D6(n){return n.trimLeft()}function PG(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function LG(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var I0,M6,O6,ff,k0,F6,U6,V6,T1=["times"];function z6(n,e,t,s,a){var o=4,c=q6;switch(a){case Rt.API.image_compression.FAST:o=1,c=B6;break;case Rt.API.image_compression.MEDIUM:o=6,c=G6;break;case Rt.API.image_compression.SLOW:o=9,c=H6}n=(function(h,f,g,p){for(var v,b=h.length/f,T=new Uint8Array(h.length+b),E=[DG,B6,q6,G6,H6],j=0;j<b;j+=1){var S=j*f,L=h.subarray(S,S+f);if(p)T.set(p(L,g,v),S+j);else{for(var M=E.length,z=[],se=0;se<M;se+=1)z[se]=E[se](L,g,v);var ae=OG(z.concat());T.set(z[ae],S+j)}v=L}return T})(n,e,Math.ceil(t*s/8),c);var d=I2(n,{level:o});return Rt.API.__addimage__.arrayBufferToBinaryString(d)}function DG(n){var e=Array.apply([],n);return e.unshift(0),e}function B6(n,e){var t=n.length,s=[];s[0]=1;for(var a=0;a<t;a+=1){var o=n[a-e]||0;s[a+1]=n[a]-o+256&255}return s}function q6(n,e,t){var s=n.length,a=[];a[0]=2;for(var o=0;o<s;o+=1){var c=t&&t[o]||0;a[o+1]=n[o]-c+256&255}return a}function G6(n,e,t){var s=n.length,a=[];a[0]=3;for(var o=0;o<s;o+=1){var c=n[o-e]||0,d=t&&t[o]||0;a[o+1]=n[o]+256-(c+d>>>1)&255}return a}function H6(n,e,t){var s=n.length,a=[];a[0]=4;for(var o=0;o<s;o+=1){var c=MG(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=n[o]-c+256&255}return a}function MG(n,e,t){if(n===e&&e===t)return n;var s=Math.abs(e-t),a=Math.abs(n-t),o=Math.abs(n+e-t-t);return s<=a&&s<=o?n:a<=o?e:t}function OG(n){var e=n.map(function(t){return t.reduce(function(s,a){return s+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function C1(n,e,t){var s=e*t,a=Math.floor(s/8),o=16-(s-8*a+t),c=(1<<t)-1;return vC(n,a)>>o&c}function $6(n,e,t,s){var a=t*s,o=Math.floor(a/8),c=16-(a-8*o+s),d=(1<<s)-1,h=(e&d)<<c;(function(f,g,p){if(g+1<f.byteLength)f.setUint16(g,p,!1);else{var v=p>>8&255;f.setUint8(g,v)}})(n,o,vC(n,o)&~(d<<c)&65535|h)}function vC(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function FG(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,s=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,c=1<<1+(7&a);n[e++],n[e++];var d=null,h=null;o&&(d=e,h=c,e+=3*c);var f=!0,g=[],p=0,v=null,b=0,T=null;for(this.width=t,this.height=s;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,T=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=n[e++];p=n[e++]|n[e++]<<8,v=n[e++],1&E||(v=null),b=E>>2&7,e++;break;case 254:for(;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var j=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,L=n[e++]|n[e++]<<8,M=n[e++]|n[e++]<<8,z=n[e++],se=z>>6&1,ae=1<<1+(7&z),G=d,D=h,I=!1;z>>7&&(I=!0,G=e,D=ae,e+=3*ae);var F=e;for(e++;;){var k;if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}g.push({x:j,y:S,width:L,height:M,has_local_palette:I,palette_offset:G,palette_size:D,data_offset:F,data_length:e-F,transparent_index:v,interlaced:!!se,delay:p,disposal:b});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return T},this.frameInfo=function(P){if(P<0||P>=g.length)throw new Error("Frame index out of range.");return g[P]},this.decodeAndBlitFrameBGRA=function(P,V){var le=this.frameInfo(P),Ne=le.width*le.height,ie=new Uint8Array(Ne);W6(n,le.data_offset,ie,Ne);var ge=le.palette_offset,ue=le.transparent_index;ue===null&&(ue=256);var je=le.width,ze=t-je,ne=je,q=4*(le.y*t+le.x),J=4*((le.y+le.height)*t+le.x),re=q,he=4*ze;le.interlaced===!0&&(he+=4*t*7);for(var fe=8,be=0,Pe=ie.length;be<Pe;++be){var ke=ie[be];if(ne===0&&(ne=je,(re+=he)>=J&&(he=4*ze+4*t*(fe-1),re=q+(je+ze)*(fe<<1),fe>>=1)),ke===ue)re+=4;else{var Be=n[ge+3*ke],Ze=n[ge+3*ke+1],ot=n[ge+3*ke+2];V[re++]=ot,V[re++]=Ze,V[re++]=Be,V[re++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(P,V){var le=this.frameInfo(P),Ne=le.width*le.height,ie=new Uint8Array(Ne);W6(n,le.data_offset,ie,Ne);var ge=le.palette_offset,ue=le.transparent_index;ue===null&&(ue=256);var je=le.width,ze=t-je,ne=je,q=4*(le.y*t+le.x),J=4*((le.y+le.height)*t+le.x),re=q,he=4*ze;le.interlaced===!0&&(he+=4*t*7);for(var fe=8,be=0,Pe=ie.length;be<Pe;++be){var ke=ie[be];if(ne===0&&(ne=je,(re+=he)>=J&&(he=4*ze+4*t*(fe-1),re=q+(je+ze)*(fe<<1),fe>>=1)),ke===ue)re+=4;else{var Be=n[ge+3*ke],Ze=n[ge+3*ke+1],ot=n[ge+3*ke+2];V[re++]=Be,V[re++]=Ze,V[re++]=ot,V[re++]=255}--ne}}}function W6(n,e,t,s){for(var a=n[e++],o=1<<a,c=o+1,d=c+1,h=a+1,f=(1<<h)-1,g=0,p=0,v=0,b=n[e++],T=new Int32Array(4096),E=null;;){for(;g<16&&b!==0;)p|=n[e++]<<g,g+=8,b===1?b=n[e++]:--b;if(g<h)break;var j=p&f;if(p>>=h,g-=h,j!==o){if(j===c)break;for(var S=j<d?j:E,L=0,M=S;M>o;)M=T[M]>>8,++L;var z=M;if(v+L+(S!==j?1:0)>s)return void Er.log("Warning, gif stream longer than expected.");t[v++]=z;var se=v+=L;for(S!==j&&(t[v++]=z),M=S;L--;)M=T[M],t[--se]=255&M,M>>=8;E!==null&&d<4096&&(T[d++]=E<<8|z,d>=f+1&&h<12&&(++h,f=f<<1|1)),E=j}else d=c+1,f=(1<<(h=a+1))-1,E=null}return v!==s&&Er.log("Warning, gif stream shorter than expected."),t}function I1(n){var e,t,s,a,o,c=Math.floor,d=new Array(64),h=new Array(64),f=new Array(64),g=new Array(64),p=new Array(65535),v=new Array(65535),b=new Array(64),T=new Array(64),E=[],j=0,S=7,L=new Array(64),M=new Array(64),z=new Array(64),se=new Array(256),ae=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(q,J){for(var re=0,he=0,fe=new Array,be=1;be<=16;be++){for(var Pe=1;Pe<=q[be];Pe++)fe[J[he]]=[],fe[J[he]][0]=re,fe[J[he]][1]=be,he++,re++;re*=2}return fe}function ge(q){for(var J=q[0],re=q[1]-1;re>=0;)J&1<<re&&(j|=1<<S),re--,--S<0&&(j==255?(ue(255),ue(0)):ue(j),S=7,j=0)}function ue(q){E.push(q)}function je(q){ue(q>>8&255),ue(255&q)}function ze(q,J,re,he,fe){for(var be,Pe=fe[0],ke=fe[240],Be=(function(He,dt){var ct,ft,At,sn,un,Jt,xn,on,Nt,tn,jt=0;for(Nt=0;Nt<8;++Nt){ct=He[jt],ft=He[jt+1],At=He[jt+2],sn=He[jt+3],un=He[jt+4],Jt=He[jt+5],xn=He[jt+6];var Tr=ct+(on=He[jt+7]),ln=ct-on,Lt=ft+xn,Kt=ft-xn,an=At+Jt,Ct=At-Jt,Bn=sn+un,Bt=sn-un,qt=Tr+Bn,Hn=Tr-Bn,Tt=Lt+an,_t=Lt-an;He[jt]=qt+Tt,He[jt+4]=qt-Tt;var yn=.707106781*(_t+Hn);He[jt+2]=Hn+yn,He[jt+6]=Hn-yn;var Gs=.382683433*((qt=Bt+Ct)-(_t=Kt+ln)),Cs=.5411961*qt+Gs,bi=1.306562965*_t+Gs,xs=.707106781*(Tt=Ct+Kt),It=ln+xs,$i=ln-xs;He[jt+5]=$i+Cs,He[jt+3]=$i-Cs,He[jt+1]=It+bi,He[jt+7]=It-bi,jt+=8}for(jt=0,Nt=0;Nt<8;++Nt){ct=He[jt],ft=He[jt+8],At=He[jt+16],sn=He[jt+24],un=He[jt+32],Jt=He[jt+40],xn=He[jt+48];var Na=ct+(on=He[jt+56]),ia=ct-on,oa=ft+xn,nr=ft-xn,fr=At+Jt,ss=At-Jt,Hs=sn+un,Is=sn-un,$n=Na+Hs,sr=Na-Hs,as=oa+fr,la=oa-fr;He[jt]=$n+as,He[jt+32]=$n-as;var Ua=.707106781*(la+sr);He[jt+16]=sr+Ua,He[jt+48]=sr-Ua;var go=.382683433*(($n=Is+ss)-(la=nr+ia)),si=.5411961*$n+go,ca=1.306562965*la+go,Wi=.707106781*(as=ss+nr),ja=ia+Wi,$s=ia-Wi;He[jt+40]=$s+si,He[jt+24]=$s-si,He[jt+8]=ja+ca,He[jt+56]=ja-ca,jt++}for(Nt=0;Nt<64;++Nt)tn=He[Nt]*dt[Nt],b[Nt]=tn>0?tn+.5|0:tn-.5|0;return b})(q,J),Ze=0;Ze<64;++Ze)T[G[Ze]]=Be[Ze];var ot=T[0]-re;re=T[0],ot==0?ge(he[0]):(ge(he[v[be=32767+ot]]),ge(p[be]));for(var it=63;it>0&&T[it]==0;)it--;if(it==0)return ge(Pe),re;for(var Ve,X=1;X<=it;){for(var Ke=X;T[X]==0&&X<=it;)++X;var Wt=X-Ke;if(Wt>=16){Ve=Wt>>4;for(var Et=1;Et<=Ve;++Et)ge(ke);Wt&=15}be=32767+T[X],ge(fe[(Wt<<4)+v[be]]),ge(p[be]),X++}return it!=63&&ge(Pe),re}function ne(q){q=Math.min(Math.max(q,1),100),o!=q&&((function(J){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],he=0;he<64;he++){var fe=c((re[he]*J+50)/100);fe=Math.min(Math.max(fe,1),255),d[G[he]]=fe}for(var be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Pe=0;Pe<64;Pe++){var ke=c((be[Pe]*J+50)/100);ke=Math.min(Math.max(ke,1),255),h[G[Pe]]=ke}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ze=0,ot=0;ot<8;ot++)for(var it=0;it<8;it++)f[Ze]=1/(d[G[Ze]]*Be[ot]*Be[it]*8),g[Ze]=1/(h[G[Ze]]*Be[ot]*Be[it]*8),Ze++})(q<50?Math.floor(5e3/q):Math.floor(200-2*q)),o=q)}this.encode=function(q,J){J&&ne(J),E=new Array,j=0,S=7,je(65496),je(65504),je(16),ue(74),ue(70),ue(73),ue(70),ue(0),ue(1),ue(1),ue(0),je(1),je(1),ue(0),ue(0),(function(){je(65499),je(132),ue(0);for(var ft=0;ft<64;ft++)ue(d[ft]);ue(1);for(var At=0;At<64;At++)ue(h[At])})(),(function(ft,At){je(65472),je(17),ue(8),je(At),je(ft),ue(3),ue(1),ue(17),ue(0),ue(2),ue(17),ue(1),ue(3),ue(17),ue(1)})(q.width,q.height),(function(){je(65476),je(418),ue(0);for(var ft=0;ft<16;ft++)ue(D[ft+1]);for(var At=0;At<=11;At++)ue(I[At]);ue(16);for(var sn=0;sn<16;sn++)ue(F[sn+1]);for(var un=0;un<=161;un++)ue(k[un]);ue(1);for(var Jt=0;Jt<16;Jt++)ue(P[Jt+1]);for(var xn=0;xn<=11;xn++)ue(V[xn]);ue(17);for(var on=0;on<16;on++)ue(le[on+1]);for(var Nt=0;Nt<=161;Nt++)ue(Ne[Nt])})(),je(65498),je(12),ue(3),ue(1),ue(0),ue(2),ue(17),ue(3),ue(17),ue(0),ue(63),ue(0);var re=0,he=0,fe=0;j=0,S=7,this.encode.displayName="_encode_";for(var be,Pe,ke,Be,Ze,ot,it,Ve,X,Ke=q.data,Wt=q.width,Et=q.height,He=4*Wt,dt=0;dt<Et;){for(be=0;be<He;){for(Ze=He*dt+be,it=-1,Ve=0,X=0;X<64;X++)ot=Ze+(Ve=X>>3)*He+(it=4*(7&X)),dt+Ve>=Et&&(ot-=He*(dt+1+Ve-Et)),be+it>=He&&(ot-=be+it-He+4),Pe=Ke[ot++],ke=Ke[ot++],Be=Ke[ot++],L[X]=(ae[Pe]+ae[ke+256|0]+ae[Be+512|0]>>16)-128,M[X]=(ae[Pe+768|0]+ae[ke+1024|0]+ae[Be+1280|0]>>16)-128,z[X]=(ae[Pe+1280|0]+ae[ke+1536|0]+ae[Be+1792|0]>>16)-128;re=ze(L,f,re,e,s),he=ze(M,g,he,t,a),fe=ze(z,g,fe,t,a),be+=32}dt+=8}if(S>=0){var ct=[];ct[1]=S+1,ct[0]=(1<<S+1)-1,ge(ct)}return je(65497),new Uint8Array(E)},n=n||50,(function(){for(var q=String.fromCharCode,J=0;J<256;J++)se[J]=q(J)})(),e=ie(D,I),t=ie(P,V),s=ie(F,k),a=ie(le,Ne),(function(){for(var q=1,J=2,re=1;re<=15;re++){for(var he=q;he<J;he++)v[32767+he]=re,p[32767+he]=[],p[32767+he][1]=re,p[32767+he][0]=he;for(var fe=-(J-1);fe<=-q;fe++)v[32767+fe]=re,p[32767+fe]=[],p[32767+fe][1]=re,p[32767+fe][0]=J-1+fe;q<<=1,J<<=1}})(),(function(){for(var q=0;q<256;q++)ae[q]=19595*q,ae[q+256|0]=38470*q,ae[q+512|0]=7471*q+32768,ae[q+768|0]=-11059*q,ae[q+1024|0]=-21709*q,ae[q+1280|0]=32768*q+8421375,ae[q+1536|0]=-27439*q,ae[q+1792|0]=-5329*q})(),ne(n)}function hl(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function K6(n){function e(I){if(!I)throw Error("assert :P")}function t(I,F,k){for(var P=0;4>P;P++)if(I[F+P]!=k.charCodeAt(P))return!0;return!1}function s(I,F,k,P,V){for(var le=0;le<V;le++)I[F+le]=k[P+le]}function a(I,F,k,P){for(var V=0;V<P;V++)I[F+V]=k}function o(I){return new Int32Array(I)}function c(I,F){for(var k=[],P=0;P<I;P++)k.push(new F);return k}function d(I,F){var k=[];return(function P(V,le,Ne){for(var ie=Ne[le],ge=0;ge<ie&&(V.push(Ne.length>le+1?[]:new F),!(Ne.length<le+1));ge++)P(V[ge],le+1,Ne)})(k,0,I),k}var h=function(){var I=this;function F(x,N){for(var C=1<<N-1>>>0;x&C;)C>>>=1;return C?(x&C-1)+C:x}function k(x,N,C,O,$){e(!(O%C));do x[N+(O-=C)]=$;while(0<O)}function P(x,N,C,O,$){if(e(2328>=$),512>=$)var K=o(512);else if((K=o($))==null)return 0;return(function(Y,Z,te,de,xe,Ce){var oe,ve,Ee=Z,Fe=1<<te,Ae=o(16),Oe=o(16);for(e(xe!=0),e(de!=null),e(Y!=null),e(0<te),ve=0;ve<xe;++ve){if(15<de[ve])return 0;++Ae[de[ve]]}if(Ae[0]==xe)return 0;for(Oe[1]=0,oe=1;15>oe;++oe){if(Ae[oe]>1<<oe)return 0;Oe[oe+1]=Oe[oe]+Ae[oe]}for(ve=0;ve<xe;++ve)oe=de[ve],0<de[ve]&&(Ce[Oe[oe]++]=ve);if(Oe[15]==1)return(de=new V).g=0,de.value=Ce[0],k(Y,Ee,1,Fe,de),Fe;var $e,et=-1,Xe=Fe-1,bt=0,ut=1,nn=1,gt=1<<te;for(ve=0,oe=1,xe=2;oe<=te;++oe,xe<<=1){if(ut+=nn<<=1,0>(nn-=Ae[oe]))return 0;for(;0<Ae[oe];--Ae[oe])(de=new V).g=oe,de.value=Ce[ve++],k(Y,Ee+bt,xe,gt,de),bt=F(bt,oe)}for(oe=te+1,xe=2;15>=oe;++oe,xe<<=1){if(ut+=nn<<=1,0>(nn-=Ae[oe]))return 0;for(;0<Ae[oe];--Ae[oe]){if(de=new V,(bt&Xe)!=et){for(Ee+=gt,$e=1<<(et=oe)-te;15>et&&!(0>=($e-=Ae[et]));)++et,$e<<=1;Fe+=gt=1<<($e=et-te),Y[Z+(et=bt&Xe)].g=$e+te,Y[Z+et].value=Ee-Z-et}de.g=oe-te,de.value=Ce[ve++],k(Y,Ee+(bt>>te),xe,gt,de),bt=F(bt,oe)}}return ut!=2*Oe[15]-1?0:Fe})(x,N,C,O,$,K)}function V(){this.value=this.g=0}function le(){this.value=this.g=0}function Ne(){this.G=c(5,V),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Il,le)}function ie(x,N,C,O){e(x!=null),e(N!=null),e(2147483648>O),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=N,x.pa=C,x.Jd=N,x.Yc=C+O,x.Zc=4<=O?C+O-4+1:C,Pe(x)}function ge(x,N){for(var C=0;0<N--;)C|=Be(x,128)<<N;return C}function ue(x,N){var C=ge(x,N);return ke(x)?-C:C}function je(x,N,C,O){var $,K=0;for(e(x!=null),e(N!=null),e(4294967288>O),x.Sb=O,x.Ra=0,x.u=0,x.h=0,4<O&&(O=4),$=0;$<O;++$)K+=N[C+$]<<8*$;x.Ra=K,x.bb=O,x.oa=N,x.pa=C}function ze(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<jo-8>>>0,++x.bb,x.u-=8;he(x)&&(x.h=1,x.u=0)}function ne(x,N){if(e(0<=N),!x.h&&N<=ka){var C=re(x)&Ga[N];return x.u+=N,ze(x),C}return x.h=1,x.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function re(x){return x.Ra>>>(x.u&jo-1)>>>0}function he(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>jo}function fe(x,N){x.u=N,x.h=he(x)}function be(x){x.u>=_o&&(e(x.u>=_o),ze(x))}function Pe(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function ke(x){return ge(x,1)}function Be(x,N){var C=x.Ca;0>x.b&&Pe(x);var O=x.b,$=C*N>>>8,K=(x.I>>>O>$)+0;for(K?(C-=$,x.I-=$+1<<O>>>0):C=$+1,O=C,$=0;256<=O;)$+=8,O>>=8;return O=7^$+Zo[O],x.b-=O,x.Ca=(C<<O)-1,K}function Ze(x,N,C){x[N+0]=C>>24&255,x[N+1]=C>>16&255,x[N+2]=C>>8&255,x[N+3]=255&C}function ot(x,N){return x[N+0]|x[N+1]<<8}function it(x,N){return ot(x,N)|x[N+2]<<16}function Ve(x,N){return ot(x,N)|ot(x,N+2)<<16}function X(x,N){var C=1<<N;return e(x!=null),e(0<N),x.X=o(C),x.X==null?0:(x.Mb=32-N,x.Xa=N,1)}function Ke(x,N){e(x!=null),e(N!=null),e(x.Xa==N.Xa),s(N.X,0,x.X,0,1<<N.Xa)}function Wt(){this.X=[],this.Xa=this.Mb=0}function Et(x,N,C,O){e(C!=null),e(O!=null);var $=C[0],K=O[0];return $==0&&($=(x*K+N/2)/N),K==0&&(K=(N*$+x/2)/x),0>=$||0>=K?0:(C[0]=$,O[0]=K,1)}function He(x,N){return x+(1<<N)-1>>>N}function dt(x,N){return((4278255360&x)+(4278255360&N)>>>0&4278255360)+((16711935&x)+(16711935&N)>>>0&16711935)>>>0}function ct(x,N){I[N]=function(C,O,$,K,Y,Z,te){var de;for(de=0;de<Y;++de){var xe=I[x](Z[te+de-1],$,K+de);Z[te+de]=dt(C[O+de],xe)}}}function ft(){this.ud=this.hd=this.jd=0}function At(x,N){return((4278124286&(x^N))>>>1)+(x&N)>>>0}function sn(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function un(x,N){return sn(x+(x-N+.5>>1))}function Jt(x,N,C){return Math.abs(N-C)-Math.abs(x-C)}function xn(x,N,C,O,$,K,Y){for(O=K[Y-1],C=0;C<$;++C)K[Y+C]=O=dt(x[N+C],O)}function on(x,N,C,O,$){var K;for(K=0;K<C;++K){var Y=x[N+K],Z=Y>>8&255,te=16711935&(te=(te=16711935&Y)+((Z<<16)+Z));O[$+K]=(4278255360&Y)+te>>>0}}function Nt(x,N){N.jd=255&x,N.hd=x>>8&255,N.ud=x>>16&255}function tn(x,N,C,O,$,K){var Y;for(Y=0;Y<O;++Y){var Z=N[C+Y],te=Z>>>8,de=Z,xe=255&(xe=(xe=Z>>>16)+((x.jd<<24>>24)*(te<<24>>24)>>>5));de=255&(de=(de+=(x.hd<<24>>24)*(te<<24>>24)>>>5)+((x.ud<<24>>24)*(xe<<24>>24)>>>5)),$[K+Y]=(4278255360&Z)+(xe<<16)+de}}function jt(x,N,C,O,$){I[N]=function(K,Y,Z,te,de,xe,Ce,oe,ve){for(te=Ce;te<oe;++te)for(Ce=0;Ce<ve;++Ce)de[xe++]=$(Z[O(K[Y++])])},I[x]=function(K,Y,Z,te,de,xe,Ce){var oe=8>>K.b,ve=K.Ea,Ee=K.K[0],Fe=K.w;if(8>oe)for(K=(1<<K.b)-1,Fe=(1<<oe)-1;Y<Z;++Y){var Ae,Oe=0;for(Ae=0;Ae<ve;++Ae)Ae&K||(Oe=O(te[de++])),xe[Ce++]=$(Ee[Oe&Fe]),Oe>>=oe}else I["VP8LMapColor"+C](te,de,Ee,Fe,xe,Ce,Y,Z,ve)}}function Tr(x,N,C,O,$){for(C=N+C;N<C;){var K=x[N++];O[$++]=K>>16&255,O[$++]=K>>8&255,O[$++]=255&K}}function ln(x,N,C,O,$){for(C=N+C;N<C;){var K=x[N++];O[$++]=K>>16&255,O[$++]=K>>8&255,O[$++]=255&K,O[$++]=K>>24&255}}function Lt(x,N,C,O,$){for(C=N+C;N<C;){var K=(Y=x[N++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;O[$++]=K,O[$++]=Y}}function Kt(x,N,C,O,$){for(C=N+C;N<C;){var K=(Y=x[N++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;O[$++]=K,O[$++]=Y}}function an(x,N,C,O,$){for(C=N+C;N<C;){var K=x[N++];O[$++]=255&K,O[$++]=K>>8&255,O[$++]=K>>16&255}}function Ct(x,N,C,O,$,K){if(K==0)for(C=N+C;N<C;)Ze(O,((K=x[N++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),$+=32;else s(O,$,x,N,C)}function Bn(x,N){I[N][0]=I[x+"0"],I[N][1]=I[x+"1"],I[N][2]=I[x+"2"],I[N][3]=I[x+"3"],I[N][4]=I[x+"4"],I[N][5]=I[x+"5"],I[N][6]=I[x+"6"],I[N][7]=I[x+"7"],I[N][8]=I[x+"8"],I[N][9]=I[x+"9"],I[N][10]=I[x+"10"],I[N][11]=I[x+"11"],I[N][12]=I[x+"12"],I[N][13]=I[x+"13"],I[N][14]=I[x+"0"],I[N][15]=I[x+"0"]}function Bt(x){return x==_u||x==Eh||x==ud||x==Ah}function qt(){this.eb=[],this.size=this.A=this.fb=0}function Hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Tt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new qt,this.f.kb=new Hn,this.sd=null}function _t(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function yn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Gs(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Cs(x,N){var C=x.T,O=N.ba.f.RGBA,$=O.eb,K=O.fb+x.ka*O.A,Y=Zs[N.ba.S],Z=x.y,te=x.O,de=x.f,xe=x.N,Ce=x.ea,oe=x.W,ve=N.cc,Ee=N.dc,Fe=N.Mc,Ae=N.Nc,Oe=x.ka,$e=x.ka+x.T,et=x.U,Xe=et+1>>1;for(Oe==0?Y(Z,te,null,null,de,xe,Ce,oe,de,xe,Ce,oe,$,K,null,null,et):(Y(N.ec,N.fc,Z,te,ve,Ee,Fe,Ae,de,xe,Ce,oe,$,K-O.A,$,K,et),++C);Oe+2<$e;Oe+=2)ve=de,Ee=xe,Fe=Ce,Ae=oe,xe+=x.Rc,oe+=x.Rc,K+=2*O.A,Y(Z,(te+=2*x.fa)-x.fa,Z,te,ve,Ee,Fe,Ae,de,xe,Ce,oe,$,K-O.A,$,K,et);return te+=x.fa,x.j+$e<x.o?(s(N.ec,N.fc,Z,te,et),s(N.cc,N.dc,de,xe,Xe),s(N.Mc,N.Nc,Ce,oe,Xe),C--):1&$e||Y(Z,te,null,null,de,xe,Ce,oe,de,xe,Ce,oe,$,K+O.A,null,null,et),C}function bi(x,N,C){var O=x.F,$=[x.J];if(O!=null){var K=x.U,Y=N.ba.S,Z=Y==ju||Y==ud;N=N.ba.f.RGBA;var te=[0],de=x.ka;te[0]=x.T,x.Kb&&(de==0?--te[0]:(--de,$[0]-=x.width),x.j+x.ka+x.T==x.o&&(te[0]=x.o-x.j-de));var xe=N.eb;de=N.fb+de*N.A,x=bu(O,$[0],x.width,K,te,xe,de+(Z?0:3),N.A),e(C==te),x&&Bt(Y)&&xc(xe,de,Z,K,te,N.A)}return 0}function xs(x){var N=x.ma,C=N.ba.S,O=11>C,$=C==ga||C==Ai||C==ju||C==dd||C==12||Bt(C);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Jo(N.Oa,x,$?11:12))return 0;if($&&Bt(C)&&en(),x.da)alert("todo:use_scaling");else{if(O){if(N.Ib=Gs,x.Kb){if(C=x.U+1>>1,N.memory=o(x.U+2*C),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+x.U,N.Mc=N.cc,N.Nc=N.dc+C,N.Ib=Cs,en()}}else alert("todo:EmitYUV");$&&(N.Jb=bi,O&&Le())}if(O&&!Ol){for(x=0;256>x;++x)ea[x]=89858*(x-128)+md>>Pi,Ey[x]=-22014*(x-128)+md,Sp[x]=-45773*(x-128),Rh[x]=113618*(x-128)+md>>Pi;for(x=wc;x<Ml;++x)N=76283*(x-16)+md>>Pi,Ay[x-wc]=Sa(N,255),Ty[x-wc]=Sa(N+8>>4,15);Ol=1}return 1}function It(x){var N=x.ma,C=x.U,O=x.T;return e(!(1&x.ka)),0>=C||0>=O?0:(C=N.Ib(x,N),N.Jb!=null&&N.Jb(x,N,C),N.Dc+=C,1)}function $i(x){x.ma.memory=null}function Na(x,N,C,O){return ne(x,8)!=47?0:(N[0]=ne(x,14)+1,C[0]=ne(x,14)+1,O[0]=ne(x,1),ne(x,3)!=0?0:!x.h)}function ia(x,N){if(4>x)return x+1;var C=x-2>>1;return(2+(1&x)<<C)+ne(N,C)+1}function oa(x,N){return 120<N?N-120:1<=(C=((C=Ci[N-1])>>4)*x+(8-(15&C)))?C:1;var C}function nr(x,N,C){var O=re(C),$=x[N+=255&O].g-8;return 0<$&&(fe(C,C.u+8),O=re(C),N+=x[N].value,N+=O&(1<<$)-1),fe(C,C.u+x[N].g),x[N].value}function fr(x,N,C){return C.g+=x.g,C.value+=x.value<<N>>>0,e(8>=C.g),x.g}function ss(x,N,C){var O=x.xc;return e((N=O==0?0:x.vc[x.md*(C>>O)+(N>>O)])<x.Wb),x.Ya[N]}function Hs(x,N,C,O){var $=x.ab,K=x.c*N,Y=x.C;N=Y+N;var Z=C,te=O;for(O=x.Ta,C=x.Ua;0<$--;){var de=x.gc[$],xe=Y,Ce=N,oe=Z,ve=te,Ee=(te=O,Z=C,de.Ea);switch(e(xe<Ce),e(Ce<=de.nc),de.hc){case 2:Yr(oe,ve,(Ce-xe)*Ee,te,Z);break;case 0:var Fe=xe,Ae=Ce,Oe=te,$e=Z,et=(gt=de).Ea;Fe==0&&(id(oe,ve,null,null,1,Oe,$e),xn(oe,ve+1,0,0,et-1,Oe,$e+1),ve+=et,$e+=et,++Fe);for(var Xe=1<<gt.b,bt=Xe-1,ut=He(et,gt.b),nn=gt.K,gt=gt.w+(Fe>>gt.b)*ut;Fe<Ae;){var An=nn,_r=gt,hn=1;for(od(oe,ve,Oe,$e-et,1,Oe,$e);hn<et;){var ht=(hn&~bt)+Xe;ht>et&&(ht=et),(0,el[An[_r++]>>8&15])(oe,ve+ +hn,Oe,$e+hn-et,ht-hn,Oe,$e+hn),hn=ht}ve+=et,$e+=et,++Fe&bt||(gt+=ut)}Ce!=de.nc&&s(te,Z-Ee,te,Z+(Ce-xe-1)*Ee,Ee);break;case 1:for(Ee=oe,Ae=ve,et=(oe=de.Ea)-($e=oe&~(Oe=(ve=1<<de.b)-1)),Fe=He(oe,de.b),Xe=de.K,de=de.w+(xe>>de.b)*Fe;xe<Ce;){for(bt=Xe,ut=de,nn=new ft,gt=Ae+$e,An=Ae+oe;Ae<gt;)Nt(bt[ut++],nn),ld(nn,Ee,Ae,ve,te,Z),Ae+=ve,Z+=ve;Ae<An&&(Nt(bt[ut++],nn),ld(nn,Ee,Ae,et,te,Z),Ae+=et,Z+=et),++xe&Oe||(de+=Fe)}break;case 3:if(oe==te&&ve==Z&&0<de.b){for(Ae=te,oe=Ee=Z+(Ce-xe)*Ee-($e=(Ce-xe)*He(de.Ea,de.b)),ve=te,Oe=Z,Fe=[],$e=(et=$e)-1;0<=$e;--$e)Fe[$e]=ve[Oe+$e];for($e=et-1;0<=$e;--$e)Ae[oe+$e]=Fe[$e];wh(de,xe,Ce,te,Ee,te,Z)}else wh(de,xe,Ce,oe,ve,te,Z)}Z=O,te=C}te!=C&&s(O,C,Z,te,K)}function Is(x,N){var C=x.V,O=x.Ba+x.c*x.C,$=N-x.C;if(e(N<=x.l.o),e(16>=$),0<$){var K=x.l,Y=x.Ta,Z=x.Ua,te=K.width;if(Hs(x,$,C,O),$=Z=[Z],e((C=x.C)<(O=N)),e(K.v<K.va),O>K.o&&(O=K.o),C<K.j){var de=K.j-C;C=K.j,$[0]+=de*te}if(C>=O?C=0:($[0]+=4*K.v,K.ka=C-K.j,K.U=K.va-K.v,K.T=O-C,C=1),C){if(Z=Z[0],11>(C=x.ca).S){var xe=C.f.RGBA,Ce=(O=C.S,$=K.U,K=K.T,de=xe.eb,xe.A),oe=K;for(xe=xe.fb+x.Ma*xe.A;0<oe--;){var ve=Y,Ee=Z,Fe=$,Ae=de,Oe=xe;switch(O){case _h:cd(ve,Ee,Fe,Ae,Oe);break;case ga:tl(ve,Ee,Fe,Ae,Oe);break;case _u:tl(ve,Ee,Fe,Ae,Oe),xc(Ae,Oe,0,Fe,1,0);break;case Sh:gc(ve,Ee,Fe,Ae,Oe);break;case Ai:Ct(ve,Ee,Fe,Ae,Oe,1);break;case Eh:Ct(ve,Ee,Fe,Ae,Oe,1),xc(Ae,Oe,0,Fe,1,0);break;case ju:Ct(ve,Ee,Fe,Ae,Oe,0);break;case ud:Ct(ve,Ee,Fe,Ae,Oe,0),xc(Ae,Oe,1,Fe,1,0);break;case dd:nl(ve,Ee,Fe,Ae,Oe);break;case Ah:nl(ve,Ee,Fe,Ae,Oe),Ei(Ae,Oe,Fe,1,0);break;case kl:Ao(ve,Ee,Fe,Ae,Oe);break;default:e(0)}Z+=te,xe+=Ce}x.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=C.height)}}x.C=N,e(x.C<=x.i)}function $n(x){var N;if(0<x.ua)return 0;for(N=0;N<x.Wb;++N){var C=x.Ya[N].G,O=x.Ya[N].H;if(0<C[1][O[1]+0].g||0<C[2][O[2]+0].g||0<C[3][O[3]+0].g)return 0}return 1}function sr(x,N,C,O,$,K){if(x.Z!=0){var Y=x.qd,Z=x.rd;for(e(al[x.Z]!=null);N<C;++N)al[x.Z](Y,Z,O,$,O,$,K),Y=O,Z=$,$+=K;x.qd=Y,x.rd=Z}}function as(x,N){var C=x.l.ma,O=C.Z==0||C.Z==1?x.l.j:x.C;if(O=x.C<O?O:x.C,e(N<=x.l.o),N>O){var $=x.l.width,K=C.ca,Y=C.tb+$*O,Z=x.V,te=x.Ba+x.c*O,de=x.gc;e(x.ab==1),e(de[0].hc==3),Eo(de[0],O,N,Z,te,K,Y),sr(C,O,N,K,Y,$)}x.C=x.Ma=N}function la(x,N,C,O,$,K,Y){var Z=x.$/O,te=x.$%O,de=x.m,xe=x.s,Ce=C+x.$,oe=Ce;$=C+O*$;var ve=C+O*K,Ee=280+xe.ua,Fe=x.Pb?Z:16777216,Ae=0<xe.ua?xe.Wa:null,Oe=xe.wc,$e=Ce<ve?ss(xe,te,Z):null;e(x.C<K),e(ve<=$);var et=!1;e:for(;;){for(;et||Ce<ve;){var Xe=0;if(Z>=Fe){var bt=Ce-C;e((Fe=x).Pb),Fe.wd=Fe.m,Fe.xd=bt,0<Fe.s.ua&&Ke(Fe.s.Wa,Fe.s.vb),Fe=Z+Rl}if(te&Oe||($e=ss(xe,te,Z)),e($e!=null),$e.Qb&&(N[Ce]=$e.qb,et=!0),!et)if(be(de),$e.jc){Xe=de,bt=N;var ut=Ce,nn=$e.pd[re(Xe)&Il-1];e($e.jc),256>nn.g?(fe(Xe,Xe.u+nn.g),bt[ut]=nn.value,Xe=0):(fe(Xe,Xe.u+nn.g-256),e(256<=nn.value),Xe=nn.value),Xe==0&&(et=!0)}else Xe=nr($e.G[0],$e.H[0],de);if(de.h)break;if(et||256>Xe){if(!et)if($e.nd)N[Ce]=($e.qb|Xe<<8)>>>0;else{if(be(de),et=nr($e.G[1],$e.H[1],de),be(de),bt=nr($e.G[2],$e.H[2],de),ut=nr($e.G[3],$e.H[3],de),de.h)break;N[Ce]=(ut<<24|et<<16|Xe<<8|bt)>>>0}if(et=!1,++Ce,++te>=O&&(te=0,++Z,Y!=null&&Z<=K&&!(Z%16)&&Y(x,Z),Ae!=null))for(;oe<Ce;)Xe=N[oe++],Ae.X[(506832829*Xe&4294967295)>>>Ae.Mb]=Xe}else if(280>Xe){if(Xe=ia(Xe-256,de),bt=nr($e.G[4],$e.H[4],de),be(de),bt=oa(O,bt=ia(bt,de)),de.h)break;if(Ce-C<bt||$-Ce<Xe)break e;for(ut=0;ut<Xe;++ut)N[Ce+ut]=N[Ce+ut-bt];for(Ce+=Xe,te+=Xe;te>=O;)te-=O,++Z,Y!=null&&Z<=K&&!(Z%16)&&Y(x,Z);if(e(Ce<=$),te&Oe&&($e=ss(xe,te,Z)),Ae!=null)for(;oe<Ce;)Xe=N[oe++],Ae.X[(506832829*Xe&4294967295)>>>Ae.Mb]=Xe}else{if(!(Xe<Ee))break e;for(et=Xe-280,e(Ae!=null);oe<Ce;)Xe=N[oe++],Ae.X[(506832829*Xe&4294967295)>>>Ae.Mb]=Xe;Xe=Ce,e(!(et>>>(bt=Ae).Xa)),N[Xe]=bt.X[et],et=!0}et||e(de.h==he(de))}if(x.Pb&&de.h&&Ce<$)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&Ke(x.s.vb,x.s.Wa);else{if(de.h)break e;Y?.(x,Z>K?K:Z),x.a=0,x.$=Ce-C}return 1}return x.a=3,0}function Ua(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var N=x.Wa;N!=null&&(N.X=null),x.vb=null,e(x!=null)}function go(){var x=new Ut;return x==null?null:(x.a=0,x.xb=pm,Bn("Predictor","VP8LPredictors"),Bn("Predictor","VP8LPredictors_C"),Bn("PredictorAdd","VP8LPredictorsAdd"),Bn("PredictorAdd","VP8LPredictorsAdd_C"),Yr=on,ld=tn,cd=Tr,tl=ln,nl=Lt,Ao=Kt,gc=an,I.VP8LMapColor32b=So,I.VP8LMapColor8b=Xs,x)}function si(x,N,C,O,$){var K=1,Y=[x],Z=[N],te=O.m,de=O.s,xe=null,Ce=0;e:for(;;){if(C)for(;K&&ne(te,1);){var oe=Y,ve=Z,Ee=O,Fe=1,Ae=Ee.m,Oe=Ee.gc[Ee.ab],$e=ne(Ae,2);if(Ee.Oc&1<<$e)K=0;else{switch(Ee.Oc|=1<<$e,Oe.hc=$e,Oe.Ea=oe[0],Oe.nc=ve[0],Oe.K=[null],++Ee.ab,e(4>=Ee.ab),$e){case 0:case 1:Oe.b=ne(Ae,3)+2,Fe=si(He(Oe.Ea,Oe.b),He(Oe.nc,Oe.b),0,Ee,Oe.K),Oe.K=Oe.K[0];break;case 3:var et,Xe=ne(Ae,8)+1,bt=16<Xe?0:4<Xe?1:2<Xe?2:3;if(oe[0]=He(Oe.Ea,bt),Oe.b=bt,et=Fe=si(Xe,1,0,Ee,Oe.K)){var ut,nn=Xe,gt=Oe,An=1<<(8>>gt.b),_r=o(An);if(_r==null)et=0;else{var hn=gt.K[0],ht=gt.w;for(_r[0]=gt.K[0][0],ut=1;ut<1*nn;++ut)_r[ut]=dt(hn[ht+ut],_r[ut-1]);for(;ut<4*An;++ut)_r[ut]=0;gt.K[0]=null,gt.K[0]=_r,et=1}}Fe=et;break;case 2:break;default:e(0)}K=Fe}}if(Y=Y[0],Z=Z[0],K&&ne(te,1)&&!(K=1<=(Ce=ne(te,4))&&11>=Ce)){O.a=3;break e}var at;if(at=K)t:{var Ir,Yt,gn,Jn=O,vs=Y,ta=Z,xr=Ce,os=C,pa=Jn.m,ls=Jn.s,wn=[null],Fn=1,kr=0,Gn=Ii[xr];n:for(;;){if(os&&ne(pa,1)){var ws=ne(pa,3)+2,Rr=He(vs,ws),Un=He(ta,ws),Jr=Rr*Un;if(!si(Rr,Un,0,Jn,wn))break n;for(wn=wn[0],ls.xc=ws,Ir=0;Ir<Jr;++Ir){var Zn=wn[Ir]>>8&65535;wn[Ir]=Zn,Zn>=Fn&&(Fn=Zn+1)}}if(pa.h)break n;for(Yt=0;5>Yt;++Yt){var cs=bc[Yt];!Yt&&0<xr&&(cs+=1<<xr),kr<cs&&(kr=cs)}var ds=c(Fn*Gn,V),ir=Fn,On=c(ir,Ne);if(On==null)var xa=null;else e(65536>=ir),xa=On;var Vr=o(kr);if(xa==null||Vr==null||ds==null){Jn.a=1;break n}var Ot=ds;for(Ir=gn=0;Ir<Fn;++Ir){var Vt=xa[Ir],Vn=Vt.G,Ha=Vt.H,Li=0,Pa=1,us=0;for(Yt=0;5>Yt;++Yt){cs=bc[Yt],Vn[Yt]=Ot,Ha[Yt]=gn,!Yt&&0<xr&&(cs+=1<<xr);s:{var Fl,Ul=cs,Lh=Jn,yr=Vr,ym=Ot,bm=gn,Dh=0,il=Lh.m,Cy=ne(il,1);if(a(yr,0,0,Ul),Cy){var vm=ne(il,1)+1,wm=ne(il,1),Mh=ne(il,wm==0?1:8);yr[Mh]=1,vm==2&&(yr[Mh=ne(il,8)]=1);var Ls=1}else{var zr=o(19),Tu=ne(il,4)+4;if(19<Tu){Lh.a=3;var Vl=0;break s}for(Fl=0;Fl<Tu;++Fl)zr[Su[Fl]]=ne(il,3);var pd=void 0,Nc=void 0,Io=Lh,Oh=zr,xd=Ul,Fh=yr,Uh=0,ol=Io.m,Nm=8,jm=c(128,V);r:for(;P(jm,0,7,Oh,19);){if(ne(ol,1)){var Ep=2+2*ne(ol,3);if((pd=2+ne(ol,Ep))>xd)break r}else pd=xd;for(Nc=0;Nc<xd&&pd--;){be(ol);var _m=jm[0+(127&re(ol))];fe(ol,ol.u+_m.g);var zl=_m.value;if(16>zl)Fh[Nc++]=zl,zl!=0&&(Nm=zl);else{var Ap=zl==16,Tp=zl-16,Cp=hd[Tp],Sm=ne(ol,Ti[Tp])+Cp;if(Nc+Sm>xd)break r;for(var Ip=Ap?Nm:0;0<Sm--;)Fh[Nc++]=Ip}}Uh=1;break r}Uh||(Io.a=3),Ls=Uh}(Ls=Ls&&!il.h)&&(Dh=P(ym,bm,8,yr,Ul)),Ls&&Dh!=0?Vl=Dh:(Lh.a=3,Vl=0)}if(Vl==0)break n;if(Pa&&Th[Yt]==1&&(Pa=Ot[gn].g==0),Li+=Ot[gn].g,gn+=Vl,3>=Yt){var jc,Vh=Vr[0];for(jc=1;jc<cs;++jc)Vr[jc]>Vh&&(Vh=Vr[jc]);us+=Vh}}if(Vt.nd=Pa,Vt.Qb=0,Pa&&(Vt.qb=(Vn[3][Ha[3]+0].value<<24|Vn[1][Ha[1]+0].value<<16|Vn[2][Ha[2]+0].value)>>>0,Li==0&&256>Vn[0][Ha[0]+0].value&&(Vt.Qb=1,Vt.qb+=Vn[0][Ha[0]+0].value<<8)),Vt.jc=!Vt.Qb&&6>us,Vt.jc){var Cu,ko=Vt;for(Cu=0;Cu<Il;++Cu){var ll=Cu,cl=ko.pd[ll],zh=ko.G[0][ko.H[0]+ll];256<=zh.value?(cl.g=zh.g+256,cl.value=zh.value):(cl.g=0,cl.value=0,ll>>=fr(zh,8,cl),ll>>=fr(ko.G[1][ko.H[1]+ll],16,cl),ll>>=fr(ko.G[2][ko.H[2]+ll],0,cl),fr(ko.G[3][ko.H[3]+ll],24,cl))}}}ls.vc=wn,ls.Wb=Fn,ls.Ya=xa,ls.yc=ds,at=1;break t}at=0}if(!(K=at)){O.a=3;break e}if(0<Ce){if(de.ua=1<<Ce,!X(de.Wa,Ce)){O.a=1,K=0;break e}}else de.ua=0;var Bh=O,_c=Y,kp=Z,yd=Bh.s,bd=yd.xc;if(Bh.c=_c,Bh.i=kp,yd.md=He(_c,bd),yd.wc=bd==0?-1:(1<<bd)-1,C){O.xb=Pl;break e}if((xe=o(Y*Z))==null){O.a=1,K=0;break e}K=(K=la(O,xe,0,Y,Z,Z,null))&&!te.h;break e}return K?($!=null?$[0]=xe:(e(xe==null),e(C)),O.$=0,C||Ua(de)):Ua(de),K}function ca(x,N){var C=x.c*x.i,O=C+N+16*N;return e(x.c<=N),x.V=o(O),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+C+N,1)}function Wi(x,N){var C=x.C,O=N-C,$=x.V,K=x.Ba+x.c*C;for(e(N<=x.l.o);0<O;){var Y=16<O?16:O,Z=x.l.ma,te=x.l.width,de=te*Y,xe=Z.ca,Ce=Z.tb+te*C,oe=x.Ta,ve=x.Ua;Hs(x,Y,$,K),hi(oe,ve,xe,Ce,de),sr(Z,C,C+Y,xe,Ce,te),O-=Y,$+=Y*x.c,C+=Y}e(C==N),x.C=x.Ma=N}function ja(){this.ub=this.yd=this.td=this.Rb=0}function $s(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _a(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Va(){this.Yb=(function(){var x=[];return(function N(C,O,$){for(var K=$[O],Y=0;Y<K&&(C.push($.length>O+1?[]:0),!($.length<O+1));Y++)N(C[Y],O+1,$)})(x,0,[3,11]),x})()}function Cr(){this.jb=o(3),this.Wc=d([4,8],Va),this.Xc=d([4,17],Va)}function Nl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function da(){this.ld=this.La=this.dd=this.tc=0}function za(){this.Na=this.la=0}function ai(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ho(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function jl(){this.uc=this.M=this.Nb=0,this.wa=Array(new da),this.Y=0,this.ya=Array(new Ho),this.aa=0,this.l=new ks}function _l(){this.y=o(16),this.f=o(8),this.ea=o(8)}function lc(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new ja,this.Kc=new $s,this.ed=new Nl,this.Qa=new _a,this.Ic=this.$c=this.Aa=0,this.D=new jl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,q),this.ia=0,this.pb=c(4,ai),this.Pa=new Cr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _l),this.Hd=0,this.rb=Array(new za),this.sb=0,this.wa=Array(new da),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ho),this.L=this.aa=0,this.gd=d([4,2],da),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Sa(x,N){return 0>x?0:x>N?N:x}function ks(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Or(){var x=new lc;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,fi||(fi=kn)),x}function jn(x,N,C){return x.a==0&&(x.a=N,x.sc=C,x.cb=0),0}function Ki(x,N,C){return 3<=C&&x[N+0]==157&&x[N+1]==1&&x[N+2]==42}function Ba(x,N){if(x==null)return 0;if(x.a=0,x.sc="OK",N==null)return jn(x,2,"null VP8Io passed to VP8GetHeaders()");var C=N.data,O=N.w,$=N.ha;if(4>$)return jn(x,7,"Truncated header.");var K=C[O+0]|C[O+1]<<8|C[O+2]<<16,Y=x.Od;if(Y.Rb=!(1&K),Y.td=K>>1&7,Y.yd=K>>4&1,Y.ub=K>>5,3<Y.td)return jn(x,3,"Incorrect keyframe parameters.");if(!Y.yd)return jn(x,4,"Frame not displayable.");O+=3,$-=3;var Z=x.Kc;if(Y.Rb){if(7>$)return jn(x,7,"cannot parse picture header");if(!Ki(C,O,$))return jn(x,3,"Bad code word");Z.c=16383&(C[O+4]<<8|C[O+3]),Z.Td=C[O+4]>>6,Z.i=16383&(C[O+6]<<8|C[O+5]),Z.Ud=C[O+6]>>6,O+=7,$-=7,x.za=Z.c+15>>4,x.Ub=Z.i+15>>4,N.width=Z.c,N.height=Z.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,a((K=x.Pa).jb,0,255,K.jb.length),e((K=x.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,a(K.Zb,0,0,K.Zb.length),a(K.Lb,0,0,K.Lb)}if(Y.ub>$)return jn(x,7,"bad partition length");ie(K=x.m,C,O,Y.ub),O+=Y.ub,$-=Y.ub,Y.Rb&&(Z.Ld=ke(K),Z.Kd=ke(K)),Z=x.Qa;var te,de=x.Pa;if(e(K!=null),e(Z!=null),Z.Cb=ke(K),Z.Cb){if(Z.Bb=ke(K),ke(K)){for(Z.Fb=ke(K),te=0;4>te;++te)Z.Zb[te]=ke(K)?ue(K,7):0;for(te=0;4>te;++te)Z.Lb[te]=ke(K)?ue(K,6):0}if(Z.Bb)for(te=0;3>te;++te)de.jb[te]=ke(K)?ge(K,8):255}else Z.Bb=0;if(K.Ka)return jn(x,3,"cannot parse segment header");if((Z=x.ed).zd=ke(K),Z.Tb=ge(K,6),Z.wb=ge(K,3),Z.Pc=ke(K),Z.Pc&&ke(K)){for(de=0;4>de;++de)ke(K)&&(Z.vd[de]=ue(K,6));for(de=0;4>de;++de)ke(K)&&(Z.od[de]=ue(K,6))}if(x.L=Z.Tb==0?0:Z.zd?1:2,K.Ka)return jn(x,3,"cannot parse filter header");var xe=$;if($=te=O,O=te+xe,Z=xe,x.Xb=(1<<ge(x.m,2))-1,xe<3*(de=x.Xb))C=7;else{for(te+=3*de,Z-=3*de,xe=0;xe<de;++xe){var Ce=C[$+0]|C[$+1]<<8|C[$+2]<<16;Ce>Z&&(Ce=Z),ie(x.Jc[+xe],C,te,Ce),te+=Ce,Z-=Ce,$+=3}ie(x.Jc[+de],C,te,Z),C=te<O?0:5}if(C!=0)return jn(x,C,"cannot parse partitions");for(C=ge(te=x.m,7),$=ke(te)?ue(te,4):0,O=ke(te)?ue(te,4):0,Z=ke(te)?ue(te,4):0,de=ke(te)?ue(te,4):0,te=ke(te)?ue(te,4):0,xe=x.Qa,Ce=0;4>Ce;++Ce){if(xe.Cb){var oe=xe.Zb[Ce];xe.Fb||(oe+=C)}else{if(0<Ce){x.pb[Ce]=x.pb[0];continue}oe=C}var ve=x.pb[Ce];ve.Sc[0]=ki[Sa(oe+$,127)],ve.Sc[1]=Ri[Sa(oe+0,127)],ve.Eb[0]=2*ki[Sa(oe+O,127)],ve.Eb[1]=101581*Ri[Sa(oe+Z,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=ki[Sa(oe+de,117)],ve.Qc[1]=Ri[Sa(oe+te,127)],ve.lc=oe+te}if(!Y.Rb)return jn(x,4,"Not a key frame.");for(ke(K),Y=x.Pa,C=0;4>C;++C){for($=0;8>$;++$)for(O=0;3>O;++O)for(Z=0;11>Z;++Z)de=Be(K,jr[C][$][O][Z])?ge(K,8):_p[C][$][O][Z],Y.Wc[C][$].Yb[O][Z]=de;for($=0;17>$;++$)Y.Xc[C][$]=Y.Wc[C][Tn[$]]}return x.kc=ke(K),x.kc&&(x.Bd=ge(K,8)),x.cb=1}function kn(x,N,C,O,$,K,Y){var Z=N[$].Yb[C];for(C=0;16>$;++$){if(!Be(x,Z[C+0]))return $;for(;!Be(x,Z[C+1]);)if(Z=N[++$].Yb[0],C=0,$==16)return 16;var te=N[$+1].Yb;if(Be(x,Z[C+2])){var de=x,xe=0;if(Be(de,(oe=Z)[(Ce=C)+3]))if(Be(de,oe[Ce+6])){for(Z=0,Ce=2*(xe=Be(de,oe[Ce+8]))+(oe=Be(de,oe[Ce+9+xe])),xe=0,oe=jp[Ce];oe[Z];++Z)xe+=xe+Be(de,oe[Z]);xe+=3+(8<<Ce)}else Be(de,oe[Ce+7])?(xe=7+2*Be(de,165),xe+=Be(de,145)):xe=5+Be(de,159);else xe=Be(de,oe[Ce+4])?3+Be(de,oe[Ce+5]):2;Z=te[2]}else xe=1,Z=te[1];te=Y+gm[$],0>(de=x).b&&Pe(de);var Ce,oe=de.b,ve=(Ce=de.Ca>>1)-(de.I>>oe)>>31;--de.b,de.Ca+=ve,de.Ca|=1,de.I-=(Ce+1&ve)<<oe,K[te]=((xe^ve)-ve)*O[(0<$)+0]}return 16}function po(x){var N=x.rb[x.sb-1];N.la=0,N.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function Wr(x,N,C,O,$){$=x[N+C+32*O]+($>>3),x[N+C+32*O]=-256&$?0>$?0:255:$}function Nr(x,N,C,O,$,K){Wr(x,N,0,C,O+$),Wr(x,N,1,C,O+K),Wr(x,N,2,C,O-K),Wr(x,N,3,C,O-$)}function Fr(x){return(20091*x>>16)+x}function $o(x,N,C,O){var $,K=0,Y=o(16);for($=0;4>$;++$){var Z=x[N+0]+x[N+8],te=x[N+0]-x[N+8],de=(35468*x[N+4]>>16)-Fr(x[N+12]),xe=Fr(x[N+4])+(35468*x[N+12]>>16);Y[K+0]=Z+xe,Y[K+1]=te+de,Y[K+2]=te-de,Y[K+3]=Z-xe,K+=4,N++}for($=K=0;4>$;++$)Z=(x=Y[K+0]+4)+Y[K+8],te=x-Y[K+8],de=(35468*Y[K+4]>>16)-Fr(Y[K+12]),Wr(C,O,0,0,Z+(xe=Fr(Y[K+4])+(35468*Y[K+12]>>16))),Wr(C,O,1,0,te+de),Wr(C,O,2,0,te-de),Wr(C,O,3,0,Z-xe),K++,O+=32}function sd(x,N,C,O){var $=x[N+0]+4,K=35468*x[N+4]>>16,Y=Fr(x[N+4]),Z=35468*x[N+1]>>16;Nr(C,O,0,$+Y,x=Fr(x[N+1]),Z),Nr(C,O,1,$+K,x,Z),Nr(C,O,2,$-K,x,Z),Nr(C,O,3,$-Y,x,Z)}function cc(x,N,C,O,$){$o(x,N,C,O),$&&$o(x,N+16,C,O+4)}function Ws(x,N,C,O){rl(x,N+0,C,O,1),rl(x,N+32,C,O+128,1)}function dc(x,N,C,O){var $;for(x=x[N+0]+4,$=0;4>$;++$)for(N=0;4>N;++N)Wr(C,O,N,$,x)}function Yi(x,N,C,O){x[N+0]&&qn(x,N+0,C,O),x[N+16]&&qn(x,N+16,C,O+4),x[N+32]&&qn(x,N+32,C,O+128),x[N+48]&&qn(x,N+48,C,O+128+4)}function ys(x,N,C,O){var $,K=o(16);for($=0;4>$;++$){var Y=x[N+0+$]+x[N+12+$],Z=x[N+4+$]+x[N+8+$],te=x[N+4+$]-x[N+8+$],de=x[N+0+$]-x[N+12+$];K[0+$]=Y+Z,K[8+$]=Y-Z,K[4+$]=de+te,K[12+$]=de-te}for($=0;4>$;++$)Y=(x=K[0+4*$]+3)+K[3+4*$],Z=K[1+4*$]+K[2+4*$],te=K[1+4*$]-K[2+4*$],de=x-K[3+4*$],C[O+0]=Y+Z>>3,C[O+16]=de+te>>3,C[O+32]=Y-Z>>3,C[O+48]=de-te>>3,O+=64}function xo(x,N,C){var O,$=N-32,K=ma,Y=255-x[$-1];for(O=0;O<C;++O){var Z,te=K,de=Y+x[N-1];for(Z=0;Z<C;++Z)x[N+Z]=te[de+x[$+Z]];N+=32}}function uc(x,N){xo(x,N,4)}function hc(x,N){xo(x,N,8)}function Sl(x,N){xo(x,N,16)}function El(x,N){var C;for(C=0;16>C;++C)s(x,N+32*C,x,N-32,16)}function Xi(x,N){var C;for(C=16;0<C;--C)a(x,N,x[N-1],16),N+=32}function ua(x,N,C){var O;for(O=0;16>O;++O)a(N,C+32*O,x,16)}function ii(x,N){var C,O=16;for(C=0;16>C;++C)O+=x[N-1+32*C]+x[N+C-32];ua(O>>5,x,N)}function Qi(x,N){var C,O=8;for(C=0;16>C;++C)O+=x[N-1+32*C];ua(O>>4,x,N)}function ha(x,N){var C,O=8;for(C=0;16>C;++C)O+=x[N+C-32];ua(O>>4,x,N)}function yo(x,N){ua(128,x,N)}function Mt(x,N,C){return x+2*N+C+2>>2}function Wo(x,N){var C,O=N-32;for(O=new Uint8Array([Mt(x[O-1],x[O+0],x[O+1]),Mt(x[O+0],x[O+1],x[O+2]),Mt(x[O+1],x[O+2],x[O+3]),Mt(x[O+2],x[O+3],x[O+4])]),C=0;4>C;++C)s(x,N+32*C,O,0,O.length)}function Al(x,N){var C=x[N-1],O=x[N-1+32],$=x[N-1+64],K=x[N-1+96];Ze(x,N+0,16843009*Mt(x[N-1-32],C,O)),Ze(x,N+32,16843009*Mt(C,O,$)),Ze(x,N+64,16843009*Mt(O,$,K)),Ze(x,N+96,16843009*Mt($,K,K))}function bo(x,N){var C,O=4;for(C=0;4>C;++C)O+=x[N+C-32]+x[N-1+32*C];for(O>>=3,C=0;4>C;++C)a(x,N+32*C,O,4)}function bs(x,N){var C=x[N-1+0],O=x[N-1+32],$=x[N-1+64],K=x[N-1-32],Y=x[N+0-32],Z=x[N+1-32],te=x[N+2-32],de=x[N+3-32];x[N+0+96]=Mt(O,$,x[N-1+96]),x[N+1+96]=x[N+0+64]=Mt(C,O,$),x[N+2+96]=x[N+1+64]=x[N+0+32]=Mt(K,C,O),x[N+3+96]=x[N+2+64]=x[N+1+32]=x[N+0+0]=Mt(Y,K,C),x[N+3+64]=x[N+2+32]=x[N+1+0]=Mt(Z,Y,K),x[N+3+32]=x[N+2+0]=Mt(te,Z,Y),x[N+3+0]=Mt(de,te,Z)}function is(x,N){var C=x[N+1-32],O=x[N+2-32],$=x[N+3-32],K=x[N+4-32],Y=x[N+5-32],Z=x[N+6-32],te=x[N+7-32];x[N+0+0]=Mt(x[N+0-32],C,O),x[N+1+0]=x[N+0+32]=Mt(C,O,$),x[N+2+0]=x[N+1+32]=x[N+0+64]=Mt(O,$,K),x[N+3+0]=x[N+2+32]=x[N+1+64]=x[N+0+96]=Mt($,K,Y),x[N+3+32]=x[N+2+64]=x[N+1+96]=Mt(K,Y,Z),x[N+3+64]=x[N+2+96]=Mt(Y,Z,te),x[N+3+96]=Mt(Z,te,te)}function Ko(x,N){var C=x[N-1+0],O=x[N-1+32],$=x[N-1+64],K=x[N-1-32],Y=x[N+0-32],Z=x[N+1-32],te=x[N+2-32],de=x[N+3-32];x[N+0+0]=x[N+1+64]=K+Y+1>>1,x[N+1+0]=x[N+2+64]=Y+Z+1>>1,x[N+2+0]=x[N+3+64]=Z+te+1>>1,x[N+3+0]=te+de+1>>1,x[N+0+96]=Mt($,O,C),x[N+0+64]=Mt(O,C,K),x[N+0+32]=x[N+1+96]=Mt(C,K,Y),x[N+1+32]=x[N+2+96]=Mt(K,Y,Z),x[N+2+32]=x[N+3+96]=Mt(Y,Z,te),x[N+3+32]=Mt(Z,te,de)}function Wn(x,N){var C=x[N+0-32],O=x[N+1-32],$=x[N+2-32],K=x[N+3-32],Y=x[N+4-32],Z=x[N+5-32],te=x[N+6-32],de=x[N+7-32];x[N+0+0]=C+O+1>>1,x[N+1+0]=x[N+0+64]=O+$+1>>1,x[N+2+0]=x[N+1+64]=$+K+1>>1,x[N+3+0]=x[N+2+64]=K+Y+1>>1,x[N+0+32]=Mt(C,O,$),x[N+1+32]=x[N+0+96]=Mt(O,$,K),x[N+2+32]=x[N+1+96]=Mt($,K,Y),x[N+3+32]=x[N+2+96]=Mt(K,Y,Z),x[N+3+64]=Mt(Y,Z,te),x[N+3+96]=Mt(Z,te,de)}function Ea(x,N){var C=x[N-1+0],O=x[N-1+32],$=x[N-1+64],K=x[N-1+96];x[N+0+0]=C+O+1>>1,x[N+2+0]=x[N+0+32]=O+$+1>>1,x[N+2+32]=x[N+0+64]=$+K+1>>1,x[N+1+0]=Mt(C,O,$),x[N+3+0]=x[N+1+32]=Mt(O,$,K),x[N+3+32]=x[N+1+64]=Mt($,K,K),x[N+3+64]=x[N+2+64]=x[N+0+96]=x[N+1+96]=x[N+2+96]=x[N+3+96]=K}function Yo(x,N){var C=x[N-1+0],O=x[N-1+32],$=x[N-1+64],K=x[N-1+96],Y=x[N-1-32],Z=x[N+0-32],te=x[N+1-32],de=x[N+2-32];x[N+0+0]=x[N+2+32]=C+Y+1>>1,x[N+0+32]=x[N+2+64]=O+C+1>>1,x[N+0+64]=x[N+2+96]=$+O+1>>1,x[N+0+96]=K+$+1>>1,x[N+3+0]=Mt(Z,te,de),x[N+2+0]=Mt(Y,Z,te),x[N+1+0]=x[N+3+32]=Mt(C,Y,Z),x[N+1+32]=x[N+3+64]=Mt(O,C,Y),x[N+1+64]=x[N+3+96]=Mt($,O,C),x[N+1+96]=Mt(K,$,O)}function oi(x,N){var C;for(C=0;8>C;++C)s(x,N+32*C,x,N-32,8)}function fc(x,N){var C;for(C=0;8>C;++C)a(x,N,x[N-1],8),N+=32}function Aa(x,N,C){var O;for(O=0;8>O;++O)a(N,C+32*O,x,8)}function Ji(x,N){var C,O=8;for(C=0;8>C;++C)O+=x[N+C-32]+x[N-1+32*C];Aa(O>>4,x,N)}function Ta(x,N){var C,O=4;for(C=0;8>C;++C)O+=x[N+C-32];Aa(O>>3,x,N)}function Kr(x,N){var C,O=4;for(C=0;8>C;++C)O+=x[N-1+32*C];Aa(O>>3,x,N)}function vi(x,N){Aa(128,x,N)}function Rs(x,N,C){var O=x[N-C],$=x[N+0],K=3*($-O)+sl[1020+x[N-2*C]-x[N+C]],Y=Nu[112+(K+4>>3)];x[N-C]=ma[255+O+Nu[112+(K+3>>3)]],x[N+0]=ma[255+$-Y]}function wi(x,N,C,O){var $=x[N+0],K=x[N+C];return Qs[255+x[N-2*C]-x[N-C]]>O||Qs[255+K-$]>O}function vo(x,N,C,O){return 4*Qs[255+x[N-C]-x[N+0]]+Qs[255+x[N-2*C]-x[N+C]]<=O}function Ni(x,N,C,O,$){var K=x[N-3*C],Y=x[N-2*C],Z=x[N-C],te=x[N+0],de=x[N+C],xe=x[N+2*C],Ce=x[N+3*C];return 4*Qs[255+Z-te]+Qs[255+Y-de]>O?0:Qs[255+x[N-4*C]-K]<=$&&Qs[255+K-Y]<=$&&Qs[255+Y-Z]<=$&&Qs[255+Ce-xe]<=$&&Qs[255+xe-de]<=$&&Qs[255+de-te]<=$}function ji(x,N,C,O){var $=2*O+1;for(O=0;16>O;++O)vo(x,N+O,C,$)&&Rs(x,N+O,C)}function qa(x,N,C,O){var $=2*O+1;for(O=0;16>O;++O)vo(x,N+O*C,1,$)&&Rs(x,N+O*C,1)}function Xo(x,N,C,O){var $;for($=3;0<$;--$)ji(x,N+=4*C,C,O)}function Tl(x,N,C,O){var $;for($=3;0<$;--$)qa(x,N+=4,C,O)}function Ca(x,N,C,O,$,K,Y,Z){for(K=2*K+1;0<$--;){if(Ni(x,N,C,K,Y))if(wi(x,N,C,Z))Rs(x,N,C);else{var te=x,de=N,xe=C,Ce=te[de-2*xe],oe=te[de-xe],ve=te[de+0],Ee=te[de+xe],Fe=te[de+2*xe],Ae=27*($e=sl[1020+3*(ve-oe)+sl[1020+Ce-Ee]])+63>>7,Oe=18*$e+63>>7,$e=9*$e+63>>7;te[de-3*xe]=ma[255+te[de-3*xe]+$e],te[de-2*xe]=ma[255+Ce+Oe],te[de-xe]=ma[255+oe+Ae],te[de+0]=ma[255+ve-Ae],te[de+xe]=ma[255+Ee-Oe],te[de+2*xe]=ma[255+Fe-$e]}N+=O}}function _i(x,N,C,O,$,K,Y,Z){for(K=2*K+1;0<$--;){if(Ni(x,N,C,K,Y))if(wi(x,N,C,Z))Rs(x,N,C);else{var te=x,de=N,xe=C,Ce=te[de-xe],oe=te[de+0],ve=te[de+xe],Ee=Nu[112+(4+(Fe=3*(oe-Ce))>>3)],Fe=Nu[112+(Fe+3>>3)],Ae=Ee+1>>1;te[de-2*xe]=ma[255+te[de-2*xe]+Ae],te[de-xe]=ma[255+Ce+Fe],te[de+0]=ma[255+oe-Ee],te[de+xe]=ma[255+ve-Ae]}N+=O}}function mc(x,N,C,O,$,K){Ca(x,N,C,1,16,O,$,K)}function li(x,N,C,O,$,K){Ca(x,N,1,C,16,O,$,K)}function Cl(x,N,C,O,$,K){var Y;for(Y=3;0<Y;--Y)_i(x,N+=4*C,C,1,16,O,$,K)}function A(x,N,C,O,$,K){var Y;for(Y=3;0<Y;--Y)_i(x,N+=4,1,C,16,O,$,K)}function H(x,N,C,O,$,K,Y,Z){Ca(x,N,$,1,8,K,Y,Z),Ca(C,O,$,1,8,K,Y,Z)}function ce(x,N,C,O,$,K,Y,Z){Ca(x,N,1,$,8,K,Y,Z),Ca(C,O,1,$,8,K,Y,Z)}function pe(x,N,C,O,$,K,Y,Z){_i(x,N+4*$,$,1,8,K,Y,Z),_i(C,O+4*$,$,1,8,K,Y,Z)}function we(x,N,C,O,$,K,Y,Z){_i(x,N+4,1,$,8,K,Y,Z),_i(C,O+4,1,$,8,K,Y,Z)}function qe(){this.ba=new Tt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new yn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function mt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function yt(){this.ua=0,this.Wa=new Wt,this.vb=new Wt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ne,this.yc=new V}function Ut(){this.xb=this.a=0,this.l=new ks,this.ca=new Tt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new yt,this.ab=0,this.gc=c(4,mt),this.Oc=0}function kt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ks,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function En(x,N,C,O,$,K,Y){for(x=x==null?0:x[N+0],N=0;N<Y;++N)$[K+N]=x+C[O+N]&255,x=$[K+N]}function mr(x,N,C,O,$,K,Y){var Z;if(x==null)En(null,null,C,O,$,K,Y);else for(Z=0;Z<Y;++Z)$[K+Z]=x[N+Z]+C[O+Z]&255}function rr(x,N,C,O,$,K,Y){if(x==null)En(null,null,C,O,$,K,Y);else{var Z,te=x[N+0],de=te,xe=te;for(Z=0;Z<Y;++Z)de=xe+(te=x[N+Z])-de,xe=C[O+Z]+(-256&de?0>de?0:255:de)&255,de=te,$[K+Z]=xe}}function y(x,N,C,O){var $=N.width,K=N.o;if(e(x!=null&&N!=null),0>C||0>=O||C+O>K)return null;if(!x.Cc){if(x.ga==null){var Y;if(x.ga=new kt,(Y=x.ga==null)||(Y=N.width*N.o,e(x.Gb.length==0),x.Gb=o(Y),x.Uc=0,x.Gb==null?Y=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,Y=1),Y=!Y),!Y){Y=x.ga;var Z=x.Fa,te=x.P,de=x.qc,xe=x.mb,Ce=x.nb,oe=te+1,ve=de-1,Ee=Y.l;if(e(Z!=null&&xe!=null&&N!=null),al[0]=null,al[1]=En,al[2]=mr,al[3]=rr,Y.ca=xe,Y.tb=Ce,Y.c=N.width,Y.i=N.height,e(0<Y.c&&0<Y.i),1>=de)N=0;else if(Y.$a=3&Z[te+0],Y.Z=Z[te+0]>>2&3,Y.Lc=Z[te+0]>>4&3,te=Z[te+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||te)N=0;else if(Ee.put=It,Ee.ac=xs,Ee.bc=$i,Ee.ma=Y,Ee.width=N.width,Ee.height=N.height,Ee.Da=N.Da,Ee.v=N.v,Ee.va=N.va,Ee.j=N.j,Ee.o=N.o,Y.$a)e:{e(Y.$a==1),N=go();t:for(;;){if(N==null){N=0;break e}if(e(Y!=null),Y.mc=N,N.c=Y.c,N.i=Y.i,N.l=Y.l,N.l.ma=Y,N.l.width=Y.c,N.l.height=Y.i,N.a=0,je(N.m,Z,oe,ve),!si(Y.c,Y.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&$n(N.s)?(Y.ic=1,Z=N.c*N.i,N.Ta=null,N.Ua=0,N.V=o(Z),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(Y.ic=0,N=ca(N,Y.c)),!N))break t;N=1;break e}Y.mc=null,N=0}else N=ve>=Y.c*Y.i;Y=!N}if(Y)return null;x.ga.Lc!=1?x.Ga=0:O=K-C}e(x.ga!=null),e(C+O<=K);e:{if(N=(Z=x.ga).c,K=Z.l.o,Z.$a==0){if(oe=x.rc,ve=x.Vc,Ee=x.Fa,te=x.P+1+C*N,de=x.mb,xe=x.nb+C*N,e(te<=x.P+x.qc),Z.Z!=0)for(e(al[Z.Z]!=null),Y=0;Y<O;++Y)al[Z.Z](oe,ve,Ee,te,de,xe,N),oe=de,ve=xe,xe+=N,te+=N;else for(Y=0;Y<O;++Y)s(de,xe,Ee,te,N),oe=de,ve=xe,xe+=N,te+=N;x.rc=oe,x.Vc=ve}else{if(e(Z.mc!=null),N=C+O,e((Y=Z.mc)!=null),e(N<=Y.i),Y.C>=N)N=1;else if(Z.ic||Le(),Z.ic){Z=Y.V,oe=Y.Ba,ve=Y.c;var Fe=Y.i,Ae=(Ee=1,te=Y.$/ve,de=Y.$%ve,xe=Y.m,Ce=Y.s,Y.$),Oe=ve*Fe,$e=ve*N,et=Ce.wc,Xe=Ae<$e?ss(Ce,de,te):null;e(Ae<=Oe),e(N<=Fe),e($n(Ce));t:for(;;){for(;!xe.h&&Ae<$e;){if(de&et||(Xe=ss(Ce,de,te)),e(Xe!=null),be(xe),256>(Fe=nr(Xe.G[0],Xe.H[0],xe)))Z[oe+Ae]=Fe,++Ae,++de>=ve&&(de=0,++te<=N&&!(te%16)&&as(Y,te));else{if(!(280>Fe)){Ee=0;break t}Fe=ia(Fe-256,xe);var bt,ut=nr(Xe.G[4],Xe.H[4],xe);if(be(xe),!(Ae>=(ut=oa(ve,ut=ia(ut,xe)))&&Oe-Ae>=Fe)){Ee=0;break t}for(bt=0;bt<Fe;++bt)Z[oe+Ae+bt]=Z[oe+Ae+bt-ut];for(Ae+=Fe,de+=Fe;de>=ve;)de-=ve,++te<=N&&!(te%16)&&as(Y,te);Ae<$e&&de&et&&(Xe=ss(Ce,de,te))}e(xe.h==he(xe))}as(Y,te>N?N:te);break t}!Ee||xe.h&&Ae<Oe?(Ee=0,Y.a=xe.h?5:3):Y.$=Ae,N=Ee}else N=la(Y,Y.V,Y.Ba,Y.c,Y.i,N,Wi);if(!N){O=0;break e}}C+O>=K&&(x.Cc=1),O=1}if(!O)return null;if(x.Cc&&((O=x.ga)!=null&&(O.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+C*$}function R(x,N,C,O,$,K){for(;0<$--;){var Y,Z=x,te=N+(C?1:0),de=x,xe=N+(C?0:3);for(Y=0;Y<O;++Y){var Ce=de[xe+4*Y];Ce!=255&&(Ce*=32897,Z[te+4*Y+0]=Z[te+4*Y+0]*Ce>>23,Z[te+4*Y+1]=Z[te+4*Y+1]*Ce>>23,Z[te+4*Y+2]=Z[te+4*Y+2]*Ce>>23)}N+=K}}function B(x,N,C,O,$){for(;0<O--;){var K;for(K=0;K<C;++K){var Y=x[N+2*K+0],Z=15&(de=x[N+2*K+1]),te=4369*Z,de=(240&de|de>>4)*te>>16;x[N+2*K+0]=(240&Y|Y>>4)*te>>16&240|(15&Y|Y<<4)*te>>16>>4&15,x[N+2*K+1]=240&de|Z}N+=$}}function ee(x,N,C,O,$,K,Y,Z){var te,de,xe=255;for(de=0;de<$;++de){for(te=0;te<O;++te){var Ce=x[N+te];K[Y+4*te]=Ce,xe&=Ce}N+=C,Y+=Z}return xe!=255}function Se(x,N,C,O,$){var K;for(K=0;K<$;++K)C[O+K]=x[N+K]>>8}function Le(){xc=R,Ei=B,bu=ee,hi=Se}function nt(x,N,C){I[x]=function(O,$,K,Y,Z,te,de,xe,Ce,oe,ve,Ee,Fe,Ae,Oe,$e,et){var Xe,bt=et-1>>1,ut=Z[te+0]|de[xe+0]<<16,nn=Ce[oe+0]|ve[Ee+0]<<16;e(O!=null);var gt=3*ut+nn+131074>>2;for(N(O[$+0],255&gt,gt>>16,Fe,Ae),K!=null&&(gt=3*nn+ut+131074>>2,N(K[Y+0],255&gt,gt>>16,Oe,$e)),Xe=1;Xe<=bt;++Xe){var An=Z[te+Xe]|de[xe+Xe]<<16,_r=Ce[oe+Xe]|ve[Ee+Xe]<<16,hn=ut+An+nn+_r+524296,ht=hn+2*(An+nn)>>3;gt=ht+ut>>1,ut=(hn=hn+2*(ut+_r)>>3)+An>>1,N(O[$+2*Xe-1],255&gt,gt>>16,Fe,Ae+(2*Xe-1)*C),N(O[$+2*Xe-0],255&ut,ut>>16,Fe,Ae+(2*Xe-0)*C),K!=null&&(gt=hn+nn>>1,ut=ht+_r>>1,N(K[Y+2*Xe-1],255&gt,gt>>16,Oe,$e+(2*Xe-1)*C),N(K[Y+2*Xe+0],255&ut,ut>>16,Oe,$e+(2*Xe+0)*C)),ut=An,nn=_r}1&et||(gt=3*ut+nn+131074>>2,N(O[$+et-1],255&gt,gt>>16,Fe,Ae+(et-1)*C),K!=null&&(gt=3*nn+ut+131074>>2,N(K[Y+et-1],255&gt,gt>>16,Oe,$e+(et-1)*C)))}}function en(){Zs[_h]=vc,Zs[ga]=fd,Zs[Sh]=xm,Zs[Ai]=Ih,Zs[ju]=Ll,Zs[dd]=Co,Zs[kl]=Dl,Zs[_u]=fd,Zs[Eh]=Ih,Zs[ud]=Ll,Zs[Ah]=Co}function gr(x){return x&-16384?0>x?0:255:x>>kh}function vn(x,N){return gr((19077*x>>8)+(26149*N>>8)-14234)}function Kn(x,N,C){return gr((19077*x>>8)-(6419*N>>8)-(13320*C>>8)+8708)}function Ps(x,N){return gr((19077*x>>8)+(33050*N>>8)-17685)}function Ks(x,N,C,O,$){O[$+0]=vn(x,C),O[$+1]=Kn(x,N,C),O[$+2]=Ps(x,N)}function ar(x,N,C,O,$){O[$+0]=Ps(x,N),O[$+1]=Kn(x,N,C),O[$+2]=vn(x,C)}function Ys(x,N,C,O,$){var K=Kn(x,N,C);N=K<<3&224|Ps(x,N)>>3,O[$+0]=248&vn(x,C)|K>>5,O[$+1]=N}function ci(x,N,C,O,$){var K=240&Ps(x,N)|15;O[$+0]=240&vn(x,C)|Kn(x,N,C)>>4,O[$+1]=K}function wo(x,N,C,O,$){O[$+0]=255,Ks(x,N,C,O,$+1)}function No(x,N,C,O,$){ar(x,N,C,O,$),O[$+3]=255}function Ia(x,N,C,O,$){Ks(x,N,C,O,$),O[$+3]=255}function Qo(x,N,C){I[x]=function(O,$,K,Y,Z,te,de,xe,Ce){for(var oe=xe+(-2&Ce)*C;xe!=oe;)N(O[$+0],K[Y+0],Z[te+0],de,xe),N(O[$+1],K[Y+0],Z[te+0],de,xe+C),$+=2,++Y,++te,xe+=2*C;1&Ce&&N(O[$+0],K[Y+0],Z[te+0],de,xe)}}function ad(x,N,C){return C==0?x==0?N==0?6:5:N==0?4:0:C}function pu(x,N,C,O,$){switch(x>>>30){case 3:rl(N,C,O,$,0);break;case 2:fa(N,C,O,$);break;case 1:qn(N,C,O,$)}}function di(x,N){var C,O,$=N.M,K=N.Nb,Y=x.oc,Z=x.pc+40,te=x.oc,de=x.pc+584,xe=x.oc,Ce=x.pc+600;for(C=0;16>C;++C)Y[Z+32*C-1]=129;for(C=0;8>C;++C)te[de+32*C-1]=129,xe[Ce+32*C-1]=129;for(0<$?Y[Z-1-32]=te[de-1-32]=xe[Ce-1-32]=129:(a(Y,Z-32-1,127,21),a(te,de-32-1,127,9),a(xe,Ce-32-1,127,9)),O=0;O<x.za;++O){var oe=N.ya[N.aa+O];if(0<O){for(C=-1;16>C;++C)s(Y,Z+32*C-4,Y,Z+32*C+12,4);for(C=-1;8>C;++C)s(te,de+32*C-4,te,de+32*C+4,4),s(xe,Ce+32*C-4,xe,Ce+32*C+4,4)}var ve=x.Gd,Ee=x.Hd+O,Fe=oe.ad,Ae=oe.Hc;if(0<$&&(s(Y,Z-32,ve[Ee].y,0,16),s(te,de-32,ve[Ee].f,0,8),s(xe,Ce-32,ve[Ee].ea,0,8)),oe.Za){var Oe=Y,$e=Z-32+16;for(0<$&&(O>=x.za-1?a(Oe,$e,ve[Ee].y[15],4):s(Oe,$e,ve[Ee+1].y,0,4)),C=0;4>C;C++)Oe[$e+128+C]=Oe[$e+256+C]=Oe[$e+384+C]=Oe[$e+0+C];for(C=0;16>C;++C,Ae<<=2)Oe=Y,$e=Z+Qr[C],Ur[oe.Ob[C]](Oe,$e),pu(Ae,Fe,16*+C,Oe,$e)}else if(Oe=ad(O,$,oe.Ob[0]),Ra[Oe](Y,Z),Ae!=0)for(C=0;16>C;++C,Ae<<=2)pu(Ae,Fe,16*+C,Y,Z+Qr[C]);for(C=oe.Gc,Oe=ad(O,$,oe.Dd),no[Oe](te,de),no[Oe](xe,Ce),Ae=Fe,Oe=te,$e=de,255&(oe=0|C)&&(170&oe?Si(Ae,256,Oe,$e):Mn(Ae,256,Oe,$e)),oe=xe,Ae=Ce,255&(C>>=8)&&(170&C?Si(Fe,320,oe,Ae):Mn(Fe,320,oe,Ae)),$<x.Ub-1&&(s(ve[Ee].y,0,Y,Z+480,16),s(ve[Ee].f,0,te,de+224,8),s(ve[Ee].ea,0,xe,Ce+224,8)),C=8*K*x.B,ve=x.sa,Ee=x.ta+16*O+16*K*x.R,Fe=x.qa,oe=x.ra+8*O+C,Ae=x.Ha,Oe=x.Ia+8*O+C,C=0;16>C;++C)s(ve,Ee+C*x.R,Y,Z+32*C,16);for(C=0;8>C;++C)s(Fe,oe+C*x.B,te,de+32*C,8),s(Ae,Oe+C*x.B,xe,Ce+32*C,8)}}function Zi(x,N,C,O,$,K,Y,Z,te){var de=[0],xe=[0],Ce=0,oe=te!=null?te.kd:0,ve=te??new Qe;if(x==null||12>C)return 7;ve.data=x,ve.w=N,ve.ha=C,N=[N],C=[C],ve.gb=[ve.gb];e:{var Ee=N,Fe=C,Ae=ve.gb;if(e(x!=null),e(Fe!=null),e(Ae!=null),Ae[0]=0,12<=Fe[0]&&!t(x,Ee[0],"RIFF")){if(t(x,Ee[0]+8,"WEBP")){Ae=3;break e}var Oe=Ve(x,Ee[0]+4);if(12>Oe||4294967286<Oe){Ae=3;break e}if(oe&&Oe>Fe[0]-8){Ae=7;break e}Ae[0]=Oe,Ee[0]+=12,Fe[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Oe=0<ve.gb[0],C=C[0];;){e:{var $e=x;Fe=N,Ae=C;var et=de,Xe=xe,bt=Ee=[0];if((gt=Ce=[Ce])[0]=0,8>Ae[0])Ae=7;else{if(!t($e,Fe[0],"VP8X")){if(Ve($e,Fe[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var ut=Ve($e,Fe[0]+8),nn=1+it($e,Fe[0]+12);if(2147483648<=nn*($e=1+it($e,Fe[0]+15))){Ae=3;break e}bt!=null&&(bt[0]=ut),et!=null&&(et[0]=nn),Xe!=null&&(Xe[0]=$e),Fe[0]+=18,Ae[0]-=18,gt[0]=1}Ae=0}}if(Ce=Ce[0],Ee=Ee[0],Ae!=0)return Ae;if(Fe=!!(2&Ee),!Oe&&Ce)return 3;if(K!=null&&(K[0]=!!(16&Ee)),Y!=null&&(Y[0]=Fe),Z!=null&&(Z[0]=0),Y=de[0],Ee=xe[0],Ce&&Fe&&te==null){Ae=0;break}if(4>C){Ae=7;break}if(Oe&&Ce||!Oe&&!Ce&&!t(x,N[0],"ALPH")){C=[C],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{ut=x,Ae=N,Oe=C;var gt=ve.gb;et=ve.na,Xe=ve.P,bt=ve.Sa,nn=22,e(ut!=null),e(Oe!=null),$e=Ae[0];var An=Oe[0];for(e(et!=null),e(bt!=null),et[0]=null,Xe[0]=null,bt[0]=0;;){if(Ae[0]=$e,Oe[0]=An,8>An){Ae=7;break e}var _r=Ve(ut,$e+4);if(4294967286<_r){Ae=3;break e}var hn=8+_r+1&-2;if(nn+=hn,0<gt&&nn>gt){Ae=3;break e}if(!t(ut,$e,"VP8 ")||!t(ut,$e,"VP8L")){Ae=0;break e}if(An[0]<hn){Ae=7;break e}t(ut,$e,"ALPH")||(et[0]=ut,Xe[0]=$e+8,bt[0]=_r),$e+=hn,An-=hn}}if(C=C[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Ae!=0)break}C=[C],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(gt=x,Ae=N,Oe=C,et=ve.gb[0],Xe=ve.Ja,bt=ve.xa,ut=Ae[0],$e=!t(gt,ut,"VP8 "),nn=!t(gt,ut,"VP8L"),e(gt!=null),e(Oe!=null),e(Xe!=null),e(bt!=null),8>Oe[0])Ae=7;else{if($e||nn){if(gt=Ve(gt,ut+4),12<=et&&gt>et-12){Ae=3;break e}if(oe&&gt>Oe[0]-8){Ae=7;break e}Xe[0]=gt,Ae[0]+=8,Oe[0]-=8,bt[0]=nn}else bt[0]=5<=Oe[0]&&gt[ut+0]==47&&!(gt[ut+4]>>5),Xe[0]=Oe[0];Ae=0}if(C=C[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],N=N[0],Ae!=0)break;if(4294967286<ve.Ja)return 3;if(Z==null||Fe||(Z[0]=ve.xa?2:1),Y=[Y],Ee=[Ee],ve.xa){if(5>C){Ae=7;break}Z=Y,oe=Ee,Fe=K,x==null||5>C?x=0:5<=C&&x[N+0]==47&&!(x[N+4]>>5)?(Oe=[0],gt=[0],et=[0],je(Xe=new J,x,N,C),Na(Xe,Oe,gt,et)?(Z!=null&&(Z[0]=Oe[0]),oe!=null&&(oe[0]=gt[0]),Fe!=null&&(Fe[0]=et[0]),x=1):x=0):x=0}else{if(10>C){Ae=7;break}Z=Ee,x==null||10>C||!Ki(x,N+3,C-3)?x=0:(oe=x[N+0]|x[N+1]<<8|x[N+2]<<16,Fe=16383&(x[N+7]<<8|x[N+6]),x=16383&(x[N+9]<<8|x[N+8]),1&oe||3<(oe>>1&7)||!(oe>>4&1)||oe>>5>=ve.Ja||!Fe||!x?x=0:(Y&&(Y[0]=Fe),Z&&(Z[0]=x),x=1))}if(!x||(Y=Y[0],Ee=Ee[0],Ce&&(de[0]!=Y||xe[0]!=Ee)))return 3;te!=null&&(te[0]=ve,te.offset=N-te.w,e(4294967286>N-te.w),e(te.offset==te.ha-C));break}return Ae==0||Ae==7&&Ce&&te==null?(K!=null&&(K[0]|=ve.na!=null&&0<ve.na.length),O!=null&&(O[0]=Y),$!=null&&($[0]=Ee),0):Ae}function Jo(x,N,C){var O=N.width,$=N.height,K=0,Y=0,Z=O,te=$;if(N.Da=x!=null&&0<x.Da,N.Da&&(Z=x.cd,te=x.bd,K=x.v,Y=x.j,11>C||(K&=-2,Y&=-2),0>K||0>Y||0>=Z||0>=te||K+Z>O||Y+te>$))return 0;if(N.v=K,N.j=Y,N.va=K+Z,N.o=Y+te,N.U=Z,N.T=te,N.da=x!=null&&0<x.da,N.da){if(!Et(Z,te,C=[x.ib],K=[x.hb]))return 0;N.ib=C[0],N.hb=K[0]}return N.ob=x!=null&&x.ob,N.Kb=x==null||!x.Sd,N.da&&(N.ob=N.ib<3*O/4&&N.hb<3*$/4,N.Kb=0),1}function xu(x){if(x==null)return 2;if(11>x.S){var N=x.f.RGBA;N.fb+=(x.height-1)*N.A,N.A=-N.A}else N=x.f.kb,x=x.height,N.O+=(x-1)*N.fa,N.fa=-N.fa,N.N+=(x-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(x-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(x-1)*N.lb,N.lb=-N.lb);return 0}function eo(x,N,C,O){if(O==null||0>=x||0>=N)return 2;if(C!=null){if(C.Da){var $=C.cd,K=C.bd,Y=-2&C.v,Z=-2&C.j;if(0>Y||0>Z||0>=$||0>=K||Y+$>x||Z+K>N)return 2;x=$,N=K}if(C.da){if(!Et(x,N,$=[C.ib],K=[C.hb]))return 2;x=$[0],N=K[0]}}O.width=x,O.height=N;e:{var te=O.width,de=O.height;if(x=O.S,0>=te||0>=de||!(x>=_h&&13>x))x=2;else{if(0>=O.Rd&&O.sd==null){Y=K=$=N=0;var xe=(Z=te*Ph[x])*de;if(11>x||(K=(de+1)/2*(N=(te+1)/2),x==12&&(Y=($=te)*de)),(de=o(xe+2*K+Y))==null){x=1;break e}O.sd=de,11>x?((te=O.f.RGBA).eb=de,te.fb=0,te.A=Z,te.size=xe):((te=O.f.kb).y=de,te.O=0,te.fa=Z,te.Fd=xe,te.f=de,te.N=0+xe,te.Ab=N,te.Cd=K,te.ea=de,te.W=0+xe+K,te.Db=N,te.Ed=K,x==12&&(te.F=de,te.J=0+xe+2*K),te.Tc=Y,te.lb=$)}if(N=1,$=O.S,K=O.width,Y=O.height,$>=_h&&13>$)if(11>$)x=O.f.RGBA,N&=(Z=Math.abs(x.A))*(Y-1)+K<=x.size,N&=Z>=K*Ph[$],N&=x.eb!=null;else{x=O.f.kb,Z=(K+1)/2,xe=(Y+1)/2,te=Math.abs(x.fa),de=Math.abs(x.Ab);var Ce=Math.abs(x.Db),oe=Math.abs(x.lb),ve=oe*(Y-1)+K;N&=te*(Y-1)+K<=x.Fd,N&=de*(xe-1)+Z<=x.Cd,N=(N&=Ce*(xe-1)+Z<=x.Ed)&te>=K&de>=Z&Ce>=Z,N&=x.y!=null,N&=x.f!=null,N&=x.ea!=null,$==12&&(N&=oe>=K,N&=ve<=x.Tc,N&=x.F!=null)}else N=0;x=N?0:2}}return x!=0||C!=null&&C.fd&&(x=xu(O)),x}var Il=64,Ga=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ka=24,jo=32,_o=8,Zo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ct("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(x){return x},I.Predictor2=function(x,N,C){return N[C+0]},I.Predictor3=function(x,N,C){return N[C+1]},I.Predictor4=function(x,N,C){return N[C-1]},I.Predictor5=function(x,N,C){return At(At(x,N[C+1]),N[C+0])},I.Predictor6=function(x,N,C){return At(x,N[C-1])},I.Predictor7=function(x,N,C){return At(x,N[C+0])},I.Predictor8=function(x,N,C){return At(N[C-1],N[C+0])},I.Predictor9=function(x,N,C){return At(N[C+0],N[C+1])},I.Predictor10=function(x,N,C){return At(At(x,N[C-1]),At(N[C+0],N[C+1]))},I.Predictor11=function(x,N,C){var O=N[C+0];return 0>=Jt(O>>24&255,x>>24&255,(N=N[C-1])>>24&255)+Jt(O>>16&255,x>>16&255,N>>16&255)+Jt(O>>8&255,x>>8&255,N>>8&255)+Jt(255&O,255&x,255&N)?O:x},I.Predictor12=function(x,N,C){var O=N[C+0];return(sn((x>>24&255)+(O>>24&255)-((N=N[C-1])>>24&255))<<24|sn((x>>16&255)+(O>>16&255)-(N>>16&255))<<16|sn((x>>8&255)+(O>>8&255)-(N>>8&255))<<8|sn((255&x)+(255&O)-(255&N)))>>>0},I.Predictor13=function(x,N,C){var O=N[C-1];return(un((x=At(x,N[C+0]))>>24&255,O>>24&255)<<24|un(x>>16&255,O>>16&255)<<16|un(x>>8&255,O>>8&255)<<8|un(255&x,255&O))>>>0};var id=I.PredictorAdd0;I.PredictorAdd1=xn,ct("Predictor2","PredictorAdd2"),ct("Predictor3","PredictorAdd3"),ct("Predictor4","PredictorAdd4"),ct("Predictor5","PredictorAdd5"),ct("Predictor6","PredictorAdd6"),ct("Predictor7","PredictorAdd7"),ct("Predictor8","PredictorAdd8"),ct("Predictor9","PredictorAdd9"),ct("Predictor10","PredictorAdd10"),ct("Predictor11","PredictorAdd11"),ct("Predictor12","PredictorAdd12"),ct("Predictor13","PredictorAdd13");var od=I.PredictorAdd2;jt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),jt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var Yr,wh=I.ColorIndexInverseTransform,So=I.MapARGB,Eo=I.VP8LColorIndexInverseTransformAlpha,Xs=I.MapAlpha,el=I.VP8LPredictorsAdd=[];el.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var ld,cd,tl,nl,Ao,gc,ui,rl,fa,Si,qn,Mn,pr,Xr,To,to,pc,yu,hm,vp,wp,Np,fm,mm,xc,Ei,bu,hi,yc=o(511),Nh=o(2041),vu=o(225),wu=o(767),jh=0,sl=Nh,Nu=vu,ma=wu,Qs=yc,_h=0,ga=1,Sh=2,Ai=3,ju=4,dd=5,kl=6,_u=7,Eh=8,ud=9,Ah=10,Ti=[2,3,7],hd=[3,3,11],bc=[280,256,256,256,40],Th=[0,1,1,1,0],Su=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ci=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ii=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Rl=8,ki=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ri=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],fi=null,jp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],gm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ch=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_p=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Js=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],jr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Tn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ra=[],Ur=[],no=[],Pl=1,pm=2,al=[],Zs=[];nt("UpsampleRgbLinePair",Ks,3),nt("UpsampleBgrLinePair",ar,3),nt("UpsampleRgbaLinePair",Ia,4),nt("UpsampleBgraLinePair",No,4),nt("UpsampleArgbLinePair",wo,4),nt("UpsampleRgba4444LinePair",ci,2),nt("UpsampleRgb565LinePair",Ys,2);var vc=I.UpsampleRgbLinePair,xm=I.UpsampleBgrLinePair,fd=I.UpsampleRgbaLinePair,Ih=I.UpsampleBgraLinePair,Ll=I.UpsampleArgbLinePair,Co=I.UpsampleRgba4444LinePair,Dl=I.UpsampleRgb565LinePair,Pi=16,md=1<<Pi-1,wc=-227,Ml=482,kh=6,Ol=0,ea=o(256),Rh=o(256),Sp=o(256),Ey=o(256),Ay=o(Ml-wc),Ty=o(Ml-wc);Qo("YuvToRgbRow",Ks,3),Qo("YuvToBgrRow",ar,3),Qo("YuvToRgbaRow",Ia,4),Qo("YuvToBgraRow",No,4),Qo("YuvToArgbRow",wo,4),Qo("YuvToRgba4444Row",ci,2),Qo("YuvToRgb565Row",Ys,2);var Qr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gd=[0,2,8],Eu=[8,7,6,4,4,2,2,2,1,1,1,1],Au=1;this.WebPDecodeRGBA=function(x,N,C,O,$){var K=ga,Y=new qe,Z=new Tt;Y.ba=Z,Z.S=K,Z.width=[Z.width],Z.height=[Z.height];var te=Z.width,de=Z.height,xe=new _t;if(xe==null||x==null)var Ce=2;else e(xe!=null),Ce=Zi(x,N,C,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Ce!=0?te=0:(te!=null&&(te[0]=xe.width[0]),de!=null&&(de[0]=xe.height[0]),te=1),te){Z.width=Z.width[0],Z.height=Z.height[0],O!=null&&(O[0]=Z.width),$!=null&&($[0]=Z.height);e:{if(O=new ks,($=new Qe).data=x,$.w=N,$.ha=C,$.kd=1,N=[0],e($!=null),((x=Zi($.data,$.w,$.ha,null,null,null,N,null,$))==0||x==7)&&N[0]&&(x=4),(N=x)==0){if(e(Y!=null),O.data=$.data,O.w=$.w+$.offset,O.ha=$.ha-$.offset,O.put=It,O.ac=xs,O.bc=$i,O.ma=Y,$.xa){if((x=go())==null){Y=1;break e}if((function(oe,ve){var Ee=[0],Fe=[0],Ae=[0];t:for(;;){if(oe==null)return 0;if(ve==null)return oe.a=2,0;if(oe.l=ve,oe.a=0,je(oe.m,ve.data,ve.w,ve.ha),!Na(oe.m,Ee,Fe,Ae)){oe.a=3;break t}if(oe.xb=pm,ve.width=Ee[0],ve.height=Fe[0],!si(Ee[0],Fe[0],1,oe,null))break t;return 1}return e(oe.a!=0),0})(x,O)){if(O=(N=eo(O.width,O.height,Y.Oa,Y.ba))==0){t:{O=x;n:for(;;){if(O==null){O=0;break t}if(e(O.s.yc!=null),e(O.s.Ya!=null),e(0<O.s.Wb),e((C=O.l)!=null),e(($=C.ma)!=null),O.xb!=0){if(O.ca=$.ba,O.tb=$.tb,e(O.ca!=null),!Jo($.Oa,C,Ai)){O.a=2;break n}if(!ca(O,C.width)||C.da)break n;if((C.da||Bt(O.ca.S))&&Le(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Le()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!X(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!la(O,O.V,O.Ba,O.c,O.i,C.o,Is))break n;$.Dc=O.Ma,O=1;break t}e(O.a!=0),O=0}O=!O}O&&(N=x.a)}else N=x.a}else{if((x=new Or)==null){Y=1;break e}if(x.Fa=$.na,x.P=$.P,x.qc=$.Sa,Ba(x,O)){if((N=eo(O.width,O.height,Y.Oa,Y.ba))==0){if(x.Aa=0,C=Y.Oa,e(($=x)!=null),C!=null){if(0<(te=0>(te=C.Md)?0:100<te?255:255*te/100)){for(de=xe=0;4>de;++de)12>(Ce=$.pb[de]).lc&&(Ce.ia=te*Eu[0>Ce.lc?0:Ce.lc]>>3),xe|=Ce.ia;xe&&(alert("todo:VP8InitRandom"),$.ia=1)}$.Ga=C.Id,100<$.Ga?$.Ga=100:0>$.Ga&&($.Ga=0)}(function(oe,ve){if(oe==null)return 0;if(ve==null)return jn(oe,2,"NULL VP8Io parameter in VP8Decode().");if(!oe.cb&&!Ba(oe,ve))return 0;if(e(oe.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(oe.L=0);var Ee=gd[oe.L];if(oe.L==2?(oe.yb=0,oe.zb=0):(oe.yb=ve.v-Ee>>4,oe.zb=ve.j-Ee>>4,0>oe.yb&&(oe.yb=0),0>oe.zb&&(oe.zb=0)),oe.Va=ve.o+15+Ee>>4,oe.Hb=ve.va+15+Ee>>4,oe.Hb>oe.za&&(oe.Hb=oe.za),oe.Va>oe.Ub&&(oe.Va=oe.Ub),0<oe.L){var Fe=oe.ed;for(Ee=0;4>Ee;++Ee){var Ae;if(oe.Qa.Cb){var Oe=oe.Qa.Lb[Ee];oe.Qa.Fb||(Oe+=Fe.Tb)}else Oe=Fe.Tb;for(Ae=0;1>=Ae;++Ae){var $e=oe.gd[Ee][Ae],et=Oe;if(Fe.Pc&&(et+=Fe.vd[0],Ae&&(et+=Fe.od[0])),0<(et=0>et?0:63<et?63:et)){var Xe=et;0<Fe.wb&&(Xe=4<Fe.wb?Xe>>2:Xe>>1)>9-Fe.wb&&(Xe=9-Fe.wb),1>Xe&&(Xe=1),$e.dd=Xe,$e.tc=2*et+Xe,$e.ld=40<=et?2:15<=et?1:0}else $e.tc=0;$e.La=Ae}}}Ee=0}else jn(oe,6,"Frame setup failed"),Ee=oe.a;if(Ee=Ee==0){if(Ee){oe.$c=0,0<oe.Aa||(oe.Ic=Au);t:{Ee=oe.Ic,Fe=4*(Xe=oe.za);var bt=32*Xe,ut=Xe+1,nn=0<oe.L?Xe*(0<oe.Aa?2:1):0,gt=(oe.Aa==2?2:1)*Xe;if(($e=Fe+832+(Ae=3*(16*Ee+gd[oe.L])/2*bt)+(Oe=oe.Fa!=null&&0<oe.Fa.length?oe.Kc.c*oe.Kc.i:0))!=$e)Ee=0;else{if($e>oe.Vb){if(oe.Vb=0,oe.Ec=o($e),oe.Fc=0,oe.Ec==null){Ee=jn(oe,1,"no memory during frame initialization.");break t}oe.Vb=$e}$e=oe.Ec,et=oe.Fc,oe.Ac=$e,oe.Bc=et,et+=Fe,oe.Gd=c(bt,_l),oe.Hd=0,oe.rb=c(ut+1,za),oe.sb=1,oe.wa=nn?c(nn,da):null,oe.Y=0,oe.D.Nb=0,oe.D.wa=oe.wa,oe.D.Y=oe.Y,0<oe.Aa&&(oe.D.Y+=Xe),e(!0),oe.oc=$e,oe.pc=et,et+=832,oe.ya=c(gt,Ho),oe.aa=0,oe.D.ya=oe.ya,oe.D.aa=oe.aa,oe.Aa==2&&(oe.D.aa+=Xe),oe.R=16*Xe,oe.B=8*Xe,Xe=(bt=gd[oe.L])*oe.R,bt=bt/2*oe.B,oe.sa=$e,oe.ta=et+Xe,oe.qa=oe.sa,oe.ra=oe.ta+16*Ee*oe.R+bt,oe.Ha=oe.qa,oe.Ia=oe.ra+8*Ee*oe.B+bt,oe.$c=0,et+=Ae,oe.mb=Oe?$e:null,oe.nb=Oe?et:null,e(et+Oe<=oe.Fc+oe.Vb),po(oe),a(oe.Ac,oe.Bc,0,Fe),Ee=1}}if(Ee){if(ve.ka=0,ve.y=oe.sa,ve.O=oe.ta,ve.f=oe.qa,ve.N=oe.ra,ve.ea=oe.Ha,ve.Vd=oe.Ia,ve.fa=oe.R,ve.Rc=oe.B,ve.F=null,ve.J=0,!jh){for(Ee=-255;255>=Ee;++Ee)yc[255+Ee]=0>Ee?-Ee:Ee;for(Ee=-1020;1020>=Ee;++Ee)Nh[1020+Ee]=-128>Ee?-128:127<Ee?127:Ee;for(Ee=-112;112>=Ee;++Ee)vu[112+Ee]=-16>Ee?-16:15<Ee?15:Ee;for(Ee=-255;510>=Ee;++Ee)wu[255+Ee]=0>Ee?0:255<Ee?255:Ee;jh=1}ui=ys,rl=cc,Si=Ws,qn=dc,Mn=Yi,fa=sd,pr=mc,Xr=li,To=H,to=ce,pc=Cl,yu=A,hm=pe,vp=we,wp=ji,Np=qa,fm=Xo,mm=Tl,Ur[0]=bo,Ur[1]=uc,Ur[2]=Wo,Ur[3]=Al,Ur[4]=bs,Ur[5]=Ko,Ur[6]=is,Ur[7]=Wn,Ur[8]=Yo,Ur[9]=Ea,Ra[0]=ii,Ra[1]=Sl,Ra[2]=El,Ra[3]=Xi,Ra[4]=Qi,Ra[5]=ha,Ra[6]=yo,no[0]=Ji,no[1]=hc,no[2]=oi,no[3]=fc,no[4]=Kr,no[5]=Ta,no[6]=vi,Ee=1}else Ee=0}Ee&&(Ee=(function(An,_r){for(An.M=0;An.M<An.Va;++An.M){var hn,ht=An.Jc[An.M&An.Xb],at=An.m,Ir=An;for(hn=0;hn<Ir.za;++hn){var Yt=at,gn=Ir,Jn=gn.Ac,vs=gn.Bc+4*hn,ta=gn.zc,xr=gn.ya[gn.aa+hn];if(gn.Qa.Bb?xr.$b=Be(Yt,gn.Pa.jb[0])?2+Be(Yt,gn.Pa.jb[2]):Be(Yt,gn.Pa.jb[1]):xr.$b=0,gn.kc&&(xr.Ad=Be(Yt,gn.Bd)),xr.Za=!Be(Yt,145)+0,xr.Za){var os=xr.Ob,pa=0;for(gn=0;4>gn;++gn){var ls,wn=ta[0+gn];for(ls=0;4>ls;++ls){wn=Js[Jn[vs+ls]][wn];for(var Fn=Ch[Be(Yt,wn[0])];0<Fn;)Fn=Ch[2*Fn+Be(Yt,wn[Fn])];wn=-Fn,Jn[vs+ls]=wn}s(os,pa,Jn,vs,4),pa+=4,ta[0+gn]=wn}}else wn=Be(Yt,156)?Be(Yt,128)?1:3:Be(Yt,163)?2:0,xr.Ob[0]=wn,a(Jn,vs,wn,4),a(ta,0,wn,4);xr.Dd=Be(Yt,142)?Be(Yt,114)?Be(Yt,183)?1:3:2:0}if(Ir.m.Ka)return jn(An,7,"Premature end-of-partition0 encountered.");for(;An.ja<An.za;++An.ja){if(Ir=ht,Yt=(at=An).rb[at.sb-1],Jn=at.rb[at.sb+at.ja],hn=at.ya[at.aa+at.ja],vs=at.kc?hn.Ad:0)Yt.la=Jn.la=0,hn.Za||(Yt.Na=Jn.Na=0),hn.Hc=0,hn.Gc=0,hn.ia=0;else{var kr,Gn;if(Yt=Jn,Jn=Ir,vs=at.Pa.Xc,ta=at.ya[at.aa+at.ja],xr=at.pb[ta.$b],gn=ta.ad,os=0,pa=at.rb[at.sb-1],wn=ls=0,a(gn,os,0,384),ta.Za)var ws=0,Rr=vs[3];else{Fn=o(16);var Un=Yt.Na+pa.Na;if(Un=fi(Jn,vs[1],Un,xr.Eb,0,Fn,0),Yt.Na=pa.Na=(0<Un)+0,1<Un)ui(Fn,0,gn,os);else{var Jr=Fn[0]+3>>3;for(Fn=0;256>Fn;Fn+=16)gn[os+Fn]=Jr}ws=1,Rr=vs[0]}var Zn=15&Yt.la,cs=15&pa.la;for(Fn=0;4>Fn;++Fn){var ds=1&cs;for(Jr=Gn=0;4>Jr;++Jr)Zn=Zn>>1|(ds=(Un=fi(Jn,Rr,Un=ds+(1&Zn),xr.Sc,ws,gn,os))>ws)<<7,Gn=Gn<<2|(3<Un?3:1<Un?2:gn[os+0]!=0),os+=16;Zn>>=4,cs=cs>>1|ds<<7,ls=(ls<<8|Gn)>>>0}for(Rr=Zn,ws=cs>>4,kr=0;4>kr;kr+=2){for(Gn=0,Zn=Yt.la>>4+kr,cs=pa.la>>4+kr,Fn=0;2>Fn;++Fn){for(ds=1&cs,Jr=0;2>Jr;++Jr)Un=ds+(1&Zn),Zn=Zn>>1|(ds=0<(Un=fi(Jn,vs[2],Un,xr.Qc,0,gn,os)))<<3,Gn=Gn<<2|(3<Un?3:1<Un?2:gn[os+0]!=0),os+=16;Zn>>=2,cs=cs>>1|ds<<5}wn|=Gn<<4*kr,Rr|=Zn<<4<<kr,ws|=(240&cs)<<kr}Yt.la=Rr,pa.la=ws,ta.Hc=ls,ta.Gc=wn,ta.ia=43690&wn?0:xr.ia,vs=!(ls|wn)}if(0<at.L&&(at.wa[at.Y+at.ja]=at.gd[hn.$b][hn.Za],at.wa[at.Y+at.ja].La|=!vs),Ir.Ka)return jn(An,7,"Premature end-of-file encountered.")}if(po(An),at=_r,Ir=1,hn=(ht=An).D,Yt=0<ht.L&&ht.M>=ht.zb&&ht.M<=ht.Va,ht.Aa==0)t:{if(hn.M=ht.M,hn.uc=Yt,di(ht,hn),Ir=1,hn=(Gn=ht.D).Nb,Yt=(wn=gd[ht.L])*ht.R,Jn=wn/2*ht.B,Fn=16*hn*ht.R,Jr=8*hn*ht.B,vs=ht.sa,ta=ht.ta-Yt+Fn,xr=ht.qa,gn=ht.ra-Jn+Jr,os=ht.Ha,pa=ht.Ia-Jn+Jr,cs=(Zn=Gn.M)==0,ls=Zn>=ht.Va-1,ht.Aa==2&&di(ht,Gn),Gn.uc)for(ds=(Un=ht).D.M,e(Un.D.uc),Gn=Un.yb;Gn<Un.Hb;++Gn){ws=Gn,Rr=ds;var ir=(On=(us=Un).D).Nb;kr=us.R;var On=On.wa[On.Y+ws],xa=us.sa,Vr=us.ta+16*ir*kr+16*ws,Ot=On.dd,Vt=On.tc;if(Vt!=0)if(e(3<=Vt),us.L==1)0<ws&&Np(xa,Vr,kr,Vt+4),On.La&&mm(xa,Vr,kr,Vt),0<Rr&&wp(xa,Vr,kr,Vt+4),On.La&&fm(xa,Vr,kr,Vt);else{var Vn=us.B,Ha=us.qa,Li=us.ra+8*ir*Vn+8*ws,Pa=us.Ha,us=us.Ia+8*ir*Vn+8*ws;ir=On.ld,0<ws&&(Xr(xa,Vr,kr,Vt+4,Ot,ir),to(Ha,Li,Pa,us,Vn,Vt+4,Ot,ir)),On.La&&(yu(xa,Vr,kr,Vt,Ot,ir),vp(Ha,Li,Pa,us,Vn,Vt,Ot,ir)),0<Rr&&(pr(xa,Vr,kr,Vt+4,Ot,ir),To(Ha,Li,Pa,us,Vn,Vt+4,Ot,ir)),On.La&&(pc(xa,Vr,kr,Vt,Ot,ir),hm(Ha,Li,Pa,us,Vn,Vt,Ot,ir))}}if(ht.ia&&alert("todo:DitherRow"),at.put!=null){if(Gn=16*Zn,Zn=16*(Zn+1),cs?(at.y=ht.sa,at.O=ht.ta+Fn,at.f=ht.qa,at.N=ht.ra+Jr,at.ea=ht.Ha,at.W=ht.Ia+Jr):(Gn-=wn,at.y=vs,at.O=ta,at.f=xr,at.N=gn,at.ea=os,at.W=pa),ls||(Zn-=wn),Zn>at.o&&(Zn=at.o),at.F=null,at.J=null,ht.Fa!=null&&0<ht.Fa.length&&Gn<Zn&&(at.J=y(ht,at,Gn,Zn-Gn),at.F=ht.mb,at.F==null&&at.F.length==0)){Ir=jn(ht,3,"Could not decode alpha data.");break t}Gn<at.j&&(wn=at.j-Gn,Gn=at.j,e(!(1&wn)),at.O+=ht.R*wn,at.N+=ht.B*(wn>>1),at.W+=ht.B*(wn>>1),at.F!=null&&(at.J+=at.width*wn)),Gn<Zn&&(at.O+=at.v,at.N+=at.v>>1,at.W+=at.v>>1,at.F!=null&&(at.J+=at.v),at.ka=Gn-at.j,at.U=at.va-at.v,at.T=Zn-Gn,Ir=at.put(at))}hn+1!=ht.Ic||ls||(s(ht.sa,ht.ta-Yt,vs,ta+16*ht.R,Yt),s(ht.qa,ht.ra-Jn,xr,gn+8*ht.B,Jn),s(ht.Ha,ht.Ia-Jn,os,pa+8*ht.B,Jn))}if(!Ir)return jn(An,6,"Output aborted.")}return 1})(oe,ve)),ve.bc!=null&&ve.bc(ve),Ee&=1}return Ee?(oe.cb=0,Ee):0})(x,O)||(N=x.a)}}else N=x.a}N==0&&Y.Oa!=null&&Y.Oa.fd&&(N=xu(Y.ba))}Y=N}K=Y!=0?null:11>K?Z.f.RGBA.eb:Z.f.kb.y}else K=null;return K};var Ph=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(I,F){for(var k="",P=0;P<4;P++)k+=String.fromCharCode(I[F++]);return k}function g(I,F){return I[F+0]|I[F+1]<<8}function p(I,F){return(I[F+0]|I[F+1]<<8|I[F+2]<<16)>>>0}function v(I,F){return(I[F+0]|I[F+1]<<8|I[F+2]<<16|I[F+3]<<24)>>>0}new h;var b=[0],T=[0],E=[],j=new h,S=n,L=(function(I,F){var k={},P=0,V=!1,le=0,Ne=0;if(k.frames=[],!(function(q,J){for(var re=0;re<4;re++)if(q[J+re]!="RIFF".charCodeAt(re))return!0;return!1})(I,F)){for(v(I,F+=4),F+=8;F<I.length;){var ie=f(I,F),ge=v(I,F+=4);F+=4;var ue=ge+(1&ge);switch(ie){case"VP8 ":case"VP8L":k.frames[P]===void 0&&(k.frames[P]={}),(ne=k.frames[P]).src_off=V?Ne:F-8,ne.src_size=le+ge+8,P++,V&&(V=!1,le=0,Ne=0);break;case"VP8X":(ne=k.header={}).feature_flags=I[F];var je=F+4;ne.canvas_width=1+p(I,je),je+=3,ne.canvas_height=1+p(I,je),je+=3;break;case"ALPH":V=!0,le=ue+8,Ne=F-8;break;case"ANIM":(ne=k.header).bgcolor=v(I,F),je=F+4,ne.loop_count=g(I,je),je+=2;break;case"ANMF":var ze,ne;(ne=k.frames[P]={}).offset_x=2*p(I,F),F+=3,ne.offset_y=2*p(I,F),F+=3,ne.width=1+p(I,F),F+=3,ne.height=1+p(I,F),F+=3,ne.duration=p(I,F),F+=3,ze=I[F++],ne.dispose=1&ze,ne.blend=ze>>1&1}ie!="ANMF"&&(F+=ue)}return k}})(S,0);L.response=S,L.rgbaoutput=!0,L.dataurl=!1;var M=L.header?L.header:null,z=L.frames?L.frames:null;if(M){M.loop_counter=M.loop_count,b=[M.canvas_height],T=[M.canvas_width];for(var se=0;se<z.length&&z[se].blend!=0;se++);}var ae=z[0],G=j.WebPDecodeRGBA(S,ae.src_off,ae.src_size,T,b);ae.rgba=G,ae.imgwidth=T[0],ae.imgheight=b[0];for(var D=0;D<T[0]*b[0]*4;D++)E[D]=G[D];return this.width=T,this.height=b,this.data=E,this}(function(n){var e,t,s,a,o,c,d,h,f,g=function(q){return q=q||{},this.isStrokeTransparent=q.isStrokeTransparent||!1,this.strokeOpacity=q.strokeOpacity||1,this.strokeStyle=q.strokeStyle||"#000000",this.fillStyle=q.fillStyle||"#000000",this.isFillTransparent=q.isFillTransparent||!1,this.fillOpacity=q.fillOpacity||1,this.font=q.font||"10px sans-serif",this.textBaseline=q.textBaseline||"alphabetic",this.textAlign=q.textAlign||"left",this.lineWidth=q.lineWidth||1,this.lineJoin=q.lineJoin||"miter",this.lineCap=q.lineCap||"butt",this.path=q.path||[],this.transform=q.transform!==void 0?q.transform.clone():new h,this.globalCompositeOperation=q.globalCompositeOperation||"normal",this.globalAlpha=q.globalAlpha||1,this.clip_path=q.clip_path||[],this.currentPoint=q.currentPoint||new c,this.miterLimit=q.miterLimit||10,this.lastPoint=q.lastPoint||new c,this.lineDashOffset=q.lineDashOffset||0,this.lineDash=q.lineDash||[],this.margin=q.margin||[0,0,0,0],this.prevPageLastElemOffset=q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof q.ignoreClearRect!="boolean"||q.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,t=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,d=this.internal.Rectangle,h=this.internal.Matrix,f=new g}]);var p=function(q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=q;Object.defineProperty(this,"pdf",{get:function(){return J}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(X){re=!!X}});var he=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return he},set:function(X){he=!!X}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(X){isNaN(X)||(fe=X)}});var be=0;Object.defineProperty(this,"posY",{get:function(){return be},set:function(X){isNaN(X)||(be=X)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(X){var Ke;typeof X=="number"?Ke=[X,X,X,X]:((Ke=new Array(4))[0]=X[0],Ke[1]=X.length>=2?X[1]:Ke[0],Ke[2]=X.length>=3?X[2]:Ke[0],Ke[3]=X.length>=4?X[3]:Ke[1]),f.margin=Ke}});var Pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Pe},set:function(X){Pe=X}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(X){ke=X}});var Be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Be},set:function(X){Be=X}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(X){X instanceof g&&(f=X)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(X){f.path=X}});var Ze=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ze},set:function(X){Ze=X}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(X){var Ke;Ke=v(X),this.ctx.fillStyle=Ke.style,this.ctx.isFillTransparent=Ke.a===0,this.ctx.fillOpacity=Ke.a,this.pdf.setFillColor(Ke.r,Ke.g,Ke.b,{a:Ke.a}),this.pdf.setTextColor(Ke.r,Ke.g,Ke.b,{a:Ke.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(X){var Ke=v(X);this.ctx.strokeStyle=Ke.style,this.ctx.isStrokeTransparent=Ke.a===0,this.ctx.strokeOpacity=Ke.a,Ke.a===0?this.pdf.setDrawColor(255,255,255):(Ke.a,this.pdf.setDrawColor(Ke.r,Ke.g,Ke.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(X){["butt","round","square"].indexOf(X)!==-1&&(this.ctx.lineCap=X,this.pdf.setLineCap(X))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(X){isNaN(X)||(this.ctx.lineWidth=X,this.pdf.setLineWidth(X))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(X){["bevel","round","miter"].indexOf(X)!==-1&&(this.ctx.lineJoin=X,this.pdf.setLineJoin(X))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(X){isNaN(X)||(this.ctx.miterLimit=X,this.pdf.setMiterLimit(X))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(X){this.ctx.textBaseline=X}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(X){["right","end","center","left","start"].indexOf(X)!==-1&&(this.ctx.textAlign=X)}});var ot=null,it=null,Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(X){ot=null,it=null,Ve=X}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(X){var Ke;if(this.ctx.font=X,(Ke=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(X))!==null){var Wt=Ke[1];Ke[2];var Et=Ke[3],He=Ke[4];Ke[5];var dt=Ke[6],ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(He)[2];He=Math.floor(ct==="px"?parseFloat(He)*this.pdf.internal.scaleFactor:ct==="em"?parseFloat(He)*this.pdf.getFontSize():parseFloat(He)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(He);var ft=(function(jt){var Tr,ln,Lt=[],Kt=jt.trim();if(Kt==="")return T1;if(Kt in P6)return[P6[Kt]];for(;Kt!=="";){switch(ln=null,Tr=(Kt=D6(Kt)).charAt(0)){case'"':case"'":ln=PG(Kt.substring(1),Tr);break;default:ln=LG(Kt)}if(ln===null||(Lt.push(ln[0]),(Kt=D6(ln[1]))!==""&&Kt.charAt(0)!==","))return T1;Kt=Kt.replace(/^,/,"")}return Lt})(dt);if(this.fontFaces){var At=(function(jt,Tr){var ln=jt.getFontList(),Lt=JSON.stringify(ln);if(ot===null||it!==Lt){var Kt=(function(an){var Ct=[];return Object.keys(an).forEach(function(Bn){an[Bn].forEach(function(Bt){var qt=null;switch(Bt){case"bold":qt={family:Bn,weight:"bold"};break;case"italic":qt={family:Bn,style:"italic"};break;case"bolditalic":qt={family:Bn,weight:"bold",style:"italic"};break;case"":case"normal":qt={family:Bn}}qt!==null&&(qt.ref={name:Bn,style:Bt},Ct.push(qt))})}),Ct})(ln);ot=(function(an){for(var Ct={},Bn=0;Bn<an.length;++Bn){var Bt=A1(an[Bn]),qt=Bt.family,Hn=Bt.stretch,Tt=Bt.style,_t=Bt.weight;Ct[qt]=Ct[qt]||{},Ct[qt][Hn]=Ct[qt][Hn]||{},Ct[qt][Hn][Tt]=Ct[qt][Hn][Tt]||{},Ct[qt][Hn][Tt][_t]=Bt}return Ct})(Kt.concat(Tr)),it=Lt}return ot})(this.pdf,this.fontFaces),sn=ft.map(function(jt){return{family:jt,stretch:"normal",weight:Et,style:Wt}}),un=(function(jt,Tr,ln){for(var Lt=(ln=ln||{}).defaultFontFamily||"times",Kt=Object.assign({},RG,ln.genericFontFamilies||{}),an=null,Ct=null,Bn=0;Bn<Tr.length;++Bn)if(Kt[(an=A1(Tr[Bn])).family]&&(an.family=Kt[an.family]),jt.hasOwnProperty(an.family)){Ct=jt[an.family];break}if(!(Ct=Ct||jt[Lt]))throw new Error("Could not find a font-family for the rule '"+L6(an)+"' and default family '"+Lt+"'.");if(Ct=(function(Bt,qt){if(qt[Bt])return qt[Bt];var Hn=O2[Bt],Tt=Hn<=O2.normal?-1:1,_t=R6(qt,yC,Hn,Tt);if(!_t)throw new Error("Could not find a matching font-stretch value for "+Bt);return _t})(an.stretch,Ct),Ct=(function(Bt,qt){if(qt[Bt])return qt[Bt];for(var Hn=xC[Bt],Tt=0;Tt<Hn.length;++Tt)if(qt[Hn[Tt]])return qt[Hn[Tt]];throw new Error("Could not find a matching font-style for "+Bt)})(an.style,Ct),!(Ct=(function(Bt,qt){if(qt[Bt])return qt[Bt];if(Bt===400&&qt[500])return qt[500];if(Bt===500&&qt[400])return qt[400];var Hn=kG[Bt],Tt=R6(qt,bC,Hn,Bt<400?-1:1);if(!Tt)throw new Error("Could not find a matching font-weight for value "+Bt);return Tt})(an.weight,Ct)))throw new Error("Failed to resolve a font for the rule '"+L6(an)+"'.");return Ct})(At,sn);this.pdf.setFont(un.ref.name,un.ref.style)}else{var Jt="";(Et==="bold"||parseInt(Et,10)>=700||Wt==="bold")&&(Jt="bold"),Wt==="italic"&&(Jt+="italic"),Jt.length===0&&(Jt="normal");for(var xn="",on={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Nt=0;Nt<ft.length;Nt++){if(this.pdf.internal.getFont(ft[Nt],Jt,{noFallback:!0,disableWarning:!0})!==void 0){xn=ft[Nt];break}if(Jt==="bolditalic"&&this.pdf.internal.getFont(ft[Nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)xn=ft[Nt],Jt="bold";else if(this.pdf.internal.getFont(ft[Nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){xn=ft[Nt],Jt="normal";break}}if(xn===""){for(var tn=0;tn<ft.length;tn++)if(on[ft[tn]]){xn=on[ft[tn]];break}}xn=xn===""?"Times":xn,this.pdf.setFont(xn,Jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(X){this.ctx.globalCompositeOperation=X}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(X){this.ctx.globalAlpha=X}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(X){this.ctx.lineDashOffset=X,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(X){this.ctx.lineDash=X,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(X){this.ctx.ignoreClearRect=!!X}})};p.prototype.setLineDash=function(q){this.lineDash=q},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){z.call(this,"fill",!1)},p.prototype.stroke=function(){z.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(q,J){if(isNaN(q)||isNaN(J))throw Er.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new c(q,J));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new c(q,J)},p.prototype.closePath=function(){var q=new c(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&cr(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){q=new c(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(q.x,q.y)},p.prototype.lineTo=function(q,J){if(isNaN(q)||isNaN(J))throw Er.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new c(q,J));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new c(re.x,re.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},p.prototype.quadraticCurveTo=function(q,J,re,he){if(isNaN(re)||isNaN(he)||isNaN(q)||isNaN(J))throw Er.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new c(re,he)),be=this.ctx.transform.applyToPoint(new c(q,J));this.path.push({type:"qct",x1:be.x,y1:be.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new c(fe.x,fe.y)},p.prototype.bezierCurveTo=function(q,J,re,he,fe,be){if(isNaN(fe)||isNaN(be)||isNaN(q)||isNaN(J)||isNaN(re)||isNaN(he))throw Er.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Pe=this.ctx.transform.applyToPoint(new c(fe,be)),ke=this.ctx.transform.applyToPoint(new c(q,J)),Be=this.ctx.transform.applyToPoint(new c(re,he));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:Be.x,y2:Be.y,x:Pe.x,y:Pe.y}),this.ctx.lastPoint=new c(Pe.x,Pe.y)},p.prototype.arc=function(q,J,re,he,fe,be){if(isNaN(q)||isNaN(J)||isNaN(re)||isNaN(he)||isNaN(fe))throw Er.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(be=!!be,!this.ctx.transform.isIdentity){var Pe=this.ctx.transform.applyToPoint(new c(q,J));q=Pe.x,J=Pe.y;var ke=this.ctx.transform.applyToPoint(new c(0,re)),Be=this.ctx.transform.applyToPoint(new c(0,0));re=Math.sqrt(Math.pow(ke.x-Be.x,2)+Math.pow(ke.y-Be.y,2))}Math.abs(fe-he)>=2*Math.PI&&(he=0,fe=2*Math.PI),this.path.push({type:"arc",x:q,y:J,radius:re,startAngle:he,endAngle:fe,counterclockwise:be})},p.prototype.arcTo=function(q,J,re,he,fe){throw new Error("arcTo not implemented.")},p.prototype.rect=function(q,J,re,he){if(isNaN(q)||isNaN(J)||isNaN(re)||isNaN(he))throw Er.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(q,J),this.lineTo(q+re,J),this.lineTo(q+re,J+he),this.lineTo(q,J+he),this.lineTo(q,J),this.lineTo(q+re,J),this.lineTo(q,J)},p.prototype.fillRect=function(q,J,re,he){if(isNaN(q)||isNaN(J)||isNaN(re)||isNaN(he))throw Er.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(q,J,re,he),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},p.prototype.strokeRect=function(q,J,re,he){if(isNaN(q)||isNaN(J)||isNaN(re)||isNaN(he))throw Er.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(q,J,re,he),this.stroke())},p.prototype.clearRect=function(q,J,re,he){if(isNaN(q)||isNaN(J)||isNaN(re)||isNaN(he))throw Er.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(q,J,re,he))},p.prototype.save=function(q){q=typeof q!="boolean"||q;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),q){this.ctx.fontSize=this.pdf.internal.getFontSize();var he=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=he}},p.prototype.restore=function(q){q=typeof q!="boolean"||q;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(J),q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(q){var J,re,he,fe;if(q.isCanvasGradient===!0&&(q=q.getColor()),!q)return{r:0,g:0,b:0,a:0,style:q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(q))J=0,re=0,he=0,fe=0;else{var be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(q);if(be!==null)J=parseInt(be[1]),re=parseInt(be[2]),he=parseInt(be[3]),fe=1;else if((be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(q))!==null)J=parseInt(be[1]),re=parseInt(be[2]),he=parseInt(be[3]),fe=parseFloat(be[4]);else{if(fe=1,typeof q=="string"&&q.charAt(0)!=="#"){var Pe=new dC(q);q=Pe.ok?Pe.toHex():"#000000"}q.length===4?(J=q.substring(1,2),J+=J,re=q.substring(2,3),re+=re,he=q.substring(3,4),he+=he):(J=q.substring(1,3),re=q.substring(3,5),he=q.substring(5,7)),J=parseInt(J,16),re=parseInt(re,16),he=parseInt(he,16)}}return{r:J,g:re,b:he,a:fe,style:q}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(q,J,re,he){if(isNaN(J)||isNaN(re)||typeof q!="string")throw Er.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(he=isNaN(he)?void 0:he,!b.call(this)){var fe=ue(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;P.call(this,{text:q,x:J,y:re,scale:be,angle:fe,align:this.textAlign,maxWidth:he})}},p.prototype.strokeText=function(q,J,re,he){if(isNaN(J)||isNaN(re)||typeof q!="string")throw Er.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){he=isNaN(he)?void 0:he;var fe=ue(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;P.call(this,{text:q,x:J,y:re,scale:be,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:he})}},p.prototype.measureText=function(q){if(typeof q!="string")throw Er.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,re=this.pdf.internal.scaleFactor,he=J.internal.getFontSize(),fe=J.getStringUnitWidth(q)*he/J.internal.scaleFactor;return new function(be){var Pe=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Pe}}),this}({width:fe*=Math.round(96*re/72*1e4)/1e4})},p.prototype.scale=function(q,J){if(isNaN(q)||isNaN(J))throw Er.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new h(q,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},p.prototype.rotate=function(q){if(isNaN(q))throw Er.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new h(Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},p.prototype.translate=function(q,J){if(isNaN(q)||isNaN(J))throw Er.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new h(1,0,0,1,q,J);this.ctx.transform=this.ctx.transform.multiply(re)},p.prototype.transform=function(q,J,re,he,fe,be){if(isNaN(q)||isNaN(J)||isNaN(re)||isNaN(he)||isNaN(fe)||isNaN(be))throw Er.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Pe=new h(q,J,re,he,fe,be);this.ctx.transform=this.ctx.transform.multiply(Pe)},p.prototype.setTransform=function(q,J,re,he,fe,be){q=isNaN(q)?1:q,J=isNaN(J)?0:J,re=isNaN(re)?0:re,he=isNaN(he)?1:he,fe=isNaN(fe)?0:fe,be=isNaN(be)?0:be,this.ctx.transform=new h(q,J,re,he,fe,be)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(q,J,re,he,fe,be,Pe,ke,Be){var Ze=this.pdf.getImageProperties(q),ot=1,it=1,Ve=1,X=1;he!==void 0&&ke!==void 0&&(Ve=ke/he,X=Be/fe,ot=Ze.width/he*ke/he,it=Ze.height/fe*Be/fe),be===void 0&&(be=J,Pe=re,J=0,re=0),he!==void 0&&ke===void 0&&(ke=he,Be=fe),he===void 0&&ke===void 0&&(ke=Ze.width,Be=Ze.height);var Ke=this.ctx.transform.decompose(),Wt=ue(Ke.rotate.shx),Et=new h,He=(Et=(Et=(Et=Et.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new d(be-J*Ve,Pe-re*X,he*ot,fe*it));if(this.autoPaging){for(var dt,ct=j.call(this,He),ft=[],At=0;At<ct.length;At+=1)ft.indexOf(ct[At])===-1&&ft.push(ct[At]);M(ft);for(var sn=ft[0],un=ft[ft.length-1],Jt=sn;Jt<un+1;Jt++){this.pdf.setPage(Jt);var xn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],on=Jt===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=Jt===1?0:Nt+(Jt-2)*tn;if(this.ctx.clip_path.length!==0){var Tr=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(dt,this.posX+this.margin[3],-jt+on+this.ctx.prevPageLastElemOffset),se.call(this,"fill",!0),this.path=Tr}var ln=JSON.parse(JSON.stringify(He));ln=L([ln],this.posX+this.margin[3],-jt+on+this.ctx.prevPageLastElemOffset)[0];var Lt=(Jt>sn||Jt<un)&&E.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xn,tn,null).clip().discardPath()),this.pdf.addImage(q,"JPEG",ln.x,ln.y,ln.w,ln.h,null,null,Wt),Lt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(q,"JPEG",He.x,He.y,He.w,He.h,null,null,Wt)};var j=function(q,J,re){var he=[];J=J||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(q.type){default:case"mt":case"lt":he.push(Math.floor((q.y+fe)/re)+1);break;case"arc":he.push(Math.floor((q.y+fe-q.radius)/re)+1),he.push(Math.floor((q.y+fe+q.radius)/re)+1);break;case"qct":var be=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x,q.y);he.push(Math.floor((be.y+fe)/re)+1),he.push(Math.floor((be.y+be.h+fe)/re)+1);break;case"bct":var Pe=ze(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x2,q.y2,q.x,q.y);he.push(Math.floor((Pe.y+fe)/re)+1),he.push(Math.floor((Pe.y+Pe.h+fe)/re)+1);break;case"rect":he.push(Math.floor((q.y+fe)/re)+1),he.push(Math.floor((q.y+q.h+fe)/re)+1)}for(var ke=0;ke<he.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<he[ke];)S.call(this);return he},S=function(){var q=this.fillStyle,J=this.strokeStyle,re=this.font,he=this.lineCap,fe=this.lineWidth,be=this.lineJoin;this.pdf.addPage(),this.fillStyle=q,this.strokeStyle=J,this.font=re,this.lineCap=he,this.lineWidth=fe,this.lineJoin=be},L=function(q,J,re){for(var he=0;he<q.length;he++)switch(q[he].type){case"bct":q[he].x2+=J,q[he].y2+=re;case"qct":q[he].x1+=J,q[he].y1+=re;default:q[he].x+=J,q[he].y+=re}return q},M=function(q){return q.sort(function(J,re){return J-re})},z=function(q,J){var re=this.fillStyle,he=this.strokeStyle,fe=this.lineCap,be=this.lineWidth,Pe=Math.abs(be*this.ctx.transform.scaleX),ke=this.lineJoin;if(this.autoPaging){for(var Be,Ze,ot=JSON.parse(JSON.stringify(this.path)),it=JSON.parse(JSON.stringify(this.path)),Ve=[],X=0;X<it.length;X++)if(it[X].x!==void 0)for(var Ke=j.call(this,it[X]),Wt=0;Wt<Ke.length;Wt+=1)Ve.indexOf(Ke[Wt])===-1&&Ve.push(Ke[Wt]);for(var Et=0;Et<Ve.length;Et++)for(;this.pdf.internal.getNumberOfPages()<Ve[Et];)S.call(this);M(Ve);for(var He=Ve[0],dt=Ve[Ve.length-1],ct=He;ct<dt+1;ct++){this.pdf.setPage(ct),this.fillStyle=re,this.strokeStyle=he,this.lineCap=fe,this.lineWidth=Pe,this.lineJoin=ke;var ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=ct===1?this.posY+this.margin[0]:this.margin[0],sn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],un=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=ct===1?0:sn+(ct-2)*un;if(this.ctx.clip_path.length!==0){var xn=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Be,this.posX+this.margin[3],-Jt+At+this.ctx.prevPageLastElemOffset),se.call(this,q,!0),this.path=xn}if(Ze=JSON.parse(JSON.stringify(ot)),this.path=L(Ze,this.posX+this.margin[3],-Jt+At+this.ctx.prevPageLastElemOffset),J===!1||ct===0){var on=(ct>He||ct<dt)&&E.call(this);on&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,un,null).clip().discardPath()),se.call(this,q,J),on&&this.pdf.restoreGraphicsState()}this.lineWidth=be}this.path=ot}else this.lineWidth=Pe,se.call(this,q,J),this.lineWidth=be},se=function(q,J){if((q!=="stroke"||J||!T.call(this))&&(q==="stroke"||J||!b.call(this))){for(var re,he,fe=[],be=this.path,Pe=0;Pe<be.length;Pe++){var ke=be[Pe];switch(ke.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:ke,deltas:[],abs:[]});break;case"lt":var Be=fe.length;if(be[Pe-1]&&!isNaN(be[Pe-1].x)&&(re=[ke.x-be[Pe-1].x,ke.y-be[Pe-1].y],Be>0)){for(;Be>=0;Be--)if(fe[Be-1].close!==!0&&fe[Be-1].begin!==!0){fe[Be-1].deltas.push(re),fe[Be-1].abs.push(ke);break}}break;case"bct":re=[ke.x1-be[Pe-1].x,ke.y1-be[Pe-1].y,ke.x2-be[Pe-1].x,ke.y2-be[Pe-1].y,ke.x-be[Pe-1].x,ke.y-be[Pe-1].y],fe[fe.length-1].deltas.push(re);break;case"qct":var Ze=be[Pe-1].x+2/3*(ke.x1-be[Pe-1].x),ot=be[Pe-1].y+2/3*(ke.y1-be[Pe-1].y),it=ke.x+2/3*(ke.x1-ke.x),Ve=ke.y+2/3*(ke.y1-ke.y),X=ke.x,Ke=ke.y;re=[Ze-be[Pe-1].x,ot-be[Pe-1].y,it-be[Pe-1].x,Ve-be[Pe-1].y,X-be[Pe-1].x,Ke-be[Pe-1].y],fe[fe.length-1].deltas.push(re);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(ke)}}he=J?null:q==="stroke"?"stroke":"fill";for(var Wt=!1,Et=0;Et<fe.length;Et++)if(fe[Et].arc)for(var He=fe[Et].abs,dt=0;dt<He.length;dt++){var ct=He[dt];ct.type==="arc"?D.call(this,ct.x,ct.y,ct.radius,ct.startAngle,ct.endAngle,ct.counterclockwise,void 0,J,!Wt):V.call(this,ct.x,ct.y),Wt=!0}else if(fe[Et].close===!0)this.pdf.internal.out("h"),Wt=!1;else if(fe[Et].begin!==!0){var ft=fe[Et].start.x,At=fe[Et].start.y;le.call(this,fe[Et].deltas,ft,At),Wt=!0}he&&I.call(this,he),J&&F.call(this)}},ae=function(q){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return q-re;case"top":return q+J-re;case"hanging":return q+J-2*re;case"middle":return q+J/2-re;default:return q}},G=function(q){return q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var q=function(){};return q.colorStops=[],q.addColorStop=function(J,re){this.colorStops.push([J,re])},q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},q.isCanvasGradient=!0,q},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(q,J,re,he,fe,be,Pe,ke,Be){for(var Ze=ie.call(this,re,he,fe,be),ot=0;ot<Ze.length;ot++){var it=Ze[ot];ot===0&&(Be?k.call(this,it.x1+q,it.y1+J):V.call(this,it.x1+q,it.y1+J)),Ne.call(this,q,J,it.x2,it.y2,it.x3,it.y3,it.x4,it.y4)}ke?F.call(this):I.call(this,Pe)},I=function(q){switch(q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(q,J){this.pdf.internal.out(t(q)+" "+s(J)+" m")},P=function(q){var J;switch(q.align){case"right":case"end":J="right";break;case"center":J="center";break;default:J="left"}var re,he,fe,be=this.pdf.getTextDimensions(q.text),Pe=ae.call(this,q.y),ke=G.call(this,Pe)-be.h,Be=this.ctx.transform.applyToPoint(new c(q.x,Pe));if(this.autoPaging){var Ze=this.ctx.transform.decompose(),ot=new h;ot=(ot=(ot=ot.multiply(Ze.translate)).multiply(Ze.skew)).multiply(Ze.scale);for(var it=this.ctx.transform.applyToRectangle(new d(q.x,Pe,be.w,be.h)),Ve=ot.applyToRectangle(new d(q.x,ke,be.w,be.h)),X=j.call(this,Ve),Ke=[],Wt=0;Wt<X.length;Wt+=1)Ke.indexOf(X[Wt])===-1&&Ke.push(X[Wt]);M(Ke);for(var Et=Ke[0],He=Ke[Ke.length-1],dt=Et;dt<He+1;dt++){this.pdf.setPage(dt);var ct=dt===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[2],sn=At-this.margin[0],un=this.pdf.internal.pageSize.width-this.margin[1],Jt=un-this.margin[3],xn=dt===1?0:ft+(dt-2)*sn;if(this.ctx.clip_path.length!==0){var on=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(re,this.posX+this.margin[3],-1*xn+ct),se.call(this,"fill",!0),this.path=on}var Nt=L([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-xn+ct+this.ctx.prevPageLastElemOffset)[0];q.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*q.scale),fe=this.lineWidth,this.lineWidth=fe*q.scale);var tn=this.autoPaging!=="text";if(tn||Nt.y+Nt.h<=At){if(tn||Nt.y>=ct&&Nt.x<=un){var jt=tn?q.text:this.pdf.splitTextToSize(q.text,q.maxWidth||un-Nt.x)[0],Tr=L([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-xn+ct+this.ctx.prevPageLastElemOffset)[0],ln=tn&&(dt>Et||dt<He)&&E.call(this);ln&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,sn,null).clip().discardPath()),this.pdf.text(jt,Tr.x,Tr.y,{angle:q.angle,align:J,renderingMode:q.renderingMode}),ln&&this.pdf.restoreGraphicsState()}}else Nt.y<At&&(this.ctx.prevPageLastElemOffset+=At-Nt.y);q.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=fe)}}else q.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*q.scale),fe=this.lineWidth,this.lineWidth=fe*q.scale),this.pdf.text(q.text,Be.x+this.posX,Be.y+this.posY,{angle:q.angle,align:J,renderingMode:q.renderingMode,maxWidth:q.maxWidth}),q.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=fe)},V=function(q,J,re,he){re=re||0,he=he||0,this.pdf.internal.out(t(q+re)+" "+s(J+he)+" l")},le=function(q,J,re){return this.pdf.lines(q,J,re,null,null)},Ne=function(q,J,re,he,fe,be,Pe,ke){this.pdf.internal.out([e(a(re+q)),e(o(he+J)),e(a(fe+q)),e(o(be+J)),e(a(Pe+q)),e(o(ke+J)),"c"].join(" "))},ie=function(q,J,re,he){for(var fe=2*Math.PI,be=Math.PI/2;J>re;)J-=fe;var Pe=Math.abs(re-J);Pe<fe&&he&&(Pe=fe-Pe);for(var ke=[],Be=he?-1:1,Ze=J;Pe>1e-5;){var ot=Ze+Be*Math.min(Pe,be);ke.push(ge.call(this,q,Ze,ot)),Pe-=Math.abs(ot-Ze),Ze=ot}return ke},ge=function(q,J,re){var he=(re-J)/2,fe=q*Math.cos(he),be=q*Math.sin(he),Pe=fe,ke=-be,Be=Pe*Pe+ke*ke,Ze=Be+Pe*fe+ke*be,ot=4/3*(Math.sqrt(2*Be*Ze)-Ze)/(Pe*be-ke*fe),it=Pe-ot*ke,Ve=ke+ot*Pe,X=it,Ke=-Ve,Wt=he+J,Et=Math.cos(Wt),He=Math.sin(Wt);return{x1:q*Math.cos(J),y1:q*Math.sin(J),x2:it*Et-Ve*He,y2:it*He+Ve*Et,x3:X*Et-Ke*He,y3:X*He+Ke*Et,x4:q*Math.cos(re),y4:q*Math.sin(re)}},ue=function(q){return 180*q/Math.PI},je=function(q,J,re,he,fe,be){var Pe=q+.5*(re-q),ke=J+.5*(he-J),Be=fe+.5*(re-fe),Ze=be+.5*(he-be),ot=Math.min(q,fe,Pe,Be),it=Math.max(q,fe,Pe,Be),Ve=Math.min(J,be,ke,Ze),X=Math.max(J,be,ke,Ze);return new d(ot,Ve,it-ot,X-Ve)},ze=function(q,J,re,he,fe,be,Pe,ke){var Be,Ze,ot,it,Ve,X,Ke,Wt,Et,He,dt,ct,ft,At,sn=re-q,un=he-J,Jt=fe-re,xn=be-he,on=Pe-fe,Nt=ke-be;for(Ze=0;Ze<41;Ze++)Et=(Ke=(ot=q+(Be=Ze/40)*sn)+Be*((Ve=re+Be*Jt)-ot))+Be*(Ve+Be*(fe+Be*on-Ve)-Ke),He=(Wt=(it=J+Be*un)+Be*((X=he+Be*xn)-it))+Be*(X+Be*(be+Be*Nt-X)-Wt),Ze==0?(dt=Et,ct=He,ft=Et,At=He):(dt=Math.min(dt,Et),ct=Math.min(ct,He),ft=Math.max(ft,Et),At=Math.max(At,He));return new d(Math.round(dt),Math.round(ct),Math.round(ft-dt),Math.round(At-ct))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var q,J,re=(q=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:q,lineDashOffset:J}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(Rt.API),(function(n){var e=function(c){var d,h,f,g,p,v,b,T,E,j;for(h=[],f=0,g=(c+=d="\0\0\0\0".slice(c.length%4||4)).length;g>f;f+=4)(p=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(v=(p=((p=((p=((p=(p-(j=p%85))/85)-(E=p%85))/85)-(T=p%85))/85)-(b=p%85))/85)%85,h.push(v+33,b+33,T+33,E+33,j+33)):h.push(122);return(function(S,L){for(var M=L;M>0;M--)S.pop()})(h,d.length),String.fromCharCode.apply(String,h)+"~>"},t=function(c){var d,h,f,g,p,v=String,b="length",T=255,E="charCodeAt",j="slice",S="replace";for(c[j](-2),c=c[j](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),f=[],g=0,p=(c+=d="uuuuu"[j](c[b]%5||5))[b];p>g;g+=5)h=52200625*(c[E](g)-33)+614125*(c[E](g+1)-33)+7225*(c[E](g+2)-33)+85*(c[E](g+3)-33)+(c[E](g+4)-33),f.push(T&h>>24,T&h>>16,T&h>>8,T&h);return(function(L,M){for(var z=M;z>0;z--)L.pop()})(f,d[b]),v.fromCharCode.apply(v,f)},s=function(c){return c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),d.test(c)===!1)return"";for(var h="",f=0;f<c.length;f+=2)h+=String.fromCharCode("0x"+(c[f]+c[f+1]));return h},o=function(c){for(var d=new Uint8Array(c.length),h=c.length;h--;)d[h]=c.charCodeAt(h);return(d=I2(d)).reduce(function(f,g){return f+String.fromCharCode(g)},"")};n.processDataByFilters=function(c,d){var h=0,f=c||"",g=[];for(typeof(d=d||[])=="string"&&(d=[d]),h=0;h<d.length;h+=1)switch(d[h]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=s(f),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[h]+'" is not implemented')}return{data:f,reverseChain:g.reverse().join(" ")}}})(Rt.API),(function(n){n.loadFile=function(e,t,s){return(function(a,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var d=void 0;try{d=(function(h,f,g){var p=new XMLHttpRequest,v=0,b=function(T){var E=T.length,j=[],S=String.fromCharCode;for(v=0;v<E;v+=1)j.push(S(255&T.charCodeAt(v)));return j.join("")};if(p.open("GET",h,!f),p.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(p.onload=function(){p.status===200?g(b(this.responseText)):g(void 0)}),p.send(null),f&&p.status===200)return b(p.responseText)})(a,o,c)}catch{}return d})(e,t,s)},n.loadImageFile=n.loadFile})(Rt.API),(function(n){function e(){return(rn.html2canvas?Promise.resolve(rn.html2canvas):c1(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function t(){return(rn.DOMPurify?Promise.resolve(rn.DOMPurify):c1(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var s=function(d){var h=cr(d);return h==="undefined"?"undefined":h==="string"||d instanceof String?"string":h==="number"||d instanceof Number?"number":h==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":h==="object"?"object":"unknown"},a=function(d,h){var f=document.createElement(d);for(var g in h.className&&(f.className=h.className),h.innerHTML&&h.dompurify&&(f.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)f.style[g]=h.style[g];return f},o=function d(h,f){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),p=h.firstChild;p;p=p.nextSibling)f!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||g.appendChild(d(p,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g},c=function d(h){var f=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),g=d.convert(Promise.resolve(),f);return(g=g.setProgress(1,d,1,[d])).set(h)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(d,h){return d.__proto__=h||c.prototype,d},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(d,h){return this.then(function(){switch(h=h||(function(f){switch(s(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(d),h){case"string":return this.then(t).then(function(f){return this.set({src:a("div",{innerHTML:d,dompurify:f})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},c.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(h){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,h(this.prop.container,f)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(h){var f=this.opt.jsPDF,g=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=g,g)for(var b=0;b<g.length;++b){var T=g[b],E=T.src.find(function(j){return j.format==="truetype"});E&&f.addFont(E.url,T.ref.name,T.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,f.context2d.save(!0),h(this.prop.container,v)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(d,h,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(d,h):this.outputPdf(d,h)},c.prototype.outputPdf=function(d,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,h)})},c.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},c.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(d){if(s(d)!=="object")return this;var h=Object.keys(d||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=d[f]};switch(f){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[f]=d[f]}}},this);return this.then(function(){return this.thenList(h)})},c.prototype.get=function(d,h){return this.then(function(){var f=d in c.template.prop?this.prop[d]:this.opt[d];return h?h(f):f})},c.prototype.setMargin=function(d){return this.then(function(){switch(s(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},c.prototype.setPageSize=function(d){function h(f,g){return Math.floor(f*g/72*96)}return this.then(function(){(d=d||Rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:h(d.inner.width,d.k),height:h(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},c.prototype.setProgress=function(d,h,f,g){return d!=null&&(this.progress.val=d),h!=null&&(this.progress.state=h),f!=null&&(this.progress.n=f),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(d,h,f,g){return this.setProgress(d?this.progress.val+d:null,h||null,f?this.progress.n+f:null,g?this.progress.stack.concat(g):null)},c.prototype.then=function(d,h){var f=this;return this.thenCore(d,h,function(g,p){return f.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(v){return f.updateProgress(null,g),v}).then(g,p).then(function(v){return f.updateProgress(1),v})})},c.prototype.thenCore=function(d,h,f){f=f||Promise.prototype.then;var g=this;d&&(d=d.bind(g)),h&&(h=h.bind(g));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:c.convert(Object.assign({},g),Promise.prototype),v=f.call(p,d,h);return c.convert(v,g.__proto__)},c.prototype.thenExternal=function(d,h){return Promise.prototype.then.call(this,d,h)},c.prototype.thenList=function(d){var h=this;return d.forEach(function(f){h=h.thenCore(f)}),h},c.prototype.catch=function(d){d&&(d=d.bind(this));var h=Promise.prototype.catch.call(this,d);return c.convert(h,this)},c.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},c.prototype.error=function(d){return this.then(function(){throw new Error(d)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Rt.getPageSize=function(d,h,f){if(cr(d)==="object"){var g=d;d=g.orientation,h=g.unit||h,f=g.format||f}h=h||"mm",f=f||"a4",d=(""+(d||"P")).toLowerCase();var p,v=(""+f).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+h}var T,E=0,j=0;if(b.hasOwnProperty(v))E=b[v][1]/p,j=b[v][0]/p;else try{E=f[1],j=f[0]}catch{throw new Error("Invalid format: "+f)}if(d==="p"||d==="portrait")d="p",j>E&&(T=j,j=E,E=T);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",E>j&&(T=j,j=E,E=T)}return{width:j,height:E,unit:h,k:p,orientation:d}},n.html=function(d,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(A1):null;var f=new c(h);return h.worker?f:f.from(d).doCallback()}})(Rt.API),Rt.API.addJS=function(n){return O6=n,this.internal.events.subscribe("postPutResources",function(){I0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(I0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),M6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+O6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){I0!==void 0&&M6!==void 0&&this.internal.out("/Names <</JavaScript "+I0+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var c=a[o],d=s.exec(c);if(d!=null){var h=d[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,g=[];for(o=0;o<f;o++){var p=t.internal.newObject();g.push(p);var v=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<g.length;o++)t.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(s,a,o){var c={title:a,options:o,children:[]};return s==null&&(s=this.root),s.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(s){s.id=t.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},t.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},t.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var c=s.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var d=this.count=this.count_r({count:0},c);if(d>0&&this.line("/Count "+d),c.options&&c.options.pageNumber){var h=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<s.children.length;f++)this.renderItems(s.children[f])},t.outline.line=function(s){this.ctx.val+=s+`\r
`},t.outline.makeRef=function(s){return s.id+" 0 R"},t.outline.makeString=function(s){return"("+t.internal.pdfEscape(s)+")"},t.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(s,a){for(var o=0;o<a.children.length;o++)s.count++,this.count_r(s,a.children[o]);return s.count}}])})(Rt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,s,a,o,c,d){var h,f=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,h=(function(p){for(var v,b=256*p.charCodeAt(4)+p.charCodeAt(5),T=p.length,E={width:0,height:0,numcomponents:1},j=4;j<T;j+=2){if(j+=b,e.indexOf(p.charCodeAt(j+1))!==-1){v=256*p.charCodeAt(j+5)+p.charCodeAt(j+6),E={width:256*p.charCodeAt(j+7)+p.charCodeAt(j+8),height:v,numcomponents:p.charCodeAt(j+9)};break}b=256*p.charCodeAt(j+2)+p.charCodeAt(j+3)}return E})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),h.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}g={data:t,width:h.width,height:h.height,colorSpace:d,bitsPerComponent:8,filter:f,index:s,alias:a}}return g}})(Rt.API),Rt.API.processPNG=function(n,e,t,s){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=xG(n,{checkCrc:!0}),c=o.width,d=o.height,h=o.channels,f=o.palette,g=o.depth;a=f&&h===1?(function(D){for(var I=D.width,F=D.height,k=D.data,P=D.palette,V=D.depth,le=!1,Ne=[],ie=[],ge=void 0,ue=!1,je=0,ze=0;ze<P.length;ze++){var ne=z4(P[ze],4),q=ne[0],J=ne[1],re=ne[2],he=ne[3];Ne.push(q,J,re),he!=null&&(he===0?(je++,ie.length<1&&ie.push(ze)):he<255&&(ue=!0))}if(ue||je>1){le=!0,ie=void 0;var fe=I*F;ge=new Uint8Array(fe);for(var be=new DataView(k.buffer),Pe=0;Pe<fe;Pe++){var ke=C1(be,Pe,V),Be=z4(P[ke],4)[3];ge[Pe]=Be}}else je===0&&(ie=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:le?8:void 0,colorBytes:k,alphaBytes:ge,needSMask:le,palette:Ne,mask:ie}})(o):h===2||h===4?(function(D){for(var I=D.data,F=D.width,k=D.height,P=D.channels,V=D.depth,le=P===2?"DeviceGray":"DeviceRGB",Ne=P-1,ie=F*k,ge=Ne,ue=ie*ge,je=1*ie,ze=Math.ceil(ue*V/8),ne=Math.ceil(je*V/8),q=new Uint8Array(ze),J=new Uint8Array(ne),re=new DataView(I.buffer),he=new DataView(q.buffer),fe=new DataView(J.buffer),be=!1,Pe=0;Pe<ie;Pe++){for(var ke=Pe*P,Be=0;Be<ge;Be++)$6(he,C1(re,ke+Be,V),Pe*ge+Be,V);var Ze=C1(re,ke+ge,V);Ze<(1<<V)-1&&(be=!0),$6(fe,Ze,1*Pe,V)}return{colorSpace:le,colorsPerPixel:Ne,sMaskBitsPerComponent:be?V:void 0,colorBytes:q,alphaBytes:J,needSMask:be}})(o):(function(D){var I=D.data,F=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?(function(k){for(var P=k.length,V=new Uint8Array(2*P),le=new DataView(V.buffer,V.byteOffset,V.byteLength),Ne=0;Ne<P;Ne++)le.setUint16(2*Ne,k[Ne],!1);return V})(I):I,needSMask:!1}})(o);var p,v,b,T=a,E=T.colorSpace,j=T.colorsPerPixel,S=T.sMaskBitsPerComponent,L=T.colorBytes,M=T.alphaBytes,z=T.needSMask,se=T.palette,ae=T.mask,G=null;return s!==Rt.API.image_compression.NONE&&typeof I2=="function"?(G=(function(D){var I;switch(D){case Rt.API.image_compression.FAST:I=11;break;case Rt.API.image_compression.MEDIUM:I=13;break;case Rt.API.image_compression.SLOW:I=14;break;default:I=12}return I})(s),p=this.decode.FLATE_DECODE,v="/Predictor ".concat(G," /Colors ").concat(j," /BitsPerComponent ").concat(g," /Columns ").concat(c),n=z6(L,Math.ceil(c*j*g/8),j,g,s),z&&(b=z6(M,Math.ceil(c*S/8),1,S,s))):(p=void 0,v=void 0,n=L,z&&(b=M)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:t,data:n,index:e,filter:p,decodeParameters:v,transparency:ae,palette:se,sMask:b,predictor:G,width:c,height:d,bitsPerComponent:g,sMaskBitsPerComponent:S,colorSpace:E}}},(function(n){n.processGIF89A=function(e,t,s,a){var o=new FG(e),c=o.width,d=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:c,height:d},g=new I1(100).encode(f,100);return n.processJPEG.call(this,g,t,s,a)},n.processGIF87A=n.processGIF89A})(Rt.API),hl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:s,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},hl.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Er.log("bit decode error:"+t)}},hl.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+8*a*4,d=0;d<8&&8*a+d<this.width;d++){var h=this.palette[o>>7-d&1];this.data[c+4*d]=h.blue,this.data[c+4*d+1]=h.green,this.data[c+4*d+2]=h.red,this.data[c+4*d+3]=255}t!==0&&(this.pos+=4-t)}},hl.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+2*a*4,d=o>>4,h=15&o,f=this.palette[d];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*a+1>=this.width)break;f=this.palette[h],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},hl.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;if(a<this.palette.length){var c=this.palette[a];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},hl.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,d=(o>>5&e)/e*255|0,h=(o>>10&e)/e*255|0,f=o>>15?255:0,g=s*this.width*4+4*a;this.data[g]=h,this.data[g+1]=d,this.data[g+2]=c,this.data[g+3]=f}this.pos+=n}},hl.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&e)/e*255|0,h=(c>>5&t)/t*255|0,f=(c>>11)/e*255|0,g=a*this.width*4+4*o;this.data[g]=f,this.data[g+1]=h,this.data[g+2]=d,this.data[g+3]=255}this.pos+=n}},hl.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=255}this.pos+=this.width%4}},hl.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*t;this.data[d]=o,this.data[d+1]=a,this.data[d+2]=s,this.data[d+3]=c}},hl.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,s,a){var o=new hl(e,!1),c=o.width,d=o.height,h={data:o.getData(),width:c,height:d},f=new I1(100).encode(h,100);return n.processJPEG.call(this,f,t,s,a)}})(Rt.API),K6.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,s,a){var o=new K6(e),c=o.width,d=o.height,h={data:o.getData(),width:c,height:d},f=new I1(100).encode(h,100);return n.processJPEG.call(this,f,t,s,a)}})(Rt.API),Rt.API.processRGBA=function(n,e,t){for(var s=n.data,a=s.length,o=new Uint8Array(a/4*3),c=new Uint8Array(a/4),d=0,h=0,f=0;f<a;f+=4){var g=s[f],p=s[f+1],v=s[f+2],b=s[f+3];o[d++]=g,o[d++]=p,o[d++]=v,c[h++]=b}var T=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:T,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Rt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ff=Rt.API,k0=ff.getCharWidthsArray=function(n,e){var t,s,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:a.metadata.Unicode.widths,h=d.fof?d.fof:1,f=e.kerning?e.kerning:a.metadata.Unicode.kerning,g=f.fof?f.fof:1,p=e.doKerning!==!1,v=0,b=n.length,T=0,E=d[0]||h,j=[];for(t=0;t<b;t++)s=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?j.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+c*(1e3/o)||0)/1e3):(v=p&&cr(f[s])==="object"&&!isNaN(parseInt(f[s][T],10))?f[s][T]/g:0,j.push((d[s]||E)/h+v)),T=s;return j},F6=ff.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return ff.processArabic&&(n=ff.processArabic(n)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(n,t,a)/t:k0.apply(this,arguments).reduce(function(o,c){return o+c},0)},U6=function(n,e,t,s){for(var a=[],o=0,c=n.length,d=0;o!==c&&d+e[o]<t;)d+=e[o],o++;a.push(n.slice(0,o));var h=o;for(d=0;o!==c;)d+e[o]>s&&(a.push(n.slice(h,o)),d=0,h=o),d+=e[o],o++;return h!==o&&a.push(n.slice(h,o)),a},V6=function(n,e,t){t||(t={});var s,a,o,c,d,h,f,g=[],p=[g],v=t.textIndent||0,b=0,T=0,E=n.split(" "),j=k0.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?E[0].length+2:t.lineIndent||0){var S=Array(h).join(" "),L=[];E.map(function(z){(z=z.split(/\s*\n/)).length>1?L=L.concat(z.map(function(se,ae){return(ae&&se.length?`
`:"")+se})):L.push(z[0])}),E=L,h=F6.apply(this,[S,t])}for(o=0,c=E.length;o<c;o++){var M=0;if(s=E[o],h&&s[0]==`
`&&(s=s.substr(1),M=1),v+b+(T=(a=k0.apply(this,[s,t])).reduce(function(z,se){return z+se},0))>e||M){if(T>e){for(d=U6.apply(this,[s,a,e-(v+b),e]),g.push(d.shift()),g=[d.pop()];d.length;)p.push([d.shift()]);T=a.slice(s.length-(g[0]?g[0].length:0)).reduce(function(z,se){return z+se},0)}else g=[s];p.push(g),v=T+h,b=j}else g.push(s),v+=b+T,b=j}return f=h?function(z,se){return(se?S:"")+z.join(" ")}:function(z){return z.join(" ")},p.map(f)},ff.splitTextToSize=function(n,e,t){var s,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var p=this.internal.getFont(g.fontName,g.fontStyle),v="Unicode";return p.metadata[v]?{widths:p.metadata[v].widths||{0:1},kerning:p.metadata[v].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);s=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var d,h,f=[];for(d=0,h=s.length;d<h;d++)f=f.concat(V6.apply(this,[s[d],c,o]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",s={},a={},o=0;o<16;o++)s[t[o]]=e[o],a[e[o]]=t[o];var c=function(v){return"0x"+parseInt(v,10).toString(16)},d=n.__fontmetrics__.compress=function(v){var b,T,E,j,S=["{"];for(var L in v){if(b=v[L],isNaN(parseInt(L,10))?T="'"+L+"'":(L=parseInt(L,10),T=(T=c(L).slice(2)).slice(0,-1)+a[T.slice(-1)]),typeof b=="number")b<0?(E=c(b).slice(3),j="-"):(E=c(b).slice(2),j=""),E=j+E.slice(0,-1)+a[E.slice(-1)];else{if(cr(b)!=="object")throw new Error("Don't know what to do with value type "+cr(b)+".");E=d(b)}S.push(T+E)}return S.push("}"),S.join("")},h=n.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,T,E,j,S={},L=1,M=S,z=[],se="",ae="",G=v.length-1,D=1;D<G;D+=1)(j=v[D])=="'"?b?(E=b.join(""),b=void 0):b=[]:b?b.push(j):j=="{"?(z.push([M,E]),M={},E=void 0):j=="}"?((T=z.pop())[0][T[1]]=M,E=void 0,M=T[0]):j=="-"?L=-1:E===void 0?s.hasOwnProperty(j)?(se+=s[j],E=parseInt(se,16)*L,L=1,se=""):se+=j:s.hasOwnProperty(j)?(ae+=s[j],M[E]=parseInt(ae,16)*L,L=1,E=void 0,ae=""):ae+=j;return S},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},p={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(v){var b=v.font,T=p.Unicode[b.postScriptName];T&&(b.metadata.Unicode={},b.metadata.Unicode.widths=T.widths,b.metadata.Unicode.kerning=T.kerning);var E=g.Unicode[b.postScriptName];E&&(b.metadata.Unicode.encoding=E,b.encoding=E.codePages[0])}])})(Rt.API),(function(n){var e=function(t){for(var s=t.length,a=new Uint8Array(s),o=0;o<s;o++)a[o]=t.charCodeAt(o);return a};n.API.events.push(["addFont",function(t){var s=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e(X0(d)),c.metadata=n.API.TTFFont.open(d),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,s)}}])})(Rt),Rt.API.addSvgAsImage=function(n,e,t,s,a,o,c,d){if(isNaN(e)||isNaN(t))throw Er.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Er.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=a;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(rn.canvg?Promise.resolve(rn.canvg):c1(()=>import("./index.es-b-nu1Ch_.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(f,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(g)}).then(function(){p.addImage(h.toDataURL("image/jpeg",1),e,t,s,a,c,d)})},Rt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(e,t);return this},Rt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var s,a,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(c),h=[],f=0,g=0,p=0;function v(T,E){var j,S=!1;for(j=0;j<T.length;j+=1)T[j]===E&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var b=d.length;for(p=0;p<b;p+=1)t[d[p]].value=t[d[p]].defaultValue,t[d[p]].explicitSet=!1}if(cr(n)==="object"){for(a in n)if(o=n[a],v(d,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&v(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(f=0;f<o.length;f+=1)if(s=!0,o[f].length===1&&typeof o[f][0]=="number")h.push(String(o[f]-1));else if(o[f].length>1){for(g=0;g<o[f].length;g+=1)typeof o[f][g]!="number"&&(s=!1);s===!0&&h.push([o[f][0]-1,o[f][1]-1].join(" "))}t[a].value="["+h.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,E=[];for(T in t)t[T].explicitSet===!0&&(t[T].type==="name"?E.push("/"+T+" /"+t[T].value):E.push("/"+T+" "+t[T].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(s)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+c.length+d.length+a.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+o+c+d+h),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Rt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var d,h=c.metadata.Unicode.widths,f=["","0","00","000","0000"],g=[""],p=0,v=o.length;p<v;++p){if(d=c.metadata.characterToGlyph(o.charCodeAt(p)),c.metadata.glyIdsUsed.push(d),c.metadata.toUnicode[d]=o.charCodeAt(p),h.indexOf(d)==-1&&(h.push(d),h.push([parseInt(c.metadata.widthOfGlyph(d),10)])),d=="0")return g.join("");d=d.toString(16),g.push(f[4-d.length],d)}return g.join("")},s=function(o){var c,d,h,f,g,p,v;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],p=0,v=(d=Object.keys(o).sort(function(b,T){return b-T})).length;p<v;p++)c=d[p],h.length>=100&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(f=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),h.push("<"+c+"><"+f+">"));return h.length&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var d=c.font,h=c.out,f=c.newObject,g=c.putStream;if(d.metadata instanceof n.API.TTFFont&&d.encoding==="Identity-H"){for(var p=d.metadata.Unicode.widths,v=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),b="",T=0;T<v.length;T++)b+=String.fromCharCode(v[T]);var E=f();g({data:b,addLength1:!0,objectId:E}),h("endobj");var j=f();g({data:s(d.metadata.toUnicode),addLength1:!0,objectId:j}),h("endobj");var S=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+vf(d.fontName)),h("/FontFile2 "+E+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(d.metadata.bbox)),h("/Flags "+d.metadata.flags),h("/StemV "+d.metadata.stemV),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h(">>"),h("endobj");var L=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+vf(d.fontName)),h("/FontDescriptor "+S+" 0 R"),h("/W "+n.API.PDFObject.convert(p)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+d.encoding+")"),h(">>"),h(">>"),h("endobj"),d.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+j+" 0 R"),h("/BaseFont /"+vf(d.fontName)),h("/Encoding /"+d.encoding),h("/DescendantFonts ["+L+" 0 R]"),h(">>"),h("endobj"),d.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var d=c.font,h=c.out,f=c.newObject,g=c.putStream;if(d.metadata instanceof n.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var p=d.metadata.rawData,v="",b=0;b<p.length;b++)v+=String.fromCharCode(p[b]);var T=f();g({data:v,addLength1:!0,objectId:T}),h("endobj");var E=f();g({data:s(d.metadata.toUnicode),addLength1:!0,objectId:E}),h("endobj");var j=f();h("<<"),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h("/StemV "+d.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+T+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(d.metadata.bbox)),h("/FontName /"+vf(d.fontName)),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h(">>"),h("endobj"),d.objectNumber=f();for(var S=0;S<d.metadata.hmtx.widths.length;S++)d.metadata.hmtx.widths[S]=parseInt(d.metadata.hmtx.widths[S]*(1e3/d.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+vf(d.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),h("endobj"),d.isAlreadyPutted=!0}})(o)}]);var a=function(o){var c,d=o.text||"",h=o.x,f=o.y,g=o.options||{},p=o.mutex||{},v=p.pdfEscape,b=p.activeFontKey,T=p.fonts,E=b,j="",S=0,L="",M=T[E].encoding;if(T[E].encoding!=="Identity-H")return{text:d,x:h,y:f,options:g,mutex:p};for(L=d,E=b,Array.isArray(d)&&(L=d[0]),S=0;S<L.length;S+=1)T[E].metadata.hasOwnProperty("cmap")&&(c=T[E].metadata.cmap.unicode.codeMap[L[S].charCodeAt(0)]),c||L[S].charCodeAt(0)<256&&T[E].metadata.hasOwnProperty("Unicode")?j+=L[S]:j+="";var z="";return parseInt(E.slice(1))<14||M==="WinAnsiEncoding"?z=v(j,E).split("").map(function(se){return se.charCodeAt(0).toString(16)}).join(""):M==="Identity-H"&&(z=t(j,T[E])),p.isHex=!0,{text:z,x:h,y:f,options:g,mutex:p}};e.events.push(["postProcessText",function(o){var c=o.text||"",d=[],h={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?d.push([a(Object.assign({},h,{text:c[f][0]})).text,c[f][1],c[f][2]]):d.push(a(Object.assign({},h,{text:c[f]})).text);o.text=d}else o.text=a(Object.assign({},h,{text:c})).text}])})(Rt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,s){return e.call(this),this.internal.vFS[t]=s,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Rt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(s){var a,o,c,d,h,f,g,p=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,M=0;this.__bidiEngine__={};var z=function(k){var P=k.charCodeAt(),V=P>>8,le=E[V];return le!==void 0?p[256*le+(255&P)]:V===252||V===253?"AL":S.test(V)?"L":V===8?"R":"N"},se=function(k){for(var P,V=0;V<k.length;V++){if((P=z(k.charAt(V)))==="L")return!1;if(P==="R")return!0}return!1},ae=function(k,P,V,le){var Ne,ie,ge,ue,je=P[le];switch(je){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"N":case"AN":break;case"EN":L&&(je="AN");break;case"AL":L=!0,je="R";break;case"WS":case"BN":je="N";break;case"CS":le<1||le+1>=P.length||(Ne=V[le-1])!=="EN"&&Ne!=="AN"||(ie=P[le+1])!=="EN"&&ie!=="AN"?je="N":L&&(ie="AN"),je=ie===Ne?ie:"N";break;case"ES":je=(Ne=le>0?V[le-1]:"B")==="EN"&&le+1<P.length&&P[le+1]==="EN"?"EN":"N";break;case"ET":if(le>0&&V[le-1]==="EN"){je="EN";break}if(L){je="N";break}for(ge=le+1,ue=P.length;ge<ue&&P[ge]==="ET";)ge++;je=ge<ue&&P[ge]==="EN"?"EN":"N";break;case"NSM":if(c&&!d){for(ue=P.length,ge=le+1;ge<ue&&P[ge]==="NSM";)ge++;if(ge<ue){var ze=k[le],ne=ze>=1425&&ze<=2303||ze===64286;if(Ne=P[ge],ne&&(Ne==="R"||Ne==="AL")){je="R";break}}}je=le<1||(Ne=P[le-1])==="B"?"N":V[le-1];break;case"B":L=!1,a=!0,je=M;break;case"S":o=!0,je="N"}return je},G=function(k,P,V){var le=k.split("");return V&&D(le,V,{hiLevel:M}),le.reverse(),P&&P.reverse(),le.join("")},D=function(k,P,V){var le,Ne,ie,ge,ue,je=-1,ze=k.length,ne=0,q=[],J=M?b:v,re=[];for(L=!1,a=!1,o=!1,Ne=0;Ne<ze;Ne++)re[Ne]=z(k[Ne]);for(ie=0;ie<ze;ie++){if(ue=ne,q[ie]=ae(k,re,q,ie),le=240&(ne=J[ue][T[q[ie]]]),ne&=15,P[ie]=ge=J[ne][5],le>0)if(le===16){for(Ne=je;Ne<ie;Ne++)P[Ne]=1;je=-1}else je=-1;if(J[ne][6])je===-1&&(je=ie);else if(je>-1){for(Ne=je;Ne<ie;Ne++)P[Ne]=ge;je=-1}re[ie]==="B"&&(P[ie]=0),V.hiLevel|=ge}o&&(function(he,fe,be){for(var Pe=0;Pe<be;Pe++)if(he[Pe]==="S"){fe[Pe]=M;for(var ke=Pe-1;ke>=0&&he[ke]==="WS";ke--)fe[ke]=M}})(re,P,ze)},I=function(k,P,V,le,Ne){if(!(Ne.hiLevel<k)){if(k===1&&M===1&&!a)return P.reverse(),void(V&&V.reverse());for(var ie,ge,ue,je,ze=P.length,ne=0;ne<ze;){if(le[ne]>=k){for(ue=ne+1;ue<ze&&le[ue]>=k;)ue++;for(je=ne,ge=ue-1;je<ge;je++,ge--)ie=P[je],P[je]=P[ge],P[ge]=ie,V&&(ie=V[je],V[je]=V[ge],V[ge]=ie);ne=ue}ne++}}},F=function(k,P,V){var le=k.split(""),Ne={hiLevel:M};return V||(V=[]),D(le,V,Ne),(function(ie,ge,ue){if(ue.hiLevel!==0&&g)for(var je,ze=0;ze<ie.length;ze++)ge[ze]===1&&(je=j.indexOf(ie[ze]))>=0&&(ie[ze]=j[je+1])})(le,V,Ne),I(2,le,P,V,Ne),I(1,le,P,V,Ne),le.join("")};return this.__bidiEngine__.doBidiReorder=function(k,P,V){if((function(Ne,ie){if(ie)for(var ge=0;ge<Ne.length;ge++)ie[ge]=ge;d===void 0&&(d=se(Ne)),f===void 0&&(f=se(Ne))})(k,P),c||!h||f)if(c&&h&&d^f)M=d?1:0,k=G(k,P,V);else if(!c&&h&&f)M=d?1:0,k=F(k,P,V),k=G(k,P);else if(!c||d||h||f){if(c&&!h&&d^f)k=G(k,P),d?(M=0,k=F(k,P,V)):(M=1,k=F(k,P,V),k=G(k,P));else if(c&&d&&!h&&f)M=1,k=F(k,P,V),k=G(k,P);else if(!c&&!h&&d^f){var le=g;d?(M=1,k=F(k,P,V),M=0,g=!1,k=F(k,P,V),g=le):(M=0,k=F(k,P,V),k=G(k,P),M=1,g=!1,k=F(k,P,V),g=le,k=G(k,P))}}else M=0,k=F(k,P,V);else M=d?1:0,k=F(k,P,V);return k},this.__bidiEngine__.setOptions=function(k){k&&(c=k.isInputVisual,h=k.isOutputVisual,d=k.isInputRtl,f=k.isOutputRtl,g=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var o=s.options||{};s.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var d=0;for(c=[],d=0;d<a.length;d+=1)Object.prototype.toString.call(a[d])==="[object Array]"?c.push([t.doBidiReorder(a[d][0]),a[d][1],a[d][2]]):c.push([t.doBidiReorder(a[d])]);s.text=c}else s.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Rt),Rt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new lu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new ZG(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new UG(this.contents),this.head=new zG(this),this.name=new $G(this),this.cmap=new wC(this),this.toUnicode={},this.hhea=new BG(this),this.maxp=new WG(this),this.hmtx=new KG(this),this.post=new GG(this),this.os2=new qG(this),this.loca=new JG(this),this.glyf=new YG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,s,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,d,h,f;for(f=[],c=0,d=(h=this.bbox).length;c<d;c++)e=h[c],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,s){var a,o,c,d;for(c=0,o=0,d=(e=""+e).length;0<=d?o<d:o>d;o=0<=d?++o:--o)a=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var s;return t==null&&(t=!1),s=t?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},n})();var wl,lu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,s;for(s=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)s[t]=String.fromCharCode(this.readByte());return s.join("")},n.prototype.writeString=function(e){var t,s,a;for(a=[],t=0,s=e.length;0<=s?t<s:t>s;t=0<=s?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,s,a,o,c,d,h;return e=this.readByte(),t=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),d=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^o)+65536*(255^c)+256*(255^d)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*s+4294967296*a+16777216*o+65536*c+256*d+h},n.prototype.writeLongLong=function(e){var t,s;return t=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,s;for(t=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)t.push(this.readByte());return t},n.prototype.write=function(e){var t,s,a,o;for(o=[],s=0,a=e.length;s<a;s++)t=e[s],o.push(this.writeByte(t));return o},n})(),UG=(function(){var n;function e(t){var s,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)s={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(t){var s,a,o,c,d,h,f,g,p,v,b,T,E;for(E in b=Object.keys(t).length,h=Math.log(2),p=16*Math.floor(Math.log(b)/h),c=Math.floor(p/h),g=16*b-p,(a=new lu).writeInt(this.scalarType),a.writeShort(b),a.writeShort(p),a.writeShort(c),a.writeShort(g),o=16*b,f=a.pos+o,d=null,T=[],t)for(v=t[E],a.writeString(E),a.writeInt(n(v)),a.writeInt(f),a.writeInt(v.length),T=T.concat(v),E==="head"&&(d=f),f+=v.length;f%4;)T.push(0),f++;return a.write(T),s=2981146554-n(a.data),a.pos=d+8,a.writeUInt32(s),a.data},n=function(t){var s,a,o,c;for(t=NC.call(t);t.length%4;)t.push(0);for(o=new lu(t),a=0,s=0,c=t.length;s<c;s=s+=4)a+=o.readUInt32();return 4294967295&a},e})(),VG={}.hasOwnProperty,oc=function(n,e){for(var t in e)VG.call(e,t)&&(n[t]=e[t]);function s(){this.constructor=n}return s.prototype=e.prototype,n.prototype=new s,n.__super__=e.prototype,n};wl=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var zG=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,wl),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new lu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),Y6=(function(){function n(e,t){var s,a,o,c,d,h,f,g,p,v,b,T,E,j,S,L,M;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(b=e.readUInt16(),v=b/2,e.pos+=6,o=(function(){var z,se;for(se=[],h=z=0;0<=v?z<v:z>v;h=0<=v?++z:--z)se.push(e.readUInt16());return se})(),e.pos+=2,E=(function(){var z,se;for(se=[],h=z=0;0<=v?z<v:z>v;h=0<=v?++z:--z)se.push(e.readUInt16());return se})(),f=(function(){var z,se;for(se=[],h=z=0;0<=v?z<v:z>v;h=0<=v?++z:--z)se.push(e.readUInt16());return se})(),g=(function(){var z,se;for(se=[],h=z=0;0<=v?z<v:z>v;h=0<=v?++z:--z)se.push(e.readUInt16());return se})(),a=(this.length-e.pos+this.offset)/2,d=(function(){var z,se;for(se=[],h=z=0;0<=a?z<a:z>a;h=0<=a?++z:--z)se.push(e.readUInt16());return se})(),h=S=0,M=o.length;S<M;h=++S)for(j=o[h],s=L=T=E[h];T<=j?L<=j:L>=j;s=T<=j?++L:--L)g[h]===0?c=s+f[h]:(c=d[g[h]/2+(s-T)-(v-h)]||0)!==0&&(c+=f[h]),this.codeMap[s]=65535&c}e.pos=p}return n.encode=function(e,t){var s,a,o,c,d,h,f,g,p,v,b,T,E,j,S,L,M,z,se,ae,G,D,I,F,k,P,V,le,Ne,ie,ge,ue,je,ze,ne,q,J,re,he,fe,be,Pe,ke,Be,Ze,ot;switch(le=new lu,c=Object.keys(e).sort(function(it,Ve){return it-Ve}),t){case"macroman":for(E=0,j=(function(){var it=[];for(T=0;T<256;++T)it.push(0);return it})(),L={0:0},o={},Ne=0,je=c.length;Ne<je;Ne++)L[ke=e[a=c[Ne]]]==null&&(L[ke]=++E),o[a]={old:e[a],new:L[e[a]]},j[a]=L[e[a]];return le.writeUInt16(1),le.writeUInt16(0),le.writeUInt32(12),le.writeUInt16(0),le.writeUInt16(262),le.writeUInt16(0),le.write(j),{charMap:o,subtable:le.data,maxGlyphID:E+1};case"unicode":for(P=[],p=[],M=0,L={},s={},S=f=null,ie=0,ze=c.length;ie<ze;ie++)L[se=e[a=c[ie]]]==null&&(L[se]=++M),s[a]={old:se,new:L[se]},d=L[se]-a,S!=null&&d===f||(S&&p.push(S),P.push(a),f=d),S=a;for(S&&p.push(S),p.push(65535),P.push(65535),F=2*(I=P.length),D=2*Math.pow(Math.log(I)/Math.LN2,2),v=Math.log(D/2)/Math.LN2,G=2*I-D,h=[],ae=[],b=[],T=ge=0,ne=P.length;ge<ne;T=++ge){if(k=P[T],g=p[T],k===65535){h.push(0),ae.push(0);break}if(k-(V=s[k].new)>=32768)for(h.push(0),ae.push(2*(b.length+I-T)),a=ue=k;k<=g?ue<=g:ue>=g;a=k<=g?++ue:--ue)b.push(s[a].new);else h.push(V-k),ae.push(0)}for(le.writeUInt16(3),le.writeUInt16(1),le.writeUInt32(12),le.writeUInt16(4),le.writeUInt16(16+8*I+2*b.length),le.writeUInt16(0),le.writeUInt16(F),le.writeUInt16(D),le.writeUInt16(v),le.writeUInt16(G),be=0,q=p.length;be<q;be++)a=p[be],le.writeUInt16(a);for(le.writeUInt16(0),Pe=0,J=P.length;Pe<J;Pe++)a=P[Pe],le.writeUInt16(a);for(Be=0,re=h.length;Be<re;Be++)d=h[Be],le.writeUInt16(d);for(Ze=0,he=ae.length;Ze<he;Ze++)z=ae[Ze],le.writeUInt16(z);for(ot=0,fe=b.length;ot<fe;ot++)E=b[ot],le.writeUInt16(E);return{charMap:s,subtable:le.data,maxGlyphID:M+1}}},n})(),wC=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,wl),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,s,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)t=new Y6(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var s,a;return t==null&&(t="macroman"),s=Y6.encode(e,t),(a=new lu).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},n})(),BG=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,wl),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),qG=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,wl),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,s;for(s=[],t=0;t<10;++t)s.push(e.readByte());return s})(),this.charRange=(function(){var t,s;for(s=[],t=0;t<4;++t)s.push(e.readInt());return s})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,s;for(s=[],t=0;t<2;t=++t)s.push(e.readInt());return s})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),GG=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,wl),n.prototype.tag="post",n.prototype.parse=function(e){var t,s,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(s=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 262144:return this.map=(function(){var c,d,h;for(h=[],o=c=0,d=this.file.maxp.numGlyphs;0<=d?c<d:c>d;o=0<=d?++c:--c)h.push(e.readUInt32());return h}).call(this)}},n})(),HG=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},$G=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,wl),n.prototype.tag="name",n.prototype.parse=function(e){var t,s,a,o,c,d,h,f,g,p,v;for(e.pos=this.offset,e.readShort(),t=e.readShort(),d=e.readShort(),s=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+d+e.readShort()});for(h={},o=g=0,p=s.length;g<p;o=++g)a=s[o],e.pos=a.offset,f=e.readString(a.length),c=new HG(f,a),h[v=a.nameID]==null&&(h[v]=[]),h[a.nameID].push(c);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},n})(),WG=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,wl),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),KG=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,wl),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,s,a,o,c,d,h;for(e.pos=this.offset,this.metrics=[],t=0,d=this.file.hhea.numberOfMetrics;0<=d?t<d:t>d;t=0<=d?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,g;for(g=[],t=f=0;0<=a?f<a:f>a;t=0<=a?++f:--f)g.push(e.readInt16());return g})(),this.widths=(function(){var f,g,p,v;for(v=[],f=0,g=(p=this.metrics).length;f<g;f++)o=p[f],v.push(o.advance);return v}).call(this),s=this.widths[this.widths.length-1],h=[],t=c=0;0<=a?c<a:c>a;t=0<=a?++c:--c)h.push(this.widths.push(s));return h},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),NC=[].slice,YG=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,wl),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,s,a,o,c,d,h,f,g,p;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,s=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+s,c=(d=new lu(t.read(a))).readShort(),f=d.readShort(),p=d.readShort(),h=d.readShort(),g=d.readShort(),this.cache[e]=c===-1?new QG(d,f,p,h,g):new XG(d,c,f,p,h,g),this.cache[e]))},n.prototype.encode=function(e,t,s){var a,o,c,d,h;for(c=[],o=[],d=0,h=t.length;d<h;d++)a=e[t[d]],o.push(c.length),a&&(c=c.concat(a.encode(s)));return o.push(c.length),{table:c,offsets:o}},n})(),XG=(function(){function n(e,t,s,a,o,c){this.raw=e,this.numberOfContours=t,this.xMin=s,this.yMin=a,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),QG=(function(){function n(e,t,s,a,o){var c,d;for(this.raw=e,this.xMin=t,this.yMin=s,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;d=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&d;)c.pos+=1&d?4:2,128&d?c.pos+=8:64&d?c.pos+=4:8&d&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,s;for(t=new lu(NC.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),JG=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return oc(n,wl),n.prototype.tag="loca",n.prototype.parse=function(e){var t,s;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var s=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<s.length;++c)if(s[c]=a,o<t.length&&t[o]==c){++o,s[c]=a;var d=this.offsets[c],h=this.offsets[c+1]-d;h>0&&(a+=h)}for(var f=new Array(4*s.length),g=0;g<s.length;++g)f[4*g+3]=255&s[g],f[4*g+2]=(65280&s[g])>>8,f[4*g+1]=(16711680&s[g])>>16,f[4*g]=(4278190080&s[g])>>24;return f},n})(),ZG=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,s,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)s=o[t],e[t]=a[s];return e},n.prototype.glyphsFor=function(e){var t,s,a,o,c,d,h;for(a={},c=0,d=e.length;c<d;c++)a[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(s=a[o])!=null&&s.compound&&t.push.apply(t,s.glyphIDs);if(t.length>0)for(o in h=this.glyphsFor(t))s=h[o],a[o]=s;return a},n.prototype.encode=function(e,t){var s,a,o,c,d,h,f,g,p,v,b,T,E,j,S;for(a in s=wC.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),b={0:0},S=s.charMap)b[(h=S[a]).old]=h.new;for(T in v=s.maxGlyphID,c)T in b||(b[T]=v++);return g=(function(L){var M,z;for(M in z={},L)z[L[M]]=M;return z})(b),p=Object.keys(g).sort(function(L,M){return L-M}),E=(function(){var L,M,z;for(z=[],L=0,M=p.length;L<M;L++)d=p[L],z.push(g[d]);return z})(),o=this.font.glyf.encode(c,E,b),f=this.font.loca.encode(o.offsets,E),j={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},n})();Rt.API.PDFObject=(function(){var n;function e(){}return n=function(t,s){return(Array(s+1).join("0")+t).slice(-s)},e.convert=function(t){var s,a,o,c;if(Array.isArray(t))return"["+(function(){var d,h,f;for(f=[],d=0,h=t.length;d<h;d++)s=t[d],f.push(e.convert(s));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)c=t[a],o.push("/"+a+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();function jC(n,e,t,s,a){s=s||{};var o=1.15,c=a.internal.scaleFactor,d=a.internal.getFontSize()/c,h=a.getLineHeightFactor?a.getLineHeightFactor():o,f=d*h,g=/\r\n|\r|\n/g,p="",v=1;if((s.valign==="middle"||s.valign==="bottom"||s.halign==="center"||s.halign==="right")&&(p=typeof n=="string"?n.split(g):n,v=p.length||1),t+=d*(2-o),s.valign==="middle"?t-=v/2*f:s.valign==="bottom"&&(t-=v*f),s.halign==="center"||s.halign==="right"){var b=d;if(s.halign==="center"&&(b*=.5),p&&v>=1){for(var T=0;T<p.length;T++)a.text(p[T],e-a.getStringUnitWidth(p[T])*b,t),t+=f;return a}e-=a.getStringUnitWidth(n)*b}return s.halign==="justify"?a.text(n,e,t,{maxWidth:s.maxWidth||100,align:"justify"}):a.text(n,e,t),a}var X6={},Lf=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:X6=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var s,a,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var c=this.jsPDFDocument.internal.getFont(),d=c.fontStyle,h=c.fontName;if(e.font&&(h=e.font),e.fontStyle){d=e.fontStyle;var f=this.getFontList()[h];f&&f.indexOf(d)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),d=f[0])}if(this.jsPDFDocument.setFont(h,d),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var g=n.unifyColor(e.fillColor);g&&(s=this.jsPDFDocument).setFillColor.apply(s,g),g=n.unifyColor(e.textColor),g&&(a=this.jsPDFDocument).setTextColor.apply(a,g),g=n.unifyColor(e.lineColor),g&&(o=this.jsPDFDocument).setDrawColor.apply(o,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,s){return this.jsPDFDocument.splitTextToSize(e,t,s)},n.prototype.rect=function(e,t,s,a,o){return this.jsPDFDocument.rect(e,t,s,a,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return X6||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),F2=function(n,e){return F2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])},F2(n,e)};function _C(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");F2(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var SC=(function(n){_C(e,n);function e(t){var s=n.call(this)||this;return s._element=t,s}return e})(Array);function eH(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function tH(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Ux(n,e,t){t.applyStyles(e,!0);var s=Array.isArray(n)?n:[n],a=s.map(function(o){return t.getTextWidth(o)}).reduce(function(o,c){return Math.max(o,c)},0);return a}function EC(n,e,t,s){var a=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:a,lineColor:o});var c=AC(a,!1);c&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),s.y-t.y,c)}function AC(n,e){var t=n>0,s=e||e===0;return t&&s?"DF":t?"S":s?"F":null}function Sy(n,e){var t,s,a,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(s=n.top)!==null&&s!==void 0?s:e,right:(a=n.right)!==null&&a!==void 0?a:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function TC(n,e){var t=Sy(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function nH(n,e,t,s,a){var o={},c=1.3333333333333333,d=k1(e,function(M){return a.getComputedStyle(M).backgroundColor});d!=null&&(o.fillColor=d);var h=k1(e,function(M){return a.getComputedStyle(M).color});h!=null&&(o.textColor=h);var f=sH(s,t);f&&(o.cellPadding=f);var g="borderTopColor",p=c*t,v=s.borderTopWidth;if(s.borderBottomWidth===v&&s.borderRightWidth===v&&s.borderLeftWidth===v){var b=(parseFloat(v)||0)/p;b&&(o.lineWidth=b)}else o.lineWidth={top:(parseFloat(s.borderTopWidth)||0)/p,right:(parseFloat(s.borderRightWidth)||0)/p,bottom:(parseFloat(s.borderBottomWidth)||0)/p,left:(parseFloat(s.borderLeftWidth)||0)/p},o.lineWidth.top||(o.lineWidth.right?g="borderRightColor":o.lineWidth.bottom?g="borderBottomColor":o.lineWidth.left&&(g="borderLeftColor"));var T=k1(e,function(M){return a.getComputedStyle(M)[g]});T!=null&&(o.lineColor=T);var E=["left","right","center","justify"];E.indexOf(s.textAlign)!==-1&&(o.halign=s.textAlign),E=["middle","bottom","top"],E.indexOf(s.verticalAlign)!==-1&&(o.valign=s.verticalAlign);var j=parseInt(s.fontSize||"");isNaN(j)||(o.fontSize=j/c);var S=rH(s);S&&(o.fontStyle=S);var L=(s.fontFamily||"").toLowerCase();return n.indexOf(L)!==-1&&(o.font=L),o}function rH(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function k1(n,e){var t=CC(n,e);if(!t)return null;var s=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!s||!Array.isArray(s))return null;var a=[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])],o=parseInt(s[4]);return o===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function CC(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:CC(n.parentElement,e):t}function sH(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],s=96/(72/e),a=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(d){return parseInt(d||"0")/s}),c=Sy(o,0);return a>c.top&&(c.top=a),a>c.bottom&&(c.bottom=a),c}function IC(n,e,t,s,a){var o,c;s===void 0&&(s=!1),a===void 0&&(a=!1);var d;typeof e=="string"?d=t.document.querySelector(e):d=e;var h=Object.keys(n.getFontList()),f=n.scaleFactor(),g=[],p=[],v=[];if(!d)return console.error("Html table could not be found with input: ",e),{head:g,body:p,foot:v};for(var b=0;b<d.rows.length;b++){var T=d.rows[b],E=(c=(o=T?.parentElement)===null||o===void 0?void 0:o.tagName)===null||c===void 0?void 0:c.toLowerCase(),j=aH(h,f,t,T,s,a);j&&(E==="thead"?g.push(j):E==="tfoot"?v.push(j):p.push(j))}return{head:g,body:p,foot:v}}function aH(n,e,t,s,a,o){for(var c=new SC(s),d=0;d<s.cells.length;d++){var h=s.cells[d],f=t.getComputedStyle(h);if(a||f.display!=="none"){var g=void 0;o&&(g=nH(n,h,e,f,t)),c.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:g,_element:h,content:iH(h)})}}var p=t.getComputedStyle(s);if(c.length>0&&(a||p.display!=="none"))return c}function iH(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function oH(n,e,t){for(var s=0,a=[n,e,t];s<a.length;s++){var o=a[s];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Gc(n,e,t,s,a){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),c=1;c<arguments.length;c++){var d=arguments[c];if(d!=null)for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(o[h]=d[h])}return o}function lH(n,e){var t=new Lf(n),s=t.getDocumentOptions(),a=t.getGlobalOptions();oH(a,s,e);var o=Gc({},a,s,e),c;typeof window<"u"&&(c=window);var d=cH(a,s,e),h=dH(a,s,e),f=uH(t,o),g=fH(t,o,c);return{id:e.tableId,content:g,hooks:h,styles:d,settings:f}}function cH(n,e,t){for(var s={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(h){if(h==="columnStyles"){var f=n[h],g=e[h],p=t[h];s.columnStyles=Gc({},f,g,p)}else{var v=[n,e,t],b=v.map(function(T){return T[h]||{}});s[h]=Gc({},b[0],b[1],b[2])}},o=0,c=Object.keys(s);o<c.length;o++){var d=c[o];a(d)}return s}function dH(n,e,t){for(var s=[n,e,t],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,c=s;o<c.length;o++){var d=c[o];d.didParseCell&&a.didParseCell.push(d.didParseCell),d.willDrawCell&&a.willDrawCell.push(d.willDrawCell),d.didDrawCell&&a.didDrawCell.push(d.didDrawCell),d.willDrawPage&&a.willDrawPage.push(d.willDrawPage),d.didDrawPage&&a.didDrawPage.push(d.didDrawPage)}return a}function uH(n,e){var t,s,a,o,c,d,h,f,g,p,v,b,T=Sy(e.margin,40/n.scaleFactor()),E=(t=hH(n,e.startY))!==null&&t!==void 0?t:T.top,j;e.showFoot===!0?j="everyPage":e.showFoot===!1?j="never":j=(s=e.showFoot)!==null&&s!==void 0?s:"everyPage";var S;e.showHead===!0?S="everyPage":e.showHead===!1?S="never":S=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var L=(o=e.useCss)!==null&&o!==void 0?o:!1,M=e.theme||(L?"plain":"striped"),z=!!e.horizontalPageBreak,se=(c=e.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(d=e.includeHiddenHtml)!==null&&d!==void 0?d:!1,useCss:L,theme:M,startY:E,margin:T,pageBreak:(h=e.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:S,showFoot:j,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(v=e.tableLineColor)!==null&&v!==void 0?v:200,horizontalPageBreak:z,horizontalPageBreakRepeat:se,horizontalPageBreakBehaviour:(b=e.horizontalPageBreakBehaviour)!==null&&b!==void 0?b:"afterAllRows"}}function hH(n,e){var t=n.getLastAutoTable(),s=n.scaleFactor(),a=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var c=t.startPageNumber+t.pageNumber-1;o=c===a}return typeof e=="number"?e:(e==null||e===!1)&&o&&t?.finalY!=null?t.finalY+20/s:null}function fH(n,e,t){var s=e.head||[],a=e.body||[],o=e.foot||[];if(e.html){var c=e.includeHiddenHtml;if(t){var d=IC(n,e.html,t,c,e.useCss)||{};s=d.head||s,a=d.body||s,o=d.foot||s}else console.error("Cannot parse html in non browser environment")}var h=e.columns||mH(s,a,o);return{columns:h,head:s,body:a,foot:o}}function mH(n,e,t){var s=n[0]||e[0]||t[0]||[],a=[];return Object.keys(s).filter(function(o){return o!=="_element"}).forEach(function(o){var c=1,d;Array.isArray(s)?d=s[parseInt(o)]:d=s[o],typeof d=="object"&&!Array.isArray(d)&&(c=d?.colSpan||1);for(var h=0;h<c;h++){var f=void 0;Array.isArray(s)?f=a.length:f=o+(h>0?"_".concat(h):"");var g={dataKey:f};a.push(g)}}),a}var U2=(function(){function n(e,t,s){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=s,this.doc=e.getDocument()}return n})(),gH=(function(n){_C(e,n);function e(t,s,a,o,c,d){var h=n.call(this,t,s,d)||this;return h.cell=a,h.row=o,h.column=c,h.section=o.section,h}return e})(U2),pH=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,s){return t+s.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,s){return t+s.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,s,a,o,c){for(var d=0,h=t;d<h.length;d++){var f=h[d],g=new gH(e,this,s,a,o,c),p=f(g)===!1;if(s.text=Array.isArray(s.text)?s.text:[s.text],p)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var s=0,a=this.hooks.didDrawPage;s<a.length;s++){var o=a[s];o(new U2(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var s=0,a=this.hooks.willDrawPage;s<a.length;s++){var o=a[s];o(new U2(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(a,o){return a+o.wrappedWidth},0);return t}else{var s=this.settings.margin;return e-s.left-s.right}},n})(),kC=(function(){function n(e,t,s,a,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof SC&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=s,this.cells=a,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(s,a){var o;return Math.max(s,((o=t.cells[a.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(s){var a=t.cells[s.index];return a?a.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var s=this;return e.reduce(function(a,o){var c=s.cells[o.index];if(!c)return 0;var d=t.getLineHeight(c.styles.fontSize),h=c.padding("vertical"),f=h+d;return f>a?f:a},0)},n})(),RC=(function(){function n(e,t,s){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=s,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var c=o!=null?""+o:"",d=/\r\n|\r|\n/g;this.text=c.split(d)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var s;if(this.styles.halign==="right")s=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");s=this.x+a/2+this.padding("left")}else s=this.x+this.padding("left");return{x:s,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var s=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*t,o=s*a+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=Sy(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),xH=(function(){function n(e,t,s){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=s}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,s=0,a=e.allRows();s<a.length;s++){var o=a[s],c=o.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(t=Math.max(t,c.styles.cellWidth))}return t},n})();function yH(n,e){bH(n,e);var t=[],s=0;e.columns.forEach(function(o){var c=o.getMaxCustomCellWidth(e);c?o.width=c:(o.width=o.wrappedWidth,t.push(o)),s+=o.width});var a=e.getWidth(n.pageSize().width)-s;a&&(a=V2(t,a,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),a&&(a=V2(t,a,function(o){return o.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/n.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),wH(e),NH(e,n),vH(e)}function bH(n,e){var t=n.scaleFactor(),s=e.settings.horizontalPageBreak,a=TC(n,e);e.allRows().forEach(function(o){for(var c=0,d=e.columns;c<d.length;c++){var h=d[c],f=o.cells[h.index];if(f){var g=e.hooks.didParseCell;e.callCellHooks(n,g,f,o,h,null);var p=f.padding("horizontal");f.contentWidth=Ux(f.text,f.styles,n)+p;var v=Ux(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=v+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||s===!0)f.contentWidth>a?(f.minWidth=a,f.wrappedWidth=a):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var b=10/t;f.minWidth=f.styles.minCellWidth||b,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(o){for(var c=0,d=e.columns;c<d.length;c++){var h=d[c],f=o.cells[h.index];if(f&&f.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,f.wrappedWidth),h.minWidth=Math.max(h.minWidth,f.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,f.minReadableWidth);else{var g=e.styles.columnStyles[h.dataKey]||e.styles.columnStyles[h.index]||{},p=g.cellWidth||g.minCellWidth;p&&typeof p=="number"&&(h.minWidth=p,h.wrappedWidth=p)}f&&(f.colSpan>1&&!h.minWidth&&(h.minWidth=f.minWidth),f.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=f.minWidth))}})}function V2(n,e,t){for(var s=e,a=n.reduce(function(b,T){return b+T.wrappedWidth},0),o=0;o<n.length;o++){var c=n[o],d=c.wrappedWidth/a,h=s*d,f=c.width+h,g=t(c),p=f<g?g:f;e-=p-c.width,c.width=p}if(e=Math.round(e*1e10)/1e10,e){var v=n.filter(function(b){return e<0?b.width>t(b):!0});v.length&&(e=V2(v,e,t))}return e}function vH(n){for(var e={},t=1,s=n.allRows(),a=0;a<s.length;a++)for(var o=s[a],c=0,d=n.columns;c<d.length;c++){var h=d[c],f=e[h.index];if(t>1)t--,delete o.cells[h.index];else if(f)f.cell.height+=o.height,t=f.cell.colSpan,delete o.cells[h.index],f.left--,f.left<=1&&delete e[h.index];else{var g=o.cells[h.index];if(!g)continue;if(g.height=o.height,g.rowSpan>1){var p=s.length-a,v=g.rowSpan>p?p:g.rowSpan;e[h.index]={cell:g,left:v,row:o}}}}}function wH(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var s=e[t],a=null,o=0,c=0,d=0;d<n.columns.length;d++){var h=n.columns[d];if(c-=1,c>1&&n.columns[d+1])o+=h.width,delete s.cells[h.index];else if(a){var f=a;delete s.cells[h.index],a=null,f.width=h.width+o}else{var f=s.cells[h.index];if(!f)continue;if(c=f.colSpan,o=0,f.colSpan>1){a=f,o+=h.width;continue}f.width=h.width+o}}}function NH(n,e){for(var t={count:0,height:0},s=0,a=n.allRows();s<a.length;s++){for(var o=a[s],c=0,d=n.columns;c<d.length;c++){var h=d[c],f=o.cells[h.index];if(f){e.applyStyles(f.styles,!0);var g=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,g+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=Q6(f.text,g,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=Q6(f.text,g,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var p=f.styles.overflow(f.text,g);typeof p=="string"?f.text=[p]:f.text=p}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var v=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<v*f.rowSpan?t={height:v,count:f.rowSpan}:t&&t.count>0&&t.height>v&&(v=t.height),v>o.height&&(o.height=v)}}t.count--}}function Q6(n,e,t,s,a){return n.map(function(o){return jH(o,e,t,s,a)})}function jH(n,e,t,s,a){var o=1e4*s.scaleFactor();if(e=Math.ceil(e*o)/o,e>=Ux(n,t,s))return n;for(;e<Ux(n+a,t,s)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+a}function _H(n,e){var t=new Lf(n),s=SH(e,t.scaleFactor()),a=new pH(e,s);return yH(t,a),t.applyStyles(t.userStyles),a}function SH(n,e){var t=n.content,s=AH(t.columns);if(t.head.length===0){var a=J6(s,"head");a&&t.head.push(a)}if(t.foot.length===0){var a=J6(s,"foot");a&&t.foot.push(a)}var o=n.settings.theme,c=n.styles;return{columns:s,head:R1("head",t.head,s,c,o,e),body:R1("body",t.body,s,c,o,e),foot:R1("foot",t.foot,s,c,o,e)}}function R1(n,e,t,s,a,o){var c={},d=e.map(function(h,f){for(var g=0,p={},v=0,b=0,T=0,E=t;T<E.length;T++){var j=E[T];if(c[j.index]==null||c[j.index].left===0)if(b===0){var S=void 0;Array.isArray(h)?S=h[j.index-v-g]:S=h[j.dataKey];var L={};typeof S=="object"&&!Array.isArray(S)&&(L=S?.styles||{});var M=TH(n,j,f,a,s,o,L),z=new RC(S,M,n);p[j.dataKey]=z,p[j.index]=z,b=z.colSpan-1,c[j.index]={left:z.rowSpan-1,times:b}}else b--,v++;else c[j.index].left--,b=c[j.index].times,g++}return new kC(h,f,n,p)});return d}function J6(n,e){var t={};return n.forEach(function(s){if(s.raw!=null){var a=EH(e,s.raw);a!=null&&(t[s.dataKey]=a)}}),Object.keys(t).length>0?t:null}function EH(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function AH(n){return n.map(function(e,t){var s,a;return typeof e=="object"?a=(s=e.dataKey)!==null&&s!==void 0?s:t:a=t,new xH(a,e,t)})}function TH(n,e,t,s,a,o,c){var d=tH(s),h;n==="head"?h=a.headStyles:n==="body"?h=a.bodyStyles:n==="foot"&&(h=a.footStyles);var f=Gc({},d.table,d[n],a.styles,h),g=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},p=n==="body"?g:{},v=n==="body"&&t%2===0?Gc({},d.alternateRow,a.alternateRowStyles):{},b=eH(o),T=Gc({},b,f,v,p);return Gc(T,c)}function CH(n,e,t){var s;t===void 0&&(t={});var a=TC(n,e),o=new Map,c=[],d=[],h=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?h=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(h=[e.settings.horizontalPageBreakRepeat]),h.forEach(function(v){var b=e.columns.find(function(T){return T.dataKey===v||T.index===v});b&&!o.has(b.index)&&(o.set(b.index,!0),c.push(b.index),d.push(e.columns[b.index]),a-=b.wrappedWidth)});for(var f=!0,g=(s=t?.start)!==null&&s!==void 0?s:0;g<e.columns.length;){if(o.has(g)){g++;continue}var p=e.columns[g].wrappedWidth;if(f||a>=p)f=!1,c.push(g),d.push(e.columns[g]),a-=p;else break;g++}return{colIndexes:c,columns:d,lastIndex:g-1}}function IH(n,e){for(var t=[],s=0;s<e.columns.length;s++){var a=CH(n,e,{start:s});a.columns.length&&(t.push(a),s=a.lastIndex)}return t}function kH(n,e){var t=e.settings,s=t.startY,a=t.margin,o={x:a.left,y:s},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),d=s+a.bottom+c;if(t.pageBreak==="avoid"){var h=e.body,f=h.reduce(function(v,b){return v+b.height},0);d+=f}var g=new Lf(n);(t.pageBreak==="always"||t.startY!=null&&d>g.pageSize().height)&&(LC(g),o.y=a.top),e.callWillDrawPageHooks(g,o);var p=Gc({},o);e.startPageNumber=g.pageNumber(),t.horizontalPageBreak?RH(g,e,p,o):(g.applyStyles(g.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(v){return Jc(g,e,v,o,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(v,b){var T=b===e.body.length-1;Vx(g,e,v,T,p,o,e.columns)}),g.applyStyles(g.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(v){return Jc(g,e,v,o,e.columns)})),EC(g,e,p,o),e.callEndPageHooks(g,o),e.finalY=o.y,n.lastAutoTable=e,g.applyStyles(g.userStyles)}function RH(n,e,t,s){var a=IH(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(f,g){n.applyStyles(n.userStyles),g>0?Eg(n,e,t,s,f.columns,!0):Z6(n,e,s,f.columns),PH(n,e,t,s,f.columns),P1(n,e,s,f.columns)});else for(var c=-1,d=a[0],h=function(){var f=c;if(d){n.applyStyles(n.userStyles);var g=d.columns;c>=0?Eg(n,e,t,s,g,!0):Z6(n,e,s,g),f=e3(n,e,c+1,s,g),P1(n,e,s,g)}var p=f-c;a.slice(1).forEach(function(v){n.applyStyles(n.userStyles),Eg(n,e,t,s,v.columns,!0),e3(n,e,c+1,s,v.columns,p),P1(n,e,s,v.columns)}),c=f};c<e.body.length-1;)h()}function Z6(n,e,t,s){var a=e.settings;n.applyStyles(n.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(o){return Jc(n,e,o,t,s)})}function PH(n,e,t,s,a){n.applyStyles(n.userStyles),e.body.forEach(function(o,c){var d=c===e.body.length-1;Vx(n,e,o,d,t,s,a)})}function e3(n,e,t,s,a,o){n.applyStyles(n.userStyles),o=o??e.body.length;var c=Math.min(t+o,e.body.length),d=-1;return e.body.slice(t,c).forEach(function(h,f){var g=t+f===e.body.length-1,p=PC(n,e,g,s);h.canEntireRowFit(p,a)&&(Jc(n,e,h,s,a),d=t+f)}),d}function P1(n,e,t,s){var a=e.settings;n.applyStyles(n.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(o){return Jc(n,e,o,t,s)})}function LH(n,e,t){var s=t.getLineHeight(n.styles.fontSize),a=n.padding("vertical"),o=Math.floor((e-a)/s);return Math.max(0,o)}function DH(n,e,t,s){var a={};n.spansMultiplePages=!0,n.height=0;for(var o=0,c=0,d=t.columns;c<d.length;c++){var h=d[c],f=n.cells[h.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var g=new RC(f.raw,f.styles,f.section);g=Gc(g,f),g.text=[];var p=LH(f,e,s);f.text.length>p&&(g.text=f.text.splice(p,f.text.length));var v=s.scaleFactor(),b=s.getLineHeightFactor();f.contentHeight=f.getContentHeight(v,b),f.contentHeight>=e&&(f.contentHeight=e,g.styles.minCellHeight-=e),f.contentHeight>n.height&&(n.height=f.contentHeight),g.contentHeight=g.getContentHeight(v,b),g.contentHeight>o&&(o=g.contentHeight),a[h.index]=g}}var T=new kC(n.raw,-1,n.section,a,!0);T.height=o;for(var E=0,j=t.columns;E<j.length;E++){var h=j[E],g=T.cells[h.index];g&&(g.height=T.height);var f=n.cells[h.index];f&&(f.height=n.height)}return T}function MH(n,e,t,s){var a=n.pageSize().height,o=s.settings.margin,c=o.top+o.bottom,d=a-c;e.section==="body"&&(d-=s.getHeadHeight(s.columns)+s.getFootHeight(s.columns));var h=e.getMinimumRowHeight(s.columns,n),f=h<t;if(h>d)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var g=e.hasRowSpan(s.columns),p=e.getMaxCellHeight(s.columns)>d;return p?(g&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||s.settings.rowPageBreak==="avoid")}function Vx(n,e,t,s,a,o,c){var d=PC(n,e,s,o);if(t.canEntireRowFit(d,c))Jc(n,e,t,o,c);else if(MH(n,t,d,e)){var h=DH(t,d,e,n);Jc(n,e,t,o,c),Eg(n,e,a,o,c),Vx(n,e,h,s,a,o,c)}else Eg(n,e,a,o,c),Vx(n,e,t,s,a,o,c)}function Jc(n,e,t,s,a){s.x=e.settings.margin.left;for(var o=0,c=a;o<c.length;o++){var d=c[o],h=t.cells[d.index];if(!h){s.x+=d.width;continue}n.applyStyles(h.styles),h.x=s.x,h.y=s.y;var f=e.callCellHooks(n,e.hooks.willDrawCell,h,t,d,s);if(f===!1){s.x+=d.width;continue}OH(n,h,s);var g=h.getTextPos();jC(h.text,g.x,g.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,h,t,d,s),s.x+=d.width}s.y+=t.height}function OH(n,e,t){var s=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof s.lineWidth=="number"){var a=AC(s.lineWidth,s.fillColor);a&&n.rect(e.x,t.y,e.width,e.height,a)}else typeof s.lineWidth=="object"&&(s.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),FH(n,e,t,s.lineWidth))}function FH(n,e,t,s){var a,o,c,d;s.top&&(a=t.x,o=t.y,c=t.x+e.width,d=t.y,s.right&&(c+=.5*s.right),s.left&&(a-=.5*s.left),h(s.top,a,o,c,d)),s.bottom&&(a=t.x,o=t.y+e.height,c=t.x+e.width,d=t.y+e.height,s.right&&(c+=.5*s.right),s.left&&(a-=.5*s.left),h(s.bottom,a,o,c,d)),s.left&&(a=t.x,o=t.y,c=t.x,d=t.y+e.height,s.top&&(o-=.5*s.top),s.bottom&&(d+=.5*s.bottom),h(s.left,a,o,c,d)),s.right&&(a=t.x+e.width,o=t.y,c=t.x+e.width,d=t.y+e.height,s.top&&(o-=.5*s.top),s.bottom&&(d+=.5*s.bottom),h(s.right,a,o,c,d));function h(f,g,p,v,b){n.getDocument().setLineWidth(f),n.getDocument().line(g,p,v,b,"S")}}function PC(n,e,t,s){var a=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(a+=e.getFootHeight(e.columns)),n.pageSize().height-s.y-a}function Eg(n,e,t,s,a,o){a===void 0&&(a=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(d){return Jc(n,e,d,s,a)}),e.callEndPageHooks(n,s);var c=e.settings.margin;EC(n,e,t,s),LC(n),e.pageNumber++,s.x=c.left,s.y=c.top,t.y=c.top,e.callWillDrawPageHooks(n,s),e.settings.showHead==="everyPage"&&(e.head.forEach(function(d){return Jc(n,e,d,s,a)}),n.applyStyles(n.userStyles))}function LC(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function UH(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var s=e[0],a=lH(this,s),o=_H(this,a);return kH(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,s,a){jC(e,t,s,a,this)},n.API.autoTableSetDefaults=function(e){return Lf.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Lf.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var s;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Lf(this),o=IC(a,e,window,t,!1),c=o.head,d=o.body,h=((s=c[0])===null||s===void 0?void 0:s.map(function(f){return f.content}))||[];return{columns:h,rows:d,data:d}}}var L1;try{if(typeof window<"u"&&window){var t3=window,n3=t3.jsPDF||((L1=t3.jspdf)===null||L1===void 0?void 0:L1.jsPDF);n3&&UH(n3)}}catch(n){console.error("Could not apply autoTable plugin",n)}const DC=async(n,e={})=>{const{orientation:t="landscape",title:s="Village Statistics Report",gramPanchayatName:a="Gram Panchayat"}=e,o=await kT(n);if(o.length===0)throw new Error(`No data available for year ${n}`);const c=new Rt({orientation:t,unit:"mm",format:"a4"}),d=c.internal.pageSize.getWidth(),h=c.internal.pageSize.getHeight();let f=20;const g=()=>(c.setFillColor(255,107,0),c.rect(0,0,d,3,"F"),c.setFillColor(255,255,255),c.rect(0,3,d,3,"F"),c.setFillColor(19,136,8),c.rect(0,6,d,3,"F"),c.setFontSize(18),c.setTextColor(0,0,0),c.setFont("helvetica","bold"),c.text(s,d/2,18,{align:"center"}),c.setFontSize(12),c.setFont("helvetica","normal"),c.text(a,d/2,25,{align:"center"}),c.setFontSize(10),c.text(`Year: ${n}`,d/2,31,{align:"center"}),38);f=g(),c.setFontSize(14),c.setFont("helvetica","bold"),c.setTextColor(255,107,0),c.text("1. Population Demographics",14,f),f+=8;const p=o.map(I=>[I.village.nameEn||"-",(I.demographics.totalPopulation||0).toLocaleString(),(I.demographics.malePopulation||0).toLocaleString(),(I.demographics.femalePopulation||0).toLocaleString(),I.demographics.source||"-"]),v=o.reduce((I,F)=>I+(F.demographics.totalPopulation||0),0),b=o.reduce((I,F)=>I+(F.demographics.malePopulation||0),0),T=o.reduce((I,F)=>I+(F.demographics.femalePopulation||0),0);p.push(["TOTAL",v.toLocaleString(),b.toLocaleString(),T.toLocaleString(),""]),c.autoTable({startY:f,head:[["Village","Total Population","Male","Female","Source"]],body:p,theme:"grid",headStyles:{fillColor:[255,107,0],textColor:255,fontStyle:"bold"},footStyles:{fillColor:[240,240,240],fontStyle:"bold"},alternateRowStyles:{fillColor:[252,248,245]},styles:{fontSize:9,cellPadding:3}}),f=c.lastAutoTable.finalY+10,f>h-60&&(c.addPage(),f=g()),c.setFontSize(14),c.setFont("helvetica","bold"),c.setTextColor(255,107,0),c.text("2. Category-wise Population Breakdown",14,f),f+=8;const E=[];o.forEach(I=>{const F=I.breakdowns.find(le=>le.category==="ST")||{},k=I.breakdowns.find(le=>le.category==="SC")||{},P=I.breakdowns.find(le=>le.category==="OBC")||{},V=I.breakdowns.find(le=>le.category==="OTHER")||{};E.push([I.village.nameEn||"-",(F.maleCount||0).toLocaleString(),(F.femaleCount||0).toLocaleString(),((F.maleCount||0)+(F.femaleCount||0)).toLocaleString(),(k.maleCount||0).toLocaleString(),(k.femaleCount||0).toLocaleString(),((k.maleCount||0)+(k.femaleCount||0)).toLocaleString(),(P.maleCount||0).toLocaleString(),(P.femaleCount||0).toLocaleString(),((P.maleCount||0)+(P.femaleCount||0)).toLocaleString(),(V.maleCount||0).toLocaleString(),(V.femaleCount||0).toLocaleString(),((V.maleCount||0)+(V.femaleCount||0)).toLocaleString()])});const j={male:0,female:0},S={male:0,female:0},L={male:0,female:0},M={male:0,female:0};o.forEach(I=>{I.breakdowns.forEach(F=>{F.category==="ST"?(j.male+=F.maleCount||0,j.female+=F.femaleCount||0):F.category==="SC"?(S.male+=F.maleCount||0,S.female+=F.femaleCount||0):F.category==="OBC"?(L.male+=F.maleCount||0,L.female+=F.femaleCount||0):F.category==="OTHER"&&(M.male+=F.maleCount||0,M.female+=F.femaleCount||0)})}),E.push(["TOTAL",j.male.toLocaleString(),j.female.toLocaleString(),(j.male+j.female).toLocaleString(),S.male.toLocaleString(),S.female.toLocaleString(),(S.male+S.female).toLocaleString(),L.male.toLocaleString(),L.female.toLocaleString(),(L.male+L.female).toLocaleString(),M.male.toLocaleString(),M.female.toLocaleString(),(M.male+M.female).toLocaleString()]),c.autoTable({startY:f,head:[["Village",{content:"ST",colSpan:3},{content:"SC",colSpan:3},{content:"OBC",colSpan:3},{content:"OTHER",colSpan:3}],["","M","F","T","M","F","T","M","F","T","M","F","T"]],body:E,theme:"grid",headStyles:{fillColor:[255,107,0],textColor:255,fontStyle:"bold",fontSize:8},footStyles:{fillColor:[240,240,240],fontStyle:"bold"},alternateRowStyles:{fillColor:[252,248,245]},styles:{fontSize:7,cellPadding:2}}),f=c.lastAutoTable.finalY+10,f>h-60&&(c.addPage(),f=g()),c.setFontSize(14),c.setFont("helvetica","bold"),c.setTextColor(255,107,0),c.text("3. Groups & Committees",14,f),f+=8;const z=o.map(I=>[I.village.nameEn||"-",(I.groups.mahilaBachatGatCount||0).toString(),(I.groups.yuvakMandalCount||0).toString(),(I.groups.kisanGatCount||0).toString(),(I.groups.otherGroupCount||0).toString(),((I.groups.mahilaBachatGatCount||0)+(I.groups.yuvakMandalCount||0)+(I.groups.kisanGatCount||0)+(I.groups.otherGroupCount||0)).toString()]),se=o.reduce((I,F)=>({mbg:I.mbg+(F.groups.mahilaBachatGatCount||0),ym:I.ym+(F.groups.yuvakMandalCount||0),kg:I.kg+(F.groups.kisanGatCount||0),og:I.og+(F.groups.otherGroupCount||0)}),{mbg:0,ym:0,kg:0,og:0});z.push(["TOTAL",se.mbg.toString(),se.ym.toString(),se.kg.toString(),se.og.toString(),(se.mbg+se.ym+se.kg+se.og).toString()]),c.autoTable({startY:f,head:[["Village","Mahila Bachat Gat","Yuvak Mandal","Kisan Gat","Other Groups","Total"]],body:z,theme:"grid",headStyles:{fillColor:[255,107,0],textColor:255,fontStyle:"bold"},footStyles:{fillColor:[240,240,240],fontStyle:"bold"},alternateRowStyles:{fillColor:[252,248,245]},styles:{fontSize:9,cellPadding:3}}),f=c.lastAutoTable.finalY+10,f>h-60&&(c.addPage(),f=g()),c.setFontSize(14),c.setFont("helvetica","bold"),c.setTextColor(255,107,0),c.text("4. Water & Infrastructure",14,f),f+=8;const ae=o.map(I=>[I.village.nameEn||"-",(I.infrastructure.wellsCount||0).toString(),(I.infrastructure.borewellsCount||0).toString(),(I.infrastructure.handpumpsCount||0).toString(),(I.infrastructure.tapConnectionsCount||0).toString(),((I.infrastructure.wellsCount||0)+(I.infrastructure.borewellsCount||0)+(I.infrastructure.handpumpsCount||0)+(I.infrastructure.tapConnectionsCount||0)).toString()]),G=o.reduce((I,F)=>({wells:I.wells+(F.infrastructure.wellsCount||0),bore:I.bore+(F.infrastructure.borewellsCount||0),hand:I.hand+(F.infrastructure.handpumpsCount||0),tap:I.tap+(F.infrastructure.tapConnectionsCount||0)}),{wells:0,bore:0,hand:0,tap:0});ae.push(["TOTAL",G.wells.toString(),G.bore.toString(),G.hand.toString(),G.tap.toString(),(G.wells+G.bore+G.hand+G.tap).toString()]),c.autoTable({startY:f,head:[["Village","Wells","Borewells","Handpumps","Tap Connections","Total"]],body:ae,theme:"grid",headStyles:{fillColor:[255,107,0],textColor:255,fontStyle:"bold"},footStyles:{fillColor:[240,240,240],fontStyle:"bold"},alternateRowStyles:{fillColor:[252,248,245]},styles:{fontSize:9,cellPadding:3}});const D=new Date().toLocaleDateString("en-IN");return c.setFontSize(8),c.setTextColor(100,100,100),c.text(`Generated on: ${D}`,14,h-10),c.text(`Page ${c.internal.getNumberOfPages()}`,d-30,h-10),c},VH=async(n,e={})=>{const s=(await DC(n,e)).output("blob"),a=URL.createObjectURL(s);window.open(a,"_blank")},MC=async(n,e={})=>{const t=await DC(n,e),s=`Village_Statistics_${n}_${Date.now()}.pdf`;t.save(s)},zH=({selectedYear:n})=>{const{settings:e}=gu(),[t,s]=W.useState(!1),[a,o]=W.useState({type:"",text:""}),c=async()=>{s(!0),o({type:"",text:""});try{const h={title:"Village Statistics Report",gramPanchayatName:e?.title?.en||"Gram Panchayat",orientation:"landscape"};await VH(n,h),o({type:"success",text:"PDF opened in new tab successfully!"})}catch(h){o({type:"error",text:h.message||"Failed to generate PDF. Please ensure data is available for the selected year."})}finally{s(!1)}},d=async()=>{s(!0),o({type:"",text:""});try{const h={title:"Village Statistics Report",gramPanchayatName:e?.title?.en||"Gram Panchayat",orientation:"landscape"};await MC(n,h),o({type:"success",text:`PDF for year ${n} downloaded successfully!`})}catch(h){o({type:"error",text:h.message||"Failed to generate PDF. Please ensure data is available for the selected year."})}finally{s(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["PDF Reports & Downloads - ",n]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Generate comprehensive PDF reports with all village statistics"})]}),a.text&&r.jsxs("div",{className:`flex items-center gap-2 p-4 rounded-lg ${a.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[a.type==="success"?r.jsx(Gi,{className:"w-5 h-5"}):r.jsx(Qn,{className:"w-5 h-5"}),r.jsx("span",{children:a.text})]}),r.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-green-50 border border-orange-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:r.jsx(hr,{className:"w-8 h-8 text-orange-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Comprehensive Village Statistics Report"}),r.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["This PDF report includes all village statistics data for year ",r.jsx("strong",{children:n}),":"]}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Population Demographics:"})," Total, Male, Female population per village"]})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Category-wise Breakdown:"})," ST, SC, OBC, Other population distribution"]})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Groups & Committees:"})," Mahila Bachat Gat, Yuvak Mandal, Kisan Gat counts"]})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Water & Infrastructure:"})," Wells, Borewells, Handpumps, Tap Connections"]})]})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("button",{onClick:c,disabled:t,className:"flex items-center justify-center gap-3 px-6 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg",children:[r.jsx(yi,{className:"w-5 h-5"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-semibold",children:"Preview PDF"}),r.jsx("div",{className:"text-xs text-blue-100",children:"Open in new tab"})]})]}),r.jsxs("button",{onClick:d,disabled:t,className:"flex items-center justify-center gap-3 px-6 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg",children:[r.jsx(Vo,{className:"w-5 h-5"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-semibold",children:"Download PDF"}),r.jsx("div",{className:"text-xs text-green-100",children:"Save to computer"})]})]})]}),t&&r.jsxs("div",{className:"flex items-center justify-center gap-3 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-blue-700 font-medium",children:"Generating PDF report..."})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[r.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[r.jsx(Qn,{className:"w-5 h-5 text-gray-600"}),"Instructions"]}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-orange-600 font-bold",children:"1."}),r.jsxs("span",{children:["Ensure all data tabs (Demographics, Category-wise, Groups, Infrastructure) are filled with accurate data for year ",n,"."]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-orange-600 font-bold",children:"2."}),r.jsxs("span",{children:["Click ",r.jsx("strong",{children:'"Preview PDF"'})," to review the report in a new browser tab before downloading."]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-orange-600 font-bold",children:"3."}),r.jsxs("span",{children:["Click ",r.jsx("strong",{children:'"Download PDF"'})," to save the report to your computer."]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-orange-600 font-bold",children:"4."}),r.jsx("span",{children:"The PDF will include all villages with their complete statistics in a government-standard format."})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-orange-600 font-bold",children:"5."}),r.jsx("span",{children:"If no data is available for the selected year, you'll receive an error message. Please add data first."})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("h5",{className:"font-semibold text-gray-800",children:"Professional Format"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Government-standard layout with Indian flag colors and proper tables"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("h5",{className:"font-semibold text-gray-800",children:"Comprehensive Data"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"All statistics sections included with totals and subtotals"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsx("h5",{className:"font-semibold text-gray-800",children:"Easy Sharing"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Download and share with officials, stakeholders, or publish online"})]})]})]})},BH=[{id:"villages",label:"Manage Villages",labelMr:"  "},{id:"demographics",label:"Demographics",labelMr:""},{id:"categories",label:"Category-wise",labelMr:""},{id:"groups",label:"Groups & Committees",labelMr:"  "},{id:"infrastructure",label:"Water & Infrastructure",labelMr:"   "},{id:"reports",label:"PDF / Reports",labelMr:"PDF / "}],qH=()=>{const[n,e]=W.useState("villages"),[t,s]=W.useState([]),[a,o]=W.useState(null),[c,d]=W.useState(!1),[h,f]=W.useState(""),[g,p]=W.useState(!0);W.useEffect(()=>{v()},[]);const v=async()=>{p(!0);try{const j=await Lx();s(j);const S=await IT();S?o(S):j.length>0&&o(j[0])}catch(j){console.error("Error loading data:",j)}finally{p(!1)}},b=async()=>{const j=parseInt(h);if(!j||j<1900||j>2100){alert("Please enter a valid year between 1900 and 2100");return}try{await sB(j);const S=await Lx();s(S),o(j),f(""),d(!1)}catch(S){alert(S.message||"Failed to add year")}},T=j=>{o(parseInt(j.target.value))},E=()=>{if(n==="villages")return r.jsx(aB,{});if(!a)return r.jsxs("div",{className:"text-center py-12",children:[r.jsx(es,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No year selected. Please add a year to get started."})]});switch(n){case"demographics":return r.jsx(iB,{selectedYear:a});case"categories":return r.jsx(oB,{selectedYear:a});case"groups":return r.jsx(lB,{selectedYear:a});case"infrastructure":return r.jsx(cB,{selectedYear:a});case"reports":return r.jsx(zH,{selectedYear:a});default:return null}};return g?r.jsx("div",{className:"flex justify-center items-center h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600"})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 text-white",children:r.jsxs("div",{className:"container mx-auto px-4 py-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(iT,{className:"w-8 h-8"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Village Statistics"}),r.jsx("p",{className:"text-sm text-orange-100",children:" "})]})]}),r.jsx("p",{className:"text-sm text-white/90 mt-2",children:"Manage census data, population breakdowns, groups, and infrastructure year-wise"})]})}),r.jsxs("div",{className:"container mx-auto px-4 py-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Year /  "}),r.jsx("select",{value:a||"",onChange:T,className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:t.length===0?r.jsx("option",{value:"",children:"No years available"}):t.map(j=>r.jsx("option",{value:j,children:j},j))})]}),r.jsx("div",{children:c?r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"number",value:h,onChange:j=>f(j.target.value),placeholder:"Enter year (e.g., 2025)",className:"w-48 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",onKeyPress:j=>j.key==="Enter"&&b()}),r.jsx("button",{onClick:b,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Add"}),r.jsx("button",{onClick:()=>{d(!1),f("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]}):r.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[r.jsx(ps,{className:"w-4 h-4"}),"Add Year"]})})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-6",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("div",{className:"flex overflow-x-auto",children:BH.map(j=>r.jsx("button",{onClick:()=>e(j.id),className:`flex-shrink-0 px-6 py-4 text-sm font-medium transition-colors border-b-2 ${n===j.id?"border-orange-600 text-orange-600":"border-transparent text-gray-600 hover:text-gray-800 hover:border-gray-300"}`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{children:j.label}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:j.labelMr})]})},j.id))})}),r.jsx("div",{className:"p-6",children:E()})]})]})]})},GH=()=>{const{language:n}=ns(),{settings:e}=gu(),[t,s]=W.useState([]),[a,o]=W.useState(null),[c,d]=W.useState([]),[h,f]=W.useState(!0),[g,p]=W.useState(!1);W.useEffect(()=>{v()},[]),W.useEffect(()=>{a&&b()},[a]);const v=async()=>{try{const j=await Lx();s(j);const S=await IT();S?o(S):j.length>0&&o(j[0])}catch(j){console.error("Error loading initial data:",j)}finally{f(!1)}},b=async()=>{try{const j=await kT(a);if(console.log("Raw data from Firebase:",j),j&&j.villages&&Array.isArray(j.villages)){const S=j.villages.map(L=>{const M=j.demographics?.find(G=>G.villageId===L.id)||{},z=j.breakdowns?.filter(G=>G.villageId===L.id)||[],se=j.groups?.find(G=>G.villageId===L.id)||{},ae=j.infrastructure?.find(G=>G.villageId===L.id)||{};return{village:L,demographics:M,breakdowns:z,groups:se,infrastructure:ae}});console.log("Transformed summary array:",S),d(S)}else console.log("No villages found in data"),d([])}catch(j){console.error("Error loading statistics:",j),d([])}},T=async()=>{p(!0);try{const j={title:"Village Statistics Report",gramPanchayatName:e?.title?.en||"Gram Panchayat",orientation:"landscape"};await MC(a,j)}catch{alert("Failed to generate PDF. Please try again.")}finally{p(!1)}};if(h)return r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600"})});if(t.length===0)return r.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx(es,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:n==="en"?"No Data Available":"  "}),r.jsx("p",{className:"text-gray-600",children:n==="en"?"Village statistics data has not been added yet.":"      ."})]})})});const E=["ST","SC","OBC","OTHER"];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 text-white py-12",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx(iT,{className:"w-12 h-12"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:n==="en"?"Village Statistics":" "}),r.jsx("p",{className:"text-orange-100 mt-1",children:n==="en"?"Census & Infrastructure Data":"    "})]})]})})}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n==="en"?"Select Year":" "}),r.jsx("select",{value:a||"",onChange:j=>o(parseInt(j.target.value)),className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:t.map(j=>r.jsx("option",{value:j,children:j},j))})]}),r.jsxs("button",{onClick:T,disabled:g,className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-md",children:[r.jsx(Vo,{className:"w-5 h-5"}),g?n==="en"?"Generating...":"  ...":n==="en"?"Download Full Report (PDF)":"    (PDF)"]})]})}),c.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[r.jsx(es,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:n==="en"?`No data available for year ${a}`:`${a}    `})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(Es,{className:"w-6 h-6 text-orange-600"}),r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n==="en"?"Population Overview":" "})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Village":""}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Total Population":" "}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Male":""}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Female":""})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((j,S)=>r.jsxs("tr",{className:S%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:n==="en"?j.village.nameEn:j.village.nameMr})}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-900 font-semibold",children:(j.demographics.totalPopulation||0).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:(j.demographics.malePopulation||0).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:(j.demographics.femalePopulation||0).toLocaleString()})]},j.village.id))}),r.jsx("tfoot",{className:"bg-gray-100",children:r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 font-bold text-gray-900",children:n==="en"?"TOTAL":""}),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:c.reduce((j,S)=>j+(S.demographics.totalPopulation||0),0).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:c.reduce((j,S)=>j+(S.demographics.malePopulation||0),0).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:c.reduce((j,S)=>j+(S.demographics.femalePopulation||0),0).toLocaleString()})]})})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:n==="en"?"Category-wise Population":" "}),c.map((j,S)=>r.jsxs("div",{className:`mb-6 ${S!==c.length-1?"pb-6 border-b border-gray-200":""}`,children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:n==="en"?j.village.nameEn:j.village.nameMr}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-700 uppercase",children:n==="en"?"Category":""}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-700 uppercase",children:n==="en"?"Male":""}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-700 uppercase",children:n==="en"?"Female":""}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-700 uppercase",children:n==="en"?"Total":""})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(L=>{const M=j.breakdowns.find(z=>z.category===L)||{};return r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:L}),r.jsx("td",{className:"px-4 py-2 text-center text-sm text-gray-700",children:(M.maleCount||0).toLocaleString()}),r.jsx("td",{className:"px-4 py-2 text-center text-sm text-gray-700",children:(M.femaleCount||0).toLocaleString()}),r.jsx("td",{className:"px-4 py-2 text-center text-sm font-semibold text-gray-900",children:((M.maleCount||0)+(M.femaleCount||0)).toLocaleString()})]},L)})})]})})]},j.village.id))]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:n==="en"?"Groups & Committees":"  "}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Village":""}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Mahila Bachat Gat":"  "}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Yuvak Mandal":" "}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Kisan Gat":" "}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Other Groups":" "})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((j,S)=>r.jsxs("tr",{className:S%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:n==="en"?j.village.nameEn:j.village.nameMr}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.groups.mahilaBachatGatCount||0}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.groups.yuvakMandalCount||0}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.groups.kisanGatCount||0}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.groups.otherGroupCount||0})]},j.village.id))})]})})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 px-6 py-4",children:r.jsxs("h2",{className:"text-white font-semibold flex items-center gap-2",children:[r.jsx(Ix,{className:"w-5 h-5"}),n==="en"?"Water Supply Sources":"  "]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Sr. No.":".."}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Water Source":" "}),c.map(j=>r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?j.village.nameEn:j.village.nameMr},j.village.id)),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider bg-blue-50",children:n==="en"?"Total":""})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"1"}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Private Wells":" "}),c.map(j=>r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.privateWells||0},j.village.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,S)=>j+(S.infrastructure.privateWells||0),0)})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"2"}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Public Wells":" "}),c.map(j=>r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.publicWells||0},j.village.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,S)=>j+(S.infrastructure.publicWells||0),0)})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"3"}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"NIT Scheme":" "}),c.map(j=>r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.nitScheme||0},j.village.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,S)=>j+(S.infrastructure.nitScheme||0),0)})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"4"}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Handpumps":""}),c.map(j=>r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.handpumps||0},j.village.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,S)=>j+(S.infrastructure.handpumps||0),0)})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"5"}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Water Tank Capacity":"  "}),c.map(j=>r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.waterTankCapacity||""},j.village.id)),r.jsx("td",{className:"px-6 py-4 text-center text-gray-500 bg-blue-50",children:""})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"6"}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Water Filter Plant":"  "}),c.map(j=>r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.waterFilterPlant||0},j.village.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,S)=>j+(S.infrastructure.waterFilterPlant||0),0)})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"7"}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Private Ponds":" "}),c.map(j=>r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.privatePonds||0},j.village.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,S)=>j+(S.infrastructure.privatePonds||0),0)})]})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4",children:r.jsxs("h2",{className:"text-white font-semibold flex items-center gap-2",children:[r.jsx(Ix,{className:"w-5 h-5"}),n==="en"?"Tap Connection Details":"  "]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Sr. No.":".."}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Village":""}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Families":""}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Old Connections":" "}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"New Connections":" "}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider bg-indigo-50",children:n==="en"?"Total Connections":" "}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Private Wells":" "}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Pending":""})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((j,S)=>r.jsxs("tr",{className:S%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:S+1}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?j.village.nameEn:j.village.nameMr}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.families||0}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.oldTapConnections||0}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.newTapConnections||0}),r.jsx("td",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 bg-indigo-50",children:j.infrastructure.totalTapConnections||0}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.privateWellsForTap||0}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.pendingTapConnections||0})]},j.village.id))}),r.jsx("tfoot",{className:"bg-indigo-50",children:r.jsxs("tr",{className:"font-bold",children:[r.jsx("td",{className:"px-6 py-4",colSpan:"2",children:n==="en"?"Total":""}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:c.reduce((j,S)=>j+(S.infrastructure.families||0),0)}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:c.reduce((j,S)=>j+(S.infrastructure.oldTapConnections||0),0)}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:c.reduce((j,S)=>j+(S.infrastructure.newTapConnections||0),0)}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900 bg-indigo-100",children:c.reduce((j,S)=>j+(S.infrastructure.totalTapConnections||0),0)}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:c.reduce((j,S)=>j+(S.infrastructure.privateWellsForTap||0),0)}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:c.reduce((j,S)=>j+(S.infrastructure.pendingTapConnections||0),0)})]})})]})})]})]})]})]})]})};function HH(){const[n,e]=W.useState([]),[t,s]=W.useState(!0),[a,o]=W.useState(""),[c,d]=W.useState("all"),{getContent:h}=ns();W.useEffect(()=>{f()},[]);const f=async()=>{try{s(!0);const E=await AV();e(E)}catch(E){console.error("Error loading announcements:",E),alert("Failed to load announcements")}finally{s(!1)}},g=async E=>{if(window.confirm("Are you sure you want to delete this announcement?"))try{await kV(E),e(n.filter(j=>j.id!==E)),alert("Announcement deleted successfully")}catch(j){console.error("Error deleting announcement:",j),alert("Failed to delete announcement")}},p=async(E,j)=>{try{await RV(E,!j),e(n.map(S=>S.id===E?{...S,isActive:!j}:S))}catch(S){console.error("Error toggling status:",S),alert("Failed to update status")}},v=n.filter(E=>{const j=h(E.title).toLowerCase().includes(a.toLowerCase())||h(E.message).toLowerCase().includes(a.toLowerCase()),S=c==="all"||c==="active"&&E.isActive||c==="inactive"&&!E.isActive||c===E.type;return j&&S}),b={info:"bg-blue-100 text-blue-800",warning:"bg-yellow-100 text-yellow-800",alert:"bg-red-100 text-red-800",success:"bg-green-100 text-green-800"},T={high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-gray-100 text-gray-800"};return t?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(qi,{className:"text-orange-600"}),"Announcements Management"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage scrolling announcements for homepage"})]}),r.jsxs(pn,{to:"/admin/announcements/new",className:"inline-flex items-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[r.jsx(ps,{size:20}),"Add Announcement"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-xl shadow-lg",children:[r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Total"}),r.jsx("p",{className:"text-3xl font-bold",children:n.length})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 text-white p-6 rounded-xl shadow-lg",children:[r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Active"}),r.jsx("p",{className:"text-3xl font-bold",children:n.filter(E=>E.isActive).length})]}),r.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white p-6 rounded-xl shadow-lg",children:[r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Inactive"}),r.jsx("p",{className:"text-3xl font-bold",children:n.filter(E=>!E.isActive).length})]}),r.jsxs("div",{className:"bg-gradient-to-br from-red-500 to-red-600 text-white p-6 rounded-xl shadow-lg",children:[r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"High Priority"}),r.jsx("p",{className:"text-3xl font-bold",children:n.filter(E=>E.priority==="high").length})]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search announcements...",value:a,onChange:E=>o(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),r.jsxs("select",{value:c,onChange:E=>d(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"active",children:"Active Only"}),r.jsx("option",{value:"inactive",children:"Inactive Only"}),r.jsx("option",{value:"info",children:"Info"}),r.jsx("option",{value:"warning",children:"Warning"}),r.jsx("option",{value:"alert",children:"Alert"}),r.jsx("option",{value:"success",children:"Success"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:v.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(qi,{className:"mx-auto text-gray-400 mb-4",size:48}),r.jsx("p",{className:"text-gray-500 text-lg",children:"No announcements found"}),r.jsx(pn,{to:"/admin/announcements/new",className:"inline-block mt-4 text-orange-600 hover:text-orange-700 font-semibold",children:"Create your first announcement"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Title & Message"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:v.map(E=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:h(E.title)}),r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-1",children:h(E.message)})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold ${b[E.type]||b.info}`,children:[E.type==="alert"&&r.jsx(Qn,{size:14}),E.type]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${T[E.priority]||T.low}`,children:E.priority})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("button",{onClick:()=>p(E.id,E.isActive),className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold transition-colors ${E.isActive?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:E.isActive?r.jsxs(r.Fragment,{children:[r.jsx(yi,{size:14}),"Active"]}):r.jsxs(r.Fragment,{children:[r.jsx(yh,{size:14}),"Inactive"]})})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pn,{to:`/admin/announcements/edit/${E.id}`,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:r.jsx(ou,{size:18})}),r.jsx("button",{onClick:()=>g(E.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:r.jsx(ni,{size:18})})]})})]},E.id))})]})})})]})}function r3(){const{id:n}=bl(),e=Ar(),[t,s]=W.useState(!1),[a,o]=W.useState({title:{en:"",mr:""},message:{en:"",mr:""},type:"info",priority:"medium",link:"",isActive:!0});W.useEffect(()=>{n&&c()},[n]);const c=async()=>{try{s(!0);const f=await CV(n);f&&o({title:f.title||{en:"",mr:""},message:f.message||{en:"",mr:""},type:f.type||"info",priority:f.priority||"medium",link:f.link||"",isActive:f.isActive!==void 0?f.isActive:!0})}catch(f){console.error("Error loading announcement:",f),alert("Failed to load announcement")}finally{s(!1)}},d=async f=>{if(f.preventDefault(),!a.title.en.trim()||!a.message.en.trim()){alert("Please fill in required fields (English title and message)");return}try{s(!0),n?(await mT(n,a),alert("Announcement updated successfully!")):(await IV(a),alert("Announcement created successfully!")),e("/admin/announcements")}catch(g){console.error("Error saving announcement:",g),alert("Failed to save announcement")}finally{s(!1)}},h=(f,g)=>{o(p=>({...p,[f]:g}))};return t&&n?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>e("/admin/announcements"),className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[r.jsx(mo,{size:20}),"Back to Announcements"]}),r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(qi,{className:"text-orange-600"}),n?"Edit Announcement":"Create New Announcement"]})]}),r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Announcement Title"}),r.jsx(_n,{label:"Title",value:a.title,onChange:f=>h("title",f),placeholder:{en:"Enter title in English",mr:"   "},required:!0})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Announcement Message"}),r.jsx(_n,{label:"Message",value:a.message,onChange:f=>h("message",f),placeholder:{en:"Enter message in English",mr:"   "},rows:4,required:!0})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Type *"}),r.jsxs("select",{value:a.type,onChange:f=>h("type",f.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"info",children:"Info"}),r.jsx("option",{value:"warning",children:"Warning"}),r.jsx("option",{value:"alert",children:"Alert"}),r.jsx("option",{value:"success",children:"Success"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Determines the color scheme"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Priority *"}),r.jsxs("select",{value:a.priority,onChange:f=>h("priority",f.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Higher priority shows first"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),r.jsxs("label",{className:"flex items-center gap-3 px-4 py-2.5 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[r.jsx("input",{type:"checkbox",checked:a.isActive,onChange:f=>h("isActive",f.target.checked),className:"w-5 h-5 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"Show on Homepage"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enable to display in banner"})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Link (Optional)"}),r.jsx("input",{type:"url",value:a.link,onChange:f=>h("link",f.target.value),placeholder:"https://example.com/details",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Optional: Add a link for "Read More" button'})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-blue-50 rounded-xl shadow-md p-6 border-2 border-dashed border-orange-200",children:[r.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(qi,{size:20,className:"text-orange-600"}),"Preview (English)"]}),r.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${a.type==="info"?"bg-blue-50 border-blue-500":a.type==="warning"?"bg-yellow-50 border-yellow-500":a.type==="alert"?"bg-red-50 border-red-500":"bg-green-50 border-green-500"}`,children:[r.jsx("p",{className:"font-bold text-gray-900",children:a.title.en||"Title will appear here"}),r.jsx("p",{className:"text-gray-700 text-sm mt-1",children:a.message.en||"Message will appear here"}),a.link&&r.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm mt-2 inline-block hover:underline",children:"Read More "})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("button",{type:"submit",disabled:t,className:"flex-1 inline-flex items-center justify-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-8 py-4 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(qs,{size:20}),t?"Saving...":n?"Update Announcement":"Create Announcement"]}),r.jsx("button",{type:"button",onClick:()=>e("/admin/announcements"),className:"px-8 py-4 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})}async function $H(){console.log(" Starting data migration from localStorage to Firebase..."),console.log("====================================================");const n={villages:0,demographics:0,breakdowns:0,groups:0,infrastructure:0,years:0,news:0,schemes:0,achievements:0,complaints:0,errors:[]};try{console.log(`
 Migrating Villages...`);const e=JSON.parse(localStorage.getItem("VILLAGES")||"[]");for(const p of e)try{await Ns(Ht(Je,"villages"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.villages++}catch(v){n.errors.push({type:"village",data:p,error:v.message})}console.log(` Migrated ${n.villages} villages`),console.log(`
 Migrating Demographics...`);const t=JSON.parse(localStorage.getItem("VILLAGE_DEMOGRAPHICS")||"[]");for(const p of t)try{await Ns(Ht(Je,"demographics"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.demographics++}catch(v){n.errors.push({type:"demographics",data:p,error:v.message})}console.log(` Migrated ${n.demographics} demographics records`),console.log(`
 Migrating Population Breakdowns...`);const s=JSON.parse(localStorage.getItem("VILLAGE_POPULATION_BREAKDOWNS")||"[]");for(const p of s)try{await Ns(Ht(Je,"populationBreakdowns"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.breakdowns++}catch(v){n.errors.push({type:"breakdown",data:p,error:v.message})}console.log(` Migrated ${n.breakdowns} population breakdowns`),console.log(`
 Migrating Village Groups...`);const a=JSON.parse(localStorage.getItem("VILLAGE_GROUPS")||"[]");for(const p of a)try{await Ns(Ht(Je,"villageGroups"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.groups++}catch(v){n.errors.push({type:"groups",data:p,error:v.message})}console.log(` Migrated ${n.groups} village groups`),console.log(`
  Migrating Infrastructure...`);const o=JSON.parse(localStorage.getItem("VILLAGE_INFRASTRUCTURE")||"[]");for(const p of o)try{await Ns(Ht(Je,"infrastructure"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.infrastructure++}catch(v){n.errors.push({type:"infrastructure",data:p,error:v.message})}console.log(` Migrated ${n.infrastructure} infrastructure records`),console.log(`
 Migrating Years...`);const c=JSON.parse(localStorage.getItem("STATISTICS_YEARS")||"[]");for(const p of c)try{await Ns(Ht(Je,"statisticsYears"),{year:p,createdAt:Qt()}),n.years++}catch(v){n.errors.push({type:"year",data:p,error:v.message})}console.log(` Migrated ${n.years} years`),console.log(`
 Migrating News...`);const d=JSON.parse(localStorage.getItem("NEWS")||"[]");for(const p of d)try{await Ns(Ht(Je,"news"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.news++}catch(v){n.errors.push({type:"news",data:p,error:v.message})}console.log(` Migrated ${n.news} news items`),console.log(`
 Migrating Schemes...`);const h=JSON.parse(localStorage.getItem("SCHEMES")||"[]");for(const p of h)try{await Ns(Ht(Je,"schemes"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.schemes++}catch(v){n.errors.push({type:"scheme",data:p,error:v.message})}console.log(` Migrated ${n.schemes} schemes`),console.log(`
 Migrating Achievements...`);const f=JSON.parse(localStorage.getItem("ACHIEVEMENTS")||"[]");for(const p of f)try{await Ns(Ht(Je,"achievements"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.achievements++}catch(v){n.errors.push({type:"achievement",data:p,error:v.message})}console.log(` Migrated ${n.achievements} achievements`),console.log(`
 Migrating Complaints...`);const g=JSON.parse(localStorage.getItem("COMPLAINTS")||"[]");for(const p of g)try{await Ns(Ht(Je,"complaints"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.complaints++}catch(v){n.errors.push({type:"complaint",data:p,error:v.message})}return console.log(` Migrated ${n.complaints} complaints`),console.log(`
====================================================`),console.log(" MIGRATION SUMMARY:"),console.log("===================================================="),console.log(`Villages:            ${n.villages}`),console.log(`Demographics:        ${n.demographics}`),console.log(`Breakdowns:          ${n.breakdowns}`),console.log(`Groups:              ${n.groups}`),console.log(`Infrastructure:      ${n.infrastructure}`),console.log(`Years:               ${n.years}`),console.log(`News:                ${n.news}`),console.log(`Schemes:             ${n.schemes}`),console.log(`Achievements:        ${n.achievements}`),console.log(`Complaints:          ${n.complaints}`),console.log("===================================================="),console.log(`Total migrated:      ${Object.values(n).reduce((p,v)=>typeof v=="number"?p+v:p,0)}`),console.log(`Errors:              ${n.errors.length}`),console.log("===================================================="),n.errors.length>0&&(console.log(`
 Errors encountered:`),n.errors.forEach((p,v)=>{console.log(`${v+1}. ${p.type}:`,p.error)})),console.log(`
 Migration complete!`),console.log("  IMPORTANT: After verifying data in Firebase Console,"),console.log("    you can safely clear localStorage."),n}catch(e){throw console.error(" Migration failed:",e),e}}function WH(){return confirm(" WARNING: This will clear all localStorage data. Have you verified data in Firebase? This cannot be undone!")?(localStorage.removeItem("VILLAGES"),localStorage.removeItem("VILLAGE_DEMOGRAPHICS"),localStorage.removeItem("VILLAGE_POPULATION_BREAKDOWNS"),localStorage.removeItem("VILLAGE_GROUPS"),localStorage.removeItem("VILLAGE_INFRASTRUCTURE"),localStorage.removeItem("STATISTICS_YEARS"),localStorage.removeItem("NEWS"),localStorage.removeItem("SCHEMES"),localStorage.removeItem("ACHIEVEMENTS"),localStorage.removeItem("COMPLAINTS"),localStorage.removeItem("ADMIN_USER"),localStorage.removeItem("SITE_SETTINGS"),console.log(" localStorage cleared"),!0):!1}async function KH(){try{console.log(" Testing Firebase connection...");const n=await Ns(Ht(Je,"test"),{message:"Firebase connection test",timestamp:Qt()});return console.log(" Firebase connected successfully!"),console.log("   Test document ID:",n.id),!0}catch(n){return console.error(" Firebase connection failed:",n),console.error("   Check your .env file and Firebase configuration"),!1}}const YH=()=>{const[n,e]=W.useState(""),[t,s]=W.useState(!1),[a,o]=W.useState("admin@grampanchayat.com"),[c,d]=W.useState(""),h=async()=>{s(!0),e(" Testing Firebase connection...");try{const v=await KH();e(v?" Firebase connected successfully! Check console for details.":" Connection failed. Check console for errors.")}catch(v){e(` Error: ${v.message}`)}finally{s(!1)}},f=async()=>{if(confirm(" This will migrate all localStorage data to Firebase. Continue?")){s(!0),e(" Migrating data to Firebase... Check console for progress.");try{const v=await $H();e(` Migration complete! Migrated ${JSON.stringify(v)} records. Check console for details.`)}catch(v){e(` Migration failed: ${v.message}`)}finally{s(!1)}}},g=async()=>{if(!a||!c){e(" Please enter email and password");return}if(c.length<6){e(" Password must be at least 6 characters");return}s(!0),e(" Creating admin user...");try{await QO(a,c,{name:"Admin",role:"admin"}),e(` Admin user created successfully! Email: ${a}`),d("")}catch(v){v.code==="auth/email-already-in-use"?e(" Email already in use. Admin user already exists."):e(` Error: ${v.message}`)}finally{s(!1)}},p=()=>{WH()&&e(" localStorage cleared successfully!")};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-green-50 p-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:" Firebase Setup & Migration"}),r.jsx("p",{className:"text-gray-600",children:"Configure Firebase and migrate your data from localStorage"})]}),n&&r.jsx("div",{className:"bg-white rounded-lg shadow-lg p-4 mb-6",children:r.jsx("p",{className:"text-sm font-mono whitespace-pre-wrap",children:n})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Step 1: Test Firebase Connection"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Verify that Firebase is configured correctly."}),r.jsx("button",{onClick:h,disabled:t,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Testing...":" Test Connection"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Step 2: Create Admin User"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Create an admin account for Firebase Authentication."}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),r.jsx("input",{type:"email",value:a,onChange:v=>o(v.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"admin@grampanchayat.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Password (min 6 characters)"}),r.jsx("input",{type:"password",value:c,onChange:v=>d(v.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Enter secure password"})]}),r.jsx("button",{onClick:g,disabled:t,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Creating...":" Create Admin User"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Step 3: Migrate Data from localStorage"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Transfer all existing data from localStorage to Firebase Firestore."}),r.jsx("button",{onClick:f,disabled:t,className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Migrating...":" Migrate Data to Firebase"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Step 4: Clear localStorage (Optional)"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"After verifying data in Firebase Console, you can clear localStorage."}),r.jsx("button",{onClick:p,disabled:t,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:" Clear localStorage"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-100 to-green-100 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:" Setup Instructions"}),r.jsxs("ol",{className:"space-y-2 text-gray-700",children:[r.jsxs("li",{children:["1. Enable ",r.jsx("b",{children:"Firestore Database"})," in Firebase Console (Test mode)"]}),r.jsxs("li",{children:["2. Enable ",r.jsx("b",{children:"Authentication"}),"  Email/Password"]}),r.jsxs("li",{children:["3. Enable ",r.jsx("b",{children:"Storage"})," (Test mode)"]}),r.jsx("li",{children:'4. Click "Test Connection" above'}),r.jsx("li",{children:"5. Create admin user with email and password"}),r.jsx("li",{children:"6. Migrate your data (if you have existing data)"}),r.jsx("li",{children:"7. Verify data in Firebase Console"}),r.jsxs("li",{children:["8. Deploy security rules from ",r.jsx("code",{children:"firestore.rules"})," and ",r.jsx("code",{children:"storage.rules"})]})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-300",children:r.jsxs("p",{className:"text-sm text-gray-600",children:[" Firebase Console: ",r.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"https://console.firebase.google.com/"})]})})]})]})})};function XH(){const n=Ar(),[e,t]=W.useState({email:"",password:""}),[s,a]=W.useState(!1),[o,c]=W.useState(""),[d,h]=W.useState(!1),f=async p=>{p.preventDefault(),a(!0),c("");try{const v=await UP(Yf,e.email,e.password);await dF(v.user.uid)?n("/superadmin/dashboard"):(await Yf.signOut(),c("Unauthorized. You do not have super admin access."))}catch(v){console.error("Login error:",v);let b="Login failed. Please try again.";v.code==="auth/user-not-found"?b="No account found with this email.":v.code==="auth/wrong-password"?b="Incorrect password.":v.code==="auth/invalid-email"?b="Invalid email address.":v.code==="auth/too-many-requests"&&(b="Too many failed attempts. Please try again later."),c(b)}finally{a(!1)}},g=p=>{t({...e,[p.target.name]:p.target.value}),c("")};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),r.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/10 backdrop-blur-md rounded-full mb-4 border border-white/20",children:r.jsx(Xl,{className:"w-10 h-10 text-white"})}),r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Super Admin Panel"}),r.jsx("p",{className:"text-indigo-200",children:"Gram Panchayat Multi-Tenant Management"})]}),r.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20",children:r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o&&r.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(Qn,{className:"w-5 h-5 text-red-200 flex-shrink-0 mt-0.5"}),r.jsx("p",{className:"text-sm text-red-100",children:o})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Bo,{className:"h-5 w-5 text-indigo-300"})}),r.jsx("input",{type:"email",name:"email",value:e.email,onChange:g,required:!0,placeholder:"superadmin@grampanchayat.in",className:"block w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent transition",disabled:s})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(j2,{className:"h-5 w-5 text-indigo-300"})}),r.jsx("input",{type:d?"text":"password",name:"password",value:e.password,onChange:g,required:!0,placeholder:"Enter your password",className:"block w-full pl-10 pr-12 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent transition",disabled:s}),r.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-indigo-300 hover:text-white transition",children:d?r.jsx(yh,{className:"h-5 w-5"}):r.jsx(yi,{className:"h-5 w-5"})})]})]}),r.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold py-3 px-4 rounded-lg hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg",children:s?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Signing in..."]}):"Sign In"}),r.jsx("p",{className:"text-xs text-center text-indigo-200",children:"Super Admin access only. Unauthorized access is prohibited."})]})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx("button",{onClick:()=>n("/"),className:"text-sm text-indigo-200 hover:text-white transition",children:" Back to Main Site"})}),r.jsx("div",{className:"mt-8 bg-yellow-500/20 border border-yellow-500/50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Xl,{className:"w-5 h-5 text-yellow-200 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-yellow-100 mb-1",children:"Security Notice"}),r.jsx("p",{className:"text-xs text-yellow-200",children:"All login attempts are logged and monitored. Only authorized personnel should access this panel."})]})]})})]})]})}function QH(){const n=Ar(),{superAdmin:e}=sT(),[t,s]=W.useState(null),[a,o]=W.useState([]),[c,d]=W.useState(!0),[h,f]=W.useState("overview");W.useEffect(()=>{g()},[]);const g=async()=>{try{d(!0);const[v,b]=await Promise.all([xF(),vy()]);s(v),o(b)}catch(v){console.error("Error loading dashboard:",v)}finally{d(!1)}},p=async()=>{confirm("Are you sure you want to logout?")&&(await Yf.signOut(),n("/superadmin/login"))};return c?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[r.jsx(Wg,{className:"w-6 h-6 animate-spin"}),r.jsx("p",{children:"Loading dashboard..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-indigo-600 rounded-lg",children:r.jsx(Xl,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Super Admin Panel"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Multi-Tenant Management"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:e?.displayName||"Super Admin"}),r.jsx("p",{className:"text-xs text-gray-500",children:e?.email})]}),r.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition",children:[r.jsx(lT,{className:"w-4 h-4"}),"Logout"]})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Welcome back, ",e?.displayName?.split(" ")[0]||"Admin","! "]}),r.jsx("p",{className:"text-gray-600",children:"Manage all Gram Panchayats from this central dashboard."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:r.jsx(gl,{className:"w-6 h-6 text-indigo-600"})})}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Gram Panchayats"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t?.totalGPs||0})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Gi,{className:"w-6 h-6 text-green-600"})})}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active GPs"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t?.activeGPs||0})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Es,{className:"w-6 h-6 text-purple-600"})})}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Admin Users"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t?.totalUsers||0})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(Jf,{className:"w-6 h-6 text-orange-600"})})}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Custom Domains"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t?.customDomains||0})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("button",{onClick:()=>n("/superadmin/gram-panchayats/add"),className:"flex items-center gap-3 p-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg hover:from-indigo-600 hover:to-purple-700 transition shadow-md",children:[r.jsx(ps,{className:"w-5 h-5"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-semibold",children:"Add New GP"}),r.jsx("p",{className:"text-sm text-indigo-100",children:"Create a new Gram Panchayat"})]})]}),r.jsxs("button",{onClick:()=>n("/superadmin/gram-panchayats"),className:"flex items-center gap-3 p-4 bg-white border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition",children:[r.jsx(gl,{className:"w-5 h-5 text-gray-600"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Manage GPs"}),r.jsx("p",{className:"text-sm text-gray-600",children:"View and edit all GPs"})]})]}),r.jsxs("button",{onClick:()=>n("/superadmin/users"),className:"flex items-center gap-3 p-4 bg-white border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition",children:[r.jsx(Es,{className:"w-5 h-5 text-gray-600"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Manage Users"}),r.jsx("p",{className:"text-sm text-gray-600",children:"View all admin users"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Gram Panchayats"}),r.jsx("button",{onClick:()=>n("/superadmin/gram-panchayats"),className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:"View All "})]}),a.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(gl,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"No Gram Panchayats yet"}),r.jsx("button",{onClick:()=>n("/superadmin/gram-panchayats/add"),className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Add your first Gram Panchayat "})]}):r.jsx("div",{className:"space-y-3",children:a.slice(0,5).map(v=>r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition cursor-pointer",onClick:()=>n(`/superadmin/gram-panchayats/${v.id}`),children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold",children:v.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:v.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[v.district,", ",v.state]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[v.customDomain&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Jf,{className:"w-4 h-4"}),v.customDomain]}),r.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${v.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:v.active?r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Gi,{className:"w-3 h-3"}),"Active"]}):r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(dh,{className:"w-3 h-3"}),"Inactive"]})})]})]},v.id))})]})]})]})}function JH(){const n=Ar(),[e,t]=W.useState(!1),[s,a]=W.useState(!1),[o,c]=W.useState(""),[d,h]=W.useState(!1),[f,g]=W.useState(null),[p,v]=W.useState({name:"",nameMarathi:"",district:"",state:"Maharashtra",email:"",phone:"",address:"",pincode:"",customDomain:"",subdomain:"",adminEmail:"",adminPassword:"",adminName:"",active:!0}),b=M=>{const{name:z,value:se,type:ae,checked:G}=M.target;v({...p,[z]:ae==="checkbox"?G:se}),c("")},T=()=>{const M=rT(12);v({...p,adminPassword:M})},E=()=>{const z=`gp-${p.name.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,20)}`;v({...p,subdomain:z})},j=()=>p.name.trim()?p.district.trim()?!p.customDomain&&!p.subdomain?(c("Either custom domain or subdomain is required"),!1):!p.adminEmail.trim()||!p.adminEmail.includes("@")?(c("Valid admin email is required"),!1):!p.adminPassword||p.adminPassword.length<6?(c("Admin password must be at least 6 characters"),!1):p.adminName.trim()?!0:(c("Admin name is required"),!1):(c("District is required"),!1):(c("GP name is required"),!1),S=async M=>{if(M.preventDefault(),!!j()){t(!0),c("");try{const z=p.name.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,20);let ae=`gp-${z}`;if(p.subdomain){const F=p.subdomain.toLowerCase().trim();/^-?[a-z0-9-]+-gpmulti$/.test(F)?ae=`${F.replace(/-gpmulti$/,"").replace(/-/g,"").replace(/[^a-z0-9]/g,"").substring(0,20)}-gpmulti`:/^gp-[a-z0-9-]+$/.test(F)?ae=`gp-${F.replace(/^gp-/,"").replace(/[^a-z0-9]/g,"").substring(0,20)}`:ae=`gp-${F.replace(/-/g,"").replace(/[^a-z0-9]/g,"").substring(0,20)}`}const G=p.customDomain||`${ae}.web.app`,D={...p,id:z,subdomain:ae,domain:G},I=await hF(D);g({gpName:p.name,adminEmail:p.adminEmail,adminPassword:p.adminPassword,gpId:I.gpId}),a(!0),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{n(`/superadmin/gram-panchayats/${I.gpId}`)},5e3)}catch(z){console.error("Error creating GP:",z);let se="Failed to create Gram Panchayat. ";z.code==="permission-denied"?se+="Permission denied. Please ensure you are logged in as a Super Admin and Firestore rules are deployed.":z.message?se+=z.message:se+="Please try again or contact support.",z.message&&z.message.includes("already exists")&&(se="A Gram Panchayat with a similar name already exists. Please choose a different name."),c(se),window.scrollTo({top:0,behavior:"smooth"})}finally{t(!1)}}},L=()=>{a(!1),g(null),v({name:"",nameMarathi:"",district:"",state:"Maharashtra",email:"",phone:"",address:"",pincode:"",customDomain:"",subdomain:"",adminEmail:"",adminPassword:"",adminName:"",active:!0})};return s&&f?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Add Gram Panchayat"}),r.jsx("button",{onClick:()=>n("/superadmin/dashboard"),className:"text-gray-600 hover:text-gray-900",children:"Close"})]})})}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:r.jsx(Gi,{className:"w-8 h-8 text-green-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Gram Panchayat Created Successfully! "}),r.jsxs("p",{className:"text-gray-600",children:[f.gpName," has been added to the system."]})]}),r.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-6 mb-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Qn,{className:"w-5 h-5 text-indigo-600"}),"Admin Credentials (Save These!)"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Admin Email"}),r.jsx("p",{className:"font-mono font-semibold text-gray-900",children:f.adminEmail})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Admin Password"}),r.jsx("p",{className:"font-mono font-semibold text-gray-900",children:f.adminPassword})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"GP ID"}),r.jsx("p",{className:"font-mono font-semibold text-gray-900",children:f.gpId})]})]}),r.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",r.jsx("strong",{children:"Important:"})," Save these credentials securely. The admin will need them to login."]})})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:" What's Happening Next:"}),r.jsxs("ol",{className:"space-y-2 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-semibold text-indigo-600",children:"1."}),r.jsx("span",{children:"GitHub Actions is deploying the GP site (takes ~2-3 minutes)"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-semibold text-indigo-600",children:"2."}),r.jsx("span",{children:"The actual domain URL will be updated automatically in Firestore"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-semibold text-indigo-600",children:"3."}),r.jsx("span",{children:"You'll be redirected to the GP page where you can see the live domain"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-semibold text-indigo-600",children:"4."}),r.jsx("span",{children:"Share the admin credentials with the GP administrator"})]})]}),r.jsxs("div",{className:"mt-4 p-3 bg-indigo-50 border border-indigo-200 rounded-lg flex items-start gap-2",children:[r.jsx(Wg,{className:"w-4 h-4 text-indigo-600 animate-spin mt-0.5 flex-shrink-0"}),r.jsxs("p",{className:"text-sm text-indigo-800",children:[r.jsx("strong",{children:"Auto-redirecting in 5 seconds..."})," You'll see the deployment progress on the GP details page."]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("button",{onClick:()=>n(`/superadmin/gram-panchayats/${f.gpId}`),className:"flex-1 bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition font-semibold flex items-center justify-center gap-2",children:[r.jsx(yi,{className:"w-5 h-5"}),"View GP Details"]}),r.jsx("button",{onClick:L,className:"flex-1 bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-50 transition font-semibold",children:"Add Another GP"})]})]})})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/superadmin/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:r.jsx(mo,{className:"w-5 h-5 text-gray-600"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Add New Gram Panchayat"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(gl,{className:"w-4 h-4"}),"Create GP"]})]})})}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("form",{onSubmit:S,className:"space-y-6",children:[o&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(Qn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Error"}),r.jsx("p",{className:"text-sm text-red-700",children:o})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(gl,{className:"w-5 h-5 text-indigo-600"}),"Basic Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Gram Panchayat Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"name",value:p.name,onChange:b,onBlur:E,placeholder:"e.g., Pindkepar Lodha",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name in Marathi (Optional)"}),r.jsx("input",{type:"text",name:"nameMarathi",value:p.nameMarathi,onChange:b,placeholder:" ",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["District ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"district",value:p.district,onChange:b,placeholder:"e.g., Gondia",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["State ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"state",value:p.state,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"Maharashtra",children:"Maharashtra"}),r.jsx("option",{value:"Andhra Pradesh",children:"Andhra Pradesh"}),r.jsx("option",{value:"Gujarat",children:"Gujarat"}),r.jsx("option",{value:"Karnataka",children:"Karnataka"}),r.jsx("option",{value:"Madhya Pradesh",children:"Madhya Pradesh"}),r.jsx("option",{value:"Rajasthan",children:"Rajasthan"}),r.jsx("option",{value:"Tamil Nadu",children:"Tamil Nadu"}),r.jsx("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Bo,{className:"w-5 h-5 text-indigo-600"}),"Contact Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsx("input",{type:"email",name:"email",value:p.email,onChange:b,placeholder:"gp@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),r.jsx("input",{type:"tel",name:"phone",value:p.phone,onChange:b,placeholder:"+91 1234567890",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),r.jsx("textarea",{name:"address",value:p.address,onChange:b,placeholder:"Full address",rows:"2",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),r.jsx("input",{type:"text",name:"pincode",value:p.pincode,onChange:b,placeholder:"441614",maxLength:"6",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Jf,{className:"w-5 h-5 text-indigo-600"}),"Domain Configuration"]}),r.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:" Tip:"})," We'll try to create a clean FREE Firebase URL like ",r.jsxs("code",{children:["gp-",r.jsx("em",{children:"gpname"}),".web.app"]}),"to avoid random suffix collisions. If unavailable, a variant will be used. Custom domains can be added later!"]})}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Subdomain ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",name:"subdomain",value:p.subdomain,onChange:b,placeholder:"gp-pindkeparlodha",required:!0,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),r.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition",title:"Auto-generate from GP name",children:r.jsx(Px,{className:"w-5 h-5"})})]}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[" ",r.jsx("strong",{children:"Suggested FREE URL:"})," ",r.jsxs("code",{className:"bg-gray-100 px-2 py-1 rounded",children:[p.subdomain||"gp-gpname",".web.app"]})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This will be your GP's website address. You can create a Firebase hosting site for this later."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Domain (Optional - Can add later)"}),r.jsx("input",{type:"text",name:"customDomain",value:p.customDomain,onChange:b,placeholder:"grampanchyatpindkepaarlodha.in",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:" Requires purchasing domain. Can be configured in Firebase Hosting console later."})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(em,{className:"w-5 h-5 text-indigo-600"}),"Admin User"]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Admin Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"adminName",value:p.adminName,onChange:b,placeholder:"Full name of the administrator",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Admin Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",name:"adminEmail",value:p.adminEmail,onChange:b,placeholder:"admin@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This email will be used to login to the admin panel"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Admin Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("input",{type:d?"text":"password",name:"adminPassword",value:p.adminPassword,onChange:b,placeholder:"Minimum 6 characters",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,minLength:"6"}),r.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?r.jsx(yh,{className:"w-5 h-5"}):r.jsx(yi,{className:"w-5 h-5"})})]}),r.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 transition font-semibold",children:"Generate"})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Use a strong password. Click "Generate" for a secure random password.'})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",name:"active",id:"active",checked:p.active,onChange:b,className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),r.jsx("label",{htmlFor:"active",className:"text-sm text-gray-700",children:"Activate this Gram Panchayat immediately"})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{type:"button",onClick:()=>n("/superadmin/dashboard"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition font-semibold",disabled:e,children:"Cancel"}),r.jsx("button",{type:"submit",disabled:e,className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-indigo-700 hover:to-purple-700 transition font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:e?r.jsxs(r.Fragment,{children:[r.jsx(Wg,{className:"w-5 h-5 animate-spin"}),"Creating Gram Panchayat..."]}):r.jsxs(r.Fragment,{children:[r.jsx(qs,{className:"w-5 h-5"}),"Create Gram Panchayat"]})})]})]})})]})}function ZH(){const n=Ar(),[e,t]=W.useState([]),[s,a]=W.useState([]),[o,c]=W.useState(!0),[d,h]=W.useState(""),[f,g]=W.useState("all"),[p,v]=W.useState("");W.useEffect(()=>{b()},[]),W.useEffect(()=>{T()},[d,f,e]);const b=async()=>{try{c(!0);const S=await vy();t(S),a(S)}catch(S){console.error("Error loading GPs:",S),v("Failed to load Gram Panchayats")}finally{c(!1)}},T=()=>{let S=e;d.trim()&&(S=S.filter(L=>L.name.toLowerCase().includes(d.toLowerCase())||L.district.toLowerCase().includes(d.toLowerCase())||L.state.toLowerCase().includes(d.toLowerCase())||L.customDomain&&L.customDomain.toLowerCase().includes(d.toLowerCase()))),f==="active"?S=S.filter(L=>L.active):f==="inactive"&&(S=S.filter(L=>!L.active)),a(S)},E=async(S,L)=>{if(confirm(`Are you sure you want to ${L?"deactivate":"activate"} this Gram Panchayat?`))try{await eT(S,!L),await b()}catch(z){console.error("Error toggling GP status:",z),alert("Failed to update GP status")}},j=async(S,L)=>{if(!confirm(`Are you sure you want to delete "${L}"?

This will remove the GP from the system but preserve its data.`))return;if(prompt(`Type "${L}" to confirm deletion:`)!==L){alert("GP name did not match. Deletion cancelled.");return}try{await tT(S),await b()}catch(z){console.error("Error deleting GP:",z),alert("Failed to delete GP")}};return o?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[r.jsx(Wg,{className:"w-6 h-6 animate-spin"}),r.jsx("p",{children:"Loading Gram Panchayats..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/superadmin/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:r.jsx(mo,{className:"w-5 h-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Manage Gram Panchayats"}),r.jsxs("p",{className:"text-sm text-gray-500",children:[e.length," total GPs"]})]})]}),r.jsxs("button",{onClick:()=>n("/superadmin/gram-panchayats/add"),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition",children:[r.jsx(ps,{className:"w-5 h-5"}),"Add New GP"]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Fa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by name, district, state, or domain...",value:d,onChange:S=>h(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-lg font-medium transition ${f==="all"?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["All (",e.length,")"]}),r.jsxs("button",{onClick:()=>g("active"),className:`px-4 py-2 rounded-lg font-medium transition ${f==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Active (",e.filter(S=>S.active).length,")"]}),r.jsxs("button",{onClick:()=>g("inactive"),className:`px-4 py-2 rounded-lg font-medium transition ${f==="inactive"?"bg-gray-200 text-gray-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Inactive (",e.filter(S=>!S.active).length,")"]})]})]})}),p&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-center gap-3",children:[r.jsx(Qn,{className:"w-5 h-5 text-red-600"}),r.jsx("p",{className:"text-red-700",children:p})]}),s.length===0?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[r.jsx(gl,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:d||f!=="all"?"No GPs Found":"No Gram Panchayats Yet"}),r.jsx("p",{className:"text-gray-600 mb-6",children:d||f!=="all"?"Try adjusting your filters":"Add your first Gram Panchayat to get started"}),!d&&f==="all"&&r.jsxs("button",{onClick:()=>n("/superadmin/gram-panchayats/add"),className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition font-semibold",children:[r.jsx(ps,{className:"w-5 h-5"}),"Add First GP"]})]}):r.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.map(S=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-2xl flex-shrink-0",children:S.name.charAt(0)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.name}),S.nameMarathi&&r.jsx("p",{className:"text-sm text-gray-500",children:S.nameMarathi})]}),r.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${S.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:S.active?r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Gi,{className:"w-3 h-3"}),"Active"]}):r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(dh,{className:"w-3 h-3"}),"Inactive"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xl,{className:"w-4 h-4"}),S.district,", ",S.state]}),S.email&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Bo,{className:"w-4 h-4"}),S.email]}),S.phone&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Do,{className:"w-4 h-4"}),S.phone]}),S.customDomain&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jf,{className:"w-4 h-4"}),S.customDomain]})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",new Date(S.createdAt.seconds*1e3).toLocaleDateString("en-IN"),S.updatedAt&&r.jsxs("span",{className:"ml-4",children:["Updated: ",new Date(S.updatedAt.seconds*1e3).toLocaleDateString("en-IN")]})]})]})]})})}),r.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-200",children:[r.jsxs("button",{onClick:()=>n(`/superadmin/gram-panchayats/edit/${S.id}`),className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 text-indigo-700 rounded-lg hover:bg-indigo-100 transition font-medium",children:[r.jsx(ou,{className:"w-4 h-4"}),"Edit"]}),r.jsxs("button",{onClick:()=>E(S.id,S.active),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition ${S.active?"bg-yellow-50 text-yellow-700 hover:bg-yellow-100":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:[r.jsx(dT,{className:"w-4 h-4"}),S.active?"Deactivate":"Activate"]}),r.jsxs("button",{onClick:()=>j(S.id,S.name),className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition font-medium ml-auto",children:[r.jsx(ni,{className:"w-4 h-4"}),"Delete"]})]})]},S.id))})]})]})}const e$=()=>{const{id:n}=bl(),e=Ar(),[t,s]=W.useState(null),[a,o]=W.useState([]),[c,d]=W.useState(null),[h,f]=W.useState(!0),[g,p]=W.useState(""),[v,b]=W.useState({}),[T,E]=W.useState(!1),[j,S]=W.useState(!1);W.useEffect(()=>{if(!n)return;const D=uF(n,I=>{I&&s(F=>(F&&F.domain!==I.domain&&(S(!1),console.log(" Domain updated:",I.domain)),I))});return()=>{D&&D()}},[n]),W.useEffect(()=>{L()},[n]);const L=async()=>{try{f(!0),p("");const D=await cw(n);if(!D){p("Gram Panchayat not found");return}s(D);try{const I=await yF(n);o(I||[])}catch(I){console.error("Error loading users:",I),o([])}try{const I=await bF(n);d(I)}catch(I){console.error("Error loading stats:",I),d(null)}}catch(D){console.error("Error loading GP:",D),p(D.message||"Failed to load Gram Panchayat details")}finally{f(!1)}},M=async()=>{if(confirm(`Are you sure you want to ${t.active?"deactivate":"activate"} this Gram Panchayat?`))try{E(!0),await eT(n,!t.active),s({...t,active:!t.active})}catch(D){alert("Failed to update status: "+D.message)}finally{E(!1)}},z=async()=>{if(!confirm(" WARNING: This will permanently delete the Gram Panchayat and all its data. This action cannot be undone. Are you sure?"))return;if(prompt('Type "DELETE" to confirm deletion:')!=="DELETE"){alert("Deletion cancelled");return}try{E(!0);const I=await tT(n);alert(I.message+`

`+(I.note||"")),e("/superadmin/gram-panchayats")}catch(I){alert("Failed to delete: "+I.message),E(!1)}},se=D=>{b(I=>({...I,[D]:!I[D]}))},ae=(D,I)=>{navigator.clipboard.writeText(D),alert(`${I} copied to clipboard!`)},G=D=>{try{return atob(D)}catch{return"****"}};return h?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Px,{className:"w-12 h-12 text-indigo-600 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading Gram Panchayat details..."})]})}):g||!t?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(dh,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error"}),r.jsx("p",{className:"text-gray-600 mb-6",children:g||"Gram Panchayat not found"}),r.jsx("button",{onClick:()=>e("/superadmin/gram-panchayats"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Back to List"})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>e("/superadmin/gram-panchayats"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx(mo,{className:"w-5 h-5"}),"Back to Gram Panchayats"]}),r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.name}),t.active?r.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium flex items-center gap-1",children:[r.jsx(Gi,{className:"w-4 h-4"}),"Active"]}):r.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium flex items-center gap-1",children:[r.jsx(dh,{className:"w-4 h-4"}),"Inactive"]})]}),t.nameMarathi&&r.jsx("p",{className:"text-xl text-gray-600",children:t.nameMarathi}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["ID: ",t.id]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:M,disabled:T,className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${t.active?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[r.jsx(dT,{className:"w-4 h-4"}),t.active?"Deactivate":"Activate"]}),r.jsxs("button",{onClick:()=>e(`/superadmin/gram-panchayats/edit/${n}`),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium flex items-center gap-2",children:[r.jsx(ou,{className:"w-4 h-4"}),"Edit"]}),r.jsxs("button",{onClick:z,disabled:T,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium flex items-center gap-2",children:[r.jsx(ni,{className:"w-4 h-4"}),"Delete"]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Jf,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Firebase Hosting URL"}),r.jsx("div",{className:"flex items-center gap-2",children:t.url?r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-gray-900 font-medium break-all",children:t.url}),r.jsx("button",{onClick:()=>window.open(t.url,"_blank"),className:"text-indigo-600 hover:text-indigo-800 flex-shrink-0",title:"Open site in new tab",children:r.jsx(Ng,{className:"w-4 h-4"})})]}):r.jsx("p",{className:"text-amber-600 font-medium",children:"Not configured"})})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Jf,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Custom Domain"}),r.jsx("div",{className:"flex items-center gap-2",children:t.customDomain?r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-gray-900 font-medium break-all",children:t.customDomain}),r.jsx("button",{onClick:()=>window.open(`https://${t.customDomain}`,"_blank"),className:"text-indigo-600 hover:text-indigo-800 flex-shrink-0",title:"Open custom domain in new tab",children:r.jsx(Ng,{className:"w-4 h-4"})})]}):r.jsx("p",{className:"text-gray-500 font-medium",children:"Not configured"})})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(xl,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Location"}),r.jsx("p",{className:"text-gray-900 font-medium",children:[t.district,t.state].filter(Boolean).join(", ")||"Not specified"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Bo,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Admin Email"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"text-gray-900 font-medium",children:t.adminEmail}),r.jsx("button",{onClick:()=>ae(t.adminEmail,"Email"),className:"text-gray-400 hover:text-gray-600",children:r.jsx(v2,{className:"w-4 h-4"})})]})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(es,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Created"}),r.jsx("p",{className:"text-gray-900 font-medium",children:t.createdAt?.toDate?.().toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})||"Unknown"})]})]})]}),(t.pincode||t.contactNumber||t.address)&&r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Additional Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.pincode&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Pincode"}),r.jsx("p",{className:"text-gray-900",children:t.pincode})]}),t.contactNumber&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Contact Number"}),r.jsx("p",{className:"text-gray-900",children:t.contactNumber})]}),t.address&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),r.jsx("p",{className:"text-gray-900",children:t.address})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Es,{className:"w-5 h-5"}),"Admin Users (",a.length,")"]}),a.length===0?r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No users found"}):r.jsx("div",{className:"space-y-4",children:a.map(D=>r.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 transition",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("p",{className:"font-medium text-gray-900",children:D.email}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${D.role==="admin"?"bg-purple-100 text-purple-700":D.role==="superAdmin"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:D.role}),D.active===!1&&r.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-700",children:"Inactive"})]}),D.initialPassword&&r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Password:"}),r.jsx("code",{className:"px-2 py-1 bg-gray-100 rounded text-sm font-mono",children:v[D.id]?G(D.initialPassword):""}),r.jsx("button",{onClick:()=>se(D.id),className:"text-gray-400 hover:text-gray-600",children:v[D.id]?r.jsx(yh,{className:"w-4 h-4"}):r.jsx(yi,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>ae(G(D.initialPassword),"Password"),className:"text-gray-400 hover:text-gray-600",children:r.jsx(v2,{className:"w-4 h-4"})})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Created: ",D.createdAt?.toDate?.().toLocaleDateString("en-IN")||"Unknown"]})]})})},D.id))})]})]}),r.jsxs("div",{className:"space-y-6",children:[c&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Users"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalUsers||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Notices"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalNotices||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Grievances"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalGrievances||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Storage Used"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.storageUsed?`${(c.storageUsed/1024/1024).toFixed(2)} MB`:"0 MB"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>e(`/superadmin/gram-panchayats/edit/${n}`),className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center justify-center gap-2",children:[r.jsx(ou,{className:"w-4 h-4"}),"Edit Details"]}),r.jsxs("button",{onClick:()=>e(`/superadmin/users?gp=${n}`),className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center justify-center gap-2",children:[r.jsx(Es,{className:"w-4 h-4"}),"Manage Users"]}),t.domain&&r.jsxs("button",{onClick:()=>window.open(`https://${t.domain}`,"_blank"),className:"w-full px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 font-medium flex items-center justify-center gap-2",children:[r.jsx(Ng,{className:"w-4 h-4"}),"Visit Website"]}),r.jsxs("button",{onClick:L,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center justify-center gap-2",children:[r.jsx(Px,{className:"w-4 h-4"}),"Refresh Data"]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Metadata"}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Created At"}),r.jsx("p",{className:"text-gray-900",children:t.createdAt?.toDate?.().toLocaleString("en-IN")||"Unknown"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Last Updated"}),r.jsx("p",{className:"text-gray-900",children:t.updatedAt?.toDate?.().toLocaleString("en-IN")||"Never"})]}),t.createdBy&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Created By"}),r.jsx("p",{className:"text-gray-900",children:t.createdBy})]})]})]})]})]})]})})};function t$(){const{id:n}=bl(),e=Ar(),[t,s]=W.useState(!0),[a,o]=W.useState(!1),[c,d]=W.useState(""),[h,f]=W.useState(""),[g,p]=W.useState(!1),[v,b]=W.useState({name:"",nameMarathi:"",district:"",state:"Maharashtra",email:"",phone:"",address:"",pincode:"",contactNumber:"",adminEmail:"",adminPassword:"",adminName:"",url:"",customDomain:"",active:!0});W.useEffect(()=>{T()},[n]);const T=async()=>{try{s(!0);const S=await cw(n);if(!S){d("Gram Panchayat not found");return}b({name:S.name||"",nameMarathi:S.nameMarathi||"",district:S.district||"",state:S.state||"Maharashtra",email:S.email||"",phone:S.phone||"",address:S.address||"",pincode:S.pincode||"",contactNumber:S.contactNumber||"",adminEmail:S.adminEmail||"",adminPassword:S.adminPassword||"",adminName:S.adminName||"",url:S.url||"",customDomain:S.customDomain||"",active:S.active!==!1})}catch(S){console.error("Error loading GP:",S),d("Failed to load Gram Panchayat details")}finally{s(!1)}},E=S=>{const{name:L,value:M,type:z,checked:se}=S.target;b(ae=>({...ae,[L]:z==="checkbox"?se:M}))},j=async S=>{S.preventDefault();try{o(!0),d(""),f(""),await fF(n,v),f("Gram Panchayat updated successfully!"),setTimeout(()=>{e(`/superadmin/gram-panchayats/${n}`)},2e3)}catch(L){console.error("Error updating GP:",L),d(L.message||"Failed to update Gram Panchayat")}finally{o(!1)}};return t?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Gram Panchayat..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>e(`/superadmin/gram-panchayats/${n}`),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx(mo,{className:"h-5 w-5 mr-2"}),"Back to GP Details"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Gram Panchayat"}),r.jsxs("p",{className:"mt-2 text-gray-600",children:["Update details for ",v.name]})]}),c&&r.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[r.jsx(Vs,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:c})]}),h&&r.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-start",children:[r.jsx(qs,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:h})]}),r.jsxs("form",{onSubmit:j,className:"bg-white shadow-md rounded-lg p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GP Name (English) *"}),r.jsx("input",{type:"text",name:"name",value:v.name,onChange:E,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GP Name (Marathi)"}),r.jsx("input",{type:"text",name:"nameMarathi",value:v.nameMarathi,onChange:E,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"District *"}),r.jsx("input",{type:"text",name:"district",value:v.district,onChange:E,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),r.jsx("input",{type:"text",name:"state",value:v.state,onChange:E,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsx("input",{type:"email",name:"email",value:v.email,onChange:E,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),r.jsx("input",{type:"tel",name:"phone",value:v.phone,onChange:E,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Number"}),r.jsx("input",{type:"tel",name:"contactNumber",value:v.contactNumber,onChange:E,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),r.jsx("input",{type:"text",name:"pincode",value:v.pincode,onChange:E,pattern:"[0-9]{6}",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),r.jsx("textarea",{name:"address",value:v.address,onChange:E,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Hosting & Domain"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Firebase Hosting URL *"}),r.jsx("input",{type:"url",name:"url",value:v.url,onChange:E,required:!0,placeholder:"https://gp-nawargaon.web.app",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The primary Firebase hosting URL (e.g., https://gp-nawargaon.web.app)"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Domain"}),r.jsx("input",{type:"text",name:"customDomain",value:v.customDomain,onChange:E,placeholder:"www.grampanchayatnawargaon.in",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optional custom domain (e.g., www.grampanchayatnawargaon.in)"})]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Admin Credentials"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Name"}),r.jsx("input",{type:"text",name:"adminName",value:v.adminName,onChange:E,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),r.jsx("input",{type:"email",name:"adminEmail",value:v.adminEmail,onChange:E,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Password (Plain Text)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:g?"text":"password",name:"adminPassword",value:v.adminPassword,onChange:E,className:"w-full px-4 py-2 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{type:"button",onClick:()=>p(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:g?r.jsx(yh,{className:"h-5 w-5"}):r.jsx(yi,{className:"h-5 w-5"})})]}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Password is stored in plain text for easy access"})]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Status"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"active",id:"active",checked:v.active,onChange:E,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"active",className:"ml-2 block text-sm text-gray-700",children:"Active (GP is accessible to users)"})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[r.jsx("button",{type:"button",onClick:()=>e(`/superadmin/gram-panchayats/${n}`),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:a,children:"Cancel"}),r.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(qs,{className:"h-5 w-5 mr-2"}),"Save Changes"]})})]})]})]})})}function n$(){const n=Ar(),[e,t]=W.useState([]),[s,a]=W.useState(!0),[o,c]=W.useState(""),[d,h]=W.useState(""),[f,g]=W.useState("all"),[p,v]=W.useState({}),[b,T]=W.useState(""),[E,j]=W.useState(!1),[S,L]=W.useState(null),[M,z]=W.useState(null),[se,ae]=W.useState(!1),[G,D]=W.useState(!1),I=[...new Set(e.map(ue=>ue.gpName))].sort();W.useEffect(()=>{F()},[]);const F=async()=>{try{a(!0),c("");const ue=await nT();t(ue)}catch(ue){console.error("Error fetching users:",ue),c("Failed to load users. Please try again.")}finally{a(!1)}},k=async(ue,je)=>{if(confirm(`Send password reset email to ${ue}?`))try{v({...p,[je]:!0}),await mF(ue),T(`Password reset email sent to ${ue}`),setTimeout(()=>T(""),5e3)}catch(ze){console.error("Error resetting password:",ze),alert("Failed to send password reset email. Please try again.")}finally{v({...p,[je]:!1})}},P=async ue=>{try{L(ue),j(!0),ae(!0),D(!1);const je=await gF(ue.gpId,ue.id);z(je)}catch(je){console.error("Error fetching password:",je),alert("Failed to fetch password. It may not be available."),j(!1)}finally{ae(!1)}},V=async()=>{if(confirm("Generate a new password for this user? This will update the stored password."))try{ae(!0);const ue=await pF(S.gpId,S.id,S.email);z({password:ue.password,passwordLastChanged:new Date,isNew:!0}),T(`New password generated for ${S.email}`),setTimeout(()=>T(""),5e3)}catch(ue){console.error("Error generating password:",ue),alert("Failed to generate new password. Please try again.")}finally{ae(!1)}},le=ue=>{navigator.clipboard.writeText(ue),T("Password copied to clipboard!"),setTimeout(()=>T(""),3e3)},Ne=()=>{j(!1),L(null),z(null),D(!1)},ie=()=>{const ue=ge.map(he=>({Name:he.displayName||"N/A",Email:he.email,"Gram Panchayat":he.gpName,Role:he.role,"Created At":new Date(he.createdAt?.toDate()).toLocaleDateString("en-IN"),"Last Login":he.lastLogin?new Date(he.lastLogin.toDate()).toLocaleDateString("en-IN"):"Never"})),je=Object.keys(ue[0]).join(","),ze=ue.map(he=>Object.values(he).join(",")),ne=[je,...ze].join(`
`),q=new Blob([ne],{type:"text/csv"}),J=window.URL.createObjectURL(q),re=document.createElement("a");re.href=J,re.download=`admin-users-${new Date().toISOString().split("T")[0]}.csv`,re.click()},ge=e.filter(ue=>{const je=ue.displayName?.toLowerCase().includes(d.toLowerCase())||ue.email?.toLowerCase().includes(d.toLowerCase())||ue.gpName?.toLowerCase().includes(d.toLowerCase()),ze=f==="all"||ue.gpName===f;return je&&ze});return s?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading users..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/superadmin/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(mo,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manage Admin Users"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[ge.length," of ",e.length," users"]})]})]}),r.jsxs("button",{onClick:ie,disabled:ge.length===0,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(Vo,{className:"w-4 h-4"}),"Export CSV"]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b&&r.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[r.jsx(Gi,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),r.jsx("p",{className:"text-green-800",children:b})]}),o&&r.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[r.jsx(Qn,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),r.jsx("p",{className:"text-red-800",children:o})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by name, email, or GP...",value:d,onChange:ue=>h(ue.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(wy,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsxs("select",{value:f,onChange:ue=>g(ue.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent appearance-none bg-white",children:[r.jsx("option",{value:"all",children:"All Gram Panchayats"}),I.map(ue=>r.jsx("option",{value:ue,children:ue},ue))]})]})]})}),ge.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[r.jsx(em,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No users found"}),r.jsx("p",{className:"text-gray-600",children:d||f!=="all"?"Try adjusting your search or filters":"No admin users have been created yet"})]}):r.jsx("div",{className:"space-y-4",children:ge.map(ue=>r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center",children:r.jsx(em,{className:"w-6 h-6 text-indigo-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:ue.displayName||"No Name"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Bo,{className:"w-4 h-4"}),ue.email]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gl,{className:"w-4 h-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Gram Panchayat"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:ue.gpName})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xl,{className:"w-4 h-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Role"}),r.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:ue.role})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(es,{className:"w-4 h-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Created"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:ue.createdAt?new Date(ue.createdAt.toDate()).toLocaleDateString("en-IN"):"N/A"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[ue.lastLogin?r.jsx(Gi,{className:"w-4 h-4 text-green-500"}):r.jsx(dh,{className:"w-4 h-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Last Login"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:ue.lastLogin?new Date(ue.lastLogin.toDate()).toLocaleDateString("en-IN"):"Never"})]})]})]})]}),r.jsxs("div",{className:"ml-4 flex flex-col gap-2",children:[r.jsxs("button",{onClick:()=>P(ue),className:"flex items-center gap-2 px-4 py-2 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(yi,{className:"w-4 h-4"}),"View Password"]}),r.jsxs("button",{onClick:()=>k(ue.email,ue.id),disabled:p[ue.id],className:"flex items-center gap-2 px-4 py-2 text-sm bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(EU,{className:"w-4 h-4"}),p[ue.id]?"Sending...":"Reset Password"]})]})]})},ue.id))})]}),E&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"User Password"}),r.jsx("button",{onClick:Ne,className:"text-gray-400 hover:text-gray-600",children:r.jsx(dh,{className:"w-6 h-6"})})]}),S&&r.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"User"}),r.jsx("p",{className:"font-semibold text-gray-900",children:S.displayName||"No Name"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.email}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["GP: ",S.gpName]})]}),se?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Loading password..."})]}):M?r.jsxs("div",{children:[M.isNew&&r.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-yellow-800",children:" New password generated. A password reset email has been sent."})}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:G?"text":"password",value:M.password||"Not available",readOnly:!0,className:"w-full px-4 py-2 pr-20 border border-gray-300 rounded-lg bg-gray-50 font-mono"}),r.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-1",children:[r.jsx("button",{onClick:()=>D(!G),className:"p-1.5 hover:bg-gray-200 rounded transition-colors",title:G?"Hide":"Show",children:G?r.jsx(yh,{className:"w-4 h-4 text-gray-600"}):r.jsx(yi,{className:"w-4 h-4 text-gray-600"})}),M.password&&r.jsx("button",{onClick:()=>le(M.password),className:"p-1.5 hover:bg-gray-200 rounded transition-colors",title:"Copy",children:r.jsx(v2,{className:"w-4 h-4 text-gray-600"})})]})]})]}),M.passwordLastChanged&&r.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Last changed: ",new Date(M.passwordLastChanged.toDate?.()||M.passwordLastChanged).toLocaleString("en-IN")]}),r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-4",children:r.jsxs("p",{className:"text-xs text-amber-800",children:[" ",r.jsx("strong",{children:"Security Notice:"})," This password is stored in encoded format (not encrypted). Users should change their password after first login for security."]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:V,disabled:se,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-colors",children:[r.jsx(Px,{className:"w-4 h-4"}),"Generate New"]}),r.jsx("button",{onClick:Ne,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Close"})]})]}):r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-gray-600",children:"Password not available"})})]})})]})}function r$(){const n=window.location.hostname.includes("superadmin-grampanchayat");return r.jsx(nk,{children:r.jsx(cF,{children:r.jsx(oF,{children:r.jsxs(ok,{children:[r.jsxs(Y8,{children:[n&&r.jsx(Dt,{path:"/",element:r.jsx(W2,{to:"/superadmin/login",replace:!0})}),r.jsx(Dt,{path:"/superadmin/login",element:r.jsx(XH,{})}),r.jsx(Dt,{path:"/superadmin/dashboard",element:r.jsx(cf,{children:r.jsx(QH,{})})}),r.jsx(Dt,{path:"/superadmin/gram-panchayats",element:r.jsx(cf,{children:r.jsx(ZH,{})})}),r.jsx(Dt,{path:"/superadmin/gram-panchayats/add",element:r.jsx(cf,{children:r.jsx(JH,{})})}),r.jsx(Dt,{path:"/superadmin/gram-panchayats/edit/:id",element:r.jsx(cf,{children:r.jsx(t$,{})})}),r.jsx(Dt,{path:"/superadmin/gram-panchayats/:id",element:r.jsx(cf,{children:r.jsx(e$,{})})}),r.jsx(Dt,{path:"/superadmin/users",element:r.jsx(cf,{children:r.jsx(n$,{})})}),r.jsxs(Dt,{path:"/",element:r.jsx(MV,{}),children:[r.jsx(Dt,{index:!0,element:r.jsx(BV,{})}),r.jsx(Dt,{path:"about",element:r.jsx(qV,{})}),r.jsx(Dt,{path:"panchayat",element:r.jsx(YV,{})}),r.jsx(Dt,{path:"services",element:r.jsx(ez,{})}),r.jsx(Dt,{path:"schemes",element:r.jsx(az,{})}),r.jsx(Dt,{path:"downloads",element:r.jsx(uz,{})}),r.jsx(Dt,{path:"education",element:r.jsx(hz,{})}),r.jsx(Dt,{path:"gallery",element:r.jsx(yz,{})}),r.jsx(Dt,{path:"financials",element:r.jsx(jz,{})}),r.jsx(Dt,{path:"notices",element:r.jsx(Cz,{})}),r.jsx(Dt,{path:"contact",element:r.jsx(Iz,{})}),r.jsx(Dt,{path:"village-statistics",element:r.jsx(GH,{})})]}),r.jsx(Dt,{path:"/firebase-setup",element:r.jsx(YH,{})}),r.jsx(Dt,{path:"/admin/login",element:r.jsx(kz,{})}),r.jsxs(Dt,{path:"/admin",element:r.jsx(OV,{children:r.jsx(FV,{})}),children:[r.jsx(Dt,{path:"dashboard",element:r.jsx(Rz,{})}),r.jsx(Dt,{path:"members",element:r.jsx(Pz,{})}),r.jsx(Dt,{path:"members/new",element:r.jsx(A4,{})}),r.jsx(Dt,{path:"members/edit/:id",element:r.jsx(A4,{})}),r.jsx(Dt,{path:"services",element:r.jsx(Dz,{})}),r.jsx(Dt,{path:"services/new",element:r.jsx(T4,{})}),r.jsx(Dt,{path:"services/edit/:id",element:r.jsx(T4,{})}),r.jsx(Dt,{path:"schemes",element:r.jsx(Mz,{})}),r.jsx(Dt,{path:"schemes/new",element:r.jsx(C4,{})}),r.jsx(Dt,{path:"schemes/edit/:id",element:r.jsx(C4,{})}),r.jsx(Dt,{path:"notices",element:r.jsx(Oz,{})}),r.jsx(Dt,{path:"notices/new",element:r.jsx(I4,{})}),r.jsx(Dt,{path:"notices/edit/:id",element:r.jsx(I4,{})}),r.jsx(Dt,{path:"announcements",element:r.jsx(HH,{})}),r.jsx(Dt,{path:"announcements/new",element:r.jsx(r3,{})}),r.jsx(Dt,{path:"announcements/edit/:id",element:r.jsx(r3,{})}),r.jsx(Dt,{path:"gallery",element:r.jsx(Fz,{})}),r.jsx(Dt,{path:"gallery/new",element:r.jsx(k4,{})}),r.jsx(Dt,{path:"gallery/edit/:id",element:r.jsx(k4,{})}),r.jsx(Dt,{path:"forms",element:r.jsx(zz,{})}),r.jsx(Dt,{path:"forms/new",element:r.jsx(R4,{})}),r.jsx(Dt,{path:"forms/edit/:id",element:r.jsx(R4,{})}),r.jsx(Dt,{path:"settings",element:r.jsx(qz,{})}),r.jsx(Dt,{path:"grievances",element:r.jsx(Hz,{})}),r.jsx(Dt,{path:"grievances/new",element:r.jsx(P4,{})}),r.jsx(Dt,{path:"grievances/edit/:id",element:r.jsx(P4,{})}),r.jsx(Dt,{path:"financials",element:r.jsx($z,{})}),r.jsx(Dt,{path:"financials/new",element:r.jsx(L4,{})}),r.jsx(Dt,{path:"financials/edit/:id",element:r.jsx(L4,{})}),r.jsx(Dt,{path:"content/about",element:r.jsx(Wz,{})}),r.jsx(Dt,{path:"content/education",element:r.jsx(Kz,{})}),r.jsx(Dt,{path:"village-statistics",element:r.jsx(qH,{})})]})]}),r.jsx(UV,{})]})})})})}t8.createRoot(document.getElementById("root")).render(r.jsx(W.StrictMode,{children:r.jsx(r$,{})}));export{cr as _,s$ as c,HI as g};
