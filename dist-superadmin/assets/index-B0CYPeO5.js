function uk(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var H$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hk(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Wb={exports:{}},Jm={};var YN;function fk(){if(YN)return Jm;YN=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:o}}return Jm.Fragment=e,Jm.jsx=t,Jm.jsxs=t,Jm}var XN;function mk(){return XN||(XN=1,Wb.exports=fk()),Wb.exports}var r=mk(),Kb={exports:{}},mn={};var QN;function gk(){if(QN)return mn;QN=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function b(se){return se===null||typeof se!="object"?null:(se=v&&se[v]||se["@@iterator"],typeof se=="function"?se:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function E(se,q,J){this.props=se,this.context=q,this.refs=j,this.updater=J||A}E.prototype.isReactComponent={},E.prototype.setState=function(se,q){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,q,"setState")},E.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function L(){}L.prototype=E.prototype;function O(se,q,J){this.props=se,this.context=q,this.refs=j,this.updater=J||A}var D=O.prototype=new L;D.constructor=O,S(D,E.prototype),D.isPureReactComponent=!0;var ee=Array.isArray;function te(){}var H={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function I(se,q,J){var ae=J.ref;return{$$typeof:n,type:se,key:q,ref:ae!==void 0?ae:null,props:J}}function U(se,q){return I(se.type,q,se.props)}function k(se){return typeof se=="object"&&se!==null&&se.$$typeof===n}function P(se){var q={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(J){return q[J]})}var z=/\/+/g;function le(se,q){return typeof se=="object"&&se!==null&&se.key!=null?P(""+se.key):q.toString(36)}function Ne(se){switch(se.status){case"fulfilled":return se.value;case"rejected":throw se.reason;default:switch(typeof se.status=="string"?se.then(te,te):(se.status="pending",se.then(function(q){se.status==="pending"&&(se.status="fulfilled",se.value=q)},function(q){se.status==="pending"&&(se.status="rejected",se.reason=q)})),se.status){case"fulfilled":return se.value;case"rejected":throw se.reason}}throw se}function ie(se,q,J,ae,he){var fe=typeof se;(fe==="undefined"||fe==="boolean")&&(se=null);var be=!1;if(se===null)be=!0;else switch(fe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(se.$$typeof){case n:case e:be=!0;break;case g:return be=se._init,ie(be(se._payload),q,J,ae,he)}}if(be)return he=he(se),be=ae===""?"."+le(se,0):ae,ee(he)?(J="",be!=null&&(J=be.replace(z,"$&/")+"/"),ie(he,q,J,"",function(qe){return qe})):he!=null&&(k(he)&&(he=U(he,J+(he.key==null||se&&se.key===he.key?"":(""+he.key).replace(z,"$&/")+"/")+be)),q.push(he)),1;be=0;var Pe=ae===""?".":ae+":";if(ee(se))for(var ke=0;ke<se.length;ke++)ae=se[ke],fe=Pe+le(ae,ke),be+=ie(ae,q,J,fe,he);else if(ke=b(se),typeof ke=="function")for(se=ke.call(se),ke=0;!(ae=se.next()).done;)ae=ae.value,fe=Pe+le(ae,ke++),be+=ie(ae,q,J,fe,he);else if(fe==="object"){if(typeof se.then=="function")return ie(Ne(se),q,J,ae,he);throw q=String(se),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return be}function ge(se,q,J){if(se==null)return se;var ae=[],he=0;return ie(se,ae,"","",function(fe){return q.call(J,fe,he++)}),ae}function ue(se){if(se._status===-1){var q=se._result;q=q(),q.then(function(J){(se._status===0||se._status===-1)&&(se._status=1,se._result=J)},function(J){(se._status===0||se._status===-1)&&(se._status=2,se._result=J)}),se._status===-1&&(se._status=0,se._result=q)}if(se._status===1)return se._result.default;throw se._result}var je=typeof reportError=="function"?reportError:function(se){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof se=="object"&&se!==null&&typeof se.message=="string"?String(se.message):String(se),error:se});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",se);return}console.error(se)},Be={map:ge,forEach:function(se,q,J){ge(se,function(){q.apply(this,arguments)},J)},count:function(se){var q=0;return ge(se,function(){q++}),q},toArray:function(se){return ge(se,function(q){return q})||[]},only:function(se){if(!k(se))throw Error("React.Children.only expected to receive a single React element child.");return se}};return mn.Activity=p,mn.Children=Be,mn.Component=E,mn.Fragment=t,mn.Profiler=a,mn.PureComponent=O,mn.StrictMode=s,mn.Suspense=h,mn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,mn.__COMPILER_RUNTIME={__proto__:null,c:function(se){return H.H.useMemoCache(se)}},mn.cache=function(se){return function(){return se.apply(null,arguments)}},mn.cacheSignal=function(){return null},mn.cloneElement=function(se,q,J){if(se==null)throw Error("The argument must be a React element, but you passed "+se+".");var ae=S({},se.props),he=se.key;if(q!=null)for(fe in q.key!==void 0&&(he=""+q.key),q)!M.call(q,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&q.ref===void 0||(ae[fe]=q[fe]);var fe=arguments.length-2;if(fe===1)ae.children=J;else if(1<fe){for(var be=Array(fe),Pe=0;Pe<fe;Pe++)be[Pe]=arguments[Pe+2];ae.children=be}return I(se.type,he,ae)},mn.createContext=function(se){return se={$$typeof:c,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null},se.Provider=se,se.Consumer={$$typeof:o,_context:se},se},mn.createElement=function(se,q,J){var ae,he={},fe=null;if(q!=null)for(ae in q.key!==void 0&&(fe=""+q.key),q)M.call(q,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(he[ae]=q[ae]);var be=arguments.length-2;if(be===1)he.children=J;else if(1<be){for(var Pe=Array(be),ke=0;ke<be;ke++)Pe[ke]=arguments[ke+2];he.children=Pe}if(se&&se.defaultProps)for(ae in be=se.defaultProps,be)he[ae]===void 0&&(he[ae]=be[ae]);return I(se,fe,he)},mn.createRef=function(){return{current:null}},mn.forwardRef=function(se){return{$$typeof:d,render:se}},mn.isValidElement=k,mn.lazy=function(se){return{$$typeof:g,_payload:{_status:-1,_result:se},_init:ue}},mn.memo=function(se,q){return{$$typeof:f,type:se,compare:q===void 0?null:q}},mn.startTransition=function(se){var q=H.T,J={};H.T=J;try{var ae=se(),he=H.S;he!==null&&he(J,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(te,je)}catch(fe){je(fe)}finally{q!==null&&J.types!==null&&(q.types=J.types),H.T=q}},mn.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},mn.use=function(se){return H.H.use(se)},mn.useActionState=function(se,q,J){return H.H.useActionState(se,q,J)},mn.useCallback=function(se,q){return H.H.useCallback(se,q)},mn.useContext=function(se){return H.H.useContext(se)},mn.useDebugValue=function(){},mn.useDeferredValue=function(se,q){return H.H.useDeferredValue(se,q)},mn.useEffect=function(se,q){return H.H.useEffect(se,q)},mn.useEffectEvent=function(se){return H.H.useEffectEvent(se)},mn.useId=function(){return H.H.useId()},mn.useImperativeHandle=function(se,q,J){return H.H.useImperativeHandle(se,q,J)},mn.useInsertionEffect=function(se,q){return H.H.useInsertionEffect(se,q)},mn.useLayoutEffect=function(se,q){return H.H.useLayoutEffect(se,q)},mn.useMemo=function(se,q){return H.H.useMemo(se,q)},mn.useOptimistic=function(se,q){return H.H.useOptimistic(se,q)},mn.useReducer=function(se,q,J){return H.H.useReducer(se,q,J)},mn.useRef=function(se){return H.H.useRef(se)},mn.useState=function(se){return H.H.useState(se)},mn.useSyncExternalStore=function(se,q,J){return H.H.useSyncExternalStore(se,q,J)},mn.useTransition=function(){return H.H.useTransition()},mn.version="19.2.0",mn}var JN;function Z2(){return JN||(JN=1,Kb.exports=gk()),Kb.exports}var G=Z2();const F0=hk(G),pk=uk({__proto__:null,default:F0},[G]);var Yb={exports:{}},Zm={},Xb={exports:{}},Qb={};var ZN;function xk(){return ZN||(ZN=1,(function(n){function e(ie,ge){var ue=ie.length;ie.push(ge);e:for(;0<ue;){var je=ue-1>>>1,Be=ie[je];if(0<a(Be,ge))ie[je]=ge,ie[ue]=Be,ue=je;else break e}}function t(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var ge=ie[0],ue=ie.pop();if(ue!==ge){ie[0]=ue;e:for(var je=0,Be=ie.length,se=Be>>>1;je<se;){var q=2*(je+1)-1,J=ie[q],ae=q+1,he=ie[ae];if(0>a(J,ue))ae<Be&&0>a(he,J)?(ie[je]=he,ie[ae]=ue,je=ae):(ie[je]=J,ie[q]=ue,je=q);else if(ae<Be&&0>a(he,ue))ie[je]=he,ie[ae]=ue,je=ae;else break e}}return ge}function a(ie,ge){var ue=ie.sortIndex-ge.sortIndex;return ue!==0?ue:ie.id-ge.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var h=[],f=[],g=1,p=null,v=3,b=!1,A=!1,S=!1,j=!1,E=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function D(ie){for(var ge=t(f);ge!==null;){if(ge.callback===null)s(f);else if(ge.startTime<=ie)s(f),ge.sortIndex=ge.expirationTime,e(h,ge);else break;ge=t(f)}}function ee(ie){if(S=!1,D(ie),!A)if(t(h)!==null)A=!0,te||(te=!0,P());else{var ge=t(f);ge!==null&&Ne(ee,ge.startTime-ie)}}var te=!1,H=-1,M=5,I=-1;function U(){return j?!0:!(n.unstable_now()-I<M)}function k(){if(j=!1,te){var ie=n.unstable_now();I=ie;var ge=!0;try{e:{A=!1,S&&(S=!1,L(H),H=-1),b=!0;var ue=v;try{t:{for(D(ie),p=t(h);p!==null&&!(p.expirationTime>ie&&U());){var je=p.callback;if(typeof je=="function"){p.callback=null,v=p.priorityLevel;var Be=je(p.expirationTime<=ie);if(ie=n.unstable_now(),typeof Be=="function"){p.callback=Be,D(ie),ge=!0;break t}p===t(h)&&s(h),D(ie)}else s(h);p=t(h)}if(p!==null)ge=!0;else{var se=t(f);se!==null&&Ne(ee,se.startTime-ie),ge=!1}}break e}finally{p=null,v=ue,b=!1}ge=void 0}}finally{ge?P():te=!1}}}var P;if(typeof O=="function")P=function(){O(k)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,le=z.port2;z.port1.onmessage=k,P=function(){le.postMessage(null)}}else P=function(){E(k,0)};function Ne(ie,ge){H=E(function(){ie(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(ie){switch(v){case 1:case 2:case 3:var ge=3;break;default:ge=v}var ue=v;v=ge;try{return ie()}finally{v=ue}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(ie,ge){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ue=v;v=ie;try{return ge()}finally{v=ue}},n.unstable_scheduleCallback=function(ie,ge,ue){var je=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?je+ue:je):ue=je,ie){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=ue+Be,ie={id:g++,callback:ge,priorityLevel:ie,startTime:ue,expirationTime:Be,sortIndex:-1},ue>je?(ie.sortIndex=ue,e(f,ie),t(h)===null&&ie===t(f)&&(S?(L(H),H=-1):S=!0,Ne(ee,ue-je))):(ie.sortIndex=Be,e(h,ie),A||b||(A=!0,te||(te=!0,P()))),ie},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(ie){var ge=v;return function(){var ue=v;v=ge;try{return ie.apply(this,arguments)}finally{v=ue}}}})(Qb)),Qb}var ej;function yk(){return ej||(ej=1,Xb.exports=xk()),Xb.exports}var Jb={exports:{}},Ya={};var tj;function bk(){if(tj)return Ya;tj=1;var n=Z2();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,f,g){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:h,containerInfo:f,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ya.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ya.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,g)},Ya.flushSync=function(h){var f=c.T,g=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=f,s.p=g,s.d.f()}},Ya.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(h,f))},Ya.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Ya.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,p=d(g,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?s.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:b}):g==="script"&&s.d.X(h,{crossOrigin:p,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ya.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=d(f.as,f.crossOrigin);s.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(h)},Ya.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,p=d(g,f.crossOrigin);s.d.L(h,g,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ya.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=d(f.as,f.crossOrigin);s.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(h)},Ya.requestFormReset=function(h){s.d.r(h)},Ya.unstable_batchedUpdates=function(h,f){return h(f)},Ya.useFormState=function(h,f,g){return c.H.useFormState(h,f,g)},Ya.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ya.version="19.2.0",Ya}var nj;function x3(){if(nj)return Jb.exports;nj=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Jb.exports=bk(),Jb.exports}var rj;function vk(){if(rj)return Zm;rj=1;var n=yk(),e=Z2(),t=x3();function s(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function c(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function d(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(s(188))}function f(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(s(188));return l!==i?null:i}for(var u=i,m=l;;){var w=u.return;if(w===null)break;var _=w.alternate;if(_===null){if(m=w.return,m!==null){u=m;continue}break}if(w.child===_.child){for(_=w.child;_;){if(_===u)return h(w),i;if(_===m)return h(w),l;_=_.sibling}throw Error(s(188))}if(u.return!==m.return)u=w,m=_;else{for(var V=!1,Q=w.child;Q;){if(Q===u){V=!0,u=w,m=_;break}if(Q===m){V=!0,m=w,u=_;break}Q=Q.sibling}if(!V){for(Q=_.child;Q;){if(Q===u){V=!0,u=_,m=w;break}if(Q===m){V=!0,m=_,u=w;break}Q=Q.sibling}if(!V)throw Error(s(189))}}if(u.alternate!==m)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?i:l}function g(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=g(i),l!==null)return l;i=i.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),O=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var z=Symbol.for("react.client.reference");function le(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case E:return"Profiler";case j:return"StrictMode";case ee:return"Suspense";case te:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case O:return i.displayName||"Context";case L:return(i._context.displayName||"Context")+".Consumer";case D:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case H:return l=i.displayName||null,l!==null?l:le(i.type)||"Memo";case M:l=i._payload,i=i._init;try{return le(i(l))}catch{}}return null}var Ne=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},je=[],Be=-1;function se(i){return{current:i}}function q(i){0>Be||(i.current=je[Be],je[Be]=null,Be--)}function J(i,l){Be++,je[Be]=i.current,i.current=l}var ae=se(null),he=se(null),fe=se(null),be=se(null);function Pe(i,l){switch(J(fe,l),J(he,i),J(ae,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?yN(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=yN(l),i=bN(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(ae),J(ae,i)}function ke(){q(ae),q(he),q(fe)}function qe(i){i.memoizedState!==null&&J(be,i);var l=ae.current,u=bN(l,i.type);l!==u&&(J(he,i),J(ae,u))}function Ze(i){he.current===i&&(q(ae),q(he)),be.current===i&&(q(be),Km._currentValue=ue)}var ot,it;function ze(i){if(ot===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);ot=l&&l[1]||"",it=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+i+it}var X=!1;function Ye(i,l){if(!i||X)return"";X=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Xe=function(){throw Error()};if(Object.defineProperty(Xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xe,[])}catch(Me){var De=Me}Reflect.construct(i,[],Xe)}else{try{Xe.call()}catch(Me){De=Me}i.call(Xe.prototype)}}else{try{throw Error()}catch(Me){De=Me}(Xe=i())&&typeof Xe.catch=="function"&&Xe.catch(function(){})}}catch(Me){if(Me&&De&&typeof Me.stack=="string")return[Me.stack,De.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),V=_[0],Q=_[1];if(V&&Q){var me=V.split(`
`),Re=Q.split(`
`);for(w=m=0;m<me.length&&!me[m].includes("DetermineComponentFrameRoot");)m++;for(;w<Re.length&&!Re[w].includes("DetermineComponentFrameRoot");)w++;if(m===me.length||w===Re.length)for(m=me.length-1,w=Re.length-1;1<=m&&0<=w&&me[m]!==Re[w];)w--;for(;1<=m&&0<=w;m--,w--)if(me[m]!==Re[w]){if(m!==1||w!==1)do if(m--,w--,0>w||me[m]!==Re[w]){var He=`
`+me[m].replace(" at new "," at ");return i.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",i.displayName)),He}while(1<=m&&0<=w);break}}}finally{X=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?ze(u):""}function Wt(i,l){switch(i.tag){case 26:case 27:case 5:return ze(i.type);case 16:return ze("Lazy");case 13:return i.child!==l&&l!==null?ze("Suspense Fallback"):ze("Suspense");case 19:return ze("SuspenseList");case 0:case 15:return Ye(i.type,!1);case 11:return Ye(i.type.render,!1);case 1:return Ye(i.type,!0);case 31:return ze("Activity");default:return""}}function Ct(i){try{var l="",u=null;do l+=Wt(i,u),u=i,i=i.return;while(i);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var $e=Object.prototype.hasOwnProperty,dt=n.unstable_scheduleCallback,ct=n.unstable_cancelCallback,mt=n.unstable_shouldYield,It=n.unstable_requestPaint,an=n.unstable_now,hn=n.unstable_getCurrentPriorityLevel,Jt=n.unstable_ImmediatePriority,xn=n.unstable_UserBlockingPriority,ln=n.unstable_NormalPriority,_t=n.unstable_LowPriority,tn=n.unstable_IdlePriority,St=n.log,kr=n.unstable_setDisableYieldValue,cn=null,Ot=null;function Kt(i){if(typeof St=="function"&&kr(i),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(cn,i)}catch{}}var on=Math.clz32?Math.clz32:qt,Rt=Math.log,Bn=Math.LN2;function qt(i){return i>>>=0,i===0?32:31-(Rt(i)/Bn|0)|0}var Gt=256,Hn=262144,kt=4194304;function At(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function yn(i,l,u){var m=i.pendingLanes;if(m===0)return 0;var w=0,_=i.suspendedLanes,V=i.pingedLanes;i=i.warmLanes;var Q=m&134217727;return Q!==0?(m=Q&~_,m!==0?w=At(m):(V&=Q,V!==0?w=At(V):u||(u=Q&~i,u!==0&&(w=At(u))))):(Q=m&~_,Q!==0?w=At(Q):V!==0?w=At(V):u||(u=m&~i,u!==0&&(w=At(u)))),w===0?0:l!==0&&l!==w&&(l&_)===0&&(_=w&-w,u=l&-l,_>=u||_===32&&(u&4194048)!==0)?l:w}function Hs(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function Rs(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wi(){var i=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),i}function vs(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function Pt(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Qi(i,l,u,m,w,_){var V=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var Q=i.entanglements,me=i.expirationTimes,Re=i.hiddenUpdates;for(u=V&~u;0<u;){var He=31-on(u),Xe=1<<He;Q[He]=0,me[He]=-1;var De=Re[He];if(De!==null)for(Re[He]=null,He=0;He<De.length;He++){var Me=De[He];Me!==null&&(Me.lane&=-536870913)}u&=~Xe}m!==0&&Sa(i,m,0),_!==0&&w===0&&i.tag!==0&&(i.suspendedLanes|=_&~(V&~l))}function Sa(i,l,u){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-on(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function la(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var m=31-on(u),w=1<<m;w&l|i[m]&l&&(i[m]|=l),u&=~w}}function ca(i,l){var u=l&-l;return u=(u&42)!==0?1:nr(u),(u&(i.suspendedLanes|l))!==0?0:u}function nr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function pr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ls(){var i=ge.p;return i!==0?i:(i=window.event,i===void 0?32:BN(i.type))}function $s(i,l){var u=ge.p;try{return ge.p=i,l()}finally{ge.p=u}}var Ps=Math.random().toString(36).slice(2),$n="__reactFiber$"+Ps,ir="__reactProps$"+Ps,cs="__reactContainer$"+Ps,da="__reactEvents$"+Ps,Ba="__reactListeners$"+Ps,vo="__reactHandles$"+Ps,ii="__reactResources$"+Ps,ua="__reactMarker$"+Ps;function Ji(i){delete i[$n],delete i[ir],delete i[da],delete i[Ba],delete i[vo]}function Ea(i){var l=i[$n];if(l)return l;for(var u=i.parentNode;u;){if(l=u[cs]||u[$n]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=EN(i);i!==null;){if(u=i[$n])return u;i=EN(i)}return l}i=u,u=i.parentNode}return null}function Ws(i){if(i=i[$n]||i[cs]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function Aa(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(s(33))}function qa(i){var l=i[ii];return l||(l=i[ii]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Pr(i){i[ua]=!0}var Sl=new Set,ha={};function Ga(i,l){oi(i,l),oi(i+"Capture",l)}function oi(i,l){for(ha[i]=l,i=0;i<l.length;i++)Sl.add(l[i])}var Ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Al={};function fc(i){return $e.call(Al,i)?!0:$e.call(El,i)?!1:Ko.test(i)?Al[i]=!0:(El[i]=!0,!1)}function Ta(i,l,u){if(fc(l))if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+u)}}function Ls(i,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+u)}}function zr(i,l,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(l,u,""+m)}}function jn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zi(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ha(i,l,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,_=m.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return w.call(this)},set:function(V){u=""+V,_.call(this,V)}}),Object.defineProperty(i,l,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(V){u=""+V},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function kn(i){if(!i._valueTracker){var l=Zi(i)?"checked":"value";i._valueTracker=Ha(i,l,""+i[l])}}function wo(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),m="";return i&&(m=Zi(i)?i.checked?"true":"false":i.value),i=m,i!==u?(l.setValue(i),!0):!1}function Xr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Sr=/[\n"\\]/g;function Br(i){return i.replace(Sr,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Yo(i,l,u,m,w,_,V,Q){i.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?i.type=V:i.removeAttribute("type"),l!=null?V==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+jn(l)):i.value!==""+jn(l)&&(i.value=""+jn(l)):V!=="submit"&&V!=="reset"||i.removeAttribute("value"),l!=null?mc(i,V,jn(l)):u!=null?mc(i,V,jn(u)):m!=null&&i.removeAttribute("value"),w==null&&_!=null&&(i.defaultChecked=!!_),w!=null&&(i.checked=w&&typeof w!="function"&&typeof w!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?i.name=""+jn(Q):i.removeAttribute("name")}function dd(i,l,u,m,w,_,V,Q){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),l!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||l!=null)){kn(i);return}u=u!=null?""+jn(u):"",l=l!=null?""+jn(l):u,Q||l===i.value||(i.value=l),i.defaultValue=l}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=Q?i.checked:!!m,i.defaultChecked=!!m,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(i.name=V),kn(i)}function mc(i,l,u){l==="number"&&Xr(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Ks(i,l,u,m){if(i=i.options,l){l={};for(var w=0;w<u.length;w++)l["$"+u[w]]=!0;for(u=0;u<i.length;u++)w=l.hasOwnProperty("$"+i[u].value),i[u].selected!==w&&(i[u].selected=w),w&&m&&(i[u].defaultSelected=!0)}else{for(u=""+jn(u),l=null,w=0;w<i.length;w++){if(i[w].value===u){i[w].selected=!0,m&&(i[w].defaultSelected=!0);return}l!==null||i[w].disabled||(l=i[w])}l!==null&&(l.selected=!0)}}function gc(i,l,u){if(l!=null&&(l=""+jn(l),l!==i.value&&(i.value=l),u==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=u!=null?""+jn(u):""}function eo(i,l,u,m){if(l==null){if(m!=null){if(u!=null)throw Error(s(92));if(Ne(m)){if(1<m.length)throw Error(s(93));m=m[0]}u=m}u==null&&(u=""),l=u}u=jn(l),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),kn(i)}function ws(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var No=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pc(i,l,u){var m=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,u):typeof u!="number"||u===0||No.has(l)?l==="float"?i.cssFloat=u:i[l]=(""+u).trim():i[l]=u+"px"}function xc(i,l,u){if(l!=null&&typeof l!="object")throw Error(s(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var w in l)m=l[w],l.hasOwnProperty(w)&&u[w]!==m&&pc(i,w,m)}else for(var _ in l)l.hasOwnProperty(_)&&pc(i,_,l[_])}function Tl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),to=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(i){return to.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function li(){}var no=null;function ma(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var jo=null,Ft=null;function Xo(i){var l=Ws(i);if(l&&(i=l.stateNode)){var u=i[ir]||null;e:switch(i=l.stateNode,l.type){case"input":if(Yo(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Br(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var m=u[l];if(m!==i&&m.form===i.form){var w=m[ir]||null;if(!w)throw Error(s(90));Yo(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<u.length;l++)m=u[l],m.form===i.form&&wo(m)}break e;case"textarea":gc(i,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Ks(i,!!u.multiple,l,!1)}}}var Il=!1;function _o(i,l,u){if(Il)return i(l,u);Il=!0;try{var m=i(l);return m}finally{if(Il=!1,(jo!==null||Ft!==null)&&(Xp(),jo&&(l=jo,i=Ft,Ft=jo=null,Xo(l),i)))for(l=0;l<i.length;l++)Xo(i[l])}}function Ns(i,l){var u=i.stateNode;if(u===null)return null;var m=u[ir]||null;if(m===null)return null;u=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(s(231,l,typeof u));return u}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qo=!1;if(ds)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{Qo=!1}var Ca=null,Jo=null,ci=null;function yc(){if(ci)return ci;var i,l=Jo,u=l.length,m,w="value"in Ca?Ca.value:Ca.textContent,_=w.length;for(i=0;i<u&&l[i]===w[i];i++);var V=u-i;for(m=1;m<=V&&l[u-m]===w[_-m];m++);return ci=w.slice(i,1<m?1-m:void 0)}function Ia(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function ro(){return!0}function ka(){return!1}function Qr(i){function l(u,m,w,_,V){this._reactName=u,this._targetInst=w,this.type=m,this.nativeEvent=_,this.target=V,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(u=i[Q],this[Q]=u?u(_):_[Q]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ro:ka,this.isPropagationStopped=ka,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ro)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ro)},persist:function(){},isPersistent:ro}),l}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=Qr(Ni),ji=p({},Ni,{view:0,detail:0}),So=Qr(ji),_i,Si,$a,Zo=p({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$a&&($a&&i.type==="mousemove"?(_i=i.screenX-$a.screenX,Si=i.screenY-$a.screenY):Si=_i=0,$a=i),_i)},movementY:function(i){return"movementY"in i?i.movementY:Si}}),kl=Qr(Zo),Ra=p({},Zo,{dataTransfer:0}),Ei=Qr(Ra),bc=p({},ji,{relatedTarget:0}),di=Qr(bc),Rl=p({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),T=Qr(Rl),$=p({},Ni,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ce=Qr($),pe=p({},Ni,{data:0}),we=Qr(pe),Ge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Je={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vt(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=gt[i])?!!l[i]:!1}function Vt(){return vt}var Lt=p({},ji,{key:function(i){if(i.key){var l=Ge[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Ia(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Je[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vt,charCode:function(i){return i.type==="keypress"?Ia(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ia(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),En=Qr(Lt),xr=p({},Zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=Qr(xr),y=p({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vt}),R=Qr(y),B=p({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),ne=Qr(B),Se=p({},Zo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=Qr(Se),nt=p({},Ni,{newState:0,oldState:0}),en=Qr(nt),yr=[9,13,27,32],vn=ds&&"CompositionEvent"in window,Kn=null;ds&&"documentMode"in document&&(Kn=document.documentMode);var Ms=ds&&"TextEvent"in window&&!Kn,Ys=ds&&(!vn||Kn&&8<Kn&&11>=Kn),or=" ",Xs=!1;function ui(i,l){switch(i){case"keyup":return yr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ao=!1;function Pa(i,l){switch(i){case"compositionend":return Eo(l);case"keypress":return l.which!==32?null:(Xs=!0,or);case"textInput":return i=l.data,i===or&&Xs?null:i;default:return null}}function el(i,l){if(Ao)return i==="compositionend"||!vn&&ui(i,l)?(i=yc(),ci=Jo=Ca=null,Ao=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ys&&l.locale!=="ko"?null:l.data;default:return null}}var ud={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wu(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!ud[i.type]:l==="textarea"}function hi(i,l,u,m){jo?Ft?Ft.push(m):Ft=[m]:jo=m,l=r0(l,"onChange"),0<l.length&&(u=new Ds("onChange","change",null,u,m),i.push({event:u,listeners:l}))}var so=null,tl=null;function Nu(i){hN(i,0)}function ao(i){var l=Aa(i);if(wo(l))return i}function Pl(i,l){if(i==="change")return l}var Wa=!1;if(ds){var La;if(ds){var To="oninput"in document;if(!To){var Co=document.createElement("div");Co.setAttribute("oninput","return;"),To=typeof Co.oninput=="function"}La=To}else La=!1;Wa=La&&(!document.documentMode||9<document.documentMode)}function nl(){so&&(so.detachEvent("onpropertychange",hd),tl=so=null)}function hd(i){if(i.propertyName==="value"&&ao(tl)){var l=[];hi(l,tl,i,ma(i)),_o(Nu,l)}}function fd(i,l,u){i==="focusin"?(nl(),so=l,tl=u,so.attachEvent("onpropertychange",hd)):i==="focusout"&&nl()}function Jr(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ao(tl)}function Ah(i,l){if(i==="click")return ao(l)}function Io(i,l){if(i==="input"||i==="change")return ao(l)}function ko(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Qs=typeof Object.is=="function"?Object.is:ko;function rl(i,l){if(Qs(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),m=Object.keys(l);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var w=u[m];if(!$e.call(l,w)||!Qs(i[w],l[w]))return!1}return!0}function md(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function gd(i,l){var u=md(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=l&&m>=l)return{node:u,offset:l-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=md(u)}}function sl(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?sl(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function al(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Xr(i.document);l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Xr(i.document)}return l}function Ro(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var vc=ds&&"documentMode"in document&&11>=document.documentMode,fi=null,il=null,ga=null,Ai=!1;function qn(i,l,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ai||fi==null||fi!==Xr(m)||(m=fi,"selectionStart"in m&&Ro(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ga&&rl(ga,m)||(ga=m,m=r0(il,"onSelect"),0<m.length&&(l=new Ds("onSelect","select",null,l,u),i.push({event:l,listeners:m}),l.target=fi)))}function Mn(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var br={animationend:Mn("Animation","AnimationEnd"),animationiteration:Mn("Animation","AnimationIteration"),animationstart:Mn("Animation","AnimationStart"),transitionrun:Mn("Transition","TransitionRun"),transitionstart:Mn("Transition","TransitionStart"),transitioncancel:Mn("Transition","TransitionCancel"),transitionend:Mn("Transition","TransitionEnd")},Zr={},Po={};ds&&(Po=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function io(i){if(Zr[i])return Zr[i];if(!br[i])return i;var l=br[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in Po)return Zr[i]=l[u];return i}var wc=io("animationend"),ju=io("animationiteration"),xm=io("animationstart"),Ep=io("transitionrun"),Ap=io("transitionstart"),Tp=io("transitioncancel"),ym=io("transitionend"),bm=new Map,Nc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nc.push("scrollEnd");function Ti(i,l){bm.set(i,l),Ga(l,[i])}var _u=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},mi=[],jc=0,Th=0;function Su(){for(var i=jc,l=Th=jc=0;l<i;){var u=mi[l];mi[l++]=null;var m=mi[l];mi[l++]=null;var w=mi[l];mi[l++]=null;var _=mi[l];if(mi[l++]=null,m!==null&&w!==null){var V=m.pending;V===null?w.next=w:(w.next=V.next,V.next=w),m.pending=w}_!==0&&Au(u,w,_)}}function Eu(i,l,u,m){mi[jc++]=i,mi[jc++]=l,mi[jc++]=u,mi[jc++]=m,Th|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function Ch(i,l,u,m){return Eu(i,l,u,m),pa(i)}function ol(i,l){return Eu(i,null,null,l),pa(i)}function Au(i,l,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var w=!1,_=i.return;_!==null;)_.childLanes|=u,m=_.alternate,m!==null&&(m.childLanes|=u),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(w=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,w&&l!==null&&(w=31-on(u),i=_.hiddenUpdates,m=i[w],m===null?i[w]=[l]:m.push(l),l.lane=u|536870912),_):null}function pa(i){if(50<zm)throw zm=0,xb=null,Error(s(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var Js={};function Ih(i,l,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xa(i,l,u,m){return new Ih(i,l,u,m)}function kh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ci(i,l){var u=i.alternate;return u===null?(u=xa(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Tu(i,l){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,l=u.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function pd(i,l,u,m,w,_){var V=0;if(m=i,typeof i=="function")kh(i)&&(V=1);else if(typeof i=="string")V=ZI(i,u,ae.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=xa(31,u,l,w),i.elementType=I,i.lanes=_,i;case S:return Ll(u.children,w,_,l);case j:V=8,w|=24;break;case E:return i=xa(12,u,l,w|2),i.elementType=E,i.lanes=_,i;case ee:return i=xa(13,u,l,w),i.elementType=ee,i.lanes=_,i;case te:return i=xa(19,u,l,w),i.elementType=te,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:V=10;break e;case L:V=9;break e;case D:V=11;break e;case H:V=14;break e;case M:V=16,m=null;break e}V=29,u=Error(s(130,i===null?"null":typeof i,"")),m=null}return l=xa(V,u,l,w),l.elementType=i,l.type=m,l.lanes=_,l}function Ll(i,l,u,m){return i=xa(7,i,m,l),i.lanes=u,i}function Cu(i,l,u){return i=xa(6,i,null,l),i.lanes=u,i}function Rh(i){var l=xa(18,null,null,0);return l.stateNode=i,l}function xd(i,l,u){return l=xa(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Ph=new WeakMap;function Ii(i,l){if(typeof i=="object"&&i!==null){var u=Ph.get(i);return u!==void 0?u:(l={value:i,source:l,stack:Ct(l)},Ph.set(i,l),l)}return{value:i,source:l,stack:Ct(l)}}var yd=[],_c=0,Lh=null,Iu=0,ki=[],Ri=0,Dl=null,Pi=1,Li="";function gi(i,l){yd[_c++]=Iu,yd[_c++]=Lh,Lh=i,Iu=l}function Cp(i,l,u){ki[Ri++]=Pi,ki[Ri++]=Li,ki[Ri++]=Dl,Dl=i;var m=Pi;i=Li;var w=32-on(m)-1;m&=~(1<<w),u+=1;var _=32-on(l)+w;if(30<_){var V=w-w%5;_=(m&(1<<V)-1).toString(32),m>>=V,w-=V,Pi=1<<32-on(l)+w|u<<w|m,Li=_+i}else Pi=1<<_|u<<w|m,Li=i}function vm(i){i.return!==null&&(gi(i,1),Cp(i,1,0))}function Dh(i){for(;i===Lh;)Lh=yd[--_c],yd[_c]=null,Iu=yd[--_c],yd[_c]=null;for(;i===Dl;)Dl=ki[--Ri],ki[Ri]=null,Li=ki[--Ri],ki[Ri]=null,Pi=ki[--Ri],ki[Ri]=null}function Ip(i,l){ki[Ri++]=Pi,ki[Ri++]=Li,ki[Ri++]=Dl,Pi=l.id,Li=l.overflow,Dl=i}var Zs=null,Er=null,Tn=!1,Da=null,qr=!1,oo=Error(s(519));function Ml(i){var l=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bd(Ii(l,i)),oo}function wm(i){var l=i.stateNode,u=i.type,m=i.memoizedProps;switch(l[$n]=i,l[ir]=m,u){case"dialog":In("cancel",l),In("close",l);break;case"iframe":case"object":case"embed":In("load",l);break;case"video":case"audio":for(u=0;u<qm.length;u++)In(qm[u],l);break;case"source":In("error",l);break;case"img":case"image":case"link":In("error",l),In("load",l);break;case"details":In("toggle",l);break;case"input":In("invalid",l),dd(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":In("invalid",l);break;case"textarea":In("invalid",l),eo(l,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||m.suppressHydrationWarning===!0||pN(l.textContent,u)?(m.popover!=null&&(In("beforetoggle",l),In("toggle",l)),m.onScroll!=null&&In("scroll",l),m.onScrollEnd!=null&&In("scrollend",l),m.onClick!=null&&(l.onclick=li),l=!0):l=!1,l||Ml(i,!0)}function ll(i){for(Zs=i.return;Zs;)switch(Zs.tag){case 5:case 31:case 13:qr=!1;return;case 27:case 3:qr=!0;return;default:Zs=Zs.return}}function ea(i){if(i!==Zs)return!1;if(!Tn)return ll(i),Tn=!0,!1;var l=i.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Rb(i.type,i.memoizedProps)),u=!u),u&&Er&&Ml(i),ll(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Er=SN(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Er=SN(i)}else l===27?(l=Er,Pd(i.type)?(i=Ob,Ob=null,Er=i):Er=l):Er=Zs?Oo(i.stateNode.nextSibling):null;return!0}function Sc(){Er=Zs=null,Tn=!1}function Nm(){var i=Da;return i!==null&&(Vi===null?Vi=i:Vi.push.apply(Vi,i),Da=null),i}function bd(i){Da===null?Da=[i]:Da.push(i)}var Mh=se(null),Ol=null,Lo=null;function Fl(i,l,u){J(Mh,l._currentValue),l._currentValue=u}function Di(i){i._currentValue=Mh.current,q(Mh)}function vd(i,l,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===u)break;i=i.return}}function Ec(i,l,u,m){var w=i.child;for(w!==null&&(w.return=i);w!==null;){var _=w.dependencies;if(_!==null){var V=w.child;_=_.firstContext;e:for(;_!==null;){var Q=_;_=w;for(var me=0;me<l.length;me++)if(Q.context===l[me]){_.lanes|=u,Q=_.alternate,Q!==null&&(Q.lanes|=u),vd(_.return,u,i),m||(V=null);break e}_=Q.next}}else if(w.tag===18){if(V=w.return,V===null)throw Error(s(341));V.lanes|=u,_=V.alternate,_!==null&&(_.lanes|=u),vd(V,u,i),V=null}else V=w.child;if(V!==null)V.return=w;else for(V=w;V!==null;){if(V===i){V=null;break}if(w=V.sibling,w!==null){w.return=V.return,V=w;break}V=V.return}w=V}}function Ul(i,l,u,m){i=null;for(var w=l,_=!1;w!==null;){if(!_){if((w.flags&524288)!==0)_=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var V=w.alternate;if(V===null)throw Error(s(387));if(V=V.memoizedProps,V!==null){var Q=w.type;Qs(w.pendingProps.value,V.value)||(i!==null?i.push(Q):i=[Q])}}else if(w===be.current){if(V=w.alternate,V===null)throw Error(s(387));V.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(i!==null?i.push(Km):i=[Km])}w=w.return}i!==null&&Ec(l,i,u,m),l.flags|=262144}function Oh(i){for(i=i.firstContext;i!==null;){if(!Qs(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Vl(i){Ol=i,Lo=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ta(i){return kp(Ol,i)}function Fh(i,l){return Ol===null&&Vl(i),kp(i,l)}function kp(i,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Lo===null){if(i===null)throw Error(s(308));Lo=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else Lo=Lo.next=l;return u}var My=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(u){return u()})}},Oy=n.unstable_scheduleCallback,Fy=n.unstable_NormalPriority,es={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new My,data:new Map,refCount:0}}function ku(i){i.refCount--,i.refCount===0&&Oy(Fy,function(){i.controller.abort()})}var Ru=null,Uh=0,x=0,N=null;function C(i,l){if(Ru===null){var u=Ru=[];Uh=0,x=jb(),N={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Uh++,l.then(F,F),l}function F(){if(--Uh===0&&Ru!==null){N!==null&&(N.status="fulfilled");var i=Ru;Ru=null,x=0,N=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function W(i,l){var u=[],m={status:"pending",value:null,reason:null,then:function(w){u.push(w)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var w=0;w<u.length;w++)(0,u[w])(l)},function(w){for(m.status="rejected",m.reason=w,w=0;w<u.length;w++)(0,u[w])(void 0)}),m}var K=ie.S;ie.S=function(i,l){V5=an(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&C(i,l),K!==null&&K(i,l)};var Y=se(null);function Z(){var i=Y.current;return i!==null?i:Tr.pooledCache}function re(i,l){l===null?J(Y,Y.current):J(Y,l.pool)}function de(){var i=Z();return i===null?null:{parent:es._currentValue,pool:i}}var xe=Error(s(460)),Ce=Error(s(474)),oe=Error(s(542)),ve={then:function(){}};function Ee(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ue(i,l,u){switch(u=i[u],u===void 0?i.push(l):u!==l&&(l.then(li,li),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,et(i),i;default:if(typeof l.status=="string")l.then(li,li);else{if(i=Tr,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=m}},function(m){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,et(i),i}throw Fe=l,xe}}function Ae(i){try{var l=i._init;return l(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Fe=u,xe):u}}var Fe=null;function We(){if(Fe===null)throw Error(s(459));var i=Fe;return Fe=null,i}function et(i){if(i===xe||i===oe)throw Error(s(483))}var Qe=null,wt=0;function ht(i){var l=wt;return wt+=1,Qe===null&&(Qe=[]),Ue(Qe,i,l)}function nn(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function pt(i,l){throw l.$$typeof===v?Error(s(525)):(i=Object.prototype.toString.call(l),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function An(i){function l(_e,ye){if(i){var Ie=_e.deletions;Ie===null?(_e.deletions=[ye],_e.flags|=16):Ie.push(ye)}}function u(_e,ye){if(!i)return null;for(;ye!==null;)l(_e,ye),ye=ye.sibling;return null}function m(_e){for(var ye=new Map;_e!==null;)_e.key!==null?ye.set(_e.key,_e):ye.set(_e.index,_e),_e=_e.sibling;return ye}function w(_e,ye){return _e=Ci(_e,ye),_e.index=0,_e.sibling=null,_e}function _(_e,ye,Ie){return _e.index=Ie,i?(Ie=_e.alternate,Ie!==null?(Ie=Ie.index,Ie<ye?(_e.flags|=67108866,ye):Ie):(_e.flags|=67108866,ye)):(_e.flags|=1048576,ye)}function V(_e){return i&&_e.alternate===null&&(_e.flags|=67108866),_e}function Q(_e,ye,Ie,Ke){return ye===null||ye.tag!==6?(ye=Cu(Ie,_e.mode,Ke),ye.return=_e,ye):(ye=w(ye,Ie),ye.return=_e,ye)}function me(_e,ye,Ie,Ke){var Bt=Ie.type;return Bt===S?He(_e,ye,Ie.props.children,Ke,Ie.key):ye!==null&&(ye.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===M&&Ae(Bt)===ye.type)?(ye=w(ye,Ie.props),nn(ye,Ie),ye.return=_e,ye):(ye=pd(Ie.type,Ie.key,Ie.props,null,_e.mode,Ke),nn(ye,Ie),ye.return=_e,ye)}function Re(_e,ye,Ie,Ke){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Ie.containerInfo||ye.stateNode.implementation!==Ie.implementation?(ye=xd(Ie,_e.mode,Ke),ye.return=_e,ye):(ye=w(ye,Ie.children||[]),ye.return=_e,ye)}function He(_e,ye,Ie,Ke,Bt){return ye===null||ye.tag!==7?(ye=Ll(Ie,_e.mode,Ke,Bt),ye.return=_e,ye):(ye=w(ye,Ie),ye.return=_e,ye)}function Xe(_e,ye,Ie){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=Cu(""+ye,_e.mode,Ie),ye.return=_e,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case b:return Ie=pd(ye.type,ye.key,ye.props,null,_e.mode,Ie),nn(Ie,ye),Ie.return=_e,Ie;case A:return ye=xd(ye,_e.mode,Ie),ye.return=_e,ye;case M:return ye=Ae(ye),Xe(_e,ye,Ie)}if(Ne(ye)||P(ye))return ye=Ll(ye,_e.mode,Ie,null),ye.return=_e,ye;if(typeof ye.then=="function")return Xe(_e,ht(ye),Ie);if(ye.$$typeof===O)return Xe(_e,Fh(_e,ye),Ie);pt(_e,ye)}return null}function De(_e,ye,Ie,Ke){var Bt=ye!==null?ye.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return Bt!==null?null:Q(_e,ye,""+Ie,Ke);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case b:return Ie.key===Bt?me(_e,ye,Ie,Ke):null;case A:return Ie.key===Bt?Re(_e,ye,Ie,Ke):null;case M:return Ie=Ae(Ie),De(_e,ye,Ie,Ke)}if(Ne(Ie)||P(Ie))return Bt!==null?null:He(_e,ye,Ie,Ke,null);if(typeof Ie.then=="function")return De(_e,ye,ht(Ie),Ke);if(Ie.$$typeof===O)return De(_e,ye,Fh(_e,Ie),Ke);pt(_e,Ie)}return null}function Me(_e,ye,Ie,Ke,Bt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return _e=_e.get(Ie)||null,Q(ye,_e,""+Ke,Bt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case b:return _e=_e.get(Ke.key===null?Ie:Ke.key)||null,me(ye,_e,Ke,Bt);case A:return _e=_e.get(Ke.key===null?Ie:Ke.key)||null,Re(ye,_e,Ke,Bt);case M:return Ke=Ae(Ke),Me(_e,ye,Ie,Ke,Bt)}if(Ne(Ke)||P(Ke))return _e=_e.get(Ie)||null,He(ye,_e,Ke,Bt,null);if(typeof Ke.then=="function")return Me(_e,ye,Ie,ht(Ke),Bt);if(Ke.$$typeof===O)return Me(_e,ye,Ie,Fh(ye,Ke),Bt);pt(ye,Ke)}return null}function yt(_e,ye,Ie,Ke){for(var Bt=null,Yn=null,Tt=ye,bn=ye=0,Pn=null;Tt!==null&&bn<Ie.length;bn++){Tt.index>bn?(Pn=Tt,Tt=null):Pn=Tt.sibling;var Xn=De(_e,Tt,Ie[bn],Ke);if(Xn===null){Tt===null&&(Tt=Pn);break}i&&Tt&&Xn.alternate===null&&l(_e,Tt),ye=_(Xn,ye,bn),Yn===null?Bt=Xn:Yn.sibling=Xn,Yn=Xn,Tt=Pn}if(bn===Ie.length)return u(_e,Tt),Tn&&gi(_e,bn),Bt;if(Tt===null){for(;bn<Ie.length;bn++)Tt=Xe(_e,Ie[bn],Ke),Tt!==null&&(ye=_(Tt,ye,bn),Yn===null?Bt=Tt:Yn.sibling=Tt,Yn=Tt);return Tn&&gi(_e,bn),Bt}for(Tt=m(Tt);bn<Ie.length;bn++)Pn=Me(Tt,_e,bn,Ie[bn],Ke),Pn!==null&&(i&&Pn.alternate!==null&&Tt.delete(Pn.key===null?bn:Pn.key),ye=_(Pn,ye,bn),Yn===null?Bt=Pn:Yn.sibling=Pn,Yn=Pn);return i&&Tt.forEach(function(Fd){return l(_e,Fd)}),Tn&&gi(_e,bn),Bt}function Xt(_e,ye,Ie,Ke){if(Ie==null)throw Error(s(151));for(var Bt=null,Yn=null,Tt=ye,bn=ye=0,Pn=null,Xn=Ie.next();Tt!==null&&!Xn.done;bn++,Xn=Ie.next()){Tt.index>bn?(Pn=Tt,Tt=null):Pn=Tt.sibling;var Fd=De(_e,Tt,Xn.value,Ke);if(Fd===null){Tt===null&&(Tt=Pn);break}i&&Tt&&Fd.alternate===null&&l(_e,Tt),ye=_(Fd,ye,bn),Yn===null?Bt=Fd:Yn.sibling=Fd,Yn=Fd,Tt=Pn}if(Xn.done)return u(_e,Tt),Tn&&gi(_e,bn),Bt;if(Tt===null){for(;!Xn.done;bn++,Xn=Ie.next())Xn=Xe(_e,Xn.value,Ke),Xn!==null&&(ye=_(Xn,ye,bn),Yn===null?Bt=Xn:Yn.sibling=Xn,Yn=Xn);return Tn&&gi(_e,bn),Bt}for(Tt=m(Tt);!Xn.done;bn++,Xn=Ie.next())Xn=Me(Tt,_e,bn,Xn.value,Ke),Xn!==null&&(i&&Xn.alternate!==null&&Tt.delete(Xn.key===null?bn:Xn.key),ye=_(Xn,ye,bn),Yn===null?Bt=Xn:Yn.sibling=Xn,Yn=Xn);return i&&Tt.forEach(function(dk){return l(_e,dk)}),Tn&&gi(_e,bn),Bt}function jr(_e,ye,Ie,Ke){if(typeof Ie=="object"&&Ie!==null&&Ie.type===S&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case b:e:{for(var Bt=Ie.key;ye!==null;){if(ye.key===Bt){if(Bt=Ie.type,Bt===S){if(ye.tag===7){u(_e,ye.sibling),Ke=w(ye,Ie.props.children),Ke.return=_e,_e=Ke;break e}}else if(ye.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===M&&Ae(Bt)===ye.type){u(_e,ye.sibling),Ke=w(ye,Ie.props),nn(Ke,Ie),Ke.return=_e,_e=Ke;break e}u(_e,ye);break}else l(_e,ye);ye=ye.sibling}Ie.type===S?(Ke=Ll(Ie.props.children,_e.mode,Ke,Ie.key),Ke.return=_e,_e=Ke):(Ke=pd(Ie.type,Ie.key,Ie.props,null,_e.mode,Ke),nn(Ke,Ie),Ke.return=_e,_e=Ke)}return V(_e);case A:e:{for(Bt=Ie.key;ye!==null;){if(ye.key===Bt)if(ye.tag===4&&ye.stateNode.containerInfo===Ie.containerInfo&&ye.stateNode.implementation===Ie.implementation){u(_e,ye.sibling),Ke=w(ye,Ie.children||[]),Ke.return=_e,_e=Ke;break e}else{u(_e,ye);break}else l(_e,ye);ye=ye.sibling}Ke=xd(Ie,_e.mode,Ke),Ke.return=_e,_e=Ke}return V(_e);case M:return Ie=Ae(Ie),jr(_e,ye,Ie,Ke)}if(Ne(Ie))return yt(_e,ye,Ie,Ke);if(P(Ie)){if(Bt=P(Ie),typeof Bt!="function")throw Error(s(150));return Ie=Bt.call(Ie),Xt(_e,ye,Ie,Ke)}if(typeof Ie.then=="function")return jr(_e,ye,ht(Ie),Ke);if(Ie.$$typeof===O)return jr(_e,ye,Fh(_e,Ie),Ke);pt(_e,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,ye!==null&&ye.tag===6?(u(_e,ye.sibling),Ke=w(ye,Ie),Ke.return=_e,_e=Ke):(u(_e,ye),Ke=Cu(Ie,_e.mode,Ke),Ke.return=_e,_e=Ke),V(_e)):u(_e,ye)}return function(_e,ye,Ie,Ke){try{wt=0;var Bt=jr(_e,ye,Ie,Ke);return Qe=null,Bt}catch(Tt){if(Tt===xe||Tt===oe)throw Tt;var Yn=xa(29,Tt,null,_e.mode);return Yn.lanes=Ke,Yn.return=_e,Yn}finally{}}}var Ar=An(!0),fn=An(!1),ft=!1;function at(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lr(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Yt(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function pn(i,l,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(er&2)!==0){var w=m.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),m.pending=l,l=pa(i),Au(i,null,u),l}return Eu(i,m,l,u),pa(i)}function Jn(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,u|=m,l.lanes=u,la(i,u)}}function js(i,l){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var w=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var V={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?w=_=V:_=_.next=V,u=u.next}while(u!==null);_===null?w=_=l:_=_.next=l}else w=_=l;u={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}var na=!1;function vr(){if(na){var i=N;if(i!==null)throw i}}function us(i,l,u,m){na=!1;var w=i.updateQueue;ft=!1;var _=w.firstBaseUpdate,V=w.lastBaseUpdate,Q=w.shared.pending;if(Q!==null){w.shared.pending=null;var me=Q,Re=me.next;me.next=null,V===null?_=Re:V.next=Re,V=me;var He=i.alternate;He!==null&&(He=He.updateQueue,Q=He.lastBaseUpdate,Q!==V&&(Q===null?He.firstBaseUpdate=Re:Q.next=Re,He.lastBaseUpdate=me))}if(_!==null){var Xe=w.baseState;V=0,He=Re=me=null,Q=_;do{var De=Q.lane&-536870913,Me=De!==Q.lane;if(Me?(Rn&De)===De:(m&De)===De){De!==0&&De===x&&(na=!0),He!==null&&(He=He.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var yt=i,Xt=Q;De=l;var jr=u;switch(Xt.tag){case 1:if(yt=Xt.payload,typeof yt=="function"){Xe=yt.call(jr,Xe,De);break e}Xe=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Xt.payload,De=typeof yt=="function"?yt.call(jr,Xe,De):yt,De==null)break e;Xe=p({},Xe,De);break e;case 2:ft=!0}}De=Q.callback,De!==null&&(i.flags|=64,Me&&(i.flags|=8192),Me=w.callbacks,Me===null?w.callbacks=[De]:Me.push(De))}else Me={lane:De,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},He===null?(Re=He=Me,me=Xe):He=He.next=Me,V|=De;if(Q=Q.next,Q===null){if(Q=w.shared.pending,Q===null)break;Me=Q,Q=Me.next,Me.next=null,w.lastBaseUpdate=Me,w.shared.pending=null}}while(!0);He===null&&(me=Xe),w.baseState=me,w.firstBaseUpdate=Re,w.lastBaseUpdate=He,_===null&&(w.shared.lanes=0),Td|=V,i.lanes=V,i.memoizedState=Xe}}function ya(i,l){if(typeof i!="function")throw Error(s(191,i));i.call(l)}function hs(i,l){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)ya(u[i],l)}var wn=se(null),Fn=se(0);function Dr(i,l){i=Mc,J(Fn,i),J(wn,l),Mc=i|l.baseLanes}function Gn(){J(Fn,Mc),J(wn,wn.current)}function _s(){Mc=Fn.current,q(wn),q(Fn)}var Mr=se(null),Un=null;function ts(i){var l=i.alternate;J(On,On.current&1),J(Mr,i),Un===null&&(l===null||wn.current!==null||l.memoizedState!==null)&&(Un=i)}function Zn(i){J(On,On.current),J(Mr,i),Un===null&&(Un=i)}function fs(i){i.tag===22?(J(On,On.current),J(Mr,i),Un===null&&(Un=i)):ms()}function ms(){J(On,On.current),J(Mr,Mr.current)}function lr(i){q(Mr),Un===i&&(Un=null),q(On)}var On=se(0);function ba(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Db(u)||Mb(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Gr=0,Ut=null,zt=null,Vn=null,Ka=!1,Mi=!1,Ma=!1,gs=0,zl=0,Bl=null,Vh=0;function wr(){throw Error(s(321))}function jm(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!Qs(i[u],l[u]))return!1;return!0}function _m(i,l,u,m,w,_){return Gr=_,Ut=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ie.H=i===null||i.memoizedState===null?Qw:$y,Ma=!1,_=u(m,w),Ma=!1,Mi&&(_=cl(l,u,m,w)),zh(i),_}function zh(i){ie.H=Rm;var l=zt!==null&&zt.next!==null;if(Gr=0,Vn=zt=Ut=null,Ka=!1,zl=0,Bl=null,l)throw Error(s(300));i===null||Fs||(i=i.dependencies,i!==null&&Oh(i)&&(Fs=!0))}function cl(i,l,u,m){Ut=i;var w=0;do{if(Mi&&(Bl=null),zl=0,Mi=!1,25<=w)throw Error(s(301));if(w+=1,Vn=zt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ie.H=Jw,_=l(u,m)}while(Mi);return _}function Uy(){var i=ie.H,l=i.useState()[0];return l=typeof l.then=="function"?ql(l):l,i=i.useState()[0],(zt!==null?zt.memoizedState:null)!==i&&(Ut.flags|=1024),l}function Sm(){var i=gs!==0;return gs=0,i}function Em(i,l,u){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~u}function Bh(i){if(Ka){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Ka=!1}Gr=0,Vn=zt=Ut=null,Mi=!1,zl=gs=0,Bl=null}function Os(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?Ut.memoizedState=Vn=i:Vn=Vn.next=i,Vn}function Hr(){if(zt===null){var i=Ut.alternate;i=i!==null?i.memoizedState:null}else i=zt.next;var l=Vn===null?Ut.memoizedState:Vn.next;if(l!==null)Vn=l,zt=i;else{if(i===null)throw Ut.alternate===null?Error(s(467)):Error(s(310));zt=i,i={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Vn===null?Ut.memoizedState=Vn=i:Vn=Vn.next=i}return Vn}function Pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(i){var l=zl;return zl+=1,Bl===null&&(Bl=[]),i=Ue(Bl,i,l),l=Ut,(Vn===null?l.memoizedState:Vn.next)===null&&(l=l.alternate,ie.H=l===null||l.memoizedState===null?Qw:$y),i}function Nd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ql(i);if(i.$$typeof===O)return ta(i)}throw Error(s(438,String(i)))}function Ac(i){var l=null,u=Ut.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var m=Ut.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Pu(),Ut.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(i),m=0;m<i;m++)u[m]=U;return l.index++,u}function Do(i,l){return typeof l=="function"?l(i):l}function qh(i){var l=Hr();return jd(l,zt,i)}function jd(i,l,u){var m=i.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=u;var w=i.baseQueue,_=m.pending;if(_!==null){if(w!==null){var V=w.next;w.next=_.next,_.next=V}l.baseQueue=w=_,m.pending=null}if(_=i.baseState,w===null)i.memoizedState=_;else{l=w.next;var Q=V=null,me=null,Re=l,He=!1;do{var Xe=Re.lane&-536870913;if(Xe!==Re.lane?(Rn&Xe)===Xe:(Gr&Xe)===Xe){var De=Re.revertLane;if(De===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),Xe===x&&(He=!0);else if((Gr&De)===De){Re=Re.next,De===x&&(He=!0);continue}else Xe={lane:0,revertLane:Re.revertLane,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},me===null?(Q=me=Xe,V=_):me=me.next=Xe,Ut.lanes|=De,Td|=De;Xe=Re.action,Ma&&u(_,Xe),_=Re.hasEagerState?Re.eagerState:u(_,Xe)}else De={lane:Xe,revertLane:Re.revertLane,gesture:Re.gesture,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},me===null?(Q=me=De,V=_):me=me.next=De,Ut.lanes|=Xe,Td|=Xe;Re=Re.next}while(Re!==null&&Re!==l);if(me===null?V=_:me.next=Q,!Qs(_,i.memoizedState)&&(Fs=!0,He&&(u=N,u!==null)))throw u;i.memoizedState=_,i.baseState=V,i.baseQueue=me,m.lastRenderedState=_}return w===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Gh(i){var l=Hr(),u=l.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=i;var m=u.dispatch,w=u.pending,_=l.memoizedState;if(w!==null){u.pending=null;var V=w=w.next;do _=i(_,V.action),V=V.next;while(V!==w);Qs(_,l.memoizedState)||(Fs=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),u.lastRenderedState=_}return[_,m]}function Hh(i,l,u){var m=Ut,w=Hr(),_=Tn;if(_){if(u===void 0)throw Error(s(407));u=u()}else u=l();var V=!Qs((zt||w).memoizedState,u);if(V&&(w.memoizedState=u,Fs=!0),w=w.queue,Vy(Tm.bind(null,m,w,i),[i]),w.getSnapshot!==l||V||Vn!==null&&Vn.memoizedState.tag&1){if(m.flags|=2048,Cc(9,{destroy:void 0},Am.bind(null,m,w,u,l),null),Tr===null)throw Error(s(349));_||(Gr&127)!==0||dl(m,l,u)}return u}function dl(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=Ut.updateQueue,l===null?(l=Pu(),Ut.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function Am(i,l,u,m){l.value=u,l.getSnapshot=m,Rp(l)&&Cm(i)}function Tm(i,l,u){return u(function(){Rp(l)&&Cm(i)})}function Rp(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!Qs(i,u)}catch{return!0}}function Cm(i){var l=ol(i,2);l!==null&&zi(l,i,2)}function Gl(i){var l=Os();if(typeof i=="function"){var u=i;if(i=u(),Ma){Kt(!0);try{u()}finally{Kt(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:i},l}function Pp(i,l,u,m){return i.baseState=u,jd(i,zt,typeof m=="function"?m:Do)}function Lp(i,l,u,m,w){if(Fp(i))throw Error(s(485));if(i=l.action,i!==null){var _={payload:w,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){_.listeners.push(V)}};ie.T!==null?u(!0):_.isTransition=!1,m(_),u=l.pending,u===null?(_.next=l.pending=_,Dp(l,_)):(_.next=u.next,l.pending=u.next=_)}}function Dp(i,l){var u=l.action,m=l.payload,w=i.state;if(l.isTransition){var _=ie.T,V={};ie.T=V;try{var Q=u(w,m),me=ie.S;me!==null&&me(V,Q),Im(i,l,Q)}catch(Re){Tc(i,l,Re)}finally{_!==null&&V.types!==null&&(_.types=V.types),ie.T=_}}else try{_=u(w,m),Im(i,l,_)}catch(Re){Tc(i,l,Re)}}function Im(i,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){Mp(i,l,m)},function(m){return Tc(i,l,m)}):Mp(i,l,u)}function Mp(i,l,u){l.status="fulfilled",l.value=u,$h(l),i.state=u,l=i.pending,l!==null&&(u=l.next,u===l?i.pending=null:(u=u.next,l.next=u,Dp(i,u)))}function Tc(i,l,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=u,$h(l),l=l.next;while(l!==m)}i.action=null}function $h(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function Lu(i,l){return l}function Mo(i,l){if(Tn){var u=Tr.formState;if(u!==null){e:{var m=Ut;if(Tn){if(Er){t:{for(var w=Er,_=qr;w.nodeType!==8;){if(!_){w=null;break t}if(w=Oo(w.nextSibling),w===null){w=null;break t}}_=w.data,w=_==="F!"||_==="F"?w:null}if(w){Er=Oo(w.nextSibling),m=w.data==="F!";break e}}Ml(m)}m=!1}m&&(l=u[0])}}return u=Os(),u.memoizedState=u.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lu,lastRenderedState:l},u.queue=m,u=Kw.bind(null,Ut,m),m.dispatch=u,m=Gl(!1),_=Hy.bind(null,Ut,!1,m.queue),m=Os(),w={state:l,dispatch:null,action:i,pending:null},m.queue=w,u=Lp.bind(null,Ut,w,_,u),w.dispatch=u,m.memoizedState=i,[l,u,!1]}function ul(i){var l=Hr();return hl(l,zt,i)}function hl(i,l,u){if(l=jd(i,l,Lu)[0],i=qh(Do)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=ql(l)}catch(V){throw V===xe?oe:V}else m=l;l=Hr();var w=l.queue,_=w.dispatch;return u!==l.memoizedState&&(Ut.flags|=2048,Cc(9,{destroy:void 0},Wh.bind(null,w,u),null)),[m,_,i]}function Wh(i,l){i.action=l}function Kh(i){var l=Hr(),u=zt;if(u!==null)return hl(l,u,i);Hr(),l=l.memoizedState,u=Hr();var m=u.queue.dispatch;return u.memoizedState=i,[l,m,!1]}function Cc(i,l,u,m){return i={tag:i,create:u,deps:m,inst:l,next:null},l=Ut.updateQueue,l===null&&(l=Pu(),Ut.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,l.lastEffect=i),i}function Op(){return Hr().memoizedState}function _d(i,l,u,m){var w=Os();Ut.flags|=i,w.memoizedState=Cc(1|l,{destroy:void 0},u,m===void 0?null:m)}function Sd(i,l,u,m){var w=Hr();m=m===void 0?null:m;var _=w.memoizedState.inst;zt!==null&&m!==null&&jm(m,zt.memoizedState.deps)?w.memoizedState=Cc(l,_,u,m):(Ut.flags|=i,w.memoizedState=Cc(1|l,_,u,m))}function Lw(i,l){_d(8390656,8,i,l)}function Vy(i,l){Sd(2048,8,i,l)}function sI(i){Ut.flags|=4;var l=Ut.updateQueue;if(l===null)l=Pu(),Ut.updateQueue=l,l.events=[i];else{var u=l.events;u===null?l.events=[i]:u.push(i)}}function Dw(i){var l=Hr().memoizedState;return sI({ref:l,nextImpl:i}),function(){if((er&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}function Mw(i,l){return Sd(4,2,i,l)}function Ow(i,l){return Sd(4,4,i,l)}function Fw(i,l){if(typeof l=="function"){i=i();var u=l(i);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Uw(i,l,u){u=u!=null?u.concat([i]):null,Sd(4,4,Fw.bind(null,l,i),u)}function zy(){}function Vw(i,l){var u=Hr();l=l===void 0?null:l;var m=u.memoizedState;return l!==null&&jm(l,m[1])?m[0]:(u.memoizedState=[i,l],i)}function zw(i,l){var u=Hr();l=l===void 0?null:l;var m=u.memoizedState;if(l!==null&&jm(l,m[1]))return m[0];if(m=i(),Ma){Kt(!0);try{i()}finally{Kt(!1)}}return u.memoizedState=[m,l],m}function By(i,l,u){return u===void 0||(Gr&1073741824)!==0&&(Rn&261930)===0?i.memoizedState=l:(i.memoizedState=u,i=B5(),Ut.lanes|=i,Td|=i,u)}function Bw(i,l,u,m){return Qs(u,l)?u:wn.current!==null?(i=By(i,u,m),Qs(i,l)||(Fs=!0),i):(Gr&42)===0||(Gr&1073741824)!==0&&(Rn&261930)===0?(Fs=!0,i.memoizedState=u):(i=B5(),Ut.lanes|=i,Td|=i,l)}function qw(i,l,u,m,w){var _=ge.p;ge.p=_!==0&&8>_?_:8;var V=ie.T,Q={};ie.T=Q,Hy(i,!1,l,u);try{var me=w(),Re=ie.S;if(Re!==null&&Re(Q,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var He=W(me,m);km(i,l,He,uo(i))}else km(i,l,m,uo(i))}catch(Xe){km(i,l,{then:function(){},status:"rejected",reason:Xe},uo())}finally{ge.p=_,V!==null&&Q.types!==null&&(V.types=Q.types),ie.T=V}}function aI(){}function qy(i,l,u,m){if(i.tag!==5)throw Error(s(476));var w=Gw(i).queue;qw(i,w,l,ue,u===null?aI:function(){return Hw(i),u(m)})}function Gw(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:ue},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:u},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function Hw(i){var l=Gw(i);l.next===null&&(l=i.alternate.memoizedState),km(i,l.next.queue,{},uo())}function Gy(){return ta(Km)}function $w(){return Hr().memoizedState}function Ww(){return Hr().memoizedState}function iI(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var u=uo();i=Yt(u);var m=pn(l,i,u);m!==null&&(zi(m,l,u),Jn(m,l,u)),l={cache:wd()},i.payload=l;return}l=l.return}}function oI(i,l,u){var m=uo();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Fp(i)?Yw(l,u):(u=Ch(i,l,u,m),u!==null&&(zi(u,i,m),Xw(u,l,m)))}function Kw(i,l,u){var m=uo();km(i,l,u,m)}function km(i,l,u,m){var w={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Fp(i))Yw(l,w);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var V=l.lastRenderedState,Q=_(V,u);if(w.hasEagerState=!0,w.eagerState=Q,Qs(Q,V))return Eu(i,l,w,0),Tr===null&&Su(),!1}catch{}finally{}if(u=Ch(i,l,w,m),u!==null)return zi(u,i,m),Xw(u,l,m),!0}return!1}function Hy(i,l,u,m){if(m={lane:2,revertLane:jb(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Fp(i)){if(l)throw Error(s(479))}else l=Ch(i,u,m,2),l!==null&&zi(l,i,2)}function Fp(i){var l=i.alternate;return i===Ut||l!==null&&l===Ut}function Yw(i,l){Mi=Ka=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function Xw(i,l,u){if((u&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,u|=m,l.lanes=u,la(i,u)}}var Rm={readContext:ta,use:Nd,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useLayoutEffect:wr,useInsertionEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useSyncExternalStore:wr,useId:wr,useHostTransitionStatus:wr,useFormState:wr,useActionState:wr,useOptimistic:wr,useMemoCache:wr,useCacheRefresh:wr};Rm.useEffectEvent=wr;var Qw={readContext:ta,use:Nd,useCallback:function(i,l){return Os().memoizedState=[i,l===void 0?null:l],i},useContext:ta,useEffect:Lw,useImperativeHandle:function(i,l,u){u=u!=null?u.concat([i]):null,_d(4194308,4,Fw.bind(null,l,i),u)},useLayoutEffect:function(i,l){return _d(4194308,4,i,l)},useInsertionEffect:function(i,l){_d(4,2,i,l)},useMemo:function(i,l){var u=Os();l=l===void 0?null:l;var m=i();if(Ma){Kt(!0);try{i()}finally{Kt(!1)}}return u.memoizedState=[m,l],m},useReducer:function(i,l,u){var m=Os();if(u!==void 0){var w=u(l);if(Ma){Kt(!0);try{u(l)}finally{Kt(!1)}}}else w=l;return m.memoizedState=m.baseState=w,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:w},m.queue=i,i=i.dispatch=oI.bind(null,Ut,i),[m.memoizedState,i]},useRef:function(i){var l=Os();return i={current:i},l.memoizedState=i},useState:function(i){i=Gl(i);var l=i.queue,u=Kw.bind(null,Ut,l);return l.dispatch=u,[i.memoizedState,u]},useDebugValue:zy,useDeferredValue:function(i,l){var u=Os();return By(u,i,l)},useTransition:function(){var i=Gl(!1);return i=qw.bind(null,Ut,i.queue,!0,!1),Os().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,u){var m=Ut,w=Os();if(Tn){if(u===void 0)throw Error(s(407));u=u()}else{if(u=l(),Tr===null)throw Error(s(349));(Rn&127)!==0||dl(m,l,u)}w.memoizedState=u;var _={value:u,getSnapshot:l};return w.queue=_,Lw(Tm.bind(null,m,_,i),[i]),m.flags|=2048,Cc(9,{destroy:void 0},Am.bind(null,m,_,u,l),null),u},useId:function(){var i=Os(),l=Tr.identifierPrefix;if(Tn){var u=Li,m=Pi;u=(m&~(1<<32-on(m)-1)).toString(32)+u,l="_"+l+"R_"+u,u=gs++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=Vh++,l="_"+l+"r_"+u.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:Gy,useFormState:Mo,useActionState:Mo,useOptimistic:function(i){var l=Os();l.memoizedState=l.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Hy.bind(null,Ut,!0,u),u.dispatch=l,[i,l]},useMemoCache:Ac,useCacheRefresh:function(){return Os().memoizedState=iI.bind(null,Ut)},useEffectEvent:function(i){var l=Os(),u={impl:i};return l.memoizedState=u,function(){if((er&2)!==0)throw Error(s(440));return u.impl.apply(void 0,arguments)}}},$y={readContext:ta,use:Nd,useCallback:Vw,useContext:ta,useEffect:Vy,useImperativeHandle:Uw,useInsertionEffect:Mw,useLayoutEffect:Ow,useMemo:zw,useReducer:qh,useRef:Op,useState:function(){return qh(Do)},useDebugValue:zy,useDeferredValue:function(i,l){var u=Hr();return Bw(u,zt.memoizedState,i,l)},useTransition:function(){var i=qh(Do)[0],l=Hr().memoizedState;return[typeof i=="boolean"?i:ql(i),l]},useSyncExternalStore:Hh,useId:$w,useHostTransitionStatus:Gy,useFormState:ul,useActionState:ul,useOptimistic:function(i,l){var u=Hr();return Pp(u,zt,i,l)},useMemoCache:Ac,useCacheRefresh:Ww};$y.useEffectEvent=Dw;var Jw={readContext:ta,use:Nd,useCallback:Vw,useContext:ta,useEffect:Vy,useImperativeHandle:Uw,useInsertionEffect:Mw,useLayoutEffect:Ow,useMemo:zw,useReducer:Gh,useRef:Op,useState:function(){return Gh(Do)},useDebugValue:zy,useDeferredValue:function(i,l){var u=Hr();return zt===null?By(u,i,l):Bw(u,zt.memoizedState,i,l)},useTransition:function(){var i=Gh(Do)[0],l=Hr().memoizedState;return[typeof i=="boolean"?i:ql(i),l]},useSyncExternalStore:Hh,useId:$w,useHostTransitionStatus:Gy,useFormState:Kh,useActionState:Kh,useOptimistic:function(i,l){var u=Hr();return zt!==null?Pp(u,zt,i,l):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Ac,useCacheRefresh:Ww};Jw.useEffectEvent=Dw;function Wy(i,l,u,m){l=i.memoizedState,u=u(m,l),u=u==null?l:p({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Ky={enqueueSetState:function(i,l,u){i=i._reactInternals;var m=uo(),w=Yt(m);w.payload=l,u!=null&&(w.callback=u),l=pn(i,w,m),l!==null&&(zi(l,i,m),Jn(l,i,m))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var m=uo(),w=Yt(m);w.tag=1,w.payload=l,u!=null&&(w.callback=u),l=pn(i,w,m),l!==null&&(zi(l,i,m),Jn(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=uo(),m=Yt(u);m.tag=2,l!=null&&(m.callback=l),l=pn(i,m,u),l!==null&&(zi(l,i,u),Jn(l,i,u))}};function Zw(i,l,u,m,w,_,V){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,_,V):l.prototype&&l.prototype.isPureReactComponent?!rl(u,m)||!rl(w,_):!0}function e5(i,l,u,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,m),l.state!==i&&Ky.enqueueReplaceState(l,l.state,null)}function Du(i,l){var u=l;if("ref"in l){u={};for(var m in l)m!=="ref"&&(u[m]=l[m])}if(i=i.defaultProps){u===l&&(u=p({},u));for(var w in i)u[w]===void 0&&(u[w]=i[w])}return u}function t5(i){_u(i)}function n5(i){console.error(i)}function r5(i){_u(i)}function Up(i,l){try{var u=i.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function s5(i,l,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Yy(i,l,u){return u=Yt(u),u.tag=3,u.payload={element:null},u.callback=function(){Up(i,l)},u}function a5(i){return i=Yt(i),i.tag=3,i}function i5(i,l,u,m){var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var _=m.value;i.payload=function(){return w(_)},i.callback=function(){s5(l,u,m)}}var V=u.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(i.callback=function(){s5(l,u,m),typeof w!="function"&&(Cd===null?Cd=new Set([this]):Cd.add(this));var Q=m.stack;this.componentDidCatch(m.value,{componentStack:Q!==null?Q:""})})}function lI(i,l,u,m,w){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=u.alternate,l!==null&&Ul(l,u,w,!0),u=Mr.current,u!==null){switch(u.tag){case 31:case 13:return Un===null?Qp():u.alternate===null&&ps===0&&(ps=3),u.flags&=-257,u.flags|=65536,u.lanes=w,m===ve?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([m]):l.add(m),vb(i,m,w)),!1;case 22:return u.flags|=65536,m===ve?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([m]):u.add(m)),vb(i,m,w)),!1}throw Error(s(435,u.tag))}return vb(i,m,w),Qp(),!1}if(Tn)return l=Mr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,m!==oo&&(i=Error(s(422),{cause:m}),bd(Ii(i,u)))):(m!==oo&&(l=Error(s(423),{cause:m}),bd(Ii(l,u))),i=i.current.alternate,i.flags|=65536,w&=-w,i.lanes|=w,m=Ii(m,u),w=Yy(i.stateNode,m,w),js(i,w),ps!==4&&(ps=2)),!1;var _=Error(s(520),{cause:m});if(_=Ii(_,u),Vm===null?Vm=[_]:Vm.push(_),ps!==4&&(ps=2),l===null)return!0;m=Ii(m,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,i=w&-w,u.lanes|=i,i=Yy(u.stateNode,m,i),js(u,i),!1;case 1:if(l=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Cd===null||!Cd.has(_))))return u.flags|=65536,w&=-w,u.lanes|=w,w=a5(w),i5(w,i,u,m),js(u,w),!1}u=u.return}while(u!==null);return!1}var Xy=Error(s(461)),Fs=!1;function Oa(i,l,u,m){l.child=i===null?fn(l,null,u,m):Ar(l,i.child,u,m)}function o5(i,l,u,m,w){u=u.render;var _=l.ref;if("ref"in m){var V={};for(var Q in m)Q!=="ref"&&(V[Q]=m[Q])}else V=m;return Vl(l),m=_m(i,l,u,V,_,w),Q=Sm(),i!==null&&!Fs?(Em(i,l,w),Ic(i,l,w)):(Tn&&Q&&vm(l),l.flags|=1,Oa(i,l,m,w),l.child)}function l5(i,l,u,m,w){if(i===null){var _=u.type;return typeof _=="function"&&!kh(_)&&_.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=_,c5(i,l,_,m,w)):(i=pd(u.type,null,m,l,l.mode,w),i.ref=l.ref,i.return=l,l.child=i)}if(_=i.child,!sb(i,w)){var V=_.memoizedProps;if(u=u.compare,u=u!==null?u:rl,u(V,m)&&i.ref===l.ref)return Ic(i,l,w)}return l.flags|=1,i=Ci(_,m),i.ref=l.ref,i.return=l,l.child=i}function c5(i,l,u,m,w){if(i!==null){var _=i.memoizedProps;if(rl(_,m)&&i.ref===l.ref)if(Fs=!1,l.pendingProps=m=_,sb(i,w))(i.flags&131072)!==0&&(Fs=!0);else return l.lanes=i.lanes,Ic(i,l,w)}return Qy(i,l,u,m,w)}function d5(i,l,u,m){var w=m.children,_=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,i!==null){for(m=l.child=i.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~_}else m=0,l.child=null;return u5(i,l,_,u,m)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&re(l,_!==null?_.cachePool:null),_!==null?Dr(l,_):Gn(),fs(l);else return m=l.lanes=536870912,u5(i,l,_!==null?_.baseLanes|u:u,u,m)}else _!==null?(re(l,_.cachePool),Dr(l,_),ms(),l.memoizedState=null):(i!==null&&re(l,null),Gn(),ms());return Oa(i,l,w,u),l.child}function Pm(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function u5(i,l,u,m,w){var _=Z();return _=_===null?null:{parent:es._currentValue,pool:_},l.memoizedState={baseLanes:u,cachePool:_},i!==null&&re(l,null),Gn(),fs(l),i!==null&&Ul(i,l,m,!0),l.childLanes=w,null}function Vp(i,l){return l=Bp({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function h5(i,l,u){return Ar(l,i.child,null,u),i=Vp(l,l.pendingProps),i.flags|=2,lr(l),l.memoizedState=null,i}function cI(i,l,u){var m=l.pendingProps,w=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(Tn){if(m.mode==="hidden")return i=Vp(l,m),l.lanes=536870912,Pm(null,i);if(Zn(l),(i=Er)?(i=_N(i,qr),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Dl!==null?{id:Pi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},u=Rh(i),u.return=l,l.child=u,Zs=l,Er=null)):i=null,i===null)throw Ml(l);return l.lanes=536870912,null}return Vp(l,m)}var _=i.memoizedState;if(_!==null){var V=_.dehydrated;if(Zn(l),w)if(l.flags&256)l.flags&=-257,l=h5(i,l,u);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(s(558));else if(Fs||Ul(i,l,u,!1),w=(u&i.childLanes)!==0,Fs||w){if(m=Tr,m!==null&&(V=ca(m,u),V!==0&&V!==_.retryLane))throw _.retryLane=V,ol(i,V),zi(m,i,V),Xy;Qp(),l=h5(i,l,u)}else i=_.treeContext,Er=Oo(V.nextSibling),Zs=l,Tn=!0,Da=null,qr=!1,i!==null&&Ip(l,i),l=Vp(l,m),l.flags|=4096;return l}return i=Ci(i.child,{mode:m.mode,children:m.children}),i.ref=l.ref,l.child=i,i.return=l,i}function zp(i,l){var u=l.ref;if(u===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(s(284));(i===null||i.ref!==u)&&(l.flags|=4194816)}}function Qy(i,l,u,m,w){return Vl(l),u=_m(i,l,u,m,void 0,w),m=Sm(),i!==null&&!Fs?(Em(i,l,w),Ic(i,l,w)):(Tn&&m&&vm(l),l.flags|=1,Oa(i,l,u,w),l.child)}function f5(i,l,u,m,w,_){return Vl(l),l.updateQueue=null,u=cl(l,m,u,w),zh(i),m=Sm(),i!==null&&!Fs?(Em(i,l,_),Ic(i,l,_)):(Tn&&m&&vm(l),l.flags|=1,Oa(i,l,u,_),l.child)}function m5(i,l,u,m,w){if(Vl(l),l.stateNode===null){var _=Js,V=u.contextType;typeof V=="object"&&V!==null&&(_=ta(V)),_=new u(m,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Ky,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=m,_.state=l.memoizedState,_.refs={},at(l),V=u.contextType,_.context=typeof V=="object"&&V!==null?ta(V):Js,_.state=l.memoizedState,V=u.getDerivedStateFromProps,typeof V=="function"&&(Wy(l,u,V,m),_.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(V=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),V!==_.state&&Ky.enqueueReplaceState(_,_.state,null),us(l,m,_,w),vr(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){_=l.stateNode;var Q=l.memoizedProps,me=Du(u,Q);_.props=me;var Re=_.context,He=u.contextType;V=Js,typeof He=="object"&&He!==null&&(V=ta(He));var Xe=u.getDerivedStateFromProps;He=typeof Xe=="function"||typeof _.getSnapshotBeforeUpdate=="function",Q=l.pendingProps!==Q,He||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(Q||Re!==V)&&e5(l,_,m,V),ft=!1;var De=l.memoizedState;_.state=De,us(l,m,_,w),vr(),Re=l.memoizedState,Q||De!==Re||ft?(typeof Xe=="function"&&(Wy(l,u,Xe,m),Re=l.memoizedState),(me=ft||Zw(l,u,me,m,De,Re,V))?(He||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Re),_.props=m,_.state=Re,_.context=V,m=me):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{_=l.stateNode,Lr(i,l),V=l.memoizedProps,He=Du(u,V),_.props=He,Xe=l.pendingProps,De=_.context,Re=u.contextType,me=Js,typeof Re=="object"&&Re!==null&&(me=ta(Re)),Q=u.getDerivedStateFromProps,(Re=typeof Q=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(V!==Xe||De!==me)&&e5(l,_,m,me),ft=!1,De=l.memoizedState,_.state=De,us(l,m,_,w),vr();var Me=l.memoizedState;V!==Xe||De!==Me||ft||i!==null&&i.dependencies!==null&&Oh(i.dependencies)?(typeof Q=="function"&&(Wy(l,u,Q,m),Me=l.memoizedState),(He=ft||Zw(l,u,He,m,De,Me,me)||i!==null&&i.dependencies!==null&&Oh(i.dependencies))?(Re||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,Me,me),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,Me,me)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||V===i.memoizedProps&&De===i.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&De===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Me),_.props=m,_.state=Me,_.context=me,m=He):(typeof _.componentDidUpdate!="function"||V===i.memoizedProps&&De===i.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&De===i.memoizedState||(l.flags|=1024),m=!1)}return _=m,zp(i,l),m=(l.flags&128)!==0,_||m?(_=l.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,i!==null&&m?(l.child=Ar(l,i.child,null,w),l.child=Ar(l,null,u,w)):Oa(i,l,u,w),l.memoizedState=_.state,i=l.child):i=Ic(i,l,w),i}function g5(i,l,u,m){return Sc(),l.flags|=256,Oa(i,l,u,m),l.child}var Jy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zy(i){return{baseLanes:i,cachePool:de()}}function eb(i,l,u){return i=i!==null?i.childLanes&~u:0,l&&(i|=co),i}function p5(i,l,u){var m=l.pendingProps,w=!1,_=(l.flags&128)!==0,V;if((V=_)||(V=i!==null&&i.memoizedState===null?!1:(On.current&2)!==0),V&&(w=!0,l.flags&=-129),V=(l.flags&32)!==0,l.flags&=-33,i===null){if(Tn){if(w?ts(l):ms(),(i=Er)?(i=_N(i,qr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Dl!==null?{id:Pi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},u=Rh(i),u.return=l,l.child=u,Zs=l,Er=null)):i=null,i===null)throw Ml(l);return Mb(i)?l.lanes=32:l.lanes=536870912,null}var Q=m.children;return m=m.fallback,w?(ms(),w=l.mode,Q=Bp({mode:"hidden",children:Q},w),m=Ll(m,w,u,null),Q.return=l,m.return=l,Q.sibling=m,l.child=Q,m=l.child,m.memoizedState=Zy(u),m.childLanes=eb(i,V,u),l.memoizedState=Jy,Pm(null,m)):(ts(l),tb(l,Q))}var me=i.memoizedState;if(me!==null&&(Q=me.dehydrated,Q!==null)){if(_)l.flags&256?(ts(l),l.flags&=-257,l=nb(i,l,u)):l.memoizedState!==null?(ms(),l.child=i.child,l.flags|=128,l=null):(ms(),Q=m.fallback,w=l.mode,m=Bp({mode:"visible",children:m.children},w),Q=Ll(Q,w,u,null),Q.flags|=2,m.return=l,Q.return=l,m.sibling=Q,l.child=m,Ar(l,i.child,null,u),m=l.child,m.memoizedState=Zy(u),m.childLanes=eb(i,V,u),l.memoizedState=Jy,l=Pm(null,m));else if(ts(l),Mb(Q)){if(V=Q.nextSibling&&Q.nextSibling.dataset,V)var Re=V.dgst;V=Re,m=Error(s(419)),m.stack="",m.digest=V,bd({value:m,source:null,stack:null}),l=nb(i,l,u)}else if(Fs||Ul(i,l,u,!1),V=(u&i.childLanes)!==0,Fs||V){if(V=Tr,V!==null&&(m=ca(V,u),m!==0&&m!==me.retryLane))throw me.retryLane=m,ol(i,m),zi(V,i,m),Xy;Db(Q)||Qp(),l=nb(i,l,u)}else Db(Q)?(l.flags|=192,l.child=i.child,l=null):(i=me.treeContext,Er=Oo(Q.nextSibling),Zs=l,Tn=!0,Da=null,qr=!1,i!==null&&Ip(l,i),l=tb(l,m.children),l.flags|=4096);return l}return w?(ms(),Q=m.fallback,w=l.mode,me=i.child,Re=me.sibling,m=Ci(me,{mode:"hidden",children:m.children}),m.subtreeFlags=me.subtreeFlags&65011712,Re!==null?Q=Ci(Re,Q):(Q=Ll(Q,w,u,null),Q.flags|=2),Q.return=l,m.return=l,m.sibling=Q,l.child=m,Pm(null,m),m=l.child,Q=i.child.memoizedState,Q===null?Q=Zy(u):(w=Q.cachePool,w!==null?(me=es._currentValue,w=w.parent!==me?{parent:me,pool:me}:w):w=de(),Q={baseLanes:Q.baseLanes|u,cachePool:w}),m.memoizedState=Q,m.childLanes=eb(i,V,u),l.memoizedState=Jy,Pm(i.child,m)):(ts(l),u=i.child,i=u.sibling,u=Ci(u,{mode:"visible",children:m.children}),u.return=l,u.sibling=null,i!==null&&(V=l.deletions,V===null?(l.deletions=[i],l.flags|=16):V.push(i)),l.child=u,l.memoizedState=null,u)}function tb(i,l){return l=Bp({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Bp(i,l){return i=xa(22,i,null,l),i.lanes=0,i}function nb(i,l,u){return Ar(l,i.child,null,u),i=tb(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function x5(i,l,u){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),vd(i.return,l,u)}function rb(i,l,u,m,w,_){var V=i.memoizedState;V===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:w,treeForkCount:_}:(V.isBackwards=l,V.rendering=null,V.renderingStartTime=0,V.last=m,V.tail=u,V.tailMode=w,V.treeForkCount=_)}function y5(i,l,u){var m=l.pendingProps,w=m.revealOrder,_=m.tail;m=m.children;var V=On.current,Q=(V&2)!==0;if(Q?(V=V&1|2,l.flags|=128):V&=1,J(On,V),Oa(i,l,m,u),m=Tn?Iu:0,!Q&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&x5(i,u,l);else if(i.tag===19)x5(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(w){case"forwards":for(u=l.child,w=null;u!==null;)i=u.alternate,i!==null&&ba(i)===null&&(w=u),u=u.sibling;u=w,u===null?(w=l.child,l.child=null):(w=u.sibling,u.sibling=null),rb(l,!1,w,u,_,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,w=l.child,l.child=null;w!==null;){if(i=w.alternate,i!==null&&ba(i)===null){l.child=w;break}i=w.sibling,w.sibling=u,u=w,w=i}rb(l,!0,u,null,_,m);break;case"together":rb(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function Ic(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),Td|=l.lanes,(u&l.childLanes)===0)if(i!==null){if(Ul(i,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(s(153));if(l.child!==null){for(i=l.child,u=Ci(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=Ci(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function sb(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&Oh(i)))}function dI(i,l,u){switch(l.tag){case 3:Pe(l,l.stateNode.containerInfo),Fl(l,es,i.memoizedState.cache),Sc();break;case 27:case 5:qe(l);break;case 4:Pe(l,l.stateNode.containerInfo);break;case 10:Fl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Zn(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(ts(l),l.flags|=128,null):(u&l.child.childLanes)!==0?p5(i,l,u):(ts(l),i=Ic(i,l,u),i!==null?i.sibling:null);ts(l);break;case 19:var w=(i.flags&128)!==0;if(m=(u&l.childLanes)!==0,m||(Ul(i,l,u,!1),m=(u&l.childLanes)!==0),w){if(m)return y5(i,l,u);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),J(On,On.current),m)break;return null;case 22:return l.lanes=0,d5(i,l,u,l.pendingProps);case 24:Fl(l,es,i.memoizedState.cache)}return Ic(i,l,u)}function b5(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps)Fs=!0;else{if(!sb(i,u)&&(l.flags&128)===0)return Fs=!1,dI(i,l,u);Fs=(i.flags&131072)!==0}else Fs=!1,Tn&&(l.flags&1048576)!==0&&Cp(l,Iu,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(i=Ae(l.elementType),l.type=i,typeof i=="function")kh(i)?(m=Du(i,m),l.tag=1,l=m5(null,l,i,m,u)):(l.tag=0,l=Qy(null,l,i,m,u));else{if(i!=null){var w=i.$$typeof;if(w===D){l.tag=11,l=o5(null,l,i,m,u);break e}else if(w===H){l.tag=14,l=l5(null,l,i,m,u);break e}}throw l=le(i)||i,Error(s(306,l,""))}}return l;case 0:return Qy(i,l,l.type,l.pendingProps,u);case 1:return m=l.type,w=Du(m,l.pendingProps),m5(i,l,m,w,u);case 3:e:{if(Pe(l,l.stateNode.containerInfo),i===null)throw Error(s(387));m=l.pendingProps;var _=l.memoizedState;w=_.element,Lr(i,l),us(l,m,null,u);var V=l.memoizedState;if(m=V.cache,Fl(l,es,m),m!==_.cache&&Ec(l,[es],u,!0),vr(),m=V.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:V.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=g5(i,l,m,u);break e}else if(m!==w){w=Ii(Error(s(424)),l),bd(w),l=g5(i,l,m,u);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Er=Oo(i.firstChild),Zs=l,Tn=!0,Da=null,qr=!0,u=fn(l,null,m,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Sc(),m===w){l=Ic(i,l,u);break e}Oa(i,l,m,u)}l=l.child}return l;case 26:return zp(i,l),i===null?(u=IN(l.type,null,l.pendingProps,null))?l.memoizedState=u:Tn||(u=l.type,i=l.pendingProps,m=s0(fe.current).createElement(u),m[$n]=l,m[ir]=i,Fa(m,u,i),Pr(m),l.stateNode=m):l.memoizedState=IN(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return qe(l),i===null&&Tn&&(m=l.stateNode=AN(l.type,l.pendingProps,fe.current),Zs=l,qr=!0,w=Er,Pd(l.type)?(Ob=w,Er=Oo(m.firstChild)):Er=w),Oa(i,l,l.pendingProps.children,u),zp(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Tn&&((w=m=Er)&&(m=VI(m,l.type,l.pendingProps,qr),m!==null?(l.stateNode=m,Zs=l,Er=Oo(m.firstChild),qr=!1,w=!0):w=!1),w||Ml(l)),qe(l),w=l.type,_=l.pendingProps,V=i!==null?i.memoizedProps:null,m=_.children,Rb(w,_)?m=null:V!==null&&Rb(w,V)&&(l.flags|=32),l.memoizedState!==null&&(w=_m(i,l,Uy,null,null,u),Km._currentValue=w),zp(i,l),Oa(i,l,m,u),l.child;case 6:return i===null&&Tn&&((i=u=Er)&&(u=zI(u,l.pendingProps,qr),u!==null?(l.stateNode=u,Zs=l,Er=null,i=!0):i=!1),i||Ml(l)),null;case 13:return p5(i,l,u);case 4:return Pe(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=Ar(l,null,m,u):Oa(i,l,m,u),l.child;case 11:return o5(i,l,l.type,l.pendingProps,u);case 7:return Oa(i,l,l.pendingProps,u),l.child;case 8:return Oa(i,l,l.pendingProps.children,u),l.child;case 12:return Oa(i,l,l.pendingProps.children,u),l.child;case 10:return m=l.pendingProps,Fl(l,l.type,m.value),Oa(i,l,m.children,u),l.child;case 9:return w=l.type._context,m=l.pendingProps.children,Vl(l),w=ta(w),m=m(w),l.flags|=1,Oa(i,l,m,u),l.child;case 14:return l5(i,l,l.type,l.pendingProps,u);case 15:return c5(i,l,l.type,l.pendingProps,u);case 19:return y5(i,l,u);case 31:return cI(i,l,u);case 22:return d5(i,l,u,l.pendingProps);case 24:return Vl(l),m=ta(es),i===null?(w=Z(),w===null&&(w=Tr,_=wd(),w.pooledCache=_,_.refCount++,_!==null&&(w.pooledCacheLanes|=u),w=_),l.memoizedState={parent:m,cache:w},at(l),Fl(l,es,w)):((i.lanes&u)!==0&&(Lr(i,l),us(l,null,null,u),vr()),w=i.memoizedState,_=l.memoizedState,w.parent!==m?(w={parent:m,cache:m},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),Fl(l,es,m)):(m=_.cache,Fl(l,es,m),m!==w.cache&&Ec(l,[es],u,!0))),Oa(i,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(s(156,l.tag))}function kc(i){i.flags|=4}function ab(i,l,u,m,w){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(w&335544128)===w)if(i.stateNode.complete)i.flags|=8192;else if($5())i.flags|=8192;else throw Fe=ve,Ce}else i.flags&=-16777217}function v5(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!DN(l))if($5())i.flags|=8192;else throw Fe=ve,Ce}function qp(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?wi():536870912,i.lanes|=l,Jh|=l)}function Lm(i,l){if(!Tn)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Or(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(l)for(var w=i.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=m,i.childLanes=u,l}function uI(i,l,u){var m=l.pendingProps;switch(Dh(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(l),null;case 1:return Or(l),null;case 3:return u=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Di(es),ke(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(ea(l)?kc(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Nm())),Or(l),null;case 26:var w=l.type,_=l.memoizedState;return i===null?(kc(l),_!==null?(Or(l),v5(l,_)):(Or(l),ab(l,w,null,m,u))):_?_!==i.memoizedState?(kc(l),Or(l),v5(l,_)):(Or(l),l.flags&=-16777217):(i=i.memoizedProps,i!==m&&kc(l),Or(l),ab(l,w,i,m,u)),null;case 27:if(Ze(l),u=fe.current,w=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&kc(l);else{if(!m){if(l.stateNode===null)throw Error(s(166));return Or(l),null}i=ae.current,ea(l)?wm(l):(i=AN(w,m,u),l.stateNode=i,kc(l))}return Or(l),null;case 5:if(Ze(l),w=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&kc(l);else{if(!m){if(l.stateNode===null)throw Error(s(166));return Or(l),null}if(_=ae.current,ea(l))wm(l);else{var V=s0(fe.current);switch(_){case 1:_=V.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:_=V.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":_=V.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":_=V.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":_=V.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof m.is=="string"?V.createElement("select",{is:m.is}):V.createElement("select"),m.multiple?_.multiple=!0:m.size&&(_.size=m.size);break;default:_=typeof m.is=="string"?V.createElement(w,{is:m.is}):V.createElement(w)}}_[$n]=l,_[ir]=m;e:for(V=l.child;V!==null;){if(V.tag===5||V.tag===6)_.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===l)break e;for(;V.sibling===null;){if(V.return===null||V.return===l)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}l.stateNode=_;e:switch(Fa(_,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&kc(l)}}return Or(l),ab(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,u),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&kc(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(s(166));if(i=fe.current,ea(l)){if(i=l.stateNode,u=l.memoizedProps,m=null,w=Zs,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}i[$n]=l,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||pN(i.nodeValue,u)),i||Ml(l,!0)}else i=s0(i).createTextNode(m),i[$n]=l,l.stateNode=i}return Or(l),null;case 31:if(u=l.memoizedState,i===null||i.memoizedState!==null){if(m=ea(l),u!==null){if(i===null){if(!m)throw Error(s(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[$n]=l}else Sc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Or(l),i=!1}else u=Nm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return l.flags&256?(lr(l),l):(lr(l),null);if((l.flags&128)!==0)throw Error(s(558))}return Or(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(w=ea(l),m!==null&&m.dehydrated!==null){if(i===null){if(!w)throw Error(s(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(s(317));w[$n]=l}else Sc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Or(l),w=!1}else w=Nm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(lr(l),l):(lr(l),null)}return lr(l),(l.flags&128)!==0?(l.lanes=u,l):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=l.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),_=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==w&&(m.flags|=2048)),u!==i&&u&&(l.child.flags|=8192),qp(l,l.updateQueue),Or(l),null);case 4:return ke(),i===null&&Ab(l.stateNode.containerInfo),Or(l),null;case 10:return Di(l.type),Or(l),null;case 19:if(q(On),m=l.memoizedState,m===null)return Or(l),null;if(w=(l.flags&128)!==0,_=m.rendering,_===null)if(w)Lm(m,!1);else{if(ps!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(_=ba(i),_!==null){for(l.flags|=128,Lm(m,!1),i=_.updateQueue,l.updateQueue=i,qp(l,i),l.subtreeFlags=0,i=u,u=l.child;u!==null;)Tu(u,i),u=u.sibling;return J(On,On.current&1|2),Tn&&gi(l,m.treeForkCount),l.child}i=i.sibling}m.tail!==null&&an()>Kp&&(l.flags|=128,w=!0,Lm(m,!1),l.lanes=4194304)}else{if(!w)if(i=ba(_),i!==null){if(l.flags|=128,w=!0,i=i.updateQueue,l.updateQueue=i,qp(l,i),Lm(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Tn)return Or(l),null}else 2*an()-m.renderingStartTime>Kp&&u!==536870912&&(l.flags|=128,w=!0,Lm(m,!1),l.lanes=4194304);m.isBackwards?(_.sibling=l.child,l.child=_):(i=m.last,i!==null?i.sibling=_:l.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=an(),i.sibling=null,u=On.current,J(On,w?u&1|2:u&1),Tn&&gi(l,m.treeForkCount),i):(Or(l),null);case 22:case 23:return lr(l),_s(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(u&536870912)!==0&&(l.flags&128)===0&&(Or(l),l.subtreeFlags&6&&(l.flags|=8192)):Or(l),u=l.updateQueue,u!==null&&qp(l,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==u&&(l.flags|=2048),i!==null&&q(Y),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Di(es),Or(l),null;case 25:return null;case 30:return null}throw Error(s(156,l.tag))}function hI(i,l){switch(Dh(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Di(es),ke(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Ze(l),null;case 31:if(l.memoizedState!==null){if(lr(l),l.alternate===null)throw Error(s(340));Sc()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(lr(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(s(340));Sc()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return q(On),null;case 4:return ke(),null;case 10:return Di(l.type),null;case 22:case 23:return lr(l),_s(),i!==null&&q(Y),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Di(es),null;case 25:return null;default:return null}}function w5(i,l){switch(Dh(l),l.tag){case 3:Di(es),ke();break;case 26:case 27:case 5:Ze(l);break;case 4:ke();break;case 31:l.memoizedState!==null&&lr(l);break;case 13:lr(l);break;case 19:q(On);break;case 10:Di(l.type);break;case 22:case 23:lr(l),_s(),i!==null&&q(Y);break;case 24:Di(es)}}function Dm(i,l){try{var u=l.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var w=m.next;u=w;do{if((u.tag&i)===i){m=void 0;var _=u.create,V=u.inst;m=_(),V.destroy=m}u=u.next}while(u!==w)}}catch(Q){dr(l,l.return,Q)}}function Ed(i,l,u){try{var m=l.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var _=w.next;m=_;do{if((m.tag&i)===i){var V=m.inst,Q=V.destroy;if(Q!==void 0){V.destroy=void 0,w=l;var me=u,Re=Q;try{Re()}catch(He){dr(w,me,He)}}}m=m.next}while(m!==_)}}catch(He){dr(l,l.return,He)}}function N5(i){var l=i.updateQueue;if(l!==null){var u=i.stateNode;try{hs(l,u)}catch(m){dr(i,i.return,m)}}}function j5(i,l,u){u.props=Du(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){dr(i,l,m)}}function Mm(i,l){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(w){dr(i,l,w)}}function Hl(i,l){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(w){dr(i,l,w)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(w){dr(i,l,w)}else u.current=null}function _5(i){var l=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(w){dr(i,i.return,w)}}function ib(i,l,u){try{var m=i.stateNode;LI(m,i.type,u,l),m[ir]=l}catch(w){dr(i,i.return,w)}}function S5(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Pd(i.type)||i.tag===4}function ob(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||S5(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Pd(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function lb(i,l,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(i),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=li));else if(m!==4&&(m===27&&Pd(i.type)&&(u=i.stateNode,l=null),i=i.child,i!==null))for(lb(i,l,u),i=i.sibling;i!==null;)lb(i,l,u),i=i.sibling}function Gp(i,l,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(m!==4&&(m===27&&Pd(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Gp(i,l,u),i=i.sibling;i!==null;)Gp(i,l,u),i=i.sibling}function E5(i){var l=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);Fa(l,m,u),l[$n]=i,l[ir]=u}catch(_){dr(i,i.return,_)}}var Rc=!1,Us=!1,cb=!1,A5=typeof WeakSet=="function"?WeakSet:Set,va=null;function fI(i,l){if(i=i.containerInfo,Ib=u0,i=al(i),Ro(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var w=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var V=0,Q=-1,me=-1,Re=0,He=0,Xe=i,De=null;t:for(;;){for(var Me;Xe!==u||w!==0&&Xe.nodeType!==3||(Q=V+w),Xe!==_||m!==0&&Xe.nodeType!==3||(me=V+m),Xe.nodeType===3&&(V+=Xe.nodeValue.length),(Me=Xe.firstChild)!==null;)De=Xe,Xe=Me;for(;;){if(Xe===i)break t;if(De===u&&++Re===w&&(Q=V),De===_&&++He===m&&(me=V),(Me=Xe.nextSibling)!==null)break;Xe=De,De=Xe.parentNode}Xe=Me}u=Q===-1||me===-1?null:{start:Q,end:me}}else u=null}u=u||{start:0,end:0}}else u=null;for(kb={focusedElem:i,selectionRange:u},u0=!1,va=l;va!==null;)if(l=va,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,va=i;else for(;va!==null;){switch(l=va,_=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)w=i[u],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,u=l,w=_.memoizedProps,_=_.memoizedState,m=u.stateNode;try{var yt=Du(u.type,w);i=m.getSnapshotBeforeUpdate(yt,_),m.__reactInternalSnapshotBeforeUpdate=i}catch(Xt){dr(u,u.return,Xt)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,u=i.nodeType,u===9)Lb(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Lb(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=l.sibling,i!==null){i.return=l.return,va=i;break}va=l.return}}function T5(i,l,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:Lc(i,u),m&4&&Dm(5,u);break;case 1:if(Lc(i,u),m&4)if(i=u.stateNode,l===null)try{i.componentDidMount()}catch(V){dr(u,u.return,V)}else{var w=Du(u.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(w,l,i.__reactInternalSnapshotBeforeUpdate)}catch(V){dr(u,u.return,V)}}m&64&&N5(u),m&512&&Mm(u,u.return);break;case 3:if(Lc(i,u),m&64&&(i=u.updateQueue,i!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{hs(i,l)}catch(V){dr(u,u.return,V)}}break;case 27:l===null&&m&4&&E5(u);case 26:case 5:Lc(i,u),l===null&&m&4&&_5(u),m&512&&Mm(u,u.return);break;case 12:Lc(i,u);break;case 31:Lc(i,u),m&4&&k5(i,u);break;case 13:Lc(i,u),m&4&&R5(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=NI.bind(null,u),BI(i,u))));break;case 22:if(m=u.memoizedState!==null||Rc,!m){l=l!==null&&l.memoizedState!==null||Us,w=Rc;var _=Us;Rc=m,(Us=l)&&!_?Dc(i,u,(u.subtreeFlags&8772)!==0):Lc(i,u),Rc=w,Us=_}break;case 30:break;default:Lc(i,u)}}function C5(i){var l=i.alternate;l!==null&&(i.alternate=null,C5(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Ji(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var $r=null,Oi=!1;function Pc(i,l,u){for(u=u.child;u!==null;)I5(i,l,u),u=u.sibling}function I5(i,l,u){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(cn,u)}catch{}switch(u.tag){case 26:Us||Hl(u,l),Pc(i,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Us||Hl(u,l);var m=$r,w=Oi;Pd(u.type)&&($r=u.stateNode,Oi=!1),Pc(i,l,u),Hm(u.stateNode),$r=m,Oi=w;break;case 5:Us||Hl(u,l);case 6:if(m=$r,w=Oi,$r=null,Pc(i,l,u),$r=m,Oi=w,$r!==null)if(Oi)try{($r.nodeType===9?$r.body:$r.nodeName==="HTML"?$r.ownerDocument.body:$r).removeChild(u.stateNode)}catch(_){dr(u,l,_)}else try{$r.removeChild(u.stateNode)}catch(_){dr(u,l,_)}break;case 18:$r!==null&&(Oi?(i=$r,NN(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),of(i)):NN($r,u.stateNode));break;case 4:m=$r,w=Oi,$r=u.stateNode.containerInfo,Oi=!0,Pc(i,l,u),$r=m,Oi=w;break;case 0:case 11:case 14:case 15:Ed(2,u,l),Us||Ed(4,u,l),Pc(i,l,u);break;case 1:Us||(Hl(u,l),m=u.stateNode,typeof m.componentWillUnmount=="function"&&j5(u,l,m)),Pc(i,l,u);break;case 21:Pc(i,l,u);break;case 22:Us=(m=Us)||u.memoizedState!==null,Pc(i,l,u),Us=m;break;default:Pc(i,l,u)}}function k5(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{of(i)}catch(u){dr(l,l.return,u)}}}function R5(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{of(i)}catch(u){dr(l,l.return,u)}}function mI(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new A5),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new A5),l;default:throw Error(s(435,i.tag))}}function Hp(i,l){var u=mI(i);l.forEach(function(m){if(!u.has(m)){u.add(m);var w=jI.bind(null,i,m);m.then(w,w)}})}function Fi(i,l){var u=l.deletions;if(u!==null)for(var m=0;m<u.length;m++){var w=u[m],_=i,V=l,Q=V;e:for(;Q!==null;){switch(Q.tag){case 27:if(Pd(Q.type)){$r=Q.stateNode,Oi=!1;break e}break;case 5:$r=Q.stateNode,Oi=!1;break e;case 3:case 4:$r=Q.stateNode.containerInfo,Oi=!0;break e}Q=Q.return}if($r===null)throw Error(s(160));I5(_,V,w),$r=null,Oi=!1,_=w.alternate,_!==null&&(_.return=null),w.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)P5(l,i),l=l.sibling}var fl=null;function P5(i,l){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Fi(l,i),Ui(i),m&4&&(Ed(3,i,i.return),Dm(3,i),Ed(5,i,i.return));break;case 1:Fi(l,i),Ui(i),m&512&&(Us||u===null||Hl(u,u.return)),m&64&&Rc&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var w=fl;if(Fi(l,i),Ui(i),m&512&&(Us||u===null||Hl(u,u.return)),m&4){var _=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":_=w.getElementsByTagName("title")[0],(!_||_[ua]||_[$n]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=w.createElement(m),w.head.insertBefore(_,w.querySelector("head > title"))),Fa(_,m,u),_[$n]=i,Pr(_),m=_;break e;case"link":var V=PN("link","href",w).get(m+(u.href||""));if(V){for(var Q=0;Q<V.length;Q++)if(_=V[Q],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){V.splice(Q,1);break t}}_=w.createElement(m),Fa(_,m,u),w.head.appendChild(_);break;case"meta":if(V=PN("meta","content",w).get(m+(u.content||""))){for(Q=0;Q<V.length;Q++)if(_=V[Q],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){V.splice(Q,1);break t}}_=w.createElement(m),Fa(_,m,u),w.head.appendChild(_);break;default:throw Error(s(468,m))}_[$n]=i,Pr(_),m=_}i.stateNode=m}else LN(w,i.type,i.stateNode);else i.stateNode=RN(w,m,i.memoizedProps);else _!==m?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,m===null?LN(w,i.type,i.stateNode):RN(w,m,i.memoizedProps)):m===null&&i.stateNode!==null&&ib(i,i.memoizedProps,u.memoizedProps)}break;case 27:Fi(l,i),Ui(i),m&512&&(Us||u===null||Hl(u,u.return)),u!==null&&m&4&&ib(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Fi(l,i),Ui(i),m&512&&(Us||u===null||Hl(u,u.return)),i.flags&32){w=i.stateNode;try{ws(w,"")}catch(yt){dr(i,i.return,yt)}}m&4&&i.stateNode!=null&&(w=i.memoizedProps,ib(i,w,u!==null?u.memoizedProps:w)),m&1024&&(cb=!0);break;case 6:if(Fi(l,i),Ui(i),m&4){if(i.stateNode===null)throw Error(s(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(yt){dr(i,i.return,yt)}}break;case 3:if(o0=null,w=fl,fl=a0(l.containerInfo),Fi(l,i),fl=w,Ui(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{of(l.containerInfo)}catch(yt){dr(i,i.return,yt)}cb&&(cb=!1,L5(i));break;case 4:m=fl,fl=a0(i.stateNode.containerInfo),Fi(l,i),Ui(i),fl=m;break;case 12:Fi(l,i),Ui(i);break;case 31:Fi(l,i),Ui(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Hp(i,m)));break;case 13:Fi(l,i),Ui(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Wp=an()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Hp(i,m)));break;case 22:w=i.memoizedState!==null;var me=u!==null&&u.memoizedState!==null,Re=Rc,He=Us;if(Rc=Re||w,Us=He||me,Fi(l,i),Us=He,Rc=Re,Ui(i),m&8192)e:for(l=i.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(u===null||me||Rc||Us||Mu(i)),u=null,l=i;;){if(l.tag===5||l.tag===26){if(u===null){me=u=l;try{if(_=me.stateNode,w)V=_.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{Q=me.stateNode;var Xe=me.memoizedProps.style,De=Xe!=null&&Xe.hasOwnProperty("display")?Xe.display:null;Q.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(yt){dr(me,me.return,yt)}}}else if(l.tag===6){if(u===null){me=l;try{me.stateNode.nodeValue=w?"":me.memoizedProps}catch(yt){dr(me,me.return,yt)}}}else if(l.tag===18){if(u===null){me=l;try{var Me=me.stateNode;w?jN(Me,!0):jN(me.stateNode,!1)}catch(yt){dr(me,me.return,yt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Hp(i,u))));break;case 19:Fi(l,i),Ui(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Hp(i,m)));break;case 30:break;case 21:break;default:Fi(l,i),Ui(i)}}function Ui(i){var l=i.flags;if(l&2){try{for(var u,m=i.return;m!==null;){if(S5(m)){u=m;break}m=m.return}if(u==null)throw Error(s(160));switch(u.tag){case 27:var w=u.stateNode,_=ob(i);Gp(i,_,w);break;case 5:var V=u.stateNode;u.flags&32&&(ws(V,""),u.flags&=-33);var Q=ob(i);Gp(i,Q,V);break;case 3:case 4:var me=u.stateNode.containerInfo,Re=ob(i);lb(i,Re,me);break;default:throw Error(s(161))}}catch(He){dr(i,i.return,He)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function L5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;L5(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function Lc(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)T5(i,l.alternate,l),l=l.sibling}function Mu(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:Ed(4,l,l.return),Mu(l);break;case 1:Hl(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&j5(l,l.return,u),Mu(l);break;case 27:Hm(l.stateNode);case 26:case 5:Hl(l,l.return),Mu(l);break;case 22:l.memoizedState===null&&Mu(l);break;case 30:Mu(l);break;default:Mu(l)}i=i.sibling}}function Dc(i,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,w=i,_=l,V=_.flags;switch(_.tag){case 0:case 11:case 15:Dc(w,_,u),Dm(4,_);break;case 1:if(Dc(w,_,u),m=_,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Re){dr(m,m.return,Re)}if(m=_,w=m.updateQueue,w!==null){var Q=m.stateNode;try{var me=w.shared.hiddenCallbacks;if(me!==null)for(w.shared.hiddenCallbacks=null,w=0;w<me.length;w++)ya(me[w],Q)}catch(Re){dr(m,m.return,Re)}}u&&V&64&&N5(_),Mm(_,_.return);break;case 27:E5(_);case 26:case 5:Dc(w,_,u),u&&m===null&&V&4&&_5(_),Mm(_,_.return);break;case 12:Dc(w,_,u);break;case 31:Dc(w,_,u),u&&V&4&&k5(w,_);break;case 13:Dc(w,_,u),u&&V&4&&R5(w,_);break;case 22:_.memoizedState===null&&Dc(w,_,u),Mm(_,_.return);break;case 30:break;default:Dc(w,_,u)}l=l.sibling}}function db(i,l){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&ku(u))}function ub(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&ku(i))}function ml(i,l,u,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)D5(i,l,u,m),l=l.sibling}function D5(i,l,u,m){var w=l.flags;switch(l.tag){case 0:case 11:case 15:ml(i,l,u,m),w&2048&&Dm(9,l);break;case 1:ml(i,l,u,m);break;case 3:ml(i,l,u,m),w&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&ku(i)));break;case 12:if(w&2048){ml(i,l,u,m),i=l.stateNode;try{var _=l.memoizedProps,V=_.id,Q=_.onPostCommit;typeof Q=="function"&&Q(V,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(me){dr(l,l.return,me)}}else ml(i,l,u,m);break;case 31:ml(i,l,u,m);break;case 13:ml(i,l,u,m);break;case 23:break;case 22:_=l.stateNode,V=l.alternate,l.memoizedState!==null?_._visibility&2?ml(i,l,u,m):Om(i,l):_._visibility&2?ml(i,l,u,m):(_._visibility|=2,Yh(i,l,u,m,(l.subtreeFlags&10256)!==0||!1)),w&2048&&db(V,l);break;case 24:ml(i,l,u,m),w&2048&&ub(l.alternate,l);break;default:ml(i,l,u,m)}}function Yh(i,l,u,m,w){for(w=w&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var _=i,V=l,Q=u,me=m,Re=V.flags;switch(V.tag){case 0:case 11:case 15:Yh(_,V,Q,me,w),Dm(8,V);break;case 23:break;case 22:var He=V.stateNode;V.memoizedState!==null?He._visibility&2?Yh(_,V,Q,me,w):Om(_,V):(He._visibility|=2,Yh(_,V,Q,me,w)),w&&Re&2048&&db(V.alternate,V);break;case 24:Yh(_,V,Q,me,w),w&&Re&2048&&ub(V.alternate,V);break;default:Yh(_,V,Q,me,w)}l=l.sibling}}function Om(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=i,m=l,w=m.flags;switch(m.tag){case 22:Om(u,m),w&2048&&db(m.alternate,m);break;case 24:Om(u,m),w&2048&&ub(m.alternate,m);break;default:Om(u,m)}l=l.sibling}}var Fm=8192;function Xh(i,l,u){if(i.subtreeFlags&Fm)for(i=i.child;i!==null;)M5(i,l,u),i=i.sibling}function M5(i,l,u){switch(i.tag){case 26:Xh(i,l,u),i.flags&Fm&&i.memoizedState!==null&&ek(u,fl,i.memoizedState,i.memoizedProps);break;case 5:Xh(i,l,u);break;case 3:case 4:var m=fl;fl=a0(i.stateNode.containerInfo),Xh(i,l,u),fl=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=Fm,Fm=16777216,Xh(i,l,u),Fm=m):Xh(i,l,u));break;default:Xh(i,l,u)}}function O5(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function Um(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];va=m,U5(m,i)}O5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)F5(i),i=i.sibling}function F5(i){switch(i.tag){case 0:case 11:case 15:Um(i),i.flags&2048&&Ed(9,i,i.return);break;case 3:Um(i);break;case 12:Um(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,$p(i)):Um(i);break;default:Um(i)}}function $p(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];va=m,U5(m,i)}O5(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:Ed(8,l,l.return),$p(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,$p(l));break;default:$p(l)}i=i.sibling}}function U5(i,l){for(;va!==null;){var u=va;switch(u.tag){case 0:case 11:case 15:Ed(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:ku(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,va=m;else e:for(u=i;va!==null;){m=va;var w=m.sibling,_=m.return;if(C5(m),m===u){va=null;break e}if(w!==null){w.return=_,va=w;break e}va=_}}}var gI={getCacheForType:function(i){var l=ta(es),u=l.data.get(i);return u===void 0&&(u=i(),l.data.set(i,u)),u},cacheSignal:function(){return ta(es).controller.signal}},pI=typeof WeakMap=="function"?WeakMap:Map,er=0,Tr=null,Cn=null,Rn=0,cr=0,lo=null,Ad=!1,Qh=!1,hb=!1,Mc=0,ps=0,Td=0,Ou=0,fb=0,co=0,Jh=0,Vm=null,Vi=null,mb=!1,Wp=0,V5=0,Kp=1/0,Yp=null,Cd=null,ra=0,Id=null,Zh=null,Oc=0,gb=0,pb=null,z5=null,zm=0,xb=null;function uo(){return(er&2)!==0&&Rn!==0?Rn&-Rn:ie.T!==null?jb():ls()}function B5(){if(co===0)if((Rn&536870912)===0||Tn){var i=Hn;Hn<<=1,(Hn&3932160)===0&&(Hn=262144),co=i}else co=536870912;return i=Mr.current,i!==null&&(i.flags|=32),co}function zi(i,l,u){(i===Tr&&(cr===2||cr===9)||i.cancelPendingCommit!==null)&&(ef(i,0),kd(i,Rn,co,!1)),Pt(i,u),((er&2)===0||i!==Tr)&&(i===Tr&&((er&2)===0&&(Ou|=u),ps===4&&kd(i,Rn,co,!1)),$l(i))}function q5(i,l,u){if((er&6)!==0)throw Error(s(327));var m=!u&&(l&127)===0&&(l&i.expiredLanes)===0||Hs(i,l),w=m?bI(i,l):bb(i,l,!0),_=m;do{if(w===0){Qh&&!m&&kd(i,l,0,!1);break}else{if(u=i.current.alternate,_&&!xI(u)){w=bb(i,l,!1),_=!1;continue}if(w===2){if(_=l,i.errorRecoveryDisabledLanes&_)var V=0;else V=i.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){l=V;e:{var Q=i;w=Vm;var me=Q.current.memoizedState.isDehydrated;if(me&&(ef(Q,V).flags|=256),V=bb(Q,V,!1),V!==2){if(hb&&!me){Q.errorRecoveryDisabledLanes|=_,Ou|=_,w=4;break e}_=Vi,Vi=w,_!==null&&(Vi===null?Vi=_:Vi.push.apply(Vi,_))}w=V}if(_=!1,w!==2)continue}}if(w===1){ef(i,0),kd(i,l,0,!0);break}e:{switch(m=i,_=w,_){case 0:case 1:throw Error(s(345));case 4:if((l&4194048)!==l)break;case 6:kd(m,l,co,!Ad);break e;case 2:Vi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((l&62914560)===l&&(w=Wp+300-an(),10<w)){if(kd(m,l,co,!Ad),yn(m,0,!0)!==0)break e;Oc=l,m.timeoutHandle=vN(G5.bind(null,m,u,Vi,Yp,mb,l,co,Ou,Jh,Ad,_,"Throttled",-0,0),w);break e}G5(m,u,Vi,Yp,mb,l,co,Ou,Jh,Ad,_,null,-0,0)}}break}while(!0);$l(i)}function G5(i,l,u,m,w,_,V,Q,me,Re,He,Xe,De,Me){if(i.timeoutHandle=-1,Xe=l.subtreeFlags,Xe&8192||(Xe&16785408)===16785408){Xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},M5(l,_,Xe);var yt=(_&62914560)===_?Wp-an():(_&4194048)===_?V5-an():0;if(yt=tk(Xe,yt),yt!==null){Oc=_,i.cancelPendingCommit=yt(J5.bind(null,i,l,_,u,m,w,V,Q,me,He,Xe,null,De,Me)),kd(i,_,V,!Re);return}}J5(i,l,_,u,m,w,V,Q,me)}function xI(i){for(var l=i;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var w=u[m],_=w.getSnapshot;w=w.value;try{if(!Qs(_(),w))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function kd(i,l,u,m){l&=~fb,l&=~Ou,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var w=l;0<w;){var _=31-on(w),V=1<<_;m[_]=-1,w&=~V}u!==0&&Sa(i,u,l)}function Xp(){return(er&6)===0?(Bm(0),!1):!0}function yb(){if(Cn!==null){if(cr===0)var i=Cn.return;else i=Cn,Lo=Ol=null,Bh(i),Qe=null,wt=0,i=Cn;for(;i!==null;)w5(i.alternate,i),i=i.return;Cn=null}}function ef(i,l){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,OI(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Oc=0,yb(),Tr=i,Cn=u=Ci(i.current,null),Rn=l,cr=0,lo=null,Ad=!1,Qh=Hs(i,l),hb=!1,Jh=co=fb=Ou=Td=ps=0,Vi=Vm=null,mb=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var w=31-on(m),_=1<<w;l|=i[w],m&=~_}return Mc=l,Su(),u}function H5(i,l){Ut=null,ie.H=Rm,l===xe||l===oe?(l=We(),cr=3):l===Ce?(l=We(),cr=4):cr=l===Xy?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,lo=l,Cn===null&&(ps=1,Up(i,Ii(l,i.current)))}function $5(){var i=Mr.current;return i===null?!0:(Rn&4194048)===Rn?Un===null:(Rn&62914560)===Rn||(Rn&536870912)!==0?i===Un:!1}function W5(){var i=ie.H;return ie.H=Rm,i===null?Rm:i}function K5(){var i=ie.A;return ie.A=gI,i}function Qp(){ps=4,Ad||(Rn&4194048)!==Rn&&Mr.current!==null||(Qh=!0),(Td&134217727)===0&&(Ou&134217727)===0||Tr===null||kd(Tr,Rn,co,!1)}function bb(i,l,u){var m=er;er|=2;var w=W5(),_=K5();(Tr!==i||Rn!==l)&&(Yp=null,ef(i,l)),l=!1;var V=ps;e:do try{if(cr!==0&&Cn!==null){var Q=Cn,me=lo;switch(cr){case 8:yb(),V=6;break e;case 3:case 2:case 9:case 6:Mr.current===null&&(l=!0);var Re=cr;if(cr=0,lo=null,tf(i,Q,me,Re),u&&Qh){V=0;break e}break;default:Re=cr,cr=0,lo=null,tf(i,Q,me,Re)}}yI(),V=ps;break}catch(He){H5(i,He)}while(!0);return l&&i.shellSuspendCounter++,Lo=Ol=null,er=m,ie.H=w,ie.A=_,Cn===null&&(Tr=null,Rn=0,Su()),V}function yI(){for(;Cn!==null;)Y5(Cn)}function bI(i,l){var u=er;er|=2;var m=W5(),w=K5();Tr!==i||Rn!==l?(Yp=null,Kp=an()+500,ef(i,l)):Qh=Hs(i,l);e:do try{if(cr!==0&&Cn!==null){l=Cn;var _=lo;t:switch(cr){case 1:cr=0,lo=null,tf(i,l,_,1);break;case 2:case 9:if(Ee(_)){cr=0,lo=null,X5(l);break}l=function(){cr!==2&&cr!==9||Tr!==i||(cr=7),$l(i)},_.then(l,l);break e;case 3:cr=7;break e;case 4:cr=5;break e;case 7:Ee(_)?(cr=0,lo=null,X5(l)):(cr=0,lo=null,tf(i,l,_,7));break;case 5:var V=null;switch(Cn.tag){case 26:V=Cn.memoizedState;case 5:case 27:var Q=Cn;if(V?DN(V):Q.stateNode.complete){cr=0,lo=null;var me=Q.sibling;if(me!==null)Cn=me;else{var Re=Q.return;Re!==null?(Cn=Re,Jp(Re)):Cn=null}break t}}cr=0,lo=null,tf(i,l,_,5);break;case 6:cr=0,lo=null,tf(i,l,_,6);break;case 8:yb(),ps=6;break e;default:throw Error(s(462))}}vI();break}catch(He){H5(i,He)}while(!0);return Lo=Ol=null,ie.H=m,ie.A=w,er=u,Cn!==null?0:(Tr=null,Rn=0,Su(),ps)}function vI(){for(;Cn!==null&&!mt();)Y5(Cn)}function Y5(i){var l=b5(i.alternate,i,Mc);i.memoizedProps=i.pendingProps,l===null?Jp(i):Cn=l}function X5(i){var l=i,u=l.alternate;switch(l.tag){case 15:case 0:l=f5(u,l,l.pendingProps,l.type,void 0,Rn);break;case 11:l=f5(u,l,l.pendingProps,l.type.render,l.ref,Rn);break;case 5:Bh(l);default:w5(u,l),l=Cn=Tu(l,Mc),l=b5(u,l,Mc)}i.memoizedProps=i.pendingProps,l===null?Jp(i):Cn=l}function tf(i,l,u,m){Lo=Ol=null,Bh(l),Qe=null,wt=0;var w=l.return;try{if(lI(i,w,l,u,Rn)){ps=1,Up(i,Ii(u,i.current)),Cn=null;return}}catch(_){if(w!==null)throw Cn=w,_;ps=1,Up(i,Ii(u,i.current)),Cn=null;return}l.flags&32768?(Tn||m===1?i=!0:Qh||(Rn&536870912)!==0?i=!1:(Ad=i=!0,(m===2||m===9||m===3||m===6)&&(m=Mr.current,m!==null&&m.tag===13&&(m.flags|=16384))),Q5(l,i)):Jp(l)}function Jp(i){var l=i;do{if((l.flags&32768)!==0){Q5(l,Ad);return}i=l.return;var u=uI(l.alternate,l,Mc);if(u!==null){Cn=u;return}if(l=l.sibling,l!==null){Cn=l;return}Cn=l=i}while(l!==null);ps===0&&(ps=5)}function Q5(i,l){do{var u=hI(i.alternate,i);if(u!==null){u.flags&=32767,Cn=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(i=i.sibling,i!==null)){Cn=i;return}Cn=i=u}while(i!==null);ps=6,Cn=null}function J5(i,l,u,m,w,_,V,Q,me){i.cancelPendingCommit=null;do Zp();while(ra!==0);if((er&6)!==0)throw Error(s(327));if(l!==null){if(l===i.current)throw Error(s(177));if(_=l.lanes|l.childLanes,_|=Th,Qi(i,u,_,V,Q,me),i===Tr&&(Cn=Tr=null,Rn=0),Zh=l,Id=i,Oc=u,gb=_,pb=w,z5=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,_I(ln,function(){return rN(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=ie.T,ie.T=null,w=ge.p,ge.p=2,V=er,er|=4;try{fI(i,l,u)}finally{er=V,ge.p=w,ie.T=m}}ra=1,Z5(),eN(),tN()}}function Z5(){if(ra===1){ra=0;var i=Id,l=Zh,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=ie.T,ie.T=null;var m=ge.p;ge.p=2;var w=er;er|=4;try{P5(l,i);var _=kb,V=al(i.containerInfo),Q=_.focusedElem,me=_.selectionRange;if(V!==Q&&Q&&Q.ownerDocument&&sl(Q.ownerDocument.documentElement,Q)){if(me!==null&&Ro(Q)){var Re=me.start,He=me.end;if(He===void 0&&(He=Re),"selectionStart"in Q)Q.selectionStart=Re,Q.selectionEnd=Math.min(He,Q.value.length);else{var Xe=Q.ownerDocument||document,De=Xe&&Xe.defaultView||window;if(De.getSelection){var Me=De.getSelection(),yt=Q.textContent.length,Xt=Math.min(me.start,yt),jr=me.end===void 0?Xt:Math.min(me.end,yt);!Me.extend&&Xt>jr&&(V=jr,jr=Xt,Xt=V);var _e=gd(Q,Xt),ye=gd(Q,jr);if(_e&&ye&&(Me.rangeCount!==1||Me.anchorNode!==_e.node||Me.anchorOffset!==_e.offset||Me.focusNode!==ye.node||Me.focusOffset!==ye.offset)){var Ie=Xe.createRange();Ie.setStart(_e.node,_e.offset),Me.removeAllRanges(),Xt>jr?(Me.addRange(Ie),Me.extend(ye.node,ye.offset)):(Ie.setEnd(ye.node,ye.offset),Me.addRange(Ie))}}}}for(Xe=[],Me=Q;Me=Me.parentNode;)Me.nodeType===1&&Xe.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Xe.length;Q++){var Ke=Xe[Q];Ke.element.scrollLeft=Ke.left,Ke.element.scrollTop=Ke.top}}u0=!!Ib,kb=Ib=null}finally{er=w,ge.p=m,ie.T=u}}i.current=l,ra=2}}function eN(){if(ra===2){ra=0;var i=Id,l=Zh,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=ie.T,ie.T=null;var m=ge.p;ge.p=2;var w=er;er|=4;try{T5(i,l.alternate,l)}finally{er=w,ge.p=m,ie.T=u}}ra=3}}function tN(){if(ra===4||ra===3){ra=0,It();var i=Id,l=Zh,u=Oc,m=z5;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ra=5:(ra=0,Zh=Id=null,nN(i,i.pendingLanes));var w=i.pendingLanes;if(w===0&&(Cd=null),pr(u),l=l.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(cn,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=ie.T,w=ge.p,ge.p=2,ie.T=null;try{for(var _=i.onRecoverableError,V=0;V<m.length;V++){var Q=m[V];_(Q.value,{componentStack:Q.stack})}}finally{ie.T=l,ge.p=w}}(Oc&3)!==0&&Zp(),$l(i),w=i.pendingLanes,(u&261930)!==0&&(w&42)!==0?i===xb?zm++:(zm=0,xb=i):zm=0,Bm(0)}}function nN(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,ku(l)))}function Zp(){return Z5(),eN(),tN(),rN()}function rN(){if(ra!==5)return!1;var i=Id,l=gb;gb=0;var u=pr(Oc),m=ie.T,w=ge.p;try{ge.p=32>u?32:u,ie.T=null,u=pb,pb=null;var _=Id,V=Oc;if(ra=0,Zh=Id=null,Oc=0,(er&6)!==0)throw Error(s(331));var Q=er;if(er|=4,F5(_.current),D5(_,_.current,V,u),er=Q,Bm(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(cn,_)}catch{}return!0}finally{ge.p=w,ie.T=m,nN(i,l)}}function sN(i,l,u){l=Ii(u,l),l=Yy(i.stateNode,l,2),i=pn(i,l,2),i!==null&&(Pt(i,2),$l(i))}function dr(i,l,u){if(i.tag===3)sN(i,i,u);else for(;l!==null;){if(l.tag===3){sN(l,i,u);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Cd===null||!Cd.has(m))){i=Ii(u,i),u=a5(2),m=pn(l,u,2),m!==null&&(i5(u,m,l,i),Pt(m,2),$l(m));break}}l=l.return}}function vb(i,l,u){var m=i.pingCache;if(m===null){m=i.pingCache=new pI;var w=new Set;m.set(l,w)}else w=m.get(l),w===void 0&&(w=new Set,m.set(l,w));w.has(u)||(hb=!0,w.add(u),i=wI.bind(null,i,l,u),l.then(i,i))}function wI(i,l,u){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Tr===i&&(Rn&u)===u&&(ps===4||ps===3&&(Rn&62914560)===Rn&&300>an()-Wp?(er&2)===0&&ef(i,0):fb|=u,Jh===Rn&&(Jh=0)),$l(i)}function aN(i,l){l===0&&(l=wi()),i=ol(i,l),i!==null&&(Pt(i,l),$l(i))}function NI(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),aN(i,u)}function jI(i,l){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,w=i.memoizedState;w!==null&&(u=w.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(s(314))}m!==null&&m.delete(l),aN(i,u)}function _I(i,l){return dt(i,l)}var e0=null,nf=null,wb=!1,t0=!1,Nb=!1,Rd=0;function $l(i){i!==nf&&i.next===null&&(nf===null?e0=nf=i:nf=nf.next=i),t0=!0,wb||(wb=!0,EI())}function Bm(i,l){if(!Nb&&t0){Nb=!0;do for(var u=!1,m=e0;m!==null;){if(i!==0){var w=m.pendingLanes;if(w===0)var _=0;else{var V=m.suspendedLanes,Q=m.pingedLanes;_=(1<<31-on(42|i)+1)-1,_&=w&~(V&~Q),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,cN(m,_))}else _=Rn,_=yn(m,m===Tr?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||Hs(m,_)||(u=!0,cN(m,_));m=m.next}while(u);Nb=!1}}function SI(){iN()}function iN(){t0=wb=!1;var i=0;Rd!==0&&MI()&&(i=Rd);for(var l=an(),u=null,m=e0;m!==null;){var w=m.next,_=oN(m,l);_===0?(m.next=null,u===null?e0=w:u.next=w,w===null&&(nf=u)):(u=m,(i!==0||(_&3)!==0)&&(t0=!0)),m=w}ra!==0&&ra!==5||Bm(i),Rd!==0&&(Rd=0)}function oN(i,l){for(var u=i.suspendedLanes,m=i.pingedLanes,w=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var V=31-on(_),Q=1<<V,me=w[V];me===-1?((Q&u)===0||(Q&m)!==0)&&(w[V]=Rs(Q,l)):me<=l&&(i.expiredLanes|=Q),_&=~Q}if(l=Tr,u=Rn,u=yn(i,i===l?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===l&&(cr===2||cr===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&ct(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Hs(i,u)){if(l=u&-u,l===i.callbackPriority)return l;switch(m!==null&&ct(m),pr(u)){case 2:case 8:u=xn;break;case 32:u=ln;break;case 268435456:u=tn;break;default:u=ln}return m=lN.bind(null,i),u=dt(u,m),i.callbackPriority=l,i.callbackNode=u,l}return m!==null&&m!==null&&ct(m),i.callbackPriority=2,i.callbackNode=null,2}function lN(i,l){if(ra!==0&&ra!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Zp()&&i.callbackNode!==u)return null;var m=Rn;return m=yn(i,i===Tr?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(q5(i,m,l),oN(i,an()),i.callbackNode!=null&&i.callbackNode===u?lN.bind(null,i):null)}function cN(i,l){if(Zp())return null;q5(i,l,!0)}function EI(){FI(function(){(er&6)!==0?dt(Jt,SI):iN()})}function jb(){if(Rd===0){var i=x;i===0&&(i=Gt,Gt<<=1,(Gt&261888)===0&&(Gt=256)),Rd=i}return Rd}function dN(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:fa(""+i)}function uN(i,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,i.id&&u.setAttribute("form",i.id),l.parentNode.insertBefore(u,l),i=new FormData(i),u.parentNode.removeChild(u),i}function AI(i,l,u,m,w){if(l==="submit"&&u&&u.stateNode===w){var _=dN((w[ir]||null).action),V=m.submitter;V&&(l=(l=V[ir]||null)?dN(l.formAction):V.getAttribute("formAction"),l!==null&&(_=l,V=null));var Q=new Ds("action","action",null,m,w);i.push({event:Q,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Rd!==0){var me=V?uN(w,V):new FormData(w);qy(u,{pending:!0,data:me,method:w.method,action:_},null,me)}}else typeof _=="function"&&(Q.preventDefault(),me=V?uN(w,V):new FormData(w),qy(u,{pending:!0,data:me,method:w.method,action:_},_,me))},currentTarget:w}]})}}for(var _b=0;_b<Nc.length;_b++){var Sb=Nc[_b],TI=Sb.toLowerCase(),CI=Sb[0].toUpperCase()+Sb.slice(1);Ti(TI,"on"+CI)}Ti(wc,"onAnimationEnd"),Ti(ju,"onAnimationIteration"),Ti(xm,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(Ep,"onTransitionRun"),Ti(Ap,"onTransitionStart"),Ti(Tp,"onTransitionCancel"),Ti(ym,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),II=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qm));function hN(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],w=m.event;m=m.listeners;e:{var _=void 0;if(l)for(var V=m.length-1;0<=V;V--){var Q=m[V],me=Q.instance,Re=Q.currentTarget;if(Q=Q.listener,me!==_&&w.isPropagationStopped())break e;_=Q,w.currentTarget=Re;try{_(w)}catch(He){_u(He)}w.currentTarget=null,_=me}else for(V=0;V<m.length;V++){if(Q=m[V],me=Q.instance,Re=Q.currentTarget,Q=Q.listener,me!==_&&w.isPropagationStopped())break e;_=Q,w.currentTarget=Re;try{_(w)}catch(He){_u(He)}w.currentTarget=null,_=me}}}}function In(i,l){var u=l[da];u===void 0&&(u=l[da]=new Set);var m=i+"__bubble";u.has(m)||(fN(l,i,2,!1),u.add(m))}function Eb(i,l,u){var m=0;l&&(m|=4),fN(u,i,m,l)}var n0="_reactListening"+Math.random().toString(36).slice(2);function Ab(i){if(!i[n0]){i[n0]=!0,Sl.forEach(function(u){u!=="selectionchange"&&(II.has(u)||Eb(u,!1,i),Eb(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[n0]||(l[n0]=!0,Eb("selectionchange",!1,l))}}function fN(i,l,u,m){switch(BN(l)){case 2:var w=sk;break;case 8:w=ak;break;default:w=Bb}u=w.bind(null,l,u,i),w=void 0,!Qo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),m?w!==void 0?i.addEventListener(l,u,{capture:!0,passive:w}):i.addEventListener(l,u,!0):w!==void 0?i.addEventListener(l,u,{passive:w}):i.addEventListener(l,u,!1)}function Tb(i,l,u,m,w){var _=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var V=m.tag;if(V===3||V===4){var Q=m.stateNode.containerInfo;if(Q===w)break;if(V===4)for(V=m.return;V!==null;){var me=V.tag;if((me===3||me===4)&&V.stateNode.containerInfo===w)return;V=V.return}for(;Q!==null;){if(V=Ea(Q),V===null)return;if(me=V.tag,me===5||me===6||me===26||me===27){m=_=V;continue e}Q=Q.parentNode}}m=m.return}_o(function(){var Re=_,He=ma(u),Xe=[];e:{var De=bm.get(i);if(De!==void 0){var Me=Ds,yt=i;switch(i){case"keypress":if(Ia(u)===0)break e;case"keydown":case"keyup":Me=En;break;case"focusin":yt="focus",Me=di;break;case"focusout":yt="blur",Me=di;break;case"beforeblur":case"afterblur":Me=di;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=Ei;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=R;break;case wc:case ju:case xm:Me=T;break;case ym:Me=ne;break;case"scroll":case"scrollend":Me=So;break;case"wheel":Me=Le;break;case"copy":case"cut":case"paste":Me=ce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=rr;break;case"toggle":case"beforetoggle":Me=en}var Xt=(l&4)!==0,jr=!Xt&&(i==="scroll"||i==="scrollend"),_e=Xt?De!==null?De+"Capture":null:De;Xt=[];for(var ye=Re,Ie;ye!==null;){var Ke=ye;if(Ie=Ke.stateNode,Ke=Ke.tag,Ke!==5&&Ke!==26&&Ke!==27||Ie===null||_e===null||(Ke=Ns(ye,_e),Ke!=null&&Xt.push(Gm(ye,Ke,Ie))),jr)break;ye=ye.return}0<Xt.length&&(De=new Me(De,yt,null,u,He),Xe.push({event:De,listeners:Xt}))}}if((l&7)===0){e:{if(De=i==="mouseover"||i==="pointerover",Me=i==="mouseout"||i==="pointerout",De&&u!==no&&(yt=u.relatedTarget||u.fromElement)&&(Ea(yt)||yt[cs]))break e;if((Me||De)&&(De=He.window===He?He:(De=He.ownerDocument)?De.defaultView||De.parentWindow:window,Me?(yt=u.relatedTarget||u.toElement,Me=Re,yt=yt?Ea(yt):null,yt!==null&&(jr=o(yt),Xt=yt.tag,yt!==jr||Xt!==5&&Xt!==27&&Xt!==6)&&(yt=null)):(Me=null,yt=Re),Me!==yt)){if(Xt=kl,Ke="onMouseLeave",_e="onMouseEnter",ye="mouse",(i==="pointerout"||i==="pointerover")&&(Xt=rr,Ke="onPointerLeave",_e="onPointerEnter",ye="pointer"),jr=Me==null?De:Aa(Me),Ie=yt==null?De:Aa(yt),De=new Xt(Ke,ye+"leave",Me,u,He),De.target=jr,De.relatedTarget=Ie,Ke=null,Ea(He)===Re&&(Xt=new Xt(_e,ye+"enter",yt,u,He),Xt.target=Ie,Xt.relatedTarget=jr,Ke=Xt),jr=Ke,Me&&yt)t:{for(Xt=kI,_e=Me,ye=yt,Ie=0,Ke=_e;Ke;Ke=Xt(Ke))Ie++;Ke=0;for(var Bt=ye;Bt;Bt=Xt(Bt))Ke++;for(;0<Ie-Ke;)_e=Xt(_e),Ie--;for(;0<Ke-Ie;)ye=Xt(ye),Ke--;for(;Ie--;){if(_e===ye||ye!==null&&_e===ye.alternate){Xt=_e;break t}_e=Xt(_e),ye=Xt(ye)}Xt=null}else Xt=null;Me!==null&&mN(Xe,De,Me,Xt,!1),yt!==null&&jr!==null&&mN(Xe,jr,yt,Xt,!0)}}e:{if(De=Re?Aa(Re):window,Me=De.nodeName&&De.nodeName.toLowerCase(),Me==="select"||Me==="input"&&De.type==="file")var Yn=Pl;else if(wu(De))if(Wa)Yn=Io;else{Yn=Jr;var Tt=fd}else Me=De.nodeName,!Me||Me.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Re&&Tl(Re.elementType)&&(Yn=Pl):Yn=Ah;if(Yn&&(Yn=Yn(i,Re))){hi(Xe,Yn,u,He);break e}Tt&&Tt(i,De,Re),i==="focusout"&&Re&&De.type==="number"&&Re.memoizedProps.value!=null&&mc(De,"number",De.value)}switch(Tt=Re?Aa(Re):window,i){case"focusin":(wu(Tt)||Tt.contentEditable==="true")&&(fi=Tt,il=Re,ga=null);break;case"focusout":ga=il=fi=null;break;case"mousedown":Ai=!0;break;case"contextmenu":case"mouseup":case"dragend":Ai=!1,qn(Xe,u,He);break;case"selectionchange":if(vc)break;case"keydown":case"keyup":qn(Xe,u,He)}var bn;if(vn)e:{switch(i){case"compositionstart":var Pn="onCompositionStart";break e;case"compositionend":Pn="onCompositionEnd";break e;case"compositionupdate":Pn="onCompositionUpdate";break e}Pn=void 0}else Ao?ui(i,u)&&(Pn="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Pn="onCompositionStart");Pn&&(Ys&&u.locale!=="ko"&&(Ao||Pn!=="onCompositionStart"?Pn==="onCompositionEnd"&&Ao&&(bn=yc()):(Ca=He,Jo="value"in Ca?Ca.value:Ca.textContent,Ao=!0)),Tt=r0(Re,Pn),0<Tt.length&&(Pn=new we(Pn,i,null,u,He),Xe.push({event:Pn,listeners:Tt}),bn?Pn.data=bn:(bn=Eo(u),bn!==null&&(Pn.data=bn)))),(bn=Ms?Pa(i,u):el(i,u))&&(Pn=r0(Re,"onBeforeInput"),0<Pn.length&&(Tt=new we("onBeforeInput","beforeinput",null,u,He),Xe.push({event:Tt,listeners:Pn}),Tt.data=bn)),AI(Xe,i,Re,u,He)}hN(Xe,l)})}function Gm(i,l,u){return{instance:i,listener:l,currentTarget:u}}function r0(i,l){for(var u=l+"Capture",m=[];i!==null;){var w=i,_=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||_===null||(w=Ns(i,u),w!=null&&m.unshift(Gm(i,w,_)),w=Ns(i,l),w!=null&&m.push(Gm(i,w,_))),i.tag===3)return m;i=i.return}return[]}function kI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function mN(i,l,u,m,w){for(var _=l._reactName,V=[];u!==null&&u!==m;){var Q=u,me=Q.alternate,Re=Q.stateNode;if(Q=Q.tag,me!==null&&me===m)break;Q!==5&&Q!==26&&Q!==27||Re===null||(me=Re,w?(Re=Ns(u,_),Re!=null&&V.unshift(Gm(u,Re,me))):w||(Re=Ns(u,_),Re!=null&&V.push(Gm(u,Re,me)))),u=u.return}V.length!==0&&i.push({event:l,listeners:V})}var RI=/\r\n?/g,PI=/\u0000|\uFFFD/g;function gN(i){return(typeof i=="string"?i:""+i).replace(RI,`
`).replace(PI,"")}function pN(i,l){return l=gN(l),gN(i)===l}function Nr(i,l,u,m,w,_){switch(u){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||ws(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&ws(i,""+m);break;case"className":Ls(i,"class",m);break;case"tabIndex":Ls(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Ls(i,u,m);break;case"style":xc(i,m,_);break;case"data":if(l!=="object"){Ls(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=fa(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(l!=="input"&&Nr(i,l,"name",w.name,w,null),Nr(i,l,"formEncType",w.formEncType,w,null),Nr(i,l,"formMethod",w.formMethod,w,null),Nr(i,l,"formTarget",w.formTarget,w,null)):(Nr(i,l,"encType",w.encType,w,null),Nr(i,l,"method",w.method,w,null),Nr(i,l,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=fa(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=li);break;case"onScroll":m!=null&&In("scroll",i);break;case"onScrollEnd":m!=null&&In("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(w.children!=null)throw Error(s(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=fa(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":In("beforetoggle",i),In("toggle",i),Ta(i,"popover",m);break;case"xlinkActuate":zr(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":zr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":zr(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":zr(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":zr(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":zr(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":zr(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":zr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":zr(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Ta(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Cl.get(u)||u,Ta(i,u,m))}}function Cb(i,l,u,m,w,_){switch(u){case"style":xc(i,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(w.children!=null)throw Error(s(60));i.innerHTML=u}}break;case"children":typeof m=="string"?ws(i,m):(typeof m=="number"||typeof m=="bigint")&&ws(i,""+m);break;case"onScroll":m!=null&&In("scroll",i);break;case"onScrollEnd":m!=null&&In("scrollend",i);break;case"onClick":m!=null&&(i.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ha.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(w=u.endsWith("Capture"),l=u.slice(2,w?u.length-7:void 0),_=i[ir]||null,_=_!=null?_[u]:null,typeof _=="function"&&i.removeEventListener(l,_,w),typeof m=="function")){typeof _!="function"&&_!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(l,m,w);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):Ta(i,u,m)}}}function Fa(i,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":In("error",i),In("load",i);var m=!1,w=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var V=u[_];if(V!=null)switch(_){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:Nr(i,l,_,V,u,null)}}w&&Nr(i,l,"srcSet",u.srcSet,u,null),m&&Nr(i,l,"src",u.src,u,null);return;case"input":In("invalid",i);var Q=_=V=w=null,me=null,Re=null;for(m in u)if(u.hasOwnProperty(m)){var He=u[m];if(He!=null)switch(m){case"name":w=He;break;case"type":V=He;break;case"checked":me=He;break;case"defaultChecked":Re=He;break;case"value":_=He;break;case"defaultValue":Q=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(s(137,l));break;default:Nr(i,l,m,He,u,null)}}dd(i,_,Q,me,Re,V,w,!1);return;case"select":In("invalid",i),m=V=_=null;for(w in u)if(u.hasOwnProperty(w)&&(Q=u[w],Q!=null))switch(w){case"value":_=Q;break;case"defaultValue":V=Q;break;case"multiple":m=Q;default:Nr(i,l,w,Q,u,null)}l=_,u=V,i.multiple=!!m,l!=null?Ks(i,!!m,l,!1):u!=null&&Ks(i,!!m,u,!0);return;case"textarea":In("invalid",i),_=w=m=null;for(V in u)if(u.hasOwnProperty(V)&&(Q=u[V],Q!=null))switch(V){case"value":m=Q;break;case"defaultValue":w=Q;break;case"children":_=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(91));break;default:Nr(i,l,V,Q,u,null)}eo(i,m,w,_);return;case"option":for(me in u)if(u.hasOwnProperty(me)&&(m=u[me],m!=null))switch(me){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Nr(i,l,me,m,u,null)}return;case"dialog":In("beforetoggle",i),In("toggle",i),In("cancel",i),In("close",i);break;case"iframe":case"object":In("load",i);break;case"video":case"audio":for(m=0;m<qm.length;m++)In(qm[m],i);break;case"image":In("error",i),In("load",i);break;case"details":In("toggle",i);break;case"embed":case"source":case"link":In("error",i),In("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in u)if(u.hasOwnProperty(Re)&&(m=u[Re],m!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:Nr(i,l,Re,m,u,null)}return;default:if(Tl(l)){for(He in u)u.hasOwnProperty(He)&&(m=u[He],m!==void 0&&Cb(i,l,He,m,u,void 0));return}}for(Q in u)u.hasOwnProperty(Q)&&(m=u[Q],m!=null&&Nr(i,l,Q,m,u,null))}function LI(i,l,u,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,_=null,V=null,Q=null,me=null,Re=null,He=null;for(Me in u){var Xe=u[Me];if(u.hasOwnProperty(Me)&&Xe!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":me=Xe;default:m.hasOwnProperty(Me)||Nr(i,l,Me,null,m,Xe)}}for(var De in m){var Me=m[De];if(Xe=u[De],m.hasOwnProperty(De)&&(Me!=null||Xe!=null))switch(De){case"type":_=Me;break;case"name":w=Me;break;case"checked":Re=Me;break;case"defaultChecked":He=Me;break;case"value":V=Me;break;case"defaultValue":Q=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(s(137,l));break;default:Me!==Xe&&Nr(i,l,De,Me,m,Xe)}}Yo(i,V,Q,me,Re,He,_,w);return;case"select":Me=V=Q=De=null;for(_ in u)if(me=u[_],u.hasOwnProperty(_)&&me!=null)switch(_){case"value":break;case"multiple":Me=me;default:m.hasOwnProperty(_)||Nr(i,l,_,null,m,me)}for(w in m)if(_=m[w],me=u[w],m.hasOwnProperty(w)&&(_!=null||me!=null))switch(w){case"value":De=_;break;case"defaultValue":Q=_;break;case"multiple":V=_;default:_!==me&&Nr(i,l,w,_,m,me)}l=Q,u=V,m=Me,De!=null?Ks(i,!!u,De,!1):!!m!=!!u&&(l!=null?Ks(i,!!u,l,!0):Ks(i,!!u,u?[]:"",!1));return;case"textarea":Me=De=null;for(Q in u)if(w=u[Q],u.hasOwnProperty(Q)&&w!=null&&!m.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:Nr(i,l,Q,null,m,w)}for(V in m)if(w=m[V],_=u[V],m.hasOwnProperty(V)&&(w!=null||_!=null))switch(V){case"value":De=w;break;case"defaultValue":Me=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:w!==_&&Nr(i,l,V,w,m,_)}gc(i,De,Me);return;case"option":for(var yt in u)if(De=u[yt],u.hasOwnProperty(yt)&&De!=null&&!m.hasOwnProperty(yt))switch(yt){case"selected":i.selected=!1;break;default:Nr(i,l,yt,null,m,De)}for(me in m)if(De=m[me],Me=u[me],m.hasOwnProperty(me)&&De!==Me&&(De!=null||Me!=null))switch(me){case"selected":i.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:Nr(i,l,me,De,m,Me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xt in u)De=u[Xt],u.hasOwnProperty(Xt)&&De!=null&&!m.hasOwnProperty(Xt)&&Nr(i,l,Xt,null,m,De);for(Re in m)if(De=m[Re],Me=u[Re],m.hasOwnProperty(Re)&&De!==Me&&(De!=null||Me!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(s(137,l));break;default:Nr(i,l,Re,De,m,Me)}return;default:if(Tl(l)){for(var jr in u)De=u[jr],u.hasOwnProperty(jr)&&De!==void 0&&!m.hasOwnProperty(jr)&&Cb(i,l,jr,void 0,m,De);for(He in m)De=m[He],Me=u[He],!m.hasOwnProperty(He)||De===Me||De===void 0&&Me===void 0||Cb(i,l,He,De,m,Me);return}}for(var _e in u)De=u[_e],u.hasOwnProperty(_e)&&De!=null&&!m.hasOwnProperty(_e)&&Nr(i,l,_e,null,m,De);for(Xe in m)De=m[Xe],Me=u[Xe],!m.hasOwnProperty(Xe)||De===Me||De==null&&Me==null||Nr(i,l,Xe,De,m,Me)}function xN(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var w=u[m],_=w.transferSize,V=w.initiatorType,Q=w.duration;if(_&&Q&&xN(V)){for(V=0,Q=w.responseEnd,m+=1;m<u.length;m++){var me=u[m],Re=me.startTime;if(Re>Q)break;var He=me.transferSize,Xe=me.initiatorType;He&&xN(Xe)&&(me=me.responseEnd,V+=He*(me<Q?1:(Q-Re)/(me-Re)))}if(--m,l+=8*(_+V)/(w.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ib=null,kb=null;function s0(i){return i.nodeType===9?i:i.ownerDocument}function yN(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bN(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function Rb(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Pb=null;function MI(){var i=window.event;return i&&i.type==="popstate"?i===Pb?!1:(Pb=i,!0):(Pb=null,!1)}var vN=typeof setTimeout=="function"?setTimeout:void 0,OI=typeof clearTimeout=="function"?clearTimeout:void 0,wN=typeof Promise=="function"?Promise:void 0,FI=typeof queueMicrotask=="function"?queueMicrotask:typeof wN<"u"?function(i){return wN.resolve(null).then(i).catch(UI)}:vN;function UI(i){setTimeout(function(){throw i})}function Pd(i){return i==="head"}function NN(i,l){var u=l,m=0;do{var w=u.nextSibling;if(i.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(w),of(l);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")Hm(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Hm(u);for(var _=u.firstChild;_;){var V=_.nextSibling,Q=_.nodeName;_[ua]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=V}}else u==="body"&&Hm(i.ownerDocument.body);u=w}while(u);of(l)}function jN(i,l){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function Lb(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Lb(u),Ji(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function VI(i,l,u,m){for(;i.nodeType===1;){var w=u;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[ua])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==w.rel||i.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||i.getAttribute("title")!==(w.title==null?null:w.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(w.src==null?null:w.src)||i.getAttribute("type")!==(w.type==null?null:w.type)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var _=w.name==null?null:""+w.name;if(w.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Oo(i.nextSibling),i===null)break}return null}function zI(i,l,u){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Oo(i.nextSibling),i===null))return null;return i}function _N(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Oo(i.nextSibling),i===null))return null;return i}function Db(i){return i.data==="$?"||i.data==="$~"}function Mb(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function BI(i,l){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||u.readyState!=="loading")l();else{var m=function(){l(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Oo(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var Ob=null;function SN(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(l===0)return Oo(i.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}i=i.nextSibling}return null}function EN(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return i;l--}else u!=="/$"&&u!=="/&"||l++}i=i.previousSibling}return null}function AN(i,l,u){switch(l=s0(u),i){case"html":if(i=l.documentElement,!i)throw Error(s(452));return i;case"head":if(i=l.head,!i)throw Error(s(453));return i;case"body":if(i=l.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Hm(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Ji(i)}var Fo=new Map,TN=new Set;function a0(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Fc=ge.d;ge.d={f:qI,r:GI,D:HI,C:$I,L:WI,m:KI,X:XI,S:YI,M:QI};function qI(){var i=Fc.f(),l=Xp();return i||l}function GI(i){var l=Ws(i);l!==null&&l.tag===5&&l.type==="form"?Hw(l):Fc.r(i)}var rf=typeof document>"u"?null:document;function CN(i,l,u){var m=rf;if(m&&typeof l=="string"&&l){var w=Br(l);w='link[rel="'+i+'"][href="'+w+'"]',typeof u=="string"&&(w+='[crossorigin="'+u+'"]'),TN.has(w)||(TN.add(w),i={rel:i,crossOrigin:u,href:l},m.querySelector(w)===null&&(l=m.createElement("link"),Fa(l,"link",i),Pr(l),m.head.appendChild(l)))}}function HI(i){Fc.D(i),CN("dns-prefetch",i,null)}function $I(i,l){Fc.C(i,l),CN("preconnect",i,l)}function WI(i,l,u){Fc.L(i,l,u);var m=rf;if(m&&i&&l){var w='link[rel="preload"][as="'+Br(l)+'"]';l==="image"&&u&&u.imageSrcSet?(w+='[imagesrcset="'+Br(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(w+='[imagesizes="'+Br(u.imageSizes)+'"]')):w+='[href="'+Br(i)+'"]';var _=w;switch(l){case"style":_=sf(i);break;case"script":_=af(i)}Fo.has(_)||(i=p({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:i,as:l},u),Fo.set(_,i),m.querySelector(w)!==null||l==="style"&&m.querySelector($m(_))||l==="script"&&m.querySelector(Wm(_))||(l=m.createElement("link"),Fa(l,"link",i),Pr(l),m.head.appendChild(l)))}}function KI(i,l){Fc.m(i,l);var u=rf;if(u&&i){var m=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+Br(m)+'"][href="'+Br(i)+'"]',_=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=af(i)}if(!Fo.has(_)&&(i=p({rel:"modulepreload",href:i},l),Fo.set(_,i),u.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Wm(_)))return}m=u.createElement("link"),Fa(m,"link",i),Pr(m),u.head.appendChild(m)}}}function YI(i,l,u){Fc.S(i,l,u);var m=rf;if(m&&i){var w=qa(m).hoistableStyles,_=sf(i);l=l||"default";var V=w.get(_);if(!V){var Q={loading:0,preload:null};if(V=m.querySelector($m(_)))Q.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":l},u),(u=Fo.get(_))&&Fb(i,u);var me=V=m.createElement("link");Pr(me),Fa(me,"link",i),me._p=new Promise(function(Re,He){me.onload=Re,me.onerror=He}),me.addEventListener("load",function(){Q.loading|=1}),me.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,i0(V,l,m)}V={type:"stylesheet",instance:V,count:1,state:Q},w.set(_,V)}}}function XI(i,l){Fc.X(i,l);var u=rf;if(u&&i){var m=qa(u).hoistableScripts,w=af(i),_=m.get(w);_||(_=u.querySelector(Wm(w)),_||(i=p({src:i,async:!0},l),(l=Fo.get(w))&&Ub(i,l),_=u.createElement("script"),Pr(_),Fa(_,"link",i),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(w,_))}}function QI(i,l){Fc.M(i,l);var u=rf;if(u&&i){var m=qa(u).hoistableScripts,w=af(i),_=m.get(w);_||(_=u.querySelector(Wm(w)),_||(i=p({src:i,async:!0,type:"module"},l),(l=Fo.get(w))&&Ub(i,l),_=u.createElement("script"),Pr(_),Fa(_,"link",i),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(w,_))}}function IN(i,l,u,m){var w=(w=fe.current)?a0(w):null;if(!w)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=sf(u.href),u=qa(w).hoistableStyles,m=u.get(l),m||(m={type:"style",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=sf(u.href);var _=qa(w).hoistableStyles,V=_.get(i);if(V||(w=w.ownerDocument||w,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,V),(_=w.querySelector($m(i)))&&!_._p&&(V.instance=_,V.state.loading=5),Fo.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Fo.set(i,u),_||JI(w,i,u,V.state))),l&&m===null)throw Error(s(528,""));return V}if(l&&m!==null)throw Error(s(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=af(u),u=qa(w).hoistableScripts,m=u.get(l),m||(m={type:"script",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function sf(i){return'href="'+Br(i)+'"'}function $m(i){return'link[rel="stylesheet"]['+i+"]"}function kN(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function JI(i,l,u,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Fa(l,"link",u),Pr(l),i.head.appendChild(l))}function af(i){return'[src="'+Br(i)+'"]'}function Wm(i){return"script[async]"+i}function RN(i,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+Br(u.href)+'"]');if(m)return l.instance=m,Pr(m),m;var w=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Pr(m),Fa(m,"style",w),i0(m,u.precedence,i),l.instance=m;case"stylesheet":w=sf(u.href);var _=i.querySelector($m(w));if(_)return l.state.loading|=4,l.instance=_,Pr(_),_;m=kN(u),(w=Fo.get(w))&&Fb(m,w),_=(i.ownerDocument||i).createElement("link"),Pr(_);var V=_;return V._p=new Promise(function(Q,me){V.onload=Q,V.onerror=me}),Fa(_,"link",m),l.state.loading|=4,i0(_,u.precedence,i),l.instance=_;case"script":return _=af(u.src),(w=i.querySelector(Wm(_)))?(l.instance=w,Pr(w),w):(m=u,(w=Fo.get(_))&&(m=p({},u),Ub(m,w)),i=i.ownerDocument||i,w=i.createElement("script"),Pr(w),Fa(w,"link",m),i.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(s(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,i0(m,u.precedence,i));return l.instance}function i0(i,l,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,_=w,V=0;V<m.length;V++){var Q=m[V];if(Q.dataset.precedence===l)_=Q;else if(_!==w)break}_?_.parentNode.insertBefore(i,_.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(i,l.firstChild))}function Fb(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Ub(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var o0=null;function PN(i,l,u){if(o0===null){var m=new Map,w=o0=new Map;w.set(u,m)}else w=o0,m=w.get(u),m||(m=new Map,w.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),w=0;w<u.length;w++){var _=u[w];if(!(_[ua]||_[$n]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var V=_.getAttribute(l)||"";V=i+V;var Q=m.get(V);Q?Q.push(_):m.set(V,[_])}}return m}function LN(i,l,u){i=i.ownerDocument||i,i.head.insertBefore(u,l==="title"?i.querySelector("head > title"):null)}function ZI(i,l,u){if(u===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function DN(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function ek(i,l,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var w=sf(m.href),_=l.querySelector($m(w));if(_){l=_._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=l0.bind(i),l.then(i,i)),u.state.loading|=4,u.instance=_,Pr(_);return}_=l.ownerDocument||l,m=kN(m),(w=Fo.get(w))&&Fb(m,w),_=_.createElement("link"),Pr(_);var V=_;V._p=new Promise(function(Q,me){V.onload=Q,V.onerror=me}),Fa(_,"link",m),u.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=l0.bind(i),l.addEventListener("load",u),l.addEventListener("error",u))}}var Vb=0;function tk(i,l){return i.stylesheets&&i.count===0&&d0(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&d0(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+l);0<i.imgBytes&&Vb===0&&(Vb=62500*DI());var w=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&d0(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Vb?50:800)+l);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function l0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)d0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var c0=null;function d0(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,c0=new Map,l.forEach(nk,i),c0=null,l0.call(i))}function nk(i,l){if(!(l.state.loading&4)){var u=c0.get(i);if(u)var m=u.get(null);else{u=new Map,c0.set(i,u);for(var w=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<w.length;_++){var V=w[_];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(u.set(V.dataset.precedence,V),m=V)}m&&u.set(null,m)}w=l.instance,V=w.getAttribute("data-precedence"),_=u.get(V)||m,_===m&&u.set(null,w),u.set(V,w),this.count++,m=l0.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),_?_.parentNode.insertBefore(w,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(w,i.firstChild)),l.state.loading|=4}}var Km={$$typeof:O,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function rk(i,l,u,m,w,_,V,Q,me){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vs(0),this.hiddenUpdates=vs(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=_,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function MN(i,l,u,m,w,_,V,Q,me,Re,He,Xe){return i=new rk(i,l,u,V,me,Re,He,Xe,Q),l=1,_===!0&&(l|=24),_=xa(3,null,null,l),i.current=_,_.stateNode=i,l=wd(),l.refCount++,i.pooledCache=l,l.refCount++,_.memoizedState={element:m,isDehydrated:u,cache:l},at(_),i}function ON(i){return i?(i=Js,i):Js}function FN(i,l,u,m,w,_){w=ON(w),m.context===null?m.context=w:m.pendingContext=w,m=Yt(l),m.payload={element:u},_=_===void 0?null:_,_!==null&&(m.callback=_),u=pn(i,m,l),u!==null&&(zi(u,i,l),Jn(u,i,l))}function UN(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function zb(i,l){UN(i,l),(i=i.alternate)&&UN(i,l)}function VN(i){if(i.tag===13||i.tag===31){var l=ol(i,67108864);l!==null&&zi(l,i,67108864),zb(i,67108864)}}function zN(i){if(i.tag===13||i.tag===31){var l=uo();l=nr(l);var u=ol(i,l);u!==null&&zi(u,i,l),zb(i,l)}}var u0=!0;function sk(i,l,u,m){var w=ie.T;ie.T=null;var _=ge.p;try{ge.p=2,Bb(i,l,u,m)}finally{ge.p=_,ie.T=w}}function ak(i,l,u,m){var w=ie.T;ie.T=null;var _=ge.p;try{ge.p=8,Bb(i,l,u,m)}finally{ge.p=_,ie.T=w}}function Bb(i,l,u,m){if(u0){var w=qb(m);if(w===null)Tb(i,l,m,h0,u),qN(i,m);else if(ok(w,i,l,u,m))m.stopPropagation();else if(qN(i,m),l&4&&-1<ik.indexOf(i)){for(;w!==null;){var _=Ws(w);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var V=At(_.pendingLanes);if(V!==0){var Q=_;for(Q.pendingLanes|=2,Q.entangledLanes|=2;V;){var me=1<<31-on(V);Q.entanglements[1]|=me,V&=~me}$l(_),(er&6)===0&&(Kp=an()+500,Bm(0))}}break;case 31:case 13:Q=ol(_,2),Q!==null&&zi(Q,_,2),Xp(),zb(_,2)}if(_=qb(m),_===null&&Tb(i,l,m,h0,u),_===w)break;w=_}w!==null&&m.stopPropagation()}else Tb(i,l,m,null,u)}}function qb(i){return i=ma(i),Gb(i)}var h0=null;function Gb(i){if(h0=null,i=Ea(i),i!==null){var l=o(i);if(l===null)i=null;else{var u=l.tag;if(u===13){if(i=c(l),i!==null)return i;i=null}else if(u===31){if(i=d(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return h0=i,null}function BN(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hn()){case Jt:return 2;case xn:return 8;case ln:case _t:return 32;case tn:return 268435456;default:return 32}default:return 32}}var Hb=!1,Ld=null,Dd=null,Md=null,Ym=new Map,Xm=new Map,Od=[],ik="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qN(i,l){switch(i){case"focusin":case"focusout":Ld=null;break;case"dragenter":case"dragleave":Dd=null;break;case"mouseover":case"mouseout":Md=null;break;case"pointerover":case"pointerout":Ym.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xm.delete(l.pointerId)}}function Qm(i,l,u,m,w,_){return i===null||i.nativeEvent!==_?(i={blockedOn:l,domEventName:u,eventSystemFlags:m,nativeEvent:_,targetContainers:[w]},l!==null&&(l=Ws(l),l!==null&&VN(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),i)}function ok(i,l,u,m,w){switch(l){case"focusin":return Ld=Qm(Ld,i,l,u,m,w),!0;case"dragenter":return Dd=Qm(Dd,i,l,u,m,w),!0;case"mouseover":return Md=Qm(Md,i,l,u,m,w),!0;case"pointerover":var _=w.pointerId;return Ym.set(_,Qm(Ym.get(_)||null,i,l,u,m,w)),!0;case"gotpointercapture":return _=w.pointerId,Xm.set(_,Qm(Xm.get(_)||null,i,l,u,m,w)),!0}return!1}function GN(i){var l=Ea(i.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){i.blockedOn=l,$s(i.priority,function(){zN(u)});return}}else if(l===31){if(l=d(u),l!==null){i.blockedOn=l,$s(i.priority,function(){zN(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function f0(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=qb(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);no=m,u.target.dispatchEvent(m),no=null}else return l=Ws(u),l!==null&&VN(l),i.blockedOn=u,!1;l.shift()}return!0}function HN(i,l,u){f0(i)&&u.delete(l)}function lk(){Hb=!1,Ld!==null&&f0(Ld)&&(Ld=null),Dd!==null&&f0(Dd)&&(Dd=null),Md!==null&&f0(Md)&&(Md=null),Ym.forEach(HN),Xm.forEach(HN)}function m0(i,l){i.blockedOn===l&&(i.blockedOn=null,Hb||(Hb=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,lk)))}var g0=null;function $N(i){g0!==i&&(g0=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){g0===i&&(g0=null);for(var l=0;l<i.length;l+=3){var u=i[l],m=i[l+1],w=i[l+2];if(typeof m!="function"){if(Gb(m||u)===null)continue;break}var _=Ws(u);_!==null&&(i.splice(l,3),l-=3,qy(_,{pending:!0,data:w,method:u.method,action:m},m,w))}}))}function of(i){function l(me){return m0(me,i)}Ld!==null&&m0(Ld,i),Dd!==null&&m0(Dd,i),Md!==null&&m0(Md,i),Ym.forEach(l),Xm.forEach(l);for(var u=0;u<Od.length;u++){var m=Od[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Od.length&&(u=Od[0],u.blockedOn===null);)GN(u),u.blockedOn===null&&Od.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var w=u[m],_=u[m+1],V=w[ir]||null;if(typeof _=="function")V||$N(u);else if(V){var Q=null;if(_&&_.hasAttribute("formAction")){if(w=_,V=_[ir]||null)Q=V.formAction;else if(Gb(w)!==null)continue}else Q=V.action;typeof Q=="function"?u[m+1]=Q:(u.splice(m,3),m-=3),$N(u)}}}function WN(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(V){return w=V})},focusReset:"manual",scroll:"manual"})}function l(){w!==null&&(w(),w=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),w!==null&&(w(),w=null)}}}function $b(i){this._internalRoot=i}p0.prototype.render=$b.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(s(409));var u=l.current,m=uo();FN(u,m,i,l,null,null)},p0.prototype.unmount=$b.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;FN(i.current,2,null,i,null,null),Xp(),l[cs]=null}};function p0(i){this._internalRoot=i}p0.prototype.unstable_scheduleHydration=function(i){if(i){var l=ls();i={blockedOn:null,target:i,priority:l};for(var u=0;u<Od.length&&l!==0&&l<Od[u].priority;u++);Od.splice(u,0,i),u===0&&GN(i)}};var KN=e.version;if(KN!=="19.2.0")throw Error(s(527,KN,"19.2.0"));ge.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=f(l),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var ck={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var x0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!x0.isDisabled&&x0.supportsFiber)try{cn=x0.inject(ck),Ot=x0}catch{}}return Zm.createRoot=function(i,l){if(!a(i))throw Error(s(299));var u=!1,m="",w=t5,_=n5,V=r5;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(V=l.onRecoverableError)),l=MN(i,1,!1,null,null,u,m,null,w,_,V,WN),i[cs]=l.current,Ab(i),new $b(l)},Zm.hydrateRoot=function(i,l,u){if(!a(i))throw Error(s(299));var m=!1,w="",_=t5,V=n5,Q=r5,me=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(V=u.onCaughtError),u.onRecoverableError!==void 0&&(Q=u.onRecoverableError),u.formState!==void 0&&(me=u.formState)),l=MN(i,1,!0,l,u??null,m,w,me,_,V,Q,WN),l.context=ON(null),u=l.current,m=uo(),m=nr(m),w=Yt(m),w.callback=null,pn(u,w,m),u=m,l.current.lanes=u,Pt(l,u),$l(l),i[cs]=l.current,Ab(i),new p0(l)},Zm.version="19.2.0",Zm}var sj;function wk(){if(sj)return Yb.exports;sj=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yb.exports=vk(),Yb.exports}var Nk=wk();x3();function Rg(){return Rg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Rg.apply(this,arguments)}var Qd;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Qd||(Qd={}));const aj="popstate";function jk(n){n===void 0&&(n={});function e(s,a){let{pathname:o,search:c,hash:d}=s.location;return H1("",{pathname:o,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:ox(a)}return Sk(e,t,null,n)}function Is(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ev(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _k(){return Math.random().toString(36).substr(2,8)}function ij(n,e){return{usr:n.state,key:n.key,idx:e}}function H1(n,e,t,s){return t===void 0&&(t=null),Rg({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?sm(e):e,{state:t,key:e&&e.key||s||_k()})}function ox(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function sm(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function Sk(n,e,t,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:o=!1}=s,c=a.history,d=Qd.Pop,h=null,f=g();f==null&&(f=0,c.replaceState(Rg({},c.state,{idx:f}),""));function g(){return(c.state||{idx:null}).idx}function p(){d=Qd.Pop;let j=g(),E=j==null?null:j-f;f=j,h&&h({action:d,location:S.location,delta:E})}function v(j,E){d=Qd.Push;let L=H1(S.location,j,E);f=g()+1;let O=ij(L,f),D=S.createHref(L);try{c.pushState(O,"",D)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(D)}o&&h&&h({action:d,location:S.location,delta:1})}function b(j,E){d=Qd.Replace;let L=H1(S.location,j,E);f=g();let O=ij(L,f),D=S.createHref(L);c.replaceState(O,"",D),o&&h&&h({action:d,location:S.location,delta:0})}function A(j){let E=a.location.origin!=="null"?a.location.origin:a.location.href,L=typeof j=="string"?j:ox(j);return L=L.replace(/ $/,"%20"),Is(E,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,E)}let S={get action(){return d},get location(){return n(a,c)},listen(j){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(aj,p),h=j,()=>{a.removeEventListener(aj,p),h=null}},createHref(j){return e(a,j)},createURL:A,encodeLocation(j){let E=A(j);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:b,go(j){return c.go(j)}};return S}var oj;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(oj||(oj={}));function Ek(n,e,t){return t===void 0&&(t="/"),Ak(n,e,t)}function Ak(n,e,t,s){let a=typeof e=="string"?sm(e):e,o=tv(a.pathname||"/",t);if(o==null)return null;let c=y3(n);Tk(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=Vk(o);d=Ok(c[h],f)}return d}function y3(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let a=(o,c,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(Is(h.relativePath.startsWith(s),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(s.length));let f=eu([s,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(Is(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),y3(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:Dk(f,o.index),routesMeta:g})};return n.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,c);else for(let h of b3(o.path))a(o,c,h)}),e}function b3(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let c=b3(s.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...c),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function Tk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Mk(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const Ck=/^:[\w-]+$/,Ik=3,kk=2,Rk=1,Pk=10,Lk=-2,lj=n=>n==="*";function Dk(n,e){let t=n.split("/"),s=t.length;return t.some(lj)&&(s+=Lk),e&&(s+=kk),t.filter(a=>!lj(a)).reduce((a,o)=>a+(Ck.test(o)?Ik:o===""?Rk:Pk),s)}function Mk(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function Ok(n,e,t){let{routesMeta:s}=n,a={},o="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],f=d===s.length-1,g=o==="/"?e:e.slice(o.length)||"/",p=Fk({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),v=h.route;if(!p)return null;Object.assign(a,p.params),c.push({params:a,pathname:eu([o,p.pathname]),pathnameBase:Hk(eu([o,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(o=eu([o,p.pathnameBase]))}return c}function Fk(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=Uk(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((f,g,p)=>{let{paramName:v,isOptional:b}=g;if(v==="*"){let S=d[p]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const A=d[p];return b&&!A?f[v]=void 0:f[v]=(A||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:n}}function Uk(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ev(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function Vk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ev(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function tv(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}const zk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bk=n=>zk.test(n);function qk(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?sm(n):n,o;if(t)if(Bk(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),ev(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+t))}t.startsWith("/")?o=cj(t.substring(1),"/"):o=cj(t,e)}else o=e;return{pathname:o,search:$k(s),hash:Wk(a)}}function cj(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Zb(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function nv(n,e){let t=Gk(n);return e?t.map((s,a)=>a===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function rv(n,e,t,s){s===void 0&&(s=!1);let a;typeof n=="string"?a=sm(n):(a=Rg({},n),Is(!a.pathname||!a.pathname.includes("?"),Zb("?","pathname","search",a)),Is(!a.pathname||!a.pathname.includes("#"),Zb("#","pathname","hash",a)),Is(!a.search||!a.search.includes("#"),Zb("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=t;else{let p=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),p-=1;a.pathname=v.join("/")}d=p>=0?e[p]:"/"}let h=qk(a,d),f=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}const eu=n=>n.join("/").replace(/\/\/+/g,"/"),Hk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$k=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Wk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Kk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const v3=["post","put","patch","delete"];new Set(v3);const Yk=["get",...v3];new Set(Yk);function Pg(){return Pg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Pg.apply(this,arguments)}const sv=G.createContext(null),Xk=G.createContext(null),gu=G.createContext(null),Xx=G.createContext(null),dc=G.createContext({outlet:null,matches:[],isDataRoute:!1}),w3=G.createContext(null);function Qk(n,e){let{relative:t}=e===void 0?{}:e;am()||Is(!1);let{basename:s,navigator:a}=G.useContext(gu),{hash:o,pathname:c,search:d}=j3(n,{relative:t}),h=c;return s!=="/"&&(h=c==="/"?s:eu([s,c])),a.createHref({pathname:h,search:d,hash:o})}function am(){return G.useContext(Xx)!=null}function pu(){return am()||Is(!1),G.useContext(Xx).location}function N3(n){G.useContext(gu).static||G.useLayoutEffect(n)}function gr(){let{isDataRoute:n}=G.useContext(dc);return n?h8():Jk()}function Jk(){am()||Is(!1);let n=G.useContext(sv),{basename:e,future:t,navigator:s}=G.useContext(gu),{matches:a}=G.useContext(dc),{pathname:o}=pu(),c=JSON.stringify(nv(a,t.v7_relativeSplatPath)),d=G.useRef(!1);return N3(()=>{d.current=!0}),G.useCallback(function(f,g){if(g===void 0&&(g={}),!d.current)return;if(typeof f=="number"){s.go(f);return}let p=rv(f,JSON.parse(c),o,g.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:eu([e,p.pathname])),(g.replace?s.replace:s.push)(p,g.state,g)},[e,s,c,o,n])}const Zk=G.createContext(null);function e8(n){let e=G.useContext(dc).outlet;return e&&G.createElement(Zk.Provider,{value:n},e)}function bo(){let{matches:n}=G.useContext(dc),e=n[n.length-1];return e?e.params:{}}function j3(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=G.useContext(gu),{matches:a}=G.useContext(dc),{pathname:o}=pu(),c=JSON.stringify(nv(a,s.v7_relativeSplatPath));return G.useMemo(()=>rv(n,JSON.parse(c),o,t==="path"),[n,c,o,t])}function t8(n,e){return n8(n,e)}function n8(n,e,t,s){am()||Is(!1);let{navigator:a}=G.useContext(gu),{matches:o}=G.useContext(dc),c=o[o.length-1],d=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let f=pu(),g;if(e){var p;let j=typeof e=="string"?sm(e):e;h==="/"||(p=j.pathname)!=null&&p.startsWith(h)||Is(!1),g=j}else g=f;let v=g.pathname||"/",b=v;if(h!=="/"){let j=h.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let A=Ek(n,{pathname:b}),S=o8(A&&A.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:eu([h,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?h:eu([h,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,t,s);return e&&S?G.createElement(Xx.Provider,{value:{location:Pg({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Qd.Pop}},S):S}function r8(){let n=u8(),e=Kk(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:a},t):null,null)}const s8=G.createElement(r8,null);class a8 extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?G.createElement(dc.Provider,{value:this.props.routeContext},G.createElement(w3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i8(n){let{routeContext:e,match:t,children:s}=n,a=G.useContext(sv);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(dc.Provider,{value:e},s)}function o8(n,e,t,s){var a;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var o;if(!t)return null;if(t.errors)n=t.matches;else if((o=s)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=(a=t)==null?void 0:a.errors;if(d!=null){let g=c.findIndex(p=>p.route.id&&d?.[p.route.id]!==void 0);g>=0||Is(!1),c=c.slice(0,Math.min(c.length,g+1))}let h=!1,f=-1;if(t&&s&&s.v7_partialHydration)for(let g=0;g<c.length;g++){let p=c[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=g),p.route.id){let{loaderData:v,errors:b}=t,A=p.route.loader&&v[p.route.id]===void 0&&(!b||b[p.route.id]===void 0);if(p.route.lazy||A){h=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((g,p,v)=>{let b,A=!1,S=null,j=null;t&&(b=d&&p.route.id?d[p.route.id]:void 0,S=p.route.errorElement||s8,h&&(f<0&&v===0?(f8("route-fallback"),A=!0,j=null):f===v&&(A=!0,j=p.route.hydrateFallbackElement||null)));let E=e.concat(c.slice(0,v+1)),L=()=>{let O;return b?O=S:A?O=j:p.route.Component?O=G.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=g,G.createElement(i8,{match:p,routeContext:{outlet:g,matches:E,isDataRoute:t!=null},children:O})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?G.createElement(a8,{location:t.location,revalidation:t.revalidation,component:S,error:b,children:L(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):L()},null)}var _3=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(_3||{}),S3=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(S3||{});function l8(n){let e=G.useContext(sv);return e||Is(!1),e}function c8(n){let e=G.useContext(Xk);return e||Is(!1),e}function d8(n){let e=G.useContext(dc);return e||Is(!1),e}function E3(n){let e=d8(),t=e.matches[e.matches.length-1];return t.route.id||Is(!1),t.route.id}function u8(){var n;let e=G.useContext(w3),t=c8(),s=E3();return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function h8(){let{router:n}=l8(_3.UseNavigateStable),e=E3(S3.UseNavigateStable),t=G.useRef(!1);return N3(()=>{t.current=!0}),G.useCallback(function(a,o){o===void 0&&(o={}),t.current&&(typeof a=="number"?n.navigate(a):n.navigate(a,Pg({fromRouteId:e},o)))},[n,e])}const dj={};function f8(n,e,t){dj[n]||(dj[n]=!0)}function m8(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function lx(n){let{to:e,replace:t,state:s,relative:a}=n;am()||Is(!1);let{future:o,static:c}=G.useContext(gu),{matches:d}=G.useContext(dc),{pathname:h}=pu(),f=gr(),g=rv(e,nv(d,o.v7_relativeSplatPath),h,a==="path"),p=JSON.stringify(g);return G.useEffect(()=>f(JSON.parse(p),{replace:t,state:s,relative:a}),[f,p,a,t,s]),null}function A3(n){return e8(n.context)}function bt(n){Is(!1)}function g8(n){let{basename:e="/",children:t=null,location:s,navigationType:a=Qd.Pop,navigator:o,static:c=!1,future:d}=n;am()&&Is(!1);let h=e.replace(/^\/*/,"/"),f=G.useMemo(()=>({basename:h,navigator:o,static:c,future:Pg({v7_relativeSplatPath:!1},d)}),[h,d,o,c]);typeof s=="string"&&(s=sm(s));let{pathname:g="/",search:p="",hash:v="",state:b=null,key:A="default"}=s,S=G.useMemo(()=>{let j=tv(g,h);return j==null?null:{location:{pathname:j,search:p,hash:v,state:b,key:A},navigationType:a}},[h,g,p,v,b,A,a]);return S==null?null:G.createElement(gu.Provider,{value:f},G.createElement(Xx.Provider,{children:t,value:S}))}function p8(n){let{children:e,location:t}=n;return t8($1(e),t)}new Promise(()=>{});function $1(n,e){e===void 0&&(e=[]);let t=[];return G.Children.forEach(n,(s,a)=>{if(!G.isValidElement(s))return;let o=[...e,a];if(s.type===G.Fragment){t.push.apply(t,$1(s.props.children,o));return}s.type!==bt&&Is(!1),!s.props.index||!s.props.children||Is(!1);let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=$1(s.props.children,o)),t.push(c)}),t}function W1(){return W1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},W1.apply(this,arguments)}function x8(n,e){if(n==null)return{};var t={},s=Object.keys(n),a,o;for(o=0;o<s.length;o++)a=s[o],!(e.indexOf(a)>=0)&&(t[a]=n[a]);return t}function y8(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function b8(n,e){return n.button===0&&(!e||e==="_self")&&!y8(n)}const v8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],w8="6";try{window.__reactRouterVersion=w8}catch{}const N8="startTransition",uj=pk[N8];function j8(n){let{basename:e,children:t,future:s,window:a}=n,o=G.useRef();o.current==null&&(o.current=jk({window:a,v5Compat:!0}));let c=o.current,[d,h]=G.useState({action:c.action,location:c.location}),{v7_startTransition:f}=s||{},g=G.useCallback(p=>{f&&uj?uj(()=>h(p)):h(p)},[h,f]);return G.useLayoutEffect(()=>c.listen(g),[c,g]),G.useEffect(()=>m8(s),[s]),G.createElement(g8,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c,future:s})}const _8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sn=G.forwardRef(function(e,t){let{onClick:s,relative:a,reloadDocument:o,replace:c,state:d,target:h,to:f,preventScrollReset:g,viewTransition:p}=e,v=x8(e,v8),{basename:b}=G.useContext(gu),A,S=!1;if(typeof f=="string"&&S8.test(f)&&(A=f,_8))try{let O=new URL(window.location.href),D=f.startsWith("//")?new URL(O.protocol+f):new URL(f),ee=tv(D.pathname,b);D.origin===O.origin&&ee!=null?f=ee+D.search+D.hash:S=!0}catch{}let j=Qk(f,{relative:a}),E=E8(f,{replace:c,state:d,target:h,preventScrollReset:g,relative:a,viewTransition:p});function L(O){s&&s(O),O.defaultPrevented||E(O)}return G.createElement("a",W1({},v,{href:A||j,onClick:S||o?s:L,ref:t,target:h}))});var hj;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(hj||(hj={}));var fj;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(fj||(fj={}));function E8(n,e){let{target:t,replace:s,state:a,preventScrollReset:o,relative:c,viewTransition:d}=e===void 0?{}:e,h=gr(),f=pu(),g=j3(n,{relative:c});return G.useCallback(p=>{if(b8(p,t)){p.preventDefault();let v=s!==void 0?s:ox(f)===ox(g);h(n,{replace:v,state:a,preventScrollReset:o,relative:c,viewTransition:d})}},[f,h,g,s,a,t,n,o,c,d])}const A8={en:{nav:{home:"Home",about:"About Village",panchayat:"Gram Panchayat",services:"Services",schemes:"Schemes",downloads:"Forms & Downloads",education:"Education & Anganwadi",gallery:"Gallery",financials:"Financials",notices:"Notices & Tenders",contact:"Contact"},home:{welcomeTitle:"Welcome to",knowMore:"Know More",quickInfo:"Quick Information",phone:"Phone",email:"Email",address:"Address",timings:"Office Timings",quickLinks:"Quick Links",payPropertyTax:"Pay Property Tax",payWaterTax:"Pay Water Tax",viewSchemes:"View Schemes",downloadForms:"Download Forms",latestNotices:"Latest Notices",viewAllNotices:"View All Notices",highlights:"Highlights",members:"Gram Panchayat Members",popularSchemes:"Popular Schemes",importantServices:"Important Services",recentPrograms:"Recent Programs & Events",viewAllPrograms:"View All Programs"},common:{learnMore:"Learn More",readMore:"Read More",viewDetails:"View Details",download:"Download",submit:"Submit",cancel:"Cancel",search:"Search",filter:"Filter",all:"All",active:"Active",closed:"Closed",upcoming:"Upcoming",loading:"Loading...",noResults:"No results found"},footer:{contactUs:"Contact Us",quickLinks:"Quick Links",importantLinks:"Important Links",followUs:"Follow Us",copyright:"All rights reserved"}},mr:{nav:{home:"",about:"",panchayat:"",services:"",schemes:"",downloads:"  ",education:"  ",gallery:"",financials:" ",notices:"  ",contact:""},home:{welcomeTitle:"  ",knowMore:" ",quickInfo:" ",phone:"",email:"",address:"",timings:" ",quickLinks:" ",payPropertyTax:"  ",payWaterTax:"  ",viewSchemes:" ",downloadForms:"  ",latestNotices:" ",viewAllNotices:"  ",highlights:" ",members:" ",popularSchemes:" ",importantServices:" ",recentPrograms:" ",viewAllPrograms:"  "},common:{learnMore:"  ",readMore:" ",viewDetails:" ",download:"",submit:" ",cancel:" ",search:"",filter:"",all:"",active:"",closed:"",upcoming:"",loading:"  ...",noResults:"   "},footer:{contactUs:"  ",quickLinks:" ",importantLinks:" ",followUs:"  ",copyright:"  "}}},T3=G.createContext(),Vr=()=>{const n=G.useContext(T3);if(!n)throw new Error("useLanguage must be used within a LanguageProvider");return n},T8=({children:n})=>{const[e,t]=G.useState(()=>localStorage.getItem("language")||"mr");G.useEffect(()=>{localStorage.setItem("language",e),document.documentElement.lang=e},[e]);const c={language:e,setLanguage:t,toggleLanguage:()=>{t(d=>d==="en"?"mr":"en")},t:d=>{const h=d.split(".");let f=A8[e];for(const g of h)f=f?.[g];return f||d},getContent:d=>d?typeof d=="string"?d:d[e]||d.en||d.mr||"":""};return r.jsx(T3.Provider,{value:c,children:n})},C8=()=>{};var mj={};const C3=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},I8=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[s++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],d=n[t++],h=((a&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(h>>10)),e[s++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],c=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},I3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,d=c?n[a+1]:0,h=a+2<n.length,f=h?n[a+2]:0,g=o>>2,p=(o&3)<<4|d>>4;let v=(d&15)<<2|f>>6,b=f&63;h||(b=64,c||(v=64)),s.push(t[g],t[p],t[v],t[b])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(C3(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):I8(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const f=a<n.length?t[n.charAt(a)]:64;++a;const p=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||d==null||f==null||p==null)throw new k8;const v=o<<2|d>>4;if(s.push(v),f!==64){const b=d<<4&240|f>>2;if(s.push(b),p!==64){const A=f<<6&192|p;s.push(A)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class k8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R8=function(n){const e=C3(n);return I3.encodeByteArray(e,!0)},cx=function(n){return R8(n).replace(/\./g,"")},k3=function(n){try{return I3.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function R3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const P8=()=>R3().__FIREBASE_DEFAULTS__,L8=()=>{if(typeof process>"u"||typeof mj>"u")return;const n=mj.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},D8=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&k3(n[1]);return e&&JSON.parse(e)},Qx=()=>{try{return C8()||P8()||L8()||D8()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},P3=n=>Qx()?.emulatorHosts?.[n],av=n=>{const e=P3(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},L3=()=>Qx()?.config,D3=n=>Qx()?.[`_${n}`];class M8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function uc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jx(n){return(await fetch(n,{credentials:"include"})).ok}function M3(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[cx(JSON.stringify(t)),cx(JSON.stringify(c)),""].join(".")}const gg={};function O8(){const n={prod:[],emulator:[]};for(const e of Object.keys(gg))gg[e]?n.emulator.push(e):n.prod.push(e);return n}function F8(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let gj=!1;function Zx(n,e){if(typeof window>"u"||typeof document>"u"||!uc(window.location.host)||gg[n]===e||gg[n]||gj)return;gg[n]=e;function t(v){return`__firebase__banner__${v}`}const s="__firebase__banner",o=O8().prod.length>0;function c(){const v=document.getElementById(s);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{gj=!0,c()},v}function g(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=F8(s),b=t("text"),A=document.getElementById(b)||document.createElement("span"),S=t("learnmore"),j=document.getElementById(S)||document.createElement("a"),E=t("preprendIcon"),L=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const O=v.element;d(O),g(j,S);const D=f();h(L,E),O.append(L,A,j,D),document.body.appendChild(O)}o?(A.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function aa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(aa())}function O3(){const n=Qx()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z8(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function B8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q8(){const n=aa();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function F3(){return!O3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U3(){return!O3()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function V3(){try{return typeof indexedDB=="object"}catch{return!1}}function G8(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const H8="FirebaseError";class Nl extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=H8,Object.setPrototypeOf(this,Nl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tp.prototype.create)}}class tp{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?$8(o,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Nl(a,d,s)}}function $8(n,e){return n.replace(W8,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const W8=/\{\$([^}]+)}/g;function K8(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function rh(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const o=n[a],c=e[a];if(pj(o)&&pj(c)){if(!rh(o,c))return!1}else if(o!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function pj(n){return n!==null&&typeof n=="object"}function np(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function lg(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,o]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function cg(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Y8(n,e){const t=new X8(n,e);return t.subscribe.bind(t)}class X8{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");Q8(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=e1),a.error===void 0&&(a.error=e1),a.complete===void 0&&(a.complete=e1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q8(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function e1(){}function ar(n){return n&&n._delegate?n._delegate:n}class Jc{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Uu="[DEFAULT]";class J8{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new M8;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eR(e))try{this.getOrInitializeService({instanceIdentifier:Uu})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});s.resolve(o)}catch{}}}}clearInstance(e=Uu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uu){return this.instances.has(e)}getOptions(e=Uu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);s===d&&c.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&e(o,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Z8(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Uu){return this.component?this.component.multipleInstances?e:Uu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z8(n){return n===Uu?void 0:n}function eR(n){return n.instantiationMode==="EAGER"}class tR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new J8(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ln;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ln||(Ln={}));const nR={debug:Ln.DEBUG,verbose:Ln.VERBOSE,info:Ln.INFO,warn:Ln.WARN,error:Ln.ERROR,silent:Ln.SILENT},rR=Ln.INFO,sR={[Ln.DEBUG]:"log",[Ln.VERBOSE]:"log",[Ln.INFO]:"info",[Ln.WARN]:"warn",[Ln.ERROR]:"error"},aR=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=sR[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iv{constructor(e){this.name=e,this._logLevel=rR,this._logHandler=aR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ln))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ln.DEBUG,...e),this._logHandler(this,Ln.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ln.VERBOSE,...e),this._logHandler(this,Ln.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ln.INFO,...e),this._logHandler(this,Ln.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ln.WARN,...e),this._logHandler(this,Ln.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ln.ERROR,...e),this._logHandler(this,Ln.ERROR,...e)}}const iR=(n,e)=>e.some(t=>n instanceof t);let xj,yj;function oR(){return xj||(xj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lR(){return yj||(yj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z3=new WeakMap,K1=new WeakMap,B3=new WeakMap,t1=new WeakMap,ov=new WeakMap;function cR(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(tu(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&z3.set(t,n)}).catch(()=>{}),ov.set(e,n),e}function dR(n){if(K1.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});K1.set(n,e)}let Y1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return K1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||B3.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return tu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uR(n){Y1=n(Y1)}function hR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(n1(this),e,...t);return B3.set(s,e.sort?e.sort():[e]),tu(s)}:lR().includes(n)?function(...e){return n.apply(n1(this),e),tu(z3.get(this))}:function(...e){return tu(n.apply(n1(this),e))}}function fR(n){return typeof n=="function"?hR(n):(n instanceof IDBTransaction&&dR(n),iR(n,oR())?new Proxy(n,Y1):n)}function tu(n){if(n instanceof IDBRequest)return cR(n);if(t1.has(n))return t1.get(n);const e=fR(n);return e!==n&&(t1.set(n,e),ov.set(e,n)),e}const n1=n=>ov.get(n);function mR(n,e,{blocked:t,upgrade:s,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),d=tu(c);return s&&c.addEventListener("upgradeneeded",h=>{s(tu(c.result),h.oldVersion,h.newVersion,tu(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const gR=["get","getKey","getAll","getAllKeys","count"],pR=["put","add","delete","clear"],r1=new Map;function bj(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(r1.get(e))return r1.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=pR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||gR.includes(t)))return;const o=async function(c,...d){const h=this.transaction(c,a?"readwrite":"readonly");let f=h.store;return s&&(f=f.index(d.shift())),(await Promise.all([f[t](...d),a&&h.done]))[0]};return r1.set(e,o),o}uR(n=>({...n,get:(e,t,s)=>bj(e,t)||n.get(e,t,s),has:(e,t)=>!!bj(e,t)||n.has(e,t)}));class xR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(yR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function yR(n){return n.getComponent()?.type==="VERSION"}const X1="@firebase/app",vj="0.14.6";const Zc=new iv("@firebase/app"),bR="@firebase/app-compat",vR="@firebase/analytics-compat",wR="@firebase/analytics",NR="@firebase/app-check-compat",jR="@firebase/app-check",_R="@firebase/auth",SR="@firebase/auth-compat",ER="@firebase/database",AR="@firebase/data-connect",TR="@firebase/database-compat",CR="@firebase/functions",IR="@firebase/functions-compat",kR="@firebase/installations",RR="@firebase/installations-compat",PR="@firebase/messaging",LR="@firebase/messaging-compat",DR="@firebase/performance",MR="@firebase/performance-compat",OR="@firebase/remote-config",FR="@firebase/remote-config-compat",UR="@firebase/storage",VR="@firebase/storage-compat",zR="@firebase/firestore",BR="@firebase/ai",qR="@firebase/firestore-compat",GR="firebase",HR="12.6.0";const Q1="[DEFAULT]",$R={[X1]:"fire-core",[bR]:"fire-core-compat",[wR]:"fire-analytics",[vR]:"fire-analytics-compat",[jR]:"fire-app-check",[NR]:"fire-app-check-compat",[_R]:"fire-auth",[SR]:"fire-auth-compat",[ER]:"fire-rtdb",[AR]:"fire-data-connect",[TR]:"fire-rtdb-compat",[CR]:"fire-fn",[IR]:"fire-fn-compat",[kR]:"fire-iid",[RR]:"fire-iid-compat",[PR]:"fire-fcm",[LR]:"fire-fcm-compat",[DR]:"fire-perf",[MR]:"fire-perf-compat",[OR]:"fire-rc",[FR]:"fire-rc-compat",[UR]:"fire-gcs",[VR]:"fire-gcs-compat",[zR]:"fire-fst",[qR]:"fire-fst-compat",[BR]:"fire-vertex","fire-js":"fire-js",[GR]:"fire-js-all"};const dx=new Map,WR=new Map,J1=new Map;function wj(n,e){try{n.container.addComponent(e)}catch(t){Zc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function lu(n){const e=n.name;if(J1.has(e))return Zc.debug(`There were multiple attempts to register component ${e}.`),!1;J1.set(e,n);for(const t of dx.values())wj(t,n);for(const t of WR.values())wj(t,n);return!0}function rp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function qi(n){return n==null?!1:n.settings!==void 0}const KR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nu=new tp("app","Firebase",KR);class YR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nu.create("app-deleted",{appName:this._name})}}const bh=HR;function q3(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Q1,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw nu.create("bad-app-name",{appName:String(a)});if(t||(t=L3()),!t)throw nu.create("no-options");const o=dx.get(a);if(o){if(rh(t,o.options)&&rh(s,o.config))return o;throw nu.create("duplicate-app",{appName:a})}const c=new tR(a);for(const h of J1.values())c.addComponent(h);const d=new YR(t,s,c);return dx.set(a,d),d}function ey(n=Q1){const e=dx.get(n);if(!e&&n===Q1&&L3())return q3();if(!e)throw nu.create("no-app",{appName:n});return e}function Bo(n,e,t){let s=$R[n]??n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zc.warn(c.join(" "));return}lu(new Jc(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const XR="firebase-heartbeat-database",QR=1,Lg="firebase-heartbeat-store";let s1=null;function G3(){return s1||(s1=mR(XR,QR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Lg)}catch(t){console.warn(t)}}}}).catch(n=>{throw nu.create("idb-open",{originalErrorMessage:n.message})})),s1}async function JR(n){try{const t=(await G3()).transaction(Lg),s=await t.objectStore(Lg).get(H3(n));return await t.done,s}catch(e){if(e instanceof Nl)Zc.warn(e.message);else{const t=nu.create("idb-get",{originalErrorMessage:e?.message});Zc.warn(t.message)}}}async function Nj(n,e){try{const s=(await G3()).transaction(Lg,"readwrite");await s.objectStore(Lg).put(e,H3(n)),await s.done}catch(t){if(t instanceof Nl)Zc.warn(t.message);else{const s=nu.create("idb-set",{originalErrorMessage:t?.message});Zc.warn(s.message)}}}function H3(n){return`${n.name}!${n.options.appId}`}const ZR=1024,eP=30;class tP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rP(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jj();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>eP){const a=sP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zc.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jj(),{heartbeatsToSend:t,unsentEntries:s}=nP(this._heartbeatsCache.heartbeats),a=cx(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Zc.warn(e),""}}}function jj(){return new Date().toISOString().substring(0,10)}function nP(n,e=ZR){const t=[];let s=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),_j(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),_j(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class rP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V3()?G8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await JR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Nj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Nj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function _j(n){return cx(JSON.stringify({version:2,heartbeats:n})).length}function sP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function aP(n){lu(new Jc("platform-logger",e=>new xR(e),"PRIVATE")),lu(new Jc("heartbeat",e=>new tP(e),"PRIVATE")),Bo(X1,vj,n),Bo(X1,vj,"esm2020"),Bo("fire-js","")}aP("");function $3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iP=$3,W3=new tp("auth","Firebase",$3());const ux=new iv("@firebase/auth");function oP(n,...e){ux.logLevel<=Ln.WARN&&ux.warn(`Auth (${bh}): ${n}`,...e)}function U0(n,...e){ux.logLevel<=Ln.ERROR&&ux.error(`Auth (${bh}): ${n}`,...e)}function bl(n,...e){throw lv(n,...e)}function tc(n,...e){return lv(n,...e)}function K3(n,e,t){const s={...iP(),[e]:t};return new tp("auth","Firebase",s).create(e,{appName:n.name})}function Xc(n){return K3(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lv(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return W3.create(n,...e)}function Zt(n,e,...t){if(!n)throw lv(e,...t)}function $c(n){const e="INTERNAL ASSERTION FAILED: "+n;throw U0(e),new Error(e)}function ed(n,e){n||$c(e)}function Z1(){return typeof self<"u"&&self.location?.href||""}function lP(){return Sj()==="http:"||Sj()==="https:"}function Sj(){return typeof self<"u"&&self.location?.protocol||null}function cP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lP()||z8()||"connection"in navigator)?navigator.onLine:!0}function dP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class sp{constructor(e,t){this.shortDelay=e,this.longDelay=t,ed(t>e,"Short delay should be less than long delay!"),this.isMobile=U8()||B8()}get(){return cP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cv(n,e){ed(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Y3{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$c("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$c("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$c("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const hP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fP=new sp(3e4,6e4);function ad(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function id(n,e,t,s,a={}){return X3(n,a,async()=>{let o={},c={};s&&(e==="GET"?c=s:o={body:JSON.stringify(s)});const d=np({key:n.config.apiKey,...c}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:h,...o};return V8()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&uc(n.emulatorConfig.host)&&(f.credentials="include"),Y3.fetch()(await Q3(n,n.config.apiHost,t,d),f)})}async function X3(n,e,t){n._canInitEmulator=!1;const s={...uP,...e};try{const a=new gP(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw y0(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[h,f]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw y0(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw y0(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw y0(n,"user-disabled",c);const g=s[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw K3(n,g,f);bl(n,g)}}catch(a){if(a instanceof Nl)throw a;bl(n,"network-request-failed",{message:String(a)})}}async function ap(n,e,t,s,a={}){const o=await id(n,e,t,s,a);return"mfaPendingCredential"in o&&bl(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Q3(n,e,t,s){const a=`${e}${t}?${s}`,o=n,c=o.config.emulator?cv(n.config,a):`${n.config.apiScheme}://${a}`;return hP.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function mP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(tc(this.auth,"network-request-failed")),fP.get())})}}function y0(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=tc(n,e,s);return a.customData._tokenResponse=t,a}function Ej(n){return n!==void 0&&n.enterprise!==void 0}class pP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return mP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xP(n,e){return id(n,"GET","/v2/recaptchaConfig",ad(n,e))}async function yP(n,e){return id(n,"POST","/v1/accounts:delete",e)}async function hx(n,e){return id(n,"POST","/v1/accounts:lookup",e)}function pg(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bP(n,e=!1){const t=ar(n),s=await t.getIdToken(e),a=dv(s);Zt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:s,authTime:pg(a1(a.auth_time)),issuedAtTime:pg(a1(a.iat)),expirationTime:pg(a1(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function a1(n){return Number(n)*1e3}function dv(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return U0("JWT malformed, contained fewer than 3 sections"),null;try{const a=k3(t);return a?JSON.parse(a):(U0("Failed to decode base64 JWT payload"),null)}catch(a){return U0("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Aj(n){const e=dv(n);return Zt(e,"internal-error"),Zt(typeof e.exp<"u","internal-error"),Zt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Dg(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Nl&&vP(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function vP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class wP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class e2{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pg(this.lastLoginAt),this.creationTime=pg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fx(n){const e=n.auth,t=await n.getIdToken(),s=await Dg(n,hx(e,{idToken:t}));Zt(s?.users.length,e,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?J3(a.providerUserInfo):[],c=jP(n.providerData,o),d=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!c?.length,f=d?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new e2(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function NP(n){const e=ar(n);await fx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jP(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function J3(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function _P(n,e){const t=await X3(n,{},async()=>{const s=np({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await Q3(n,a,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:s};return n.emulatorConfig&&uc(n.emulatorConfig.host)&&(h.credentials="include"),Y3.fetch()(c,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function SP(n,e){return id(n,"POST","/v2/accounts:revokeToken",ad(n,e))}class Cf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Zt(e.idToken,"internal-error"),Zt(typeof e.idToken<"u","internal-error"),Zt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Aj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Zt(e.length!==0,"internal-error");const t=Aj(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Zt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:o}=await _P(e,t);this.updateTokensAndExpiration(s,a,Number(o))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:o}=t,c=new Cf;return s&&(Zt(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Zt(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Zt(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cf,this.toJSON())}_performRefresh(){return $c("not implemented")}}function Ud(n,e){Zt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xl{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new wP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new e2(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Dg(this,this.stsTokenManager.getToken(this.auth,e));return Zt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return bP(this,e)}reload(){return NP(this)}_assign(e){this!==e&&(Zt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xl({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await fx(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qi(this.auth.app))return Promise.reject(Xc(this.auth));const e=await this.getIdToken();return await Dg(this,yP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,h=t._redirectEventId??void 0,f=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:b,providerData:A,stsTokenManager:S}=t;Zt(p&&S,e,"internal-error");const j=Cf.fromJSON(this.name,S);Zt(typeof p=="string",e,"internal-error"),Ud(s,e.name),Ud(a,e.name),Zt(typeof v=="boolean",e,"internal-error"),Zt(typeof b=="boolean",e,"internal-error"),Ud(o,e.name),Ud(c,e.name),Ud(d,e.name),Ud(h,e.name),Ud(f,e.name),Ud(g,e.name);const E=new xl({uid:p,auth:e,email:a,emailVerified:v,displayName:s,isAnonymous:b,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:j,createdAt:f,lastLoginAt:g});return A&&Array.isArray(A)&&(E.providerData=A.map(L=>({...L}))),h&&(E._redirectEventId=h),E}static async _fromIdTokenResponse(e,t,s=!1){const a=new Cf;a.updateFromServerResponse(t);const o=new xl({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await fx(o),o}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Zt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?J3(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,d=new Cf;d.updateFromIdToken(s);const h=new xl({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new e2(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(h,f),h}}const Tj=new Map;function Wc(n){ed(n instanceof Function,"Expected a class definition");let e=Tj.get(n);return e?(ed(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Tj.set(n,e),e)}class Z3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Z3.type="NONE";const Cj=Z3;function V0(n,e,t){return`firebase:${n}:${e}:${t}`}class If{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:o}=this.auth;this.fullUserKey=V0(this.userKey,a.apiKey,o),this.fullPersistenceKey=V0("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await hx(this.auth,{idToken:e}).catch(()=>{});return t?xl._fromGetAccountInfoResponse(this.auth,t,e):null}return xl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new If(Wc(Cj),e,s);const a=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=a[0]||Wc(Cj);const c=V0(s,e.config.apiKey,e.name);let d=null;for(const f of t)try{const g=await f._get(c);if(g){let p;if(typeof g=="string"){const v=await hx(e,{idToken:g}).catch(()=>{});if(!v)break;p=await xl._fromGetAccountInfoResponse(e,v,g)}else p=xl._fromJSON(e,g);f!==o&&(d=p),o=f;break}}catch{}const h=a.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new If(o,e,s):(o=h[0],d&&await o._set(c,d.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(c)}catch{}})),new If(o,e,s))}}function Ij(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aS(e))return"Blackberry";if(iS(e))return"Webos";if(tS(e))return"Safari";if((e.includes("chrome/")||nS(e))&&!e.includes("edge/"))return"Chrome";if(sS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function eS(n=aa()){return/firefox\//i.test(n)}function tS(n=aa()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nS(n=aa()){return/crios\//i.test(n)}function rS(n=aa()){return/iemobile/i.test(n)}function sS(n=aa()){return/android/i.test(n)}function aS(n=aa()){return/blackberry/i.test(n)}function iS(n=aa()){return/webos/i.test(n)}function uv(n=aa()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function EP(n=aa()){return uv(n)&&!!window.navigator?.standalone}function AP(){return q8()&&document.documentMode===10}function oS(n=aa()){return uv(n)||sS(n)||iS(n)||aS(n)||/windows phone/i.test(n)||rS(n)}function lS(n,e=[]){let t;switch(n){case"Browser":t=Ij(aa());break;case"Worker":t=`${Ij(aa())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bh}/${s}`}class TP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=o=>new Promise((c,d)=>{try{const h=e(o);c(h)}catch(h){d(h)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function CP(n,e={}){return id(n,"GET","/v2/passwordPolicy",ad(n,e))}const IP=6;class kP{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??IP,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class RP{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kj(this),this.idTokenSubscription=new kj(this),this.beforeStateQueue=new TP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wc(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await If.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await hx(this,{idToken:e}),s=await xl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Zt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fx(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qi(this.app))return Promise.reject(Xc(this));const t=e?ar(e):null;return t&&Zt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Zt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qi(this.app)?Promise.reject(Xc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qi(this.app)?Promise.reject(Xc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CP(this),t=new kP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tp("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await SP(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wc(e)||this._popupRedirectResolver;Zt(t,this,"argument-error"),this.redirectPersistenceManager=await If.create(this,[Wc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Zt(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,s,a);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(qi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&oP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xu(n){return ar(n)}class kj{constructor(e){this.auth=e,this.observer=null,this.addObserver=Y8(t=>this.observer=t)}get next(){return Zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ty={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PP(n){ty=n}function cS(n){return ty.loadJS(n)}function LP(){return ty.recaptchaEnterpriseScript}function DP(){return ty.gapiScript}function MP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class OP{constructor(){this.enterprise=new FP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class FP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const UP="recaptcha-enterprise",dS="NO_RECAPTCHA";class VP{constructor(e){this.type=UP,this.auth=xu(e)}async verify(e="verify",t=!1){async function s(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{xP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const f=new pP(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,c(f.siteKey)}}).catch(h=>{d(h)})})}function a(o,c,d){const h=window.grecaptcha;Ej(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c(dS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OP().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{s(this.auth).then(d=>{if(!t&&Ej(window.grecaptcha))a(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=LP();h.length!==0&&(h+=d),cS(h).then(()=>{a(d,o,c)}).catch(f=>{c(f)})}}).catch(d=>{c(d)})})}}async function Rj(n,e,t,s=!1,a=!1){const o=new VP(n);let c;if(a)c=dS;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,f=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function mx(n,e,t,s,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Rj(n,e,t,t==="getOobCode");return s(n,o)}else return s(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Rj(n,e,t,t==="getOobCode");return s(n,c)}else return Promise.reject(o)})}function zP(n,e){const t=rp(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(rh(o,e??{}))return a;bl(a,"already-initialized")}return t.initialize({options:e})}function BP(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Wc);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function qP(n,e,t){const s=xu(n);Zt(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,o=uS(e),{host:c,port:d}=GP(e),h=d===null?"":`:${d}`,f={url:`${o}//${c}${h}/`},g=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Zt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Zt(rh(f,s.config.emulator)&&rh(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=f,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,uc(c)?(Jx(`${o}//${c}${h}`),Zx("Auth",!0)):HP()}function uS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function GP(n){const e=uS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const o=a[1];return{host:o,port:Pj(s.substr(o.length+1))}}else{const[o,c]=s.split(":");return{host:o,port:Pj(c)}}}function Pj(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function HP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class hv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $c("not implemented")}_getIdTokenResponse(e){return $c("not implemented")}_linkToIdToken(e,t){return $c("not implemented")}_getReauthenticationResolver(e){return $c("not implemented")}}async function $P(n,e){return id(n,"POST","/v1/accounts:signUp",e)}async function WP(n,e){return ap(n,"POST","/v1/accounts:signInWithPassword",ad(n,e))}async function KP(n,e){return id(n,"POST","/v1/accounts:sendOobCode",ad(n,e))}async function YP(n,e){return KP(n,e)}async function XP(n,e){return ap(n,"POST","/v1/accounts:signInWithEmailLink",ad(n,e))}async function QP(n,e){return ap(n,"POST","/v1/accounts:signInWithEmailLink",ad(n,e))}class Mg extends hv{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Mg(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Mg(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mx(e,t,"signInWithPassword",WP);case"emailLink":return XP(e,{email:this._email,oobCode:this._password});default:bl(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mx(e,s,"signUpPassword",$P);case"emailLink":return QP(e,{idToken:t,email:this._email,oobCode:this._password});default:bl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function kf(n,e){return ap(n,"POST","/v1/accounts:signInWithIdp",ad(n,e))}const JP="http://localhost";class sh extends hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new sh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...o}=t;if(!s||!a)return null;const c=new sh(s,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return kf(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,kf(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,kf(e,t)}buildRequest(){const e={requestUri:JP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=np(t)}return e}}function ZP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eL(n){const e=lg(cg(n)).link,t=e?lg(cg(e)).deep_link_id:null,s=lg(cg(n)).deep_link_id;return(s?lg(cg(s)).link:null)||s||t||e||n}class fv{constructor(e){const t=lg(cg(e)),s=t.apiKey??null,a=t.oobCode??null,o=ZP(t.mode??null);Zt(s&&a&&o,"argument-error"),this.apiKey=s,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=eL(e);try{return new fv(t)}catch{return null}}}class im{constructor(){this.providerId=im.PROVIDER_ID}static credential(e,t){return Mg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=fv.parseLink(t);return Zt(s,"argument-error"),Mg._fromEmailAndCode(e,s.code,s.tenantId)}}im.PROVIDER_ID="password";im.EMAIL_PASSWORD_SIGN_IN_METHOD="password";im.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class hS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ip extends hS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hd extends ip{constructor(){super("facebook.com")}static credential(e){return sh._fromParams({providerId:Hd.PROVIDER_ID,signInMethod:Hd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hd.credentialFromTaggedObject(e)}static credentialFromError(e){return Hd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hd.credential(e.oauthAccessToken)}catch{return null}}}Hd.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hd.PROVIDER_ID="facebook.com";class $d extends ip{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return sh._fromParams({providerId:$d.PROVIDER_ID,signInMethod:$d.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $d.credentialFromTaggedObject(e)}static credentialFromError(e){return $d.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return $d.credential(t,s)}catch{return null}}}$d.GOOGLE_SIGN_IN_METHOD="google.com";$d.PROVIDER_ID="google.com";class Wd extends ip{constructor(){super("github.com")}static credential(e){return sh._fromParams({providerId:Wd.PROVIDER_ID,signInMethod:Wd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wd.credentialFromTaggedObject(e)}static credentialFromError(e){return Wd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wd.credential(e.oauthAccessToken)}catch{return null}}}Wd.GITHUB_SIGN_IN_METHOD="github.com";Wd.PROVIDER_ID="github.com";class Kd extends ip{constructor(){super("twitter.com")}static credential(e,t){return sh._fromParams({providerId:Kd.PROVIDER_ID,signInMethod:Kd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Kd.credentialFromTaggedObject(e)}static credentialFromError(e){return Kd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Kd.credential(t,s)}catch{return null}}}Kd.TWITTER_SIGN_IN_METHOD="twitter.com";Kd.PROVIDER_ID="twitter.com";async function tL(n,e){return ap(n,"POST","/v1/accounts:signUp",ad(n,e))}class ah{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const o=await xl._fromIdTokenResponse(e,s,a),c=Lj(s);return new ah({user:o,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=Lj(s);return new ah({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function Lj(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class gx extends Nl{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,gx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new gx(e,t,s,a)}}function fS(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gx._fromErrorAndOperation(n,o,e,s):o})}async function nL(n,e,t=!1){const s=await Dg(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ah._forOperation(n,"link",s)}async function rL(n,e,t=!1){const{auth:s}=n;if(qi(s.app))return Promise.reject(Xc(s));const a="reauthenticate";try{const o=await Dg(n,fS(s,a,e,n),t);Zt(o.idToken,s,"internal-error");const c=dv(o.idToken);Zt(c,s,"internal-error");const{sub:d}=c;return Zt(n.uid===d,s,"user-mismatch"),ah._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&bl(s,"user-mismatch"),o}}async function mS(n,e,t=!1){if(qi(n.app))return Promise.reject(Xc(n));const s="signIn",a=await fS(n,s,e),o=await ah._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(o.user),o}async function sL(n,e){return mS(xu(n),e)}async function gS(n){const e=xu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pS(n,e,t){const s=xu(n);await mx(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",YP)}async function aL(n,e,t){if(qi(n.app))return Promise.reject(Xc(n));const s=xu(n),c=await mx(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tL).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&gS(n),h}),d=await ah._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function xS(n,e,t){return qi(n.app)?Promise.reject(Xc(n)):sL(ar(n),im.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&gS(n),s})}function iL(n,e,t,s){return ar(n).onIdTokenChanged(e,t,s)}function oL(n,e,t){return ar(n).beforeAuthStateChanged(e,t)}function yS(n,e,t,s){return ar(n).onAuthStateChanged(e,t,s)}function lL(n){return ar(n).signOut()}const px="__sak";class bS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(px,"1"),this.storage.removeItem(px),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cL=1e3,dL=10;class vS extends bS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},o=this.storage.getItem(s);AP()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,dL):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},cL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}vS.type="LOCAL";const uL=vS;class wS extends bS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wS.type="SESSION";const NS=wS;function hL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class ny{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new ny(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async f=>f(t.origin,o)),h=await hL(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ny.receivers=[];function mv(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class fL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((d,h)=>{const f=mv("",20);a.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(v.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function nc(){return window}function mL(n){nc().location.href=n}function jS(){return typeof nc().WorkerGlobalScope<"u"&&typeof nc().importScripts=="function"}async function gL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pL(){return navigator?.serviceWorker?.controller||null}function xL(){return jS()?self:null}const _S="firebaseLocalStorageDb",yL=1,xx="firebaseLocalStorage",SS="fbase_key";class op{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ry(n,e){return n.transaction([xx],e?"readwrite":"readonly").objectStore(xx)}function bL(){const n=indexedDB.deleteDatabase(_S);return new op(n).toPromise()}function t2(){const n=indexedDB.open(_S,yL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(xx,{keyPath:SS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(xx)?e(s):(s.close(),await bL(),e(await t2()))})})}async function Dj(n,e,t){const s=ry(n,!0).put({[SS]:e,value:t});return new op(s).toPromise()}async function vL(n,e){const t=ry(n,!1).get(e),s=await new op(t).toPromise();return s===void 0?null:s.value}function Mj(n,e){const t=ry(n,!0).delete(e);return new op(t).toPromise()}const wL=800,NL=3;class ES{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await t2(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>NL)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ny._getInstance(xL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gL(),!this.activeServiceWorker)return;this.sender=new fL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await t2();return await Dj(e,px,"1"),await Mj(e,px),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Dj(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>vL(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Mj(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=ry(a,!1).getAll();return new op(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ES.type="LOCAL";const jL=ES;new sp(3e4,6e4);function _L(n,e){return e?Wc(e):(Zt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class gv extends hv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return kf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return kf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function SL(n){return mS(n.auth,new gv(n),n.bypassAuthState)}function EL(n){const{auth:e,user:t}=n;return Zt(t,e,"internal-error"),rL(t,new gv(n),n.bypassAuthState)}async function AL(n){const{auth:e,user:t}=n;return Zt(t,e,"internal-error"),nL(t,new gv(n),n.bypassAuthState)}class AS{constructor(e,t,s,a,o=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:s,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SL;case"linkViaPopup":case"linkViaRedirect":return AL;case"reauthViaPopup":case"reauthViaRedirect":return EL;default:bl(this.auth,"internal-error")}}resolve(e){ed(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ed(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const TL=new sp(2e3,1e4);class Af extends AS{constructor(e,t,s,a,o){super(e,t,a,o),this.provider=s,this.authWindow=null,this.pollId=null,Af.currentPopupAction&&Af.currentPopupAction.cancel(),Af.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Zt(e,this.auth,"internal-error"),e}async onExecution(){ed(this.filter.length===1,"Popup operations only handle one event");const e=mv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(tc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(tc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Af.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TL.get())};e()}}Af.currentPopupAction=null;const CL="pendingRedirect",z0=new Map;class IL extends AS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=z0.get(this.auth._key());if(!e){try{const s=await kL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}z0.set(this.auth._key(),e)}return this.bypassAuthState||z0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kL(n,e){const t=LL(e),s=PL(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function RL(n,e){z0.set(n._key(),e)}function PL(n){return Wc(n._redirectPersistence)}function LL(n){return V0(CL,n.config.apiKey,n.name)}async function DL(n,e,t=!1){if(qi(n.app))return Promise.reject(Xc(n));const s=xu(n),a=_L(s,e),c=await new IL(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const ML=600*1e3;class OL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!TS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(tc(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ML&&this.cachedEventUids.clear(),this.cachedEventUids.has(Oj(e))}saveEventToCache(e){this.cachedEventUids.add(Oj(e)),this.lastProcessedEventTime=Date.now()}}function Oj(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function TS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function FL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TS(n);default:return!1}}async function UL(n,e={}){return id(n,"GET","/v1/projects",e)}const VL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zL=/^https?/;async function BL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await UL(n);for(const t of e)try{if(qL(t))return}catch{}bl(n,"unauthorized-domain")}function qL(n){const e=Z1(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!zL.test(t))return!1;if(VL.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const GL=new sp(3e4,6e4);function Fj(){const n=nc().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function HL(n){return new Promise((e,t)=>{function s(){Fj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fj(),t(tc(n,"network-request-failed"))},timeout:GL.get()})}if(nc().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(nc().gapi?.load)s();else{const a=MP("iframefcb");return nc()[a]=()=>{gapi.load?s():t(tc(n,"network-request-failed"))},cS(`${DP()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw B0=null,e})}let B0=null;function $L(n){return B0=B0||HL(n),B0}const WL=new sp(5e3,15e3),KL="__/auth/iframe",YL="emulator/auth/iframe",XL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JL(n){const e=n.config;Zt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?cv(e,YL):`https://${n.config.authDomain}/${KL}`,s={apiKey:e.apiKey,appName:n.name,v:bh},a=QL.get(n.config.apiHost);a&&(s.eid=a);const o=n._getFrameworks();return o.length&&(s.fw=o.join(",")),`${t}?${np(s).slice(1)}`}async function ZL(n){const e=await $L(n),t=nc().gapi;return Zt(t,n,"internal-error"),e.open({where:document.body,url:JL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XL,dontclear:!0},s=>new Promise(async(a,o)=>{await s.restyle({setHideOnLeave:!1});const c=tc(n,"network-request-failed"),d=nc().setTimeout(()=>{o(c)},WL.get());function h(){nc().clearTimeout(d),a(s)}s.ping(h).then(h,()=>{o(c)})}))}const e7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t7=500,n7=600,r7="_blank",s7="http://localhost";class Uj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a7(n,e,t,s=t7,a=n7){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const h={...e7,width:s.toString(),height:a.toString(),top:o,left:c},f=aa().toLowerCase();t&&(d=nS(f)?r7:t),eS(f)&&(e=e||s7,h.scrollbars="yes");const g=Object.entries(h).reduce((v,[b,A])=>`${v}${b}=${A},`,"");if(EP(f)&&d!=="_self")return i7(e||"",d),new Uj(null);const p=window.open(e||"",d,g);Zt(p,n,"popup-blocked");try{p.focus()}catch{}return new Uj(p)}function i7(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const o7="__/auth/handler",l7="emulator/auth/handler",c7=encodeURIComponent("fac");async function Vj(n,e,t,s,a,o){Zt(n.config.authDomain,n,"auth-domain-config-required"),Zt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:bh,eventId:a};if(e instanceof hS){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",K8(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,p]of Object.entries({}))c[g]=p}if(e instanceof ip){const g=e.getScopes().filter(p=>p!=="");g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await n._getAppCheckToken(),f=h?`#${c7}=${encodeURIComponent(h)}`:"";return`${d7(n)}?${np(d).slice(1)}${f}`}function d7({config:n}){return n.emulator?cv(n,l7):`https://${n.authDomain}/${o7}`}const i1="webStorageSupport";class u7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NS,this._completeRedirectFn=DL,this._overrideRedirectResult=RL}async _openPopup(e,t,s,a){ed(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Vj(e,t,s,Z1(),a);return a7(e,o,mv())}async _openRedirect(e,t,s,a){await this._originValidation(e);const o=await Vj(e,t,s,Z1(),a);return mL(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(ed(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await ZL(e),s=new OL(e);return t.register("authEvent",a=>(Zt(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(i1,{type:i1},a=>{const o=a?.[0]?.[i1];o!==void 0&&t(!!o),bl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=BL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oS()||tS()||uv()}}const h7=u7;var zj="@firebase/auth",Bj="1.11.1";class f7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function m7(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g7(n){lu(new Jc("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Zt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const h={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lS(n)},f=new RP(s,a,o,h);return BP(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),lu(new Jc("auth-internal",e=>{const t=xu(e.getProvider("auth").getImmediate());return(s=>new f7(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bo(zj,Bj,m7(n)),Bo(zj,Bj,"esm2020")}const p7=300,x7=D3("authIdTokenMaxAge")||p7;let qj=null;const y7=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>x7)return;const a=t?.token;qj!==a&&(qj=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function b7(n=ey()){const e=rp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=zP(n,{popupRedirectResolver:h7,persistence:[jL,uL,NS]}),s=D3("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const c=y7(o.toString());oL(t,c,()=>c(t.currentUser)),iL(t,d=>c(d))}}const a=P3("auth");return a&&qP(t,`http://${a}`),t}function v7(){return document.getElementsByTagName("head")?.[0]??document}PP({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const o=tc("internal-error");o.customData=a,t(o)},s.type="text/javascript",s.charset="UTF-8",v7().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g7("Browser");var Gj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ru,CS;(function(){var n;function e(H,M){function I(){}I.prototype=M.prototype,H.F=M.prototype,H.prototype=new I,H.prototype.constructor=H,H.D=function(U,k,P){for(var z=Array(arguments.length-2),le=2;le<arguments.length;le++)z[le-2]=arguments[le];return M.prototype[k].apply(U,z)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(H,M,I){I||(I=0);const U=Array(16);if(typeof M=="string")for(var k=0;k<16;++k)U[k]=M.charCodeAt(I++)|M.charCodeAt(I++)<<8|M.charCodeAt(I++)<<16|M.charCodeAt(I++)<<24;else for(k=0;k<16;++k)U[k]=M[I++]|M[I++]<<8|M[I++]<<16|M[I++]<<24;M=H.g[0],I=H.g[1],k=H.g[2];let P=H.g[3],z;z=M+(P^I&(k^P))+U[0]+3614090360&4294967295,M=I+(z<<7&4294967295|z>>>25),z=P+(k^M&(I^k))+U[1]+3905402710&4294967295,P=M+(z<<12&4294967295|z>>>20),z=k+(I^P&(M^I))+U[2]+606105819&4294967295,k=P+(z<<17&4294967295|z>>>15),z=I+(M^k&(P^M))+U[3]+3250441966&4294967295,I=k+(z<<22&4294967295|z>>>10),z=M+(P^I&(k^P))+U[4]+4118548399&4294967295,M=I+(z<<7&4294967295|z>>>25),z=P+(k^M&(I^k))+U[5]+1200080426&4294967295,P=M+(z<<12&4294967295|z>>>20),z=k+(I^P&(M^I))+U[6]+2821735955&4294967295,k=P+(z<<17&4294967295|z>>>15),z=I+(M^k&(P^M))+U[7]+4249261313&4294967295,I=k+(z<<22&4294967295|z>>>10),z=M+(P^I&(k^P))+U[8]+1770035416&4294967295,M=I+(z<<7&4294967295|z>>>25),z=P+(k^M&(I^k))+U[9]+2336552879&4294967295,P=M+(z<<12&4294967295|z>>>20),z=k+(I^P&(M^I))+U[10]+4294925233&4294967295,k=P+(z<<17&4294967295|z>>>15),z=I+(M^k&(P^M))+U[11]+2304563134&4294967295,I=k+(z<<22&4294967295|z>>>10),z=M+(P^I&(k^P))+U[12]+1804603682&4294967295,M=I+(z<<7&4294967295|z>>>25),z=P+(k^M&(I^k))+U[13]+4254626195&4294967295,P=M+(z<<12&4294967295|z>>>20),z=k+(I^P&(M^I))+U[14]+2792965006&4294967295,k=P+(z<<17&4294967295|z>>>15),z=I+(M^k&(P^M))+U[15]+1236535329&4294967295,I=k+(z<<22&4294967295|z>>>10),z=M+(k^P&(I^k))+U[1]+4129170786&4294967295,M=I+(z<<5&4294967295|z>>>27),z=P+(I^k&(M^I))+U[6]+3225465664&4294967295,P=M+(z<<9&4294967295|z>>>23),z=k+(M^I&(P^M))+U[11]+643717713&4294967295,k=P+(z<<14&4294967295|z>>>18),z=I+(P^M&(k^P))+U[0]+3921069994&4294967295,I=k+(z<<20&4294967295|z>>>12),z=M+(k^P&(I^k))+U[5]+3593408605&4294967295,M=I+(z<<5&4294967295|z>>>27),z=P+(I^k&(M^I))+U[10]+38016083&4294967295,P=M+(z<<9&4294967295|z>>>23),z=k+(M^I&(P^M))+U[15]+3634488961&4294967295,k=P+(z<<14&4294967295|z>>>18),z=I+(P^M&(k^P))+U[4]+3889429448&4294967295,I=k+(z<<20&4294967295|z>>>12),z=M+(k^P&(I^k))+U[9]+568446438&4294967295,M=I+(z<<5&4294967295|z>>>27),z=P+(I^k&(M^I))+U[14]+3275163606&4294967295,P=M+(z<<9&4294967295|z>>>23),z=k+(M^I&(P^M))+U[3]+4107603335&4294967295,k=P+(z<<14&4294967295|z>>>18),z=I+(P^M&(k^P))+U[8]+1163531501&4294967295,I=k+(z<<20&4294967295|z>>>12),z=M+(k^P&(I^k))+U[13]+2850285829&4294967295,M=I+(z<<5&4294967295|z>>>27),z=P+(I^k&(M^I))+U[2]+4243563512&4294967295,P=M+(z<<9&4294967295|z>>>23),z=k+(M^I&(P^M))+U[7]+1735328473&4294967295,k=P+(z<<14&4294967295|z>>>18),z=I+(P^M&(k^P))+U[12]+2368359562&4294967295,I=k+(z<<20&4294967295|z>>>12),z=M+(I^k^P)+U[5]+4294588738&4294967295,M=I+(z<<4&4294967295|z>>>28),z=P+(M^I^k)+U[8]+2272392833&4294967295,P=M+(z<<11&4294967295|z>>>21),z=k+(P^M^I)+U[11]+1839030562&4294967295,k=P+(z<<16&4294967295|z>>>16),z=I+(k^P^M)+U[14]+4259657740&4294967295,I=k+(z<<23&4294967295|z>>>9),z=M+(I^k^P)+U[1]+2763975236&4294967295,M=I+(z<<4&4294967295|z>>>28),z=P+(M^I^k)+U[4]+1272893353&4294967295,P=M+(z<<11&4294967295|z>>>21),z=k+(P^M^I)+U[7]+4139469664&4294967295,k=P+(z<<16&4294967295|z>>>16),z=I+(k^P^M)+U[10]+3200236656&4294967295,I=k+(z<<23&4294967295|z>>>9),z=M+(I^k^P)+U[13]+681279174&4294967295,M=I+(z<<4&4294967295|z>>>28),z=P+(M^I^k)+U[0]+3936430074&4294967295,P=M+(z<<11&4294967295|z>>>21),z=k+(P^M^I)+U[3]+3572445317&4294967295,k=P+(z<<16&4294967295|z>>>16),z=I+(k^P^M)+U[6]+76029189&4294967295,I=k+(z<<23&4294967295|z>>>9),z=M+(I^k^P)+U[9]+3654602809&4294967295,M=I+(z<<4&4294967295|z>>>28),z=P+(M^I^k)+U[12]+3873151461&4294967295,P=M+(z<<11&4294967295|z>>>21),z=k+(P^M^I)+U[15]+530742520&4294967295,k=P+(z<<16&4294967295|z>>>16),z=I+(k^P^M)+U[2]+3299628645&4294967295,I=k+(z<<23&4294967295|z>>>9),z=M+(k^(I|~P))+U[0]+4096336452&4294967295,M=I+(z<<6&4294967295|z>>>26),z=P+(I^(M|~k))+U[7]+1126891415&4294967295,P=M+(z<<10&4294967295|z>>>22),z=k+(M^(P|~I))+U[14]+2878612391&4294967295,k=P+(z<<15&4294967295|z>>>17),z=I+(P^(k|~M))+U[5]+4237533241&4294967295,I=k+(z<<21&4294967295|z>>>11),z=M+(k^(I|~P))+U[12]+1700485571&4294967295,M=I+(z<<6&4294967295|z>>>26),z=P+(I^(M|~k))+U[3]+2399980690&4294967295,P=M+(z<<10&4294967295|z>>>22),z=k+(M^(P|~I))+U[10]+4293915773&4294967295,k=P+(z<<15&4294967295|z>>>17),z=I+(P^(k|~M))+U[1]+2240044497&4294967295,I=k+(z<<21&4294967295|z>>>11),z=M+(k^(I|~P))+U[8]+1873313359&4294967295,M=I+(z<<6&4294967295|z>>>26),z=P+(I^(M|~k))+U[15]+4264355552&4294967295,P=M+(z<<10&4294967295|z>>>22),z=k+(M^(P|~I))+U[6]+2734768916&4294967295,k=P+(z<<15&4294967295|z>>>17),z=I+(P^(k|~M))+U[13]+1309151649&4294967295,I=k+(z<<21&4294967295|z>>>11),z=M+(k^(I|~P))+U[4]+4149444226&4294967295,M=I+(z<<6&4294967295|z>>>26),z=P+(I^(M|~k))+U[11]+3174756917&4294967295,P=M+(z<<10&4294967295|z>>>22),z=k+(M^(P|~I))+U[2]+718787259&4294967295,k=P+(z<<15&4294967295|z>>>17),z=I+(P^(k|~M))+U[9]+3951481745&4294967295,H.g[0]=H.g[0]+M&4294967295,H.g[1]=H.g[1]+(k+(z<<21&4294967295|z>>>11))&4294967295,H.g[2]=H.g[2]+k&4294967295,H.g[3]=H.g[3]+P&4294967295}s.prototype.v=function(H,M){M===void 0&&(M=H.length);const I=M-this.blockSize,U=this.C;let k=this.h,P=0;for(;P<M;){if(k==0)for(;P<=I;)a(this,H,P),P+=this.blockSize;if(typeof H=="string"){for(;P<M;)if(U[k++]=H.charCodeAt(P++),k==this.blockSize){a(this,U),k=0;break}}else for(;P<M;)if(U[k++]=H[P++],k==this.blockSize){a(this,U),k=0;break}}this.h=k,this.o+=M},s.prototype.A=function(){var H=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);H[0]=128;for(var M=1;M<H.length-8;++M)H[M]=0;M=this.o*8;for(var I=H.length-8;I<H.length;++I)H[I]=M&255,M/=256;for(this.v(H),H=Array(16),M=0,I=0;I<4;++I)for(let U=0;U<32;U+=8)H[M++]=this.g[I]>>>U&255;return H};function o(H,M){var I=d;return Object.prototype.hasOwnProperty.call(I,H)?I[H]:I[H]=M(H)}function c(H,M){this.h=M;const I=[];let U=!0;for(let k=H.length-1;k>=0;k--){const P=H[k]|0;U&&P==M||(I[k]=P,U=!1)}this.g=I}var d={};function h(H){return-128<=H&&H<128?o(H,function(M){return new c([M|0],M<0?-1:0)}):new c([H|0],H<0?-1:0)}function f(H){if(isNaN(H)||!isFinite(H))return p;if(H<0)return j(f(-H));const M=[];let I=1;for(let U=0;H>=I;U++)M[U]=H/I|0,I*=4294967296;return new c(M,0)}function g(H,M){if(H.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(H.charAt(0)=="-")return j(g(H.substring(1),M));if(H.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=f(Math.pow(M,8));let U=p;for(let P=0;P<H.length;P+=8){var k=Math.min(8,H.length-P);const z=parseInt(H.substring(P,P+k),M);k<8?(k=f(Math.pow(M,k)),U=U.j(k).add(f(z))):(U=U.j(I),U=U.add(f(z)))}return U}var p=h(0),v=h(1),b=h(16777216);n=c.prototype,n.m=function(){if(S(this))return-j(this).m();let H=0,M=1;for(let I=0;I<this.g.length;I++){const U=this.i(I);H+=(U>=0?U:4294967296+U)*M,M*=4294967296}return H},n.toString=function(H){if(H=H||10,H<2||36<H)throw Error("radix out of range: "+H);if(A(this))return"0";if(S(this))return"-"+j(this).toString(H);const M=f(Math.pow(H,6));var I=this;let U="";for(;;){const k=D(I,M).g;I=E(I,k.j(M));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(H);if(I=k,A(I))return P+U;for(;P.length<6;)P="0"+P;U=P+U}},n.i=function(H){return H<0?0:H<this.g.length?this.g[H]:this.h};function A(H){if(H.h!=0)return!1;for(let M=0;M<H.g.length;M++)if(H.g[M]!=0)return!1;return!0}function S(H){return H.h==-1}n.l=function(H){return H=E(this,H),S(H)?-1:A(H)?0:1};function j(H){const M=H.g.length,I=[];for(let U=0;U<M;U++)I[U]=~H.g[U];return new c(I,~H.h).add(v)}n.abs=function(){return S(this)?j(this):this},n.add=function(H){const M=Math.max(this.g.length,H.g.length),I=[];let U=0;for(let k=0;k<=M;k++){let P=U+(this.i(k)&65535)+(H.i(k)&65535),z=(P>>>16)+(this.i(k)>>>16)+(H.i(k)>>>16);U=z>>>16,P&=65535,z&=65535,I[k]=z<<16|P}return new c(I,I[I.length-1]&-2147483648?-1:0)};function E(H,M){return H.add(j(M))}n.j=function(H){if(A(this)||A(H))return p;if(S(this))return S(H)?j(this).j(j(H)):j(j(this).j(H));if(S(H))return j(this.j(j(H)));if(this.l(b)<0&&H.l(b)<0)return f(this.m()*H.m());const M=this.g.length+H.g.length,I=[];for(var U=0;U<2*M;U++)I[U]=0;for(U=0;U<this.g.length;U++)for(let k=0;k<H.g.length;k++){const P=this.i(U)>>>16,z=this.i(U)&65535,le=H.i(k)>>>16,Ne=H.i(k)&65535;I[2*U+2*k]+=z*Ne,L(I,2*U+2*k),I[2*U+2*k+1]+=P*Ne,L(I,2*U+2*k+1),I[2*U+2*k+1]+=z*le,L(I,2*U+2*k+1),I[2*U+2*k+2]+=P*le,L(I,2*U+2*k+2)}for(H=0;H<M;H++)I[H]=I[2*H+1]<<16|I[2*H];for(H=M;H<2*M;H++)I[H]=0;return new c(I,0)};function L(H,M){for(;(H[M]&65535)!=H[M];)H[M+1]+=H[M]>>>16,H[M]&=65535,M++}function O(H,M){this.g=H,this.h=M}function D(H,M){if(A(M))throw Error("division by zero");if(A(H))return new O(p,p);if(S(H))return M=D(j(H),M),new O(j(M.g),j(M.h));if(S(M))return M=D(H,j(M)),new O(j(M.g),M.h);if(H.g.length>30){if(S(H)||S(M))throw Error("slowDivide_ only works with positive integers.");for(var I=v,U=M;U.l(H)<=0;)I=ee(I),U=ee(U);var k=te(I,1),P=te(U,1);for(U=te(U,2),I=te(I,2);!A(U);){var z=P.add(U);z.l(H)<=0&&(k=k.add(I),P=z),U=te(U,1),I=te(I,1)}return M=E(H,k.j(M)),new O(k,M)}for(k=p;H.l(M)>=0;){for(I=Math.max(1,Math.floor(H.m()/M.m())),U=Math.ceil(Math.log(I)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),P=f(I),z=P.j(M);S(z)||z.l(H)>0;)I-=U,P=f(I),z=P.j(M);A(P)&&(P=v),k=k.add(P),H=E(H,z)}return new O(k,H)}n.B=function(H){return D(this,H).h},n.and=function(H){const M=Math.max(this.g.length,H.g.length),I=[];for(let U=0;U<M;U++)I[U]=this.i(U)&H.i(U);return new c(I,this.h&H.h)},n.or=function(H){const M=Math.max(this.g.length,H.g.length),I=[];for(let U=0;U<M;U++)I[U]=this.i(U)|H.i(U);return new c(I,this.h|H.h)},n.xor=function(H){const M=Math.max(this.g.length,H.g.length),I=[];for(let U=0;U<M;U++)I[U]=this.i(U)^H.i(U);return new c(I,this.h^H.h)};function ee(H){const M=H.g.length+1,I=[];for(let U=0;U<M;U++)I[U]=H.i(U)<<1|H.i(U-1)>>>31;return new c(I,H.h)}function te(H,M){const I=M>>5;M%=32;const U=H.g.length-I,k=[];for(let P=0;P<U;P++)k[P]=M>0?H.i(P+I)>>>M|H.i(P+I+1)<<32-M:H.i(P+I);return new c(k,H.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,CS=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=g,ru=c}).apply(typeof Gj<"u"?Gj:typeof self<"u"?self:typeof window<"u"?window:{});var b0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var IS,dg,kS,q0,n2,RS,PS,LS;(function(){var n,e=Object.defineProperty;function t(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof b0=="object"&&b0];for(var R=0;R<y.length;++R){var B=y[R];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var s=t(this);function a(y,R){if(R)e:{var B=s;y=y.split(".");for(var ne=0;ne<y.length-1;ne++){var Se=y[ne];if(!(Se in B))break e;B=B[Se]}y=y[y.length-1],ne=B[y],R=R(ne),R!=ne&&R!=null&&e(B,y,{configurable:!0,writable:!0,value:R})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(R){var B=[],ne;for(ne in R)Object.prototype.hasOwnProperty.call(R,ne)&&B.push([ne,R[ne]]);return B}});var o=o||{},c=this||self;function d(y){var R=typeof y;return R=="object"&&y!=null||R=="function"}function h(y,R,B){return y.call.apply(y.bind,arguments)}function f(y,R,B){return f=h,f.apply(null,arguments)}function g(y,R){var B=Array.prototype.slice.call(arguments,1);return function(){var ne=B.slice();return ne.push.apply(ne,arguments),y.apply(this,ne)}}function p(y,R){function B(){}B.prototype=R.prototype,y.Z=R.prototype,y.prototype=new B,y.prototype.constructor=y,y.Ob=function(ne,Se,Le){for(var nt=Array(arguments.length-2),en=2;en<arguments.length;en++)nt[en-2]=arguments[en];return R.prototype[Se].apply(ne,nt)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function b(y){const R=y.length;if(R>0){const B=Array(R);for(let ne=0;ne<R;ne++)B[ne]=y[ne];return B}return[]}function A(y,R){for(let ne=1;ne<arguments.length;ne++){const Se=arguments[ne];var B=typeof Se;if(B=B!="object"?B:Se?Array.isArray(Se)?"array":B:"null",B=="array"||B=="object"&&typeof Se.length=="number"){B=y.length||0;const Le=Se.length||0;y.length=B+Le;for(let nt=0;nt<Le;nt++)y[B+nt]=Se[nt]}else y.push(Se)}}class S{constructor(R,B){this.i=R,this.j=B,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function j(y){c.setTimeout(()=>{throw y},0)}function E(){var y=H;let R=null;return y.g&&(R=y.g,y.g=y.g.next,y.g||(y.h=null),R.next=null),R}class L{constructor(){this.h=this.g=null}add(R,B){const ne=O.get();ne.set(R,B),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var O=new S(()=>new D,y=>y.reset());class D{constructor(){this.next=this.g=this.h=null}set(R,B){this.h=R,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,te=!1,H=new L,M=()=>{const y=Promise.resolve(void 0);ee=()=>{y.then(I)}};function I(){for(var y;y=E();){try{y.h.call(y.g)}catch(B){j(B)}var R=O;R.j(y),R.h<100&&(R.h++,y.next=R.g,R.g=y)}te=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(y,R){this.type=y,this.g=this.target=R,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,R=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const B=()=>{};c.addEventListener("test",B,R),c.removeEventListener("test",B,R)}catch{}return y})();function z(y){return/^[\s\xa0]*$/.test(y)}function le(y,R){k.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,R)}p(le,k),le.prototype.init=function(y,R){const B=this.type=y.type,ne=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=R,R=y.relatedTarget,R||(B=="mouseover"?R=y.fromElement:B=="mouseout"&&(R=y.toElement)),this.relatedTarget=R,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),ie=0;function ge(y,R,B,ne,Se){this.listener=y,this.proxy=null,this.src=R,this.type=B,this.capture=!!ne,this.ha=Se,this.key=++ie,this.da=this.fa=!1}function ue(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function je(y,R,B){for(const ne in y)R.call(B,y[ne],ne,y)}function Be(y,R){for(const B in y)R.call(void 0,y[B],B,y)}function se(y){const R={};for(const B in y)R[B]=y[B];return R}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(y,R){let B,ne;for(let Se=1;Se<arguments.length;Se++){ne=arguments[Se];for(B in ne)y[B]=ne[B];for(let Le=0;Le<q.length;Le++)B=q[Le],Object.prototype.hasOwnProperty.call(ne,B)&&(y[B]=ne[B])}}function ae(y){this.src=y,this.g={},this.h=0}ae.prototype.add=function(y,R,B,ne,Se){const Le=y.toString();y=this.g[Le],y||(y=this.g[Le]=[],this.h++);const nt=fe(y,R,ne,Se);return nt>-1?(R=y[nt],B||(R.fa=!1)):(R=new ge(R,this.src,Le,!!ne,Se),R.fa=B,y.push(R)),R};function he(y,R){const B=R.type;if(B in y.g){var ne=y.g[B],Se=Array.prototype.indexOf.call(ne,R,void 0),Le;(Le=Se>=0)&&Array.prototype.splice.call(ne,Se,1),Le&&(ue(R),y.g[B].length==0&&(delete y.g[B],y.h--))}}function fe(y,R,B,ne){for(let Se=0;Se<y.length;++Se){const Le=y[Se];if(!Le.da&&Le.listener==R&&Le.capture==!!B&&Le.ha==ne)return Se}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Pe={};function ke(y,R,B,ne,Se){if(Array.isArray(R)){for(let Le=0;Le<R.length;Le++)ke(y,R[Le],B,ne,Se);return null}return B=Ct(B),y&&y[Ne]?y.J(R,B,d(ne)?!!ne.capture:!1,Se):qe(y,R,B,!1,ne,Se)}function qe(y,R,B,ne,Se,Le){if(!R)throw Error("Invalid event type");const nt=d(Se)?!!Se.capture:!!Se;let en=Ye(y);if(en||(y[be]=en=new ae(y)),B=en.add(R,B,ne,nt,Le),B.proxy)return B;if(ne=Ze(),B.proxy=ne,ne.src=y,ne.listener=B,y.addEventListener)P||(Se=nt),Se===void 0&&(Se=!1),y.addEventListener(R.toString(),ne,Se);else if(y.attachEvent)y.attachEvent(ze(R.toString()),ne);else if(y.addListener&&y.removeListener)y.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return B}function Ze(){function y(B){return R.call(y.src,y.listener,B)}const R=X;return y}function ot(y,R,B,ne,Se){if(Array.isArray(R))for(var Le=0;Le<R.length;Le++)ot(y,R[Le],B,ne,Se);else ne=d(ne)?!!ne.capture:!!ne,B=Ct(B),y&&y[Ne]?(y=y.i,Le=String(R).toString(),Le in y.g&&(R=y.g[Le],B=fe(R,B,ne,Se),B>-1&&(ue(R[B]),Array.prototype.splice.call(R,B,1),R.length==0&&(delete y.g[Le],y.h--)))):y&&(y=Ye(y))&&(R=y.g[R.toString()],y=-1,R&&(y=fe(R,B,ne,Se)),(B=y>-1?R[y]:null)&&it(B))}function it(y){if(typeof y!="number"&&y&&!y.da){var R=y.src;if(R&&R[Ne])he(R.i,y);else{var B=y.type,ne=y.proxy;R.removeEventListener?R.removeEventListener(B,ne,y.capture):R.detachEvent?R.detachEvent(ze(B),ne):R.addListener&&R.removeListener&&R.removeListener(ne),(B=Ye(R))?(he(B,y),B.h==0&&(B.src=null,R[be]=null)):ue(y)}}}function ze(y){return y in Pe?Pe[y]:Pe[y]="on"+y}function X(y,R){if(y.da)y=!0;else{R=new le(R,this);const B=y.listener,ne=y.ha||y.src;y.fa&&it(y),y=B.call(ne,R)}return y}function Ye(y){return y=y[be],y instanceof ae?y:null}var Wt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ct(y){return typeof y=="function"?y:(y[Wt]||(y[Wt]=function(R){return y.handleEvent(R)}),y[Wt])}function $e(){U.call(this),this.i=new ae(this),this.M=this,this.G=null}p($e,U),$e.prototype[Ne]=!0,$e.prototype.removeEventListener=function(y,R,B,ne){ot(this,y,R,B,ne)};function dt(y,R){var B,ne=y.G;if(ne)for(B=[];ne;ne=ne.G)B.push(ne);if(y=y.M,ne=R.type||R,typeof R=="string")R=new k(R,y);else if(R instanceof k)R.target=R.target||y;else{var Se=R;R=new k(ne,y),J(R,Se)}Se=!0;let Le,nt;if(B)for(nt=B.length-1;nt>=0;nt--)Le=R.g=B[nt],Se=ct(Le,ne,!0,R)&&Se;if(Le=R.g=y,Se=ct(Le,ne,!0,R)&&Se,Se=ct(Le,ne,!1,R)&&Se,B)for(nt=0;nt<B.length;nt++)Le=R.g=B[nt],Se=ct(Le,ne,!1,R)&&Se}$e.prototype.N=function(){if($e.Z.N.call(this),this.i){var y=this.i;for(const R in y.g){const B=y.g[R];for(let ne=0;ne<B.length;ne++)ue(B[ne]);delete y.g[R],y.h--}}this.G=null},$e.prototype.J=function(y,R,B,ne){return this.i.add(String(y),R,!1,B,ne)},$e.prototype.K=function(y,R,B,ne){return this.i.add(String(y),R,!0,B,ne)};function ct(y,R,B,ne){if(R=y.i.g[String(R)],!R)return!0;R=R.concat();let Se=!0;for(let Le=0;Le<R.length;++Le){const nt=R[Le];if(nt&&!nt.da&&nt.capture==B){const en=nt.listener,yr=nt.ha||nt.src;nt.fa&&he(y.i,nt),Se=en.call(yr,ne)!==!1&&Se}}return Se&&!ne.defaultPrevented}function mt(y,R){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:c.setTimeout(y,R||0)}function It(y){y.g=mt(()=>{y.g=null,y.i&&(y.i=!1,It(y))},y.l);const R=y.h;y.h=null,y.m.apply(null,R)}class an extends U{constructor(R,B){super(),this.m=R,this.l=B,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:It(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hn(y){U.call(this),this.h=y,this.g={}}p(hn,U);var Jt=[];function xn(y){je(y.g,function(R,B){this.g.hasOwnProperty(B)&&it(R)},y),y.g={}}hn.prototype.N=function(){hn.Z.N.call(this),xn(this)},hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ln=c.JSON.stringify,_t=c.JSON.parse,tn=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function St(){}function kr(){}var cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ot(){k.call(this,"d")}p(Ot,k);function Kt(){k.call(this,"c")}p(Kt,k);var on={},Rt=null;function Bn(){return Rt=Rt||new $e}on.Ia="serverreachability";function qt(y){k.call(this,on.Ia,y)}p(qt,k);function Gt(y){const R=Bn();dt(R,new qt(R))}on.STAT_EVENT="statevent";function Hn(y,R){k.call(this,on.STAT_EVENT,y),this.stat=R}p(Hn,k);function kt(y){const R=Bn();dt(R,new Hn(R,y))}on.Ja="timingevent";function At(y,R){k.call(this,on.Ja,y),this.size=R}p(At,k);function yn(y,R){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},R)}function Hs(){this.g=!0}Hs.prototype.ua=function(){this.g=!1};function Rs(y,R,B,ne,Se,Le){y.info(function(){if(y.g)if(Le){var nt="",en=Le.split("&");for(let vn=0;vn<en.length;vn++){var yr=en[vn].split("=");if(yr.length>1){const Kn=yr[0];yr=yr[1];const Ms=Kn.split("_");nt=Ms.length>=2&&Ms[1]=="type"?nt+(Kn+"="+yr+"&"):nt+(Kn+"=redacted&")}}}else nt=null;else nt=Le;return"XMLHTTP REQ ("+ne+") [attempt "+Se+"]: "+R+`
`+B+`
`+nt})}function wi(y,R,B,ne,Se,Le,nt){y.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+Se+"]: "+R+`
`+B+`
`+Le+" "+nt})}function vs(y,R,B,ne){y.info(function(){return"XMLHTTP TEXT ("+R+"): "+Qi(y,B)+(ne?" "+ne:"")})}function Pt(y,R){y.info(function(){return"TIMEOUT: "+R})}Hs.prototype.info=function(){};function Qi(y,R){if(!y.g)return R;if(!R)return null;try{const Le=JSON.parse(R);if(Le){for(y=0;y<Le.length;y++)if(Array.isArray(Le[y])){var B=Le[y];if(!(B.length<2)){var ne=B[1];if(Array.isArray(ne)&&!(ne.length<1)){var Se=ne[0];if(Se!="noop"&&Se!="stop"&&Se!="close")for(let nt=1;nt<ne.length;nt++)ne[nt]=""}}}}return ln(Le)}catch{return R}}var Sa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},la={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ca;function nr(){}p(nr,St),nr.prototype.g=function(){return new XMLHttpRequest},ca=new nr;function pr(y){return encodeURIComponent(String(y))}function ls(y){var R=1;y=y.split(":");const B=[];for(;R>0&&y.length;)B.push(y.shift()),R--;return y.length&&B.push(y.join(":")),B}function $s(y,R,B,ne){this.j=y,this.i=R,this.l=B,this.S=ne||1,this.V=new hn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ps}function Ps(){this.i=null,this.g="",this.h=!1}var $n={},ir={};function cs(y,R,B){y.M=1,y.A=wo(zr(R)),y.u=B,y.R=!0,da(y,null)}function da(y,R){y.F=Date.now(),ua(y),y.B=zr(y.A);var B=y.B,ne=y.S;Array.isArray(ne)||(ne=[String(ne)]),Tl(B.i,"t",ne),y.C=0,B=y.j.L,y.h=new Ps,y.g=gt(y.j,B?R:null,!y.u),y.P>0&&(y.O=new an(f(y.Y,y,y.g),y.P)),R=y.V,B=y.g,ne=y.ba;var Se="readystatechange";Array.isArray(Se)||(Se&&(Jt[0]=Se.toString()),Se=Jt);for(let Le=0;Le<Se.length;Le++){const nt=ke(B,Se[Le],ne||R.handleEvent,!1,R.h||R);if(!nt)break;R.g[nt.key]=nt}R=y.J?se(y.J):{},y.u?(y.v||(y.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,R)):(y.v="GET",y.g.ea(y.B,y.v,null,R)),Gt(),Rs(y.i,y.v,y.B,y.l,y.S,y.u)}$s.prototype.ba=function(y){y=y.target;const R=this.O;R&&ka(y)==3?R.j():this.Y(y)},$s.prototype.Y=function(y){try{if(y==this.g)e:{const en=ka(this.g),yr=this.g.ya(),vn=this.g.ca();if(!(en<3)&&(en!=3||this.g&&(this.h.h||this.g.la()||Qr(this.g)))){this.K||en!=4||yr==7||(yr==8||vn<=0?Gt(3):Gt(2)),Ea(this);var R=this.g.ca();this.X=R;var B=Ba(this);if(this.o=R==200,wi(this.i,this.v,this.B,this.l,this.S,en,R),this.o){if(this.U&&!this.L){t:{if(this.g){var ne,Se=this.g;if((ne=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(ne)){var Le=ne;break t}}Le=null}if(y=Le)vs(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qa(this,y);else{this.o=!1,this.m=3,kt(12),Aa(this),Ws(this);break e}}if(this.R){y=!0;let Kn;for(;!this.K&&this.C<B.length;)if(Kn=ii(this,B),Kn==ir){en==4&&(this.m=4,kt(14),y=!1),vs(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==$n){this.m=4,kt(15),vs(this.i,this.l,B,"[Invalid Chunk]"),y=!1;break}else vs(this.i,this.l,Kn,null),qa(this,Kn);if(vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||B.length!=0||this.h.h||(this.m=1,kt(16),y=!1),this.o=this.o&&y,!y)vs(this.i,this.l,B,"[Invalid Chunked Response]"),Aa(this),Ws(this);else if(B.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Rl(nt),nt.P=!0,kt(11))}}else vs(this.i,this.l,B,null),qa(this,B);en==4&&Aa(this),this.o&&!this.K&&(en==4?ce(this.j,this):(this.o=!1,ua(this)))}else Ni(this.g),R==400&&B.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),Aa(this),Ws(this)}}}catch{}finally{}};function Ba(y){if(!vo(y))return y.g.la();const R=Qr(y.g);if(R==="")return"";let B="";const ne=R.length,Se=ka(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Aa(y),Ws(y),"";y.h.i=new c.TextDecoder}for(let Le=0;Le<ne;Le++)y.h.h=!0,B+=y.h.i.decode(R[Le],{stream:!(Se&&Le==ne-1)});return R.length=0,y.h.g+=B,y.C=0,y.h.g}function vo(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function ii(y,R){var B=y.C,ne=R.indexOf(`
`,B);return ne==-1?ir:(B=Number(R.substring(B,ne)),isNaN(B)?$n:(ne+=1,ne+B>R.length?ir:(R=R.slice(ne,ne+B),y.C=ne+B,R)))}$s.prototype.cancel=function(){this.K=!0,Aa(this)};function ua(y){y.T=Date.now()+y.H,Ji(y,y.H)}function Ji(y,R){if(y.D!=null)throw Error("WatchDog timer not null");y.D=yn(f(y.aa,y),R)}function Ea(y){y.D&&(c.clearTimeout(y.D),y.D=null)}$s.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Pt(this.i,this.B),this.M!=2&&(Gt(),kt(17)),Aa(this),this.m=2,Ws(this)):Ji(this,this.T-y)};function Ws(y){y.j.I==0||y.K||ce(y.j,y)}function Aa(y){Ea(y);var R=y.O;R&&typeof R.dispose=="function"&&R.dispose(),y.O=null,xn(y.V),y.g&&(R=y.g,y.g=null,R.abort(),R.dispose())}function qa(y,R){try{var B=y.j;if(B.I!=0&&(B.g==y||oi(B.h,y))){if(!y.L&&oi(B.h,y)&&B.I==3){try{var ne=B.Ba.g.parse(R)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var Se=ne;if(Se[0]==0){e:if(!B.v){if(B.g)if(B.g.F+3e3<y.F)$(B),_i(B);else break e;di(B),kt(18)}}else B.xa=Se[1],0<B.xa-B.K&&Se[2]<37500&&B.F&&B.A==0&&!B.C&&(B.C=yn(f(B.Va,B),6e3));Ga(B.h)<=1&&B.ta&&(B.ta=void 0)}else we(B,11)}else if((y.L||B.g==y)&&$(B),!z(R))for(Se=B.Ba.g.parse(R),R=0;R<Se.length;R++){let vn=Se[R];const Kn=vn[0];if(!(Kn<=B.K))if(B.K=Kn,vn=vn[1],B.I==2)if(vn[0]=="c"){B.M=vn[1],B.ba=vn[2];const Ms=vn[3];Ms!=null&&(B.ka=Ms,B.j.info("VER="+B.ka));const Ys=vn[4];Ys!=null&&(B.za=Ys,B.j.info("SVER="+B.za));const or=vn[5];or!=null&&typeof or=="number"&&or>0&&(ne=1.5*or,B.O=ne,B.j.info("backChannelRequestTimeoutMs_="+ne)),ne=B;const Xs=y.g;if(Xs){const ui=Xs.g?Xs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var Le=ne.h;Le.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(Le.j=Le.l,Le.g=new Set,Le.h&&(Ko(Le,Le.h),Le.h=null))}if(ne.G){const Eo=Xs.g?Xs.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(ne.wa=Eo,kn(ne.J,ne.G,Eo))}}B.I=3,B.l&&B.l.ra(),B.aa&&(B.T=Date.now()-y.F,B.j.info("Handshake RTT: "+B.T+"ms")),ne=B;var nt=y;if(ne.na=Je(ne,ne.L?ne.ba:null,ne.W),nt.L){El(ne.h,nt);var en=nt,yr=ne.O;yr&&(en.H=yr),en.D&&(Ea(en),ua(en)),ne.g=nt}else bc(ne);B.i.length>0&&$a(B)}else vn[0]!="stop"&&vn[0]!="close"||we(B,7);else B.I==3&&(vn[0]=="stop"||vn[0]=="close"?vn[0]=="stop"?we(B,7):So(B):vn[0]!="noop"&&B.l&&B.l.qa(vn),B.A=0)}}Gt(4)}catch{}}var Pr=class{constructor(y,R){this.g=y,this.map=R}};function Sl(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ha(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ga(y){return y.h?1:y.g?y.g.size:0}function oi(y,R){return y.h?y.h==R:y.g?y.g.has(R):!1}function Ko(y,R){y.g?y.g.add(R):y.h=R}function El(y,R){y.h&&y.h==R?y.h=null:y.g&&y.g.has(R)&&y.g.delete(R)}Sl.prototype.cancel=function(){if(this.i=Al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Al(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let R=y.i;for(const B of y.g.values())R=R.concat(B.G);return R}return b(y.i)}var fc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(y,R){if(y){y=y.split("&");for(let B=0;B<y.length;B++){const ne=y[B].indexOf("=");let Se,Le=null;ne>=0?(Se=y[B].substring(0,ne),Le=y[B].substring(ne+1)):Se=y[B],R(Se,Le?decodeURIComponent(Le.replace(/\+/g," ")):"")}}}function Ls(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;y instanceof Ls?(this.l=y.l,jn(this,y.j),this.o=y.o,this.g=y.g,Zi(this,y.u),this.h=y.h,Ha(this,Cl(y.i)),this.m=y.m):y&&(R=String(y).match(fc))?(this.l=!1,jn(this,R[1]||"",!0),this.o=Xr(R[2]||""),this.g=Xr(R[3]||"",!0),Zi(this,R[4]),this.h=Xr(R[5]||"",!0),Ha(this,R[6]||"",!0),this.m=Xr(R[7]||"")):(this.l=!1,this.i=new eo(null,this.l))}Ls.prototype.toString=function(){const y=[];var R=this.j;R&&y.push(Sr(R,Yo,!0),":");var B=this.g;return(B||R=="file")&&(y.push("//"),(R=this.o)&&y.push(Sr(R,Yo,!0),"@"),y.push(pr(B).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.u,B!=null&&y.push(":",String(B))),(B=this.h)&&(this.g&&B.charAt(0)!="/"&&y.push("/"),y.push(Sr(B,B.charAt(0)=="/"?mc:dd,!0))),(B=this.i.toString())&&y.push("?",B),(B=this.m)&&y.push("#",Sr(B,gc)),y.join("")},Ls.prototype.resolve=function(y){const R=zr(this);let B=!!y.j;B?jn(R,y.j):B=!!y.o,B?R.o=y.o:B=!!y.g,B?R.g=y.g:B=y.u!=null;var ne=y.h;if(B)Zi(R,y.u);else if(B=!!y.h){if(ne.charAt(0)!="/")if(this.g&&!this.h)ne="/"+ne;else{var Se=R.h.lastIndexOf("/");Se!=-1&&(ne=R.h.slice(0,Se+1)+ne)}if(Se=ne,Se==".."||Se==".")ne="";else if(Se.indexOf("./")!=-1||Se.indexOf("/.")!=-1){ne=Se.lastIndexOf("/",0)==0,Se=Se.split("/");const Le=[];for(let nt=0;nt<Se.length;){const en=Se[nt++];en=="."?ne&&nt==Se.length&&Le.push(""):en==".."?((Le.length>1||Le.length==1&&Le[0]!="")&&Le.pop(),ne&&nt==Se.length&&Le.push("")):(Le.push(en),ne=!0)}ne=Le.join("/")}else ne=Se}return B?R.h=ne:B=y.i.toString()!=="",B?Ha(R,Cl(y.i)):B=!!y.m,B&&(R.m=y.m),R};function zr(y){return new Ls(y)}function jn(y,R,B){y.j=B?Xr(R,!0):R,y.j&&(y.j=y.j.replace(/:$/,""))}function Zi(y,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);y.u=R}else y.u=null}function Ha(y,R,B){R instanceof eo?(y.i=R,fa(y.i,y.l)):(B||(R=Sr(R,Ks)),y.i=new eo(R,y.l))}function kn(y,R,B){y.i.set(R,B)}function wo(y){return kn(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Xr(y,R){return y?R?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Sr(y,R,B){return typeof y=="string"?(y=encodeURI(y).replace(R,Br),B&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Br(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Yo=/[#\/\?@]/g,dd=/[#\?:]/g,mc=/[#\?]/g,Ks=/[#\?@]/g,gc=/#/g;function eo(y,R){this.h=this.g=null,this.i=y||null,this.j=!!R}function ws(y){y.g||(y.g=new Map,y.h=0,y.i&&Ta(y.i,function(R,B){y.add(decodeURIComponent(R.replace(/\+/g," ")),B)}))}n=eo.prototype,n.add=function(y,R){ws(this),this.i=null,y=to(this,y);let B=this.g.get(y);return B||this.g.set(y,B=[]),B.push(R),this.h+=1,this};function No(y,R){ws(y),R=to(y,R),y.g.has(R)&&(y.i=null,y.h-=y.g.get(R).length,y.g.delete(R))}function pc(y,R){return ws(y),R=to(y,R),y.g.has(R)}n.forEach=function(y,R){ws(this),this.g.forEach(function(B,ne){B.forEach(function(Se){y.call(R,Se,ne,this)},this)},this)};function xc(y,R){ws(y);let B=[];if(typeof R=="string")pc(y,R)&&(B=B.concat(y.g.get(to(y,R))));else for(y=Array.from(y.g.values()),R=0;R<y.length;R++)B=B.concat(y[R]);return B}n.set=function(y,R){return ws(this),this.i=null,y=to(this,y),pc(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[R]),this.h+=1,this},n.get=function(y,R){return y?(y=xc(this,y),y.length>0?String(y[0]):R):R};function Tl(y,R,B){No(y,R),B.length>0&&(y.i=null,y.g.set(to(y,R),b(B)),y.h+=B.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],R=Array.from(this.g.keys());for(let ne=0;ne<R.length;ne++){var B=R[ne];const Se=pr(B);B=xc(this,B);for(let Le=0;Le<B.length;Le++){let nt=Se;B[Le]!==""&&(nt+="="+pr(B[Le])),y.push(nt)}}return this.i=y.join("&")};function Cl(y){const R=new eo;return R.i=y.i,y.g&&(R.g=new Map(y.g),R.h=y.h),R}function to(y,R){return R=String(R),y.j&&(R=R.toLowerCase()),R}function fa(y,R){R&&!y.j&&(ws(y),y.i=null,y.g.forEach(function(B,ne){const Se=ne.toLowerCase();ne!=Se&&(No(this,ne),Tl(this,Se,B))},y)),y.j=R}function li(y,R){const B=new Hs;if(c.Image){const ne=new Image;ne.onload=g(ma,B,"TestLoadImage: loaded",!0,R,ne),ne.onerror=g(ma,B,"TestLoadImage: error",!1,R,ne),ne.onabort=g(ma,B,"TestLoadImage: abort",!1,R,ne),ne.ontimeout=g(ma,B,"TestLoadImage: timeout",!1,R,ne),c.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=y}else R(!1)}function no(y,R){const B=new Hs,ne=new AbortController,Se=setTimeout(()=>{ne.abort(),ma(B,"TestPingServer: timeout",!1,R)},1e4);fetch(y,{signal:ne.signal}).then(Le=>{clearTimeout(Se),Le.ok?ma(B,"TestPingServer: ok",!0,R):ma(B,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(Se),ma(B,"TestPingServer: error",!1,R)})}function ma(y,R,B,ne,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),ne(B)}catch{}}function jo(){this.g=new tn}function Ft(y){this.i=y.Sb||null,this.h=y.ab||!1}p(Ft,St),Ft.prototype.g=function(){return new Xo(this.i,this.h)};function Xo(y,R){$e.call(this),this.H=y,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Xo,$e),n=Xo.prototype,n.open=function(y,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=R,this.readyState=1,Ns(this)},n.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(R.body=y),(this.H||c).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_o(this)),this.readyState=0},n.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Ns(this)),this.g&&(this.readyState=3,Ns(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Il(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Il(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}n.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var R=y.value?y.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!y.done}))&&(this.response=this.responseText+=R)}y.done?_o(this):Ns(this),this.readyState==3&&Il(this)}},n.Oa=function(y){this.g&&(this.response=this.responseText=y,_o(this))},n.Na=function(y){this.g&&(this.response=y,_o(this))},n.ga=function(){this.g&&_o(this)};function _o(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Ns(y)}n.setRequestHeader=function(y,R){this.A.append(y,R)},n.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],R=this.h.entries();for(var B=R.next();!B.done;)B=B.value,y.push(B[0]+": "+B[1]),B=R.next();return y.join(`\r
`)};function Ns(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function ds(y){let R="";return je(y,function(B,ne){R+=ne,R+=":",R+=B,R+=`\r
`}),R}function Qo(y,R,B){e:{for(ne in B){var ne=!1;break e}ne=!0}ne||(B=ds(B),typeof y=="string"?B!=null&&pr(B):kn(y,R,B))}function Wn(y){$e.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Wn,$e);var Ca=/^https?$/i,Jo=["POST","PUT"];n=Wn.prototype,n.Fa=function(y){this.H=y},n.ea=function(y,R,B,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);R=R?R.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ca.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(R,String(y),!0),this.B=!1}catch(Le){ci(this,Le);return}if(y=B||"",B=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var Se in ne)B.set(Se,ne[Se]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const Le of ne.keys())B.set(Le,ne.get(Le));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(B.keys()).find(Le=>Le.toLowerCase()=="content-type"),Se=c.FormData&&y instanceof c.FormData,!(Array.prototype.indexOf.call(Jo,R,void 0)>=0)||ne||Se||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Le,nt]of B)this.g.setRequestHeader(Le,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(Le){ci(this,Le)}};function ci(y,R){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=R,y.o=5,yc(y),ro(y)}function yc(y){y.A||(y.A=!0,dt(y,"complete"),dt(y,"error"))}n.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,dt(this,"complete"),dt(this,"abort"),ro(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ro(this,!0)),Wn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ia(this):this.Xa())},n.Xa=function(){Ia(this)};function Ia(y){if(y.h&&typeof o<"u"){if(y.v&&ka(y)==4)setTimeout(y.Ca.bind(y),0);else if(dt(y,"readystatechange"),ka(y)==4){y.h=!1;try{const Le=y.ca();e:switch(Le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var B;if(!(B=R)){var ne;if(ne=Le===0){let nt=String(y.D).match(fc)[1]||null;!nt&&c.self&&c.self.location&&(nt=c.self.location.protocol.slice(0,-1)),ne=!Ca.test(nt?nt.toLowerCase():"")}B=ne}if(B)dt(y,"complete"),dt(y,"success");else{y.o=6;try{var Se=ka(y)>2?y.g.statusText:""}catch{Se=""}y.l=Se+" ["+y.ca()+"]",yc(y)}}finally{ro(y)}}}}function ro(y,R){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const B=y.g;y.g=null,R||dt(y,"ready");try{B.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ka(y){return y.g?y.g.readyState:0}n.ca=function(){try{return ka(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(y){if(this.g){var R=this.g.responseText;return y&&R.indexOf(y)==0&&(R=R.substring(y.length)),_t(R)}};function Qr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(y){const R={};y=(y.g&&ka(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<y.length;ne++){if(z(y[ne]))continue;var B=ls(y[ne]);const Se=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const Le=R[Se]||[];R[Se]=Le,Le.push(B)}Be(R,function(ne){return ne.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(y,R,B){return B&&B.internalChannelParams&&B.internalChannelParams[y]||R}function ji(y){this.za=0,this.i=[],this.j=new Hs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ds("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ds("baseRetryDelayMs",5e3,y),this.Za=Ds("retryDelaySeedMs",1e4,y),this.Ta=Ds("forwardChannelMaxRetries",2,y),this.va=Ds("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(y&&y.concurrentRequestLimit),this.Ba=new jo,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ji.prototype,n.ka=8,n.I=1,n.connect=function(y,R,B,ne){kt(0),this.W=y,this.H=R||{},B&&ne!==void 0&&(this.H.OSID=B,this.H.OAID=ne),this.F=this.X,this.J=Je(this,null,this.W),$a(this)};function So(y){if(Si(y),y.I==3){var R=y.V++,B=zr(y.J);if(kn(B,"SID",y.M),kn(B,"RID",R),kn(B,"TYPE","terminate"),Ra(y,B),R=new $s(y,y.j,R),R.M=2,R.A=wo(zr(B)),B=!1,c.navigator&&c.navigator.sendBeacon)try{B=c.navigator.sendBeacon(R.A.toString(),"")}catch{}!B&&c.Image&&(new Image().src=R.A,B=!0),B||(R.g=gt(R.j,null),R.g.ea(R.A)),R.F=Date.now(),ua(R)}Ge(y)}function _i(y){y.g&&(Rl(y),y.g.cancel(),y.g=null)}function Si(y){_i(y),y.v&&(c.clearTimeout(y.v),y.v=null),$(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&c.clearTimeout(y.m),y.m=null)}function $a(y){if(!ha(y.h)&&!y.m){y.m=!0;var R=y.Ea;ee||M(),te||(ee(),te=!0),H.add(R,y),y.D=0}}function Zo(y,R){return Ga(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=R.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=yn(f(y.Ea,y,R),pe(y,y.D)),y.D++,!0)}n.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const Se=new $s(this,this.j,y);let Le=this.o;if(this.U&&(Le?(Le=se(Le),J(Le,this.U)):Le=this.U),this.u!==null||this.R||(Se.J=Le,Le=null),this.S)e:{for(var R=0,B=0;B<this.i.length;B++){t:{var ne=this.i[B];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(R+=ne,R>4096){R=B;break e}if(R===4096||B===this.i.length-1){R=B+1;break e}}R=1e3}else R=1e3;R=Ei(this,Se,R),B=zr(this.J),kn(B,"RID",y),kn(B,"CVER",22),this.G&&kn(B,"X-HTTP-Session-Id",this.G),Ra(this,B),Le&&(this.R?R="headers="+pr(ds(Le))+"&"+R:this.u&&Qo(B,this.u,Le)),Ko(this.h,Se),this.Ra&&kn(B,"TYPE","init"),this.S?(kn(B,"$req",R),kn(B,"SID","null"),Se.U=!0,cs(Se,B,null)):cs(Se,B,R),this.I=2}}else this.I==3&&(y?kl(this,y):this.i.length==0||ha(this.h)||kl(this))};function kl(y,R){var B;R?B=R.l:B=y.V++;const ne=zr(y.J);kn(ne,"SID",y.M),kn(ne,"RID",B),kn(ne,"AID",y.K),Ra(y,ne),y.u&&y.o&&Qo(ne,y.u,y.o),B=new $s(y,y.j,B,y.D+1),y.u===null&&(B.J=y.o),R&&(y.i=R.G.concat(y.i)),R=Ei(y,B,1e3),B.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Ko(y.h,B),cs(B,ne,R)}function Ra(y,R){y.H&&je(y.H,function(B,ne){kn(R,ne,B)}),y.l&&je({},function(B,ne){kn(R,ne,B)})}function Ei(y,R,B){B=Math.min(y.i.length,B);const ne=y.l?f(y.l.Ka,y.l,y):null;e:{var Se=y.i;let en=-1;for(;;){const yr=["count="+B];en==-1?B>0?(en=Se[0].g,yr.push("ofs="+en)):en=0:yr.push("ofs="+en);let vn=!0;for(let Kn=0;Kn<B;Kn++){var Le=Se[Kn].g;const Ms=Se[Kn].map;if(Le-=en,Le<0)en=Math.max(0,Se[Kn].g-100),vn=!1;else try{Le="req"+Le+"_"||"";try{var nt=Ms instanceof Map?Ms:Object.entries(Ms);for(const[Ys,or]of nt){let Xs=or;d(or)&&(Xs=ln(or)),yr.push(Le+Ys+"="+encodeURIComponent(Xs))}}catch(Ys){throw yr.push(Le+"type="+encodeURIComponent("_badmap")),Ys}}catch{ne&&ne(Ms)}}if(vn){nt=yr.join("&");break e}}nt=void 0}return y=y.i.splice(0,B),R.G=y,nt}function bc(y){if(!y.g&&!y.v){y.Y=1;var R=y.Da;ee||M(),te||(ee(),te=!0),H.add(R,y),y.A=0}}function di(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=yn(f(y.Da,y),pe(y,y.A)),y.A++,!0)}n.Da=function(){if(this.v=null,T(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=yn(f(this.Wa,this),y)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),_i(this),T(this))};function Rl(y){y.B!=null&&(c.clearTimeout(y.B),y.B=null)}function T(y){y.g=new $s(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var R=zr(y.na);kn(R,"RID","rpc"),kn(R,"SID",y.M),kn(R,"AID",y.K),kn(R,"CI",y.F?"0":"1"),!y.F&&y.ia&&kn(R,"TO",y.ia),kn(R,"TYPE","xmlhttp"),Ra(y,R),y.u&&y.o&&Qo(R,y.u,y.o),y.O&&(y.g.H=y.O);var B=y.g;y=y.ba,B.M=1,B.A=wo(zr(R)),B.u=null,B.R=!0,da(B,y)}n.Va=function(){this.C!=null&&(this.C=null,_i(this),di(this),kt(19))};function $(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function ce(y,R){var B=null;if(y.g==R){$(y),Rl(y),y.g=null;var ne=2}else if(oi(y.h,R))B=R.G,El(y.h,R),ne=1;else return;if(y.I!=0){if(R.o)if(ne==1){B=R.u?R.u.length:0,R=Date.now()-R.F;var Se=y.D;ne=Bn(),dt(ne,new At(ne,B)),$a(y)}else bc(y);else if(Se=R.m,Se==3||Se==0&&R.X>0||!(ne==1&&Zo(y,R)||ne==2&&di(y)))switch(B&&B.length>0&&(R=y.h,R.i=R.i.concat(B)),Se){case 1:we(y,5);break;case 4:we(y,10);break;case 3:we(y,6);break;default:we(y,2)}}}function pe(y,R){let B=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(B*=2),B*R}function we(y,R){if(y.j.info("Error code "+R),R==2){var B=f(y.bb,y),ne=y.Ua;const Se=!ne;ne=new Ls(ne||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||jn(ne,"https"),wo(ne),Se?li(ne.toString(),B):no(ne.toString(),B)}else kt(2);y.I=0,y.l&&y.l.pa(R),Ge(y),Si(y)}n.bb=function(y){y?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Ge(y){if(y.I=0,y.ja=[],y.l){const R=Al(y.h);(R.length!=0||y.i.length!=0)&&(A(y.ja,R),A(y.ja,y.i),y.h.i.length=0,b(y.i),y.i.length=0),y.l.oa()}}function Je(y,R,B){var ne=B instanceof Ls?zr(B):new Ls(B);if(ne.g!="")R&&(ne.g=R+"."+ne.g),Zi(ne,ne.u);else{var Se=c.location;ne=Se.protocol,R=R?R+"."+Se.hostname:Se.hostname,Se=+Se.port;const Le=new Ls(null);ne&&jn(Le,ne),R&&(Le.g=R),Se&&Zi(Le,Se),B&&(Le.h=B),ne=Le}return B=y.G,R=y.wa,B&&R&&kn(ne,B,R),kn(ne,"VER",y.ka),Ra(y,ne),ne}function gt(y,R,B){if(R&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=y.Aa&&!y.ma?new Wn(new Ft({ab:B})):new Wn(y.ma),R.Fa(y.L),R}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vt(){}n=vt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Vt(){}Vt.prototype.g=function(y,R){return new Lt(y,R)};function Lt(y,R){$e.call(this),this.g=new ji(R),this.l=y,this.h=R&&R.messageUrlParams||null,y=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(y?y["X-WebChannel-Content-Type"]=R.messageContentType:y={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(y?y["X-WebChannel-Client-Profile"]=R.sa:y={"X-WebChannel-Client-Profile":R.sa}),this.g.U=y,(y=R&&R.Qb)&&!z(y)&&(this.g.u=y),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!z(R)&&(this.g.G=R,y=this.h,y!==null&&R in y&&(y=this.h,R in y&&delete y[R])),this.j=new rr(this)}p(Lt,$e),Lt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){So(this.g)},Lt.prototype.o=function(y){var R=this.g;if(typeof y=="string"){var B={};B.__data__=y,y=B}else this.v&&(B={},B.__data__=ln(y),y=B);R.i.push(new Pr(R.Ya++,y)),R.I==3&&$a(R)},Lt.prototype.N=function(){this.g.l=null,delete this.j,So(this.g),delete this.g,Lt.Z.N.call(this)};function En(y){Ot.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var R=y.__sm__;if(R){e:{for(const B in R){y=B;break e}y=void 0}(this.i=y)&&(y=this.i,R=R!==null&&y in R?R[y]:void 0),this.data=R}else this.data=y}p(En,Ot);function xr(){Kt.call(this),this.status=1}p(xr,Kt);function rr(y){this.g=y}p(rr,vt),rr.prototype.ra=function(){dt(this.g,"a")},rr.prototype.qa=function(y){dt(this.g,new En(y))},rr.prototype.pa=function(y){dt(this.g,new xr)},rr.prototype.oa=function(){dt(this.g,"b")},Vt.prototype.createWebChannel=Vt.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,LS=function(){return new Vt},PS=function(){return Bn()},RS=on,n2={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,q0=Sa,la.COMPLETE="complete",kS=la,kr.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",$e.prototype.listen=$e.prototype.J,dg=kr,Wn.prototype.listenOnce=Wn.prototype.K,Wn.prototype.getLastError=Wn.prototype.Ha,Wn.prototype.getLastErrorCode=Wn.prototype.ya,Wn.prototype.getStatus=Wn.prototype.ca,Wn.prototype.getResponseJson=Wn.prototype.La,Wn.prototype.getResponseText=Wn.prototype.la,Wn.prototype.send=Wn.prototype.ea,Wn.prototype.setWithCredentials=Wn.prototype.Fa,IS=Wn}).apply(typeof b0<"u"?b0:typeof self<"u"?self:typeof window<"u"?window:{});const Hj="@firebase/firestore",$j="4.9.2";let Ua=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ua.UNAUTHENTICATED=new Ua(null),Ua.GOOGLE_CREDENTIALS=new Ua("google-credentials-uid"),Ua.FIRST_PARTY=new Ua("first-party-uid"),Ua.MOCK_USER=new Ua("mock-user");let om="12.3.0";const ih=new iv("@firebase/firestore");function vf(){return ih.logLevel}function tt(n,...e){if(ih.logLevel<=Ln.DEBUG){const t=e.map(pv);ih.debug(`Firestore (${om}): ${n}`,...t)}}function yi(n,...e){if(ih.logLevel<=Ln.ERROR){const t=e.map(pv);ih.error(`Firestore (${om}): ${n}`,...t)}}function oh(n,...e){if(ih.logLevel<=Ln.WARN){const t=e.map(pv);ih.warn(`Firestore (${om}): ${n}`,...t)}}function pv(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function jt(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,DS(n,s,t)}function DS(n,e,t){let s=`FIRESTORE (${om}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw yi(s),new Error(s)}function Mt(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||DS(e,a,s)}function un(n,e){return n}const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Nl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class MS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ua.UNAUTHENTICATED)))}shutdown(){}}class N7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class j7{constructor(e){this.t=e,this.currentUser=Ua.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Mt(this.o===void 0,42304);let s=this.i;const a=h=>this.i!==s?(s=this.i,t(h)):Promise.resolve();let o=new rc;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new rc,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},d=h=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new rc)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Mt(typeof s.accessToken=="string",31837,{l:s}),new MS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(e===null||typeof e=="string",2055,{h:e}),new Ua(e)}}class _7{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Ua.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class S7{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new _7(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ua.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E7{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Mt(this.o===void 0,3512);const s=o=>{o.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,tt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>s(o)))};const a=o=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Wj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Wj(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function A7(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class xv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=A7(40);for(let o=0;o<a.length;++o)s.length<20&&a[o]<t&&(s+=e.charAt(a[o]%62))}return s}}function dn(n,e){return n<e?-1:n>e?1:0}function r2(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const a=n.charAt(s),o=e.charAt(s);if(a!==o)return o1(a)===o1(o)?dn(a,o):o1(a)?1:-1}return dn(n.length,e.length)}const T7=55296,C7=57343;function o1(n){const e=n.charCodeAt(0);return e>=T7&&e<=C7}function Vf(n,e,t){return n.length===e.length&&n.every(((s,a)=>t(s,e[a])))}function OS(n){return n+"\0"}const Kj="__name__";class Yl{constructor(e,t,s){t===void 0?t=0:t>e.length&&jt(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&jt(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Yl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yl?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const o=Yl.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return dn(e.length,t.length)}static compareSegments(e,t){const s=Yl.isNumericId(e),a=Yl.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Yl.extractNumericId(e).compare(Yl.extractNumericId(t)):r2(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ru.fromString(e.substring(4,e.length-2))}}class tr extends Yl{construct(e,t,s){return new tr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new st(Ve.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new tr(t)}static emptyPath(){return new tr([])}}const I7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rs extends Yl{construct(e,t,s){return new rs(e,t,s)}static isValidIdentifier(e){return I7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kj}static keyField(){return new rs([Kj])}static fromServerFormat(e){const t=[];let s="",a=0;const o=()=>{if(s.length===0)throw new st(Ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new st(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new st(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=h,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(o(),a++)}if(o(),c)throw new st(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rs(t)}static emptyPath(){return new rs([])}}class lt{constructor(e){this.path=e}static fromPath(e){return new lt(tr.fromString(e))}static fromName(e){return new lt(tr.fromString(e).popFirst(5))}static empty(){return new lt(tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new tr(e.slice()))}}function FS(n,e,t){if(!t)throw new st(Ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function k7(n,e,t,s){if(e===!0&&s===!0)throw new st(Ve.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Yj(n){if(!lt.isDocumentKey(n))throw new st(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Xj(n){if(lt.isDocumentKey(n))throw new st(Ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function US(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function sy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":jt(12329,{type:typeof n})}function ja(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new st(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sy(n);throw new st(Ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function qs(n,e){const t={typeString:n};return e&&(t.value=e),t}function lp(n,e){if(!US(n))throw new st(Ve.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,o="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(a&&typeof c!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${s}' field to equal '${o.value}'`;break}}if(t)throw new st(Ve.INVALID_ARGUMENT,t);return!0}const Qj=-62135596800,Jj=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Jj);return new xt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new st(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new st(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Qj)throw new st(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jj}_compareTo(e){return this.seconds===e.seconds?dn(this.nanoseconds,e.nanoseconds):dn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lp(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Qj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:qs("string",xt._jsonSchemaVersion),seconds:qs("number"),nanoseconds:qs("number")};class Ht{static fromTimestamp(e){return new Ht(e)}static min(){return new Ht(new xt(0,0))}static max(){return new Ht(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Og=-1;class yx{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function s2(n){return n.fields.find((e=>e.kind===2))}function Vu(n){return n.fields.filter((e=>e.kind!==2))}yx.UNKNOWN_ID=-1;class G0{constructor(e,t){this.fieldPath=e,this.kind=t}}class Fg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Fg(0,yo.min())}}function R7(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Ht.fromTimestamp(s===1e9?new xt(t+1,0):new xt(t,s));return new yo(a,lt.empty(),e)}function VS(n){return new yo(n.readTime,n.key,Og)}class yo{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new yo(Ht.min(),lt.empty(),Og)}static max(){return new yo(Ht.max(),lt.empty(),Og)}}function yv(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=lt.comparator(n.documentKey,e.documentKey),t!==0?t:dn(n.largestBatchId,e.largestBatchId))}const zS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vh(n){if(n.code!==Ve.FAILED_PRECONDITION||n.message!==zS)throw n;tt("LocalStore","Unexpectedly lost primary lease")}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&jt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te(((s,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.reject(t)}static resolve(e){return new Te(((t,s)=>{t(e)}))}static reject(e){return new Te(((t,s)=>{s(e)}))}static waitFor(e){return new Te(((t,s)=>{let a=0,o=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++o,c&&o===a&&t()}),(h=>s(h)))})),c=!0,o===a&&t()}))}static or(e){let t=Te.resolve(!1);for(const s of e)t=t.next((a=>a?Te.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,o)=>{s.push(t.call(this,a,o))})),this.waitFor(s)}static mapArray(e,t){return new Te(((s,a)=>{const o=e.length,c=new Array(o);let d=0;for(let h=0;h<o;h++){const f=h;t(e[f]).next((g=>{c[f]=g,++d,d===o&&s(c)}),(g=>a(g)))}}))}static doWhile(e,t){return new Te(((s,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):s()};o()}))}}const mo="SimpleDb";class ay{static open(e,t,s,a){try{return new ay(t,e.transaction(a,s))}catch(o){throw new xg(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new rc,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new xg(e,t.error)):this.S.resolve()},this.transaction.onerror=s=>{const a=bv(s.target.error);this.S.reject(new xg(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(tt(mo,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new L7(t)}}class su{static delete(e){return tt(mo,"Removing database:",e),qu(R3().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!V3())return!1;if(su.F())return!0;const e=aa(),t=su.M(e),s=0<t&&t<10,a=qS(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}constructor(e,t,s){this.name=e,this.version=t,this.N=s,this.B=null,su.M(aa())===12.2&&yi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(tt(mo,"Opening database:",this.name),this.db=await new Promise(((t,s)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const c=o.target.result;t(c)},a.onblocked=()=>{s(new xg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const c=o.target.error;c.name==="VersionError"?s(new st(Ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?s(new st(Ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):s(new xg(e,c))},a.onupgradeneeded=o=>{tt(mo,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const c=o.target.result;this.N.k(c,a.transaction,o.oldVersion,this.version).next((()=>{tt(mo,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,s,a){const o=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const d=ay.open(this.db,e,o?"readonly":"readwrite",s),h=a(d).next((f=>(d.C(),f))).catch((f=>(d.abort(f),Te.reject(f)))).toPromise();return h.catch((()=>{})),await d.D,h}catch(d){const h=d,f=h.name!=="FirebaseError"&&c<3;if(tt(mo,"Transaction failed with error:",h.message,"Retrying:",f),this.close(),!f)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function qS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class P7{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return qu(this.U.delete())}}class xg extends st{constructor(e,t){super(Ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function yu(n){return n.name==="IndexedDbTransactionError"}class L7{constructor(e){this.store=e}put(e,t){let s;return t!==void 0?(tt(mo,"PUT",this.store.name,e,t),s=this.store.put(t,e)):(tt(mo,"PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),qu(s)}add(e){return tt(mo,"ADD",this.store.name,e,e),qu(this.store.add(e))}get(e){return qu(this.store.get(e)).next((t=>(t===void 0&&(t=null),tt(mo,"GET",this.store.name,e,t),t)))}delete(e){return tt(mo,"DELETE",this.store.name,e),qu(this.store.delete(e))}count(){return tt(mo,"COUNT",this.store.name),qu(this.store.count())}J(e,t){const s=this.options(e,t),a=s.index?this.store.index(s.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(s.range);return new Te(((c,d)=>{o.onerror=h=>{d(h.target.error)},o.onsuccess=h=>{c(h.target.result)}}))}{const o=this.cursor(s),c=[];return this.H(o,((d,h)=>{c.push(h)})).next((()=>c))}}Y(e,t){const s=this.store.getAll(e,t===null?void 0:t);return new Te(((a,o)=>{s.onerror=c=>{o(c.target.error)},s.onsuccess=c=>{a(c.target.result)}}))}Z(e,t){tt(mo,"DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const a=this.cursor(s);return this.H(a,((o,c,d)=>d.delete()))}ee(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.H(a,t)}te(e){const t=this.cursor({});return new Te(((s,a)=>{t.onerror=o=>{const c=bv(o.target.error);a(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next((d=>{d?c.continue():s()})):s()}}))}H(e,t){const s=[];return new Te(((a,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const h=new P7(d),f=t(d.primaryKey,d.value,h);if(f instanceof Te){const g=f.catch((p=>(h.done(),Te.reject(p))));s.push(g)}h.isDone?a():h.G===null?d.continue():d.continue(h.G)}})).next((()=>Te.waitFor(s)))}options(e,t){let s;return e!==void 0&&(typeof e=="string"?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function qu(n){return new Te(((e,t)=>{n.onsuccess=s=>{const a=s.target.result;e(a)},n.onerror=s=>{const a=bv(s.target.error);t(a)}}))}let Zj=!1;function bv(n){const e=su.M(aa());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new st("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Zj||(Zj=!0,setTimeout((()=>{throw s}),0)),s}}return n}const yg="IndexBackfiller";class D7{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){tt(yg,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();tt(yg,`Documents written: ${t}`)}catch(t){yu(t)?tt(yg,"Ignoring IndexedDB error during index backfill: ",t):await vh(t)}await this.re(6e4)}))}}class M7{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const s=new Set;let a=t,o=!0;return Te.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!s.has(c))return tt(yg,`Processing collection: ${c}`),this.oe(e,c,a).next((d=>{a-=d,s.add(c)}));o=!1})))).next((()=>t-a))}oe(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next((o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,o))).next((d=>(tt(yg,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d)))).next((()=>c.size))}))))}_e(e,t){let s=e;return t.changes.forEach(((a,o)=>{const c=VS(o);yv(c,s)>0&&(s=c)})),new yo(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}class zo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zo.ce=-1;const Xu=-1;function iy(n){return n==null}function Ug(n){return n===0&&1/n==-1/0}function O7(n){return typeof n=="number"&&Number.isInteger(n)&&!Ug(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const bx="";function ri(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=e_(e)),e=F7(n.get(t),e);return e_(e)}function F7(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case bx:t+="";break;default:t+=o}}return t}function e_(n){return n+bx+""}function Xl(n){const e=n.length;if(Mt(e>=2,64408,{path:n}),e===2)return Mt(n.charAt(0)===bx&&n.charAt(1)==="",56145,{path:n}),tr.emptyPath();const t=e-2,s=[];let a="";for(let o=0;o<e;){const c=n.indexOf(bx,o);switch((c<0||c>t)&&jt(50515,{path:n}),n.charAt(c+1)){case"":const d=n.substring(o,c);let h;a.length===0?h=d:(a+=d,h=a,a=""),s.push(h);break;case"":a+=n.substring(o,c),a+="\0";break;case"":a+=n.substring(o,c+1);break;default:jt(61167,{path:n})}o=c+2}return new tr(s)}const zu="remoteDocuments",cp="owner",lf="owner",Vg="mutationQueues",U7="userId",pl="mutations",t_="batchId",Ku="userMutationsIndex",n_=["userId","batchId"];function H0(n,e){return[n,ri(e)]}function GS(n,e,t){return[n,ri(e),t]}const V7={},zf="documentMutations",vx="remoteDocumentsV14",z7=["prefixPath","collectionGroup","readTime","documentId"],$0="documentKeyIndex",B7=["prefixPath","collectionGroup","documentId"],HS="collectionGroupIndex",q7=["collectionGroup","readTime","prefixPath","documentId"],zg="remoteDocumentGlobal",a2="remoteDocumentGlobalKey",Bf="targets",$S="queryTargetsIndex",G7=["canonicalId","targetId"],qf="targetDocuments",H7=["targetId","path"],vv="documentTargetsIndex",$7=["path","targetId"],wx="targetGlobalKey",Qu="targetGlobal",Bg="collectionParents",W7=["collectionId","parent"],Gf="clientMetadata",K7="clientId",oy="bundles",Y7="bundleId",ly="namedQueries",X7="name",wv="indexConfiguration",Q7="indexId",i2="collectionGroupIndex",J7="collectionGroup",bg="indexState",Z7=["indexId","uid"],WS="sequenceNumberIndex",eD=["uid","sequenceNumber"],vg="indexEntries",tD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],KS="documentKeyIndex",nD=["indexId","uid","orderedDocumentKey"],cy="documentOverlays",rD=["userId","collectionPath","documentId"],o2="collectionPathOverlayIndex",sD=["userId","collectionPath","largestBatchId"],YS="collectionGroupOverlayIndex",aD=["userId","collectionGroup","largestBatchId"],Nv="globals",iD="name",XS=[Vg,pl,zf,zu,Bf,cp,Qu,qf,Gf,zg,Bg,oy,ly],oD=[...XS,cy],QS=[Vg,pl,zf,vx,Bf,cp,Qu,qf,Gf,zg,Bg,oy,ly,cy],JS=QS,jv=[...JS,wv,bg,vg],lD=jv,ZS=[...jv,Nv],cD=ZS;class l2 extends BS{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function oa(n,e){const t=un(n);return su.O(t.le,e)}function r_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Yr{constructor(e,t){this.comparator=e,this.root=t||Va.EMPTY}insert(e,t){return new Yr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Va.BLACK,null,null))}remove(e){return new Yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Va.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new v0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new v0(this.root,e,this.comparator,!1)}getReverseIterator(){return new v0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new v0(this.root,e,this.comparator,!0)}}class v0{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?s(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Va{constructor(e,t,s,a,o){this.key=e,this.value=t,this.color=s??Va.RED,this.left=a??Va.EMPTY,this.right=o??Va.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,o){return new Va(e??this.key,t??this.value,s??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const o=s(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,s),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Va.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Va.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Va.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Va.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw jt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw jt(27949);return e+(this.isRed()?0:1)}}Va.EMPTY=null,Va.RED=!0,Va.BLACK=!1;Va.EMPTY=new class{constructor(){this.size=0}get key(){throw jt(57766)}get value(){throw jt(16141)}get color(){throw jt(16727)}get left(){throw jt(29726)}get right(){throw jt(36894)}copy(e,t,s,a,o){return this}insert(e,t,s){return new Va(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fr{constructor(e){this.comparator=e,this.data=new Yr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new s_(this.data.getIterator())}getIteratorFrom(e){return new s_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof fr)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=s.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new fr(this.comparator);return t.data=e,t}}class s_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function cf(n){return n.hasNext()?n.getNext():void 0}class Gi{constructor(e){this.fields=e,e.sort(rs.comparator)}static empty(){return new Gi([])}unionWith(e){let t=new fr(rs.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Gi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vf(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class tE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tE("Invalid base64 string: "+o):o}})(e);return new Gs(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new Gs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gs.EMPTY_BYTE_STRING=new Gs("");const dD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function td(n){if(Mt(!!n,39018),typeof n=="string"){let e=0;const t=dD.exec(n);if(Mt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Kr(n.seconds),nanos:Kr(n.nanos)}}function Kr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function nd(n){return typeof n=="string"?Gs.fromBase64String(n):Gs.fromUint8Array(n)}const nE="server_timestamp",rE="__type__",sE="__previous_value__",aE="__local_write_time__";function _v(n){return(n?.mapValue?.fields||{})[rE]?.stringValue===nE}function dy(n){const e=n.mapValue.fields[sE];return _v(e)?dy(e):e}function qg(n){const e=td(n.mapValue.fields[aE].timestampValue);return new xt(e.seconds,e.nanos)}class uD{constructor(e,t,s,a,o,c,d,h,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=g}}const Nx="(default)";class lh{constructor(e,t){this.projectId=e,this.database=t||Nx}static empty(){return new lh("","")}get isDefaultDatabase(){return this.database===Nx}isEqual(e){return e instanceof lh&&e.projectId===this.projectId&&e.database===this.database}}const Sv="__type__",iE="__max__",Jd={mapValue:{fields:{__type__:{stringValue:iE}}}},Ev="__vector__",Hf="value",W0={nullValue:"NULL_VALUE"};function cu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_v(n)?4:oE(n)?9007199254740991:uy(n)?10:11:jt(28295,{value:n})}function ic(n,e){if(n===e)return!0;const t=cu(n);if(t!==cu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qg(n).isEqual(qg(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=td(a.timestampValue),d=td(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return nd(a.bytesValue).isEqual(nd(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return Kr(a.geoPointValue.latitude)===Kr(o.geoPointValue.latitude)&&Kr(a.geoPointValue.longitude)===Kr(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Kr(a.integerValue)===Kr(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Kr(a.doubleValue),d=Kr(o.doubleValue);return c===d?Ug(c)===Ug(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return Vf(n.arrayValue.values||[],e.arrayValue.values||[],ic);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},d=o.mapValue.fields||{};if(r_(c)!==r_(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!ic(c[h],d[h])))return!1;return!0})(n,e);default:return jt(52216,{left:n})}}function Gg(n,e){return(n.values||[]).find((t=>ic(t,e)))!==void 0}function du(n,e){if(n===e)return 0;const t=cu(n),s=cu(e);if(t!==s)return dn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return dn(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=Kr(o.integerValue||o.doubleValue),h=Kr(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(n,e);case 3:return a_(n.timestampValue,e.timestampValue);case 4:return a_(qg(n),qg(e));case 5:return r2(n.stringValue,e.stringValue);case 6:return(function(o,c){const d=nd(o),h=nd(c);return d.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),h=c.split("/");for(let f=0;f<d.length&&f<h.length;f++){const g=dn(d[f],h[f]);if(g!==0)return g}return dn(d.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=dn(Kr(o.latitude),Kr(c.latitude));return d!==0?d:dn(Kr(o.longitude),Kr(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return i_(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const d=o.fields||{},h=c.fields||{},f=d[Hf]?.arrayValue,g=h[Hf]?.arrayValue,p=dn(f?.values?.length||0,g?.values?.length||0);return p!==0?p:i_(f,g)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Jd.mapValue&&c===Jd.mapValue)return 0;if(o===Jd.mapValue)return 1;if(c===Jd.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),f=c.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let p=0;p<h.length&&p<g.length;++p){const v=r2(h[p],g[p]);if(v!==0)return v;const b=du(d[h[p]],f[g[p]]);if(b!==0)return b}return dn(h.length,g.length)})(n.mapValue,e.mapValue);default:throw jt(23264,{he:t})}}function a_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return dn(n,e);const t=td(n),s=td(e),a=dn(t.seconds,s.seconds);return a!==0?a:dn(t.nanos,s.nanos)}function i_(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const o=du(t[a],s[a]);if(o)return o}return dn(t.length,s.length)}function $f(n){return c2(n)}function c2(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=td(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return nd(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return lt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",a=!0;for(const o of t.values||[])a?a=!1:s+=",",s+=c2(o);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of s)o?o=!1:a+=",",a+=`${c}:${c2(t.fields[c])}`;return a+"}"})(n.mapValue):jt(61005,{value:n})}function K0(n){switch(cu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dy(n);return e?16+K0(e):16;case 5:return 2*n.stringValue.length;case 6:return nd(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,o)=>a+K0(o)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return bu(s.fields,((o,c)=>{a+=o.length+K0(c)})),a})(n.mapValue);default:throw jt(13486,{value:n})}}function Hg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function d2(n){return!!n&&"integerValue"in n}function $g(n){return!!n&&"arrayValue"in n}function o_(n){return!!n&&"nullValue"in n}function l_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Y0(n){return!!n&&"mapValue"in n}function uy(n){return(n?.mapValue?.fields||{})[Sv]?.stringValue===Ev}function wg(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return bu(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=wg(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wg(n.arrayValue.values[t]);return e}return{...n}}function oE(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===iE}const lE={mapValue:{fields:{[Sv]:{stringValue:Ev},[Hf]:{arrayValue:{}}}}};function hD(n){return"nullValue"in n?W0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Hg(lh.empty(),lt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?uy(n)?lE:{mapValue:{}}:jt(35942,{value:n})}function fD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Hg(lh.empty(),lt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?lE:"mapValue"in n?uy(n)?{mapValue:{}}:Jd:jt(61959,{value:n})}function c_(n,e){const t=du(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function d_(n,e){const t=du(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ni{constructor(e){this.value=e}static empty(){return new ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Y0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wg(t)}setAll(e){let t=rs.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,s,a),s={},a=[],t=d.popLast()}c?s[d.lastSegment()]=wg(c):a.push(d.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,s,a)}delete(e){const t=this.field(e.popLast());Y0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ic(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Y0(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){bu(t,((a,o)=>e[a]=o));for(const a of s)delete e[a]}clone(){return new ni(wg(this.value))}}function cE(n){const e=[];return bu(n.fields,((t,s)=>{const a=new rs([t]);if(Y0(s)){const o=cE(s.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new Gi(e)}class ys{constructor(e,t,s,a,o,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new ys(e,0,Ht.min(),Ht.min(),Ht.min(),ni.empty(),0)}static newFoundDocument(e,t,s,a){return new ys(e,1,t,Ht.min(),s,a,0)}static newNoDocument(e,t){return new ys(e,2,t,Ht.min(),Ht.min(),ni.empty(),0)}static newUnknownDocument(e,t){return new ys(e,3,t,Ht.min(),Ht.min(),ni.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ht.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ys&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ys(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wf{constructor(e,t){this.position=e,this.inclusive=t}}function u_(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?s=lt.comparator(lt.fromName(c.referenceValue),t.key):s=du(c,t.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function h_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ic(n.position[t],e.position[t]))return!1;return!0}class Wg{constructor(e,t="asc"){this.field=e,this.dir=t}}function mD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class dE{}class Dn extends dE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new gD(e,t,s):t==="array-contains"?new yD(e,s):t==="in"?new pE(e,s):t==="not-in"?new bD(e,s):t==="array-contains-any"?new vD(e,s):new Dn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new pD(e,s):new xD(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(du(t,this.value)):t!==null&&cu(this.value)===cu(t)&&this.matchesComparison(du(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return jt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends dE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new hr(e,t)}matches(e){return Kf(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Kf(n){return n.op==="and"}function u2(n){return n.op==="or"}function Av(n){return uE(n)&&Kf(n)}function uE(n){for(const e of n.filters)if(e instanceof hr)return!1;return!0}function h2(n){if(n instanceof Dn)return n.field.canonicalString()+n.op.toString()+$f(n.value);if(Av(n))return n.filters.map((e=>h2(e))).join(",");{const e=n.filters.map((t=>h2(t))).join(",");return`${n.op}(${e})`}}function hE(n,e){return n instanceof Dn?(function(s,a){return a instanceof Dn&&s.op===a.op&&s.field.isEqual(a.field)&&ic(s.value,a.value)})(n,e):n instanceof hr?(function(s,a){return a instanceof hr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((o,c,d)=>o&&hE(c,a.filters[d])),!0):!1})(n,e):void jt(19439)}function fE(n,e){const t=n.filters.concat(e);return hr.create(t,n.op)}function mE(n){return n instanceof Dn?(function(t){return`${t.field.canonicalString()} ${t.op} ${$f(t.value)}`})(n):n instanceof hr?(function(t){return t.op.toString()+" {"+t.getFilters().map(mE).join(" ,")+"}"})(n):"Filter"}class gD extends Dn{constructor(e,t,s){super(e,t,s),this.key=lt.fromName(s.referenceValue)}matches(e){const t=lt.comparator(e.key,this.key);return this.matchesComparison(t)}}class pD extends Dn{constructor(e,t){super(e,"in",t),this.keys=gE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class xD extends Dn{constructor(e,t){super(e,"not-in",t),this.keys=gE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function gE(n,e){return(e.arrayValue?.values||[]).map((t=>lt.fromName(t.referenceValue)))}class yD extends Dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $g(t)&&Gg(t.arrayValue,this.value)}}class pE extends Dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gg(this.value.arrayValue,t)}}class bD extends Dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gg(this.value.arrayValue,t)}}class vD extends Dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$g(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Gg(this.value.arrayValue,s)))}}class wD{constructor(e,t=null,s=[],a=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function f2(n,e=null,t=[],s=[],a=null,o=null,c=null){return new wD(n,e,t,s,a,o,c)}function ch(n){const e=un(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>h2(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),iy(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>$f(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>$f(s))).join(",")),e.Te=t}return e.Te}function dp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!mD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!h_(n.startAt,e.startAt)&&h_(n.endAt,e.endAt)}function jx(n){return lt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function _x(n,e){return n.filters.filter((t=>t instanceof Dn&&t.field.isEqual(e)))}function f_(n,e,t){let s=W0,a=!0;for(const o of _x(n,e)){let c=W0,d=!0;switch(o.op){case"<":case"<=":c=hD(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,d=!1;break;case"!=":case"not-in":c=W0}c_({value:s,inclusive:a},{value:c,inclusive:d})<0&&(s=c,a=d)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];c_({value:s,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(s=c,a=t.inclusive);break}}return{value:s,inclusive:a}}function m_(n,e,t){let s=Jd,a=!0;for(const o of _x(n,e)){let c=Jd,d=!0;switch(o.op){case">=":case">":c=fD(o.value),d=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,d=!1;break;case"!=":case"not-in":c=Jd}d_({value:s,inclusive:a},{value:c,inclusive:d})>0&&(s=c,a=d)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];d_({value:s,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(s=c,a=t.inclusive);break}}return{value:s,inclusive:a}}class lm{constructor(e,t=null,s=[],a=[],o=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ND(n,e,t,s,a,o,c,d){return new lm(n,e,t,s,a,o,c,d)}function up(n){return new lm(n)}function g_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xE(n){return n.collectionGroup!==null}function Ng(n){const e=un(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new fr(rs.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(d=d.add(f.field))}))})),d})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Wg(o,s))})),t.has(rs.keyField().canonicalString())||e.Ie.push(new Wg(rs.keyField(),s))}return e.Ie}function qo(n){const e=un(n);return e.Ee||(e.Ee=jD(e,Ng(n))),e.Ee}function jD(n,e){if(n.limitType==="F")return f2(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Wg(a.field,o)}));const t=n.endAt?new Wf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Wf(n.startAt.position,n.startAt.inclusive):null;return f2(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function m2(n,e){const t=n.filters.concat([e]);return new lm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function g2(n,e,t){return new lm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hy(n,e){return dp(qo(n),qo(e))&&n.limitType===e.limitType}function yE(n){return`${ch(qo(n))}|lt:${n.limitType}`}function wf(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>mE(a))).join(", ")}]`),iy(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>$f(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>$f(a))).join(",")),`Target(${s})`})(qo(n))}; limitType=${n.limitType})`}function hp(n,e){return e.isFoundDocument()&&(function(s,a){const o=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):lt.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)})(n,e)&&(function(s,a){for(const o of Ng(s))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(s,a){for(const o of s.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,h){const f=u_(c,d,h);return c.inclusive?f<=0:f<0})(s.startAt,Ng(s),a)||s.endAt&&!(function(c,d,h){const f=u_(c,d,h);return c.inclusive?f>=0:f>0})(s.endAt,Ng(s),a))})(n,e)}function _D(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bE(n){return(e,t)=>{let s=!1;for(const a of Ng(n)){const o=SD(a,e,t);if(o!==0)return o;s=s||a.field.isKeyField()}return 0}}function SD(n,e,t){const s=n.field.isKeyField()?lt.comparator(e.key,t.key):(function(o,c,d){const h=c.data.field(o),f=d.data.field(o);return h!==null&&f!==null?du(h,f):jt(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return jt(19790,{direction:n.dir})}}class od{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,o]of s)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){bu(this.inner,((t,s)=>{for(const[a,o]of s)e(a,o)}))}isEmpty(){return eE(this.inner)}size(){return this.innerSize}}const ED=new Yr(lt.comparator);function go(){return ED}const vE=new Yr(lt.comparator);function ug(...n){let e=vE;for(const t of n)e=e.insert(t.key,t);return e}function wE(n){let e=vE;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Ql(){return jg()}function NE(){return jg()}function jg(){return new od((n=>n.toString()),((n,e)=>n.isEqual(e)))}const AD=new Yr(lt.comparator),TD=new fr(lt.comparator);function Sn(...n){let e=TD;for(const t of n)e=e.add(t);return e}const CD=new fr(dn);function ID(){return CD}function Tv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ug(e)?"-0":e}}function jE(n){return{integerValue:""+n}}function kD(n,e){return O7(e)?jE(e):Tv(n,e)}class fy{constructor(){this._=void 0}}function RD(n,e,t){return n instanceof Yf?(function(a,o){const c={fields:{[rE]:{stringValue:nE},[aE]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&_v(o)&&(o=dy(o)),o&&(c.fields[sE]=o),{mapValue:c}})(t,e):n instanceof Xf?SE(n,e):n instanceof Qf?EE(n,e):(function(a,o){const c=_E(a,o),d=p_(c)+p_(a.Ae);return d2(c)&&d2(a.Ae)?jE(d):Tv(a.serializer,d)})(n,e)}function PD(n,e,t){return n instanceof Xf?SE(n,e):n instanceof Qf?EE(n,e):t}function _E(n,e){return n instanceof Kg?(function(s){return d2(s)||(function(o){return!!o&&"doubleValue"in o})(s)})(e)?e:{integerValue:0}:null}class Yf extends fy{}class Xf extends fy{constructor(e){super(),this.elements=e}}function SE(n,e){const t=AE(e);for(const s of n.elements)t.some((a=>ic(a,s)))||t.push(s);return{arrayValue:{values:t}}}class Qf extends fy{constructor(e){super(),this.elements=e}}function EE(n,e){let t=AE(e);for(const s of n.elements)t=t.filter((a=>!ic(a,s)));return{arrayValue:{values:t}}}class Kg extends fy{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function p_(n){return Kr(n.integerValue||n.doubleValue)}function AE(n){return $g(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class TE{constructor(e,t){this.field=e,this.transform=t}}function LD(n,e){return n.field.isEqual(e.field)&&(function(s,a){return s instanceof Xf&&a instanceof Xf||s instanceof Qf&&a instanceof Qf?Vf(s.elements,a.elements,ic):s instanceof Kg&&a instanceof Kg?ic(s.Ae,a.Ae):s instanceof Yf&&a instanceof Yf})(n.transform,e.transform)}class DD{constructor(e,t){this.version=e,this.transformResults=t}}class sa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sa}static exists(e){return new sa(void 0,e)}static updateTime(e){return new sa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function X0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class my{}function CE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new fp(n.key,sa.none()):new cm(n.key,n.data,sa.none());{const t=n.data,s=ni.empty();let a=new fr(rs.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?s.delete(o):s.set(o,c),a=a.add(o)}return new ld(n.key,s,new Gi(a.toArray()),sa.none())}}function MD(n,e,t){n instanceof cm?(function(a,o,c){const d=a.value.clone(),h=y_(a.fieldTransforms,o,c.transformResults);d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof ld?(function(a,o,c){if(!X0(a.precondition,o))return void o.convertToUnknownDocument(c.version);const d=y_(a.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(IE(a)),h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function _g(n,e,t,s){return n instanceof cm?(function(o,c,d,h){if(!X0(o.precondition,c))return d;const f=o.value.clone(),g=b_(o.fieldTransforms,h,c);return f.setAll(g),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(n,e,t,s):n instanceof ld?(function(o,c,d,h){if(!X0(o.precondition,c))return d;const f=b_(o.fieldTransforms,h,c),g=c.data;return g.setAll(IE(o)),g.setAll(f),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(n,e,t,s):(function(o,c,d){return X0(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function OD(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),o=_E(s.transform,a||null);o!=null&&(t===null&&(t=ni.empty()),t.set(s.field,o))}return t||null}function x_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Vf(s,a,((o,c)=>LD(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class cm extends my{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ld extends my{constructor(e,t,s,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function IE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function y_(n,e,t){const s=new Map;Mt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,d=e.data.field(o.field);s.set(o.field,PD(c,d,t[a]))}return s}function b_(n,e,t){const s=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);s.set(a.field,RD(o,c,e))}return s}class fp extends my{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kE extends my{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cv{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&MD(o,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=_g(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=_g(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=NE();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=t.has(a.key)?null:d;const h=CE(c,d);h!==null&&s.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Ht.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Sn())}isEqual(e){return this.batchId===e.batchId&&Vf(this.mutations,e.mutations,((t,s)=>x_(t,s)))&&Vf(this.baseMutations,e.baseMutations,((t,s)=>x_(t,s)))}}class Iv{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Mt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return AD})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,s[c].version);return new Iv(e,t,s,a)}}class kv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class FD{constructor(e,t){this.count=e,this.unchangedNames=t}}var zs,zn;function UD(n){switch(n){case Ve.OK:return jt(64938);case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0;default:return jt(15467,{code:n})}}function RE(n){if(n===void 0)return yi("GRPC error has no .code"),Ve.UNKNOWN;switch(n){case zs.OK:return Ve.OK;case zs.CANCELLED:return Ve.CANCELLED;case zs.UNKNOWN:return Ve.UNKNOWN;case zs.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case zs.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case zs.INTERNAL:return Ve.INTERNAL;case zs.UNAVAILABLE:return Ve.UNAVAILABLE;case zs.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case zs.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case zs.NOT_FOUND:return Ve.NOT_FOUND;case zs.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case zs.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case zs.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case zs.ABORTED:return Ve.ABORTED;case zs.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case zs.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case zs.DATA_LOSS:return Ve.DATA_LOSS;default:return jt(39323,{code:n})}}(zn=zs||(zs={}))[zn.OK=0]="OK",zn[zn.CANCELLED=1]="CANCELLED",zn[zn.UNKNOWN=2]="UNKNOWN",zn[zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zn[zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zn[zn.NOT_FOUND=5]="NOT_FOUND",zn[zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",zn[zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",zn[zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",zn[zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zn[zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zn[zn.ABORTED=10]="ABORTED",zn[zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",zn[zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",zn[zn.INTERNAL=13]="INTERNAL",zn[zn.UNAVAILABLE=14]="UNAVAILABLE",zn[zn.DATA_LOSS=15]="DATA_LOSS";function VD(){return new TextEncoder}const zD=new ru([4294967295,4294967295],0);function v_(n){const e=VD().encode(n),t=new CS;return t.update(e),new Uint8Array(t.digest())}function w_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ru([t,s],0),new ru([a,o],0)]}class Rv{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new hg(`Invalid padding: ${t}`);if(s<0)throw new hg(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new hg(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new hg(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ru.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(ru.fromNumber(s)));return a.compare(zD)===1&&(a=new ru([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=v_(e),[s,a]=w_(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(s,a,o);if(!this.we(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Rv(o,a,t);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=v_(e),[s,a]=w_(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(s,a,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class hg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gy{constructor(e,t,s,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,mp.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new gy(Ht.min(),a,new Yr(dn),go(),Sn())}}class mp{constructor(e,t,s,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new mp(s,t,Sn(),Sn(),Sn())}}class Q0{constructor(e,t,s,a){this.be=e,this.removedTargetIds=t,this.key=s,this.De=a}}class PE{constructor(e,t){this.targetId=e,this.Ce=t}}class LE{constructor(e,t,s=Gs.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class N_{constructor(){this.ve=0,this.Fe=j_(),this.Me=Gs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Sn(),t=Sn(),s=Sn();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:jt(38017,{changeType:o})}})),new mp(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=j_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BD{constructor(e){this.Ge=e,this.ze=new Map,this.je=go(),this.Je=w0(),this.He=w0(),this.Ye=new Yr(dn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:jt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(jx(o))if(s===0){const c=new lt(o.path);this.et(t,c,ys.newNoDocument(c,Ht.min()))}else Mt(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const d=this.ut(e),h=d?this.ct(d,e,c):1;if(h!==0){this.it(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:o=0}=t;let c,d;try{c=nd(s).toUint8Array()}catch(h){if(h instanceof tE)return oh("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Rv(c,a,o)}catch(h){return oh(h instanceof hg?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&jx(d.target)){const h=new lt(d.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,ys.newNoDocument(h,e))}o.Be&&(t.set(c,o.ke()),o.qe())}}));let s=Sn();this.He.forEach(((o,c)=>{let d=!0;c.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new gy(e,t,this.Ye,this.je,s);return this.je=go(),this.Je=w0(),this.He=w0(),this.Ye=new Yr(dn),a}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new N_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new fr(dn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new fr(dn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||tt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new N_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function w0(){return new Yr(lt.comparator)}function j_(){return new Yr(lt.comparator)}const qD={asc:"ASCENDING",desc:"DESCENDING"},GD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HD={and:"AND",or:"OR"};class $D{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function p2(n,e){return n.useProto3Json||iy(e)?e:{value:e}}function Jf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function WD(n,e){return Jf(n,e.toTimestamp())}function bi(n){return Mt(!!n,49232),Ht.fromTimestamp((function(t){const s=td(t);return new xt(s.seconds,s.nanos)})(n))}function Pv(n,e){return x2(n,e).canonicalString()}function x2(n,e){const t=(function(a){return new tr(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function ME(n){const e=tr.fromString(n);return Mt(HE(e),10190,{key:e.toString()}),e}function Sx(n,e){return Pv(n.databaseId,e.path)}function Ju(n,e){const t=ME(e);if(t.get(1)!==n.databaseId.projectId)throw new st(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new st(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new lt(UE(t))}function OE(n,e){return Pv(n.databaseId,e)}function FE(n){const e=ME(n);return e.length===4?tr.emptyPath():UE(e)}function y2(n){return new tr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function UE(n){return Mt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function __(n,e,t){return{name:Sx(n,e),fields:t.value.mapValue.fields}}function KD(n,e,t){const s=Ju(n,e.name),a=bi(e.updateTime),o=e.createTime?bi(e.createTime):Ht.min(),c=new ni({mapValue:{fields:e.fields}}),d=ys.newFoundDocument(s,a,o,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function YD(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:jt(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(Mt(g===void 0||typeof g=="string",58123),Gs.fromBase64String(g||"")):(Mt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Gs.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(f){const g=f.code===void 0?Ve.UNKNOWN:RE(f.code);return new st(g,f.message||"")})(c);t=new LE(s,a,o,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Ju(n,s.document.name),o=bi(s.document.updateTime),c=s.document.createTime?bi(s.document.createTime):Ht.min(),d=new ni({mapValue:{fields:s.document.fields}}),h=ys.newFoundDocument(a,o,c,d),f=s.targetIds||[],g=s.removedTargetIds||[];t=new Q0(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Ju(n,s.document),o=s.readTime?bi(s.readTime):Ht.min(),c=ys.newNoDocument(a,o),d=s.removedTargetIds||[];t=new Q0([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Ju(n,s.document),o=s.removedTargetIds||[];t=new Q0([],o,a,null)}else{if(!("filter"in e))return jt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:o}=s,c=new FD(a,o),d=s.targetId;t=new PE(d,c)}}return t}function Ex(n,e){let t;if(e instanceof cm)t={update:__(n,e.key,e.value)};else if(e instanceof fp)t={delete:Sx(n,e.key)};else if(e instanceof ld)t={update:__(n,e.key,e.data),updateMask:tM(e.fieldMask)};else{if(!(e instanceof kE))return jt(16599,{Vt:e.type});t={verify:Sx(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(o,c){const d=c.transform;if(d instanceof Yf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Xf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Qf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Kg)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw jt(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:WD(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:jt(27497)})(n,e.precondition)),t}function b2(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?sa.updateTime(bi(o.updateTime)):o.exists!==void 0?sa.exists(o.exists):sa.none()})(e.currentDocument):sa.none(),s=e.updateTransforms?e.updateTransforms.map((a=>(function(c,d){let h=null;if("setToServerValue"in d)Mt(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),h=new Yf;else if("appendMissingElements"in d){const g=d.appendMissingElements.values||[];h=new Xf(g)}else if("removeAllFromArray"in d){const g=d.removeAllFromArray.values||[];h=new Qf(g)}else"increment"in d?h=new Kg(c,d.increment):jt(16584,{proto:d});const f=rs.fromServerFormat(d.fieldPath);return new TE(f,h)})(n,a))):[];if(e.update){e.update.name;const a=Ju(n,e.update.name),o=new ni({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(h){const f=h.fieldPaths||[];return new Gi(f.map((g=>rs.fromServerFormat(g))))})(e.updateMask);return new ld(a,o,c,t,s)}return new cm(a,o,t,s)}if(e.delete){const a=Ju(n,e.delete);return new fp(a,t)}if(e.verify){const a=Ju(n,e.verify);return new kE(a,t)}return jt(1463,{proto:e})}function XD(n,e){return n&&n.length>0?(Mt(e!==void 0,14353),n.map((t=>(function(a,o){let c=a.updateTime?bi(a.updateTime):bi(o);return c.isEqual(Ht.min())&&(c=bi(o)),new DD(c,a.transformResults||[])})(t,e)))):[]}function VE(n,e){return{documents:[OE(n,e.path)]}}function zE(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=OE(n,a);const o=(function(f){if(f.length!==0)return GE(hr.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(f){if(f.length!==0)return f.map((g=>(function(v){return{field:Nf(v.field),direction:JD(v.dir)}})(g)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=p2(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:a}}function BE(n){let e=FE(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Mt(s===1,65062);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(p){const v=qE(p);return v instanceof hr&&Av(v)?v.getFilters():[v]})(t.where));let c=[];t.orderBy&&(c=(function(p){return p.map((v=>(function(A){return new Wg(jf(A.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(v)))})(t.orderBy));let d=null;t.limit&&(d=(function(p){let v;return v=typeof p=="object"?p.value:p,iy(v)?null:v})(t.limit));let h=null;t.startAt&&(h=(function(p){const v=!!p.before,b=p.values||[];return new Wf(b,v)})(t.startAt));let f=null;return t.endAt&&(f=(function(p){const v=!p.before,b=p.values||[];return new Wf(b,v)})(t.endAt)),ND(e,a,c,o,d,"F",h,f)}function QD(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jt(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=jf(t.unaryFilter.field);return Dn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=jf(t.unaryFilter.field);return Dn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=jf(t.unaryFilter.field);return Dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=jf(t.unaryFilter.field);return Dn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return jt(61313);default:return jt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Dn.create(jf(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return jt(58110);default:return jt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return hr.create(t.compositeFilter.filters.map((s=>qE(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return jt(1026)}})(t.compositeFilter.op))})(n):jt(30097,{filter:n})}function JD(n){return qD[n]}function ZD(n){return GD[n]}function eM(n){return HD[n]}function Nf(n){return{fieldPath:n.canonicalString()}}function jf(n){return rs.fromServerFormat(n.fieldPath)}function GE(n){return n instanceof Dn?(function(t){if(t.op==="=="){if(l_(t.value))return{unaryFilter:{field:Nf(t.field),op:"IS_NAN"}};if(o_(t.value))return{unaryFilter:{field:Nf(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(l_(t.value))return{unaryFilter:{field:Nf(t.field),op:"IS_NOT_NAN"}};if(o_(t.value))return{unaryFilter:{field:Nf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nf(t.field),op:ZD(t.op),value:t.value}}})(n):n instanceof hr?(function(t){const s=t.getFilters().map((a=>GE(a)));return s.length===1?s[0]:{compositeFilter:{op:eM(t.op),filters:s}}})(n):jt(54877,{filter:n})}function tM(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function HE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Kc{constructor(e,t,s,a,o=Ht.min(),c=Ht.min(),d=Gs.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new Kc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Kc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $E{constructor(e){this.yt=e}}function nM(n,e){let t;if(e.document)t=KD(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=lt.fromSegments(e.noDocument.path),a=uh(e.noDocument.readTime);t=ys.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return jt(56709);{const s=lt.fromSegments(e.unknownDocument.path),a=uh(e.unknownDocument.version);t=ys.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime((function(a){const o=new xt(a[0],a[1]);return Ht.fromTimestamp(o)})(e.readTime)),t}function S_(n,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ax(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document=(function(o,c){return{name:Sx(o,c.key),fields:c.data.value.mapValue.fields,updateTime:Jf(o,c.version.toTimestamp()),createTime:Jf(o,c.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:dh(e.version)};else{if(!e.isUnknownDocument())return jt(57904,{document:e});s.unknownDocument={path:t.path.toArray(),version:dh(e.version)}}return s}function Ax(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function dh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function uh(n){const e=new xt(n.seconds,n.nanoseconds);return Ht.fromTimestamp(e)}function Gu(n,e){const t=(e.baseMutations||[]).map((o=>b2(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const d=e.mutations[o+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const s=e.mutations.map((o=>b2(n.yt,o))),a=xt.fromMillis(e.localWriteTimeMs);return new Cv(e.batchId,a,t,s)}function fg(n){const e=uh(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?uh(n.lastLimboFreeSnapshotVersion):Ht.min();let s;return s=(function(o){return o.documents!==void 0})(n.query)?(function(o){const c=o.documents.length;return Mt(c===1,1966,{count:c}),qo(up(FE(o.documents[0])))})(n.query):(function(o){return qo(BE(o))})(n.query),new Kc(s,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Gs.fromBase64String(n.resumeToken))}function WE(n,e){const t=dh(e.snapshotVersion),s=dh(e.lastLimboFreeSnapshotVersion);let a;a=jx(e.target)?VE(n.yt,e.target):zE(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ch(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function KE(n){const e=BE({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?g2(e,e.limit,"L"):e}function l1(n,e){return new kv(e.largestBatchId,b2(n.yt,e.overlayMutation))}function E_(n,e){const t=e.path.lastSegment();return[n,ri(e.path.popLast()),t]}function A_(n,e,t,s){return{indexId:n,uid:e,sequenceNumber:t,readTime:dh(s.readTime),documentKey:ri(s.documentKey.path),largestBatchId:s.largestBatchId}}class rM{getBundleMetadata(e,t){return T_(e).get(t).next((s=>{if(s)return(function(o){return{id:o.bundleId,createTime:uh(o.createTime),version:o.version}})(s)}))}saveBundleMetadata(e,t){return T_(e).put((function(a){return{bundleId:a.id,createTime:dh(bi(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return C_(e).get(t).next((s=>{if(s)return(function(o){return{name:o.name,query:KE(o.bundledQuery),readTime:uh(o.readTime)}})(s)}))}saveNamedQuery(e,t){return C_(e).put((function(a){return{name:a.name,readTime:dh(bi(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function T_(n){return oa(n,oy)}function C_(n){return oa(n,ly)}class py{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const s=t.uid||"";return new py(e,s)}getOverlay(e,t){return eg(e).get(E_(this.userId,t)).next((s=>s?l1(this.serializer,s):null))}getOverlays(e,t){const s=Ql();return Te.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&s.set(a,o)})))).next((()=>s))}saveOverlays(e,t,s){const a=[];return s.forEach(((o,c)=>{const d=new kv(t,c);a.push(this.St(e,d))})),Te.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach((c=>a.add(ri(c.getCollectionPath()))));const o=[];return a.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,s+1],!1,!0);o.push(eg(e).Z(o2,d))})),Te.waitFor(o)}getOverlaysForCollection(e,t,s){const a=Ql(),o=ri(t),c=IDBKeyRange.bound([this.userId,o,s],[this.userId,o,Number.POSITIVE_INFINITY],!0);return eg(e).J(o2,c).next((d=>{for(const h of d){const f=l1(this.serializer,h);a.set(f.getKey(),f)}return a}))}getOverlaysForCollectionGroup(e,t,s,a){const o=Ql();let c;const d=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return eg(e).ee({index:YS,range:d},((h,f,g)=>{const p=l1(this.serializer,f);o.size()<a||p.largestBatchId===c?(o.set(p.getKey(),p),c=p.largestBatchId):g.done()})).next((()=>o))}St(e,t){return eg(e).put((function(a,o,c){const[d,h,f]=E_(o,c.mutation.key);return{userId:o,collectionPath:h,documentId:f,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Ex(a.yt,c.mutation)}})(this.serializer,this.userId,t))}}function eg(n){return oa(n,cy)}class sM{bt(e){return oa(e,Nv)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const s=t?.value;return s?Gs.fromUint8Array(s):Gs.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Hu{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Kr(e.integerValue));else if("doubleValue"in e){const s=Kr(e.doubleValue);isNaN(s)?this.Ft(t,13):(this.Ft(t,15),Ug(s)?t.Mt(0):t.Mt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Ft(t,20),typeof s=="string"&&(s=td(s)),t.xt(`${s.seconds||""}`),t.Mt(s.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(nd(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.Ft(t,45),t.Mt(s.latitude||0),t.Mt(s.longitude||0)}else"mapValue"in e?oE(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):uy(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):jt(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const s=e.fields||{};this.Ft(t,55);for(const a of Object.keys(s))this.Ot(a,t),this.Ct(s[a],t)}kt(e,t){const s=e.fields||{};this.Ft(t,53);const a=Hf,o=s[a].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Kr(o)),this.Ot(a,t),this.Ct(s[a],t)}Qt(e,t){const s=e.values||[];this.Ft(t,50);for(const a of s)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),lt.fromName(e).path.forEach((s=>{this.Ft(t,60),this.Ut(s,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Hu.Kt=new Hu;const df=255;function aM(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function I_(n){const e=64-(function(s){let a=0;for(let o=0;o<8;++o){const c=aM(255&s[o]);if(a+=c,c!==8)break}return a})(n);return Math.ceil(e/8)}class iM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Gt(s.value),s=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Jt(s.value),s=t.next();this.Ht()}Yt(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Gt(s);else if(s<2048)this.Gt(960|s>>>6),this.Gt(128|63&s);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Jt(s);else if(s<2048)this.Jt(960|s>>>6),this.Jt(128|63&s);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s);else{const a=t.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const t=this.en(e),s=I_(t);this.tn(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),s=I_(t);this.tn(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(df),this.sn(255)}_n(){this.an(df),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)})(e),s=!!(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===df?(this.sn(df),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===df?(this.an(df),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class oM{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class lM{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class tg{constructor(){this.cn=new iM,this.ln=new oM(this.cn),this.hn=new lM(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class $u{constructor(e,t,s,a){this.Tn=e,this.In=t,this.En=s,this.dn=a}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,s=new Uint8Array(t);return s.set(this.dn,0),t!==e?s.set([0],this.dn.length):++s[s.length-1],new $u(this.Tn,this.In,this.En,s)}Rn(e,t,s){return{indexId:this.Tn,uid:e,arrayValue:J0(this.En),directionalValue:J0(this.dn),orderedDocumentKey:J0(t),documentKey:s.path.toArray()}}Vn(e,t,s){const a=this.Rn(e,t,s);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Vd(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=k_(n.En,e.En),t!==0?t:(t=k_(n.dn,e.dn),t!==0?t:lt.comparator(n.In,e.In)))}function k_(n,e){for(let t=0;t<n.length&&t<e.length;++t){const s=n[t]-e[t];if(s!==0)return s}return n.length-e.length}function J0(n){return U3()?(function(t){let s="";for(let a=0;a<t.length;a++)s+=String.fromCharCode(t[a]);return s})(n):n}function R_(n){return typeof n!="string"?n:(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(n)}class P_{constructor(e){this.mn=new fr(((t,s)=>rs.comparator(t.field,s.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const s=t;s.isInequality()?this.mn=this.mn.add(s):this.gn.push(s)}}get pn(){return this.mn.size>1}yn(e){if(Mt(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=s2(e);if(t!==void 0&&!this.wn(t))return!1;const s=Vu(e);let a=new Set,o=0,c=0;for(;o<s.length&&this.wn(s[o]);++o)a=a.add(s[o].fieldPath.canonicalString());if(o===s.length)return!0;if(this.mn.size>0){const d=this.mn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const h=s[o];if(!this.Sn(d,h)||!this.bn(this.fn[c++],h))return!1}++o}for(;o<s.length;++o){const d=s[o];if(c>=this.fn.length||!this.bn(this.fn[c++],d))return!1}return!0}Dn(){if(this.pn)return null;let e=new fr(rs.comparator);const t=[];for(const s of this.gn)if(!s.field.isKeyField())if(s.op==="array-contains"||s.op==="array-contains-any")t.push(new G0(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),t.push(new G0(s.field,0))}for(const s of this.fn)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),t.push(new G0(s.field,s.dir==="asc"?0:1)));return new yx(yx.UNKNOWN_ID,this.collectionId,t,Fg.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const s=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===s}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function YE(n){if(Mt(n instanceof Dn||n instanceof hr,20012),n instanceof Dn){if(n instanceof pE){const t=n.value.arrayValue?.values?.map((s=>Dn.create(n.field,"==",s)))||[];return hr.create(t,"or")}return n}const e=n.filters.map((t=>YE(t)));return hr.create(e,n.op)}function cM(n){if(n.getFilters().length===0)return[];const e=N2(YE(n));return Mt(XE(e),7391),v2(e)||w2(e)?[e]:e.getFilters()}function v2(n){return n instanceof Dn}function w2(n){return n instanceof hr&&Av(n)}function XE(n){return v2(n)||w2(n)||(function(t){if(t instanceof hr&&u2(t)){for(const s of t.getFilters())if(!v2(s)&&!w2(s))return!1;return!0}return!1})(n)}function N2(n){if(Mt(n instanceof Dn||n instanceof hr,34018),n instanceof Dn)return n;if(n.filters.length===1)return N2(n.filters[0]);const e=n.filters.map((s=>N2(s)));let t=hr.create(e,n.op);return t=Tx(t),XE(t)?t:(Mt(t instanceof hr,64498),Mt(Kf(t),40251),Mt(t.filters.length>1,57927),t.filters.reduce(((s,a)=>Lv(s,a))))}function Lv(n,e){let t;return Mt(n instanceof Dn||n instanceof hr,38388),Mt(e instanceof Dn||e instanceof hr,25473),t=n instanceof Dn?e instanceof Dn?(function(a,o){return hr.create([a,o],"and")})(n,e):L_(n,e):e instanceof Dn?L_(e,n):(function(a,o){if(Mt(a.filters.length>0&&o.filters.length>0,48005),Kf(a)&&Kf(o))return fE(a,o.getFilters());const c=u2(a)?a:o,d=u2(a)?o:a,h=c.filters.map((f=>Lv(f,d)));return hr.create(h,"or")})(n,e),Tx(t)}function L_(n,e){if(Kf(e))return fE(e,n.getFilters());{const t=e.filters.map((s=>Lv(n,s)));return hr.create(t,"or")}}function Tx(n){if(Mt(n instanceof Dn||n instanceof hr,11850),n instanceof Dn)return n;const e=n.getFilters();if(e.length===1)return Tx(e[0]);if(uE(n))return n;const t=e.map((a=>Tx(a))),s=[];return t.forEach((a=>{a instanceof Dn?s.push(a):a instanceof hr&&(a.op===n.op?s.push(...a.filters):s.push(a))})),s.length===1?s[0]:hr.create(s,n.op)}class dM{constructor(){this.Cn=new Dv}addToCollectionParentIndex(e,t){return this.Cn.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(yo.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(yo.min())}updateCollectionGroup(e,t,s){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class Dv{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new fr(tr.comparator),o=!a.has(s);return this.index[t]=a.add(s),o}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new fr(tr.comparator)).toArray()}}const D_="IndexedDbIndexManager",N0=new Uint8Array(0);class uM{constructor(e,t){this.databaseId=t,this.vn=new Dv,this.Fn=new od((s=>ch(s)),((s,a)=>dp(s,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const o={collectionId:s,parent:ri(a)};return M_(e).put(o)}return Te.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[OS(t),""],!1,!0);return M_(e).J(a).next((o=>{for(const c of o){if(c.collectionId!==t)break;s.push(Xl(c.parent))}return s}))}addFieldIndex(e,t){const s=ng(e),a=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(t);delete a.indexId;const o=s.add(a);if(t.indexState){const c=hf(e);return o.next((d=>{c.put(A_(d,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const s=ng(e),a=hf(e),o=uf(e);return s.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=ng(e),s=uf(e),a=hf(e);return t.Z().next((()=>s.Z())).next((()=>a.Z()))}createTargetIndexes(e,t){return Te.forEach(this.Mn(t),(s=>this.getIndexType(e,s).next((a=>{if(a===0||a===1){const o=new P_(s).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const s=uf(e);let a=!0;const o=new Map;return Te.forEach(this.Mn(t),(c=>this.xn(e,c).next((d=>{a&&(a=!!d),o.set(c,d)})))).next((()=>{if(a){let c=Sn();const d=[];return Te.forEach(o,((h,f)=>{tt(D_,`Using index ${(function(O){return`id=${O.indexId}|cg=${O.collectionGroup}|f=${O.fields.map((D=>`${D.fieldPath}:${D.kind}`)).join(",")}`})(h)} to execute ${ch(t)}`);const g=(function(O,D){const ee=s2(D);if(ee===void 0)return null;for(const te of _x(O,ee.fieldPath))switch(te.op){case"array-contains-any":return te.value.arrayValue.values||[];case"array-contains":return[te.value]}return null})(f,h),p=(function(O,D){const ee=new Map;for(const te of Vu(D))for(const H of _x(O,te.fieldPath))switch(H.op){case"==":case"in":ee.set(te.fieldPath.canonicalString(),H.value);break;case"not-in":case"!=":return ee.set(te.fieldPath.canonicalString(),H.value),Array.from(ee.values())}return null})(f,h),v=(function(O,D){const ee=[];let te=!0;for(const H of Vu(D)){const M=H.kind===0?f_(O,H.fieldPath,O.startAt):m_(O,H.fieldPath,O.startAt);ee.push(M.value),te&&(te=M.inclusive)}return new Wf(ee,te)})(f,h),b=(function(O,D){const ee=[];let te=!0;for(const H of Vu(D)){const M=H.kind===0?m_(O,H.fieldPath,O.endAt):f_(O,H.fieldPath,O.endAt);ee.push(M.value),te&&(te=M.inclusive)}return new Wf(ee,te)})(f,h),A=this.On(h,f,v),S=this.On(h,f,b),j=this.Nn(h,f,p),E=this.Bn(h.indexId,g,A,v.inclusive,S,b.inclusive,j);return Te.forEach(E,(L=>s.Y(L,t.limit).next((O=>{O.forEach((D=>{const ee=lt.fromSegments(D.documentKey);c.has(ee)||(c=c.add(ee),d.push(ee))}))}))))})).next((()=>d))}return Te.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=cM(hr.create(e.filters,"and")).map((s=>f2(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,s,a,o,c,d){const h=(t!=null?t.length:1)*Math.max(s.length,o.length),f=h/(t!=null?t.length:1),g=[];for(let p=0;p<h;++p){const v=t?this.Ln(t[p/f]):N0,b=this.kn(e,v,s[p%f],a),A=this.qn(e,v,o[p%f],c),S=d.map((j=>this.kn(e,v,j,!0)));g.push(...this.createRange(b,A,S))}return g}kn(e,t,s,a){const o=new $u(e,lt.empty(),t,s);return a?o:o.An()}qn(e,t,s,a){const o=new $u(e,lt.empty(),t,s);return a?o.An():o}xn(e,t){const s=new P_(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let c=null;for(const d of o)s.yn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(e,t){let s=2;const a=this.Mn(t);return Te.forEach(a,(o=>this.xn(e,o).next((c=>{c?s!==0&&c.fields.length<(function(h){let f=new fr(rs.comparator),g=!1;for(const p of h.filters)for(const v of p.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:f=f.add(v.field));for(const p of h.orderBy)p.field.isKeyField()||(f=f.add(p.field));return f.size+(g?1:0)})(o)&&(s=1):s=0})))).next((()=>(function(c){return c.limit!==null})(t)&&a.length>1&&s===2?1:s))}Qn(e,t){const s=new tg;for(const a of Vu(e)){const o=t.data.field(a.fieldPath);if(o==null)return null;const c=s.Pn(a.kind);Hu.Kt.Dt(o,c)}return s.un()}Ln(e){const t=new tg;return Hu.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const s=new tg;return Hu.Kt.Dt(Hg(this.databaseId,t),s.Pn((function(o){const c=Vu(o);return c.length===0?0:c[c.length-1].kind})(e))),s.un()}Nn(e,t,s){if(s===null)return[];let a=[];a.push(new tg);let o=0;for(const c of Vu(e)){const d=s[o++];for(const h of a)if(this.Un(t,c.fieldPath)&&$g(d))a=this.Kn(a,c,d);else{const f=h.Pn(c.kind);Hu.Kt.Dt(d,f)}}return this.Wn(a)}On(e,t,s){return this.Nn(e,t,s.position)}Wn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].un();return t}Kn(e,t,s){const a=[...e],o=[];for(const c of s.arrayValue.values||[])for(const d of a){const h=new tg;h.seed(d.un()),Hu.Kt.Dt(c,h.Pn(t.kind)),o.push(h)}return o}Un(e,t){return!!e.filters.find((s=>s instanceof Dn&&s.field.isEqual(t)&&(s.op==="in"||s.op==="not-in")))}getFieldIndexes(e,t){const s=ng(e),a=hf(e);return(t?s.J(i2,IDBKeyRange.bound(t,t)):s.J()).next((o=>{const c=[];return Te.forEach(o,(d=>a.get([d.indexId,this.uid]).next((h=>{c.push((function(g,p){const v=p?new Fg(p.sequenceNumber,new yo(uh(p.readTime),new lt(Xl(p.documentKey)),p.largestBatchId)):Fg.empty(),b=g.fields.map((([A,S])=>new G0(rs.fromServerFormat(A),S)));return new yx(g.indexId,g.collectionGroup,b,v)})(d,h))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((s,a)=>{const o=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:dn(s.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,s){const a=ng(e),o=hf(e);return this.Gn(e).next((c=>a.J(i2,IDBKeyRange.bound(t,t)).next((d=>Te.forEach(d,(h=>o.put(A_(h.indexId,this.uid,c,s))))))))}updateIndexEntries(e,t){const s=new Map;return Te.forEach(t,((a,o)=>{const c=s.get(a.collectionGroup);return(c?Te.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((d=>(s.set(a.collectionGroup,d),Te.forEach(d,(h=>this.zn(e,a,h).next((f=>{const g=this.jn(o,h);return f.isEqual(g)?Te.resolve():this.Jn(e,o,h,f,g)})))))))}))}Hn(e,t,s,a){return uf(e).put(a.Rn(this.uid,this.$n(s,t.key),t.key))}Yn(e,t,s,a){return uf(e).delete(a.Vn(this.uid,this.$n(s,t.key),t.key))}zn(e,t,s){const a=uf(e);let o=new fr(Vd);return a.ee({index:KS,range:IDBKeyRange.only([s.indexId,this.uid,J0(this.$n(s,t))])},((c,d)=>{o=o.add(new $u(s.indexId,t,R_(d.arrayValue),R_(d.directionalValue)))})).next((()=>o))}jn(e,t){let s=new fr(Vd);const a=this.Qn(t,e);if(a==null)return s;const o=s2(t);if(o!=null){const c=e.data.field(o.fieldPath);if($g(c))for(const d of c.arrayValue.values||[])s=s.add(new $u(t.indexId,e.key,this.Ln(d),a))}else s=s.add(new $u(t.indexId,e.key,N0,a));return s}Jn(e,t,s,a,o){tt(D_,"Updating index entries for document '%s'",t.key);const c=[];return(function(h,f,g,p,v){const b=h.getIterator(),A=f.getIterator();let S=cf(b),j=cf(A);for(;S||j;){let E=!1,L=!1;if(S&&j){const O=g(S,j);O<0?L=!0:O>0&&(E=!0)}else S!=null?L=!0:E=!0;E?(p(j),j=cf(A)):L?(v(S),S=cf(b)):(S=cf(b),j=cf(A))}})(a,o,Vd,(d=>{c.push(this.Hn(e,t,s,d))}),(d=>{c.push(this.Yn(e,t,s,d))})),Te.waitFor(c)}Gn(e){let t=1;return hf(e).ee({index:WS,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((s,a,o)=>{o.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,s){s=s.sort(((c,d)=>Vd(c,d))).filter(((c,d,h)=>!d||Vd(c,h[d-1])!==0));const a=[];a.push(e);for(const c of s){const d=Vd(c,e),h=Vd(c,t);if(d===0)a[0]=e.An();else if(d>0&&h<0)a.push(c),a.push(c.An());else if(h>0)break}a.push(t);const o=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const d=a[c].Vn(this.uid,N0,lt.empty()),h=a[c+1].Vn(this.uid,N0,lt.empty());o.push(IDBKeyRange.bound(d,h))}return o}Zn(e,t){return Vd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(O_)}getMinOffset(e,t){return Te.mapArray(this.Mn(t),(s=>this.xn(e,s).next((a=>a||jt(44426))))).next(O_)}}function M_(n){return oa(n,Bg)}function uf(n){return oa(n,vg)}function ng(n){return oa(n,wv)}function hf(n){return oa(n,bg)}function O_(n){Mt(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<n.length;s++){const a=n[s].indexState.offset;yv(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new yo(e.readTime,e.documentKey,t)}const F_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QE=41943040;class ti{static withCacheSize(e){return new ti(e,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}function JE(n,e,t){const s=n.store(pl),a=n.store(zf),o=[],c=IDBKeyRange.only(t.batchId);let d=0;const h=s.ee({range:c},((g,p,v)=>(d++,v.delete())));o.push(h.next((()=>{Mt(d===1,47070,{batchId:t.batchId})})));const f=[];for(const g of t.mutations){const p=GS(e,g.key.path,t.batchId);o.push(a.delete(p)),f.push(g.key)}return Te.waitFor(o).next((()=>f))}function Cx(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw jt(14731);e=n.noDocument}return JSON.stringify(e).length}ti.DEFAULT_COLLECTION_PERCENTILE=10,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ti.DEFAULT=new ti(QE,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ti.DISABLED=new ti(-1,0,0);class xy{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.Xn={}}static wt(e,t,s,a){Mt(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new xy(o,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zd(e).ee({index:Ku,range:s},((a,o,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,s,a){const o=_f(e),c=zd(e);return c.add({}).next((d=>{Mt(typeof d=="number",49019);const h=new Cv(d,t,s,a),f=(function(b,A,S){const j=S.baseMutations.map((L=>Ex(b.yt,L))),E=S.mutations.map((L=>Ex(b.yt,L)));return{userId:A,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:j,mutations:E}})(this.serializer,this.userId,h),g=[];let p=new fr(((v,b)=>dn(v.canonicalString(),b.canonicalString())));for(const v of a){const b=GS(this.userId,v.key.path,d);p=p.add(v.key.path.popLast()),g.push(c.put(f)),g.push(o.put(b,V7))}return p.forEach((v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[d]=h.keys()})),Te.waitFor(g).next((()=>h))}))}lookupMutationBatch(e,t){return zd(e).get(t).next((s=>s?(Mt(s.userId===this.userId,48,"Unexpected user for mutation batch",{userId:s.userId,batchId:t}),Gu(this.serializer,s)):null))}er(e,t){return this.Xn[t]?Te.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((s=>{if(s){const a=s.keys();return this.Xn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let o=null;return zd(e).ee({index:Ku,range:a},((c,d,h)=>{d.userId===this.userId&&(Mt(d.batchId>=s,47524,{tr:s}),o=Gu(this.serializer,d)),h.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=Xu;return zd(e).ee({index:Ku,range:t,reverse:!0},((a,o,c)=>{s=o.batchId,c.done()})).next((()=>s))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Xu],[this.userId,Number.POSITIVE_INFINITY]);return zd(e).J(Ku,t).next((s=>s.map((a=>Gu(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=H0(this.userId,t.path),a=IDBKeyRange.lowerBound(s),o=[];return _f(e).ee({range:a},((c,d,h)=>{const[f,g,p]=c,v=Xl(g);if(f===this.userId&&t.path.isEqual(v))return zd(e).get(p).next((b=>{if(!b)throw jt(61480,{nr:c,batchId:p});Mt(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:p}),o.push(Gu(this.serializer,b))}));h.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new fr(dn);const a=[];return t.forEach((o=>{const c=H0(this.userId,o.path),d=IDBKeyRange.lowerBound(c),h=_f(e).ee({range:d},((f,g,p)=>{const[v,b,A]=f,S=Xl(b);v===this.userId&&o.path.isEqual(S)?s=s.add(A):p.done()}));a.push(h)})),Te.waitFor(a).next((()=>this.rr(e,s)))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,o=H0(this.userId,s),c=IDBKeyRange.lowerBound(o);let d=new fr(dn);return _f(e).ee({range:c},((h,f,g)=>{const[p,v,b]=h,A=Xl(v);p===this.userId&&s.isPrefixOf(A)?A.length===a&&(d=d.add(b)):g.done()})).next((()=>this.rr(e,d)))}rr(e,t){const s=[],a=[];return t.forEach((o=>{a.push(zd(e).get(o).next((c=>{if(c===null)throw jt(35274,{batchId:o});Mt(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:o}),s.push(Gu(this.serializer,c))})))})),Te.waitFor(a).next((()=>s))}removeMutationBatch(e,t){return JE(e.le,this.userId,t).next((s=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),Te.forEach(s,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Te.resolve();const s=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return _f(e).ee({range:s},((o,c,d)=>{if(o[0]===this.userId){const h=Xl(o[1]);a.push(h)}else d.done()})).next((()=>{Mt(a.length===0,56720,{sr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return ZE(e,this.userId,t)}_r(e){return eA(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Xu,lastStreamToken:""}))}}function ZE(n,e,t){const s=H0(e,t.path),a=s[1],o=IDBKeyRange.lowerBound(s);let c=!1;return _f(n).ee({range:o,X:!0},((d,h,f)=>{const[g,p,v]=d;g===e&&p===a&&(c=!0),f.done()})).next((()=>c))}function zd(n){return oa(n,pl)}function _f(n){return oa(n,zf)}function eA(n){return oa(n,Vg)}class hh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new hh(0)}static cr(){return new hh(-1)}}class hM{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const s=new hh(t.highestTargetId);return t.highestTargetId=s.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Ht.fromTimestamp(new xt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,s){return this.lr(e).next((a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.hr(e,a))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((s=>(s.targetCount+=1,this.Tr(t,s),this.hr(e,s))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>ff(e).delete(t.targetId))).next((()=>this.lr(e))).next((s=>(Mt(s.targetCount>0,8065),s.targetCount-=1,this.hr(e,s))))}removeTargets(e,t,s){let a=0;const o=[];return ff(e).ee(((c,d)=>{const h=fg(d);h.sequenceNumber<=t&&s.get(h.targetId)===null&&(a++,o.push(this.removeTargetData(e,h)))})).next((()=>Te.waitFor(o))).next((()=>a))}forEachTarget(e,t){return ff(e).ee(((s,a)=>{const o=fg(a);t(o)}))}lr(e){return U_(e).get(wx).next((t=>(Mt(t!==null,2888),t)))}hr(e,t){return U_(e).put(wx,t)}Pr(e,t){return ff(e).put(WE(this.serializer,t))}Tr(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const s=ch(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let o=null;return ff(e).ee({range:a,index:$S},((c,d,h)=>{const f=fg(d);dp(t,f.target)&&(o=f,h.done())})).next((()=>o))}addMatchingKeys(e,t,s){const a=[],o=Yd(e);return t.forEach((c=>{const d=ri(c.path);a.push(o.put({targetId:s,path:d})),a.push(this.referenceDelegate.addReference(e,s,c))})),Te.waitFor(a)}removeMatchingKeys(e,t,s){const a=Yd(e);return Te.forEach(t,(o=>{const c=ri(o.path);return Te.waitFor([a.delete([s,c]),this.referenceDelegate.removeReference(e,s,o)])}))}removeMatchingKeysForTargetId(e,t){const s=Yd(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=Yd(e);let o=Sn();return a.ee({range:s,X:!0},((c,d,h)=>{const f=Xl(c[1]),g=new lt(f);o=o.add(g)})).next((()=>o))}containsKey(e,t){const s=ri(t.path),a=IDBKeyRange.bound([s],[OS(s)],!1,!0);let o=0;return Yd(e).ee({index:vv,X:!0,range:a},(([c,d],h,f)=>{c!==0&&(o++,f.done())})).next((()=>o>0))}At(e,t){return ff(e).get(t).next((s=>s?fg(s):null))}}function ff(n){return oa(n,Bf)}function U_(n){return oa(n,Qu)}function Yd(n){return oa(n,qf)}const V_="LruGarbageCollector",fM=1048576;function z_([n,e],[t,s]){const a=dn(n,t);return a===0?dn(e,s):a}class mM{constructor(e){this.Ir=e,this.buffer=new fr(z_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();z_(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tA{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){tt(V_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){yu(t)?tt(V_,"Ignoring IndexedDB error during garbage collection: ",t):await vh(t)}await this.Vr(3e5)}))}}class gM{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Te.resolve(zo.ce);const s=new mM(t);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(F_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,a,o,c,d,h,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),a=this.params.maximumSequenceNumbersToCollect):a=p,c=Date.now(),this.nthSequenceNumber(e,a)))).next((p=>(s=p,d=Date.now(),this.removeTargets(e,s,t)))).next((p=>(o=p,h=Date.now(),this.removeOrphanedDocuments(e,s)))).next((p=>(f=Date.now(),vf()<=Ln.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${p} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:p}))))}}function nA(n,e){return new gM(n,e)}class pM{constructor(e,t){this.db=e,this.garbageCollector=nA(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((s,a)=>t(a)))}addReference(e,t,s){return j0(e,s)}removeReference(e,t,s){return j0(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return j0(e,t)}br(e,t){return(function(a,o){let c=!1;return eA(a).te((d=>ZE(a,d,o).next((h=>(h&&(c=!0),Te.resolve(!h)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.Sr(e,((c,d)=>{if(d<=t){const h=this.br(e,c).next((f=>{if(!f)return o++,s.getEntry(e,c).next((()=>(s.removeEntry(c,Ht.min()),Yd(e).delete((function(p){return[0,ri(p.path)]})(c)))))}));a.push(h)}})).next((()=>Te.waitFor(a))).next((()=>s.apply(e))).next((()=>o))}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return j0(e,t)}Sr(e,t){const s=Yd(e);let a,o=zo.ce;return s.ee({index:vv},(([c,d],{path:h,sequenceNumber:f})=>{c===0?(o!==zo.ce&&t(new lt(Xl(a)),o),o=f,a=h):o=zo.ce})).next((()=>{o!==zo.ce&&t(new lt(Xl(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function j0(n,e){return Yd(n).put((function(s,a){return{targetId:0,path:ri(s.path),sequenceNumber:a}})(e,n.currentSequenceNumber))}class rA{constructor(){this.changes=new od((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ys.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xM{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Fu(e).put(s)}removeEntry(e,t,s){return Fu(e).delete((function(o,c){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Ax(c),d[d.length-1]]})(t,s))}updateMetadata(e,t){return this.getMetadata(e).next((s=>(s.byteSize+=t,this.Dr(e,s))))}getEntry(e,t){let s=ys.newInvalidDocument(t);return Fu(e).ee({index:$0,range:IDBKeyRange.only(rg(t))},((a,o)=>{s=this.Cr(t,o)})).next((()=>s))}vr(e,t){let s={size:0,document:ys.newInvalidDocument(t)};return Fu(e).ee({index:$0,range:IDBKeyRange.only(rg(t))},((a,o)=>{s={document:this.Cr(t,o),size:Cx(o)}})).next((()=>s))}getEntries(e,t){let s=go();return this.Fr(e,t,((a,o)=>{const c=this.Cr(a,o);s=s.insert(a,c)})).next((()=>s))}Mr(e,t){let s=go(),a=new Yr(lt.comparator);return this.Fr(e,t,((o,c)=>{const d=this.Cr(o,c);s=s.insert(o,d),a=a.insert(o,Cx(c))})).next((()=>({documents:s,Or:a})))}Fr(e,t,s){if(t.isEmpty())return Te.resolve();let a=new fr(G_);t.forEach((h=>a=a.add(h)));const o=IDBKeyRange.bound(rg(a.first()),rg(a.last())),c=a.getIterator();let d=c.getNext();return Fu(e).ee({index:$0,range:o},((h,f,g)=>{const p=lt.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;d&&G_(d,p)<0;)s(d,null),d=c.getNext();d&&d.isEqual(p)&&(s(d,f),d=c.hasNext()?c.getNext():null),d?g.j(rg(d)):g.done()})).next((()=>{for(;d;)s(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,s,a,o){const c=t.path,d=[c.popLast().toArray(),c.lastSegment(),Ax(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],h=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fu(e).J(IDBKeyRange.bound(d,h,!0)).next((f=>{o?.incrementDocumentReadCount(f.length);let g=go();for(const p of f){const v=this.Cr(lt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);v.isFoundDocument()&&(hp(t,v)||a.has(v.key))&&(g=g.insert(v.key,v))}return g}))}getAllFromCollectionGroup(e,t,s,a){let o=go();const c=q_(t,s),d=q_(t,yo.max());return Fu(e).ee({index:HS,range:IDBKeyRange.bound(c,d,!0)},((h,f,g)=>{const p=this.Cr(lt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(p.key,p),o.size===a&&g.done()})).next((()=>o))}newChangeBuffer(e){return new yM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return B_(e).get(a2).next((t=>(Mt(!!t,20021),t)))}Dr(e,t){return B_(e).put(a2,t)}Cr(e,t){if(t){const s=nM(this.serializer,t);if(!(s.isNoDocument()&&s.version.isEqual(Ht.min())))return s}return ys.newInvalidDocument(e)}}function sA(n){return new xM(n)}class yM extends rA{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new od((s=>s.toString()),((s,a)=>s.isEqual(a)))}applyChanges(e){const t=[];let s=0,a=new fr(((o,c)=>dn(o.canonicalString(),c.canonicalString())));return this.changes.forEach(((o,c)=>{const d=this.Br.get(o);if(t.push(this.Nr.removeEntry(e,o,d.readTime)),c.isValidDocument()){const h=S_(this.Nr.serializer,c);a=a.add(o.path.popLast());const f=Cx(h);s+=f-d.size,t.push(this.Nr.addEntry(e,o,h))}else if(s-=d.size,this.trackRemovals){const h=S_(this.Nr.serializer,c.convertToNoDocument(Ht.min()));t.push(this.Nr.addEntry(e,o,h))}})),a.forEach((o=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Nr.updateMetadata(e,s)),Te.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((s=>(this.Br.set(t,{size:s.size,readTime:s.document.readTime}),s.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:s,Or:a})=>(a.forEach(((o,c)=>{this.Br.set(o,{size:c,readTime:s.get(o).readTime})})),s)))}}function B_(n){return oa(n,zg)}function Fu(n){return oa(n,vx)}function rg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function q_(n,e){const t=e.documentKey.path.toArray();return[n,Ax(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function G_(n,e){const t=n.path.toArray(),s=e.path.toArray();let a=0;for(let o=0;o<t.length-2&&o<s.length-2;++o)if(a=dn(t[o],s[o]),a)return a;return a=dn(t.length,s.length),a||(a=dn(t[t.length-2],s[s.length-2]),a||dn(t[t.length-1],s[s.length-1]))}class bM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class aA{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&_g(s.mutation,a,Gi.empty(),xt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Sn()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Sn()){const a=Ql();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((o=>{let c=ug();return o.forEach(((d,h)=>{c=c.insert(d,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Ql();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Sn())))}populateOverlays(e,t,s){const a=[];return s.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,s,a){let o=go();const c=jg(),d=(function(){return jg()})();return t.forEach(((h,f)=>{const g=s.get(f.key);a.has(f.key)&&(g===void 0||g.mutation instanceof ld)?o=o.insert(f.key,f):g!==void 0?(c.set(f.key,g.mutation.getFieldMask()),_g(g.mutation,f,g.mutation.getFieldMask(),xt.now())):c.set(f.key,Gi.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((f,g)=>c.set(f,g))),t.forEach(((f,g)=>d.set(f,new bM(g,c.get(f)??null)))),d)))}recalculateAndSaveOverlays(e,t){const s=jg();let a=new Yr(((c,d)=>c-d)),o=Sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((h=>{const f=t.get(h);if(f===null)return;let g=s.get(h)||Gi.empty();g=d.applyToLocalView(f,g),s.set(h,g);const p=(a.get(d.batchId)||Sn()).add(h);a=a.insert(d.batchId,p)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),f=h.key,g=h.value,p=NE();g.forEach((v=>{if(!o.has(v)){const b=CE(t.get(v),s.get(v));b!==null&&p.set(v,b),o=o.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Te.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return(function(c){return lt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-o.size):Te.resolve(Ql());let d=Og,h=o;return c.next((f=>Te.forEach(f,((g,p)=>(d<p.largestBatchId&&(d=p.largestBatchId),o.get(g)?Te.resolve():this.remoteDocumentCache.getEntry(e,g).next((v=>{h=h.insert(g,v)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,h,f,Sn()))).next((g=>({batchId:d,changes:wE(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lt(t)).next((s=>{let a=ug();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const o=t.collectionGroup;let c=ug();return this.indexManager.getCollectionParents(e,o).next((d=>Te.forEach(d,(h=>{const f=(function(p,v){return new lm(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,s,a).next((g=>{g.forEach(((p,v)=>{c=c.insert(p,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,o,a)))).next((c=>{o.forEach(((h,f)=>{const g=f.getKey();c.get(g)===null&&(c=c.insert(g,ys.newInvalidDocument(g)))}));let d=ug();return c.forEach(((h,f)=>{const g=o.get(h);g!==void 0&&_g(g.mutation,f,Gi.empty(),xt.now()),hp(t,f)&&(d=d.insert(h,f))})),d}))}}class vM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:bi(a.createTime)}})(t)),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:KE(a.bundledQuery),readTime:bi(a.readTime)}})(t)),Te.resolve()}}class wM{constructor(){this.overlays=new Yr(lt.comparator),this.qr=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ql();return Te.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&s.set(a,o)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,o)=>{this.St(e,t,o)})),Te.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(s)),Te.resolve()}getOverlaysForCollection(e,t,s){const a=Ql(),o=t.length+1,c=new lt(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>s&&a.set(h.getKey(),h)}return Te.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let o=new Yr(((f,g)=>f-g));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>s){let g=o.get(f.largestBatchId);g===null&&(g=Ql(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const d=Ql(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,g)=>d.set(f,g))),!(d.size()>=a)););return Te.resolve(d)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new kv(t,s));let o=this.qr.get(t);o===void 0&&(o=Sn(),this.qr.set(t,o)),this.qr.set(t,o.add(s.key))}}class NM{constructor(){this.sessionToken=Gs.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Te.resolve()}}class Mv{constructor(){this.Qr=new fr(wa.$r),this.Ur=new fr(wa.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new wa(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new wa(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new lt(new tr([])),s=new wa(t,e),a=new wa(t,e+1),o=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new lt(new tr([])),s=new wa(t,e),a=new wa(t,e+1);let o=Sn();return this.Ur.forEachInRange([s,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new wa(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class wa{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return lt.comparator(e.key,t.key)||dn(e.Yr,t.Yr)}static Kr(e,t){return dn(e.Yr,t.Yr)||lt.comparator(e.key,t.key)}}class jM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new fr(wa.$r)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Cv(o,t,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new wa(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Te.resolve(c)}lookupMutationBatch(e,t){return Te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ei(s),o=a<0?0:a;return Te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?Xu:this.tr-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new wa(t,0),a=new wa(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);o.push(d)})),Te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new fr(dn);return t.forEach((a=>{const o=new wa(a,0),c=new wa(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(d=>{s=s.add(d.Yr)}))})),Te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let o=s;lt.isDocumentKey(o)||(o=o.child(""));const c=new wa(new lt(o),0);let d=new fr(dn);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!s.isPrefixOf(f)&&(f.length===a&&(d=d.add(h.Yr)),!0)}),c),Te.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Mt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Te.forEach(t.mutations,(a=>{const o=new wa(a.key,t.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new wa(t,0),a=this.Zr.firstAfterOrEqual(s);return Te.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _M{constructor(e){this.ri=e,this.docs=(function(){return new Yr(lt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),o=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Te.resolve(s?s.document.mutableCopy():ys.newInvalidDocument(t))}getEntries(e,t){let s=go();return t.forEach((a=>{const o=this.docs.get(a);s=s.insert(a,o?o.document.mutableCopy():ys.newInvalidDocument(a))})),Te.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let o=go();const c=t.path,d=new lt(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||yv(VS(g),s)<=0||(a.has(g.key)||hp(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Te.resolve(o)}getAllFromCollectionGroup(e,t,s,a){jt(9500)}ii(e,t){return Te.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new SM(this)}getSize(e){return Te.resolve(this.size)}}class SM extends rA{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),Te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class EM{constructor(e){this.persistence=e,this.si=new od((t=>ch(t)),dp),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.oi=0,this._i=new Mv,this.targetCount=0,this.ai=hh.ur()}forEachTarget(e,t){return this.si.forEach(((s,a)=>t(a))),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),Te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new hh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.Pr(t),Te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,s){let a=0;const o=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),Te.waitFor(o).next((()=>a))}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return Te.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),Te.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),Te.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return Te.resolve(s)}containsKey(e,t){return Te.resolve(this._i.containsKey(t))}}class Ov{constructor(e,t){this.ui={},this.overlays={},this.ci=new zo(0),this.li=!1,this.li=!0,this.hi=new NM,this.referenceDelegate=e(this),this.Pi=new EM(this),this.indexManager=new dM,this.remoteDocumentCache=(function(a){return new _M(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new $E(t),this.Ii=new vM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new jM(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){tt("MemoryPersistence","Starting transaction:",e);const a=new AM(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,t){return Te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class AM extends BS{constructor(e){super(),this.currentSequenceNumber=e}}class yy{constructor(e){this.persistence=e,this.Ri=new Mv,this.Vi=null}static mi(e){return new yy(e)}get fi(){if(this.Vi)return this.Vi;throw jt(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),Te.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.fi,(s=>{const a=lt.fromPath(s);return this.gi(e,a).next((o=>{o||t.removeEntry(a,Ht.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Te.or([()=>Te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ix{constructor(e,t){this.persistence=e,this.pi=new od((s=>ri(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=nA(this,t)}static mi(e,t){return new Ix(e,t)}Ei(){}di(e){return Te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return Te.forEach(this.pi,((s,a)=>this.br(e,s,a).next((o=>o?Te.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((d=>{d||(s++,o.removeEntry(c,Ht.min()))})))).next((()=>o.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Te.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=K0(e.data.value)),t}br(e,t,s){return Te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return Te.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class TM{constructor(e){this.serializer=e}k(e,t,s,a){const o=new ay("createOrUpgrade",t);s<1&&a>=1&&((function(h){h.createObjectStore(cp)})(e),(function(h){h.createObjectStore(Vg,{keyPath:U7}),h.createObjectStore(pl,{keyPath:t_,autoIncrement:!0}).createIndex(Ku,n_,{unique:!0}),h.createObjectStore(zf)})(e),H_(e),(function(h){h.createObjectStore(zu)})(e));let c=Te.resolve();return s<3&&a>=3&&(s!==0&&((function(h){h.deleteObjectStore(qf),h.deleteObjectStore(Bf),h.deleteObjectStore(Qu)})(e),H_(e)),c=c.next((()=>(function(h){const f=h.store(Qu),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ht.min().toTimestamp(),targetCount:0};return f.put(wx,g)})(o)))),s<4&&a>=4&&(s!==0&&(c=c.next((()=>(function(h,f){return f.store(pl).J().next((p=>{h.deleteObjectStore(pl),h.createObjectStore(pl,{keyPath:t_,autoIncrement:!0}).createIndex(Ku,n_,{unique:!0});const v=f.store(pl),b=p.map((A=>v.put(A)));return Te.waitFor(b)}))})(e,o)))),c=c.next((()=>{(function(h){h.createObjectStore(Gf,{keyPath:K7})})(e)}))),s<5&&a>=5&&(c=c.next((()=>this.yi(o)))),s<6&&a>=6&&(c=c.next((()=>((function(h){h.createObjectStore(zg)})(e),this.wi(o))))),s<7&&a>=7&&(c=c.next((()=>this.Si(o)))),s<8&&a>=8&&(c=c.next((()=>this.bi(e,o)))),s<9&&a>=9&&(c=c.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),s<10&&a>=10&&(c=c.next((()=>this.Di(o)))),s<11&&a>=11&&(c=c.next((()=>{(function(h){h.createObjectStore(oy,{keyPath:Y7})})(e),(function(h){h.createObjectStore(ly,{keyPath:X7})})(e)}))),s<12&&a>=12&&(c=c.next((()=>{(function(h){const f=h.createObjectStore(cy,{keyPath:rD});f.createIndex(o2,sD,{unique:!1}),f.createIndex(YS,aD,{unique:!1})})(e)}))),s<13&&a>=13&&(c=c.next((()=>(function(h){const f=h.createObjectStore(vx,{keyPath:z7});f.createIndex($0,B7),f.createIndex(HS,q7)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(zu)))),s<14&&a>=14&&(c=c.next((()=>this.Fi(e,o)))),s<15&&a>=15&&(c=c.next((()=>(function(h){h.createObjectStore(wv,{keyPath:Q7,autoIncrement:!0}).createIndex(i2,J7,{unique:!1}),h.createObjectStore(bg,{keyPath:Z7}).createIndex(WS,eD,{unique:!1}),h.createObjectStore(vg,{keyPath:tD}).createIndex(KS,nD,{unique:!1})})(e)))),s<16&&a>=16&&(c=c.next((()=>{t.objectStore(bg).clear()})).next((()=>{t.objectStore(vg).clear()}))),s<17&&a>=17&&(c=c.next((()=>{(function(h){h.createObjectStore(Nv,{keyPath:iD})})(e)}))),s<18&&a>=18&&U3()&&(c=c.next((()=>{t.objectStore(bg).clear()})).next((()=>{t.objectStore(vg).clear()}))),c}wi(e){let t=0;return e.store(zu).ee(((s,a)=>{t+=Cx(a)})).next((()=>{const s={byteSize:t};return e.store(zg).put(a2,s)}))}yi(e){const t=e.store(Vg),s=e.store(pl);return t.J().next((a=>Te.forEach(a,(o=>{const c=IDBKeyRange.bound([o.userId,Xu],[o.userId,o.lastAcknowledgedBatchId]);return s.J(Ku,c).next((d=>Te.forEach(d,(h=>{Mt(h.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const f=Gu(this.serializer,h);return JE(e,o.userId,f).next((()=>{}))}))))}))))}Si(e){const t=e.store(qf),s=e.store(zu);return e.store(Qu).get(wx).next((a=>{const o=[];return s.ee(((c,d)=>{const h=new tr(c),f=(function(p){return[0,ri(p)]})(h);o.push(t.get(f).next((g=>g?Te.resolve():(p=>t.put({targetId:0,path:ri(p),sequenceNumber:a.highestListenSequenceNumber}))(h))))})).next((()=>Te.waitFor(o)))}))}bi(e,t){e.createObjectStore(Bg,{keyPath:W7});const s=t.store(Bg),a=new Dv,o=c=>{if(a.add(c)){const d=c.lastSegment(),h=c.popLast();return s.put({collectionId:d,parent:ri(h)})}};return t.store(zu).ee({X:!0},((c,d)=>{const h=new tr(c);return o(h.popLast())})).next((()=>t.store(zf).ee({X:!0},(([c,d,h],f)=>{const g=Xl(d);return o(g.popLast())}))))}Di(e){const t=e.store(Bf);return t.ee(((s,a)=>{const o=fg(a),c=WE(this.serializer,o);return t.put(c)}))}Ci(e,t){const s=t.store(zu),a=[];return s.ee(((o,c)=>{const d=t.store(vx),h=(function(p){return p.document?new lt(tr.fromString(p.document.name).popFirst(5)):p.noDocument?lt.fromSegments(p.noDocument.path):p.unknownDocument?lt.fromSegments(p.unknownDocument.path):jt(36783)})(c).path.toArray(),f={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(f))})).next((()=>Te.waitFor(a)))}Fi(e,t){const s=t.store(pl),a=sA(this.serializer),o=new Ov(yy.mi,this.serializer.yt);return s.J().next((c=>{const d=new Map;return c.forEach((h=>{let f=d.get(h.userId)??Sn();Gu(this.serializer,h).keys().forEach((g=>f=f.add(g))),d.set(h.userId,f)})),Te.forEach(d,((h,f)=>{const g=new Ua(f),p=py.wt(this.serializer,g),v=o.getIndexManager(g),b=xy.wt(g,this.serializer,v,o.referenceDelegate);return new aA(a,b,p,v).recalculateAndSaveOverlaysForDocumentKeys(new l2(t,zo.ce),h).next()}))}))}}function H_(n){n.createObjectStore(qf,{keyPath:H7}).createIndex(vv,$7,{unique:!0}),n.createObjectStore(Bf,{keyPath:"targetId"}).createIndex($S,G7,{unique:!0}),n.createObjectStore(Qu)}const Bd="IndexedDbPersistence",c1=18e5,d1=5e3,u1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",CM="main";class Fv{constructor(e,t,s,a,o,c,d,h,f,g,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Mi=o,this.window=c,this.document=d,this.xi=f,this.Oi=g,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!Fv.v())throw new st(Ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pM(this,a),this.$i=t+CM,this.serializer=new $E(h),this.Ui=new su(this.$i,this.Ni,new TM(this.serializer)),this.hi=new sM,this.Pi=new hM(this.referenceDelegate,this.serializer),this.remoteDocumentCache=sA(this.serializer),this.Ii=new rM,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,g===!1&&yi(Bd,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new st(Ve.FAILED_PRECONDITION,u1);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new zo(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>_0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(yu(e))return tt(Bd,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return tt(Bd,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return sg(e).get(lf).next((t=>Te.resolve(this.es(t))))}ts(e){return _0(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,c1)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const s=oa(t,Gf);return s.J().next((a=>{const o=this.ss(a,c1),c=a.filter((d=>o.indexOf(d)===-1));return Te.forEach(c,(d=>s.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Te.resolve(!0):sg(e).get(lf).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,d1)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new st(Ve.FAILED_PRECONDITION,u1);return!1}}return!(!this.networkEnabled||!this.inForeground)||_0(e).J().next((s=>this.ss(s,d1).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(o||c&&d)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&tt(Bd,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[cp,Gf],(e=>{const t=new l2(e,zo.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((s=>this.rs(s.updateTimeMs,t)&&!this.us(s.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>_0(e).J().next((t=>this.ss(t,c1).map((s=>s.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return xy.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new uM(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return py.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,s){tt(Bd,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",o=(function(h){return h===18?cD:h===17?ZS:h===16?lD:h===15?jv:h===14?JS:h===13?QS:h===12?oD:h===11?XS:void jt(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,a,o,(d=>(c=new l2(d,this.ci?this.ci.next():zo.ce),t==="readwrite-primary"?this.Hi(c).next((h=>!!h||this.Yi(c))).next((h=>{if(!h)throw yi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new st(Ve.FAILED_PRECONDITION,zS);return s(c)})).next((h=>this.Xi(c).next((()=>h)))):this.Is(c).next((()=>s(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Is(e){return sg(e).get(lf).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,d1)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new st(Ve.FAILED_PRECONDITION,u1)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sg(e).put(lf,t)}static v(){return su.v()}Zi(e){const t=sg(e);return t.get(lf).next((s=>this.es(s)?(tt(Bd,"Releasing primary lease."),t.delete(lf)):Te.resolve()))}rs(e,t){const s=Date.now();return!(e<s-t)&&(!(e>s)||(yi(`Detected an update time that is in the future: ${e} > ${s}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;F3()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return tt(Bd,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return yi(Bd,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){yi("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function sg(n){return oa(n,cp)}function _0(n){return oa(n,Gf)}function IM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Uv{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=a}static As(e,t){let s=Sn(),a=Sn();for(const o of t.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Uv(e,t.fromCache,s,a)}}class kM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class iA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return F3()?8:qS(aa())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const o={result:null};return this.ys(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,t,a,s).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new kM;return this.Ss(e,t,c).next((d=>{if(o.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>o.result))}bs(e,t,s,a){return s.documentReadCount<this.fs?(vf()<=Ln.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",wf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Te.resolve()):(vf()<=Ln.DEBUG&&tt("QueryEngine","Query:",wf(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(vf()<=Ln.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",wf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qo(t))):Te.resolve())}ys(e,t){if(g_(t))return Te.resolve(null);let s=qo(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=g2(t,null,"F"),s=qo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((o=>{const c=Sn(...o);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((h=>{const f=this.Ds(t,d);return this.Cs(t,f,c,h.readTime)?this.ys(e,g2(t,null,"F")):this.vs(e,f,t,h)}))))})))))}ws(e,t,s,a){return g_(t)||a.isEqual(Ht.min())?Te.resolve(null):this.ps.getDocuments(e,s).next((o=>{const c=this.Ds(t,o);return this.Cs(t,c,s,a)?Te.resolve(null):(vf()<=Ln.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wf(t)),this.vs(e,c,t,R7(a,Og)).next((d=>d)))}))}Ds(e,t){let s=new fr(bE(e));return t.forEach(((a,o)=>{hp(e,o)&&(s=s.add(o))})),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,t,s){return vf()<=Ln.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",wf(t)),this.ps.getDocumentsMatchingQuery(e,t,yo.min(),s)}vs(e,t,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const Vv="LocalStore",RM=3e8;class PM{constructor(e,t,s,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Yr(dn),this.xs=new od((o=>ch(o)),dp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function oA(n,e,t,s){return new PM(n,e,t,s)}async function lA(n,e){const t=un(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((o=>(a=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((o=>{const c=[],d=[];let h=Sn();for(const f of a){c.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of o){d.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(s,h).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:d})))}))}))}function LM(n,e){const t=un(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,h,f,g){const p=f.batch,v=p.keys();let b=Te.resolve();return v.forEach((A=>{b=b.next((()=>g.getEntry(h,A))).next((S=>{const j=f.docVersions.get(A);Mt(j!==null,48541),S.version.compareTo(j)<0&&(p.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),g.addEntry(S)))}))})),b.next((()=>d.mutationQueue.removeMutationBatch(h,p)))})(t,s,e,o).next((()=>o.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let h=Sn();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(h=h.add(d.batch.mutations[f].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function cA(n){const e=un(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function DM(n,e){const t=un(n),s=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((g,p)=>{const v=a.get(p);if(!v)return;d.push(t.Pi.removeMatchingKeys(o,g.removedDocuments,p).next((()=>t.Pi.addMatchingKeys(o,g.addedDocuments,p))));let b=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(Gs.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,s)),a=a.insert(p,b),(function(S,j,E){return S.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=RM?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(v,b,g)&&d.push(t.Pi.updateTargetData(o,b))}));let h=go(),f=Sn();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),d.push(MM(o,c,e.documentUpdates).next((g=>{h=g.ks,f=g.qs}))),!s.isEqual(Ht.min())){const g=t.Pi.getLastRemoteSnapshotVersion(o).next((p=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,s)));d.push(g)}return Te.waitFor(d).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,h,f))).next((()=>h))})).then((o=>(t.Ms=a,o)))}function MM(n,e,t){let s=Sn(),a=Sn();return t.forEach((o=>s=s.add(o))),e.getEntries(n,s).next((o=>{let c=go();return t.forEach(((d,h)=>{const f=o.get(d);h.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(Ht.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):tt(Vv,"Ignoring outdated watch update for ",d,". Current version:",f.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function OM(n,e){const t=un(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Xu),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function FM(n,e){const t=un(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.Pi.getTargetData(s,e).next((o=>o?(a=o,Te.resolve(a)):t.Pi.allocateTargetId(s).next((c=>(a=new Kc(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function j2(n,e,t){const s=un(n),a=s.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",o,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!yu(c))throw c;tt(Vv,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function $_(n,e,t){const s=un(n);let a=Ht.min(),o=Sn();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,f,g){const p=un(h),v=p.xs.get(g);return v!==void 0?Te.resolve(p.Ms.get(v)):p.Pi.getTargetData(f,g)})(s,c,qo(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((h=>{o=h}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?a:Ht.min(),t?o:Sn()))).next((d=>(UM(s,_D(e),d),{documents:d,Qs:o})))))}function UM(n,e,t){let s=n.Os.get(e)||Ht.min();t.forEach(((a,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)})),n.Os.set(e,s)}class W_{constructor(){this.activeTargetIds=ID()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dA{constructor(){this.Mo=new W_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new W_,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VM{Oo(e){}shutdown(){}}const K_="ConnectivityMonitor";class Y_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){tt(K_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){tt(K_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let S0=null;function _2(){return S0===null?S0=(function(){return 268435456+Math.round(2147483648*Math.random())})():S0++,"0x"+S0.toString(16)}const h1="RestConnection",zM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Nx?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,t,s,a,o){const c=_2(),d=this.zo(e,t.toUriEncodedString());tt(h1,`Sending RPC '${e}' ${c}:`,d,s);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,o);const{host:f}=new URL(d),g=uc(f);return this.Jo(e,d,h,s,g).then((p=>(tt(h1,`Received RPC '${e}' ${c}: `,p),p)),(p=>{throw oh(h1,`RPC '${e}' ${c} failed with error: `,p,"url: ",d,"request:",s),p}))}Ho(e,t,s,a,o,c){return this.Go(e,t,s,a,o)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+om})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),s&&s.headers.forEach(((a,o)=>e[o]=a))}zo(e,t){const s=zM[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}class qM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xa="WebChannelConnection";class GM extends BM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,o){const c=_2();return new Promise(((d,h)=>{const f=new IS;f.setWithCredentials(!0),f.listenOnce(kS.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case q0.NO_ERROR:const p=f.getResponseJson();tt(Xa,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(p)),d(p);break;case q0.TIMEOUT:tt(Xa,`RPC '${e}' ${c} timed out`),h(new st(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case q0.HTTP_ERROR:const v=f.getStatus();if(tt(Xa,`RPC '${e}' ${c} failed with status:`,v,"response text:",f.getResponseText()),v>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const A=b?.error;if(A&&A.status&&A.message){const S=(function(E){const L=E.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(L)>=0?L:Ve.UNKNOWN})(A.status);h(new st(S,A.message))}else h(new st(Ve.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new st(Ve.UNAVAILABLE,"Connection failed."));break;default:jt(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{tt(Xa,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);tt(Xa,`RPC '${e}' ${c} sending request:`,a),f.send(t,"POST",g,s,15)}))}T_(e,t,s){const a=_2(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=LS(),d=PS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,s),h.encodeInitMessageHeaders=!0;const g=o.join("");tt(Xa,`Creating RPC '${e}' stream ${a}: ${g}`,h);const p=c.createWebChannel(g,h);this.I_(p);let v=!1,b=!1;const A=new qM({Yo:j=>{b?tt(Xa,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(v||(tt(Xa,`Opening RPC '${e}' stream ${a} transport.`),p.open(),v=!0),tt(Xa,`RPC '${e}' stream ${a} sending:`,j),p.send(j))},Zo:()=>p.close()}),S=(j,E,L)=>{j.listen(E,(O=>{try{L(O)}catch(D){setTimeout((()=>{throw D}),0)}}))};return S(p,dg.EventType.OPEN,(()=>{b||(tt(Xa,`RPC '${e}' stream ${a} transport opened.`),A.o_())})),S(p,dg.EventType.CLOSE,(()=>{b||(b=!0,tt(Xa,`RPC '${e}' stream ${a} transport closed`),A.a_(),this.E_(p))})),S(p,dg.EventType.ERROR,(j=>{b||(b=!0,oh(Xa,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),A.a_(new st(Ve.UNAVAILABLE,"The operation could not be completed")))})),S(p,dg.EventType.MESSAGE,(j=>{if(!b){const E=j.data[0];Mt(!!E,16349);const L=E,O=L?.error||L[0]?.error;if(O){tt(Xa,`RPC '${e}' stream ${a} received error:`,O);const D=O.status;let ee=(function(M){const I=zs[M];if(I!==void 0)return RE(I)})(D),te=O.message;ee===void 0&&(ee=Ve.INTERNAL,te="Unknown error status: "+D+" with message "+O.message),b=!0,A.a_(new st(ee,te)),p.close()}else tt(Xa,`RPC '${e}' stream ${a} received:`,E),A.u_(E)}})),S(d,RS.STAT_EVENT,(j=>{j.stat===n2.PROXY?tt(Xa,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===n2.NOPROXY&&tt(Xa,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function HM(){return typeof window<"u"?window:null}function Z0(){return typeof document<"u"?document:null}function by(n){return new $D(n,!0)}class uA{constructor(e,t,s=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&tt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const X_="PersistentStream";class hA{constructor(e,t,s,a,o,c,d,h){this.Mi=e,this.S_=s,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ve.RESOURCE_EXHAUSTED?(yi(t.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new st(Ve.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return tt(X_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(tt(X_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $M extends hA{constructor(e,t,s,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=YD(this.serializer,e),s=(function(o){if(!("targetChange"in o))return Ht.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ht.min():c.readTime?bi(c.readTime):Ht.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=y2(this.serializer),t.addTarget=(function(o,c){let d;const h=c.target;if(d=jx(h)?{documents:VE(o,h)}:{query:zE(o,h).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=DE(o,c.resumeToken);const f=p2(o,c.expectedCount);f!==null&&(d.expectedCount=f)}else if(c.snapshotVersion.compareTo(Ht.min())>0){d.readTime=Jf(o,c.snapshotVersion.toTimestamp());const f=p2(o,c.expectedCount);f!==null&&(d.expectedCount=f)}return d})(this.serializer,e);const s=QD(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=y2(this.serializer),t.removeTarget=e,this.q_(t)}}class WM extends hA{constructor(e,t,s,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=XD(e.writeResults,e.commitTime),s=bi(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=y2(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>Ex(this.serializer,s)))};this.q_(t)}}class KM{}class YM extends KM{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new st(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,x2(t,s),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new st(Ve.UNKNOWN,o.toString())}))}Ho(e,t,s,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,x2(t,s),a,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(Ve.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yi(t),this.aa=!1):tt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fh="RemoteStore";class QM{constructor(e,t,s,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{wh(this)&&(tt(fh,"Restarting streams for network reachability change."),await(async function(h){const f=un(h);f.Ea.add(4),await gp(f),f.Ra.set("Unknown"),f.Ea.delete(4),await vy(f)})(this))}))})),this.Ra=new XM(s,a)}}async function vy(n){if(wh(n))for(const e of n.da)await e(!0)}async function gp(n){for(const e of n.da)await e(!1)}function fA(n,e){const t=un(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Gv(t)?qv(t):dm(t).O_()&&Bv(t,e))}function zv(n,e){const t=un(n),s=dm(t);t.Ia.delete(e),s.O_()&&mA(t,e),t.Ia.size===0&&(s.O_()?s.L_():wh(t)&&t.Ra.set("Unknown"))}function Bv(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ht.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}dm(n).Y_(e)}function mA(n,e){n.Va.Ue(e),dm(n).Z_(e)}function qv(n){n.Va=new BD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),dm(n).start(),n.Ra.ua()}function Gv(n){return wh(n)&&!dm(n).x_()&&n.Ia.size>0}function wh(n){return un(n).Ea.size===0}function gA(n){n.Va=void 0}async function JM(n){n.Ra.set("Online")}async function ZM(n){n.Ia.forEach(((e,t)=>{Bv(n,e)}))}async function eO(n,e){gA(n),Gv(n)?(n.Ra.ha(e),qv(n)):n.Ra.set("Unknown")}async function tO(n,e,t){if(n.Ra.set("Online"),e instanceof LE&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const d of o.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(n,e)}catch(s){tt(fh,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kx(n,s)}else if(e instanceof Q0?n.Va.Ze(e):e instanceof PE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ht.min()))try{const s=await cA(n.localStore);t.compareTo(s)>=0&&await(function(o,c){const d=o.Va.Tt(c);return d.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(h.resumeToken,c))}})),d.targetMismatches.forEach(((h,f)=>{const g=o.Ia.get(h);if(!g)return;o.Ia.set(h,g.withResumeToken(Gs.EMPTY_BYTE_STRING,g.snapshotVersion)),mA(o,h);const p=new Kc(g.target,h,f,g.sequenceNumber);Bv(o,p)})),o.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(s){tt(fh,"Failed to raise snapshot:",s),await kx(n,s)}}async function kx(n,e,t){if(!yu(e))throw e;n.Ea.add(1),await gp(n),n.Ra.set("Offline"),t||(t=()=>cA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{tt(fh,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await vy(n)}))}function pA(n,e){return e().catch((t=>kx(n,t,e)))}async function pp(n){const e=un(n),t=uu(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xu;for(;nO(e);)try{const a=await OM(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,rO(e,a)}catch(a){await kx(e,a)}xA(e)&&yA(e)}function nO(n){return wh(n)&&n.Ta.length<10}function rO(n,e){n.Ta.push(e);const t=uu(n);t.O_()&&t.X_&&t.ea(e.mutations)}function xA(n){return wh(n)&&!uu(n).x_()&&n.Ta.length>0}function yA(n){uu(n).start()}async function sO(n){uu(n).ra()}async function aO(n){const e=uu(n);for(const t of n.Ta)e.ea(t.mutations)}async function iO(n,e,t){const s=n.Ta.shift(),a=Iv.from(s,e,t);await pA(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await pp(n)}async function oO(n,e){e&&uu(n).X_&&await(async function(s,a){if((function(c){return UD(c)&&c!==Ve.ABORTED})(a.code)){const o=s.Ta.shift();uu(s).B_(),await pA(s,(()=>s.remoteSyncer.rejectFailedWrite(o.batchId,a))),await pp(s)}})(n,e),xA(n)&&yA(n)}async function Q_(n,e){const t=un(n);t.asyncQueue.verifyOperationInProgress(),tt(fh,"RemoteStore received new credentials");const s=wh(t);t.Ea.add(3),await gp(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await vy(t)}async function lO(n,e){const t=un(n);e?(t.Ea.delete(2),await vy(t)):e||(t.Ea.add(2),await gp(t),t.Ra.set("Unknown"))}function dm(n){return n.ma||(n.ma=(function(t,s,a){const o=un(t);return o.sa(),new $M(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:JM.bind(null,n),t_:ZM.bind(null,n),r_:eO.bind(null,n),H_:tO.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Gv(n)?qv(n):n.Ra.set("Unknown")):(await n.ma.stop(),gA(n))}))),n.ma}function uu(n){return n.fa||(n.fa=(function(t,s,a){const o=un(t);return o.sa(),new WM(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:sO.bind(null,n),r_:oO.bind(null,n),ta:aO.bind(null,n),na:iO.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await pp(n)):(await n.fa.stop(),n.Ta.length>0&&(tt(fh,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Hv{constructor(e,t,s,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=o,this.deferred=new rc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,o){const c=Date.now()+s,d=new Hv(e,t,c,a,o);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $v(n,e){if(yi("AsyncQueue",`${e}: ${n}`),yu(n))return new st(Ve.UNAVAILABLE,`${e}: ${n}`);throw n}class Rf{static emptySet(e){return new Rf(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||lt.comparator(t.key,s.key):(t,s)=>lt.comparator(t.key,s.key),this.keyedMap=ug(),this.sortedSet=new Yr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Rf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=s.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Rf;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class J_{constructor(){this.ga=new Yr(lt.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):jt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Zf{constructor(e,t,s,a,o,c,d,h,f){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,s,a,o){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Zf(e,t,Rf.emptySet(t),c,s,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class cO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class dO{constructor(){this.queries=Z_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=un(t),o=a.queries;a.queries=Z_(),o.forEach(((c,d)=>{for(const h of d.Sa)h.onError(s)}))})(this,new st(Ve.ABORTED,"Firestore shutting down"))}}function Z_(){return new od((n=>yE(n)),hy)}async function Wv(n,e){const t=un(n);let s=3;const a=e.query;let o=t.queries.get(a);o?!o.ba()&&e.Da()&&(s=2):(o=new cO,s=e.Da()?0:1);try{switch(s){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=$v(c,`Initialization of query '${wf(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Yv(t)}async function Kv(n,e){const t=un(n),s=e.query;let a=3;const o=t.queries.get(s);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function uO(n,e){const t=un(n);let s=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&Yv(t)}function hO(n,e,t){const s=un(n),a=s.queries.get(e);if(a)for(const o of a.Sa)o.onError(t);s.queries.delete(e)}function Yv(n){n.Ca.forEach((e=>{e.next()}))}var S2,e4;(e4=S2||(S2={})).Ma="default",e4.Cache="cache";class Xv{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Zf(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Zf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==S2.Cache}}class bA{constructor(e){this.key=e}}class vA{constructor(e){this.key=e}}class fO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Sn(),this.mutatedKeys=Sn(),this.eu=bE(e),this.tu=new Rf(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new J_,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,p)=>{const v=a.get(g),b=hp(this.query,p)?p:null,A=!!v&&this.mutatedKeys.has(v.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let j=!1;v&&b?v.data.isEqual(b.data)?A!==S&&(s.track({type:3,doc:b}),j=!0):this.su(v,b)||(s.track({type:2,doc:b}),j=!0,(h&&this.eu(b,h)>0||f&&this.eu(b,f)<0)&&(d=!0)):!v&&b?(s.track({type:0,doc:b}),j=!0):v&&!b&&(s.track({type:1,doc:v}),j=!0,(h||f)&&(d=!0)),j&&(b?(c=c.add(b),o=S?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),s.track({type:1,doc:g})}return{tu:c,iu:s,Cs:d,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,p)=>(function(b,A){const S=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt(20277,{Rt:j})}};return S(b)-S(A)})(g.type,p.type)||this.eu(g.doc,p.doc))),this.ou(s),a=a??!1;const d=t&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,f=h!==this.Za;return this.Za=h,c.length!==0||f?{snapshot:new Zf(this.query,e.tu,o,c,e.mutatedKeys,h===0,f,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new J_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Sn(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new vA(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new bA(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Sn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Zf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qv="SyncEngine";class mO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class gO{constructor(e){this.key=e,this.hu=!1}}class pO{constructor(e,t,s,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new od((d=>yE(d)),hy),this.Iu=new Map,this.Eu=new Set,this.du=new Yr(lt.comparator),this.Au=new Map,this.Ru=new Mv,this.Vu={},this.mu=new Map,this.fu=hh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xO(n,e,t=!0){const s=EA(n);let a;const o=s.Tu.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await wA(s,e,t,!0),a}async function yO(n,e){const t=EA(n);await wA(t,e,!0,!1)}async function wA(n,e,t,s){const a=await FM(n.localStore,qo(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let d;return s&&(d=await bO(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&fA(n.remoteStore,a),d}async function bO(n,e,t,s,a){n.pu=(p,v,b)=>(async function(S,j,E,L){let O=j.view.ru(E);O.Cs&&(O=await $_(S.localStore,j.query,!1).then((({documents:H})=>j.view.ru(H,O))));const D=L&&L.targetChanges.get(j.targetId),ee=L&&L.targetMismatches.get(j.targetId)!=null,te=j.view.applyChanges(O,S.isPrimaryClient,D,ee);return n4(S,j.targetId,te.au),te.snapshot})(n,p,v,b);const o=await $_(n.localStore,e,!0),c=new fO(e,o.Qs),d=c.ru(o.documents),h=mp.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),f=c.applyChanges(d,n.isPrimaryClient,h);n4(n,t,f.au);const g=new mO(e,t,c);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function vO(n,e,t){const s=un(n),a=s.Tu.get(e),o=s.Iu.get(a.targetId);if(o.length>1)return s.Iu.set(a.targetId,o.filter((c=>!hy(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await j2(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&zv(s.remoteStore,a.targetId),E2(s,a.targetId)})).catch(vh)):(E2(s,a.targetId),await j2(s.localStore,a.targetId,!0))}async function wO(n,e){const t=un(n),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),zv(t.remoteStore,s.targetId))}async function NO(n,e,t){const s=AA(n);try{const a=await(function(c,d){const h=un(c),f=xt.now(),g=d.reduce(((b,A)=>b.add(A.key)),Sn());let p,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let A=go(),S=Sn();return h.Ns.getEntries(b,g).next((j=>{A=j,A.forEach(((E,L)=>{L.isValidDocument()||(S=S.add(E))}))})).next((()=>h.localDocuments.getOverlayedDocuments(b,A))).next((j=>{p=j;const E=[];for(const L of d){const O=OD(L,p.get(L.key).overlayedDocument);O!=null&&E.push(new ld(L.key,O,cE(O.value.mapValue),sa.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,E,d)})).next((j=>{v=j;const E=j.applyToLocalDocumentSet(p,S);return h.documentOverlayCache.saveOverlays(b,j.batchId,E)}))})).then((()=>({batchId:v.batchId,changes:wE(p)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,h){let f=c.Vu[c.currentUser.toKey()];f||(f=new Yr(dn)),f=f.insert(d,h),c.Vu[c.currentUser.toKey()]=f})(s,a.batchId,t),await xp(s,a.changes),await pp(s.remoteStore)}catch(a){const o=$v(a,"Failed to persist write");t.reject(o)}}async function NA(n,e){const t=un(n);try{const s=await DM(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=t.Au.get(o);c&&(Mt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Mt(c.hu,14607):a.removedDocuments.size>0&&(Mt(c.hu,42227),c.hu=!1))})),await xp(t,s,e)}catch(s){await vh(s)}}function t4(n,e,t){const s=un(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const h=un(c);h.onlineState=d;let f=!1;h.queries.forEach(((g,p)=>{for(const v of p.Sa)v.va(d)&&(f=!0)})),f&&Yv(h)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function jO(n,e,t){const s=un(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),o=a&&a.key;if(o){let c=new Yr(lt.comparator);c=c.insert(o,ys.newNoDocument(o,Ht.min()));const d=Sn().add(o),h=new gy(Ht.min(),new Map,new Yr(dn),c,d);await NA(s,h),s.du=s.du.remove(o),s.Au.delete(e),Jv(s)}else await j2(s.localStore,e,!1).then((()=>E2(s,e,t))).catch(vh)}async function _O(n,e){const t=un(n),s=e.batch.batchId;try{const a=await LM(t.localStore,e);_A(t,s,null),jA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await xp(t,a)}catch(a){await vh(a)}}async function SO(n,e,t){const s=un(n);try{const a=await(function(c,d){const h=un(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return h.mutationQueue.lookupMutationBatch(f,d).next((p=>(Mt(p!==null,37113),g=p.keys(),h.mutationQueue.removeMutationBatch(f,p)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>h.localDocuments.getDocuments(f,g)))}))})(s.localStore,e);_A(s,e,t),jA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await xp(s,a)}catch(a){await vh(a)}}function jA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function _A(n,e,t){const s=un(n);let a=s.Vu[s.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function E2(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||SA(n,s)}))}function SA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(zv(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Jv(n))}function n4(n,e,t){for(const s of t)s instanceof bA?(n.Ru.addReference(s.key,e),EO(n,s)):s instanceof vA?(tt(Qv,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||SA(n,s.key)):jt(19791,{wu:s})}function EO(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(tt(Qv,"New document in limbo: "+t),n.Eu.add(s),Jv(n))}function Jv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new lt(tr.fromString(e)),s=n.fu.next();n.Au.set(s,new gO(t)),n.du=n.du.insert(t,s),fA(n.remoteStore,new Kc(qo(up(t.path)),s,"TargetPurposeLimboResolution",zo.ce))}}async function xp(n,e,t){const s=un(n),a=[],o=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,h)=>{c.push(s.pu(h,e,t).then((f=>{if((f||t)&&s.isPrimaryClient){const g=f?!f.fromCache:t?.targetChanges.get(h.targetId)?.current;s.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){a.push(f);const g=Uv.As(h.targetId,f);o.push(g)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(h,f){const g=un(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Te.forEach(f,(v=>Te.forEach(v.Es,(b=>g.persistence.referenceDelegate.addReference(p,v.targetId,b))).next((()=>Te.forEach(v.ds,(b=>g.persistence.referenceDelegate.removeReference(p,v.targetId,b)))))))))}catch(p){if(!yu(p))throw p;tt(Vv,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const b=g.Ms.get(v),A=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(A);g.Ms=g.Ms.insert(v,S)}}})(s.localStore,o))}async function AO(n,e){const t=un(n);if(!t.currentUser.isEqual(e)){tt(Qv,"User change. New user:",e.toKey());const s=await lA(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((h=>{h.reject(new st(Ve.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xp(t,s.Ls)}}function TO(n,e){const t=un(n),s=t.Au.get(e);if(s&&s.hu)return Sn().add(s.key);{let a=Sn();const o=t.Iu.get(e);if(!o)return a;for(const c of o){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function EA(n){const e=un(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jO.bind(null,e),e.Pu.H_=uO.bind(null,e.eventManager),e.Pu.yu=hO.bind(null,e.eventManager),e}function AA(n){const e=un(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_O.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SO.bind(null,e),e}class Yg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=by(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return oA(this.persistence,new iA,e.initialUser,this.serializer)}Cu(e){return new Ov(yy.mi,this.serializer)}Du(e){return new dA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yg.provider={build:()=>new Yg};class CO extends Yg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Mt(this.persistence.referenceDelegate instanceof Ix,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tA(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ti.withCacheSize(this.cacheSizeBytes):ti.DEFAULT;return new Ov((s=>Ix.mi(s,t)),this.serializer)}}class IO extends Yg{constructor(e,t,s){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await AA(this.xu.syncEngine),await pp(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return oA(this.persistence,new iA,e.initialUser,this.serializer)}Fu(e,t){const s=this.persistence.referenceDelegate.garbageCollector;return new tA(s,e.asyncQueue,t)}Mu(e,t){const s=new M7(t,this.persistence);return new D7(e.asyncQueue,s)}Cu(e){const t=IM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=this.cacheSizeBytes!==void 0?ti.withCacheSize(this.cacheSizeBytes):ti.DEFAULT;return new Fv(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,HM(),Z0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new dA}}class Rx{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>t4(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AO.bind(null,this.syncEngine),await lO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dO})()}createDatastore(e){const t=by(e.databaseInfo.databaseId),s=(function(o){return new GM(o)})(e.databaseInfo);return(function(o,c,d,h){return new YM(o,c,d,h)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,o,c,d){return new QM(s,a,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>t4(this.syncEngine,t,0)),(function(){return Y_.v()?new Y_:new VM})())}createSyncEngine(e,t){return(function(a,o,c,d,h,f,g){const p=new pO(a,o,c,d,h,f);return g&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=un(t);tt(fh,"RemoteStore shutting down."),s.Ea.add(5),await gp(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rx.provider={build:()=>new Rx};class Zv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const hu="FirestoreClient";class kO{constructor(e,t,s,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Ua.UNAUTHENTICATED,this.clientId=xv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,(async c=>{tt(hu,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(tt(hu,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=$v(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function f1(n,e){n.asyncQueue.verifyOperationInProgress(),tt(hu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await lA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function r4(n,e){n.asyncQueue.verifyOperationInProgress();const t=await RO(n);tt(hu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>Q_(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>Q_(e.remoteStore,a))),n._onlineComponents=e}async function RO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){tt(hu,"Using user provided OfflineComponentProvider");try{await f1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Ve.FAILED_PRECONDITION||a.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;oh("Error using user provided cache. Falling back to memory cache: "+t),await f1(n,new Yg)}}else tt(hu,"Using default OfflineComponentProvider"),await f1(n,new CO(void 0));return n._offlineComponents}async function TA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(tt(hu,"Using user provided OnlineComponentProvider"),await r4(n,n._uninitializedComponentsProvider._online)):(tt(hu,"Using default OnlineComponentProvider"),await r4(n,new Rx))),n._onlineComponents}function PO(n){return TA(n).then((e=>e.syncEngine))}async function Px(n){const e=await TA(n),t=e.eventManager;return t.onListen=xO.bind(null,e.syncEngine),t.onUnlisten=vO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=wO.bind(null,e.syncEngine),t}function LO(n,e,t={}){const s=new rc;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,h,f){const g=new Zv({next:v=>{g.Nu(),c.enqueueAndForget((()=>Kv(o,p)));const b=v.docs.has(d);!b&&v.fromCache?f.reject(new st(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&h&&h.source==="server"?f.reject(new st(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new Xv(up(d.path),g,{includeMetadataChanges:!0,qa:!0});return Wv(o,p)})(await Px(n),n.asyncQueue,e,t,s))),s.promise}function CA(n,e,t={}){const s=new rc;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,h,f){const g=new Zv({next:v=>{g.Nu(),c.enqueueAndForget((()=>Kv(o,p))),v.fromCache&&h.source==="server"?f.reject(new st(Ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new Xv(d,g,{includeMetadataChanges:!0,qa:!0});return Wv(o,p)})(await Px(n),n.asyncQueue,e,t,s))),s.promise}function IA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const s4=new Map;const kA="firestore.googleapis.com",a4=!0;class i4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kA,this.ssl=a4}else this.host=e.host,this.ssl=e.ssl??a4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fM)throw new st(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new st(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new st(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new st(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wy{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new w7;switch(s.type){case"firstParty":return new S7(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=s4.get(t);s&&(tt("ComponentProvider","Removing Datastore"),s4.delete(t),s.terminate())})(this),Promise.resolve()}}function DO(n,e,t,s={}){n=ja(n,wy);const a=uc(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;a&&(Jx(`https://${d}`),Zx("Firestore",!0)),o.host!==kA&&o.host!==d&&oh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:d,ssl:a,emulatorOptions:s};if(!rh(h,c)&&(n._setSettings(h),s.mockUserToken)){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=Ua.MOCK_USER;else{f=M3(s.mockUserToken,n._app?.options.projectId);const p=s.mockUserToken.sub||s.mockUserToken.user_id;if(!p)throw new st(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ua(p)}n._authCredentials=new N7(new MS(f,g))}}class cd{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new cd(this.firestore,e,this._query)}}class bs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new au(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bs(this.firestore,e,this._key)}toJSON(){return{type:bs._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(lp(t,bs._jsonSchema))return new bs(e,s||null,new lt(tr.fromString(t.referencePath)))}}bs._jsonSchemaVersion="firestore/documentReference/1.0",bs._jsonSchema={type:qs("string",bs._jsonSchemaVersion),referencePath:qs("string")};class au extends cd{constructor(e,t,s){super(e,t,up(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bs(this.firestore,null,new lt(e))}withConverter(e){return new au(this.firestore,e,this._path)}}function Et(n,e,...t){if(n=ar(n),FS("collection","path",e),n instanceof wy){const s=tr.fromString(e,...t);return Xj(s),new au(n,null,s)}{if(!(n instanceof bs||n instanceof au))throw new st(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(tr.fromString(e,...t));return Xj(s),new au(n.firestore,null,s)}}function ut(n,e,...t){if(n=ar(n),arguments.length===1&&(e=xv.newId()),FS("doc","path",e),n instanceof wy){const s=tr.fromString(e,...t);return Yj(s),new bs(n,null,new lt(s))}{if(!(n instanceof bs||n instanceof au))throw new st(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(tr.fromString(e,...t));return Yj(s),new bs(n.firestore,n instanceof au?n.converter:null,new lt(s))}}const o4="AsyncQueue";class l4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uA(this,"async_queue_retry"),this._c=()=>{const s=Z0();s&&tt(o4,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Z0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Z0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new rc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yu(e))throw e;tt(o4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,yi("INTERNAL UNHANDLED ERROR: ",c4(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Hv.createAndSchedule(this,e,t,s,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&jt(47125,{Pc:c4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function c4(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function d4(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of s)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Ho extends wy{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new l4,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l4(e),this._firestoreClient=void 0,await e}}}function MO(n,e){const t=typeof n=="object"?n:ey(),s=typeof n=="string"?n:Nx,a=rp(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const o=av("firestore");o&&DO(a,...o)}return a}function um(n){if(n._terminated)throw new st(Ve.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||RA(n),n._firestoreClient}function RA(n){const e=n._freezeSettings(),t=(function(a,o,c,d){return new uD(a,o,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,IA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new kO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}function OO(n,e){oh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return FO(n,Rx.provider,{build:s=>new IO(s,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function FO(n,e,t){if((n=ja(n,Ho))._firestoreClient||n._terminated)throw new st(Ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new st(Ve.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},RA(n)}class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(Gs.fromBase64String(e))}catch(t){throw new st(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Uo(Gs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Uo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lp(e,Uo._jsonSchema))return Uo.fromBase64String(e.bytes)}}Uo._jsonSchemaVersion="firestore/bytes/1.0",Uo._jsonSchema={type:qs("string",Uo._jsonSchemaVersion),bytes:qs("string")};class yp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new st(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ny{constructor(e){this._methodName=e}}class sc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new st(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new st(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return dn(this._lat,e._lat)||dn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:sc._jsonSchemaVersion}}static fromJSON(e){if(lp(e,sc._jsonSchema))return new sc(e.latitude,e.longitude)}}sc._jsonSchemaVersion="firestore/geoPoint/1.0",sc._jsonSchema={type:qs("string",sc._jsonSchemaVersion),latitude:qs("number"),longitude:qs("number")};class ac{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ac._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lp(e,ac._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ac(e.vectorValues);throw new st(Ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ac._jsonSchemaVersion="firestore/vectorValue/1.0",ac._jsonSchema={type:qs("string",ac._jsonSchemaVersion),vectorValues:qs("object")};const UO=/^__.*__$/;class VO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ld(e,this.data,this.fieldMask,t,this.fieldTransforms):new cm(e,this.data,t,this.fieldTransforms)}}class PA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ld(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt(40011,{Ac:n})}}class ew{constructor(e,t,s,a,o,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ew({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lx(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LA(this.Ac)&&UO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||by(e)}Cc(e,t,s,a=!1){return new ew({Ac:e,methodName:t,Dc:s,path:rs.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bp(n){const e=n._freezeSettings(),t=by(n._databaseId);return new zO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function tw(n,e,t,s,a,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,e,t,a);rw("Data must be an object, but it was:",c,s);const d=OA(s,c);let h,f;if(o.merge)h=new Gi(c.fieldMask),f=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const p of o.mergeFields){const v=A2(e,p,t);if(!c.contains(v))throw new st(Ve.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);UA(g,v)||g.push(v)}h=new Gi(g),f=c.fieldTransforms.filter((p=>h.covers(p.field)))}else h=null,f=c.fieldTransforms;return new VO(new ni(d),h,f)}class jy extends Ny{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jy}}class nw extends Ny{_toFieldTransform(e){return new TE(e.path,new Yf)}isEqual(e){return e instanceof nw}}function DA(n,e,t,s){const a=n.Cc(1,e,t);rw("Data must be an object, but it was:",a,s);const o=[],c=ni.empty();bu(s,((h,f)=>{const g=sw(e,h,t);f=ar(f);const p=a.yc(g);if(f instanceof jy)o.push(g);else{const v=vp(f,p);v!=null&&(o.push(g),c.set(g,v))}}));const d=new Gi(o);return new PA(c,d,a.fieldTransforms)}function MA(n,e,t,s,a,o){const c=n.Cc(1,e,t),d=[A2(e,s,t)],h=[a];if(o.length%2!=0)throw new st(Ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)d.push(A2(e,o[v])),h.push(o[v+1]);const f=[],g=ni.empty();for(let v=d.length-1;v>=0;--v)if(!UA(f,d[v])){const b=d[v];let A=h[v];A=ar(A);const S=c.yc(b);if(A instanceof jy)f.push(b);else{const j=vp(A,S);j!=null&&(f.push(b),g.set(b,j))}}const p=new Gi(f);return new PA(g,p,c.fieldTransforms)}function BO(n,e,t,s=!1){return vp(t,n.Cc(s?4:3,e))}function vp(n,e){if(FA(n=ar(n)))return rw("Unsupported field value:",e,n),OA(n,e);if(n instanceof Ny)return(function(s,a){if(!LA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const o=[];let c=0;for(const d of s){let h=vp(d,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}})(n,e)}return(function(s,a){if((s=ar(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kD(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=xt.fromDate(s);return{timestampValue:Jf(a.serializer,o)}}if(s instanceof xt){const o=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jf(a.serializer,o)}}if(s instanceof sc)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Uo)return{bytesValue:DE(a.serializer,s._byteString)};if(s instanceof bs){const o=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Pv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ac)return(function(c,d){return{mapValue:{fields:{[Sv]:{stringValue:Ev},[Hf]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw d.Sc("VectorValues must only contain numeric values.");return Tv(d.serializer,f)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${sy(s)}`)})(n,e)}function OA(n,e){const t={};return eE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bu(n,((s,a)=>{const o=vp(a,e.mc(s));o!=null&&(t[s]=o)})),{mapValue:{fields:t}}}function FA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof sc||n instanceof Uo||n instanceof bs||n instanceof Ny||n instanceof ac)}function rw(n,e,t){if(!FA(t)||!US(t)){const s=sy(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function A2(n,e,t){if((e=ar(e))instanceof yp)return e._internalPath;if(typeof e=="string")return sw(n,e);throw Lx("Field path arguments must be of type string or ",n,!1,void 0,t)}const qO=new RegExp("[~\\*/\\[\\]]");function sw(n,e,t){if(e.search(qO)>=0)throw Lx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yp(...e.split("."))._internalPath}catch{throw Lx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lx(n,e,t,s,a){const o=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${s}`),c&&(h+=` in document ${a}`),h+=")"),new st(Ve.INVALID_ARGUMENT,d+n+h)}function UA(n,e){return n.some((t=>t.isEqual(e)))}class VA{constructor(e,t,s,a,o){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_y("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GO extends VA{data(){return super.data()}}function _y(n,e){return typeof e=="string"?sw(n,e):e instanceof yp?e._internalPath:e._delegate._internalPath}function zA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new st(Ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aw{}class BA extends aw{}function Ir(n,e,...t){let s=[];e instanceof aw&&s.push(e),s=s.concat(t),(function(o){const c=o.filter((h=>h instanceof iw)).length,d=o.filter((h=>h instanceof Sy)).length;if(c>1||c>0&&d>0)throw new st(Ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)n=a._apply(n);return n}class Sy extends BA{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Sy(e,t,s)}_apply(e){const t=this._parse(e);return qA(e._query,t),new cd(e.firestore,e.converter,m2(e._query,t))}_parse(e){const t=bp(e.firestore);return(function(o,c,d,h,f,g,p){let v;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new st(Ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){h4(p,g);const A=[];for(const S of p)A.push(u4(h,o,S));v={arrayValue:{values:A}}}else v=u4(h,o,p)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||h4(p,g),v=BO(d,c,p,g==="in"||g==="not-in");return Dn.create(f,g,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function si(n,e,t){const s=e,a=_y("where",n);return Sy._create(a,s,t)}class iw extends aw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new iw(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:hr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let c=a;const d=o.getFlattenedFilters();for(const h of d)qA(c,h),c=m2(c,h)})(e._query,t),new cd(e.firestore,e.converter,m2(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ow extends BA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ow(e,t)}_apply(e){const t=(function(a,o,c){if(a.startAt!==null)throw new st(Ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new st(Ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wg(o,c)})(e._query,this._field,this._direction);return new cd(e.firestore,e.converter,(function(a,o){const c=a.explicitOrderBy.concat([o]);return new lm(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function Ki(n,e="asc"){const t=e,s=_y("orderBy",n);return ow._create(s,t)}function u4(n,e,t){if(typeof(t=ar(t))=="string"){if(t==="")throw new st(Ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xE(e)&&t.indexOf("/")!==-1)throw new st(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tr.fromString(t));if(!lt.isDocumentKey(s))throw new st(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Hg(n,new lt(s))}if(t instanceof bs)return Hg(n,t._key);throw new st(Ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sy(t)}.`)}function h4(n,e){if(!Array.isArray(n)||n.length===0)throw new st(Ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qA(n,e){const t=(function(a,o){for(const c of a)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new st(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class HO{convertValue(e,t="none"){switch(cu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw jt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return bu(e,((a,o)=>{s[a]=this.convertValue(o,t)})),s}convertVectorValue(e){const t=e.fields?.[Hf].arrayValue?.values?.map((s=>Kr(s.doubleValue)));return new ac(t)}convertGeoPoint(e){return new sc(Kr(e.latitude),Kr(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=dy(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(qg(e));default:return null}}convertTimestamp(e){const t=td(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tr.fromString(e);Mt(HE(s),9688,{name:e});const a=new lh(s.get(1),s.get(3)),o=new lt(s.popFirst(5));return a.isEqual(t)||yi(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function lw(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class mg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zu extends VA{constructor(e,t,s,a,o,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ex(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(_y("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Zu._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Zu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zu._jsonSchema={type:qs("string",Zu._jsonSchemaVersion),bundleSource:qs("string","DocumentSnapshot"),bundleName:qs("string"),bundle:qs("string")};class ex extends Zu{data(e={}){return super.data(e)}}class iu{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new mg(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new ex(this._firestore,this._userDataWriter,s.key,s,new mg(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new st(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const h=new ex(a._firestore,a._userDataWriter,d.doc.key,d.doc,new mg(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const h=new ex(a._firestore,a._userDataWriter,d.doc.key,d.doc,new mg(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,g=-1;return d.type!==0&&(f=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:$O(d.type),doc:h,oldIndex:f,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=iu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),s.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $O(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt(61501,{type:n})}}function is(n){n=ja(n,bs);const e=ja(n.firestore,Ho);return LO(um(e),n._key).then((t=>GA(e,n,t)))}iu._jsonSchemaVersion="firestore/querySnapshot/1.0",iu._jsonSchema={type:qs("string",iu._jsonSchemaVersion),bundleSource:qs("string","QuerySnapshot"),bundleName:qs("string"),bundle:qs("string")};class Ey extends HO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bs(this.firestore,null,t)}}function sr(n){n=ja(n,cd);const e=ja(n.firestore,Ho),t=um(e),s=new Ey(e);return zA(n._query),CA(t,n._query).then((a=>new iu(e,s,n,a)))}function WO(n){n=ja(n,cd);const e=ja(n.firestore,Ho),t=um(e),s=new Ey(e);return CA(t,n._query,{source:"server"}).then((a=>new iu(e,s,n,a)))}function fu(n,e,t){n=ja(n,bs);const s=ja(n.firestore,Ho),a=lw(n.converter,e,t);return wp(s,[tw(bp(s),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,sa.none())])}function ia(n,e,t,...s){n=ja(n,bs);const a=ja(n.firestore,Ho),o=bp(a);let c;return c=typeof(e=ar(e))=="string"||e instanceof yp?MA(o,"updateDoc",n._key,e,t,s):DA(o,"updateDoc",n._key,e),wp(a,[c.toMutation(n._key,sa.exists(!0))])}function $i(n){return wp(ja(n.firestore,Ho),[new fp(n._key,sa.none())])}function ns(n,e){const t=ja(n.firestore,Ho),s=ut(n),a=lw(n.converter,e);return wp(t,[tw(bp(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,sa.exists(!1))]).then((()=>s))}function em(n,...e){n=ar(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||d4(e[s])||(t=e[s++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(d4(e[s])){const h=e[s];e[s]=h.next?.bind(h),e[s+1]=h.error?.bind(h),e[s+2]=h.complete?.bind(h)}let o,c,d;if(n instanceof bs)c=ja(n.firestore,Ho),d=up(n._key.path),o={next:h=>{e[s]&&e[s](GA(c,n,h))},error:e[s+1],complete:e[s+2]};else{const h=ja(n,cd);c=ja(h.firestore,Ho),d=h._query;const f=new Ey(c);o={next:g=>{e[s]&&e[s](new iu(c,f,h,g))},error:e[s+1],complete:e[s+2]},zA(n._query)}return(function(f,g,p,v){const b=new Zv(v),A=new Xv(g,b,p);return f.asyncQueue.enqueueAndForget((async()=>Wv(await Px(f),A))),()=>{b.Nu(),f.asyncQueue.enqueueAndForget((async()=>Kv(await Px(f),A)))}})(um(c),d,a,o)}function wp(n,e){return(function(s,a){const o=new rc;return s.asyncQueue.enqueueAndForget((async()=>NO(await PO(s),a,o))),o.promise})(um(n),e)}function GA(n,e,t){const s=t.docs.get(e._key),a=new Ey(n);return new Zu(n,a,e._key,s,new mg(t.hasPendingWrites,t.fromCache),e.converter)}class KO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bp(e)}set(e,t,s){this._verifyNotCommitted();const a=m1(e,this._firestore),o=lw(a.converter,t,s),c=tw(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,sa.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const o=m1(e,this._firestore);let c;return c=typeof(t=ar(t))=="string"||t instanceof yp?MA(this._dataReader,"WriteBatch.update",o._key,t,s,a):DA(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,sa.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=m1(e,this._firestore);return this._mutations=this._mutations.concat(new fp(t._key,sa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(Ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function m1(n,e){if((n=ar(n)).firestore!==e)throw new st(Ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Qt(){return new nw("serverTimestamp")}function Ay(n){return um(n=ja(n,Ho)),new KO(n,(e=>wp(n,e)))}(function(e,t=!0){(function(a){om=a})(bh),lu(new Jc("firestore",((s,{instanceIdentifier:a,options:o})=>{const c=s.getProvider("app").getImmediate(),d=new Ho(new j7(s.getProvider("auth-internal")),new E7(c,s.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new st(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lh(f.options.projectId,g)})(c,a),c);return o={useFetchStreams:t,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Bo(Hj,$j,e),Bo(Hj,$j,"esm2020")})();var YO="firebase",XO="12.6.0";Bo(YO,XO,"app");const HA="firebasestorage.googleapis.com",$A="storageBucket",QO=120*1e3,JO=600*1e3,ZO=1e3;class os extends Nl{constructor(e,t,s=0){super(g1(e),`Firebase Storage: ${t} (${g1(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,os.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return g1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ur;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ur||(Ur={}));function g1(n){return"storage/"+n}function cw(){const n="An unknown error occurred, please check the error payload for server response.";return new os(Ur.UNKNOWN,n)}function e9(n){return new os(Ur.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function t9(n){return new os(Ur.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function n9(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new os(Ur.UNAUTHENTICATED,n)}function r9(){return new os(Ur.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function s9(n){return new os(Ur.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function WA(){return new os(Ur.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KA(){return new os(Ur.CANCELED,"User canceled the upload/download.")}function a9(n){return new os(Ur.INVALID_URL,"Invalid URL '"+n+"'.")}function i9(n){return new os(Ur.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function o9(){return new os(Ur.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$A+"' property when initializing the app?")}function YA(){return new os(Ur.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function l9(){return new os(Ur.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function c9(){return new os(Ur.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function d9(n){return new os(Ur.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function T2(n){return new os(Ur.INVALID_ARGUMENT,n)}function XA(){return new os(Ur.APP_DELETED,"The Firebase app was deleted.")}function u9(n){return new os(Ur.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sg(n,e){return new os(Ur.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ag(n){throw new os(Ur.INTERNAL_ERROR,"Internal error: "+n)}class po{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=po.makeFromUrl(e,t)}catch{return new po(e,"")}if(s.path==="")return s;throw i9(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function o(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),h={bucket:1,path:3};function f(D){D.path_=decodeURIComponent(D.path)}const g="v[A-Za-z0-9_]+",p=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp(`^https?://${p}/${g}/b/${a}/o${v}`,"i"),A={bucket:1,path:3},S=t===HA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",E=new RegExp(`^https?://${S}/${a}/${j}`,"i"),O=[{regex:d,indices:h,postModify:o},{regex:b,indices:A,postModify:f},{regex:E,indices:{bucket:1,path:2},postModify:f}];for(let D=0;D<O.length;D++){const ee=O[D],te=ee.regex.exec(e);if(te){const H=te[ee.indices.bucket];let M=te[ee.indices.path];M||(M=""),s=new po(H,M),ee.postModify(s);break}}if(s==null)throw a9(e);return s}}class h9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function f9(n,e,t){let s=1,a=null,o=null,c=!1,d=0;function h(){return d===2}let f=!1;function g(...j){f||(f=!0,e.apply(null,j))}function p(j){a=setTimeout(()=>{a=null,n(b,h())},j)}function v(){o&&clearTimeout(o)}function b(j,...E){if(f){v();return}if(j){v(),g.call(null,j,...E);return}if(h()||c){v(),g.call(null,j,...E);return}s<64&&(s*=2);let O;d===1?(d=2,O=0):O=(s+Math.random())*1e3,p(O)}let A=!1;function S(j){A||(A=!0,v(),!f&&(a!==null?(j||(d=2),clearTimeout(a),p(0)):j||(d=1)))}return p(0),o=setTimeout(()=>{c=!0,S(!0)},t),S}function m9(n){n(!1)}function g9(n){return n!==void 0}function p9(n){return typeof n=="function"}function x9(n){return typeof n=="object"&&!Array.isArray(n)}function Ty(n){return typeof n=="string"||n instanceof String}function f4(n){return dw()&&n instanceof Blob}function dw(){return typeof Blob<"u"}function m4(n,e,t,s){if(s<e)throw T2(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw T2(`Invalid value for '${n}'. Expected ${t} or less.`)}function hm(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function QA(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const a=e(s)+"="+e(n[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var eh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(eh||(eh={}));function JA(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||a||o}class y9{constructor(e,t,s,a,o,c,d,h,f,g,p,v=!0,b=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=p,this.retry=v,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,S)=>{this.resolve_=A,this.reject_=S,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new E0(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{const h=d.loaded,f=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===eh.NO_ERROR,h=o.getStatus();if(!d||JA(h,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===eh.ABORT;s(!1,new E0(!1,null,g));return}const f=this.successCodes_.indexOf(h)!==-1;s(!0,new E0(f,o))})},t=(s,a)=>{const o=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());g9(h)?o(h):o()}catch(h){c(h)}else if(d!==null){const h=cw();h.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,h)):c(h)}else if(a.canceled){const h=this.appDelete_?XA():KA();c(h)}else{const h=WA();c(h)}};this.canceled_?t(!1,new E0(!1,null,!0)):this.backoffId_=f9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&m9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class E0{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function b9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function v9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function w9(n,e){e&&(n["X-Firebase-GMPID"]=e)}function N9(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function j9(n,e,t,s,a,o,c=!0,d=!1){const h=QA(n.urlParams),f=n.url+h,g=Object.assign({},n.headers);return w9(g,e),b9(g,t),v9(g,o),N9(g,s),new y9(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,d)}function _9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function S9(...n){const e=_9();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(dw())return new Blob(n);throw new os(Ur.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function E9(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function A9(n){if(typeof atob>"u")throw d9("base-64");return atob(n)}const Jl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class p1{constructor(e,t){this.data=e,this.contentType=t||null}}function T9(n,e){switch(n){case Jl.RAW:return new p1(ZA(e));case Jl.BASE64:case Jl.BASE64URL:return new p1(eT(n,e));case Jl.DATA_URL:return new p1(I9(e),k9(e))}throw cw()}function ZA(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=s,c=n.charCodeAt(++t);s=65536|(o&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function C9(n){let e;try{e=decodeURIComponent(n)}catch{throw Sg(Jl.DATA_URL,"Malformed data URL.")}return ZA(e)}function eT(n,e){switch(n){case Jl.BASE64:{const a=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(a||o)throw Sg(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Jl.BASE64URL:{const a=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(a||o)throw Sg(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=A9(e)}catch(a){throw a.message.includes("polyfill")?a:Sg(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}class tT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Sg(Jl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=R9(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function I9(n){const e=new tT(n);return e.base64?eT(Jl.BASE64,e.rest):C9(e.rest)}function k9(n){return new tT(n).contentType}function R9(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Hc{constructor(e,t){let s=0,a="";f4(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(f4(this.data_)){const s=this.data_,a=E9(s,e,t);return a===null?null:new Hc(a)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Hc(s,!0)}}static getBlob(...e){if(dw()){const t=e.map(s=>s instanceof Hc?s.data_:s);return new Hc(S9.apply(null,t))}else{const t=e.map(c=>Ty(c)?T9(Jl.RAW,c).data:c.data_);let s=0;t.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let o=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)a[o++]=c[d]}),new Hc(a,!0)}}uploadData(){return this.data_}}function nT(n){let e;try{e=JSON.parse(n)}catch{return null}return x9(e)?e:null}function P9(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function L9(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function rT(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function D9(n,e){return e}class pi{constructor(e,t,s,a){this.server=e,this.local=t||e,this.writable=!!s,this.xform=a||D9}}let A0=null;function M9(n){return!Ty(n)||n.length<2?n:rT(n)}function uw(){if(A0)return A0;const n=[];n.push(new pi("bucket")),n.push(new pi("generation")),n.push(new pi("metageneration")),n.push(new pi("name","fullPath",!0));function e(o,c){return M9(c)}const t=new pi("name");t.xform=e,n.push(t);function s(o,c){return c!==void 0?Number(c):c}const a=new pi("size");return a.xform=s,n.push(a),n.push(new pi("timeCreated")),n.push(new pi("updated")),n.push(new pi("md5Hash",null,!0)),n.push(new pi("cacheControl",null,!0)),n.push(new pi("contentDisposition",null,!0)),n.push(new pi("contentEncoding",null,!0)),n.push(new pi("contentLanguage",null,!0)),n.push(new pi("contentType",null,!0)),n.push(new pi("metadata","customMetadata",!0)),A0=n,A0}function O9(n,e){function t(){const s=n.bucket,a=n.fullPath,o=new po(s,a);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function F9(n,e,t){const s={};s.type="file";const a=t.length;for(let o=0;o<a;o++){const c=t[o];s[c.local]=c.xform(s,e[c.server])}return O9(s,n),s}function sT(n,e,t){const s=nT(e);return s===null?null:F9(n,s,t)}function U9(n,e,t,s){const a=nT(e);if(a===null||!Ty(a.downloadTokens))return null;const o=a.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(f=>{const g=n.bucket,p=n.fullPath,v="/b/"+c(g)+"/o/"+c(p),b=hm(v,t,s),A=QA({alt:"media",token:f});return b+A})[0]}function aT(n,e){const t={},s=e.length;for(let a=0;a<s;a++){const o=e[a];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class Nh{constructor(e,t,s,a){this.url=e,this.method=t,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qc(n){if(!n)throw cw()}function hw(n,e){function t(s,a){const o=sT(n,a,e);return Qc(o!==null),o}return t}function V9(n,e){function t(s,a){const o=sT(n,a,e);return Qc(o!==null),U9(o,a,n.host,n._protocol)}return t}function Np(n){function e(t,s){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=r9():a=n9():t.getStatus()===402?a=t9(n.bucket):t.getStatus()===403?a=s9(n.path):a=s,a.status=t.getStatus(),a.serverResponse=s.serverResponse,a}return e}function fw(n){const e=Np(n);function t(s,a){let o=e(s,a);return s.getStatus()===404&&(o=e9(n.path)),o.serverResponse=a.serverResponse,o}return t}function z9(n,e,t){const s=e.fullServerUrl(),a=hm(s,n.host,n._protocol),o="GET",c=n.maxOperationRetryTime,d=new Nh(a,o,hw(n,t),c);return d.errorHandler=fw(e),d}function B9(n,e,t){const s=e.fullServerUrl(),a=hm(s,n.host,n._protocol),o="GET",c=n.maxOperationRetryTime,d=new Nh(a,o,V9(n,t),c);return d.errorHandler=fw(e),d}function q9(n,e){const t=e.fullServerUrl(),s=hm(t,n.host,n._protocol),a="DELETE",o=n.maxOperationRetryTime;function c(h,f){}const d=new Nh(s,a,c,o);return d.successCodes=[200,204],d.errorHandler=fw(e),d}function G9(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function iT(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=G9(null,e)),s}function oT(n,e,t,s,a){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let O="";for(let D=0;D<2;D++)O=O+Math.random().toString().slice(2);return O}const h=d();c["Content-Type"]="multipart/related; boundary="+h;const f=iT(e,s,a),g=aT(f,t),p="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+h+"--",b=Hc.getBlob(p,s,v);if(b===null)throw YA();const A={name:f.fullPath},S=hm(o,n.host,n._protocol),j="POST",E=n.maxUploadRetryTime,L=new Nh(S,j,hw(n,t),E);return L.urlParams=A,L.headers=c,L.body=b.uploadData(),L.errorHandler=Np(e),L}class Dx{constructor(e,t,s,a){this.current=e,this.total=t,this.finalized=!!s,this.metadata=a||null}}function mw(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Qc(!1)}return Qc(!!t&&(e||["active"]).indexOf(t)!==-1),t}function H9(n,e,t,s,a){const o=e.bucketOnlyServerUrl(),c=iT(e,s,a),d={name:c.fullPath},h=hm(o,n.host,n._protocol),f="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},p=aT(c,t),v=n.maxUploadRetryTime;function b(S){mw(S);let j;try{j=S.getResponseHeader("X-Goog-Upload-URL")}catch{Qc(!1)}return Qc(Ty(j)),j}const A=new Nh(h,f,b,v);return A.urlParams=d,A.headers=g,A.body=p,A.errorHandler=Np(e),A}function $9(n,e,t,s){const a={"X-Goog-Upload-Command":"query"};function o(f){const g=mw(f,["active","final"]);let p=null;try{p=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Qc(!1)}p||Qc(!1);const v=Number(p);return Qc(!isNaN(v)),new Dx(v,s.size(),g==="final")}const c="POST",d=n.maxUploadRetryTime,h=new Nh(t,c,o,d);return h.headers=a,h.errorHandler=Np(e),h}const g4=256*1024;function W9(n,e,t,s,a,o,c,d){const h=new Dx(0,0);if(c?(h.current=c.current,h.total=c.total):(h.current=0,h.total=s.size()),s.size()!==h.total)throw l9();const f=h.total-h.current;let g=f;a>0&&(g=Math.min(g,a));const p=h.current,v=p+g;let b="";g===0?b="finalize":f===g?b="upload, finalize":b="upload";const A={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":`${h.current}`},S=s.slice(p,v);if(S===null)throw YA();function j(D,ee){const te=mw(D,["active","final"]),H=h.current+g,M=s.size();let I;return te==="final"?I=hw(e,o)(D,ee):I=null,new Dx(H,M,te==="final",I)}const E="POST",L=e.maxUploadRetryTime,O=new Nh(t,E,j,L);return O.headers=A,O.body=S.uploadData(),O.progressCallback=d||null,O.errorHandler=Np(n),O}const Bi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function x1(n){switch(n){case"running":case"pausing":case"canceling":return Bi.RUNNING;case"paused":return Bi.PAUSED;case"success":return Bi.SUCCESS;case"canceled":return Bi.CANCELED;case"error":return Bi.ERROR;default:return Bi.ERROR}}class K9{constructor(e,t,s){if(p9(e)||t!=null||s!=null)this.next=e,this.error=t??void 0,this.complete=s??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function mf(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class Y9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=eh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=eh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=eh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,a,o){if(this.sent_)throw ag("cannot .send() more than once");if(uc(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ag("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ag("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ag("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ag("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class X9 extends Y9{initXhr(){this.xhr_.responseType="text"}}function Xd(){return new X9}class Q9{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=s,this._mappings=uw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(Ur.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(JA(a.status,[]))if(o)a=WA();else{this.sleepTime=Math.max(this.sleepTime*2,ZO),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(Ur.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,o)=>{this._resolve=a,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,s])=>{switch(this._state){case"running":e(t,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const s=H9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,Xd,e,t);this._request=a,a.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,s)=>{const a=$9(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(a,Xd,t,s);this._request=o,o.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=g4*this._chunkMultiplier,t=new Dx(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((a,o)=>{let c;try{c=W9(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const d=this._ref.storage._makeRequest(c,Xd,a,o,!1);this._request=d,d.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){g4*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const s=z9(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(s,Xd,e,t);this._request=a,a.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const s=oT(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,Xd,e,t);this._request=a,a.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=KA(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=x1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,s,a){const o=new K9(t||void 0,s||void 0,a||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(x1(this._state)){case Bi.SUCCESS:mf(this._resolve.bind(null,this.snapshot))();break;case Bi.CANCELED:case Bi.ERROR:const t=this._reject;mf(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(x1(this._state)){case Bi.RUNNING:case Bi.PAUSED:e.next&&mf(e.next.bind(e,this.snapshot))();break;case Bi.SUCCESS:e.complete&&mf(e.complete.bind(e))();break;case Bi.CANCELED:case Bi.ERROR:e.error&&mf(e.error.bind(e,this._error))();break;default:e.error&&mf(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class mh{constructor(e,t){this._service=e,t instanceof po?this._location=t:this._location=po.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new mh(e,t)}get root(){const e=new po(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rT(this._location.path)}get storage(){return this._service}get parent(){const e=P9(this._location.path);if(e===null)return null;const t=new po(this._location.bucket,e);return new mh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw u9(e)}}function J9(n,e,t){n._throwIfRoot("uploadBytes");const s=oT(n.storage,n._location,uw(),new Hc(e,!0),t);return n.storage.makeRequestWithTokens(s,Xd).then(a=>({metadata:a,ref:n}))}function Z9(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Q9(n,new Hc(e),t)}function eF(n){n._throwIfRoot("getDownloadURL");const e=B9(n.storage,n._location,uw());return n.storage.makeRequestWithTokens(e,Xd).then(t=>{if(t===null)throw c9();return t})}function tF(n){n._throwIfRoot("deleteObject");const e=q9(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Xd)}function nF(n,e){const t=L9(n._location.path,e),s=new po(n._location.bucket,t);return new mh(n.storage,s)}function rF(n){return/^[A-Za-z]+:\/\//.test(n)}function sF(n,e){return new mh(n,e)}function lT(n,e){if(n instanceof gw){const t=n;if(t._bucket==null)throw o9();const s=new mh(t,t._bucket);return e!=null?lT(s,e):s}else return e!==void 0?nF(n,e):n}function aF(n,e){if(e&&rF(e)){if(n instanceof gw)return sF(n,e);throw T2("To use ref(service, url), the first argument must be a Storage instance.")}else return lT(n,e)}function p4(n,e){const t=e?.[$A];return t==null?null:po.makeFromBucketSpec(t,n)}function iF(n,e,t,s={}){n.host=`${e}:${t}`;const a=uc(e);a&&(Jx(`https://${n.host}/b`),Zx("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:o}=s;o&&(n._overrideAuthToken=typeof o=="string"?o:M3(o,n.app.options.projectId))}class gw{constructor(e,t,s,a,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=HA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QO,this._maxUploadRetryTime=JO,this._requests=new Set,a!=null?this._bucket=po.makeFromBucketSpec(a,this._host):this._bucket=p4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=po.makeFromBucketSpec(this._url,e):this._bucket=p4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){m4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){m4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(qi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mh(this,e)}_makeRequest(e,t,s,a,o=!0){if(this._deleted)return new h9(XA());{const c=j9(e,this._appId,s,a,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const x4="@firebase/storage",y4="0.14.0";const cT="storage";function pw(n,e,t){return n=ar(n),J9(n,e,t)}function oF(n,e,t){return n=ar(n),Z9(n,e,t)}function Cy(n){return n=ar(n),eF(n)}function dT(n){return n=ar(n),tF(n)}function fm(n,e){return n=ar(n),aF(n,e)}function lF(n=ey(),e){n=ar(n);const s=rp(n,cT).getImmediate({identifier:e}),a=av("storage");return a&&cF(s,...a),s}function cF(n,e,t,s={}){iF(n,e,t,s)}function dF(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new gw(t,s,a,e,bh)}function uF(){lu(new Jc(cT,dF,"PUBLIC").setMultipleInstances(!0)),Bo(x4,y4,""),Bo(x4,y4,"esm2020")}uF();const fo={apiKey:"AIzaSyB67ZvBQ7DLy3nErDuWSorBtbwgKeoWCw4",authDomain:"grampanchayat-multi-tenant.firebaseapp.com",projectId:"grampanchayat-multi-tenant",storageBucket:"grampanchayat-multi-tenant.firebasestorage.app",messagingSenderId:"595321745876",appId:"1:595321745876:web:3073e006f4a418207e2641",measurementId:void 0};if(!fo.apiKey||!fo.projectId)throw console.error(" Firebase environment variables are not loaded!"),console.error("Missing variables:",{apiKey:!fo.apiKey,authDomain:!fo.authDomain,projectId:!fo.projectId,storageBucket:!fo.storageBucket,messagingSenderId:!fo.messagingSenderId,appId:!fo.appId}),new Error("Firebase configuration is incomplete. Please check environment variables.");const xw=q3(fo);console.log(`

            FIREBASE INITIALIZED                            


 Project ID: ${fo.projectId}
 Auth Domain: ${fo.authDomain}
 Storage Bucket: ${fo.storageBucket}

${fo.projectId==="grampanchayat-dev"?" Using DEVELOPMENT Firebase (safe to test!)":"  Using PRODUCTION Firebase (be careful!)"}

Environment: development
Debug Mode: Enabled
`);const Oe=MO(xw);OO(Oe).then(()=>{console.log(" Firestore offline persistence enabled")}).catch(n=>{n.code==="failed-precondition"?console.warn(" Multiple tabs open, persistence can only be enabled in one tab at a time"):n.code==="unimplemented"&&console.warn(" Current browser does not support persistence")});const oc=b7(xw),mm=lF(xw),b4={"grampanchayatpindkeparlodha.in":"pindkeparlodha","www.grampanchayatpindkeparlodha.in":"pindkeparlodha","grampanchayatdongartal.in":"dongartal","www.grampanchayatdongartal.in":"dongartal","grampanchayatkatta.in":"katta","www.grampanchayatkatta.in":"katta","grampanchayatnawargaon.in":"nawargaon","www.grampanchayatnawargaon.in":"nawargaon","grampanchayatpindkepaarlodha.in":"pindkepar","www.grampanchayatpindkepaarlodha.in":"pindkepar",localhost:"development","127.0.0.1":"development"},Eg=[{id:"pindkepar",name:"Gram Panchayat Pindkepar Lodha",nameHi:"   ",domain:"grampanchayatpindkepaarlodha.in",active:!0},{id:"demo",name:"Demo Gram Panchayat",nameHi:"  ",domain:"demo",active:!0}],hF=n=>{if(!n||typeof n!="string")return"";let e=n.toLowerCase();if(e.startsWith("gp-")){e=e.substring(3);const t=e.match(/^(.+)-([a-z0-9]{6})$/);return t&&(e=t[1]),e}return e.includes("-gpmulti")&&(e=e.split("-gpmulti")[0]),e=e.replace(/-+$/g,""),e=e.replace(/gpmulti$/g,"").replace(/-+$/g,""),e},fF=()=>{const e=new URLSearchParams(window.location.search).get("tenant");if(e&&Eg.find(o=>o.id===e))return console.log(" Tenant from query parameter:",e),e;const t=window.location.hostname;if(b4[t]){const a=b4[t];if(a==="development"){const o=Eg.find(c=>c.active);if(o)return console.log(" Development mode - Using default tenant:",o.id),console.log(" Tip: Use ?tenant=TENANT_ID to test other GPs"),o.id}return console.log(" Tenant from domain:",a),a}if(t.includes(".grampanchayats.in")){const a=t.split(".")[0];if(a!=="www")return console.log(" Tenant from subdomain:",a),a}if(t.endsWith(".web.app")||t.endsWith(".firebaseapp.com")){const a=t.split(".")[0];if(a&&a!=="www"){const o=hF(a);return console.log(" Tenant from Firebase subdomain:",o,"(from",a+")"),o}}const s=Eg.find(a=>a.active);return s?(console.log(" Using default tenant:",s.id),s.id):(console.warn(" No tenant detected, using fallback"),"pindkepar")};let T0=null;const rd=()=>(T0||(T0=fF(),console.log(" Current Tenant:",T0)),T0),mF=()=>{const n=rd(),e=Eg.find(t=>t.id===n);return e||(console.log(` Tenant "${n}" using dynamic configuration (will load from Firestore)`),{id:n,name:`GP ${n.charAt(0).toUpperCase()+n.slice(1)}`,nameHi:`  ${n}`,domain:`gp-${n}.web.app`,active:!0})},gF=()=>Eg.filter(n=>n.active);async function v4(n,e){try{const s=(await xS(oc,n,e)).user,a=rd(),o=await is(ut(Oe,"gramPanchayats",a,"users",s.uid));if(!o.exists()){console.log("User not found in current tenant, searching all tenants...");const c=await uT(s.uid);if(!c)throw new Error("User data not found");return{uid:s.uid,email:s.email,...c}}return{uid:s.uid,email:s.email,...o.data()}}catch(t){throw console.error("Sign in error:",t),t}}async function uT(n){const e=["pindkepar","demo","warghat"];for(const t of e)try{const s=await is(ut(Oe,"gramPanchayats",t,"users",n));if(s.exists())return console.log(` User found in tenant: ${t}`),s.data()}catch(s){console.error(`Error checking tenant ${t}:`,s)}return null}async function pF(){try{return await lL(oc),!0}catch(n){throw console.error("Sign out error:",n),n}}async function xF(n,e,t,s=null){try{const o=(await aL(oc,n,e)).user,c=s||rd();return await fu(ut(Oe,"gramPanchayats",c,"users",o.uid),{email:o.email,role:"admin",tenant:c,...t,createdAt:Qt(),updatedAt:Qt()}),{uid:o.uid,email:o.email,...t}}catch(a){throw console.error("Create admin error:",a),a}}function yF(n){return yS(oc,async e=>{if(e){const t=rd(),s=await is(ut(Oe,"gramPanchayats",t,"users",e.uid));if(s.exists())n({uid:e.uid,email:e.email,...s.data()});else{const a=await uT(e.uid);n(a?{uid:e.uid,email:e.email,...a}:null)}}else n(null)})}const bF="type.googleapis.com/google.protobuf.Int64Value",vF="type.googleapis.com/google.protobuf.UInt64Value";function hT(n,e){const t={};for(const s in n)n.hasOwnProperty(s)&&(t[s]=e(n[s]));return t}function Mx(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>Mx(e));if(typeof n=="function"||typeof n=="object")return hT(n,e=>Mx(e));throw new Error("Data cannot be encoded in JSON: "+n)}function tm(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case bF:case vF:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>tm(e)):typeof n=="function"||typeof n=="object"?hT(n,e=>tm(e)):n}const yw="functions";const w4={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Hi extends Nl{constructor(e,t,s){super(`${yw}/${e}`,t||""),this.details=s,Object.setPrototypeOf(this,Hi.prototype)}}function wF(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Ox(n,e){let t=wF(n),s=t,a;try{const o=e&&e.error;if(o){const c=o.status;if(typeof c=="string"){if(!w4[c])return new Hi("internal","internal");t=w4[c],s=c}const d=o.message;typeof d=="string"&&(s=d),a=o.details,a!==void 0&&(a=tm(a))}}catch{}return t==="ok"?null:new Hi(t,s,a)}class NF{constructor(e,t,s,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,qi(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||t.get().then(o=>this.auth=o,()=>{}),this.messaging||s.get().then(o=>this.messaging=o,()=>{}),this.appCheck||a?.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),s=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:t,messagingToken:s,appCheckToken:a}}}const C2="us-central1",jF=/^data: (.*?)(?:\n|$)/;function _F(n){let e=null;return{promise:new Promise((t,s)=>{e=setTimeout(()=>{s(new Hi("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class SF{constructor(e,t,s,a,o=C2,c=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new NF(e,t,s,a),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(o);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=C2}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function EF(n,e,t){const s=uc(e);n.emulatorOrigin=`http${s?"s":""}://${e}:${t}`,s&&(Jx(n.emulatorOrigin+"/backends"),Zx("Functions",!0))}function AF(n,e,t){const s=a=>CF(n,e,a,{});return s.stream=(a,o)=>kF(n,e,a,o),s}function fT(n){return n.emulatorOrigin&&uc(n.emulatorOrigin)?"include":void 0}async function TF(n,e,t,s,a){t["Content-Type"]="application/json";let o;try{o=await s(n,{method:"POST",body:JSON.stringify(e),headers:t,credentials:fT(a)})}catch{return{status:0,json:null}}let c=null;try{c=await o.json()}catch{}return{status:o.status,json:c}}async function mT(n,e){const t={},s=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(t.Authorization="Bearer "+s.authToken),s.messagingToken&&(t["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=s.appCheckToken),t}function CF(n,e,t,s){const a=n._url(e);return IF(n,a,t,s)}async function IF(n,e,t,s){t=Mx(t);const a={data:t},o=await mT(n,s),c=s.timeout||7e4,d=_F(c),h=await Promise.race([TF(e,a,o,n.fetchImpl,n),d.promise,n.cancelAllRequests]);if(d.cancel(),!h)throw new Hi("cancelled","Firebase Functions instance was deleted.");const f=Ox(h.status,h.json);if(f)throw f;if(!h.json)throw new Hi("internal","Response is not valid JSON object.");let g=h.json.data;if(typeof g>"u"&&(g=h.json.result),typeof g>"u")throw new Hi("internal","Response is missing data field.");return{data:tm(g)}}function kF(n,e,t,s){const a=n._url(e);return RF(n,a,t,s||{})}async function RF(n,e,t,s){t=Mx(t);const a={data:t},o=await mT(n,s);o["Content-Type"]="application/json",o.Accept="text/event-stream";let c;try{c=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:o,signal:s?.signal,credentials:fT(n)})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const A=new Hi("cancelled","Request was cancelled.");return{data:Promise.reject(A),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(A)}}}}}}const b=Ox(0,null);return{data:Promise.reject(b),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(b)}}}}}}let d,h;const f=new Promise((v,b)=>{d=v,h=b});s?.signal?.addEventListener("abort",()=>{const v=new Hi("cancelled","Request was cancelled.");h(v)});const g=c.body.getReader(),p=PF(g,d,h,s?.signal);return{stream:{[Symbol.asyncIterator](){const v=p.getReader();return{async next(){const{value:b,done:A}=await v.read();return{value:b,done:A}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:f}}function PF(n,e,t,s){const a=(c,d)=>{const h=c.match(jF);if(!h)return;const f=h[1];try{const g=JSON.parse(f);if("result"in g){e(tm(g.result));return}if("message"in g){d.enqueue(tm(g.message));return}if("error"in g){const p=Ox(0,g);d.error(p),t(p);return}}catch(g){if(g instanceof Hi){d.error(g),t(g);return}}},o=new TextDecoder;return new ReadableStream({start(c){let d="";return h();async function h(){if(s?.aborted){const f=new Hi("cancelled","Request was cancelled");return c.error(f),t(f),Promise.resolve()}try{const{value:f,done:g}=await n.read();if(g){d.trim()&&a(d.trim(),c),c.close();return}if(s?.aborted){const v=new Hi("cancelled","Request was cancelled");c.error(v),t(v),await n.cancel();return}d+=o.decode(f,{stream:!0});const p=d.split(`
`);d=p.pop()||"";for(const v of p)v.trim()&&a(v.trim(),c);return h()}catch(f){const g=f instanceof Hi?f:Ox(0,null);c.error(g),t(g)}}},cancel(){return n.cancel()}})}const N4="@firebase/functions",j4="0.13.1";const LF="auth-internal",DF="app-check-internal",MF="messaging-internal";function OF(n){const e=(t,{instanceIdentifier:s})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider(LF),c=t.getProvider(MF),d=t.getProvider(DF);return new SF(a,o,c,d,s)};lu(new Jc(yw,e,"PUBLIC").setMultipleInstances(!0)),Bo(N4,j4,n),Bo(N4,j4,"esm2020")}function FF(n=ey(),e=C2){const s=rp(ar(n),yw).getImmediate({identifier:e}),a=av("functions");return a&&UF(s,...a),s}function UF(n,e,t){EF(ar(n),e,t)}function VF(n,e,t){return AF(ar(n),e)}OF();const gT=G.createContext(),bw=()=>{const n=G.useContext(gT);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},zF=({children:n})=>{const[e,t]=G.useState(null),[s,a]=G.useState(!0);G.useEffect(()=>{const h=yF(f=>{t(f?{uid:f.uid,email:f.email,name:f.displayName||f.email,role:"ADMIN"}:null),a(!1)});return()=>h()},[]);const d={user:e,login:async h=>{try{const{email:f,password:g}=h,p=await v4(f,g);return{success:!0}}catch(f){if(console.error("Login error:",f),f.code==="auth/user-not-found"||f.code==="auth/invalid-credential"){console.log("User not found, attempting to create Auth user...");try{const p=FF(),v=VF(p,"createAuthUserOnLogin"),b=rd(),A=await v({email:h.email,password:h.password,tenantId:b});console.log("Auth user created:",A.data);const S=await v4(h.email,h.password);return{success:!0}}catch(p){return console.error("Failed to create Auth user:",p),{success:!1,error:p.message||"Invalid credentials. Please check your email and password."}}}let g="Login failed. Please try again.";return f.code==="auth/wrong-password"?g="Incorrect password.":f.code==="auth/invalid-email"?g="Invalid email address.":f.code==="auth/too-many-requests"&&(g="Too many failed attempts. Please try again later."),{success:!1,error:g}}},logout:async()=>{try{await pF()}catch(h){console.error("Logout error:",h)}},loading:s,isAuthenticated:!!e};return r.jsx(gT.Provider,{value:d,children:n})},Vs={panchayatName:{en:"Gram Panchayat Shivpur",mr:" "},tagline:{en:"Working for Village Development",mr:"  "},logo:"/logo.png",contact:{phone:"+91 1234567890",email:"grampanchayat@example.com",address:{en:"Village Shivpur, Taluka Sample, District Example, Maharashtra - 411001",mr:" ,  ,  ,  - "}},officeTimings:{en:"Monday to Friday: 10:00 AM - 5:00 PM",mr:"  :     "},socialMedia:{facebook:"https://facebook.com",twitter:"https://twitter.com",youtube:"https://youtube.com"}},Nn=()=>`gramPanchayats/${rd()}`,$t={settings:()=>`${Nn()}/settings`,siteSettings:()=>`${Nn()}/settings/siteConfig`,theme:()=>`${Nn()}/theme`,themeConfig:()=>`${Nn()}/theme/config`,features:()=>`${Nn()}/features`,featuresConfig:()=>`${Nn()}/features/config`,members:()=>`${Nn()}/members`,member:n=>`${Nn()}/members/${n}`,staff:()=>`${Nn()}/staff`,staffMember:n=>`${Nn()}/staff/${n}`,notices:()=>`${Nn()}/notices`,notice:n=>`${Nn()}/notices/${n}`,announcements:()=>`${Nn()}/announcements`,announcement:n=>`${Nn()}/announcements/${n}`,services:()=>`${Nn()}/services`,service:n=>`${Nn()}/services/${n}`,schemes:()=>`${Nn()}/schemes`,scheme:n=>`${Nn()}/schemes/${n}`,forms:()=>`${Nn()}/forms`,form:n=>`${Nn()}/forms/${n}`,programs:()=>`${Nn()}/programs`,program:n=>`${Nn()}/programs/${n}`,gallery:()=>`${Nn()}/gallery`,galleryItem:n=>`${Nn()}/gallery/${n}`,villages:()=>`${Nn()}/villages`,village:n=>`${Nn()}/villages/${n}`,demographics:()=>`${Nn()}/demographics`,populationBreakdowns:()=>`${Nn()}/populationBreakdowns`,villageGroups:()=>`${Nn()}/villageGroups`,infrastructure:()=>`${Nn()}/infrastructure`,statisticsYears:()=>`${Nn()}/statisticsYears`,financials:()=>`${Nn()}/financials`,financial:n=>`${Nn()}/financials/${n}`,grievances:()=>`${Nn()}/grievances`,grievance:n=>`${Nn()}/grievances/${n}`,pages:()=>`${Nn()}/pages`,page:n=>`${Nn()}/pages/${n}`,content:()=>`${Nn()}/content`,metadata:()=>`${Nn()}/metadata`,metadataConfig:()=>`${Nn()}/metadata/config`},Fx=async()=>{try{const n=ut(Oe,$t.siteSettings()),e=await is(n);return e.exists()?e.data():null}catch(n){throw console.error("Error fetching settings:",n),n}},pT=async n=>{try{const e=ut(Oe,$t.siteSettings());return await fu(e,n,{merge:!0}),console.log("Settings updated successfully in Firebase"),n}catch(e){throw console.error("Error updating settings:",e),e}},BF=async n=>{try{const e=await Fx();return e||(await pT(n),console.log("Settings initialized with default data"),n)}catch(e){throw console.error("Error initializing settings:",e),e}},_4=n=>{if(!n)return;document.querySelectorAll("link[rel*='icon']").forEach(a=>a.remove());const t=document.createElement("link");t.rel="icon",t.type="image/png",t.href=n,document.head.appendChild(t);const s=document.createElement("link");s.rel="apple-touch-icon",s.href=n,document.head.appendChild(s),console.log(" Favicon updated to:",n)},S4=n=>{if(!n)return;const e=typeof n=="object"&&n.en?n.en:n;document.title=e||"Gram Panchayat",console.log(" Document title updated to:",document.title)},xT=G.createContext(),qF=({children:n})=>{const[e,t]=G.useState(null),[s,a]=G.useState(!0);return G.useEffect(()=>{(async()=>{try{a(!0);const c=await Fx();if(c)t(c),c.logo&&_4(c.logo),c.panchayatName&&S4(c.panchayatName),console.log("Site settings loaded from Firebase:",c);else{const d=await BF(Vs);t(d),console.log("Site settings initialized in Firebase")}}catch(c){console.error("Error loading site settings:",c),t(Vs)}finally{a(!1)}})()},[]),r.jsx(xT.Provider,{value:{settings:e,loading:s,refresh:async()=>{const o=await Fx();o&&(t(o),o.logo&&_4(o.logo),o.panchayatName&&S4(o.panchayatName))}},children:n})},vu=()=>{const n=G.useContext(xT);if(n===void 0)throw new Error("useSiteSettings must be used within a SiteSettingsProvider");return n},GF=G.createContext(),xi={primaryColor:"#1e40af",secondaryColor:"#059669",accentColor:"#f59e0b",fontFamily:"Inter, sans-serif",headerHeight:"80px",borderRadius:"8px",useCustomHomepage:!1,useCustomNavbar:!1,useCustomFooter:!1};function HF({children:n}){const[e,t]=G.useState(xi),[s,a]=G.useState(!0),[o,c]=G.useState(null);G.useEffect(()=>{d()},[]);const d=async()=>{try{a(!0);const v=ut(Oe,$t.themeConfig()),b=await is(v);if(b.exists()){const A={...xi,...b.data()};t(A),h(A),console.log(" Theme loaded for tenant:",rd())}else console.log(" Using default theme for tenant:",rd()),h(xi)}catch(v){console.error("Error loading theme:",v),c(v),h(xi)}finally{a(!1)}},h=v=>{const b=document.documentElement;b.style.setProperty("--color-primary",v.primaryColor||xi.primaryColor),b.style.setProperty("--color-secondary",v.secondaryColor||xi.secondaryColor),b.style.setProperty("--color-accent",v.accentColor||xi.accentColor),b.style.setProperty("--font-family",v.fontFamily||xi.fontFamily),b.style.setProperty("--header-height",v.headerHeight||xi.headerHeight),b.style.setProperty("--border-radius",v.borderRadius||xi.borderRadius),document.body.style.fontFamily=v.fontFamily||xi.fontFamily},p={theme:e,loading:s,error:o,updateTheme:async v=>{try{const b=ut(Oe,$t.themeConfig()),A={...e,...v};return await setDoc(b,A),t(A),h(A),!0}catch(b){throw console.error("Error updating theme:",b),b}},resetTheme:async()=>{try{const v=ut(Oe,$t.themeConfig());return await setDoc(v,xi),t(xi),h(xi),!0}catch(v){throw console.error("Error resetting theme:",v),v}},defaultTheme:xi};return r.jsx(GF.Provider,{value:p,children:!s&&n})}const yT=async n=>{try{const e=await is(ut(Oe,"globalConfig","superAdmins","users",n));return e.exists()&&e.data().role==="superadmin"}catch(e){return console.error("Error checking super admin status:",e),!1}},$F=async n=>{try{const e=await is(ut(Oe,"globalConfig","superAdmins","users",n));return e.exists()?{id:e.id,...e.data()}:null}catch(e){throw console.error("Error getting super admin profile:",e),e}},WF=async n=>{try{await ia(ut(Oe,"globalConfig","superAdmins","users",n),{lastLogin:xt.now()})}catch(e){console.error("Error updating last login:",e)}},Iy=async()=>{try{const n=Et(Oe,"globalConfig","metadata","gramPanchayats"),e=await sr(n),t=[];return e.forEach(s=>{t.push({id:s.id,...s.data()})}),t.sort((s,a)=>{const o=s.createdAt?.toDate?.()||new Date(0);return(a.createdAt?.toDate?.()||new Date(0))-o})}catch(n){throw console.error("Error getting all GPs:",n),n}},vw=async n=>{try{const e=await is(ut(Oe,"globalConfig","metadata","gramPanchayats",n));return e.exists()?{id:e.id,...e.data()}:null}catch(e){throw console.error("Error getting GP:",e),e}},KF=(n,e)=>{try{const t=ut(Oe,"globalConfig","metadata","gramPanchayats",n);return em(t,a=>{a.exists()?e({id:a.id,...a.data()}):e(null)},a=>{console.error("Error in GP subscription:",a),e(null)})}catch(t){return console.error("Error subscribing to GP:",t),null}},YF=async n=>{try{const{id:e,name:t,nameMarathi:s,domain:a,adminEmail:o,adminPassword:c,adminName:d,...h}=n;if(!e||!t||!a||!o||!c)throw new Error("Missing required fields: id, name, domain, adminEmail, adminPassword");if(!d)throw new Error("Admin name is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o))throw new Error("Invalid email format");if(c.length<6)throw new Error("Password must be at least 6 characters");if((await is(ut(Oe,"globalConfig","metadata","gramPanchayats",e))).exists())throw new Error(`Gram Panchayat with ID "${e}" already exists. Please use a different name.`);console.log(" Creating GP:",{id:e,name:t,domain:a,adminEmail:o});const p={id:e,name:t,nameMarathi:s||"",domain:a,subdomain:h.subdomain||a.replace(".web.app",""),domainStatus:"pending",active:!0,createdAt:xt.now(),updatedAt:xt.now(),adminEmail:o,adminPassword:c,adminName:d,...h};await fu(ut(Oe,"globalConfig","metadata","gramPanchayats",e),p),console.log(" GP document created in Firestore");const v=`pending_${e}_${Date.now()}`;return await fu(ut(Oe,`gramPanchayats/${e}/users`,v),{email:o,name:d,role:"admin",tenantId:e,createdAt:xt.now(),active:!0,createdBy:"superadmin",password:c,passwordLastChanged:xt.now(),isPending:!0,note:"Auth user will be created on first login or by Cloud Function"}),console.log(" Placeholder user document created"),await jh({action:"create_gp",gpId:e,gpName:t,adminEmail:o,timestamp:xt.now()}),console.log(" Activity logged"),{success:!0,gpId:e,adminEmail:o,message:`Gram Panchayat "${t}" created successfully. Admin can login with provided credentials.`}}catch(e){throw console.error(" Error creating GP:",e),e.code==="permission-denied"?new Error("Permission denied. Please ensure you are logged in as a Super Admin."):e}},XF=async(n,e)=>{try{return await ia(ut(Oe,"globalConfig","metadata","gramPanchayats",n),{...e,updatedAt:xt.now()}),await jh({action:"update_gp",gpId:n,updates:e,timestamp:xt.now()}),{success:!0,message:"GP updated successfully"}}catch(t){throw console.error("Error updating GP:",t),t}},bT=async(n,e)=>{try{return await ia(ut(Oe,"globalConfig","metadata","gramPanchayats",n),{active:e,updatedAt:xt.now()}),await jh({action:e?"activate_gp":"deactivate_gp",gpId:n,timestamp:xt.now()}),{success:!0}}catch(t){throw console.error("Error toggling GP status:",t),t}},vT=async n=>{try{const e=await vw(n);if(!e)throw new Error("GP not found");console.log(" Starting deletion of GP:",n),console.log(" Deleting GP users...");const t=await sr(Et(Oe,`gramPanchayats/${n}/users`)),s=[];for(const o of t.docs)s.push($i(ut(Oe,`gramPanchayats/${n}/users`,o.id)));await Promise.all(s),console.log(" User documents deleted");const a=["notices","announcements","members","services","schemes","gallery","forms","grievances","financials","downloads","settings"];for(const o of a){console.log(` Deleting ${o}...`);const d=(await sr(Et(Oe,`gramPanchayats/${n}/${o}`))).docs.map(h=>$i(h.ref));await Promise.all(d)}return console.log(" All subcollections deleted"),await $i(ut(Oe,"globalConfig","metadata","gramPanchayats",n)),console.log(" GP metadata deleted - Cloud Functions will handle hosting site & Auth user cleanup"),await jh({action:"delete_gp",gpId:n,gpData:e,timestamp:xt.now()}),{success:!0,message:" GP deleted successfully! Cloud Functions are automatically cleaning up hosting site and Auth users.",automated:!0,note:"No manual steps required - everything is handled automatically by Cloud Functions."}}catch(e){throw console.error("Error deleting GP:",e),e}},wT=async()=>{try{const n=new Map,e=await Iy(),t=Array.from(new Map(e.map(s=>[s.id,s])).values());for(const s of t){const a=Et(Oe,`gramPanchayats/${s.id}/users`);(await sr(Ir(a,si("role","==","admin")))).forEach(c=>{const d=c.data(),h=d.email;n.has(h)||n.set(h,{id:c.id,gpId:s.id,gpName:s.name,...d})})}return Array.from(n.values())}catch(n){throw console.error("Error getting all admin users:",n),n}},QF=async n=>{try{return await pS(oc,n),await jh({action:"reset_password",email:n,timestamp:xt.now()}),{success:!0,message:"Password reset email sent"}}catch(e){throw console.error("Error resetting password:",e),e}},JF=async(n,e)=>{try{const t=await is(ut(Oe,`gramPanchayats/${n}/users`,e));if(!t.exists())throw new Error("User not found");const s=t.data(),a=s.initialPassword?atob(s.initialPassword):null;return await jh({action:"view_password",userId:e,gpId:n,timestamp:xt.now()}),{password:a,createdAt:s.createdAt,passwordLastChanged:s.passwordLastChanged}}catch(t){throw console.error("Error getting initial password:",t),t}},ZF=async(n,e,t,s=null)=>{try{const a=s||NT(12);return await ia(ut(Oe,`gramPanchayats/${n}/users`,e),{initialPassword:btoa(a),passwordLastChanged:xt.now(),passwordChangedBy:"superadmin"}),await pS(oc,t),await jh({action:"generate_new_password",userId:e,gpId:n,email:t,timestamp:xt.now()}),{success:!0,password:a,message:"Password updated. User should use the password reset email to set this password."}}catch(a){throw console.error("Error generating new password:",a),a}},eU=async()=>{try{const n=await Iy(),e=await wT(),t=n.filter(d=>d.active).length,s=n.filter(d=>!d.active).length,a=e.filter(d=>d.active).length,o=n.filter(d=>d.domainStatus==="active").length,c=n.filter(d=>d.domainStatus==="pending").length;return{totalGPs:n.length,activeGPs:t,inactiveGPs:s,totalUsers:e.length,activeUsers:a,domainsActive:o,domainsPending:c,lastUpdated:new Date}}catch(n){throw console.error("Error getting system stats:",n),n}},jh=async n=>{try{const e=Et(Oe,"globalConfig","metadata","activityLogs");await fu(ut(e),{...n,timestamp:n.timestamp||xt.now()})}catch(e){console.error("Error logging activity:",e)}},NT=(n=16)=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t="abcdefghijklmnopqrstuvwxyz",s="0123456789",o=e+t+s+"@#";let c="";c+=e[Math.floor(Math.random()*e.length)],c+=t[Math.floor(Math.random()*t.length)],c+=s[Math.floor(Math.random()*s.length)],c+="@#"[Math.floor(Math.random()*2)];for(let d=4;d<n;d++)c+=o[Math.floor(Math.random()*o.length)];return c.split("").sort(()=>Math.random()-.5).join("")},tU=async n=>{try{const e=Et(Oe,`gramPanchayats/${n}/users`),t=await sr(e),s=[];return t.forEach(a=>{s.push({id:a.id,...a.data()})}),s.sort((a,o)=>{const c=a.createdAt?.toDate?.()||new Date(0);return(o.createdAt?.toDate?.()||new Date(0))-c})}catch(e){throw console.error("Error getting GP users:",e),e}},nU=async n=>{try{const e={totalUsers:0,totalNotices:0,totalGrievances:0,storageUsed:0};try{const t=await sr(Et(Oe,`gramPanchayats/${n}/users`));e.totalUsers=t.size}catch(t){console.error("Error counting users:",t)}try{const t=await sr(Et(Oe,`gramPanchayats/${n}/notices`));e.totalNotices=t.size}catch(t){console.error("Error counting notices:",t)}try{const t=await sr(Et(Oe,`gramPanchayats/${n}/grievances`));e.totalGrievances=t.size}catch(t){console.error("Error counting grievances:",t)}return e}catch(e){return console.error("Error getting GP stats:",e),null}},jT=G.createContext(),_T=()=>{const n=G.useContext(jT);if(!n)throw new Error("useSuperAdmin must be used within SuperAdminProvider");return n},rU=({children:n})=>{const[e,t]=G.useState(null),[s,a]=G.useState(!0),[o,c]=G.useState(null);G.useEffect(()=>{const f=yS(oc,async g=>{if(a(!0),c(null),g)try{if(await yT(g.uid)){const v=await $F(g.uid);t({uid:g.uid,email:g.email,...v}),await WF(g.uid)}else t(null),c("You do not have super admin permissions")}catch(p){console.error("Error checking super admin status:",p),c(p.message),t(null)}else t(null);a(!1)});return()=>f()},[]);const h={superAdmin:e,loading:s,error:o,isAuthenticated:!!e,hasPermission:f=>e&&e.permissions?.includes(f)||!1};return r.jsx(jT.Provider,{value:h,children:n})};const sU=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aU=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),E4=n=>{const e=aU(n);return e.charAt(0).toUpperCase()+e.slice(1)},ST=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),iU=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var oU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lU=G.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:c,...d},h)=>G.createElement("svg",{ref:h,...oU,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:ST("lucide",a),...!o&&!iU(d)&&{"aria-hidden":"true"},...d},[...c.map(([f,g])=>G.createElement(f,g)),...Array.isArray(o)?o:[o]]));const rt=(n,e)=>{const t=G.forwardRef(({className:s,...a},o)=>G.createElement(lU,{ref:o,iconNode:e,className:ST(`lucide-${sU(E4(n))}`,`lucide-${n}`,s),...a}));return t.displayName=E4(n),t};const cU=[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]],dU=rt("accessibility",cU);const uU=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],ET=rt("arrow-down",uU);const hU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vi=rt("arrow-left",hU);const fU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],zc=rt("arrow-right",fU);const mU=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],AT=rt("arrow-up",mU);const gU=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ou=rt("award",gU);const pU=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],I2=rt("baby",pU);const xU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Wi=rt("bell",xU);const yU=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Xg=rt("book-open",yU);const bU=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],nm=rt("briefcase",bU);const vU=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],yl=rt("building-2",vU);const wU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ss=rt("calendar",wU);const NU=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],A4=rt("camera",NU);const jU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],TT=rt("chart-column",jU);const _U=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],CT=rt("chevron-left",_U);const SU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jp=rt("chevron-right",SU);const EU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qn=rt("circle-alert",EU);const AU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yi=rt("circle-check-big",AU);const TU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Yu=rt("circle-user",TU);const CU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],gh=rt("circle-x",CU);const IU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qg=rt("clock",IU);const kU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],k2=rt("copy",kU);const RU=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],T4=rt("credit-card",RU);const PU=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],LU=rt("dollar-sign",PU);const DU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Go=rt("download",DU);const MU=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Ux=rt("droplets",MU);const OU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ag=rt("external-link",OU);const FU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_h=rt("eye-off",FU);const UU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ai=rt("eye",UU);const VU=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],R2=rt("facebook",VU);const zU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],BU=rt("file-check",zU);const qU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],mr=rt("file-text",qU);const GU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],HU=rt("file",GU);const $U=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],C4=rt("folder-open",$U);const WU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ky=rt("funnel",WU);const KU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ph=rt("globe",KU);const YU=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],I4=rt("graduation-cap",YU);const XU=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],QU=rt("hash",XU);const JU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ZU=rt("house",JU);const eV=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],tV=rt("image-plus",eV);const nV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],_r=rt("image",nV);const rV=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Vx=rt("indian-rupee",rV);const sV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],P2=rt("info",sV);const aV=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],iV=rt("instagram",aV);const oV=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],lV=rt("key-round",oV);const cV=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Pf=rt("languages",cV);const dV=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],uV=rt("layout-dashboard",dV);const hV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],k4=rt("link",hV);const fV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],mV=rt("loader-circle",fV);const gV=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Jg=rt("loader",gV);const pV=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],R4=rt("log-in",pV);const xV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],L2=rt("lock",xV);const yV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],IT=rt("log-out",yV);const bV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],$o=rt("mail",bV);const vV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vl=rt("map-pin",vV);const wV=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],zx=rt("megaphone",wV);const NV=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],kT=rt("menu",NV);const jV=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Lf=rt("message-square",jV);const _V=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],P4=rt("mic",_V);const SV=[["path",{d:"M5 12h14",key:"1ays0h"}]],EV=rt("minus",SV);const AV=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],TV=rt("pen-line",AV);const CV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_p=rt("pen",CV);const IV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Vo=rt("phone",IV);const kV=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],RV=rt("piggy-bank",kV);const PV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rr=rt("plus",PV);const LV=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],RT=rt("power",LV);const DV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Bx=rt("refresh-cw",DV);const MV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ks=rt("save",MV);const OV=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],D2=rt("school",OV);const FV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],za=rt("search",FV);const UV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],L4=rt("send",UV);const VV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],M2=rt("settings",VV);const zV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Zl=rt("shield",zV);const BV=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],qV=rt("skip-forward",BV);const GV=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Bs=rt("sparkles",GV);const HV=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],lc=rt("square-pen",HV);const $V=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],PT=rt("target",$V);const WV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_a=rt("trash-2",WV);const KV=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Tg=rt("trending-down",KV);const YV=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],th=rt("trending-up",YV);const XV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ww=rt("triangle-alert",XV);const QV=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],LT=rt("twitter",QV);const JV=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],cc=rt("upload",JV);const ZV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ez=rt("user-plus",ZV);const tz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rm=rt("user",tz);const nz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Cs=rt("users",nz);const rz=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],O2=rt("video",rz);const sz=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],F2=rt("wallet",sz);const az=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ss=rt("x",az);const iz=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],oz=rt("youtube",iz);const lz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],cz=rt("zap",lz),dz=()=>{const{language:n,toggleLanguage:e}=Vr(),[t,s]=G.useState(""),[a,o]=G.useState(!1),[c,d]=G.useState(16),[h,f]=G.useState({marathi:"     ",english:"Rural Development & Panchayat Raj Department",subtext:"Government Of Maharashtra"});G.useEffect(()=>{const S=localStorage.getItem("accessibility_fontSize");S&&d(parseInt(S))},[]),G.useEffect(()=>{document.documentElement.style.fontSize=c+"px",localStorage.setItem("accessibility_fontSize",c)},[c]),G.useEffect(()=>{const S=ut(Oe,"headerConfig","main"),j=em(S,E=>{if(E.exists()){const L=E.data();f({marathi:L.marathi||"     ",english:L.english||"Rural Development & Panchayat Raj Department",subtext:L.subtext||"Government Of Maharashtra"})}},E=>{console.log("Using default header text:",E)});return()=>j()},[]);const g=S=>{S.preventDefault(),console.log("Searching for:",t)},p=()=>{console.log("Voice search activated")},v=()=>{d(S=>Math.max(12,S-2))},b=()=>{d(S=>Math.min(24,S+2))},A=()=>{const S=document.querySelector("main")||document.querySelector("body");S?.focus(),S?.scrollIntoView({behavior:"smooth"})};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"w-full bg-white h-auto md:h-10 border-b border-[#e5e5e5] px-3 sm:px-4 md:px-6 py-2 md:py-0 flex flex-wrap md:flex-row items-center justify-between gap-2 md:gap-0",children:[r.jsxs("section",{id:"top-left",className:"flex items-center gap-[6px] sm:gap-[10px] text-xs sm:text-sm",children:[r.jsx("img",{src:"https://rdd.maharashtra.gov.in/wp-content/themes/sdo-theme/images/flag.svg",alt:"Indian Flag",className:"object-contain hidden sm:block",style:{width:"clamp(20px, 4vw, 28px)",height:"clamp(12px, 2.5vw, 18px)"},onError:S=>{S.target.style.display="none"}}),r.jsx("div",{className:"text-black whitespace-nowrap",style:{fontSize:"14px",fontWeight:600},children:" "}),r.jsx("div",{className:"bg-[#cccccc] hidden sm:block",style:{width:"1px",height:"clamp(16px, 3vw, 20px)"}}),r.jsx("div",{className:"text-black whitespace-nowrap hidden sm:block",style:{fontSize:"clamp(11px, 2vw, 13px)",fontWeight:600},children:"GOVERNMENT OF MAHARASHTRA"})]}),r.jsxs("section",{id:"top-right",className:"flex items-center gap-2 sm:gap-[14px]",children:[r.jsx("button",{onClick:A,className:"p-1.5 hover:bg-gray-100 rounded transition-colors","aria-label":"Skip to main content",title:"Skip to main content",children:r.jsx(qV,{size:16,className:"text-gray-700"})}),r.jsxs("button",{onClick:e,className:"p-1.5 hover:bg-gray-100 rounded transition-colors relative group","aria-label":`Change language to ${n==="en"?"Marathi":"English"}`,title:`Language: ${n==="en"?"English":"Marathi"}`,children:[r.jsx(ph,{size:16,className:"text-gray-700"}),r.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded whitespace-nowrap pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity",children:n==="en"?"EN":"MR"})]}),r.jsx("button",{onClick:v,disabled:c<=12,className:"p-1.5 hover:bg-gray-100 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Decrease font size",title:"Decrease font size",children:r.jsx(EV,{size:16,className:"text-gray-700"})}),r.jsx("span",{className:"text-xs text-gray-600 px-1 min-w-[24px] text-center font-semibold",children:c}),r.jsx("button",{onClick:b,disabled:c>=24,className:"p-1.5 hover:bg-gray-100 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Increase font size",title:"Increase font size",children:r.jsx(Rr,{size:16,className:"text-gray-700"})}),r.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded transition-colors","aria-label":"Accessibility options",title:"Accessibility options",children:r.jsx(dU,{size:16,className:"text-gray-700"})})]})]}),r.jsxs("header",{className:"w-full relative flex flex-wrap items-center justify-between bg-white min-h-auto md:min-h-[90px] pt-3 pb-3 px-3 sm:px-4 md:px-[clamp(12px,2vw,24px)] gap-4",children:[r.jsxs("section",{id:"left",className:"flex items-center gap-2 sm:gap-3 flex-shrink-0 min-w-0 order-1 sm:order-1",children:[r.jsx("img",{src:"https://rdd.maharashtra.gov.in/wp-content/themes/sdo-theme/images/emblem.svg",alt:"Government Emblem",className:"object-contain",style:{width:"clamp(40px, 10vw, 55px)",height:"clamp(50px, 12vw, 70px)"},onError:S=>{S.target.style.display="none"}}),r.jsxs("div",{className:"hidden md:flex flex-col gap-1",children:[n==="mr"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"whitespace-nowrap leading-tight text-black",style:{fontSize:"clamp(12px, 1.5vw, 14px)",fontWeight:500},children:""}),r.jsx("div",{className:"whitespace-nowrap leading-tight text-black",style:{fontSize:"clamp(14px, 2.2vw, 18px)",fontWeight:700},children:h.marathi}),r.jsx("div",{className:"whitespace-nowrap leading-tight text-black",style:{fontSize:"clamp(12px, 1.8vw, 14px)",fontWeight:600},children:" "})]}),n==="en"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"whitespace-nowrap leading-tight text-black",style:{fontSize:"14px",fontWeight:500},children:h.marathi}),r.jsx("div",{className:"whitespace-nowrap leading-tight text-black",style:{fontSize:"18px",fontWeight:700},children:h.english}),r.jsx("div",{className:"whitespace-nowrap leading-tight text-black",style:{fontSize:"14px",fontWeight:600},children:h.subtext})]})]})]}),r.jsx("section",{id:"center",className:"hidden lg:flex items-center justify-center flex-1 mx-6 order-3 lg:order-2",children:r.jsxs("form",{onSubmit:g,className:"relative w-full",style:{maxWidth:"520px"},children:[r.jsx("input",{type:"text",placeholder:"Search",value:t,onChange:S=>s(S.target.value),className:"w-full h-11 rounded-lg border-2 border-solid pl-4 pr-[100px] text-base outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-opacity-50",style:{borderColor:"#d6a23c"}}),r.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:p,className:"flex items-center justify-center w-8 h-8 rounded-full border-0 bg-transparent cursor-pointer hover:bg-yellow-50 transition-colors",style:{color:"#d6a23c"},"aria-label":"Voice search",children:r.jsx(P4,{size:18})}),r.jsx("button",{type:"submit",className:"flex items-center justify-center w-8 h-8 rounded-full border-0 bg-transparent cursor-pointer hover:bg-yellow-50 transition-colors",style:{color:"#d6a23c"},"aria-label":"Search",children:r.jsx(za,{size:18})})]})]})}),r.jsxs("section",{id:"right",className:"hidden 2xl:flex items-center gap-4 flex-shrink-0 order-4",children:[r.jsx("img",{src:"https://cdnbbsr.s3waas.gov.in/s3e6c2dc3dee4a51dcec3a876aa2339a78/uploads/2023/07/2023072135.png",alt:"State Seal",className:"object-contain",style:{width:"70px",height:"70px"},onError:S=>{S.target.style.display="none"}}),r.jsx("img",{src:"https://cdnbbsr.s3waas.gov.in/s3e6c2dc3dee4a51dcec3a876aa2339a78/uploads/2023/07/2023072114.png",alt:"Azadi Ka Amrit Mahotsav",className:"object-contain",style:{width:"110px",height:"55px"},onError:S=>{S.target.style.display="none"}})]}),r.jsx("div",{className:"lg:hidden flex items-center gap-2 order-2 md:order-3",children:r.jsx("button",{onClick:()=>o(!a),className:"p-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Search",children:r.jsx(za,{size:20})})}),a&&r.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-white border-b border-gray-200 p-4 z-50 shadow-lg",children:r.jsxs("form",{onSubmit:g,className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Search",value:t,onChange:S=>s(S.target.value),className:"w-full h-11 rounded-lg border-2 border-solid pl-4 pr-[100px] text-base outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-opacity-50",style:{borderColor:"#d6a23c"}}),r.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:p,className:"p-2 hover:bg-yellow-50 rounded-full transition-colors","aria-label":"Voice search",children:r.jsx(P4,{size:18,color:"#d6a23c"})}),r.jsx("button",{type:"submit",className:"p-2 hover:bg-yellow-50 rounded-full transition-colors","aria-label":"Search",children:r.jsx(za,{size:18,color:"#d6a23c"})})]})]})})]})]})},uz=()=>{const[n,e]=G.useState(!1),t=pu(),{language:s}=Vr(),a=[{path:"/",labelEn:"Home",labelMr:""},{path:"/about",labelEn:"About Village",labelMr:""},{path:"/panchayat",labelEn:"Gram Panchayat",labelMr:" "},{path:"/services",labelEn:"Services",labelMr:""},{path:"/schemes",labelEn:"Schemes",labelMr:""},{path:"/downloads",labelEn:"Forms & Downloads",labelMr:"  "},{path:"/education",labelEn:"Education & Anganwadi",labelMr:"  "},{path:"/gallery",labelEn:"Gallery",labelMr:""},{path:"/financials",labelEn:"Financials",labelMr:""},{path:"/village-statistics",labelEn:"Statistics",labelMr:""},{path:"/notices",labelEn:"Notices & Tenders",labelMr:"  "},{path:"/contact",labelEn:"Contact",labelMr:""}],o=h=>t.pathname===h,c=()=>{e(!n)},d=h=>s==="mr"?h.labelMr:h.labelEn;return r.jsxs("nav",{className:"bg-gradient-to-r from-blue-900 via-gray-800 to-blue-900 w-full sticky top-0 z-50 shadow-md",children:[r.jsx("div",{className:"hidden md:block w-full px-4 md:px-6 lg:px-8",children:r.jsx("ul",{className:"flex flex-row items-center justify-center gap-0.5",children:a.map(h=>r.jsx("li",{className:"relative group",children:r.jsxs(sn,{to:h.path,className:`block px-3 lg:px-4 py-2.5 text-white font-medium transition-all relative overflow-hidden text-sm ${o(h.path)?"bg-orange-600 lg:bg-transparent":"hover:bg-white/10"}`,children:[o(h.path)&&r.jsx("span",{className:"hidden lg:block absolute bottom-0 left-0 right-0 h-0.5 bg-orange-500"}),r.jsx("span",{className:"hidden lg:block absolute inset-0 bg-gradient-to-r from-transparent via-orange-500/20 to-transparent transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"}),r.jsx("span",{className:"relative z-10",children:d(h)})]})},h.path))})}),r.jsxs("div",{className:"md:hidden px-4 py-2",children:[r.jsxs("button",{onClick:c,className:"flex items-center justify-between w-full p-2 text-white hover:bg-white/10 rounded transition-colors","aria-label":"Toggle navigation menu",children:[r.jsx("span",{className:"font-medium text-sm",children:"Menu"}),n?r.jsx(Ss,{size:20}):r.jsx(kT,{size:20})]}),n&&r.jsx("div",{className:"mt-2 bg-blue-900/50 rounded-lg overflow-hidden",children:r.jsx("ul",{className:"flex flex-col",children:a.map(h=>r.jsx("li",{children:r.jsx(sn,{to:h.path,onClick:()=>e(!1),className:`block px-4 py-3 text-sm font-medium transition-colors border-b border-blue-800/30 ${o(h.path)?"bg-orange-600 text-white":"text-white hover:bg-white/10"}`,children:d(h)})},h.path))})})]})]})},hz=()=>{const{t:n,getContent:e}=Vr(),{settings:t,loading:s}=vu();if(s||!t)return null;const a=[{path:"/",label:n("nav.home")},{path:"/services",label:n("nav.services")},{path:"/schemes",label:n("nav.schemes")},{path:"/downloads",label:n("nav.downloads")},{path:"/notices",label:n("nav.notices")}],o=[{label:"Ministry of Panchayati Raj",url:"https://panchayat.gov.in"},{label:"Digital India",url:"https://digitalindia.gov.in"},{label:"MyGov",url:"https://mygov.in"}];return r.jsxs("footer",{className:"bg-gray-900 text-gray-300",children:[r.jsx("div",{className:"container-custom py-12",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:e(t.panchayatName)}),r.jsx("p",{className:"text-sm mb-4",children:e(t.tagline)}),t.socialMedia&&r.jsxs("div",{className:"flex gap-3",children:[t.socialMedia.facebook&&r.jsx("a",{href:t.socialMedia.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-gray-700 hover:bg-primary-600 rounded-full flex items-center justify-center transition-colors",children:r.jsx(R2,{size:16})}),t.socialMedia.twitter&&r.jsx("a",{href:t.socialMedia.twitter,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-gray-700 hover:bg-primary-600 rounded-full flex items-center justify-center transition-colors",children:r.jsx(LT,{size:16})}),t.socialMedia.youtube&&r.jsx("a",{href:t.socialMedia.youtube,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-gray-700 hover:bg-primary-600 rounded-full flex items-center justify-center transition-colors",children:r.jsx(oz,{size:16})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:n("footer.quickLinks")}),r.jsxs("ul",{className:"space-y-2",children:[a.map(c=>r.jsx("li",{children:r.jsx(sn,{to:c.path,className:"text-sm hover:text-primary-400 transition-colors",children:c.label})},c.path)),r.jsx("li",{children:r.jsx(sn,{to:"/admin/login",className:"text-sm hover:text-primary-400 transition-colors font-semibold",children:" Admin Login"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:n("footer.importantLinks")}),r.jsx("ul",{className:"space-y-2",children:o.map(c=>r.jsx("li",{children:r.jsx("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:text-primary-400 transition-colors",children:c.label})},c.url))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:n("footer.contactUs")}),r.jsxs("ul",{className:"space-y-3",children:[r.jsxs("li",{className:"flex gap-2 text-sm",children:[r.jsx(vl,{size:16,className:"flex-shrink-0 mt-1"}),r.jsx("span",{children:e(t.contact.address)})]}),r.jsxs("li",{className:"flex gap-2 text-sm",children:[r.jsx(Vo,{size:16,className:"flex-shrink-0"}),r.jsx("a",{href:`tel:${t.contact.phone}`,className:"hover:text-primary-400 transition-colors",children:t.contact.phone})]}),r.jsxs("li",{className:"flex gap-2 text-sm",children:[r.jsx($o,{size:16,className:"flex-shrink-0"}),r.jsx("a",{href:`mailto:${t.contact.email}`,className:"hover:text-primary-400 transition-colors",children:t.contact.email})]})]})]})]})}),r.jsx("div",{className:"border-t border-gray-800",children:r.jsx("div",{className:"container-custom py-4",children:r.jsx("div",{className:"text-center text-sm",children:r.jsxs("p",{children:[" ",new Date().getFullYear()," ",e(t.panchayatName),". ",n("footer.copyright"),"."]})})})})]})};async function fz(){try{const n=Et(Oe,$t.announcements()),e=Ir(n,Ki("createdAt","desc")),s=(await sr(e)).docs.map(o=>({id:o.id,...o.data(),createdAt:o.data().createdAt?.toDate?.()||new Date,updatedAt:o.data().updatedAt?.toDate?.()||new Date})),a={high:3,medium:2,low:1};return s.sort((o,c)=>{const d=(a[c.priority]||0)-(a[o.priority]||0);return d!==0?d:c.createdAt-o.createdAt})}catch(n){throw console.error("Error getting announcements:",n),n}}async function mz(){try{const n=Et(Oe,$t.announcements()),e=Ir(n,si("isActive","==",!0)),s=(await sr(e)).docs.map(o=>({id:o.id,...o.data(),createdAt:o.data().createdAt?.toDate?.()||new Date})),a={high:3,medium:2,low:1};return s.sort((o,c)=>{const d=(a[c.priority]||0)-(a[o.priority]||0);return d!==0?d:c.createdAt-o.createdAt})}catch(n){throw console.error("Error getting active announcements:",n),n}}async function gz(n){try{const e=ut(Oe,$t.announcement(n)),t=await is(e);if(t.exists()){const s=t.data();return{id:t.id,...s,createdAt:s.createdAt?.toDate?.()||new Date,updatedAt:s.updatedAt?.toDate?.()||new Date}}return null}catch(e){throw console.error("Error getting announcement:",e),e}}async function pz(n){try{const e=Et(Oe,$t.announcements());return(await ns(e,{...n,createdAt:Qt(),updatedAt:Qt()})).id}catch(e){throw console.error("Error creating announcement:",e),e}}async function DT(n,e){try{const t=ut(Oe,$t.announcement(n));await ia(t,{...e,updatedAt:Qt()})}catch(t){throw console.error("Error updating announcement:",t),t}}async function xz(n){try{const e=ut(Oe,$t.announcement(n));await $i(e)}catch(e){throw console.error("Error deleting announcement:",e),e}}async function yz(n,e){try{await DT(n,{isActive:e})}catch(t){throw console.error("Error toggling announcement status:",t),t}}function bz(){const[n,e]=G.useState([]),[t,s]=G.useState(0),[a,o]=G.useState(!0),{getContent:c}=Vr();G.useEffect(()=>{d()},[]),G.useEffect(()=>{if(n.length>1){const b=setInterval(()=>{s(A=>(A+1)%n.length)},5e3);return()=>clearInterval(b)}},[n.length]);const d=async()=>{try{const b=await mz();e(b)}catch(b){console.error("Error loading announcements:",b)}},h=()=>{o(!1)};if(!a||n.length===0)return null;const f=n[t],g={info:{bg:"bg-blue-500",icon:P2},warning:{bg:"bg-yellow-500",icon:ww},alert:{bg:"bg-red-500",icon:Qn},success:{bg:"bg-green-500",icon:Yi}},p=g[f?.type]||g.info,v=p.icon;return r.jsxs("div",{className:`${p.bg} text-white shadow-lg relative overflow-hidden`,children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')]"})}),r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-3 relative z-10",children:[r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx(v,{className:"flex-shrink-0 animate-pulse",size:24}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("p",{className:"font-bold text-sm sm:text-base",children:c(f.title)}),r.jsx("span",{className:"text-white/80 text-sm hidden sm:inline",children:""}),r.jsx("p",{className:"text-white/90 text-sm",children:c(f.message)})]})})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[f.link&&r.jsxs("a",{href:f.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-3 py-1.5 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-semibold transition-colors backdrop-blur-sm",children:[r.jsx("span",{className:"hidden sm:inline",children:"Read More"}),r.jsx(Ag,{size:14})]}),r.jsx("button",{onClick:h,className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",title:"Close",children:r.jsx(Ss,{size:18})})]})]}),n.length>1&&r.jsx("div",{className:"flex justify-center gap-1.5 mt-2",children:n.map((b,A)=>r.jsx("button",{onClick:()=>s(A),className:`h-1.5 rounded-full transition-all ${A===t?"w-6 bg-white":"w-1.5 bg-white/40 hover:bg-white/60"}`,title:`Announcement ${A+1}`},A))})]})]})}const vz=()=>r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(dz,{}),r.jsx(uz,{}),r.jsx(bz,{}),r.jsx("main",{className:"flex-1",children:r.jsx(A3,{})}),r.jsx(hz,{})]}),wz=({children:n})=>{const{isAuthenticated:e,loading:t}=bw();return t?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e?n:r.jsx(lx,{to:"/admin/login",replace:!0})};function gf({children:n,requiredPermission:e=null}){const{superAdmin:t,loading:s,isAuthenticated:a,hasPermission:o}=_T(),c=pu();return s?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/10 backdrop-blur-md rounded-full mb-4 border border-white/20",children:r.jsx(Zl,{className:"w-10 h-10 text-white animate-pulse"})}),r.jsxs("div",{className:"flex items-center justify-center gap-3 text-white",children:[r.jsx(Jg,{className:"w-6 h-6 animate-spin"}),r.jsx("p",{className:"text-lg",children:"Verifying super admin access..."})]})]})}):!a||!t?r.jsx(lx,{to:"/superadmin/login",state:{from:c},replace:!0}):e&&!o(e)?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 max-w-md text-center border border-white/20",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-500/20 rounded-full mb-4",children:r.jsx(Zl,{className:"w-8 h-8 text-red-200"})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Access Denied"}),r.jsx("p",{className:"text-indigo-200 mb-6",children:"You do not have permission to access this feature."}),r.jsxs("p",{className:"text-sm text-indigo-300 mb-6",children:["Required permission: ",r.jsx("span",{className:"font-mono bg-white/10 px-2 py-1 rounded",children:e})]}),r.jsx("button",{onClick:()=>window.history.back(),className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-6 py-2 rounded-lg hover:from-indigo-600 hover:to-purple-700 transition",children:"Go Back"})]})}):n}const Nz=()=>{const[n,e]=G.useState(!1),{user:t,logout:s}=bw(),{language:a,toggleLanguage:o}=Vr(),c=pu(),d=gr(),h=()=>{s(),d("/admin/login")},f=[{path:"/admin/dashboard",label:"Dashboard",icon:uV},{path:"/admin/members",label:"Members & Staff",icon:Cs},{path:"/admin/services",label:"Services",icon:nm},{path:"/admin/schemes",label:"Schemes",icon:mr},{path:"/admin/forms",label:"Forms & Downloads",icon:Go},{path:"/admin/sliders",label:"Home Sliders",icon:cz},{path:"/admin/gallery",label:"Gallery",icon:_r},{path:"/admin/financials",label:"Financials",icon:LU},{path:"/admin/officials",label:"Officials",icon:Yu},{path:"/admin/notices",label:"Notices & Tenders",icon:Wi},{path:"/admin/announcements",label:"Announcements",icon:zx},{path:"/admin/grievances",label:"Grievances",icon:Lf},{path:"/admin/village-statistics",label:"Village Statistics",icon:mr},{path:"/admin/settings/header",label:"Header Settings",icon:M2},{path:"/admin/settings",label:"Settings",icon:M2}],g=p=>c.pathname===p;return r.jsxs("div",{className:"min-h-screen bg-gray-100",children:[r.jsx("header",{className:"bg-white shadow-md fixed top-0 left-0 right-0 z-40",children:r.jsxs("div",{className:"flex justify-between items-center px-4 py-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>e(!n),className:"lg:hidden p-2 hover:bg-gray-100 rounded",children:n?r.jsx(Ss,{size:24}):r.jsx(kT,{size:24})}),r.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Admin Panel"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right hidden sm:block",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-800",children:t?.name}),r.jsx("p",{className:"text-xs text-gray-500",children:t?.role})]}),r.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",title:a==="en"?"Switch to Marathi":"Switch to English",children:[r.jsx(Pf,{size:18}),r.jsx("span",{className:"hidden sm:inline text-sm",children:a==="en"?"EN":""})]}),r.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[r.jsx(IT,{size:18}),r.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}),r.jsx("aside",{className:`fixed top-16 left-0 bottom-0 w-64 bg-white shadow-lg transform transition-transform duration-200 z-30 ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:r.jsx("nav",{className:"p-4 space-y-2 overflow-y-auto h-full",children:f.map(p=>{const v=p.icon;return r.jsxs(sn,{to:p.path,onClick:()=>e(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${g(p.path)?"bg-primary-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[r.jsx(v,{size:20}),r.jsx("span",{className:"font-medium",children:p.label})]},p.path)})})}),r.jsx("main",{className:"pt-16 lg:pl-64 min-h-screen",children:r.jsx("div",{className:"p-6",children:r.jsx(A3,{})})}),n&&r.jsx("div",{onClick:()=>e(!1),className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden"})]})};function jz(){const[n,e]=G.useState(!1);return mF(),gF(),null}const _z=({slides:n=[]})=>{const[e,t]=G.useState(0),[s,a]=G.useState(!0),{getContent:o}=Vr();G.useEffect(()=>{if(!s||n.length===0)return;const f=setInterval(()=>{t(g=>(g+1)%n.length)},5e3);return()=>clearInterval(f)},[s,n.length]);const c=f=>{t(f),a(!1),setTimeout(()=>a(!0),1e4)},d=()=>{t(f=>(f+1)%n.length),a(!1),setTimeout(()=>a(!0),1e4)},h=()=>{t(f=>(f-1+n.length)%n.length),a(!1),setTimeout(()=>a(!0),1e4)};return!n||n.length===0?r.jsx("div",{className:"relative w-full h-[300px] md:h-[400px] lg:h-[500px] bg-gradient-to-r from-orange-100 to-green-100 flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500 text-lg",children:"No slides available"})}):r.jsxs("div",{className:"relative w-full h-[300px] md:h-[400px] lg:h-[500px] overflow-hidden group",children:[r.jsx("div",{className:"relative w-full h-full",children:n.map((f,g)=>r.jsxs("div",{className:`absolute inset-0 transition-opacity duration-700 ${g===e?"opacity-100 z-10":"opacity-0 z-0"}`,children:[r.jsx("img",{src:f.image,alt:f.title||`Slide ${g+1}`,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),f.title&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 md:p-8 lg:p-12 text-white",children:r.jsxs("div",{className:"container mx-auto",children:[r.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold mb-2 drop-shadow-lg",children:o(f.title)}),f.description&&r.jsx("p",{className:"text-sm md:text-base lg:text-lg max-w-2xl drop-shadow-lg",children:o(f.description)})]})})]},g))}),r.jsx("button",{onClick:h,className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 bg-white/80 hover:bg-white p-2 md:p-3 rounded-full shadow-lg transition-all opacity-0 group-hover:opacity-100","aria-label":"Previous slide",children:r.jsx(CT,{className:"w-5 h-5 md:w-6 md:h-6 text-gray-800"})}),r.jsx("button",{onClick:d,className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 bg-white/80 hover:bg-white p-2 md:p-3 rounded-full shadow-lg transition-all opacity-0 group-hover:opacity-100","aria-label":"Next slide",children:r.jsx(jp,{className:"w-5 h-5 md:w-6 md:h-6 text-gray-800"})}),r.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-20 flex gap-2",children:n.map((f,g)=>r.jsx("button",{onClick:()=>c(g),className:`w-2 h-2 md:w-3 md:h-3 rounded-full transition-all ${g===e?"bg-white w-6 md:w-8":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to slide ${g+1}`},g))})]})},Sz=({officials:n=[]})=>{const{getContent:e}=Vr();return!n||n.length===0?null:r.jsx("section",{className:"bg-white py-12",children:r.jsx("div",{className:"mx-auto",style:{maxWidth:"1200px",paddingLeft:"24px",paddingRight:"24px"},children:r.jsx("div",{className:"grid gap-x-16 gap-y-14 justify-items-center",style:{gridTemplateColumns:"repeat(3, 1fr)",maxWidth:"900px",margin:"0 auto"},children:n.map((t,s)=>r.jsxs("div",{className:"flex flex-col items-center w-full",children:[r.jsx("div",{className:"rounded-full bg-white overflow-hidden mb-4 flex-shrink-0",style:{width:"140px",height:"140px",border:"1.5px solid #D1D5DB"},children:t.photo?r.jsx("img",{src:t.photo,alt:e(t.name),className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-white text-4xl font-semibold text-gray-400",children:e(t.name)?.charAt(0)})}),r.jsxs("div",{className:"text-center",style:{maxWidth:"200px"},children:[r.jsx("p",{className:"font-semibold text-center mb-2 leading-relaxed",style:{fontSize:"15px",fontWeight:600,color:"#1F2937"},children:e(t.designation)}),r.jsx("p",{className:"text-center leading-relaxed",style:{fontSize:"14px",fontWeight:400,color:"#374151"},children:e(t.name)})]})]},s))})})})},Ez=()=>{const{t:n,getContent:e}=Vr(),{settings:t,loading:s}=vu(),[a,o]=G.useState([]),[c,d]=G.useState([]);return G.useEffect(()=>{const h=Et(Oe,"sliders"),f=Ir(h,Ki("order","asc")),g=em(f,p=>{const v=p.docs.map(b=>({id:b.id,...b.data()}));o(v)});return()=>g()},[]),G.useEffect(()=>{const h=Et(Oe,"officials"),f=Ir(h,Ki("order","asc")),g=em(f,p=>{const v=p.docs.map(b=>({id:b.id,...b.data()}));d(v)});return()=>g()},[]),s||!t?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-blue-50 to-green-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-orange-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Loading..."})]})}):r.jsxs("div",{className:"overflow-hidden",children:[c&&c.length>0&&r.jsx(Sz,{officials:c}),r.jsxs("section",{className:"relative overflow-hidden min-h-[650px] md:min-h-[700px] lg:min-h-[750px] flex items-center",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-600 via-white to-green-600",children:r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')] opacity-20"})})}),r.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 md:w-48 md:h-48 opacity-5 animate-spin-slow",children:r.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[r.jsx("circle",{cx:"100",cy:"100",r:"80",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-blue-900"}),[...Array(24)].map((h,f)=>r.jsx("line",{x1:"100",y1:"100",x2:"100",y2:"20",stroke:"currentColor",strokeWidth:"2",className:"text-blue-900",transform:`rotate(${f*15} 100 100)`},f))]})}),r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10 py-16 md:py-20",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsxs("div",{className:"text-center mb-8 md:mb-12 animate-fade-in-up",children:[r.jsx("div",{className:"inline-block mb-6 p-4 bg-white rounded-full shadow-2xl",children:t.logo?r.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-full overflow-hidden flex items-center justify-center",children:r.jsx("img",{src:t.logo,alt:e(t.panchayatName),className:"w-full h-full object-contain"})}):r.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-orange-600 via-blue-900 to-green-600 rounded-full flex items-center justify-center",children:r.jsx(ou,{className:"text-white w-8 h-8 md:w-10 md:h-10"})})}),r.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 text-gray-900 leading-snug",children:[r.jsx("span",{className:"block text-orange-600",children:n("home.welcomeTitle")}),r.jsx("span",{className:"block mt-2 pt-2 bg-gradient-to-r from-blue-900 via-gray-800 to-blue-900 bg-clip-text text-transparent",children:e(t.panchayatName)})]}),r.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-gray-700 font-medium max-w-3xl mx-auto mb-8 px-4",children:e(t.tagline)}),r.jsxs("div",{className:"w-32 h-1 mx-auto mb-8 flex rounded-full overflow-hidden shadow-lg",children:[r.jsx("div",{className:"flex-1 bg-orange-600"}),r.jsx("div",{className:"flex-1 bg-white"}),r.jsx("div",{className:"flex-1 bg-green-600"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[r.jsxs(sn,{to:"/about",className:"group inline-flex items-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-8 py-4 rounded-lg text-base md:text-lg font-semibold shadow-xl hover:shadow-2xl transition-all transform hover:scale-105",children:[n("home.knowMore"),r.jsx(zc,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),r.jsxs(sn,{to:"/services",className:"group inline-flex items-center gap-2 bg-white hover:bg-gray-50 text-gray-900 px-8 py-4 rounded-lg text-base md:text-lg font-semibold shadow-xl hover:shadow-2xl transition-all transform hover:scale-105 border-2 border-gray-200",children:[n("home.importantServices"),r.jsx(Ag,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]})})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:r.jsx("svg",{viewBox:"0 0 1440 120",className:"w-full h-16 md:h-24 fill-current text-white",children:r.jsx("path",{d:"M0,64L48,69.3C96,75,192,85,288,80C384,75,480,53,576,48C672,43,768,53,864,58.7C960,64,1056,64,1152,58.7C1248,53,1344,43,1392,37.3L1440,32L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z"})})})]}),a&&a.length>0&&r.jsx("section",{className:"py-8 md:py-12 bg-white",children:r.jsx(_z,{slides:a})}),r.jsx("section",{className:"py-12 md:py-16 lg:py-20 bg-gradient-to-br from-gray-50 via-blue-50/30 to-orange-50/30",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-10 md:mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:n("home.quickInfo")}),r.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-600 to-green-600 mx-auto rounded-full"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 max-w-7xl mx-auto",children:[r.jsx("div",{className:"group bg-white p-6 md:p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-l-4 border-orange-600 transform hover:-translate-y-2",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:r.jsx(Vo,{className:"text-white",size:24})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:n("home.phone")}),r.jsx("a",{href:`tel:${t.contact.phone}`,className:"text-gray-700 hover:text-orange-600 font-medium transition-colors block truncate",children:t.contact.phone})]})]})}),r.jsx("div",{className:"group bg-white p-6 md:p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-l-4 border-green-600 transform hover:-translate-y-2",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-green-600 to-green-700 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:r.jsx($o,{className:"text-white",size:24})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:n("home.email")}),r.jsx("a",{href:`mailto:${t.contact.email}`,className:"text-gray-700 hover:text-green-600 font-medium transition-colors block break-all text-sm md:text-base",children:t.contact.email})]})]})}),r.jsx("div",{className:"group bg-white p-6 md:p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-l-4 border-blue-600 transform hover:-translate-y-2",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:r.jsx(vl,{className:"text-white",size:24})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:n("home.address")}),r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:e(t.contact.address)})]})]})}),r.jsx("div",{className:"group bg-white p-6 md:p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-l-4 border-orange-600 transform hover:-translate-y-2",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:r.jsx(Qg,{className:"text-white",size:24})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:n("home.timings")}),r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:e(t.officeTimings)})]})]})})]})]})}),r.jsx("section",{className:"py-12 md:py-16 lg:py-20 bg-white",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-10 md:mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:n("home.quickLinks")}),r.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-600 to-green-600 mx-auto rounded-full"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 max-w-7xl mx-auto",children:[r.jsxs(sn,{to:"/financials#property-tax",className:"group relative bg-gradient-to-br from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white p-6 md:p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(Vx,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),r.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2",children:n("home.payPropertyTax")}),r.jsx("p",{className:"text-white/90 text-sm mb-4",children:"Pay your property tax online"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[r.jsx("span",{children:"Pay Now"}),r.jsx(zc,{size:18,className:"group-hover:translate-x-2 transition-transform"})]})]})]}),r.jsxs(sn,{to:"/financials#water-tax",className:"group relative bg-gradient-to-br from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white p-6 md:p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(Vx,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),r.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2",children:n("home.payWaterTax")}),r.jsx("p",{className:"text-white/90 text-sm mb-4",children:"Pay your water bill online"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[r.jsx("span",{children:"Pay Now"}),r.jsx(zc,{size:18,className:"group-hover:translate-x-2 transition-transform"})]})]})]}),r.jsxs(sn,{to:"/schemes",className:"group relative bg-gradient-to-br from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white p-6 md:p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(nm,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),r.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2",children:n("home.viewSchemes")}),r.jsx("p",{className:"text-white/90 text-sm mb-4",children:"Browse government schemes"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[r.jsx("span",{children:"View All"}),r.jsx(zc,{size:18,className:"group-hover:translate-x-2 transition-transform"})]})]})]}),r.jsxs(sn,{to:"/downloads",className:"group relative bg-gradient-to-br from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white p-6 md:p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(Go,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),r.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2",children:n("home.downloadForms")}),r.jsx("p",{className:"text-white/90 text-sm mb-4",children:"Download application forms"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[r.jsx("span",{children:"Download"}),r.jsx(zc,{size:18,className:"group-hover:translate-x-2 transition-transform"})]})]})]})]})]})}),r.jsxs("section",{className:"py-12 md:py-16 lg:py-20 bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 text-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')]"})}),r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[r.jsxs("div",{className:"text-center mb-10 md:mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-3",children:n("home.highlights")}),r.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-400 to-green-400 mx-auto rounded-full"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 max-w-6xl mx-auto",children:[r.jsxs(sn,{to:"/panchayat",className:"group bg-white/10 backdrop-blur-sm p-8 md:p-10 rounded-2xl text-center hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl border border-white/20",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-400 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform shadow-xl",children:r.jsx(Cs,{className:"text-white",size:40})}),r.jsx("p",{className:"text-xl font-semibold mb-2 text-orange-300",children:n("home.members")}),r.jsx("p",{className:"text-white/80 text-sm",children:"Panchayat Representatives"}),r.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-orange-300 text-sm font-semibold opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("span",{children:"View Details"}),r.jsx(zc,{size:16})]})]}),r.jsxs(sn,{to:"/schemes",className:"group bg-white/10 backdrop-blur-sm p-8 md:p-10 rounded-2xl text-center hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl border border-white/20",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-green-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform shadow-xl",children:r.jsx(nm,{className:"text-white",size:40})}),r.jsx("p",{className:"text-xl font-semibold mb-2 text-green-300",children:n("home.popularSchemes")}),r.jsx("p",{className:"text-white/80 text-sm",children:"Government Schemes"}),r.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-green-300 text-sm font-semibold opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("span",{children:"View Details"}),r.jsx(zc,{size:16})]})]}),r.jsxs(sn,{to:"/services",className:"group bg-white/10 backdrop-blur-sm p-8 md:p-10 rounded-2xl text-center hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl border border-white/20",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-400 to-blue-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform shadow-xl",children:r.jsx(mr,{className:"text-white",size:40})}),r.jsx("p",{className:"text-xl font-semibold mb-2 text-blue-300",children:n("home.importantServices")}),r.jsx("p",{className:"text-white/80 text-sm",children:"Panchayat Services"}),r.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-blue-300 text-sm font-semibold opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("span",{children:"View Details"}),r.jsx(zc,{size:16})]})]})]})]})]})]})},Ry={ABOUT:"about",EDUCATION:"education"},MT=async n=>{try{const e=ut(Oe,$t.pages(),n),t=await is(e);if(t.exists()){const s=t.data();return{id:t.id,...s,updatedAt:s.updatedAt?.toDate?.()?.toISOString?.()||s.updatedAt,createdAt:s.createdAt?.toDate?.()?.toISOString?.()||s.createdAt}}else return console.log(`No ${n} page content found`),null}catch(e){throw console.error(`Error fetching ${n} page content:`,e),new Error(`Failed to fetch ${n} page content`)}},OT=async(n,e)=>{try{const t=ut(Oe,$t.pages(),n),a=!(await is(t)).exists(),o={...e,updatedAt:xt.now(),...a&&{createdAt:xt.now()}};await fu(t,o,{merge:!0}),console.log(`${n} page content ${a?"created":"updated"}`)}catch(t){throw console.error(`Error updating ${n} page content:`,t),new Error(`Failed to update ${n} page content`)}},FT=async()=>await MT(Ry.ABOUT),D4=async n=>await OT(Ry.ABOUT,n),UT=async()=>await MT(Ry.EDUCATION),M4=async n=>await OT(Ry.EDUCATION,n),Az=()=>{const{t:n,language:e,getContent:t}=Vr(),{settings:s,loading:a}=vu(),[o,c]=G.useState(null),[d,h]=G.useState(!0);return G.useEffect(()=>{(async()=>{try{h(!0);const g=await FT();c(g)}catch(g){console.error("Error loading about content:",g),c(null)}finally{h(!1)}})()},[]),d||a?r.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-orange-50 via-blue-50 to-green-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-orange-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Loading..."})]})}):s?o?r.jsxs("div",{className:"overflow-hidden",children:[r.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-orange-600 via-white to-green-600 py-16 md:py-24",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')]"})}),r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("div",{className:"inline-block mb-6 p-4 bg-white rounded-full shadow-2xl",children:r.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-orange-600 via-blue-900 to-green-600 rounded-full flex items-center justify-center",children:r.jsx(ou,{className:"text-white w-8 h-8 md:w-10 md:h-10"})})}),r.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-6 text-gray-900",children:[e==="en"?"About":"",r.jsx("span",{className:"block mt-2 bg-gradient-to-r from-orange-600 via-blue-900 to-green-600 bg-clip-text text-transparent",children:t(s.panchayatName)})]}),r.jsxs("div",{className:"w-32 h-1 mx-auto mb-6 flex rounded-full overflow-hidden shadow-lg",children:[r.jsx("div",{className:"flex-1 bg-orange-600"}),r.jsx("div",{className:"flex-1 bg-white"}),r.jsx("div",{className:"flex-1 bg-green-600"})]}),r.jsx("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed",children:t(o.description)})]})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:r.jsx("svg",{viewBox:"0 0 1440 120",className:"w-full h-12 md:h-16 fill-current text-white",children:r.jsx("path",{d:"M0,64L48,69.3C96,75,192,85,288,80C384,75,480,53,576,48C672,43,768,53,864,58.7C960,64,1056,64,1152,58.7C1248,53,1344,43,1392,37.3L1440,32L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z"})})})]}),r.jsx("section",{className:"py-12 md:py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:[r.jsxs("div",{className:"group relative bg-gradient-to-br from-orange-500 to-orange-600 text-white p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(Cs,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),r.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:o.population}),r.jsx("div",{className:"text-white/90 text-lg",children:e==="en"?"Population":""})]})]}),r.jsxs("div",{className:"group relative bg-gradient-to-br from-green-600 to-green-700 text-white p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(vl,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),r.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:o.area}),r.jsx("div",{className:"text-white/90 text-lg",children:e==="en"?"Area":""})]})]}),r.jsxs("div",{className:"group relative bg-gradient-to-br from-blue-600 to-blue-700 text-white p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(ZU,{size:40,className:"mb-4 group-hover:scale-110 transition-transform"}),r.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:o.households}),r.jsx("div",{className:"text-white/90 text-lg",children:e==="en"?"Households":""})]})]})]})})})}),(o.history||o.vision||o.mission)&&r.jsx("section",{className:"py-12 md:py-16 lg:py-20 bg-gradient-to-br from-gray-50 via-blue-50/30 to-orange-50/30",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-10 md:mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:e==="en"?"Our Journey":" "}),r.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-600 to-green-600 mx-auto rounded-full"})]}),r.jsxs("div",{className:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:[o.history&&r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-t-4 border-orange-600",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:r.jsx(ss,{className:"text-orange-600",size:24})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e==="en"?"History":""})]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:t(o.history)})]}),o.vision&&r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-t-4 border-green-600",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:r.jsx(ai,{className:"text-green-600",size:24})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e==="en"?"Vision":""})]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:t(o.vision)})]}),o.mission&&r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border-t-4 border-blue-600",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(PT,{className:"text-blue-600",size:24})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e==="en"?"Mission":""})]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:t(o.mission)})]})]})]})}),o.importantPlaces&&o.importantPlaces.length>0&&r.jsxs("section",{className:"py-12 md:py-16 lg:py-20 bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 text-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')]"})}),r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[r.jsxs("div",{className:"text-center mb-10 md:mb-12",children:[r.jsx(Bs,{className:"w-12 h-12 mx-auto mb-4 text-orange-400"}),r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-3",children:e==="en"?"Important Places":" "}),r.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-400 to-green-400 mx-auto rounded-full"})]}),r.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:o.importantPlaces.map((f,g)=>r.jsxs("div",{className:"group bg-white/10 backdrop-blur-sm rounded-2xl overflow-hidden hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl border border-white/20",children:[f.photoUrl&&r.jsx("div",{className:"h-48 overflow-hidden",children:r.jsx("img",{src:f.photoUrl,alt:t(f.name),className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),!f.photoUrl&&r.jsx("div",{className:"h-48 bg-gradient-to-br from-orange-400 to-green-400 flex items-center justify-center",children:r.jsx(vl,{size:64,className:"text-white opacity-50"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:t(f.name)}),r.jsx("p",{className:"text-white/80 leading-relaxed",children:t(f.description)})]})]},f.id))})]})]})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-16",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[r.jsx(ou,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:e==="en"?"No About Information Available":"   "}),r.jsx("p",{className:"text-gray-600",children:e==="en"?"About page content has not been added yet.":"     ."})]})}):null},O4=()=>rd(),Tz=(n,e,t=null)=>t?`${O4()}/${n}/${t}/${e}`:`${O4()}/${n}/${e}`;async function Bc(n,e,t=null,s=null){try{const a=t||`${Date.now()}_${n.name}`,o=Tz(e,a,s),c=fm(mm,o),d=await pw(c,n);return await Cy(d.ref)}catch(a){throw console.error("Error uploading image:",a),a}}async function qc(n){try{const e=Cz(n);if(!e)throw new Error("Invalid file URL");const t=fm(mm,e);return await dT(t),!0}catch(e){throw console.error("Error deleting image:",e),e}}function Cz(n){try{if(!n.startsWith("https://firebasestorage.googleapis.com/v0/b/"))return null;const t=n.split("/o/")[1]?.split("?")[0];return t?decodeURIComponent(t):null}catch(e){return console.error("Error extracting path:",e),null}}async function VT(n,e){try{const t=Array.from(n).map(s=>Bc(s,e));return await Promise.all(t)}catch(t){throw console.error("Error uploading multiple images:",t),t}}const Nw=async()=>{try{const n=Et(Oe,$t.members()),e=Ir(n,Ki("position","asc")),t=await sr(e),s=[];return t.forEach(a=>{s.push({id:a.id,...a.data()})}),s}catch(n){throw console.error("Error fetching members:",n),n}},jw=async n=>{try{const e=ut(Oe,$t.members(),n),t=await is(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){throw console.error("Error fetching member:",e),e}},Iz=async(n,e=null)=>{try{let t=n.photo||"";e&&(t=await Bc(e,"members"));const s=Et(Oe,$t.members()),a=await ns(s,{...n,photo:t,createdAt:xt.now(),updatedAt:xt.now()});return console.log("Member created successfully with ID:",a.id),a.id}catch(t){throw console.error("Error creating member:",t),t}},kz=async(n,e,t=null)=>{try{let s=e.photo||"";if(t){const o=await jw(n);if(o&&o.photo)try{await qc(o.photo)}catch(c){console.warn("Failed to delete old photo:",c)}s=await Bc(t,"members")}const a=ut(Oe,$t.members(),n);return await ia(a,{...e,photo:s,updatedAt:xt.now()}),console.log("Member updated successfully:",n),n}catch(s){throw console.error("Error updating member:",s),s}},Rz=async n=>{try{const e=await jw(n);if(e&&e.photo)try{await qc(e.photo)}catch(s){console.warn("Failed to delete member photo:",s)}const t=ut(Oe,$t.members(),n);return await $i(t),console.log("Member deleted successfully:",n),!0}catch(e){throw console.error("Error deleting member:",e),e}},Pz=()=>{const{t:n,getContent:e}=Vr(),{settings:t,loading:s}=vu(),[a,o]=G.useState([]),[c,d]=G.useState(!0);G.useEffect(()=>{(async()=>{try{d(!0);const b=await Nw();o(Array.isArray(b)?b:[])}catch(b){console.error("Error loading members:",b),o([])}finally{d(!1)}})()},[]);const h=a.filter(v=>v.type==="SARPANCH"),f=a.filter(v=>v.type==="UPSARPANCH"),g=a.filter(v=>v.type==="MEMBER"),p=a.filter(v=>v.type==="STAFF");return c||s?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):t?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("section",{className:"relative bg-gradient-to-br from-orange-600 via-white to-green-600 py-20",children:[r.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm"}),r.jsx("div",{className:"container-custom relative z-10",children:r.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[r.jsxs("div",{className:"inline-flex items-center gap-3 mb-6 px-6 py-3 bg-gradient-to-r from-orange-600 to-green-600 rounded-full shadow-lg",children:[r.jsx(yl,{className:"text-white",size:28}),r.jsx("span",{className:"text-white font-bold text-xl",children:"Gram Panchayat"})]}),r.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-orange-600 to-green-600 bg-clip-text text-transparent",children:n("nav.panchayat")}),r.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:"Meet our elected representatives and dedicated office staff committed to serving our community"}),r.jsxs("div",{className:"mt-8 flex items-center justify-center gap-8 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-600 rounded-full"}),r.jsx("span",{children:"Saffron - Courage & Sacrifice"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full"}),r.jsx("span",{children:"Green - Growth & Prosperity"})]})]})]})})]}),r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(yl,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:"Office Information"}),r.jsx("p",{className:"text-gray-600",children:"Your gateway to local governance and public services"})]}),r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsx("div",{className:"bg-gradient-to-br from-orange-50 via-white to-green-50 rounded-2xl shadow-xl overflow-hidden border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-0",children:[r.jsxs("div",{className:"relative h-80 lg:h-auto",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-600/20 to-green-600/20"}),r.jsx("img",{src:t.officePhoto||"https://via.placeholder.com/600x400",alt:"Gram Panchayat Office",className:"w-full h-full object-cover"}),r.jsxs("div",{className:"absolute bottom-6 left-6 right-6 bg-white/90 backdrop-blur-sm rounded-lg p-4",children:[r.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Government of India"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Serving the community since establishment"})]})]}),r.jsxs("div",{className:"p-8 lg:p-12 space-y-6",children:[r.jsxs("div",{className:"flex gap-4 group",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-orange-600 to-orange-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(vl,{className:"text-white",size:24})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-lg mb-2 text-blue-900",children:"Office Address"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:e(t.contact.address)})]})]}),r.jsxs("div",{className:"flex gap-4 group",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-blue-900 to-blue-800 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(Qg,{className:"text-white",size:24})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-lg mb-2 text-blue-900",children:"Working Hours"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:e(t.officeTimings)})]})]}),r.jsxs("div",{className:"flex gap-4 group",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-green-600 to-green-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(Vo,{className:"text-white",size:24})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-lg mb-2 text-blue-900",children:"Contact Details"}),r.jsx("p",{className:"text-gray-700 mb-1",children:r.jsx("a",{href:`tel:${t.contact.phone}`,className:"hover:text-orange-600 transition-colors",children:t.contact.phone})}),r.jsx("p",{className:"text-gray-700",children:r.jsxs("a",{href:`mailto:${t.contact.email}`,className:"hover:text-orange-600 transition-colors flex items-center gap-2",children:[r.jsx($o,{size:16}),t.contact.email]})})]})]})]})]})})})]})}),h.length>0&&r.jsx("section",{className:"py-16 bg-gradient-to-br from-orange-50 via-white to-green-50",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(ou,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e(h[0].designation)}),r.jsx("p",{className:"text-gray-600",children:"Head of the Gram Panchayat"})]}),r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border-t-4 border-orange-600",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),r.jsx("div",{className:"p-8 md:p-12",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-orange-600 to-green-600 rounded-full opacity-20 blur-xl"}),r.jsx("div",{className:"relative w-56 h-56 rounded-full border-8 border-white shadow-2xl overflow-hidden bg-gradient-to-br from-orange-100 to-green-100 flex items-center justify-center",children:h[0].photo?r.jsx("img",{src:h[0].photo,alt:e(h[0].name),className:"w-full h-full object-cover"}):r.jsx(Yu,{size:140,className:"text-gray-400"})}),r.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-gradient-to-r from-orange-600 to-green-600 text-white px-6 py-2 rounded-full shadow-lg text-sm font-bold",children:"SARPANCH"})]}),r.jsxs("div",{className:"flex-1 text-center md:text-left space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-3xl font-bold text-blue-900 mb-2",children:e(h[0].name)}),r.jsx("p",{className:"text-xl text-orange-600 font-semibold mb-1",children:e(h[0].designation)})]}),r.jsxs("div",{className:"inline-flex items-center gap-3 bg-gradient-to-r from-orange-50 to-green-50 px-6 py-3 rounded-xl border border-orange-200",children:[r.jsx(Vo,{size:20,className:"text-orange-600"}),r.jsx("a",{href:`tel:${h[0].phone}`,className:"text-blue-900 hover:text-orange-600 transition-colors font-semibold",children:h[0].phone})]}),h[0].termStart&&r.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-1",children:"Current Term"}),r.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[new Date(h[0].termStart).getFullYear()," - ",new Date(h[0].termEnd).getFullYear()]})]}),r.jsx("div",{className:"pt-4 border-t border-gray-200",children:r.jsx("p",{className:"text-sm text-gray-600 italic leading-relaxed",children:'"Committed to the development and welfare of our village community"'})})]})]})})]})})]})}),f.length>0&&r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(ou,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e(f[0].designation)}),r.jsx("p",{className:"text-gray-600",children:"Vice-Head of the Gram Panchayat"})]}),r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 via-white to-green-50 rounded-2xl shadow-2xl overflow-hidden border-t-4 border-green-600",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-600 to-orange-600 h-2"}),r.jsx("div",{className:"p-8 md:p-12",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-green-600 to-orange-600 rounded-full opacity-20 blur-xl"}),r.jsx("div",{className:"relative w-56 h-56 rounded-full border-8 border-white shadow-2xl overflow-hidden bg-gradient-to-br from-green-100 to-orange-100 flex items-center justify-center",children:f[0].photo?r.jsx("img",{src:f[0].photo,alt:e(f[0].name),className:"w-full h-full object-cover"}):r.jsx(Yu,{size:140,className:"text-gray-400"})}),r.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-gradient-to-r from-green-600 to-orange-600 text-white px-6 py-2 rounded-full shadow-lg text-sm font-bold",children:"UP-SARPANCH"})]}),r.jsxs("div",{className:"flex-1 text-center md:text-left space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-3xl font-bold text-blue-900 mb-2",children:e(f[0].name)}),r.jsx("p",{className:"text-xl text-green-600 font-semibold mb-1",children:e(f[0].designation)})]}),r.jsxs("div",{className:"inline-flex items-center gap-3 bg-gradient-to-r from-green-50 to-orange-50 px-6 py-3 rounded-xl border border-green-200",children:[r.jsx(Vo,{size:20,className:"text-green-600"}),r.jsx("a",{href:`tel:${f[0].phone}`,className:"text-blue-900 hover:text-green-600 transition-colors font-semibold",children:f[0].phone})]}),f[0].termStart&&r.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-1",children:"Current Term"}),r.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[new Date(f[0].termStart).getFullYear()," - ",new Date(f[0].termEnd).getFullYear()]})]}),r.jsx("div",{className:"pt-4 border-t border-gray-200",children:r.jsx("p",{className:"text-sm text-gray-600 italic leading-relaxed",children:'"Supporting the vision of progress and prosperity for our community"'})})]})]})})]})})]})}),g.length>0&&r.jsx("section",{className:"py-16 bg-gradient-to-br from-orange-50 via-white to-green-50",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(Cs,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:"Gram Panchayat Members"}),r.jsx("p",{className:"text-gray-600",children:"Elected representatives serving our community"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:g.map((v,b)=>r.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-orange-600 hover:scale-105",children:[r.jsx("div",{className:"h-1 bg-gradient-to-r from-orange-600 to-green-600"}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"relative mb-6",children:[r.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-orange-600 to-green-600 rounded-full opacity-0 group-hover:opacity-20 blur-lg transition-opacity"}),r.jsx("div",{className:"relative w-32 h-32 mx-auto rounded-full border-4 border-white shadow-xl overflow-hidden bg-gradient-to-br from-orange-100 to-green-100 flex items-center justify-center",children:v.photo?r.jsx("img",{src:v.photo,alt:e(v.name),className:"w-full h-full object-cover"}):r.jsx(Yu,{size:80,className:"text-gray-400"})}),r.jsx("div",{className:"absolute -top-2 -right-2 w-10 h-10 bg-gradient-to-r from-orange-600 to-green-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:b+1})]}),r.jsxs("div",{className:"text-center space-y-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-1 group-hover:text-orange-600 transition-colors",children:e(v.name)}),r.jsx("p",{className:"text-orange-600 font-semibold text-sm",children:e(v.designation)})]}),r.jsx("div",{className:"pt-3 border-t border-gray-200",children:r.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-orange-50 to-green-50 px-4 py-2 rounded-lg border border-orange-200",children:[r.jsx(Vo,{size:16,className:"text-orange-600"}),r.jsx("a",{href:`tel:${v.phone}`,className:"text-blue-900 hover:text-orange-600 transition-colors text-sm font-medium",children:v.phone})]})})]})]})]},v.id))})]})}),p.length>0&&r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(yl,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:"Office Staff"}),r.jsx("p",{className:"text-gray-600",children:"Dedicated professionals serving the public"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:p.map((v,b)=>r.jsxs("div",{className:"group bg-gradient-to-br from-green-50 via-white to-orange-50 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-green-600 hover:scale-105",children:[r.jsx("div",{className:"h-1 bg-gradient-to-r from-green-600 to-orange-600"}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"relative mb-6",children:[r.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-green-600 to-orange-600 rounded-full opacity-0 group-hover:opacity-20 blur-lg transition-opacity"}),r.jsx("div",{className:"relative w-32 h-32 mx-auto rounded-full border-4 border-white shadow-xl overflow-hidden bg-gradient-to-br from-green-100 to-orange-100 flex items-center justify-center",children:v.photo?r.jsx("img",{src:v.photo,alt:e(v.name),className:"w-full h-full object-cover"}):r.jsx(Yu,{size:80,className:"text-gray-400"})}),r.jsx("div",{className:"absolute -top-2 -right-2 w-10 h-10 bg-gradient-to-r from-green-600 to-orange-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:b+1})]}),r.jsxs("div",{className:"text-center space-y-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-1 group-hover:text-green-600 transition-colors",children:e(v.name)}),r.jsx("p",{className:"text-green-600 font-semibold text-sm",children:e(v.designation)})]}),r.jsx("div",{className:"pt-3 border-t border-gray-200",children:r.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-green-50 to-orange-50 px-4 py-2 rounded-lg border border-green-200",children:[r.jsx(Vo,{size:16,className:"text-green-600"}),r.jsx("a",{href:`tel:${v.phone}`,className:"text-blue-900 hover:text-green-600 transition-colors text-sm font-medium",children:v.phone})]})})]})]})]},v.id))})]})})]}):null},_w=async()=>{try{const n=Et(Oe,$t.services()),e=Ir(n,Ki("name.en","asc")),t=await sr(e),s=[];return t.forEach(a=>{s.push({id:a.id,...a.data()})}),s}catch(n){throw console.error("Error fetching services:",n),n}},Lz=async n=>{try{const e=ut(Oe,$t.services(),n),t=await is(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){throw console.error("Error fetching service:",e),e}},Dz=async n=>{try{const e=Et(Oe,$t.services()),t=await ns(e,{...n,createdAt:xt.now(),updatedAt:xt.now()});return console.log("Service created successfully with ID:",t.id),t.id}catch(e){throw console.error("Error creating service:",e),e}},Mz=async(n,e)=>{try{const t=ut(Oe,$t.services(),n);return await ia(t,{...e,updatedAt:xt.now()}),console.log("Service updated successfully:",n),n}catch(t){throw console.error("Error updating service:",t),t}},Oz=async n=>{try{const e=ut(Oe,$t.services(),n);return await $i(e),console.log("Service deleted successfully:",n),!0}catch(e){throw console.error("Error deleting service:",e),e}},Fz=()=>{const{t:n,getContent:e}=Vr(),[t,s]=G.useState(""),[a,o]=G.useState("All"),[c,d]=G.useState([]),[h,f]=G.useState(!0);G.useEffect(()=>{(async()=>{try{f(!0);const b=await _w();d(Array.isArray(b)?b:[])}catch(b){console.error("Error loading services:",b),d([])}finally{f(!1)}})()},[]);const g=["All","Certificate","Tax","NOC","Other"],p=c.filter(v=>{const b=e(v.name).toLowerCase().includes(t.toLowerCase()),A=a==="All"||v.category===a;return b&&A});return h?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):r.jsxs("div",{children:[r.jsx("section",{className:"bg-gradient-to-r from-primary-600 to-primary-800 text-white py-16",children:r.jsxs("div",{className:"container-custom",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:n("nav.services")}),r.jsx("p",{className:"text-xl text-primary-100",children:"Explore various services provided by Gram Panchayat"})]})}),r.jsx("section",{className:"py-12",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"mb-8 flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:n("common.search"),value:t,onChange:v=>s(v.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:g.map(v=>r.jsx("button",{onClick:()=>o(v),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===v?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:v},v))})]}),c.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500 text-lg",children:n("common.language")==="en"?"No services have been added yet.":"     ."})}):p.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500 text-lg",children:n("common.noResults")})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.map(v=>r.jsxs("div",{className:"card p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:e(v.name)}),r.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 text-sm font-medium rounded-full",children:v.category})]}),r.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:e(v.description)}),r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Fees: "}),r.jsx("span",{className:"font-semibold text-gray-700",children:v.fees})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Time: "}),r.jsx("span",{className:"font-semibold text-gray-700",children:v.processingTime})]})]}),r.jsxs(sn,{to:`/services/${v.id}`,className:"mt-4 inline-flex items-center gap-1 text-primary-600 hover:text-primary-700 font-medium",children:[n("common.viewDetails"),r.jsx(jp,{size:16})]})]},v.id))})]})})]})},Sw=async()=>{try{const n=Et(Oe,$t.schemes()),e=Ir(n,Ki("name.en","asc")),t=await sr(e),s=[];return t.forEach(a=>{s.push({id:a.id,...a.data()})}),s}catch(n){throw console.error("Error fetching schemes:",n),n}},Uz=async n=>{try{const e=ut(Oe,$t.schemes(),n),t=await is(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){throw console.error("Error fetching scheme:",e),e}},Vz=async n=>{try{const e=Et(Oe,$t.schemes()),t=await ns(e,{...n,createdAt:xt.now(),updatedAt:xt.now()});return console.log("Scheme created successfully with ID:",t.id),t.id}catch(e){throw console.error("Error creating scheme:",e),e}},zz=async(n,e)=>{try{const t=ut(Oe,$t.schemes(),n);return await ia(t,{...e,updatedAt:xt.now()}),console.log("Scheme updated successfully:",n),n}catch(t){throw console.error("Error updating scheme:",t),t}},Bz=async n=>{try{const e=ut(Oe,$t.schemes(),n);return await $i(e),console.log("Scheme deleted successfully:",n),!0}catch(e){throw console.error("Error deleting scheme:",e),e}},qz=()=>{const{t:n,getContent:e}=Vr(),[t,s]=G.useState(""),[a,o]=G.useState("All"),[c,d]=G.useState("All"),[h,f]=G.useState([]),[g,p]=G.useState(!0);G.useEffect(()=>{(async()=>{try{p(!0);const j=await Sw();f(Array.isArray(j)?j:[])}catch(j){console.error("Error loading schemes:",j),f([])}finally{p(!1)}})()},[]);const v=["All","CENTRAL","STATE","LOCAL","OTHER"],b=["All","ACTIVE","CLOSED","UPCOMING"],A=h.filter(S=>{const j=e(S.name).toLowerCase().includes(t.toLowerCase()),E=a==="All"||S.category===a,L=c==="All"||S.status===c;return j&&E&&L});return g?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):r.jsxs("div",{children:[r.jsx("section",{className:"bg-gradient-to-r from-primary-600 to-primary-800 text-white py-16",children:r.jsxs("div",{className:"container-custom",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:n("nav.schemes")}),r.jsx("p",{className:"text-xl text-primary-100",children:"Government schemes and welfare programs for villagers"})]})}),r.jsx("section",{className:"py-12",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"mb-8 space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:n("common.search"),value:t,onChange:S=>s(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex gap-2 flex-wrap",children:v.map(S=>r.jsx("button",{onClick:()=>o(S),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===S?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:S},S))}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:b.map(S=>r.jsx("button",{onClick:()=>d(S),className:`px-4 py-2 rounded-lg font-medium transition-colors ${c===S?"bg-secondary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:S},S))})]})]}),h.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500 text-lg",children:n("common.language")==="en"?"No schemes have been added yet.":"     ."})}):A.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500 text-lg",children:n("common.noResults")})}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:A.map(S=>r.jsxs("div",{className:"card p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800 flex-1",children:e(S.name)}),r.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded-full",children:S.category}),r.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${S.status==="ACTIVE"?"bg-green-100 text-green-700":S.status==="CLOSED"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:S.status})]})]}),r.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:e(S.description)}),r.jsxs(sn,{to:`/schemes/${S.id}`,className:"inline-flex items-center gap-1 text-primary-600 hover:text-primary-700 font-medium",children:[n("common.viewDetails"),r.jsx(jp,{size:16})]})]},S.id))})]})})]})},Gz="forms",Ew=async()=>{try{const n=Et(Oe,$t.forms()),e=Ir(n,Ki("createdAt","desc")),t=await sr(e),s=[];return t.forEach(a=>{s.push({id:a.id,...a.data()})}),console.log(`Loaded ${s.length} forms from Firebase`),s}catch(n){throw console.error("Error loading forms:",n),n}},Hz=async n=>{try{const e=ut(Oe,$t.forms(),n),t=await is(e);if(t.exists())return{id:t.id,...t.data()};throw new Error("Form not found")}catch(e){throw console.error("Error loading form:",e),e}},zT=async(n,e,t=null)=>{try{if(n.type!=="application/pdf")throw new Error("Only PDF files are allowed");const s=10*1024*1024;if(n.size>s)throw new Error("File size must be less than 10MB");const a=`${Date.now()}_${n.name}`,o=fm(mm,`${Gz}/${e}/${a}`),c=oF(o,n);return new Promise((d,h)=>{c.on("state_changed",f=>{const g=f.bytesTransferred/f.totalBytes*100;console.log(`Upload progress: ${g}%`),t&&t(g)},f=>{console.error("Error uploading PDF:",f),h(f)},async()=>{const f=await Cy(c.snapshot.ref);console.log("PDF uploaded successfully:",f),d(f)})})}catch(s){throw console.error("Error in uploadPDF:",s),s}},BT=async n=>{try{if(!n){console.log("No file URL provided, skipping deletion");return}const e=n.split("/o/");if(e.length<2){console.warn("Invalid file URL format");return}const t=e[1],s=decodeURIComponent(t.split("?")[0]),a=fm(mm,s);await dT(a),console.log("PDF deleted from storage:",s)}catch(e){if(e.code==="storage/object-not-found")console.log("File already deleted or does not exist");else throw console.error("Error deleting PDF:",e),e}},$z=async(n,e,t=null)=>{try{const s=Et(Oe,$t.forms()),a={titleEn:n.titleEn||"",titleMr:n.titleMr||"",descriptionEn:n.descriptionEn||"",descriptionMr:n.descriptionMr||"",category:n.category||"General",language:n.language||"BOTH",fileUrl:"",fileName:e.name,fileSize:e.size,createdAt:Qt(),updatedAt:Qt()},o=await ns(s,a);console.log("Form document created with ID:",o.id);const c=await zT(e,o.id,t);return await ia(o,{fileUrl:c}),console.log("Form updated with file URL"),o.id}catch(s){throw console.error("Error creating form:",s),s}},Wz=async(n,e,t=null,s=null,a=null)=>{try{const o=ut(Oe,$t.forms(),n),c={titleEn:e.titleEn||"",titleMr:e.titleMr||"",descriptionEn:e.descriptionEn||"",descriptionMr:e.descriptionMr||"",category:e.category||"General",language:e.language||"BOTH",updatedAt:Qt()};if(t){s&&await BT(s);const d=await zT(t,n,a);c.fileUrl=d,c.fileName=t.name,c.fileSize=t.size}await ia(o,c),console.log("Form updated:",n)}catch(o){throw console.error("Error updating form:",o),o}},Kz=async(n,e)=>{try{e&&await BT(e);const t=ut(Oe,$t.forms(),n);await $i(t),console.log("Form deleted:",n)}catch(t){throw console.error("Error deleting form:",t),t}},Yz=()=>{const{language:n}=Vr(),[e,t]=G.useState([]),[s,a]=G.useState(""),[o,c]=G.useState("ALL"),[d,h]=G.useState(!0);G.useEffect(()=>{(async()=>{try{h(!0);const S=await Ew();console.log("Fetched forms:",S),console.log("First form data:",S[0]),t(S)}catch(S){console.error("Error loading forms:",S),t([])}finally{h(!1)}})()},[]);const f=["ALL",...new Set(e.map(A=>A.category))],g=e.filter(A=>{const S=A.titleEn&&A.titleEn.toLowerCase().includes(s.toLowerCase())||A.titleMr&&A.titleMr.toLowerCase().includes(s.toLowerCase()),j=o==="ALL"||A.category===o;return S&&j}),p=A=>({Certificate:"from-blue-500 to-blue-600 border-blue-400",APPLICATION:"from-green-500 to-green-600 border-green-400",Tax:"from-orange-500 to-orange-600 border-orange-400",LICENSE:"from-purple-500 to-purple-600 border-purple-400",OTHER:"from-gray-500 to-gray-600 border-gray-400"})[A]||"from-gray-500 to-gray-600 border-gray-400",v=A=>({Certificate:"",APPLICATION:"",Tax:"",LICENSE:"",OTHER:""})[A]||"",b=A=>{console.log("Download clicked for form:",A),console.log("File URL:",A.fileUrl),A.fileUrl&&A.fileUrl.trim()!==""?window.open(A.fileUrl,"_blank"):(console.error("File URL is missing or empty for form:",A.id),alert(n==="en"?"Download link not available. Please contact administrator.":"   .    ."))};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[r.jsxs("section",{className:"relative bg-gradient-to-br from-orange-600 via-white to-green-600 py-20 overflow-hidden",children:[r.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[r.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-10 right-10 w-40 h-40 bg-blue-900 rounded-full blur-3xl"})]}),r.jsx("div",{className:"container-custom relative z-10",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md px-6 py-3 rounded-full mb-6 border border-white/30 shadow-lg",children:[r.jsx(C4,{className:"text-blue-900",size:24}),r.jsx("span",{className:"text-blue-900 font-bold text-lg",children:n==="en"?"Document Center":" "})]}),r.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 text-blue-900 leading-tight",children:n==="en"?"Forms & Downloads":"  "}),r.jsx("p",{className:"text-xl md:text-2xl text-gray-700 mb-8 leading-relaxed",children:n==="en"?"Download application forms, certificates, and important documents with ease":" ,       "}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[r.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-orange-200",children:[r.jsx("div",{className:"text-3xl font-bold text-orange-600",children:e.length}),r.jsx("div",{className:"text-sm text-gray-600 font-medium",children:n==="en"?"Total Forms":" "})]}),r.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-green-200",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600",children:f.length-1}),r.jsx("div",{className:"text-sm text-gray-600 font-medium",children:n==="en"?"Categories":""})]}),r.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-blue-200 col-span-2 md:col-span-1",children:[r.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"24/7"}),r.jsx("div",{className:"text-sm text-gray-600 font-medium",children:n==="en"?"Available":""})]})]})]})}),r.jsx("div",{className:"absolute bottom-0 left-0 w-full",children:r.jsx("svg",{viewBox:"0 0 1440 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{d:"M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z",fill:"white"})})})]}),r.jsx("section",{className:"py-8 -mt-12 relative z-20",children:r.jsx("div",{className:"container-custom",children:r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl border-t-4 border-orange-600",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"relative group",children:[r.jsx(za,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-orange-500 group-focus-within:text-orange-600 transition-colors",size:22}),r.jsx("input",{type:"text",placeholder:n==="en"?"Search forms by name...":"  ...",value:s,onChange:A=>a(A.target.value),className:"w-full pl-12 pr-4 py-4 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all text-gray-700 font-medium"})]}),r.jsxs("div",{className:"relative group",children:[r.jsx(ky,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-green-600 group-focus-within:text-green-700 transition-colors z-10",size:22}),r.jsx("select",{value:o,onChange:A=>c(A.target.value),className:"w-full pl-12 pr-4 py-4 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-green-600 focus:ring-2 focus:ring-green-200 appearance-none bg-white transition-all text-gray-700 font-medium cursor-pointer",children:f.map(A=>r.jsx("option",{value:A,children:A==="ALL"?n==="en"?" All Categories":"  ":`${v(A)} ${A}`},A))}),r.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:r.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),s||o!=="ALL"?r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:r.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[r.jsx(Bs,{size:16,className:"text-orange-500"}),r.jsx("span",{children:n==="en"?`Found ${g.length} form${g.length!==1?"s":""}`:`${g.length}  `})]})}):null]})})}),r.jsx("section",{className:"py-12",children:r.jsxs("div",{className:"container-custom",children:[d?r.jsxs("div",{className:"flex flex-col justify-center items-center py-20",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-b-4 border-t-4 border-orange-600"}),r.jsx(mr,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-orange-600",size:32})]}),r.jsx("p",{className:"text-gray-600 font-semibold mt-6 text-lg",children:n==="en"?"Loading forms...":"   ..."})]}):g.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:g.map((A,S)=>r.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-lg border-t-4 border-orange-600 overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2",style:{animationDelay:`${S*50}ms`},children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-orange-100 to-green-100 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),r.jsx("div",{className:"relative bg-gradient-to-r from-blue-900 to-blue-800 p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"p-4 bg-white/20 backdrop-blur-sm rounded-xl shadow-lg group-hover:scale-110 transition-transform duration-300",children:r.jsx(mr,{className:"text-white",size:32})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-white text-lg leading-tight mb-2 line-clamp-2",children:n==="en"?A.titleEn:A.titleMr||A.titleEn}),r.jsx("div",{className:"inline-flex items-center gap-2",children:r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r ${p(A.category)} text-white shadow-md border-2`,children:[v(A.category)," ",A.category]})})]})]})}),r.jsxs("div",{className:"relative p-6 space-y-4",children:[r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-3 min-h-[60px]",children:n==="en"?A.descriptionEn:A.descriptionMr||A.descriptionEn}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[A.language&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-semibold bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-md",children:[r.jsx(Pf,{size:14}),A.language]}),A.createdAt&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-semibold bg-gray-100 text-gray-700 border border-gray-300",children:[r.jsx(ss,{size:14}),(()=>{try{return(A.createdAt?.toDate?A.createdAt.toDate():new Date(A.createdAt)).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}catch{return"Recent"}})()]})]}),r.jsxs("button",{onClick:()=>b(A),className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-xl hover:from-orange-700 hover:to-orange-600 transition-all shadow-lg hover:shadow-xl font-bold text-sm group-hover:scale-105 transform duration-300",children:[r.jsx(Go,{size:20,className:"animate-bounce"}),r.jsx("span",{children:n==="en"?"Download Form":"  "}),r.jsx(zc,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]}),A.fileName&&r.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-gray-100 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-600 flex-1 min-w-0",children:[r.jsx(HU,{size:14,className:"flex-shrink-0 text-blue-600"}),r.jsx("span",{className:"truncate font-medium",children:A.fileName})]}),A.fileSize&&r.jsxs("span",{className:"ml-3 text-gray-500 font-semibold bg-white px-2 py-1 rounded-md border border-gray-300",children:[(A.fileSize/1024).toFixed(1)," KB"]})]})}),r.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:r.jsx(Bs,{className:"text-yellow-400",size:24})})]},A.id))}):r.jsxs("div",{className:"text-center py-20",children:[r.jsx("div",{className:"inline-block p-8 bg-gradient-to-br from-orange-50 to-green-50 rounded-full mb-6 border-4 border-orange-200",children:r.jsx(C4,{size:80,className:"text-orange-600"})}),r.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-3",children:n==="en"?"No Forms Available":"   "}),r.jsx("p",{className:"text-gray-600 text-lg max-w-md mx-auto",children:n==="en"?"Forms and documents will be displayed here once they are uploaded by the admin.":"         ."})]}),g.length>0&&r.jsxs("div",{className:"mt-16 bg-gradient-to-br from-blue-50 via-white to-green-50 border-2 border-blue-300 rounded-2xl p-8 shadow-xl",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl shadow-lg",children:r.jsx(P2,{className:"text-white",size:28})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2",children:n==="en"?"How to Download & Submit Forms":"     "}),r.jsx("p",{className:"text-gray-600",children:n==="en"?"Follow these simple steps to complete your application":"        "})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"relative bg-white rounded-xl p-6 shadow-md border-t-4 border-orange-600 hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"absolute -top-4 left-6 w-12 h-12 bg-gradient-to-br from-orange-600 to-orange-700 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:"1"}),r.jsxs("div",{className:"mt-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(Go,{className:"text-orange-600",size:24}),r.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:n==="en"?"Download":""})]}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n==="en"?'Click the "Download Form" button to get the PDF file on your device':'  PDF   "  "   '})]})]}),r.jsxs("div",{className:"relative bg-white rounded-xl p-6 shadow-md border-t-4 border-green-600 hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"absolute -top-4 left-6 w-12 h-12 bg-gradient-to-br from-green-600 to-green-700 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:"2"}),r.jsxs("div",{className:"mt-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(BU,{className:"text-green-600",size:24}),r.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:n==="en"?"Fill Form":" "})]}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n==="en"?"Complete all required fields accurately and attach necessary documents":"         "})]})]}),r.jsxs("div",{className:"relative bg-white rounded-xl p-6 shadow-md border-t-4 border-blue-600 hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"absolute -top-4 left-6 w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:"3"}),r.jsxs("div",{className:"mt-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(Yi,{className:"text-blue-600",size:24}),r.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:n==="en"?"Submit":" "})]}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n==="en"?"Submit the completed form at the Gram Panchayat office during working hours":"        "})]})]})]}),r.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-lg",children:r.jsxs("p",{className:"text-sm text-yellow-800 flex items-start gap-2",children:[r.jsx(P2,{size:18,className:"flex-shrink-0 mt-0.5"}),r.jsx("span",{children:n==="en"?"For any assistance, please contact the Gram Panchayat office during working hours or call our helpline.":" ,            ."})]})})]})]})})]})},Xz=()=>{const{t:n,language:e}=Vr(),[t,s]=G.useState(null),[a,o]=G.useState(!0);return G.useEffect(()=>{(async()=>{try{o(!0);const d=await UT();s(d)}catch(d){console.error("Error loading education content:",d),s(null)}finally{o(!1)}})()},[]),a?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#ff6b00]"})}):t?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("section",{className:"relative bg-gradient-to-br from-orange-600 via-white to-green-600 py-20",children:[r.jsx("div",{className:"absolute inset-0 bg-white/85 backdrop-blur-sm"}),r.jsx("div",{className:"container-custom relative z-10",children:r.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[r.jsxs("div",{className:"inline-flex items-center gap-3 mb-6 px-6 py-3 bg-gradient-to-r from-orange-600 to-green-600 rounded-full shadow-lg",children:[r.jsx(I4,{className:"text-white",size:32}),r.jsx("span",{className:"text-white font-bold text-xl",children:e==="en"?"Education":""})]}),r.jsx("h1",{className:"text-5xl font-bold mb-6 bg-gradient-to-r from-orange-600 to-green-600 bg-clip-text text-transparent",children:n("nav.education")}),r.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:e==="en"?t.description.en:t.description.mr}),r.jsxs("div",{className:"mt-8 flex items-center justify-center gap-8 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-600 rounded-full"}),r.jsx("span",{children:e==="en"?"Knowledge & Wisdom":"  "})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full"}),r.jsx("span",{children:e==="en"?"Growth & Progress":"  "})]})]})]})})]}),r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(th,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e==="en"?"Education at a Glance":"  "}),r.jsx("p",{className:"text-gray-600",children:"Key metrics and achievements in education"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"group bg-gradient-to-br from-blue-50 to-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all border-t-4 border-blue-600 hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(ou,{className:"text-white",size:32})}),r.jsx(Bs,{className:"text-blue-300",size:24})]}),r.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:t.stats.literacyRate}),r.jsx("div",{className:"text-gray-700 font-semibold",children:e==="en"?"Literacy Rate":" "})]}),r.jsxs("div",{className:"group bg-gradient-to-br from-green-50 to-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all border-t-4 border-green-600 hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-600 to-green-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(Cs,{className:"text-white",size:32})}),r.jsx(Bs,{className:"text-green-300",size:24})]}),r.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:t.stats.totalStudents}),r.jsx("div",{className:"text-gray-700 font-semibold",children:e==="en"?"Total Students":" "})]}),r.jsxs("div",{className:"group bg-gradient-to-br from-orange-50 to-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all border-t-4 border-orange-600 hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-600 to-orange-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(I4,{className:"text-white",size:32})}),r.jsx(Bs,{className:"text-orange-300",size:24})]}),r.jsx("div",{className:"text-4xl font-bold text-orange-600 mb-2",children:t.stats.totalTeachers}),r.jsx("div",{className:"text-gray-700 font-semibold",children:e==="en"?"Total Teachers":" "})]}),r.jsxs("div",{className:"group bg-gradient-to-br from-purple-50 to-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all border-t-4 border-purple-600 hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-purple-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(PT,{className:"text-white",size:32})}),r.jsx(Bs,{className:"text-purple-300",size:24})]}),r.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:t.stats.schoolDropoutRate}),r.jsx("div",{className:"text-gray-700 font-semibold",children:e==="en"?"Dropout Rate":"  "})]})]})]})}),t.schools.length>0&&r.jsx("section",{className:"py-16 bg-gradient-to-br from-orange-50 via-white to-green-50",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(D2,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e==="en"?"Our Schools":" "}),r.jsx("p",{className:"text-gray-600",children:"Centers of excellence nurturing young minds"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.schools.map((c,d)=>r.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all overflow-hidden border-t-4 border-orange-600 hover:scale-105",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2 group-hover:text-orange-600 transition-colors",children:e==="en"?c.name.en:c.name.mr}),r.jsx("span",{className:"inline-block px-4 py-1 bg-gradient-to-r from-orange-100 to-green-100 text-orange-700 rounded-full text-sm font-semibold",children:e==="en"?c.type.en:c.type.mr})]}),r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:d+1})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-xl text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:c.students}),r.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:e==="en"?"Students":""})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-xl text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:c.teachers}),r.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:e==="en"?"Teachers":""})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-xl text-center",children:[r.jsx("div",{className:"text-lg font-bold text-orange-600 mb-1",children:c.classes}),r.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:e==="en"?"Classes":""})]})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:e==="en"?c.description.en:c.description.mr}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-green-50 p-6 rounded-xl border border-orange-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(ou,{className:"text-orange-600",size:20}),r.jsx("div",{className:"text-sm font-bold text-blue-900",children:e==="en"?"Facilities & Amenities":"  "})]}),r.jsx("div",{className:"text-sm text-gray-700 leading-relaxed",children:e==="en"?c.facilities.en:c.facilities.mr})]})]})]},c.id))})]})}),t.anganwadis.length>0&&r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(I2,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e==="en"?"Anganwadi Centers":""}),r.jsx("p",{className:"text-gray-600",children:"Early childhood care and development"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.anganwadis.map((c,d)=>r.jsxs("div",{className:"group bg-gradient-to-br from-green-50 via-white to-orange-50 rounded-2xl shadow-xl hover:shadow-2xl transition-all overflow-hidden border-t-4 border-green-600 hover:scale-105",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-600 to-orange-600 h-2"}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2 group-hover:text-green-600 transition-colors",children:e==="en"?c.name.en:c.name.mr}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),r.jsx("span",{className:"font-semibold",children:e==="en"?c.location.en:c.location.mr})]})]}),r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-600 to-orange-600 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:d+1})]}),r.jsx("div",{className:"bg-gradient-to-br from-green-100 to-orange-100 p-6 rounded-xl mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600 mb-1",children:c.children}),r.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:e==="en"?"Children":""})]}),r.jsx("div",{className:"w-px h-12 bg-gray-300"}),r.jsxs("div",{className:"text-center px-4",children:[r.jsx(I2,{className:"mx-auto text-orange-600 mb-1",size:28}),r.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:e==="en"?"Age 0-6":" -"})]})]})}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 bg-white p-3 rounded-lg border border-green-200",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-600 to-green-700 rounded-full flex items-center justify-center",children:r.jsx(Cs,{className:"text-white",size:20})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 font-semibold",children:e==="en"?"Worker":""}),r.jsx("div",{className:"text-sm font-bold text-gray-800",children:e==="en"?c.worker.en:c.worker.mr})]})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-white p-3 rounded-lg border border-orange-200",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-600 to-orange-700 rounded-full flex items-center justify-center",children:r.jsx(Cs,{className:"text-white",size:20})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 font-semibold",children:e==="en"?"Helper":""}),r.jsx("div",{className:"text-sm font-bold text-gray-800",children:e==="en"?c.helper.en:c.helper.mr})]})]})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:e==="en"?c.description.en:c.description.mr}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-orange-50 p-6 rounded-xl border border-green-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(ou,{className:"text-green-600",size:20}),r.jsx("div",{className:"text-sm font-bold text-blue-900",children:e==="en"?"Services Provided":"  "})]}),r.jsx("div",{className:"text-sm text-gray-700 leading-relaxed",children:e==="en"?c.services.en:c.services.mr})]})]})]},c.id))})]})}),t.programs.length>0&&r.jsx("section",{className:"py-16 bg-gradient-to-br from-orange-50 via-white to-green-50",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(Xg,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:e==="en"?"Educational Programs":" "}),r.jsx("p",{className:"text-gray-600",children:"Empowering communities through learning initiatives"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.programs.map((c,d)=>r.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all overflow-hidden border-t-4 border-blue-600 hover:scale-105",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 h-2"}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(Xg,{className:"text-white",size:24})}),r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:d+1})]}),r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4 group-hover:text-blue-600 transition-colors leading-snug",children:e==="en"?c.name.en:c.name.mr}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:e==="en"?c.description.en:c.description.mr}),r.jsxs("div",{className:"space-y-3",children:[c.timing&&r.jsxs("div",{className:"flex items-start gap-3 bg-gradient-to-r from-blue-50 to-purple-50 p-3 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 font-semibold mb-1",children:e==="en"?"Timing":""}),r.jsx("div",{className:"text-sm text-gray-800 font-medium",children:e==="en"?c.timing.en:c.timing.mr})]})]}),c.participants&&r.jsxs("div",{className:"flex items-start gap-3 bg-gradient-to-r from-green-50 to-orange-50 p-3 rounded-lg border border-green-200",children:[r.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full mt-2"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 font-semibold mb-1",children:e==="en"?"Participants":""}),r.jsx("div",{className:"text-sm text-gray-800 font-medium",children:c.participants})]})]}),c.beneficiaries&&r.jsxs("div",{className:"flex items-start gap-3 bg-gradient-to-r from-green-50 to-orange-50 p-3 rounded-lg border border-green-200",children:[r.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full mt-2"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 font-semibold mb-1",children:e==="en"?"Beneficiaries":""}),r.jsx("div",{className:"text-sm text-gray-800 font-medium",children:c.beneficiaries})]})]}),c.coordinator&&r.jsxs("div",{className:"flex items-start gap-3 bg-gradient-to-r from-orange-50 to-purple-50 p-3 rounded-lg border border-orange-200",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-600 rounded-full mt-2"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 font-semibold mb-1",children:e==="en"?"Coordinator":""}),r.jsx("div",{className:"text-sm text-gray-800 font-medium",children:e==="en"?c.coordinator.en:c.coordinator.mr})]})]})]})]})]},c.id))})]})})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-16",children:r.jsxs("div",{className:"container-custom text-center",children:[r.jsx(D2,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:e==="en"?"No Education Data Available":"   "}),r.jsx("p",{className:"text-gray-600",children:e==="en"?"Education information has not been added yet.":"     ."})]})})},Aw=async()=>{try{const n=Ir(Et(Oe,$t.gallery()),Ki("date","desc"));return(await sr(n)).docs.map(t=>({id:t.id,...t.data(),date:t.data().date?.toDate?.()||new Date(t.data().date),createdAt:t.data().createdAt?.toDate?.()||new Date,updatedAt:t.data().updatedAt?.toDate?.()||new Date}))}catch(n){throw console.error("Error getting gallery programs:",n),new Error("Failed to fetch gallery programs")}},qT=async n=>{try{const e=ut(Oe,$t.gallery(),n),t=await is(e);if(!t.exists())throw new Error("Program not found");return{id:t.id,...t.data(),date:t.data().date?.toDate?.()||new Date(t.data().date),createdAt:t.data().createdAt?.toDate?.()||new Date,updatedAt:t.data().updatedAt?.toDate?.()||new Date}}catch(e){throw console.error("Error getting program:",e),new Error("Failed to fetch program")}},Qz=async(n,e=[])=>{try{let t=[];if(e&&e.length>0){const o=`gallery/${Date.now()}`;t=await VT(e,o)}const s={titleEn:n.titleEn||"",titleMr:n.titleMr||"",descriptionEn:n.descriptionEn||"",descriptionMr:n.descriptionMr||"",date:xt.fromDate(new Date(n.date)),images:t,youtubeLink:n.youtubeLink||"",createdAt:Qt(),updatedAt:Qt()};return{id:(await ns(Et(Oe,$t.gallery()),s)).id,...s,date:new Date(n.date),createdAt:new Date,updatedAt:new Date}}catch(t){throw console.error("Error creating program:",t),new Error("Failed to create gallery program")}},Jz=async(n,e,t=[],s=[])=>{try{const a=ut(Oe,$t.gallery(),n);let o=[];if(t&&t.length>0){const h=`gallery/${n}`;o=await VT(t,h)}const c=[...s,...o],d={titleEn:e.titleEn||"",titleMr:e.titleMr||"",descriptionEn:e.descriptionEn||"",descriptionMr:e.descriptionMr||"",date:xt.fromDate(new Date(e.date)),images:c,youtubeLink:e.youtubeLink||"",updatedAt:Qt()};return await ia(a,d),{id:n,...d,date:new Date(e.date),updatedAt:new Date}}catch(a){throw console.error("Error updating program:",a),new Error("Failed to update gallery program")}},Zz=async n=>{try{const e=await qT(n);e.images&&e.images.length>0&&await Promise.all(e.images.map(t=>qc(t).catch(s=>{console.warn("Failed to delete image:",t,s)}))),await $i(ut(Oe,$t.gallery(),n))}catch(e){throw console.error("Error deleting program:",e),new Error("Failed to delete gallery program")}},y1=n=>{if(!n)return null;n=n.trim();const e=[/(?:youtube\.com\/watch\?v=)([^&\s]+)/,/(?:youtube\.com\/embed\/)([^?&\s]+)/,/(?:youtube\.com\/v\/)([^?&\s]+)/,/(?:youtu\.be\/)([^?&\s]+)/,/(?:youtube\.com\/watch\?.*&v=)([^&\s]+)/];for(const t of e){const s=n.match(t);if(s&&s[1])return s[1]}return null},eB=n=>`https://www.youtube.com/embed/${n}?rel=0&modestbranding=1`,tB=(n,e="hqdefault")=>`https://img.youtube.com/vi/${n}/${e}.jpg`,nB=()=>{const{language:n}=Vr(),[e,t]=G.useState([]),[s,a]=G.useState(!0),[o,c]=G.useState(null),[d,h]=G.useState(0),[f,g]=G.useState(0);G.useEffect(()=>{p()},[]);const p=async()=>{try{a(!0);const D=(await Aw()).sort((ee,te)=>new Date(te.date)-new Date(ee.date));t(D)}catch(O){console.error("Error loading gallery programs:",O),t([])}finally{a(!1)}},v=O=>new Date(O).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),b=(O,D)=>{c(O),h(D),g(0)},A=()=>{c(null),g(0)},S=()=>{if(!o)return;const O=E(o),D=f===0?O-1:f-1;g(D)},j=()=>{if(!o)return;const O=E(o),D=f===O-1?0:f+1;g(D)},E=O=>{const D=O.images&&O.images.length>0?O.images.length:0,ee=O.youtubeLink&&y1(O.youtubeLink)?1:0;return D+ee},L=(O,D)=>{if(!O)return!1;const ee=O.images&&O.images.length>0?O.images.length:0;return D>=ee};return G.useEffect(()=>{const O=D=>{if(!o)return;const ee=E(o);D.key==="ArrowLeft"&&ee>1&&S(),D.key==="ArrowRight"&&ee>1&&j(),D.key==="Escape"&&A()};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[o,d,f]),r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("section",{className:"relative bg-gradient-to-br from-orange-600 via-white to-green-600 py-20",children:[r.jsx("div",{className:"absolute inset-0 bg-white/85 backdrop-blur-sm"}),r.jsx("div",{className:"container-custom relative z-10",children:r.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[r.jsxs("div",{className:"inline-flex items-center gap-3 mb-6 px-6 py-3 bg-gradient-to-r from-orange-600 to-green-600 rounded-full shadow-lg",children:[r.jsx(A4,{className:"text-white",size:32}),r.jsx("span",{className:"text-white font-bold text-xl",children:n==="en"?"Photo Gallery":" "})]}),r.jsx("h1",{className:"text-5xl font-bold mb-6 bg-gradient-to-r from-orange-600 to-green-600 bg-clip-text text-transparent",children:n==="en"?"Visual Chronicles":" "}),r.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:n==="en"?"Capturing moments of progress, celebration, and community spirit in our village":"  ,      "}),r.jsxs("div",{className:"mt-8 flex items-center justify-center gap-8 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-600 rounded-full"}),r.jsx("span",{children:n==="en"?"Events & Programs":"  "})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full"}),r.jsx("span",{children:n==="en"?"Development Activities":" "})]})]})]})})]}),r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(_r,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:n==="en"?"Programs & Events":"  "}),r.jsx("p",{className:"text-gray-600",children:n==="en"?"Browse through our collection of memorable moments":"    "})]}),s?r.jsxs("div",{className:"flex flex-col justify-center items-center py-16",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-orange-600 mb-4"}),r.jsx("p",{className:"text-gray-600 font-semibold",children:n==="en"?"Loading gallery...":"   ..."})]}):e.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((O,D)=>{const ee=O.youtubeLink?y1(O.youtubeLink):null,te=ee!==null,H=O.images&&O.images.length>0,M=te?tB(ee,"hqdefault"):H?O.images[0]:"https://via.placeholder.com/400x300?text=No+Media",I=(H?O.images.length:0)+(te?1:0);return r.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl overflow-hidden cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-2xl border-t-4 border-orange-600",onClick:()=>b(O,D),children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),r.jsxs("div",{className:"relative h-64 overflow-hidden bg-gradient-to-br from-orange-100 to-green-100",children:[r.jsx("img",{src:M,alt:n==="en"?O.titleEn:O.titleMr,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:U=>{U.target.src="https://via.placeholder.com/400x300?text=No+Media"}}),te&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:r.jsx("div",{className:"w-20 h-20 bg-red-600/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-2xl transform transition-transform group-hover:scale-110",children:r.jsx("div",{className:"w-0 h-0 border-t-8 border-t-transparent border-l-12 border-l-white border-b-8 border-b-transparent ml-1"})})}),I>1&&r.jsx("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-orange-600 to-green-600 text-white px-4 py-2 rounded-full text-sm font-bold flex items-center gap-2 shadow-lg",children:H&&te?r.jsxs(r.Fragment,{children:[r.jsx(_r,{size:16}),r.jsx("span",{children:O.images.length}),r.jsx(O2,{size:16}),r.jsx("span",{children:"1"})]}):H?r.jsxs(r.Fragment,{children:[r.jsx(_r,{size:16}),r.jsxs("span",{children:[O.images.length," ",n==="en"?"Photos":""]})]}):null}),r.jsx("div",{className:"absolute top-4 left-4 w-12 h-12 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center text-blue-900 font-bold text-lg shadow-lg",children:D+1}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center",children:r.jsxs("div",{className:"text-white text-center p-6 transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:[r.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(ai,{size:32})}),r.jsx("p",{className:"font-bold text-lg",children:n==="en"?"View Gallery":" "}),I>0&&r.jsxs("p",{className:"text-sm text-white/80 mt-1",children:[H&&`${O.images.length} ${n==="en"?"photos":""}`,H&&te&&" + ",te&&`1 ${n==="en"?"video":""}`]})]})})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("h3",{className:"font-bold text-xl text-blue-900 mb-2 line-clamp-2 flex-1 group-hover:text-orange-600 transition-colors",children:n==="en"?O.titleEn:O.titleMr||O.titleEn}),r.jsx(Bs,{className:"text-orange-500 flex-shrink-0 ml-2",size:20})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed",children:n==="en"?O.descriptionEn:O.descriptionMr||O.descriptionEn}),r.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-orange-50 to-green-50 px-4 py-2 rounded-lg border border-orange-200",children:[r.jsx(ss,{size:16,className:"text-orange-600"}),r.jsx("span",{className:"text-sm font-semibold text-gray-700",children:v(O.date)})]})]})]},O.id)})}):r.jsxs("div",{className:"text-center py-16 bg-gradient-to-br from-orange-50 to-green-50 rounded-2xl border-2 border-dashed border-orange-300",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-orange-100 to-green-100 rounded-full mb-6",children:r.jsx(_r,{size:48,className:"text-orange-600"})}),r.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-3",children:n==="en"?"No Photos Available":"   "}),r.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:n==="en"?"Photos and programs will be displayed here once they are uploaded by the admin.":"         ."})]})]})}),o&&r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-hidden",onClick:A,children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/95 via-blue-900/80 to-black/95 backdrop-blur-sm"}),r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-orange-600/10 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-green-600/10 rounded-full blur-3xl"}),r.jsxs("div",{className:"relative max-w-7xl w-full max-h-[95vh] flex flex-col z-10",onClick:O=>O.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 bg-white/10 backdrop-blur-md rounded-2xl px-6 py-4 border border-white/20",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(A4,{size:24,className:"text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-white font-bold text-xl",children:n==="en"?"Photo Gallery":" "}),r.jsx("p",{className:"text-white/70 text-sm",children:n==="en"?o.titleEn:o.titleMr||o.titleEn})]})]}),r.jsx("button",{onClick:A,className:"w-12 h-12 bg-white/10 hover:bg-red-600 backdrop-blur-sm text-white rounded-full flex items-center justify-center transition-all shadow-lg hover:shadow-red-500/50 hover:scale-110","aria-label":"Close",children:r.jsx(Ss,{size:24})})]}),E(o)>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:O=>{O.stopPropagation(),S()},className:"absolute left-4 top-1/2 -translate-y-1/2 w-14 h-14 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 backdrop-blur-sm text-white rounded-full flex items-center justify-center transition-all z-20 shadow-xl hover:scale-110","aria-label":"Previous Media",children:r.jsx(CT,{size:32})}),r.jsx("button",{onClick:O=>{O.stopPropagation(),j()},className:"absolute right-4 top-1/2 -translate-y-1/2 w-14 h-14 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 backdrop-blur-sm text-white rounded-full flex items-center justify-center transition-all z-20 shadow-xl hover:scale-110","aria-label":"Next Media",children:r.jsx(jp,{size:32})})]}),r.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-black/50 to-blue-900/30 backdrop-blur-md rounded-2xl mb-4 p-8 border border-white/20 shadow-2xl overflow-hidden",children:r.jsx("div",{className:"relative w-full",children:L(o,f)?r.jsxs("div",{className:"w-full max-w-5xl mx-auto",children:[r.jsxs("div",{className:"relative pb-[56.25%]",children:[" ",r.jsx("iframe",{src:eB(y1(o.youtubeLink)),title:`${n==="en"?o.titleEn:o.titleMr} - YouTube Video`,className:"absolute top-0 left-0 w-full h-full rounded-xl shadow-2xl",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]}),r.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-red-600 to-red-700 text-white px-5 py-2 rounded-full font-bold text-lg shadow-xl flex items-center gap-2",children:[r.jsx(O2,{size:20}),r.jsx("span",{children:n==="en"?"YouTube Video":"YouTube "})]})]}):r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("img",{src:o.images[f],alt:`${n==="en"?o.titleEn:o.titleMr} - Image ${f+1}`,className:"max-w-full max-h-[60vh] object-contain rounded-xl shadow-2xl",onError:O=>{O.target.src="https://via.placeholder.com/800x600?text=No+Image"}}),o.images&&o.images.length>0&&r.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-orange-600 to-green-600 text-white px-5 py-2 rounded-full font-bold text-lg shadow-xl flex items-center gap-2",children:[r.jsx(_r,{size:20}),r.jsxs("span",{children:[f+1," / ",o.images.length]})]})]})})}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl p-6 text-white border border-white/20 shadow-2xl",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600/20 to-green-600/20 h-1 rounded-full mb-6"}),r.jsx("div",{className:"flex justify-between items-start mb-6",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(Bs,{size:20,className:"text-white"})}),r.jsx("h3",{className:"text-2xl font-bold text-white",children:n==="en"?o.titleEn:o.titleMr||o.titleEn})]}),r.jsx("p",{className:"text-white/80 mb-4 leading-relaxed pl-13",children:n==="en"?o.descriptionEn:o.descriptionMr||o.descriptionEn}),r.jsxs("div",{className:"flex items-center gap-3 bg-white/10 backdrop-blur-sm px-4 py-3 rounded-xl border border-white/20 w-fit",children:[r.jsx(ss,{size:20,className:"text-orange-400"}),r.jsx("span",{className:"font-semibold",children:v(o.date)})]})]})}),o.images.length>1&&r.jsxs("div",{className:"border-t border-white/20 pt-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center",children:r.jsx(_r,{size:16,className:"text-white"})}),r.jsx("h4",{className:"font-bold text-white",children:n==="en"?"All Photos":" "}),r.jsxs("span",{className:"text-white/60 text-sm",children:["(",o.images.length,")"]})]}),r.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-orange-600 scrollbar-track-white/10",children:o.images.map((O,D)=>r.jsxs("button",{onClick:ee=>{ee.stopPropagation(),g(D)},className:`relative flex-shrink-0 w-24 h-24 rounded-xl overflow-hidden transition-all group ${D===f?"ring-4 ring-orange-500 scale-110 shadow-xl shadow-orange-500/50":"ring-2 ring-white/30 hover:ring-white/60 hover:scale-105"}`,children:[r.jsx("img",{src:O,alt:`Thumbnail ${D+1}`,className:"w-full h-full object-cover",onError:ee=>{ee.target.src="https://via.placeholder.com/80x80?text=No+Image"}}),D===f&&r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-orange-600/50 to-transparent flex items-end justify-center pb-1",children:r.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-lg",children:r.jsx(ai,{size:14,className:"text-orange-600"})})}),r.jsx("div",{className:"absolute top-1 right-1 w-6 h-6 bg-black/70 backdrop-blur-sm rounded-full flex items-center justify-center text-white text-xs font-bold",children:D+1})]},D))})]})]}),r.jsxs("div",{className:"mt-3 flex items-center justify-center gap-6 text-white/50 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("kbd",{className:"px-2 py-1 bg-white/10 rounded border border-white/20",children:""}),r.jsx("span",{children:n==="en"?"Previous":""})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("kbd",{className:"px-2 py-1 bg-white/10 rounded border border-white/20",children:""}),r.jsx("span",{children:n==="en"?"Next":""})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("kbd",{className:"px-2 py-1 bg-white/10 rounded border border-white/20",children:"ESC"}),r.jsx("span",{children:n==="en"?"Close":" "})]})]})]})]})]})},GT=Et(Oe,$t.financials()),HT=async()=>{try{const n=Ir(GT,Ki("transactionDate","desc")),e=await sr(n),t=[];return e.forEach(s=>{const a=s.data();t.push({id:s.id,...a,transactionDate:a.transactionDate?.toDate?.()?.toISOString?.()||a.transactionDate,createdAt:a.createdAt?.toDate?.()?.toISOString?.()||a.createdAt,updatedAt:a.updatedAt?.toDate?.()?.toISOString?.()||a.updatedAt})}),t}catch(n){throw console.error("Error fetching financial records:",n),new Error("Failed to fetch financial records")}},rB=async n=>{try{const e=ut(Oe,$t.financials(),n),t=await is(e);if(t.exists()){const s=t.data();return{id:t.id,...s,transactionDate:s.transactionDate?.toDate?.()?.toISOString?.()||s.transactionDate,createdAt:s.createdAt?.toDate?.()?.toISOString?.()||s.createdAt,updatedAt:s.updatedAt?.toDate?.()?.toISOString?.()||s.updatedAt}}else throw new Error("Record not found")}catch(e){throw console.error("Error fetching record:",e),new Error("Failed to fetch record")}},sB=async n=>{try{if(!n.type||!n.category||!n.amount||!n.transactionDate)throw new Error("Missing required fields");const e=n.transactionDate instanceof Date?xt.fromDate(n.transactionDate):xt.fromDate(new Date(n.transactionDate)),t={type:n.type,category:n.category,subcategory:n.subcategory||"",subcategoryMr:n.subcategoryMr||"",amount:parseFloat(n.amount),description:n.description||"",descriptionMr:n.descriptionMr||"",transactionDate:e,paymentMode:n.paymentMode||"CASH",referenceNumber:n.referenceNumber||"",receivedFrom:n.receivedFrom||"",receivedFromMr:n.receivedFromMr||"",paidTo:n.paidTo||"",paidToMr:n.paidToMr||"",attachment:n.attachment||null,createdAt:xt.now(),updatedAt:xt.now()},s=await ns(GT,t);return console.log("Financial record created with ID:",s.id),s.id}catch(e){throw console.error("Error creating financial record:",e),new Error("Failed to create financial record")}},aB=async(n,e)=>{try{const t=ut(Oe,$t.financials(),n);let s=e.transactionDate;s&&!(s instanceof xt)&&(s=s instanceof Date?xt.fromDate(s):xt.fromDate(new Date(s)));const a={...e,...s&&{transactionDate:s},...e.amount&&{amount:parseFloat(e.amount)},updatedAt:xt.now()};Object.keys(a).forEach(o=>a[o]===void 0&&delete a[o]),await ia(t,a),console.log("Financial record updated:",n)}catch(t){throw console.error("Error updating financial record:",t),new Error("Failed to update financial record")}},iB=async n=>{try{const e=ut(Oe,$t.financials(),n);await $i(e),console.log("Financial record deleted:",n)}catch(e){throw console.error("Error deleting financial record:",e),new Error("Failed to delete financial record")}},oB=()=>{const{t:n,language:e}=Vr(),[t,s]=G.useState([]),[a,o]=G.useState("ALL"),[c,d]=G.useState("ALL"),[h,f]=G.useState(!0);G.useEffect(()=>{(async()=>{try{f(!0);const j=await HT();s(j)}catch(j){console.error("Error loading transactions:",j),s([])}finally{f(!1)}})()},[]);const g={totalIncome:t.filter(S=>S.type==="INCOME").reduce((S,j)=>S+j.amount,0),totalExpense:t.filter(S=>S.type==="EXPENSE").reduce((S,j)=>S+j.amount,0),balance:0,transactionCount:t.length};g.balance=g.totalIncome-g.totalExpense;const p=["ALL",...new Set(t.map(S=>new Date(S.transactionDate).getFullYear()))],v=t.filter(S=>{const j=a==="ALL"||S.type===a,E=c==="ALL"||new Date(S.transactionDate).getFullYear().toString()===c;return j&&E}),b=S=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(S),A=S=>new Date(S).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"});return h?r.jsxs("div",{children:[r.jsx("section",{className:"bg-gradient-to-r from-[#ff6b00] to-[#ff8533] text-white py-16",children:r.jsxs("div",{className:"container-custom",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:e==="en"?"Financial Transparency":" "}),r.jsx("p",{className:"text-xl text-white/90",children:e==="en"?"Complete transparency of Gram Panchayat income and expenditure":"     "})]})}),r.jsx("div",{className:"flex justify-center items-center py-16",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#ff6b00]"})})]}):r.jsxs("div",{children:[r.jsx("section",{className:"bg-gradient-to-r from-[#ff6b00] to-[#ff8533] text-white py-16",children:r.jsxs("div",{className:"container-custom",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:e==="en"?"Financial Transparency":" "}),r.jsx("p",{className:"text-xl text-white/90",children:e==="en"?"Complete transparency of Gram Panchayat income and expenditure":"     "})]})}),r.jsx("section",{className:"py-12 bg-gray-50",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-green-300 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(th,{className:"text-green-600",size:24})}),r.jsx("span",{className:"text-green-700 font-semibold text-sm",children:e==="en"?"Total Income":" "})]}),r.jsx("div",{className:"text-3xl font-bold text-green-800",children:b(g.totalIncome)}),r.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[t.filter(S=>S.type==="INCOME").length," ",e==="en"?"transactions":""]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-red-300 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:r.jsx(Tg,{className:"text-red-600",size:24})}),r.jsx("span",{className:"text-red-700 font-semibold text-sm",children:e==="en"?"Total Expense":" "})]}),r.jsx("div",{className:"text-3xl font-bold text-red-800",children:b(g.totalExpense)}),r.jsxs("div",{className:"text-sm text-red-600 mt-1",children:[t.filter(S=>S.type==="EXPENSE").length," ",e==="en"?"transactions":""]})]}),r.jsxs("div",{className:`bg-white p-6 rounded-xl border-2 ${g.balance>=0?"border-blue-300":"border-orange-300"} shadow-lg`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:`p-3 ${g.balance>=0?"bg-blue-100":"bg-orange-100"} rounded-lg`,children:r.jsx(F2,{className:`${g.balance>=0?"text-blue-600":"text-orange-600"}`,size:24})}),r.jsx("span",{className:`${g.balance>=0?"text-blue-700":"text-orange-700"} font-semibold text-sm`,children:e==="en"?"Balance":""})]}),r.jsx("div",{className:`text-3xl font-bold ${g.balance>=0?"text-blue-800":"text-orange-800"}`,children:b(g.balance)}),r.jsx("div",{className:`text-sm ${g.balance>=0?"text-blue-600":"text-orange-600"} mt-1`,children:g.balance>=0?e==="en"?"Surplus":"":e==="en"?"Deficit":""})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-purple-300 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(mr,{className:"text-purple-600",size:24})}),r.jsx("span",{className:"text-purple-700 font-semibold text-sm",children:e==="en"?"Total":""})]}),r.jsx("div",{className:"text-3xl font-bold text-purple-800",children:g.transactionCount}),r.jsx("div",{className:"text-sm text-purple-600 mt-1",children:e==="en"?"Transactions":""})]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6 border-2 border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(ky,{size:20,className:"text-gray-500"}),r.jsxs("select",{value:a,onChange:S=>o(S.target.value),className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:[r.jsx("option",{value:"ALL",children:e==="en"?"All Types":" "}),r.jsx("option",{value:"INCOME",children:e==="en"?"Income":""}),r.jsx("option",{value:"EXPENSE",children:e==="en"?"Expense":""})]}),r.jsx("select",{value:c,onChange:S=>d(S.target.value),className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:p.map(S=>r.jsx("option",{value:S,children:S==="ALL"?e==="en"?"All Years":" ":S},S))})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-2 border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#138808] to-[#1aa910] text-white px-6 py-4",children:r.jsx("h2",{className:"text-2xl font-bold",children:e==="en"?"Recent Transactions":" "})}),v.length>0?r.jsx("div",{className:"divide-y divide-gray-200",children:v.map(S=>r.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:`p-2 rounded-lg ${S.type==="INCOME"?"bg-green-100":"bg-red-100"}`,children:S.type==="INCOME"?r.jsx(th,{className:`${S.type==="INCOME"?"text-green-600":"text-red-600"}`,size:20}):r.jsx(Tg,{className:"text-red-600",size:20})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg text-gray-800",children:e==="en"?S.subcategory:S.subcategoryMr}),r.jsx("p",{className:"text-sm text-gray-600",children:e==="en"?S.description:S.descriptionMr})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"text-gray-500",children:[e==="en"?"Date":"",":"]}),r.jsxs("div",{className:"flex items-center gap-1 text-gray-700 font-semibold",children:[r.jsx(ss,{size:14}),A(S.transactionDate)]})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-gray-500",children:[S.type==="INCOME"?e==="en"?"Received From":" ":e==="en"?"Paid To":" ",":"]}),r.jsx("div",{className:"text-gray-700 font-semibold",children:S.type==="INCOME"?e==="en"?S.receivedFrom:S.receivedFromMr:e==="en"?S.paidTo:S.paidToMr})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-gray-500",children:[e==="en"?"Payment Mode":" ",":"]}),r.jsx("div",{className:"text-gray-700 font-semibold",children:S.paymentMode.replace("_"," ")})]})]}),S.referenceNumber&&r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[e==="en"?"Ref":"",": ",S.referenceNumber]})]}),r.jsxs("div",{className:"ml-6 text-right",children:[r.jsxs("div",{className:`text-2xl font-bold ${S.type==="INCOME"?"text-green-600":"text-red-600"}`,children:[S.type==="INCOME"?"+":"-"," ",b(S.amount)]}),r.jsx("span",{className:`inline-block mt-2 px-3 py-1 rounded-full text-xs font-semibold ${S.type==="INCOME"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:S.type==="INCOME"?e==="en"?"Income":"":e==="en"?"Expense":""})]})]})},S.id))}):r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(mr,{size:64,className:"mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg",children:e==="en"?"No transactions available yet":"    "}),r.jsx("p",{className:"text-gray-500 text-sm mt-2",children:e==="en"?"Financial data will be displayed here once transactions are added by the admin":"        "})]})]})]})})]})},Tw=async()=>{try{const n=Et(Oe,$t.notices()),e=Ir(n,Ki("startDate","desc")),t=await sr(e),s=[];return t.forEach(a=>{s.push({id:a.id,...a.data()})}),console.log(`Loaded ${s.length} notices from Firebase`),s}catch(n){throw console.error("Error loading notices:",n),n}},lB=async()=>{try{const n=await Tw(),e=new Date;e.setHours(0,0,0,0);const t=n.filter(s=>{const a=new Date(s.startDate),o=new Date(s.endDate);return a<=e&&o>=e});return console.log(`Found ${t.length} active notices`),t}catch(n){throw console.error("Error loading active notices:",n),n}},cB=async n=>{try{const e=ut(Oe,$t.notices(),n),t=await is(e);if(t.exists())return{id:t.id,...t.data()};throw new Error("Notice not found")}catch(e){throw console.error("Error loading notice:",e),e}},dB=async n=>{try{const e=Et(Oe,$t.notices()),t={titleEn:n.titleEn||"",titleMr:n.titleMr||"",type:n.type||"ANNOUNCEMENT",descriptionEn:n.descriptionEn||"",descriptionMr:n.descriptionMr||"",startDate:n.startDate,endDate:n.endDate,showOnHome:n.showOnHome||!1,createdAt:Qt(),updatedAt:Qt()},s=await ns(e,t);return console.log("Notice created with ID:",s.id),s.id}catch(e){throw console.error("Error creating notice:",e),e}},uB=async(n,e)=>{try{const t=ut(Oe,$t.notices(),n),s={titleEn:e.titleEn||"",titleMr:e.titleMr||"",type:e.type||"ANNOUNCEMENT",descriptionEn:e.descriptionEn||"",descriptionMr:e.descriptionMr||"",startDate:e.startDate,endDate:e.endDate,showOnHome:e.showOnHome||!1,updatedAt:Qt()};await ia(t,s),console.log("Notice updated:",n)}catch(t){throw console.error("Error updating notice:",t),t}},hB=async n=>{try{const e=ut(Oe,$t.notices(),n);await $i(e),console.log("Notice deleted:",n)}catch(e){throw console.error("Error deleting notice:",e),e}},fB=()=>{const{language:n}=Vr(),[e,t]=G.useState([]),[s,a]=G.useState(!0),[o,c]=G.useState("ALL");G.useEffect(()=>{d()},[]);const d=async()=>{try{a(!0);const S=(await lB()).sort((j,E)=>new Date(E.startDate)-new Date(j.startDate));t(S)}catch(A){console.error("Error loading notices:",A),t([])}finally{a(!1)}},h=e.filter(A=>o==="ALL"||A.type===o),f=A=>new Date(A).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),g=A=>{switch(A){case"MEETING":return r.jsx(Wi,{className:"w-5 h-5"});case"TENDER":return r.jsx(mr,{className:"w-5 h-5"});case"ANNOUNCEMENT":return r.jsx(zx,{className:"w-5 h-5"});default:return r.jsx(mr,{className:"w-5 h-5"})}},p=A=>{switch(A){case"MEETING":return"from-blue-500 to-blue-600";case"TENDER":return"from-green-500 to-green-600";case"ANNOUNCEMENT":return"from-orange-500 to-orange-600";case"EVENT":return"from-purple-500 to-purple-600";case"URGENT":return"from-red-500 to-red-600";default:return"from-gray-500 to-gray-600"}},v=A=>{switch(A){case"MEETING":return"text-blue-700";case"TENDER":return"text-green-700";case"ANNOUNCEMENT":return"text-orange-700";case"EVENT":return"text-purple-700";case"URGENT":return"text-red-700";default:return"text-gray-700"}},b=A=>{const S=new Date(A),E=Math.ceil((S-new Date)/(1e3*60*60*24));return E<=7&&E>=0};return r.jsxs("div",{children:[r.jsxs("section",{className:"relative py-20 overflow-hidden bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-orange-600/20 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-green-600/20 rounded-full blur-3xl animate-pulse delay-700"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white/5 rounded-full blur-2xl"})]}),r.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-orange-600 via-white to-green-600"}),r.jsx("div",{className:"container-custom relative z-10",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-600 to-green-600 rounded-full mb-6 shadow-2xl shadow-orange-500/50 animate-bounce-slow",children:r.jsx(Wi,{size:40,className:"text-white"})}),r.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4 tracking-tight",children:n==="en"?"Notices & Announcements":"  "}),r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[r.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-transparent via-orange-500 to-orange-600 rounded-full"}),r.jsx(Bs,{className:"text-orange-400",size:24}),r.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-green-600 via-green-500 to-transparent rounded-full"})]}),r.jsx("p",{className:"text-xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:n==="en"?"Stay updated with important notices, meetings, tenders, and announcements":" , ,     "}),r.jsxs("div",{className:"flex items-center justify-center gap-8 mt-8 text-white/60",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm",children:n==="en"?"Official":""})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse delay-300"}),r.jsx("span",{className:"text-sm",children:n==="en"?"Verified":""})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse delay-700"}),r.jsx("span",{className:"text-sm",children:n==="en"?"Updated":""})]})]})]})})]}),r.jsx("section",{className:"py-8 bg-gradient-to-br from-orange-50 via-white to-green-50",children:r.jsx("div",{className:"container-custom",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-t-4 border-orange-600 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(ky,{size:20,className:"text-white"})}),r.jsx("label",{className:"font-bold text-blue-900 text-lg",children:n==="en"?"Filter by Type":"  "})]}),r.jsxs("select",{value:o,onChange:A=>c(A.target.value),className:"flex-1 min-w-[200px] px-5 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-600 focus:ring-2 focus:ring-orange-200 bg-gradient-to-r from-orange-50 to-green-50 font-semibold text-gray-700 transition-all hover:border-orange-500",children:[r.jsx("option",{value:"ALL",children:n==="en"?" All Types":"  "}),r.jsx("option",{value:"MEETING",children:" Meeting"}),r.jsx("option",{value:"TENDER",children:" Tender"}),r.jsx("option",{value:"ANNOUNCEMENT",children:" Announcement"}),r.jsx("option",{value:"EVENT",children:" Event"}),r.jsx("option",{value:"URGENT",children:" Urgent"}),r.jsx("option",{value:"OTHER",children:" Other"})]}),o!=="ALL"&&r.jsx("button",{onClick:()=>c("ALL"),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg text-gray-700 font-semibold transition-all",children:n==="en"?"Clear Filter":"  "})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-semibold text-orange-600",children:h.length})," ",n==="en"?o==="ALL"?"active notices found":`${o.toLowerCase()} notices found`:o==="ALL"?"  ":`${o.toLowerCase()}  `]})})]})]})})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container-custom",children:[s?r.jsxs("div",{className:"flex flex-col justify-center items-center py-16",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-orange-600 mb-4"}),r.jsx("p",{className:"text-gray-600 font-semibold",children:n==="en"?"Loading notices...":"   ..."})]}):h.length>0?r.jsx("div",{className:"space-y-6",children:h.map((A,S)=>r.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-orange-600 transform hover:scale-[1.02]",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),r.jsx("div",{className:`bg-gradient-to-r ${p(A.type)} p-6`,children:r.jsx("div",{className:"flex items-start justify-between gap-4",children:r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",children:S+1}),r.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-white/90 rounded-full flex items-center justify-center shadow-lg",children:r.jsx("div",{className:`${v(A.type)}`,children:g(A.type)})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[r.jsx("span",{className:`px-4 py-1.5 rounded-full text-sm font-bold bg-white/95 ${v(A.type)} shadow-md`,children:A.type}),b(A.endDate)&&r.jsxs("span",{className:"px-4 py-1.5 rounded-full text-sm font-bold bg-red-100 text-red-700 flex items-center gap-2 shadow-md animate-pulse",children:[r.jsx(ww,{size:16}),n==="en"?"Expiring Soon":"   "]})]}),r.jsx("h2",{className:"font-bold text-white text-2xl mb-2 leading-tight",children:n==="en"?A.titleEn:A.titleMr||A.titleEn}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-white text-sm font-semibold",children:[r.jsx(ss,{size:16}),r.jsx("span",{children:f(A.startDate)})]}),r.jsx(jp,{size:16,className:"text-white/60"}),r.jsxs("div",{className:"flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-white text-sm font-semibold",children:[r.jsx(ss,{size:16}),r.jsx("span",{children:f(A.endDate)})]})]})]})]})})}),r.jsxs("div",{className:"p-8 bg-gradient-to-br from-gray-50 to-white",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center mt-1",children:r.jsx(mr,{size:16,className:"text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-blue-900 text-lg mb-3",children:n==="en"?"Description":""}),r.jsx("p",{className:"text-gray-700 text-base leading-relaxed",children:n==="en"?A.descriptionEn:A.descriptionMr||A.descriptionEn})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-4 border-l-4 border-green-600 shadow-md hover:shadow-lg transition-all",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(ss,{size:20,className:"text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:n==="en"?"Start Date":" "}),r.jsx("p",{className:"font-bold text-gray-800",children:f(A.startDate)})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border-l-4 border-red-600 shadow-md hover:shadow-lg transition-all",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(ss,{size:20,className:"text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:n==="en"?"End Date":" "}),r.jsx("p",{className:"font-bold text-gray-800",children:f(A.endDate)})]})]})})]})]})]},A.id))}):r.jsxs("div",{className:"text-center py-16 bg-gradient-to-br from-orange-50 to-green-50 rounded-2xl border-2 border-dashed border-orange-300",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-orange-100 to-green-100 rounded-full mb-6",children:r.jsx(Wi,{size:48,className:"text-orange-600"})}),r.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-3",children:n==="en"?"No Active Notices":"   "}),r.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:n==="en"?"There are currently no active notices. Check back later for updates.":"    .   ."})]}),h.length>0&&r.jsxs("div",{className:"mt-12 bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl shadow-xl border-t-4 border-blue-600 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 h-2"}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-full flex items-center justify-center shadow-lg flex-shrink-0",children:r.jsx(Qn,{size:24,className:"text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-blue-900 text-2xl mb-2",children:n==="en"?"Important Information":" "}),r.jsx("p",{className:"text-blue-700 text-sm",children:n==="en"?"Please read the following guidelines carefully":"     "})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-3 bg-white/50 backdrop-blur-sm rounded-xl p-4",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"1"})}),r.jsx("p",{className:"text-blue-900 font-medium",children:n==="en"?"Please check the start and end dates for each notice carefully":"        "})]}),r.jsxs("div",{className:"flex items-start gap-3 bg-white/50 backdrop-blur-sm rounded-xl p-4",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"2"})}),r.jsx("p",{className:"text-blue-900 font-medium",children:n==="en"?"For tender submissions, contact the Gram Panchayat office before the deadline":" ,      "})]}),r.jsxs("div",{className:"flex items-start gap-3 bg-white/50 backdrop-blur-sm rounded-xl p-4",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"3"})}),r.jsx("p",{className:"text-blue-900 font-medium",children:n==="en"?"Meeting attendance is mandatory for all members and important for village development":"          "})]})]})]})]})]})})]})},mB=()=>{const{t:n,getContent:e}=Vr(),{settings:t}=vu(),[s,a]=G.useState({name:"",phone:"",email:"",category:"QUERY",subject:"",message:""}),[o,c]=G.useState(!1),d=f=>{a({...s,[f.target.name]:f.target.value})},h=f=>{f.preventDefault(),console.log("Form submitted:",s),c(!0),setTimeout(()=>{c(!1),a({name:"",phone:"",email:"",category:"QUERY",subject:"",message:""})},3e3)};return r.jsxs("div",{children:[r.jsxs("section",{className:"relative py-20 overflow-hidden bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-orange-600/20 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-green-600/20 rounded-full blur-3xl animate-pulse delay-700"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white/5 rounded-full blur-2xl"})]}),r.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-orange-600 via-white to-green-600"}),r.jsx("div",{className:"container-custom relative z-10",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-600 to-green-600 rounded-full mb-6 shadow-2xl shadow-orange-500/50 animate-bounce-slow",children:r.jsx(Lf,{size:40,className:"text-white"})}),r.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4 tracking-tight",children:n("nav.contact")}),r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[r.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-transparent via-orange-500 to-orange-600 rounded-full"}),r.jsx(Bs,{className:"text-orange-400",size:24}),r.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-green-600 via-green-500 to-transparent rounded-full"})]}),r.jsx("p",{className:"text-xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Get in touch with us or submit your grievances"}),r.jsxs("div",{className:"flex items-center justify-center gap-8 mt-8 text-white/60",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm",children:"24/7 Available"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse delay-300"}),r.jsx("span",{className:"text-sm",children:"Quick Response"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse delay-700"}),r.jsx("span",{className:"text-sm",children:"Verified"})]})]})]})})]}),r.jsx("section",{className:"py-16 bg-gradient-to-br from-orange-50 via-white to-green-50",children:r.jsx("div",{className:"container-custom",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(Vo,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:"Contact Information"}),r.jsx("p",{className:"text-gray-600",children:"Reach out to us through any of the following channels"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-orange-600 transform hover:scale-105",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-br from-orange-600 to-green-600 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(Vo,{className:"text-white",size:28})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-xl text-blue-900 mb-2",children:"Phone"}),r.jsxs("a",{href:`tel:${t?.contact?.phone||""}`,className:"text-orange-600 hover:text-orange-700 text-lg font-semibold flex items-center gap-2 group-hover:gap-3 transition-all",children:[t?.contact?.phone||"Not available",r.jsx(Bs,{size:18,className:"group-hover:animate-spin"})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Available during office hours"})]})]})})]}),r.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-green-600 transform hover:scale-105",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-600 to-orange-600 h-2"}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-br from-green-600 to-orange-600 rounded-full flex items-center justify-center shadow-lg",children:r.jsx($o,{className:"text-white",size:28})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-xl text-blue-900 mb-2",children:"Email"}),r.jsxs("a",{href:`mailto:${t?.contact?.email||""}`,className:"text-green-600 hover:text-green-700 text-lg font-semibold flex items-center gap-2 group-hover:gap-3 transition-all break-all",children:[t?.contact?.email||"Not available",r.jsx(Bs,{size:18,className:"group-hover:animate-spin flex-shrink-0"})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"We respond within 24 hours"})]})]})})]}),r.jsxs("div",{className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden border-t-4 border-blue-600 transform hover:scale-105",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 h-2"}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-700 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(vl,{className:"text-white",size:28})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-xl text-blue-900 mb-2",children:"Address"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:e(t?.contact?.address)||"Not available"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-2 flex items-center gap-2",children:[r.jsx(Qg,{size:16}),e(t?.officeTimings)||"Mon - Fri: 10:00 AM - 5:00 PM"]})]})]})})]})]}),r.jsx("div",{className:"mt-8",children:t?.googleMapsLink?r.jsx("div",{className:"h-80 bg-white rounded-2xl shadow-xl overflow-hidden border-2 border-orange-300",children:r.jsx("iframe",{src:t.googleMapsLink,width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Gram Panchayat Location"})}):r.jsx("div",{className:"h-64 bg-gradient-to-br from-orange-100 to-green-100 rounded-2xl shadow-xl overflow-hidden border-2 border-dashed border-orange-300 flex items-center justify-center group hover:border-solid transition-all",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white rounded-full mb-3 shadow-lg",children:r.jsx(vl,{size:32,className:"text-orange-600"})}),r.jsx("p",{className:"text-gray-600 font-semibold",children:"Map will be embedded here"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Interactive location map"})]})})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-1 w-12 bg-orange-600 rounded"}),r.jsx(L4,{className:"text-blue-900",size:32}),r.jsx("div",{className:"h-1 w-12 bg-green-600 rounded"})]}),r.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-3",children:"Send us a Message"}),r.jsx("p",{className:"text-gray-600",children:"Fill out the form below and we'll get back to you soon"})]}),o?r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border-t-4 border-green-600 animate-fade-in",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 h-2"}),r.jsxs("div",{className:"p-12 text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-green-600 to-green-700 rounded-full mb-6 shadow-2xl shadow-green-500/50 animate-bounce",children:r.jsx(Yi,{className:"text-white",size:48})}),r.jsx("h3",{className:"text-3xl font-bold text-blue-900 mb-3",children:"Message Sent Successfully!"}),r.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"We will get back to you soon."}),r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsx("div",{className:"h-1 w-16 bg-gradient-to-r from-orange-600 to-green-600 rounded-full"}),r.jsx(Bs,{className:"text-green-600",size:20}),r.jsx("div",{className:"h-1 w-16 bg-gradient-to-r from-green-600 to-orange-600 rounded-full"})]})]})]}):r.jsxs("form",{onSubmit:h,className:"bg-white rounded-2xl shadow-2xl overflow-hidden border-t-4 border-orange-600",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-2"}),r.jsxs("div",{className:"p-8 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[r.jsx(rm,{size:18,className:"text-orange-600"}),"Name *"]}),r.jsx("input",{type:"text",name:"name",required:!0,value:s.name,onChange:d,placeholder:"Enter your full name",className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-orange-600 focus:ring-2 focus:ring-orange-200 transition-all bg-gradient-to-r from-orange-50/50 to-green-50/50 hover:border-orange-400"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[r.jsx(Vo,{size:18,className:"text-green-600"}),"Phone *"]}),r.jsx("input",{type:"tel",name:"phone",required:!0,value:s.phone,onChange:d,placeholder:"Enter your phone number",className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-green-600 focus:ring-2 focus:ring-green-200 transition-all bg-gradient-to-r from-green-50/50 to-orange-50/50 hover:border-green-400"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[r.jsx($o,{size:18,className:"text-blue-600"}),"Email"]}),r.jsx("input",{type:"email",name:"email",value:s.email,onChange:d,placeholder:"Enter your email address",className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200 transition-all bg-gradient-to-r from-blue-50/50 to-white hover:border-blue-400"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[r.jsx(Lf,{size:18,className:"text-orange-600"}),"Category *"]}),r.jsxs("select",{name:"category",required:!0,value:s.category,onChange:d,className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-orange-600 focus:ring-2 focus:ring-orange-200 transition-all bg-gradient-to-r from-orange-50/50 to-green-50/50 hover:border-orange-400 font-semibold text-gray-700",children:[r.jsx("option",{value:"QUERY",children:" Query"}),r.jsx("option",{value:"COMPLAINT",children:" Complaint"}),r.jsx("option",{value:"SUGGESTION",children:" Suggestion"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[r.jsx(Bs,{size:18,className:"text-green-600"}),"Subject *"]}),r.jsx("input",{type:"text",name:"subject",required:!0,value:s.subject,onChange:d,placeholder:"Enter the subject of your message",className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-green-600 focus:ring-2 focus:ring-green-200 transition-all bg-gradient-to-r from-green-50/50 to-orange-50/50 hover:border-green-400"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-blue-900 mb-2",children:[r.jsx(Lf,{size:18,className:"text-blue-600"}),"Message *"]}),r.jsx("textarea",{name:"message",required:!0,rows:"5",value:s.message,onChange:d,placeholder:"Type your message here...",className:"w-full px-5 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-200 transition-all bg-gradient-to-br from-blue-50/50 to-white hover:border-blue-400 resize-none"})]}),r.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-600 to-green-600 hover:from-orange-700 hover:to-green-700 text-white font-bold py-4 px-6 rounded-xl flex items-center justify-center gap-3 transition-all transform hover:scale-105 shadow-xl hover:shadow-2xl",children:[r.jsx(L4,{size:24}),r.jsx("span",{className:"text-lg",children:n("common.submit")}),r.jsx(Bs,{size:20,className:"animate-pulse"})]}),r.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[r.jsxs("p",{className:"text-sm text-gray-600 text-center",children:[r.jsx("span",{className:"font-semibold text-orange-600",children:"*"})," Required fields"]}),r.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3 text-xs text-gray-500",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{children:"Your information is secure with us"})]})]})]})]})]})]})})})]})},gB=()=>{const n=gr(),{login:e}=bw(),[t,s]=G.useState({email:"",password:""}),[a,o]=G.useState(""),[c,d]=G.useState(!1),h=g=>{s({...t,[g.target.name]:g.target.value}),o("")},f=async g=>{g.preventDefault(),d(!0),o("");const p=await e(t);p.success?n("/admin/dashboard"):o(p.error||"Invalid credentials"),d(!1)};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center px-3 sm:px-4 py-6 sm:py-12 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 sm:w-96 h-64 sm:h-96 bg-orange-600/20 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-64 sm:w-96 h-64 sm:h-96 bg-green-600/20 rounded-full blur-3xl animate-pulse delay-700"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 sm:w-96 h-64 sm:h-96 bg-white/5 rounded-full blur-2xl"})]}),r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 sm:h-2 bg-gradient-to-r from-orange-600 via-white to-green-600"}),r.jsxs("div",{className:"max-w-md w-full relative z-10",children:[r.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-2xl overflow-hidden border-t-4 border-orange-600",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 h-1.5 sm:h-2"}),r.jsxs("div",{className:"text-center pt-8 sm:pt-12 pb-6 sm:pb-8 px-4 sm:px-8 bg-gradient-to-br from-blue-50 to-white",children:[r.jsxs("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-br from-orange-600 to-green-600 rounded-full mb-4 sm:mb-6 shadow-2xl shadow-orange-500/50 animate-bounce-slow",children:[r.jsx(Zl,{className:"text-white",size:32}),r.jsx(Zl,{className:"text-white hidden sm:block",size:48})]}),r.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-blue-900 mb-2 sm:mb-3",children:"Admin Login"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[r.jsx("div",{className:"h-0.5 sm:h-1 w-12 sm:w-16 bg-gradient-to-r from-transparent via-orange-500 to-orange-600 rounded-full"}),r.jsx(Bs,{className:"text-orange-400",size:16}),r.jsx(Bs,{className:"text-orange-400 hidden sm:block",size:20}),r.jsx("div",{className:"h-0.5 sm:h-1 w-12 sm:w-16 bg-gradient-to-r from-green-600 via-green-500 to-transparent rounded-full"})]}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-semibold",children:"Gram Panchayat Management System"}),r.jsxs("div",{className:"inline-flex items-center gap-2 mt-3 sm:mt-4 px-3 sm:px-4 py-1.5 sm:py-2 bg-white/80 backdrop-blur-sm rounded-full border border-orange-200 shadow-md",children:[r.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-xs sm:text-sm text-gray-700 font-semibold",children:"Secure Access"})]})]}),a&&r.jsx("div",{className:"mx-4 sm:mx-8 mt-6 sm:mt-8",children:r.jsxs("div",{className:"bg-red-50 border-l-4 border-red-600 rounded-lg p-3 sm:p-4 flex items-start gap-2 sm:gap-3 shadow-lg",children:[r.jsx(Qn,{className:"text-red-600 flex-shrink-0 mt-0.5",size:18}),r.jsx(Qn,{className:"text-red-600 flex-shrink-0 mt-0.5 hidden sm:block",size:20}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-red-900 mb-1 text-sm sm:text-base",children:"Login Failed"}),r.jsx("p",{className:"text-red-700 text-xs sm:text-sm",children:a})]})]})}),r.jsxs("form",{onSubmit:f,className:"p-4 sm:p-8 space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold text-blue-900 mb-2",children:[r.jsx($o,{size:16,className:"text-orange-600"}),r.jsx($o,{size:18,className:"text-orange-600 hidden sm:block"}),"Email Address"]}),r.jsx("input",{type:"email",name:"email",required:!0,value:t.email,onChange:h,className:"w-full px-4 sm:px-5 py-2.5 sm:py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-orange-600 focus:ring-2 focus:ring-orange-200 transition-all bg-gradient-to-r from-orange-50/50 to-green-50/50 hover:border-orange-400 text-gray-900 font-medium text-sm sm:text-base",placeholder:"admin@example.com"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold text-blue-900 mb-2",children:[r.jsx(L2,{size:16,className:"text-green-600"}),r.jsx(L2,{size:18,className:"text-green-600 hidden sm:block"}),"Password"]}),r.jsx("input",{type:"password",name:"password",required:!0,value:t.password,onChange:h,className:"w-full px-4 sm:px-5 py-2.5 sm:py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-green-600 focus:ring-2 focus:ring-green-200 transition-all bg-gradient-to-r from-green-50/50 to-orange-50/50 hover:border-green-400 text-gray-900 font-medium text-sm sm:text-base",placeholder:"Enter your password"})]}),r.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-orange-600 to-green-600 hover:from-orange-700 hover:to-green-700 text-white font-bold py-3 sm:py-4 px-4 sm:px-6 rounded-xl flex items-center justify-center gap-2 sm:gap-3 transition-all transform hover:scale-105 shadow-xl hover:shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[r.jsx(R4,{size:20}),r.jsx(R4,{size:24,className:"hidden sm:block"}),r.jsx("span",{className:"text-base sm:text-lg",children:c?"Logging in...":"Login to Admin Panel"}),!c&&r.jsx(Bs,{size:18,className:"animate-pulse sm:hidden"}),!c&&r.jsx(Bs,{size:20,className:"animate-pulse hidden sm:block"})]}),c&&r.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 sm:h-5 sm:w-5 border-b-2 border-orange-600"}),r.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Authenticating..."})]})]}),r.jsx("div",{className:"px-4 sm:px-8 pb-4 sm:pb-8",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-xl p-3 sm:p-4 border border-blue-200",children:r.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[r.jsx(Zl,{size:18,className:"text-blue-600 flex-shrink-0 mt-0.5 sm:hidden"}),r.jsx(Zl,{size:20,className:"text-blue-600 flex-shrink-0 mt-0.5 hidden sm:block"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-blue-900 text-xs sm:text-sm mb-1",children:"Authorized Personnel Only"}),r.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 leading-relaxed",children:"This portal is restricted to authorized Gram Panchayat administrators. Unauthorized access is prohibited and may be subject to legal action."})]})]})})})]}),r.jsx("div",{className:"mt-4 sm:mt-6 text-center px-4",children:r.jsxs("div",{className:"inline-flex items-center gap-2 text-white/80 text-xs sm:text-sm",children:[r.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{children:"Government of India Initiative"})]})})]})]})},pB=()=>{const{t:n}=Vr(),[e,t]=G.useState(!0),[s,a]=G.useState({members:0,services:0,schemes:0,activeNotices:0,programs:0,forms:0}),[o,c]=G.useState([]),[d,h]=G.useState([]);G.useEffect(()=>{f()},[]);const f=async()=>{try{t(!0);const[p,v,b,A,S,j]=await Promise.all([Nw(),_w(),Sw(),Tw(),Aw(),Ew()]);a({members:p?.length||0,services:v?.length||0,schemes:b?.length||0,activeNotices:A?.filter(E=>E.status==="ACTIVE")?.length||0,programs:S?.length||0,forms:j?.length||0}),c(A?.slice(0,3)||[]),h(S?.slice(0,3)||[])}catch(p){console.error("Error loading dashboard data:",p)}finally{t(!1)}},g=[{title:"Total Members",count:s.members,icon:Cs,color:"from-orange-500 to-orange-600",link:"/admin/members"},{title:"Services",count:s.services,icon:mr,color:"from-green-600 to-green-700",link:"/admin/services"},{title:"Schemes",count:s.schemes,icon:nm,color:"from-blue-800 to-blue-900",link:"/admin/schemes"},{title:"Active Notices",count:s.activeNotices,icon:Wi,color:"from-purple-500 to-purple-600",link:"/admin/notices"},{title:"Programs",count:s.programs,icon:_r,color:"from-pink-500 to-pink-600",link:"/admin/gallery"},{title:"Forms",count:s.forms,icon:Go,color:"from-indigo-500 to-indigo-600",link:"/admin/forms"}];return e?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Admin Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening with your Gram Panchayat."})]}),r.jsxs(sn,{to:"/admin/settings",className:"flex items-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[r.jsx(M2,{size:20}),"Site Settings"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map((p,v)=>r.jsxs(sn,{to:p.link,className:"bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all transform hover:scale-105 overflow-hidden group",children:[r.jsx("div",{className:`bg-gradient-to-br ${p.color} p-6 text-white`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white/80 text-sm font-medium mb-1",children:p.title}),r.jsx("p",{className:"text-4xl font-bold",children:p.count})]}),r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center group-hover:bg-white/30 transition-colors",children:r.jsx(p.icon,{size:32})})]})}),r.jsx("div",{className:"p-4 bg-gray-50",children:r.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:["Manage ",p.title,r.jsx(th,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})})]},v))}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(ez,{size:24,className:"text-orange-600"}),"Quick Actions"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs(sn,{to:"/admin/members/new",className:"flex items-center gap-3 p-4 border-2 border-orange-200 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-all group",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center group-hover:bg-orange-200 transition-colors",children:r.jsx(Cs,{size:20,className:"text-orange-600"})}),r.jsx("span",{className:"font-semibold text-gray-700",children:"Add Member"})]}),r.jsxs(sn,{to:"/admin/services/new",className:"flex items-center gap-3 p-4 border-2 border-green-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all group",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center group-hover:bg-green-200 transition-colors",children:r.jsx(mr,{size:20,className:"text-green-600"})}),r.jsx("span",{className:"font-semibold text-gray-700",children:"Add Service"})]}),r.jsxs(sn,{to:"/admin/notices/new",className:"flex items-center gap-3 p-4 border-2 border-purple-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-all group",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:r.jsx(Wi,{size:20,className:"text-purple-600"})}),r.jsx("span",{className:"font-semibold text-gray-700",children:"Add Notice"})]}),r.jsxs(sn,{to:"/admin/gallery/new",className:"flex items-center gap-3 p-4 border-2 border-pink-200 rounded-lg hover:border-pink-500 hover:bg-pink-50 transition-all group",children:[r.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center group-hover:bg-pink-200 transition-colors",children:r.jsx(_r,{size:20,className:"text-pink-600"})}),r.jsx("span",{className:"font-semibold text-gray-700",children:"Add Program"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(TV,{size:24,className:"text-blue-600"}),"Content Management"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(sn,{to:"/admin/content/about",className:"flex items-center gap-3 p-4 border-2 border-blue-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all group",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:r.jsx(mr,{size:20,className:"text-blue-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-700",children:"Edit About Page"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Village info, history, vision & mission"})]})]}),r.jsxs(sn,{to:"/admin/content/education",className:"flex items-center gap-3 p-4 border-2 border-indigo-200 rounded-lg hover:border-indigo-500 hover:bg-indigo-50 transition-all group",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center group-hover:bg-indigo-200 transition-colors",children:r.jsx(Xg,{size:20,className:"text-indigo-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-700",children:"Edit Education Page"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Schools, anganwadis & programs"})]})]}),r.jsxs(sn,{to:"/admin/slider",className:"flex items-center gap-3 p-4 border-2 border-orange-200 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-all group",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center group-hover:bg-orange-200 transition-colors",children:r.jsx(_r,{size:20,className:"text-orange-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-700",children:"Homepage Slider"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Manage rotating banner images"})]})]}),r.jsxs(sn,{to:"/admin/officials",className:"flex items-center gap-3 p-4 border-2 border-green-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all group",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center group-hover:bg-green-200 transition-colors",children:r.jsx(Cs,{size:20,className:"text-green-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-700",children:"Government Officials"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Manage ministers & officials"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[r.jsx(Wi,{size:24,className:"text-purple-600"}),"Recent Notices"]}),r.jsx(sn,{to:"/admin/notices",className:"text-orange-600 hover:text-orange-700 font-semibold text-sm",children:"View All "})]}),r.jsx("div",{className:"space-y-3",children:o.length>0?o.map(p=>r.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-orange-300 hover:bg-orange-50/50 transition-all",children:r.jsx("div",{className:"flex items-start justify-between gap-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:p.title.en}),r.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:p.description.en}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ss,{size:12}),new Date(p.startDate).toLocaleDateString()]}),r.jsx("span",{className:`px-2 py-1 rounded-full ${p.status==="ACTIVE"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:p.status})]})]})})},p.id)):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No notices yet"})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[r.jsx(_r,{size:24,className:"text-pink-600"}),"Recent Programs"]}),r.jsx(sn,{to:"/admin/gallery",className:"text-orange-600 hover:text-orange-700 font-semibold text-sm",children:"View All "})]}),r.jsx("div",{className:"space-y-3",children:d.length>0?d.map(p=>r.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-orange-300 hover:bg-orange-50/50 transition-all",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("img",{src:p.images?.[0]||"/placeholder.jpg",alt:p.titleEn||"Program",className:"w-16 h-16 object-cover rounded-lg"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:p.titleEn}),r.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:p.descriptionEn}),r.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx(ss,{size:12}),new Date(p.date).toLocaleDateString()]})]})]})},p.id)):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No programs yet"})})]})]})]})},xB=()=>{const[n,e]=G.useState([]),[t,s]=G.useState(""),[a,o]=G.useState("ALL"),[c,d]=G.useState(!0);G.useEffect(()=>{(async()=>{try{d(!0);const v=await Nw();e(v)}catch(v){console.error("Error loading members:",v)}finally{d(!1)}})()},[]);const h=n.filter(p=>{const v=p.name.en.toLowerCase().includes(t.toLowerCase())||p.name.mr.includes(t),b=a==="ALL"||p.type===a;return v&&b}),f=async p=>{if(window.confirm("Are you sure you want to delete this member?"))try{await Rz(p),e(n.filter(v=>v.id!==p)),console.log("Member deleted successfully")}catch(v){console.error("Error deleting member:",v),alert("Failed to delete member. Please try again.")}},g=p=>({SARPANCH:"bg-orange-100 text-orange-700",UPSARPANCH:"bg-green-100 text-green-700",MEMBER:"bg-blue-100 text-blue-700",STAFF:"bg-purple-100 text-purple-700"})[p]||"bg-gray-100 text-gray-700";return c?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Members Management"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage Sarpanch, Upsarpanch, Members and Staff"})]}),r.jsxs(sn,{to:"/admin/members/new",className:"flex items-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[r.jsx(Rr,{size:20}),"Add Member"]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search members...",value:t,onChange:p=>s(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),r.jsxs("select",{value:a,onChange:p=>o(p.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ALL",children:"All Members"}),r.jsx("option",{value:"SARPANCH",children:"Sarpanch"}),r.jsx("option",{value:"UPSARPANCH",children:"Upsarpanch"}),r.jsx("option",{value:"MEMBER",children:"Members"}),r.jsx("option",{value:"STAFF",children:"Staff"})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.length>0?h.map(p=>r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all",children:[r.jsx("div",{className:"h-48 bg-gradient-to-br from-orange-100 to-green-100 flex items-center justify-center",children:p.photo?r.jsx("img",{src:p.photo,alt:p.name.en,className:"w-full h-full object-cover"}):r.jsx(Yu,{size:80,className:"text-gray-400"})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:p.name.en}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:p.name.mr})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${g(p.type)}`,children:p.type})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:"Designation:"})," ",p.designation.en]}),r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:"Phone:"})," ",p.phone]}),p.termStart&&r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:"Term:"})," ",new Date(p.termStart).getFullYear()," - ",new Date(p.termEnd).getFullYear()]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(sn,{to:`/admin/members/edit/${p.id}`,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:[r.jsx(lc,{size:16}),"Edit"]}),r.jsxs("button",{onClick:()=>f(p.id),className:"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:[r.jsx(_a,{size:16}),"Delete"]})]})]})]},p.id)):r.jsxs("div",{className:"col-span-full text-center py-12",children:[r.jsx(Yu,{size:64,className:"mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"No members found"}),r.jsxs(sn,{to:"/admin/members/new",className:"inline-flex items-center gap-2 mt-4 text-orange-600 hover:text-orange-700 font-semibold",children:[r.jsx(Rr,{size:20}),"Add your first member"]})]})})]})},yB=async n=>{if(!n||n.trim()==="")return"";try{const e=`https://api.mymemory.translated.net/get?q=${encodeURIComponent(n)}&langpair=en|mr`,s=await(await fetch(e)).json();return s.responseStatus===200&&s.responseData?s.responseData.translatedText:(console.error("Translation API error:",s),n)}catch(e){return console.error("Translation error:",e),n}},_n=({label:n,name:e,value:t={en:"",mr:""},onChange:s,required:a=!1,type:o="text",placeholder:c="",rows:d=3,disabled:h=!1})=>{const[f,g]=G.useState(!1),[p,v]=G.useState(!0),[b,A]=G.useState(null),S=o==="textarea",j=O=>{const D=O.target.value;if(s({...t,en:D}),p&&D.trim()){b&&clearTimeout(b);const ee=setTimeout(async()=>{g(!0);try{const te=await yB(D);s({en:D,mr:te})}catch(te){console.error("Translation failed:",te)}finally{g(!1)}},1500);A(ee)}},E=O=>{const D=O.target.value;s({...t,mr:D})};G.useEffect(()=>()=>{b&&clearTimeout(b)},[b]);const L=S?"textarea":"input";return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[n," ",a&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx("input",{type:"checkbox",id:`auto-translate-${e}`,checked:p,onChange:O=>v(O.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),r.jsxs("label",{htmlFor:`auto-translate-${e}`,className:"text-gray-600 flex items-center gap-1",children:[r.jsx(Pf,{size:14}),"Auto-translate to Marathi",f&&r.jsx(mV,{size:14,className:"animate-spin text-primary-600 ml-1"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"English"}),r.jsx(L,{type:S?void 0:o,rows:S?d:void 0,value:t.en||"",onChange:j,placeholder:c||`Enter ${n} in English`,required:a,disabled:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:[" (Marathi)",f&&r.jsx("span",{className:"ml-2 text-primary-600 text-xs",children:"Translating..."})]}),r.jsx(L,{type:S?void 0:o,rows:S?d:void 0,value:t.mr||"",onChange:E,placeholder:`${n}  `,disabled:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"}),p&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Auto-translated. You can edit manually."})]})]})]})},F4=()=>{const n=gr(),{id:e}=bo(),t=!!e,[s,a]=G.useState({name:{en:"",mr:""},designation:{en:"",mr:""},phone:"",type:"MEMBER",position:0,termStart:"",termEnd:"",photo:""}),[o,c]=G.useState(null),[d,h]=G.useState({}),[f,g]=G.useState(!1),[p,v]=G.useState(!1);G.useEffect(()=>{(async()=>{if(t&&e)try{g(!0);const O=await jw(e);O&&a({name:O.name||{en:"",mr:""},designation:O.designation||{en:"",mr:""},phone:O.phone||"",type:O.type||"MEMBER",position:O.position||0,termStart:O.termStart||"",termEnd:O.termEnd||"",photo:O.photo||""})}catch(O){console.error("Error loading member:",O),alert("Failed to load member. Please try again.")}finally{g(!1)}})()},[t,e]);const b=(L,O)=>{a(D=>({...D,[L]:O})),d[L]&&h(D=>({...D,[L]:""}))},A=L=>{const{name:O,value:D}=L.target;a(ee=>({...ee,[O]:D})),d[O]&&h(ee=>({...ee,[O]:""}))},S=()=>{const L={};return s.name.en.trim()||(L.name="Member name is required"),s.designation.en.trim()||(L.designation="Designation is required"),s.phone.trim()?/^[\+]?[0-9]{10,13}$/.test(s.phone.replace(/\s/g,""))||(L.phone="Invalid phone number"):L.phone="Phone number is required",s.type||(L.type="Member type is required"),s.termStart&&s.termEnd&&s.termEnd<s.termStart&&(L.termEnd="End date must be after start date"),L},j=async L=>{L.preventDefault();const O=S();if(Object.keys(O).length>0){h(O);return}v(!0);try{const D={name:s.name,designation:s.designation,phone:s.phone,type:s.type,position:parseInt(s.position)||0,photo:s.photo,...s.termStart&&{termStart:s.termStart},...s.termEnd&&{termEnd:s.termEnd}};t?(await kz(e,D,o),console.log("Member updated successfully")):(await Iz(D,o),console.log("Member created successfully")),n("/admin/members")}catch(D){console.error("Error saving member:",D),alert("Failed to save member. Please try again.")}finally{v(!1)}},E=L=>{const O=L.target.files[0];if(O){c(O);const D=new FileReader;D.onloadend=()=>{a(ee=>({...ee,photo:D.result}))},D.readAsDataURL(O)}};return f?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/admin/members"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(vi,{size:24})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:t?"Edit Member":"Add New Member"}),r.jsx("p",{className:"text-gray-600 mt-1",children:t?"Update member information":"Fill in the details to add a new member"})]})]}),r.jsx("form",{onSubmit:j,className:"bg-white rounded-xl shadow-lg p-8",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Photo"}),r.jsxs("div",{className:"flex items-center gap-6",children:[s.photo?r.jsx("img",{src:s.photo,alt:"Member photo",className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-200"}):r.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center",children:r.jsx(cc,{size:32,className:"text-gray-400"})}),r.jsxs("div",{children:[r.jsx("input",{type:"file",id:"photo",accept:"image/*",onChange:E,className:"hidden"}),r.jsxs("label",{htmlFor:"photo",className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold cursor-pointer transition-all",children:[r.jsx(cc,{size:16}),"Choose Photo"]}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Recommended: 400x400px, Max 2MB"})]})]})]}),r.jsxs("div",{children:[r.jsx(_n,{label:"Member Name",name:"name",value:s.name,onChange:L=>b("name",L),required:!0,placeholder:"Enter member name"}),d.name&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.name})]}),r.jsxs("div",{children:[r.jsx(_n,{label:"Designation",name:"designation",value:s.designation,onChange:L=>b("designation",L),required:!0,placeholder:"Enter designation"}),d.designation&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.designation})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",id:"phone",name:"phone",value:s.phone,onChange:A,className:`w-full px-4 py-3 border ${d.phone?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent`,placeholder:"+91 1234567890"}),d.phone&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.phone})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"type",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Member Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{id:"type",name:"type",value:s.type,onChange:A,className:`w-full px-4 py-3 border ${d.type?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent`,children:[r.jsx("option",{value:"SARPANCH",children:"Sarpanch"}),r.jsx("option",{value:"UPSARPANCH",children:"Upsarpanch"}),r.jsx("option",{value:"MEMBER",children:"Member"}),r.jsx("option",{value:"STAFF",children:"Staff"})]}),d.type&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.type})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"position",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Display Order"}),r.jsx("input",{type:"number",id:"position",name:"position",value:s.position,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"1"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Lower numbers appear first"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"termStart",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Term Start Date",r.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Optional)"})]}),r.jsx("input",{type:"date",id:"termStart",name:"termStart",value:s.termStart,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"YYYY-MM-DD"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"termEnd",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Term End Date",r.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Optional)"})]}),r.jsx("input",{type:"date",id:"termEnd",name:"termEnd",value:s.termEnd,onChange:A,min:s.termStart,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"YYYY-MM-DD"}),s.termStart&&s.termEnd&&s.termEnd<s.termStart&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:"End date must be after start date"})]})]}),r.jsxs("div",{className:"flex gap-4 pt-6 border-t",children:[r.jsx("button",{type:"button",onClick:()=>n("/admin/members"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-all",children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:p,className:"flex items-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-8 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all disabled:opacity-50",children:[r.jsx(ks,{size:20}),p?"Saving...":t?"Update Member":"Add Member"]})]})]})})]})},bB=()=>{const[n,e]=G.useState([]),[t,s]=G.useState(""),[a,o]=G.useState("ALL"),[c,d]=G.useState(!0),h=["ALL","Certificate","Tax","License","Registration","Other"];G.useEffect(()=>{(async()=>{try{d(!0);const b=await _w();e(b)}catch(b){console.error("Error loading services:",b)}finally{d(!1)}})()},[]);const f=n.filter(v=>{const b=v.name.en.toLowerCase().includes(t.toLowerCase())||v.name.mr.includes(t),A=a==="ALL"||v.category===a;return b&&A}),g=async v=>{if(window.confirm("Are you sure you want to delete this service?"))try{await Oz(v),e(n.filter(b=>b.id!==v)),console.log("Service deleted successfully")}catch(b){console.error("Error deleting service:",b),alert("Failed to delete service. Please try again.")}},p=v=>({Certificate:"bg-blue-100 text-blue-700",Tax:"bg-green-100 text-green-700",License:"bg-purple-100 text-purple-700",Registration:"bg-orange-100 text-orange-700",Other:"bg-gray-100 text-gray-700"})[v]||"bg-gray-100 text-gray-700";return c?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Services Management"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all services provided by Gram Panchayat"})]}),r.jsxs(sn,{to:"/admin/services/new",className:"flex items-center gap-2 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[r.jsx(Rr,{size:20}),"Add Service"]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search services...",value:t,onChange:v=>s(v.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),r.jsx("select",{value:a,onChange:v=>o(v.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:h.map(v=>r.jsx("option",{value:v,children:v==="ALL"?"All Categories":v},v))})]})}),r.jsx("div",{className:"grid grid-cols-1 gap-6",children:f.length>0?f.map(v=>r.jsx("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all overflow-hidden",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center",children:r.jsx(mr,{size:24,className:"text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:v.name.en}),r.jsx("p",{className:"text-gray-600",children:v.name.mr})]})]})}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${p(v.category)}`,children:v.category})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Description"}),r.jsx("p",{className:"text-gray-600 text-sm",children:v.description.en})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Fees:"}),r.jsx("span",{className:"text-green-600 font-bold",children:v.fees})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Processing Time:"}),r.jsx("span",{className:"text-blue-600 font-semibold",children:v.processingTime})]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Required Documents"}),r.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:r.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans",children:v.requiredDocuments.en})})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"How to Apply"}),r.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:r.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans",children:v.howToApply.en})})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsxs(sn,{to:`/admin/services/edit/${v.id}`,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-semibold transition-all",children:[r.jsx(lc,{size:18}),"Edit Service"]}),r.jsxs("button",{onClick:()=>g(v.id),className:"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:[r.jsx(_a,{size:18}),"Delete"]})]})]})},v.id)):r.jsxs("div",{className:"col-span-full text-center py-12 bg-white rounded-xl shadow-lg",children:[r.jsx(mr,{size:64,className:"mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"No services found"}),r.jsxs(sn,{to:"/admin/services/new",className:"inline-flex items-center gap-2 mt-4 text-green-600 hover:text-green-700 font-semibold",children:[r.jsx(Rr,{size:20}),"Add your first service"]})]})})]})},U4=()=>{const n=gr(),{id:e}=bo(),t=!!e,[s,a]=G.useState({name:{en:"",mr:""},category:"Certificate",description:{en:"",mr:""},requiredDocuments:{en:"",mr:""},fees:"",processingTime:"",howToApply:{en:"",mr:""}}),[o,c]=G.useState({}),[d,h]=G.useState(!1),[f,g]=G.useState(!1),p=["Certificate","Tax","License","Registration","Other"];G.useEffect(()=>{(async()=>{if(t&&e)try{h(!0);const E=await Lz(e);E&&a({name:E.name||{en:"",mr:""},category:E.category||"Certificate",description:E.description||{en:"",mr:""},requiredDocuments:E.requiredDocuments||{en:"",mr:""},fees:E.fees||"",processingTime:E.processingTime||"",howToApply:E.howToApply||{en:"",mr:""}})}catch(E){console.error("Error loading service:",E),alert("Failed to load service. Please try again.")}finally{h(!1)}})()},[t,e]);const v=(j,E)=>{a(L=>({...L,[j]:E})),o[j]&&c(L=>({...L,[j]:""}))},b=j=>{const{name:E,value:L}=j.target;a(O=>({...O,[E]:L})),o[E]&&c(O=>({...O,[E]:""}))},A=()=>{const j={};return s.name.en.trim()||(j.name="Service name is required"),s.description.en.trim()||(j.description="Description is required"),s.requiredDocuments.en.trim()||(j.requiredDocuments="Required documents is required"),s.fees.trim()||(j.fees="Fees is required"),s.processingTime.trim()||(j.processingTime="Processing time is required"),s.howToApply.en.trim()||(j.howToApply="How to apply is required"),j},S=async j=>{j.preventDefault();const E=A();if(Object.keys(E).length>0){c(E);return}g(!0);try{const L={name:s.name,category:s.category,description:s.description,requiredDocuments:s.requiredDocuments,fees:s.fees,processingTime:s.processingTime,howToApply:s.howToApply};t?(await Mz(e,L),console.log("Service updated successfully")):(await Dz(L),console.log("Service created successfully")),n("/admin/services")}catch(L){console.error("Error saving service:",L),alert("Failed to save service. Please try again.")}finally{g(!1)}};return d?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/admin/services"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(vi,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Service":"Add New Service"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update service information":"Add a new service offered by the Panchayat"})]})]})}),r.jsxs("form",{onSubmit:S,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(_n,{label:"Service Name",name:"name",value:s.name,onChange:j=>v("name",j),required:!0,placeholder:"Enter service name"}),o.name&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"category",value:s.category,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:p.map(j=>r.jsx("option",{value:j,children:j},j))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fees ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"fees",value:s.fees,onChange:b,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.fees?"border-red-500":"border-gray-300"}`,placeholder:"e.g., 100 or Free"}),o.fees&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.fees})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Processing Time ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"processingTime",value:s.processingTime,onChange:b,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.processingTime?"border-red-500":"border-gray-300"}`,placeholder:"e.g., 7 days or 1-2 weeks"}),o.processingTime&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.processingTime})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Description"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_n,{label:"Service Description",name:"description",type:"textarea",rows:5,value:s.description,onChange:j=>v("description",j),required:!0,placeholder:"Describe the service in detail..."}),o.description&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.description})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Required Documents"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_n,{label:"Documents Required",name:"requiredDocuments",type:"textarea",rows:5,value:s.requiredDocuments,onChange:j=>v("requiredDocuments",j),required:!0,placeholder:"List required documents..."}),o.requiredDocuments&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.requiredDocuments})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"How to Apply"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_n,{label:"Application Process",name:"howToApply",type:"textarea",rows:5,value:s.howToApply,onChange:j=>v("howToApply",j),required:!0,placeholder:"Explain how to apply for this service..."}),o.howToApply&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.howToApply})]})]}),r.jsxs("div",{className:"flex gap-4 justify-end",children:[r.jsx("button",{type:"button",onClick:()=>n("/admin/services"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50",children:[r.jsx(ks,{className:"w-4 h-4"}),f?"Saving...":t?"Update Service":"Save Service"]})]})]})]})},vB=()=>{const[n,e]=G.useState([]),[t,s]=G.useState(""),[a,o]=G.useState("ALL"),[c,d]=G.useState(!0),h=["ALL","CENTRAL","STATE","DISTRICT"];G.useEffect(()=>{(async()=>{try{d(!0);const A=await Sw();e(A)}catch(A){console.error("Error loading schemes:",A)}finally{d(!1)}})()},[]);const f=n.filter(b=>{const A=b.name.en.toLowerCase().includes(t.toLowerCase())||b.name.mr.includes(t),S=a==="ALL"||b.category===a;return A&&S}),g=async b=>{if(window.confirm("Are you sure you want to delete this scheme?"))try{await Bz(b),e(n.filter(A=>A.id!==b)),console.log("Scheme deleted successfully")}catch(A){console.error("Error deleting scheme:",A),alert("Failed to delete scheme. Please try again.")}},p=b=>({CENTRAL:"bg-orange-100 text-orange-700",STATE:"bg-green-100 text-green-700",DISTRICT:"bg-blue-100 text-blue-700"})[b]||"bg-gray-100 text-gray-700",v=b=>b==="ACTIVE"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700";return c?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Schemes Management"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage government schemes and programs"})]}),r.jsxs(sn,{to:"/admin/schemes/new",className:"flex items-center gap-2 bg-gradient-to-r from-blue-800 to-blue-900 hover:from-blue-900 hover:to-blue-950 text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[r.jsx(Rr,{size:20}),"Add Scheme"]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search schemes...",value:t,onChange:b=>s(b.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("select",{value:a,onChange:b=>o(b.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:h.map(b=>r.jsx("option",{value:b,children:b==="ALL"?"All Categories":b},b))})]})}),r.jsx("div",{className:"grid grid-cols-1 gap-6",children:f.length>0?f.map(b=>r.jsx("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all overflow-hidden",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-800 to-blue-900 rounded-full flex items-center justify-center",children:r.jsx(nm,{size:24,className:"text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:b.name.en}),r.jsx("p",{className:"text-gray-600",children:b.name.mr})]})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${p(b.category)}`,children:b.category}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${v(b.status)}`,children:b.status})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Description"}),r.jsx("p",{className:"text-gray-600 text-sm",children:b.description.en})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Eligibility Criteria"}),r.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:r.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans",children:b.eligibility.en})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Required Documents"}),r.jsx("div",{className:"bg-orange-50 p-4 rounded-lg",children:r.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans",children:b.documentsRequired.en})})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Application Process"}),r.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:r.jsx("p",{className:"text-sm text-gray-700",children:b.applicationProcess.en})})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsxs(sn,{to:`/admin/schemes/edit/${b.id}`,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-semibold transition-all",children:[r.jsx(lc,{size:18}),"Edit Scheme"]}),r.jsxs("button",{onClick:()=>g(b.id),className:"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:[r.jsx(_a,{size:18}),"Delete"]})]})]})},b.id)):r.jsxs("div",{className:"col-span-full text-center py-12 bg-white rounded-xl shadow-lg",children:[r.jsx(nm,{size:64,className:"mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"No schemes found"}),r.jsxs(sn,{to:"/admin/schemes/new",className:"inline-flex items-center gap-2 mt-4 text-blue-600 hover:text-blue-700 font-semibold",children:[r.jsx(Rr,{size:20}),"Add your first scheme"]})]})})]})};function V4(){const n=gr(),{id:e}=bo(),t=!!e,[s,a]=G.useState(!1),[o,c]=G.useState(!1),[d,h]=G.useState({name:{en:"",mr:""},category:"CENTRAL",description:{en:"",mr:""},eligibility:{en:"",mr:""},documentsRequired:{en:"",mr:""},applicationProcess:{en:"",mr:""},status:"ACTIVE"}),[f,g]=G.useState({});G.useEffect(()=>{(async()=>{if(t)try{a(!0);const j=await Uz(e);j&&h({name:j.name,category:j.category,description:j.description,eligibility:j.eligibility,documentsRequired:{en:j.documentsRequired.en.join(`
`),mr:j.documentsRequired.mr.join(`
`)},applicationProcess:j.applicationProcess,status:j.status})}catch(j){console.error("Error loading scheme:",j)}finally{a(!1)}})()},[e,t]);const p=(S,j)=>{h(E=>({...E,[S]:j})),f[S]&&g(E=>({...E,[S]:""}))},v=S=>{const{name:j,value:E}=S.target;h(L=>({...L,[j]:E})),f[j]&&g(L=>({...L,[j]:""}))},b=()=>{const S={};return d.name.en.trim()||(S.name="Scheme name is required"),d.description.en.trim()||(S.description="Description is required"),d.eligibility.en.trim()||(S.eligibility="Eligibility criteria is required"),d.documentsRequired.en.trim()||(S.documentsRequired="Required documents are required"),d.applicationProcess.en.trim()||(S.applicationProcess="Application process is required"),g(S),Object.keys(S).length===0},A=async S=>{if(S.preventDefault(),!!b())try{c(!0);const j={name:d.name,category:d.category,description:d.description,eligibility:d.eligibility,documentsRequired:{en:d.documentsRequired.en.split(`
`).filter(E=>E.trim()),mr:d.documentsRequired.mr.split(`
`).filter(E=>E.trim())},applicationProcess:d.applicationProcess,status:d.status};t?await zz(e,j):await Vz(j),n("/admin/schemes")}catch(j){console.error("Error saving scheme:",j),alert("Failed to save scheme. Please try again.")}finally{c(!1)}};return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/admin/schemes"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(vi,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Scheme":"Add New Scheme"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update scheme information":"Add a new government scheme"})]})]})}),s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsx(r.Fragment,{children:r.jsxs("form",{onSubmit:A,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(_n,{label:"Scheme Name",name:"name",value:d.name,onChange:S=>p("name",S),required:!0,placeholder:"Enter scheme name"}),f.name&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"category",value:d.category,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"CENTRAL",children:"Central Government"}),r.jsx("option",{value:"STATE",children:"State Government"}),r.jsx("option",{value:"DISTRICT",children:"District Level"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"status",value:d.status,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ACTIVE",children:"Active"}),r.jsx("option",{value:"INACTIVE",children:"Inactive"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Description"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_n,{label:"Scheme Description",name:"description",type:"textarea",rows:5,value:d.description,onChange:S=>p("description",S),required:!0,placeholder:"Describe the scheme in detail..."}),f.description&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.description})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Eligibility Criteria"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_n,{label:"Eligibility Criteria",name:"eligibility",type:"textarea",rows:5,value:d.eligibility,onChange:S=>p("eligibility",S),required:!0,placeholder:"Who can apply for this scheme..."}),f.eligibility&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.eligibility})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Required Documents"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_n,{label:"Documents Required",name:"documentsRequired",type:"textarea",rows:6,value:d.documentsRequired,onChange:S=>p("documentsRequired",S),required:!0,placeholder:"List required documents (one per line)..."}),f.documentsRequired&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.documentsRequired}),r.jsx("p",{className:"text-xs text-gray-500",children:"Enter one document per line"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Application Process"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_n,{label:"Application Process",name:"applicationProcess",type:"textarea",rows:6,value:d.applicationProcess,onChange:S=>p("applicationProcess",S),required:!0,placeholder:"Explain how to apply for this scheme..."}),f.applicationProcess&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.applicationProcess})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Status"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheme Status"}),r.jsxs("select",{name:"status",value:d.status,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ACTIVE",children:"Active"}),r.jsx("option",{value:"INACTIVE",children:"Inactive"}),r.jsx("option",{value:"UPCOMING",children:"Upcoming"})]})]})]}),r.jsxs("div",{className:"flex gap-4 justify-end",children:[r.jsx("button",{type:"button",onClick:()=>n("/admin/schemes"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:o,children:"Cancel"}),r.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,children:[r.jsx(ks,{className:"w-4 h-4"}),o?"Saving...":t?"Update Scheme":"Save Scheme"]})]})]})})]})}function wB(){const n=gr(),[e,t]=G.useState([]),[s,a]=G.useState(!0),[o,c]=G.useState(""),[d,h]=G.useState("ALL");G.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const j=await Tw();t(j)}catch(j){console.error("Error loading notices:",j),alert("Failed to load notices. Please try again.")}finally{a(!1)}},g=e.filter(j=>{const E=j.titleEn.toLowerCase().includes(o.toLowerCase())||j.titleMr&&j.titleMr.toLowerCase().includes(o.toLowerCase()),L=d==="ALL"||j.type===d;return E&&L}),p=async j=>{if(window.confirm("Are you sure you want to delete this notice?"))try{await hB(j),t(e.filter(E=>E.id!==j))}catch(E){console.error("Error deleting notice:",E),alert("Failed to delete notice. Please try again.")}},v=j=>{switch(j){case"MEETING":return r.jsx(Wi,{className:"w-4 h-4"});case"TENDER":return r.jsx(mr,{className:"w-4 h-4"});case"ANNOUNCEMENT":return r.jsx(zx,{className:"w-4 h-4"});default:return r.jsx(mr,{className:"w-4 h-4"})}},b=j=>{const E={MEETING:"bg-blue-100 text-blue-700",TENDER:"bg-green-100 text-green-700",ANNOUNCEMENT:"bg-orange-100 text-orange-700"};return r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${E[j]}`,children:[v(j),j]})},A=j=>new Date(j).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),S=j=>{const E=new Date,L=new Date(j.startDate),O=new Date(j.endDate);return E>=L&&E<=O};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Notices Management"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage meetings, tenders, and announcements"})]}),r.jsxs("button",{onClick:()=>n("/admin/notices/new"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-md hover:shadow-lg",children:[r.jsx(Rr,{className:"w-5 h-5"}),"Add Notice"]})]}),s?r.jsx("div",{className:"flex justify-center items-center py-16",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg",children:r.jsx(Wi,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Meetings"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(j=>j.type==="MEETING").length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-green-600 to-green-700 rounded-lg",children:r.jsx(mr,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Tenders"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(j=>j.type==="TENDER").length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg",children:r.jsx(zx,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Announcements"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(j=>j.type==="ANNOUNCEMENT").length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg",children:r.jsx(ss,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(j=>S(j)).length})]})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6 border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search notices...",value:o,onChange:j=>c(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),r.jsx("div",{children:r.jsxs("select",{value:d,onChange:j=>h(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ALL",children:"All Types"}),r.jsx("option",{value:"MEETING",children:"Meetings"}),r.jsx("option",{value:"TENDER",children:"Tenders"}),r.jsx("option",{value:"ANNOUNCEMENT",children:"Announcements"})]})})]})}),r.jsx("div",{className:"space-y-4",children:g.length===0?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center border border-gray-200",children:[r.jsx(Wi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Notices Found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:o||d!=="ALL"?"Try adjusting your filters":"Get started by adding your first notice"}),!o&&d==="ALL"&&r.jsx("button",{onClick:()=>n("/admin/notices/new"),className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all",children:"Add Notice"})]}):g.map(j=>r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b(j.type),S(j)?r.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700 flex items-center gap-1",children:[r.jsx(ai,{className:"w-3 h-3"}),"ACTIVE"]}):r.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600 flex items-center gap-1",children:[r.jsx(_h,{className:"w-3 h-3"}),"INACTIVE"]}),j.showOnHome&&r.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:"ON HOMEPAGE"})]}),r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-1",children:j.titleEn}),j.titleMr&&r.jsx("p",{className:"text-base text-gray-600 mb-3",children:j.titleMr}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ss,{className:"w-4 h-4"}),r.jsxs("span",{children:["From: ",A(j.startDate)]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ss,{className:"w-4 h-4"}),r.jsxs("span",{children:["To: ",A(j.endDate)]})]})]}),r.jsx("p",{className:"text-gray-700 mb-2",children:j.descriptionEn}),j.descriptionMr&&r.jsx("p",{className:"text-gray-600 text-sm",children:j.descriptionMr})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx("button",{onClick:()=>n(`/admin/notices/edit/${j.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:r.jsx(_p,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>p(j.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:r.jsx(_a,{className:"w-5 h-5"})})]})]})},j.id))})]})]})}function z4(){const n=gr(),{id:e}=bo(),t=!!e,[s,a]=G.useState({titleEn:"",titleMr:"",type:"ANNOUNCEMENT",descriptionEn:"",descriptionMr:"",startDate:"",endDate:"",showOnHome:!1}),[o,c]=G.useState({}),[d,h]=G.useState(!1),[f,g]=G.useState(!1);G.useEffect(()=>{t&&p()},[e,t]);const p=async()=>{try{g(!0);const j=await cB(e);a({titleEn:j.titleEn||"",titleMr:j.titleMr||"",type:j.type||"ANNOUNCEMENT",descriptionEn:j.descriptionEn||"",descriptionMr:j.descriptionMr||"",startDate:j.startDate||"",endDate:j.endDate||"",showOnHome:j.showOnHome||!1})}catch(j){console.error("Error loading notice:",j),alert("Failed to load notice. Redirecting to notices list."),n("/admin/notices")}finally{g(!1)}},v=(j,E,L)=>{const O=E?`${j}${E.charAt(0).toUpperCase()+E.slice(1)}`:j;a(D=>({...D,[O]:L})),o[O]&&c(D=>({...D,[O]:""}))},b=j=>{const{name:E,value:L,type:O,checked:D}=j.target;a(ee=>({...ee,[E]:O==="checkbox"?D:L})),o[E]&&c(ee=>({...ee,[E]:""}))},A=()=>{const j={};if(s.titleEn.trim()||(j.titleEn="Title is required"),s.descriptionEn.trim()||(j.descriptionEn="Description is required"),s.startDate||(j.startDate="Start date is required"),s.endDate||(j.endDate="End date is required"),s.startDate&&s.endDate){const E=new Date(s.startDate);new Date(s.endDate)<E&&(j.endDate="End date must be after start date")}return c(j),Object.keys(j).length===0},S=async j=>{if(j.preventDefault(),!!A())try{h(!0);const E={titleEn:s.titleEn,titleMr:s.titleMr,type:s.type,descriptionEn:s.descriptionEn,descriptionMr:s.descriptionMr,startDate:s.startDate,endDate:s.endDate,showOnHome:s.showOnHome};t?(await uB(e,E),alert("Notice updated successfully!")):(await dB(E),alert("Notice created successfully!")),n("/admin/notices")}catch(E){console.error("Error saving notice:",E),alert("Failed to save notice. Please try again.")}finally{h(!1)}};return f?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/admin/notices"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:d,children:r.jsx(vi,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Notice":"Add New Notice"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update notice information":"Create a new notice, meeting, or tender"})]})]})}),r.jsxs("form",{onSubmit:S,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title (English) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:s.titleEn,onChange:j=>v("title","en",j.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.titleEn?"border-red-500":"border-gray-300"}`,placeholder:"Enter notice title in English",disabled:d}),o.titleEn&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.titleEn})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (Marathi)"}),r.jsx("input",{type:"text",value:s.titleMr,onChange:j=>v("title","mr",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"    ",disabled:d})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"type",value:s.type,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",disabled:d,children:[r.jsx("option",{value:"ANNOUNCEMENT",children:"Announcement"}),r.jsx("option",{value:"MEETING",children:"Meeting"}),r.jsx("option",{value:"TENDER",children:"Tender"}),r.jsx("option",{value:"EVENT",children:"Event"}),r.jsx("option",{value:"HOLIDAY",children:"Holiday"}),r.jsx("option",{value:"URGENT",children:"Urgent"}),r.jsx("option",{value:"OTHER",children:"Other"})]})]}),r.jsx("div",{className:"flex items-center",children:r.jsxs("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",name:"showOnHome",checked:s.showOnHome,onChange:b,className:"w-5 h-5 text-orange-600 border-gray-300 rounded focus:ring-orange-500",disabled:d}),r.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Show on Homepage"})]})})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Description"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description (English) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{rows:6,value:s.descriptionEn,onChange:j=>v("description","en",j.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.descriptionEn?"border-red-500":"border-gray-300"}`,placeholder:"Enter detailed description in English",disabled:d}),o.descriptionEn&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.descriptionEn})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Marathi)"}),r.jsx("textarea",{rows:6,value:s.descriptionMr,onChange:j=>v("description","mr",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"    ",disabled:d})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Validity Period"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Start Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"startDate",value:s.startDate,onChange:b,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.startDate?"border-red-500":"border-gray-300"}`,disabled:d}),o.startDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.startDate}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"When this notice becomes active"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["End Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"endDate",value:s.endDate,onChange:b,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${o.endDate?"border-red-500":"border-gray-300"}`,disabled:d}),o.endDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.endDate}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"When this notice expires"})]})]}),r.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Note:"})," The notice will automatically be marked as active during the specified date range. After the end date, it will be marked as inactive."]})})]}),r.jsxs("div",{className:"flex gap-4 justify-end",children:[r.jsx("button",{type:"button",onClick:()=>n("/admin/notices"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",disabled:d,children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:d,children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t?"Updating...":"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ks,{className:"w-4 h-4"}),t?"Update Notice":"Save Notice"]})})]})]})]})}function NB(){const n=gr(),[e,t]=G.useState([]),[s,a]=G.useState(!0),[o,c]=G.useState("");G.useEffect(()=>{d()},[]);const d=async()=>{try{a(!0);const p=await Aw();console.log("Loaded gallery programs from Firebase:",p.length),t(p)}catch(p){console.error("Error loading gallery programs:",p),alert("Failed to load gallery programs")}finally{a(!1)}},h=e.filter(p=>p.titleEn?.toLowerCase().includes(o.toLowerCase())||p.titleMr?.toLowerCase().includes(o.toLowerCase())),f=async p=>{if(window.confirm("Are you sure you want to delete this program/photo? All images will be permanently deleted."))try{await Zz(p),t(e.filter(v=>v.id!==p)),alert("Program deleted successfully!")}catch(v){console.error("Error deleting program:",v),alert("Failed to delete program")}},g=p=>new Date(p).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"});return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Gallery Management"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage photos and programs"})]}),r.jsxs("button",{onClick:()=>n("/admin/gallery/new"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-md hover:shadow-lg",children:[r.jsx(Rr,{className:"w-5 h-5"}),"Add Photo/Program"]})]}),s?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg",children:r.jsx(_r,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Programs"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-green-600 to-green-700 rounded-lg",children:r.jsx(_r,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Images"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.reduce((p,v)=>p+(v.images?.length||0),0)})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-800 to-blue-900 rounded-lg",children:r.jsx(ss,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"This Month"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(p=>{const v=new Date(p.date),b=new Date;return v.getMonth()===b.getMonth()&&v.getFullYear()===b.getFullYear()}).length})]})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6 border border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search programs...",value:o,onChange:p=>c(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.length===0?r.jsxs("div",{className:"col-span-full bg-white rounded-xl shadow-sm p-12 text-center border border-gray-200",children:[r.jsx(_r,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Photos Found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:o?"Try adjusting your search":"Get started by adding your first photo or program"}),!o&&r.jsx("button",{onClick:()=>n("/admin/gallery/new"),className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all",children:"Add Photo/Program"})]}):h.map(p=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200 hover:shadow-lg transition-shadow group",children:[r.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden",children:[p.images&&p.images.length>0?r.jsx("img",{src:p.images[0],alt:p.titleEn,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(_r,{className:"w-16 h-16 text-gray-400"})}),p.images&&p.images.length>1&&r.jsx("div",{className:"absolute top-3 left-3",children:r.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-black/70 text-white shadow-lg flex items-center gap-1",children:[r.jsx(_r,{className:"w-3 h-3"}),p.images.length," photos"]})}),r.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3",children:[r.jsx("button",{onClick:()=>n(`/admin/gallery/edit/${p.id}`),className:"p-3 bg-white/90 hover:bg-white rounded-lg transition-colors",title:"Edit",children:r.jsx(_p,{className:"w-5 h-5 text-blue-600"})}),r.jsx("button",{onClick:()=>f(p.id),className:"p-3 bg-white/90 hover:bg-white rounded-lg transition-colors",title:"Delete",children:r.jsx(_a,{className:"w-5 h-5 text-red-600"})})]})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2",children:[r.jsx(ss,{className:"w-4 h-4"}),r.jsx("span",{children:g(p.date)})]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:p.titleEn}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:p.titleMr}),r.jsx("p",{className:"text-gray-700 text-sm line-clamp-2 mb-2",children:p.descriptionEn}),r.jsx("p",{className:"text-gray-600 text-xs line-clamp-2",children:p.descriptionMr})]})]},p.id))})]})]})}const jB=async(n,e=350,t=1920,s=1080)=>new Promise((a,o)=>{const c=n.size/1024;if(c<=e){console.log(`Image ${n.name} is already small enough (${c.toFixed(2)}KB)`),a(n);return}const d=new FileReader;d.onload=h=>{const f=new Image;f.onload=()=>{let g=f.width,p=f.height;if(g>t||p>s){const E=g/p;g>p?(g=t,p=g/E):(p=s,g=p*E)}const v=document.createElement("canvas");v.width=g,v.height=p,v.getContext("2d").drawImage(f,0,0,g,p);let A=.9;const S=e*1024,j=E=>{v.toBlob(L=>{if(!L){o(new Error("Failed to compress image"));return}if(console.log(`Compressed ${n.name}: ${(L.size/1024).toFixed(2)}KB at quality ${E}`),L.size<=S||E<=.5){const O=new File([L],n.name,{type:"image/jpeg",lastModified:Date.now()});console.log(`Final size: ${(O.size/1024).toFixed(2)}KB`),a(O)}else j(E-.1)},"image/jpeg",E)};j(A)},f.onerror=()=>{o(new Error("Failed to load image"))},f.src=h.target.result},d.onerror=()=>{o(new Error("Failed to read file"))},d.readAsDataURL(n)}),_B=n=>{const e=[];if(!n.type.startsWith("image/"))return e.push("File must be an image"),{valid:!1,errors:e};const t=10;return n.size>t*1024*1024?(e.push(`File size must be less than ${t}MB`),{valid:!1,errors:e}):["image/jpeg","image/jpg","image/png","image/webp"].includes(n.type)?{valid:!0,errors:[]}:(e.push("Only JPEG, PNG, and WebP images are allowed"),{valid:!1,errors:e})};function B4(){const n=gr(),{id:e}=bo(),t=!!e,[s,a]=G.useState({titleEn:"",titleMr:"",descriptionEn:"",descriptionMr:"",date:"",youtubeLink:""}),[o,c]=G.useState([]),[d,h]=G.useState([]),[f,g]=G.useState([]),[p,v]=G.useState(!1),[b,A]=G.useState({}),[S,j]=G.useState(!1),[E,L]=G.useState(!1);G.useEffect(()=>{t&&O()},[e,t]);const O=async()=>{try{L(!0);const P=await qT(e);a({titleEn:P.titleEn||"",titleMr:P.titleMr||"",descriptionEn:P.descriptionEn||"",descriptionMr:P.descriptionMr||"",date:P.date?.toISOString?.().split("T")[0]||"",youtubeLink:P.youtubeLink||""}),c(P.images||[])}catch(P){console.error("Error loading program:",P),alert("Failed to load program"),n("/admin/gallery")}finally{L(!1)}},D=(P,z,le)=>{const Ne=`${P}${z.charAt(0).toUpperCase()+z.slice(1)}`;a(ie=>({...ie,[Ne]:le})),b[P]&&A(ie=>({...ie,[P]:""}))},ee=P=>{const{name:z,value:le}=P.target;a(Ne=>({...Ne,[z]:le})),b[z]&&A(Ne=>({...Ne,[z]:""}))},te=async P=>{const z=Array.from(P.target.files);if(z.length!==0){v(!0);try{const le=[],Ne=[];for(const ie of z){const ge=_B(ie);if(!ge.valid){Ne.push(`${ie.name}: ${ge.errors.join(", ")}`);continue}try{const ue=ie.size/1024;console.log(`Original size of ${ie.name}: ${ue.toFixed(2)}KB`);let je=ie;if(ue>1024){console.log(`Compressing ${ie.name}...`),je=await jB(ie,350);const Be=je.size/1024;console.log(`Compressed ${ie.name}: ${ue.toFixed(2)}KB  ${Be.toFixed(2)}KB`)}le.push(je)}catch(ue){console.error(`Error compressing ${ie.name}:`,ue),Ne.push(`${ie.name}: Failed to compress`)}}if(Ne.length>0&&alert(`Some files had errors:
`+Ne.join(`
`)),le.length===0){v(!1);return}h(ie=>[...ie,...le]);for(const ie of le){const ge=new FileReader;ge.onloadend=()=>{g(ue=>[...ue,ge.result])},ge.readAsDataURL(ie)}if(A(ie=>({...ie,images:""})),le.length>0){const ie=le.reduce((ge,ue)=>ge+ue.size,0)/1024;console.log(`Successfully processed ${le.length} image(s). Total size: ${ie.toFixed(2)}KB`)}}catch(le){console.error("Error processing images:",le),alert("Failed to process images. Please try again.")}finally{v(!1)}}},H=P=>{c(z=>z.filter(le=>le!==P))},M=P=>{h(z=>z.filter((le,Ne)=>Ne!==P)),g(z=>z.filter((le,Ne)=>Ne!==P))},I=()=>{const P={};s.titleEn.trim()||(P.titleEn="English title is required"),s.descriptionEn.trim()||(P.descriptionEn="English description is required"),s.date||(P.date="Date is required");const z=t&&o.length>0||d.length>0,le=s.youtubeLink&&s.youtubeLink.trim()!=="";return!z&&!le&&(P.media="Please provide either images or a YouTube video link"),s.youtubeLink&&s.youtubeLink.trim()!==""&&(/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/.+/.test(s.youtubeLink)||(P.youtubeLink="Please enter a valid YouTube URL")),A(P),Object.keys(P).length===0},U=async P=>{if(P.preventDefault(),!!I())try{j(!0);const z={titleEn:s.titleEn,titleMr:s.titleMr,descriptionEn:s.descriptionEn,descriptionMr:s.descriptionMr,date:s.date,youtubeLink:s.youtubeLink||""};t?(await Jz(e,z,d,o),alert("Program updated successfully!")):(await Qz(z,d),alert("Program created successfully!")),n("/admin/gallery")}catch(z){console.error("Error saving program:",z),alert("Failed to save program. Please try again.")}finally{j(!1)}};if(E)return r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})});const k=o.length+d.length;return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/admin/gallery"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:S,children:r.jsx(vi,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Photo/Program":"Add New Photo/Program"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update photo/program information":"Add a new photo or program to the gallery"})]})]})}),r.jsxs("form",{onSubmit:U,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b flex items-center justify-between",children:[r.jsxs("span",{children:["Photos (",k,")"]}),k>0&&r.jsxs("span",{className:"text-sm font-normal text-gray-500",children:[o.length," saved + ",d.length," new"]})]}),r.jsxs("div",{className:"space-y-4",children:[o.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Saved Images"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:o.map((P,z)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:P,alt:`Existing ${z+1}`,className:"w-full h-32 object-cover rounded-lg border border-gray-300"}),r.jsx("button",{type:"button",onClick:()=>H(P),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors shadow-lg opacity-0 group-hover:opacity-100",disabled:S,children:r.jsx(Ss,{className:"w-4 h-4"})})]},z))})]}),f.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"New Images (will be uploaded)"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:f.map((P,z)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:P,alt:`New ${z+1}`,className:"w-full h-32 object-cover rounded-lg border border-orange-300"}),r.jsx("button",{type:"button",onClick:()=>M(z),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors shadow-lg opacity-0 group-hover:opacity-100",disabled:S,children:r.jsx(Ss,{className:"w-4 h-4"})})]},z))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block",children:[r.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${p?"border-orange-500 bg-orange-50":"border-gray-300 hover:border-orange-500"}`,children:p?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-orange-600 mx-auto mb-3"}),r.jsx("p",{className:"text-orange-600 font-medium mb-1",children:"Compressing images..."}),r.jsx("p",{className:"text-sm text-orange-500",children:"Please wait while we optimize your images"})]}):r.jsxs(r.Fragment,{children:[r.jsx(_r,{className:"w-10 h-10 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 mb-1",children:"Click to upload images"}),r.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, WebP up to 10MB"}),r.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Images over 1MB will be automatically compressed to ~350KB"})]})}),r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:te,className:"hidden",disabled:S||p})]}),b.media&&r.jsx("p",{className:"text-red-500 text-sm mt-2",children:b.media})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b flex items-center gap-2",children:[r.jsx(O2,{className:"w-5 h-5 text-orange-600"}),r.jsx("span",{children:"YouTube Video (Optional)"})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube Video Link"}),r.jsx("input",{type:"url",value:s.youtubeLink,onChange:P=>a({...s,youtubeLink:P.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${b.youtubeLink?"border-red-500":"border-gray-300"}`,placeholder:"https://www.youtube.com/watch?v=...",disabled:S}),b.youtubeLink&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.youtubeLink}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Add a YouTube video link to display alongside or instead of images. Supported formats: youtube.com/watch?v=, youtu.be/"})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title (English) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:s.titleEn,onChange:P=>D("title","en",P.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${b.titleEn?"border-red-500":"border-gray-300"}`,placeholder:"Enter program title in English",disabled:S}),b.titleEn&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.titleEn})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (Marathi)"}),r.jsx("input",{type:"text",value:s.titleMr,onChange:P=>D("title","mr",P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"    ",disabled:S})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"date",value:s.date,onChange:ee,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${b.date?"border-red-500":"border-gray-300"}`,disabled:S}),b.date&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.date})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Description"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description (English) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{rows:4,value:s.descriptionEn,onChange:P=>D("description","en",P.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${b.descriptionEn?"border-red-500":"border-gray-300"}`,placeholder:"Describe the program or event in English",disabled:S}),b.descriptionEn&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.descriptionEn})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Marathi)"}),r.jsx("textarea",{rows:4,value:s.descriptionMr,onChange:P=>D("description","mr",P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"     ",disabled:S})]})]})]}),r.jsxs("div",{className:"flex gap-4 justify-end",children:[r.jsx("button",{type:"button",onClick:()=>n("/admin/gallery"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",disabled:S,children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:S,children:S?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t?"Updating...":"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ks,{className:"w-4 h-4"}),t?"Update Program":"Save Program"]})})]})]})]})}function SB(){const n=gr(),[e,t]=G.useState([]),[s,a]=G.useState(!0),[o,c]=G.useState(""),[d,h]=G.useState("ALL"),[f,g]=G.useState("ALL");G.useEffect(()=>{p()},[]);const p=async()=>{try{a(!0);const E=await Ew();t(E)}catch(E){console.error("Error loading forms:",E),alert("Failed to load forms. Please try again.")}finally{a(!1)}},v=e.filter(E=>{const L=E.titleEn.toLowerCase().includes(o.toLowerCase())||E.titleMr&&E.titleMr.toLowerCase().includes(o.toLowerCase()),O=d==="ALL"||E.category===d,D=f==="ALL"||E.language===f;return L&&O&&D}),b=async(E,L)=>{if(window.confirm("Are you sure you want to delete this form? The PDF file will also be removed."))try{await Kz(E,L),t(e.filter(O=>O.id!==E))}catch(O){console.error("Error deleting form:",O),alert("Failed to delete form. Please try again.")}},A=E=>{const L={CERTIFICATE:"bg-blue-100 text-blue-700",APPLICATION:"bg-green-100 text-green-700",TAX:"bg-orange-100 text-orange-700",LICENSE:"bg-purple-100 text-purple-700",OTHER:"bg-gray-100 text-gray-700"};return r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${L[E]}`,children:E})},S=E=>{const L={ENGLISH:"bg-blue-500 text-white",MARATHI:"bg-orange-500 text-white",BOTH:"bg-gradient-to-r from-blue-500 to-orange-500 text-white"};return r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${L[E]}`,children:[r.jsx(Pf,{className:"w-3 h-3"}),E]})},j=E=>{E.fileUrl?window.open(E.fileUrl,"_blank"):alert(" No file URL available for this form. Please edit and re-upload the PDF file.")};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Forms & Downloads"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage downloadable forms and documents"})]}),r.jsxs("button",{onClick:()=>n("/admin/forms/new"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-md hover:shadow-lg",children:[r.jsx(Rr,{className:"w-5 h-5"}),"Upload Form"]})]}),s?r.jsx("div",{className:"flex justify-center items-center py-16",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg",children:r.jsx(mr,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Forms"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg",children:r.jsx(Pf,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"English"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(E=>E.language==="ENGLISH"||E.language==="BOTH").length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-600 to-orange-700 rounded-lg",children:r.jsx(Pf,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Marathi"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(E=>E.language==="MARATHI"||E.language==="BOTH").length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-green-600 to-green-700 rounded-lg",children:r.jsx(Go,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Downloads"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.reduce((E,L)=>E+(L.downloads||0),0)})]})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6 border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search forms...",value:o,onChange:E=>c(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),r.jsx("div",{children:r.jsxs("select",{value:d,onChange:E=>h(E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ALL",children:"All Categories"}),r.jsx("option",{value:"CERTIFICATE",children:"Certificate"}),r.jsx("option",{value:"APPLICATION",children:"Application"}),r.jsx("option",{value:"TAX",children:"Tax"}),r.jsx("option",{value:"LICENSE",children:"License"}),r.jsx("option",{value:"OTHER",children:"Other"})]})}),r.jsx("div",{children:r.jsxs("select",{value:f,onChange:E=>g(E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ALL",children:"All Languages"}),r.jsx("option",{value:"ENGLISH",children:"English Only"}),r.jsx("option",{value:"MARATHI",children:"Marathi Only"}),r.jsx("option",{value:"BOTH",children:"Both Languages"})]})})]})}),r.jsx("div",{className:"space-y-4",children:v.length===0?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center border border-gray-200",children:[r.jsx(mr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Forms Found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:o||d!=="ALL"||f!=="ALL"?"Try adjusting your filters":"Get started by uploading your first form"}),!o&&d==="ALL"&&f==="ALL"&&r.jsx("button",{onClick:()=>n("/admin/forms/new"),className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all",children:"Upload Form"})]}):v.map(E=>r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[A(E.category),S(E.language),!E.fileUrl&&r.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700 flex items-center gap-1 animate-pulse",children:[r.jsx(ww,{className:"w-3 h-3"}),"Missing File"]})]}),r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-1",children:E.titleEn}),E.titleMr&&r.jsx("p",{className:"text-base text-gray-600 mb-3",children:E.titleMr}),r.jsx("p",{className:"text-gray-700 mb-2",children:E.descriptionEn}),E.descriptionMr&&r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:E.descriptionMr}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"w-4 h-4"}),r.jsx("span",{children:E.fileName||"PDF Document"})]}),E.fileSize&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Go,{className:"w-4 h-4"}),r.jsxs("span",{children:[(E.fileSize/1024).toFixed(2)," KB"]})]})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx("button",{onClick:()=>j(E),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download",children:r.jsx(Go,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>n(`/admin/forms/edit/${E.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:r.jsx(_p,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>b(E.id,E.fileUrl),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:r.jsx(_a,{className:"w-5 h-5"})})]})]})},E.id))})]})]})}function q4(){const n=gr(),{id:e}=bo(),t=!!e,[s,a]=G.useState({titleEn:"",titleMr:"",descriptionEn:"",descriptionMr:"",category:"APPLICATION",language:"BOTH",file:null,fileName:"",existingFileUrl:""}),[o,c]=G.useState({}),[d,h]=G.useState(!1),[f,g]=G.useState(0);G.useEffect(()=>{(async()=>{if(t)try{h(!0);const L=await Hz(e);L?a({titleEn:L.titleEn||"",titleMr:L.titleMr||"",descriptionEn:L.descriptionEn||"",descriptionMr:L.descriptionMr||"",category:L.category,language:L.language,file:null,fileName:L.fileName||"",existingFileUrl:L.fileUrl||""}):(alert("Form not found"),n("/admin/forms"))}catch(L){console.error("Error loading form:",L),alert("Failed to load form")}finally{h(!1)}})()},[e,t,n]);const p=(E,L)=>{a(O=>({...O,[E]:L})),o[E]&&c(O=>({...O,[E]:""}))},v=E=>{const{name:L,value:O}=E.target;a(D=>({...D,[L]:O})),o[L]&&c(D=>({...D,[L]:""}))},b=E=>{const L=E.target.files[0];if(L){if(L.type!=="application/pdf"){c(O=>({...O,file:"Please select a PDF file"}));return}if(L.size>10*1024*1024){c(O=>({...O,file:"File size should be less than 10MB"}));return}a(O=>({...O,file:L,fileName:L.name})),c(O=>({...O,file:""}))}},A=()=>{a(E=>({...E,file:null,fileName:""}))},S=()=>{const E={};return s.titleEn.trim()||(E.titleEn="English title is required"),s.descriptionEn.trim()||(E.descriptionEn="English description is required"),!s.file&&!t&&(E.file="PDF file is required"),!s.fileName&&!s.file&&(E.file="PDF file is required"),c(E),Object.keys(E).length===0},j=async E=>{if(E.preventDefault(),!!S())try{h(!0),g(0);const L={titleEn:s.titleEn,titleMr:s.titleMr,descriptionEn:s.descriptionEn,descriptionMr:s.descriptionMr,category:s.category,language:s.language};t?(await Wz(e,L,s.file,s.existingFileUrl,O=>g(O)),alert("Form updated successfully!")):(await $z(L,s.file,O=>g(O)),alert("Form uploaded successfully!")),n("/admin/forms")}catch(L){console.error("Error saving form:",L),alert(`Failed to ${t?"update":"upload"} form: ${L.message}`)}finally{h(!1),g(0)}};return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/admin/forms"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(vi,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Form":"Upload New Form"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update form information":"Upload a new downloadable form"})]})]})}),r.jsxs("form",{onSubmit:j,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"PDF File Upload"}),r.jsxs("div",{className:"space-y-4",children:[s.fileName?r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(mr,{className:"w-8 h-8 text-red-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:s.fileName}),r.jsx("p",{className:"text-sm text-gray-500",children:"PDF Document"})]})]}),r.jsx("button",{type:"button",onClick:A,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(Ss,{className:"w-5 h-5"})})]}):r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[r.jsx(cc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Click to upload or drag and drop"}),r.jsx("p",{className:"text-sm text-gray-500",children:"PDF up to 10MB"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block",children:r.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:b,className:`block w-full text-sm text-gray-500
                    file:mr-4 file:py-2 file:px-4
                    file:rounded-lg file:border-0
                    file:text-sm file:font-semibold
                    file:bg-gradient-to-r file:from-orange-500 file:to-orange-600
                    file:text-white hover:file:from-orange-600 hover:file:to-orange-700
                    file:cursor-pointer cursor-pointer`})}),o.file&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.file})]}),d&&f>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[r.jsx("span",{children:"Uploading..."}),r.jsxs("span",{children:[f,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-2 rounded-full transition-all duration-300",style:{width:`${f}%`}})})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Form Title (English) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:s.titleEn,onChange:E=>p("titleEn",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter form title in English"}),o.titleEn&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.titleEn})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Form Title (Marathi)"}),r.jsx("input",{type:"text",value:s.titleMr,onChange:E=>p("titleMr",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"    "})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"category",value:s.category,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"CERTIFICATE",children:"Certificate"}),r.jsx("option",{value:"APPLICATION",children:"Application"}),r.jsx("option",{value:"TAX",children:"Tax"}),r.jsx("option",{value:"LICENSE",children:"License"}),r.jsx("option",{value:"OTHER",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Language ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"language",value:s.language,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ENGLISH",children:"English Only"}),r.jsx("option",{value:"MARATHI",children:"Marathi Only"}),r.jsx("option",{value:"BOTH",children:"Both Languages"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Description"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description (English) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{rows:4,value:s.descriptionEn,onChange:E=>p("descriptionEn",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Describe the form and its purpose in English"}),o.descriptionEn&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.descriptionEn})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Marathi)"}),r.jsx("textarea",{rows:4,value:s.descriptionMr,onChange:E=>p("descriptionMr",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"      "})]})]})]}),r.jsxs("div",{className:"flex gap-4 justify-end",children:[r.jsx("button",{type:"button",onClick:()=>n("/admin/forms"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:d,children:"Cancel"}),r.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:d,children:[r.jsx(ks,{className:"w-4 h-4"}),d?t?"Updating...":"Uploading...":t?"Update Form":"Upload Form"]})]})]})]})}const EB=n=>{document.querySelectorAll("link[rel*='icon']").forEach(s=>s.remove());const t=document.createElement("link");t.rel="icon",t.type="image/png",t.href=n,document.head.appendChild(t),console.log("Favicon updated to:",n)};function AB(){const{refresh:n}=vu(),[e,t]=G.useState({panchayatName:{en:"",mr:""},tagline:{en:"",mr:""},phone:"",email:"",address:{en:"",mr:""},officeTimings:{en:"",mr:""},facebook:"",twitter:"",instagram:"",officePhoto:"",googleMapsLink:"",logo:"",headerLeftLogo:"",headerCenterEmblem:"",headerRightLogo1:"",headerRightLogo2:""}),[s,a]=G.useState({}),[o,c]=G.useState(!1),[d,h]=G.useState(!0),[f,g]=G.useState(!1),[p,v]=G.useState(null),[b,A]=G.useState(""),[S,j]=G.useState(null),[E,L]=G.useState(""),[O,D]=G.useState(null),[ee,te]=G.useState(""),[H,M]=G.useState(null),[I,U]=G.useState(""),[k,P]=G.useState(null),[z,le]=G.useState(""),[Ne,ie]=G.useState(null),[ge,ue]=G.useState("");G.useEffect(()=>{(async()=>{try{h(!0);const X=await Fx();X?(t({panchayatName:X.panchayatName||{en:"",mr:""},tagline:X.tagline||{en:"",mr:""},phone:X.contact?.phone||"",email:X.contact?.email||"",address:X.contact?.address||{en:"",mr:""},officeTimings:X.officeTimings||{en:"",mr:""},facebook:X.socialMedia?.facebook||"",twitter:X.socialMedia?.twitter||"",instagram:X.socialMedia?.instagram||"",officePhoto:X.officePhoto||"",googleMapsLink:X.googleMapsLink||"",logo:X.logo||"",headerLeftLogo:X.headerLeftLogo||"",headerCenterEmblem:X.headerCenterEmblem||"",headerRightLogo1:X.headerRightLogo1||"",headerRightLogo2:X.headerRightLogo2||""}),A(X.officePhoto||""),L(X.logo||""),te(X.headerLeftLogo||""),U(X.headerCenterEmblem||""),le(X.headerRightLogo1||""),ue(X.headerRightLogo2||"")):t({panchayatName:Vs.panchayatName,tagline:Vs.tagline,phone:Vs.contact.phone,email:Vs.contact.email,address:Vs.contact.address,officeTimings:Vs.officeTimings,facebook:Vs.socialMedia.facebook,twitter:Vs.socialMedia.twitter,instagram:Vs.socialMedia.instagram,officePhoto:"",googleMapsLink:""})}catch(X){console.error("Error loading settings:",X),t({panchayatName:Vs.panchayatName,tagline:Vs.tagline,phone:Vs.contact.phone,email:Vs.contact.email,address:Vs.contact.address,officeTimings:Vs.officeTimings,facebook:Vs.socialMedia.facebook,twitter:Vs.socialMedia.twitter,instagram:Vs.socialMedia.instagram})}finally{h(!1)}})()},[]);const je=(ze,X)=>{t(Ye=>({...Ye,[ze]:X})),s[ze]&&a(Ye=>{const Wt={...Ye};return delete Wt[ze],Wt})},Be=ze=>{const X=ze.target.files[0];if(X){v(X);const Ye=new FileReader;Ye.onloadend=()=>{A(Ye.result)},Ye.readAsDataURL(X)}},se=ze=>{const X=ze.target.files[0];if(X){if(!X.type.startsWith("image/")){alert("Please select an image file");return}if(X.size>2*1024*1024){alert("Logo size should be less than 2MB");return}j(X);const Ye=new FileReader;Ye.onloadend=()=>{L(Ye.result)},Ye.readAsDataURL(X)}},q=()=>{v(null),A(""),t(ze=>({...ze,officePhoto:""}))},J=()=>{j(null),L(""),t(ze=>({...ze,logo:""}))},ae=ze=>{const X=ze.target.files[0];if(X){if(!X.type.startsWith("image/")){alert("Please select an image file");return}if(X.size>2*1024*1024){alert("File size should be less than 2MB");return}D(X);const Ye=new FileReader;Ye.onloadend=()=>te(Ye.result),Ye.readAsDataURL(X)}},he=ze=>{const X=ze.target.files[0];if(X){if(!X.type.startsWith("image/")){alert("Please select an image file");return}if(X.size>2*1024*1024){alert("File size should be less than 2MB");return}M(X);const Ye=new FileReader;Ye.onloadend=()=>U(Ye.result),Ye.readAsDataURL(X)}},fe=ze=>{const X=ze.target.files[0];if(X){if(!X.type.startsWith("image/")){alert("Please select an image file");return}if(X.size>2*1024*1024){alert("File size should be less than 2MB");return}P(X);const Ye=new FileReader;Ye.onloadend=()=>le(Ye.result),Ye.readAsDataURL(X)}},be=ze=>{const X=ze.target.files[0];if(X){if(!X.type.startsWith("image/")){alert("Please select an image file");return}if(X.size>2*1024*1024){alert("File size should be less than 2MB");return}ie(X);const Ye=new FileReader;Ye.onloadend=()=>ue(Ye.result),Ye.readAsDataURL(X)}},Pe=()=>{D(null),te(""),t(ze=>({...ze,headerLeftLogo:""}))},ke=()=>{M(null),U(""),t(ze=>({...ze,headerCenterEmblem:""}))},qe=()=>{P(null),le(""),t(ze=>({...ze,headerRightLogo1:""}))},Ze=()=>{ie(null),ue(""),t(ze=>({...ze,headerRightLogo2:""}))},ot=()=>{const ze={};return e.panchayatName.en.trim()||(ze.panchayatName="Panchayat name is required"),e.tagline.en.trim()||(ze.tagline="Tagline is required"),e.phone.trim()?/^\+?[\d\s-]{10,}$/.test(e.phone)||(ze.phone="Invalid phone number"):ze.phone="Phone number is required",e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(ze.email="Invalid email address"):ze.email="Email is required",e.address.en.trim()||(ze.address="Address is required"),e.officeTimings.en.trim()||(ze.officeTimings="Office timings are required"),a(ze),Object.keys(ze).length===0},it=async ze=>{if(ze.preventDefault(),!!ot()){g(!0);try{let X=e.officePhoto,Ye=e.logo,Wt=e.headerLeftLogo,Ct=e.headerCenterEmblem,$e=e.headerRightLogo1,dt=e.headerRightLogo2;if(S){if(e.logo)try{await qc(e.logo)}catch(mt){console.warn("Failed to delete old logo:",mt)}Ye=await Bc(S,"site/logos")}if(p){if(e.officePhoto)try{await qc(e.officePhoto)}catch(mt){console.warn("Failed to delete old office photo:",mt)}X=await Bc(p,"site")}if(O){if(e.headerLeftLogo)try{await qc(e.headerLeftLogo)}catch(mt){console.warn("Failed to delete old header left logo:",mt)}Wt=await Bc(O,"site/header-logos")}if(H){if(e.headerCenterEmblem)try{await qc(e.headerCenterEmblem)}catch(mt){console.warn("Failed to delete old center emblem:",mt)}Ct=await Bc(H,"site/header-logos")}if(k){if(e.headerRightLogo1)try{await qc(e.headerRightLogo1)}catch(mt){console.warn("Failed to delete old right logo 1:",mt)}$e=await Bc(k,"site/header-logos")}if(Ne){if(e.headerRightLogo2)try{await qc(e.headerRightLogo2)}catch(mt){console.warn("Failed to delete old right logo 2:",mt)}dt=await Bc(Ne,"site/header-logos")}const ct={panchayatName:e.panchayatName,tagline:e.tagline,logo:Ye,headerLeftLogo:Wt,headerCenterEmblem:Ct,headerRightLogo1:$e,headerRightLogo2:dt,contact:{phone:e.phone,email:e.email,address:e.address},officeTimings:e.officeTimings,socialMedia:{facebook:e.facebook,twitter:e.twitter,instagram:e.instagram},officePhoto:X,googleMapsLink:e.googleMapsLink};await pT(ct),Ye&&EB(Ye),await n(),console.log("Settings saved successfully!",ct),c(!0),setTimeout(()=>{c(!1),window.location.reload()},1e3)}catch(X){console.error("Error saving settings:",X),alert("Failed to save settings. Please try again.")}finally{g(!1)}}};return d?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Site Settings"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Configure your Gram Panchayat website settings"})]})}),o&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg",children:" Settings saved successfully! Reloading page..."}),r.jsxs("form",{onSubmit:it,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(yl,{className:"text-primary-600",size:24}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Basic Information"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(_n,{label:"Panchayat Name",name:"panchayatName",value:e.panchayatName,onChange:ze=>je("panchayatName",ze),required:!0,placeholder:"e.g., Gram Panchayat Pindkepar Lodha"}),s.panchayatName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.panchayatName}),r.jsx(_n,{label:"Tagline",name:"tagline",value:e.tagline,onChange:ze=>je("tagline",ze),required:!0,placeholder:"e.g., Progress with Tradition"}),s.tagline&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.tagline})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(_r,{className:"text-primary-600",size:24}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Logo & Branding"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gram Panchayat Logo"}),r.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Upload your Gram Panchayat logo. This will appear in the header and as the favicon. Recommended size: 200x200px, PNG or JPG format."}),E?r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:E,alt:"Logo Preview",className:"w-32 h-32 object-contain rounded-lg border-2 border-gray-300 bg-white p-2"}),r.jsx("button",{type:"button",onClick:J,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:r.jsx(Ss,{size:16})})]}):r.jsx("div",{className:"flex items-center justify-center w-full",children:r.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[r.jsx(_r,{className:"w-10 h-10 mb-3 text-gray-400"}),r.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[r.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG (MAX. 2MB)"})]}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:se})]})})]}),r.jsx("div",{className:"border-t border-gray-200 my-6"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Government Header Logos"}),r.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"These logos will appear in the professional government-style header. All fields are optional."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Left Logo (Flag/State Emblem)"}),r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Appears on the left side of header"}),ee?r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:ee,alt:"Left Logo Preview",className:"w-24 h-24 object-contain rounded-lg border-2 border-gray-300 bg-white p-2"}),r.jsx("button",{type:"button",onClick:Pe,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:r.jsx(Ss,{size:14})})]}):r.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsx(_r,{className:"w-8 h-8 mb-2 text-gray-400"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Click to upload"}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:ae})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Center Emblem (National/State)"}),r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recommended: 52x90px, appears above title"}),I?r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:I,alt:"Center Emblem Preview",className:"w-24 h-24 object-contain rounded-lg border-2 border-gray-300 bg-white p-2"}),r.jsx("button",{type:"button",onClick:ke,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:r.jsx(Ss,{size:14})})]}):r.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsx(_r,{className:"w-8 h-8 mb-2 text-gray-400"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Click to upload"}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:he})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Right Logo 1"}),r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recommended: 64x64px"}),z?r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:z,alt:"Right Logo 1 Preview",className:"w-24 h-24 object-contain rounded-lg border-2 border-gray-300 bg-white p-2"}),r.jsx("button",{type:"button",onClick:qe,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:r.jsx(Ss,{size:14})})]}):r.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsx(_r,{className:"w-8 h-8 mb-2 text-gray-400"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Click to upload"}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:fe})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Right Logo 2"}),r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recommended: 119x64px"}),ge?r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:ge,alt:"Right Logo 2 Preview",className:"w-24 h-24 object-contain rounded-lg border-2 border-gray-300 bg-white p-2"}),r.jsx("button",{type:"button",onClick:Ze,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:r.jsx(Ss,{size:14})})]}):r.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsx(_r,{className:"w-8 h-8 mb-2 text-gray-400"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Click to upload"}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:be})]})]})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(Vo,{className:"text-primary-600",size:24}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Contact Information"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",value:e.phone,onChange:ze=>je("phone",ze.target.value),placeholder:"+91 1234567890",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),s.phone&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.phone})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",value:e.email,onChange:ze=>je("email",ze.target.value),placeholder:"contact@grampanchayat.gov.in",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),s.email&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.email})]}),r.jsx(_n,{label:"Address",name:"address",type:"textarea",rows:3,value:e.address,onChange:ze=>je("address",ze),required:!0,placeholder:"Village, Taluka, District, State, PIN"}),s.address&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.address}),r.jsx(_n,{label:"Office Timings",name:"officeTimings",value:e.officeTimings,onChange:ze=>je("officeTimings",ze),required:!0,placeholder:"e.g., Mon-Fri: 10:00 AM - 5:00 PM"}),s.officeTimings&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.officeTimings}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vl,{size:16,className:"text-primary-600"}),"Google Maps Embed Link"]})}),r.jsx("input",{type:"url",value:e.googleMapsLink,onChange:ze=>je("googleMapsLink",ze.target.value),placeholder:"https://www.google.com/maps/embed?pb=...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'To get the embed link: Go to Google Maps  Search your location  Click "Share"  Click "Embed a map"  Copy the iframe src URL'})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(_r,{className:"text-primary-600",size:24}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Office Photo"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Upload a photo of your Gram Panchayat office. This will be displayed on the Panchayat page."}),b&&r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:b,alt:"Office",className:"w-full max-w-md h-64 object-cover rounded-lg border-2 border-gray-300"}),r.jsx("button",{type:"button",onClick:q,className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors shadow-lg",children:r.jsx(Ss,{size:20})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:b?"Change Photo":"Upload Photo"}),r.jsx("input",{type:"file",accept:"image/*",onChange:Be,className:`block w-full text-sm text-gray-500
                  file:mr-4 file:py-2 file:px-4
                  file:rounded-lg file:border-0
                  file:text-sm file:font-semibold
                  file:bg-primary-50 file:text-primary-700
                  hover:file:bg-primary-100
                  cursor-pointer`}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: 1200x800px or larger, JPG or PNG format"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(R2,{className:"text-primary-600",size:24}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Social Media Links"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(R2,{size:16,className:"inline mr-2"}),"Facebook URL"]}),r.jsx("input",{type:"url",value:e.facebook,onChange:ze=>je("facebook",ze.target.value),placeholder:"https://facebook.com/yourpage",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(LT,{size:16,className:"inline mr-2"}),"Twitter URL"]}),r.jsx("input",{type:"url",value:e.twitter,onChange:ze=>je("twitter",ze.target.value),placeholder:"https://twitter.com/yourhandle",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(iV,{size:16,className:"inline mr-2"}),"Instagram URL"]}),r.jsx("input",{type:"url",value:e.instagram,onChange:ze=>je("instagram",ze.target.value),placeholder:"https://instagram.com/yourprofile",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]})]}),r.jsx("div",{className:"flex justify-end gap-4",children:r.jsxs("button",{type:"submit",disabled:f,className:"flex items-center gap-2 px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50",children:[r.jsx(ks,{size:20}),f?"Saving...":"Save Settings"]})})]})]})}const TB=async()=>{try{const n=Et(Oe,$t.grievances()),e=Ir(n,Ki("createdAt","desc")),t=await sr(e),s=[];return t.forEach(a=>{s.push({id:a.id,...a.data()})}),s}catch(n){throw console.error("Error fetching grievances:",n),n}};function CB(){const n=gr(),[e,t]=G.useState([]),[s,a]=G.useState(!0);G.useEffect(()=>{o()},[]);const o=async()=>{try{const D=await TB();t(D)}catch(D){console.error("Error loading grievances:",D)}finally{a(!1)}},[c,d]=G.useState(""),[h,f]=G.useState("ALL"),[g,p]=G.useState("ALL"),[v,b]=G.useState("ALL"),A=e.filter(D=>{const ee=D.title.en.toLowerCase().includes(c.toLowerCase())||D.title.mr.toLowerCase().includes(c.toLowerCase())||D.submittedBy.toLowerCase().includes(c.toLowerCase()),te=h==="ALL"||D.status===h,H=g==="ALL"||D.category===g,M=v==="ALL"||D.priority===v;return ee&&te&&H&&M}),S=D=>{window.confirm("Are you sure you want to delete this grievance?")&&t(e.filter(ee=>ee.id!==D))},j=D=>{const ee={PENDING:"bg-yellow-100 text-yellow-700 border-yellow-300",IN_PROGRESS:"bg-blue-100 text-blue-700 border-blue-300",RESOLVED:"bg-green-100 text-green-700 border-green-300",REJECTED:"bg-red-100 text-red-700 border-red-300"},te={PENDING:r.jsx(Qg,{className:"w-3 h-3"}),IN_PROGRESS:r.jsx(Qn,{className:"w-3 h-3"}),RESOLVED:r.jsx(Yi,{className:"w-3 h-3"}),REJECTED:r.jsx(gh,{className:"w-3 h-3"})};return r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border flex items-center gap-1 ${ee[D]}`,children:[te[D],D.replace("_"," ")]})},E=D=>{const ee={LOW:"bg-gray-100 text-gray-700",MEDIUM:"bg-orange-100 text-orange-700",HIGH:"bg-red-100 text-red-700"};return r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${ee[D]}`,children:D})},L=D=>{const ee={WATER:"bg-blue-100 text-blue-700",ROAD:"bg-gray-100 text-gray-700",ELECTRICITY:"bg-yellow-100 text-yellow-700",SANITATION:"bg-green-100 text-green-700",TAX:"bg-purple-100 text-purple-700",OTHER:"bg-pink-100 text-pink-700"};return r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${ee[D]}`,children:D})},O=D=>D?new Date(D).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A";return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Grievances Management"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage citizen complaints and feedback"})]}),r.jsxs("button",{onClick:()=>n("/admin/grievances/new"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-md hover:shadow-lg",children:[r.jsx(Rr,{className:"w-5 h-5"}),"Add Grievance"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg",children:r.jsx(Qg,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(D=>D.status==="PENDING").length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg",children:r.jsx(Qn,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"In Progress"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(D=>D.status==="IN_PROGRESS").length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-green-600 to-green-700 rounded-lg",children:r.jsx(Yi,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Resolved"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(D=>D.status==="RESOLVED").length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg",children:r.jsx(Lf,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6 border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search grievances...",value:c,onChange:D=>d(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),r.jsx("div",{children:r.jsxs("select",{value:h,onChange:D=>f(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ALL",children:"All Status"}),r.jsx("option",{value:"PENDING",children:"Pending"}),r.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),r.jsx("option",{value:"RESOLVED",children:"Resolved"}),r.jsx("option",{value:"REJECTED",children:"Rejected"})]})}),r.jsx("div",{children:r.jsxs("select",{value:g,onChange:D=>p(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ALL",children:"All Categories"}),r.jsx("option",{value:"WATER",children:"Water"}),r.jsx("option",{value:"ROAD",children:"Road"}),r.jsx("option",{value:"ELECTRICITY",children:"Electricity"}),r.jsx("option",{value:"SANITATION",children:"Sanitation"}),r.jsx("option",{value:"TAX",children:"Tax"}),r.jsx("option",{value:"OTHER",children:"Other"})]})}),r.jsx("div",{children:r.jsxs("select",{value:v,onChange:D=>b(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"ALL",children:"All Priorities"}),r.jsx("option",{value:"HIGH",children:"High"}),r.jsx("option",{value:"MEDIUM",children:"Medium"}),r.jsx("option",{value:"LOW",children:"Low"})]})})]})}),r.jsx("div",{className:"space-y-4",children:A.length===0?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center border border-gray-200",children:[r.jsx(Lf,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Grievances Found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:c||h!=="ALL"||g!=="ALL"||v!=="ALL"?"Try adjusting your filters":"Get started by adding your first grievance"}),!c&&h==="ALL"&&g==="ALL"&&v==="ALL"&&r.jsx("button",{onClick:()=>n("/admin/grievances/new"),className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all",children:"Add Grievance"})]}):A.map(D=>r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[j(D.status),E(D.priority),L(D.category)]}),r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-1",children:D.title.en}),r.jsx("p",{className:"text-base text-gray-600 mb-3",children:D.title.mr}),r.jsx("p",{className:"text-gray-700 mb-2",children:D.description.en}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:D.description.mr}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600 mb-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Submitted By:"})," ",D.submittedBy]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Phone:"})," ",D.phone]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Email:"})," ",D.email]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Address:"})," ",D.address]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Submitted Date:"})," ",O(D.submittedDate)]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Assigned To:"})," ",D.assignedTo]})]}),D.response&&r.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Response:"}),r.jsx("p",{className:"text-blue-800 text-sm",children:D.response.en}),r.jsx("p",{className:"text-blue-700 text-xs mt-1",children:D.response.mr})]}),D.resolvedDate&&r.jsxs("div",{className:"mt-2 text-sm text-green-700",children:[r.jsx("span",{className:"font-medium",children:"Resolved on:"})," ",O(D.resolvedDate)]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx("button",{onClick:()=>n(`/admin/grievances/edit/${D.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:r.jsx(_p,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>S(D.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:r.jsx(_a,{className:"w-5 h-5"})})]})]})},D.id))})]})}function G4(){const n=gr(),{id:e}=bo(),t=!!e,[s,a]=G.useState(!1),[o,c]=G.useState(!1),[d,h]=G.useState({title:{en:"",mr:""},description:{en:"",mr:""},category:"OTHER",status:"PENDING",priority:"MEDIUM",submittedBy:"",phone:"",email:"",address:"",submittedDate:new Date().toISOString().split("T")[0],resolvedDate:"",assignedTo:"",response:{en:"",mr:""}}),[f,g]=G.useState({});G.useEffect(()=>{t&&h({title:{en:"Water Supply Issue",mr:" "},description:{en:"No water supply for the last 3 days",mr:"    "},category:"WATER",status:"PENDING",priority:"HIGH",submittedBy:"Ramesh Kumar",phone:"+91 9876543210",email:"ramesh@example.com",address:"Village Road, Area 1",submittedDate:"2024-11-15",resolvedDate:"",assignedTo:"Water Department",response:{en:"",mr:""}})},[e,t]);const p=(S,j)=>{h(E=>({...E,[S]:j})),f[S]&&g(E=>({...E,[S]:""}))},v=S=>{const{name:j,value:E}=S.target;h(L=>({...L,[j]:E})),f[j]&&g(L=>({...L,[j]:""}))},b=()=>{const S={};return d.title.en.trim()||(S.title="Title is required"),d.description.en.trim()||(S.description="Description is required"),d.submittedBy.trim()||(S.submittedBy="Name is required"),d.phone.trim()?/^\+?[\d\s-]{10,}$/.test(d.phone)||(S.phone="Invalid phone number"):S.phone="Phone number is required",d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(S.email="Invalid email address"):S.email="Email is required",d.address.trim()||(S.address="Address is required"),d.submittedDate||(S.submittedDate="Submitted date is required"),d.assignedTo.trim()||(S.assignedTo="Department assignment is required"),d.status==="RESOLVED"&&!d.resolvedDate&&(S.resolvedDate="Resolved date is required when status is Resolved"),g(S),Object.keys(S).length===0},A=S=>{if(S.preventDefault(),!b())return;const j={id:t?parseInt(e):Date.now(),title:d.title,description:d.description,category:d.category,status:d.status,priority:d.priority,submittedBy:d.submittedBy,phone:d.phone,email:d.email,address:d.address,submittedDate:d.submittedDate,resolvedDate:d.resolvedDate||null,assignedTo:d.assignedTo,response:d.response.en&&d.response.mr?d.response:null};console.log(t?"Updating grievance:":"Creating grievance:",j),n("/admin/grievances")};return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/admin/grievances"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(vi,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Grievance":"Add New Grievance"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Update grievance information and status":"Record a new citizen grievance"})]})]})}),s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsx(r.Fragment,{children:r.jsxs("form",{onSubmit:A,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Grievance Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(_n,{label:"Grievance Title",name:"title",value:d.title,onChange:S=>p("title",S),required:!0,placeholder:"Enter grievance title"}),f.title&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.title})]}),r.jsxs("div",{children:[r.jsx(_n,{label:"Description",name:"description",type:"textarea",rows:4,value:d.description,onChange:S=>p("description",S),required:!0,placeholder:"Describe the grievance in detail"}),f.description&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.description})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"category",value:d.category,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"WATER",children:"Water"}),r.jsx("option",{value:"ROAD",children:"Road"}),r.jsx("option",{value:"ELECTRICITY",children:"Electricity"}),r.jsx("option",{value:"SANITATION",children:"Sanitation"}),r.jsx("option",{value:"TAX",children:"Tax"}),r.jsx("option",{value:"OTHER",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Priority ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"priority",value:d.priority,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"LOW",children:"Low"}),r.jsx("option",{value:"MEDIUM",children:"Medium"}),r.jsx("option",{value:"HIGH",children:"High"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"status",value:d.status,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"PENDING",children:"Pending"}),r.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),r.jsx("option",{value:"RESOLVED",children:"Resolved"}),r.jsx("option",{value:"REJECTED",children:"Rejected"})]})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Citizen Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Submitted By ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"submittedBy",value:d.submittedBy,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.submittedBy?"border-red-500":"border-gray-300"}`,placeholder:"Enter citizen name"}),f.submittedBy&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.submittedBy})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.phone?"border-red-500":"border-gray-300"}`,placeholder:"+91 9876543210"}),f.phone&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.phone})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",name:"email",value:d.email,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.email?"border-red-500":"border-gray-300"}`,placeholder:"citizen@example.com"}),f.email&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.email})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Address ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"address",value:d.address,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.address?"border-red-500":"border-gray-300"}`,placeholder:"Enter full address"}),f.address&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.address})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Management Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Assigned To ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"assignedTo",value:d.assignedTo,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.assignedTo?"border-red-500":"border-gray-300"}`,placeholder:"Department or Officer name"}),f.assignedTo&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.assignedTo})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Submitted Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"submittedDate",value:d.submittedDate,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.submittedDate?"border-red-500":"border-gray-300"}`}),f.submittedDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.submittedDate})]}),d.status==="RESOLVED"&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Resolved Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"resolvedDate",value:d.resolvedDate,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.resolvedDate?"border-red-500":"border-gray-300"}`}),f.resolvedDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.resolvedDate})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 pb-3 border-b",children:"Response (Optional)"}),r.jsx("div",{children:r.jsx(_n,{label:"Response",name:"response",type:"textarea",rows:3,value:d.response,onChange:S=>p("response",S),placeholder:"Enter response or action taken"})})]}),r.jsxs("div",{className:"flex gap-4 justify-end",children:[r.jsx("button",{type:"button",onClick:()=>n("/admin/grievances"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:o,children:"Cancel"}),r.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,children:[r.jsx(ks,{className:"w-4 h-4"}),o?"Saving...":t?"Update Grievance":"Submit Grievance"]})]})]})})]})}const IB=()=>{const{language:n}=Vr(),e=gr(),[t,s]=G.useState([]),[a,o]=G.useState(!0),[c,d]=G.useState(""),[h,f]=G.useState("ALL"),[g,p]=G.useState("ALL"),[v,b]=G.useState({start:"",end:""});G.useEffect(()=>{(async()=>{try{o(!0);const H=await HT();s(H)}catch(H){console.error("Error loading transactions:",H),alert("Failed to load transactions")}finally{o(!1)}})()},[]);const A={totalIncome:t.filter(te=>te.type==="INCOME").reduce((te,H)=>te+H.amount,0),totalExpense:t.filter(te=>te.type==="EXPENSE").reduce((te,H)=>te+H.amount,0),balance:0,transactionCount:t.length};A.balance=A.totalIncome-A.totalExpense;const S=t.filter(te=>{const H=te.description.toLowerCase().includes(c.toLowerCase())||te.descriptionMr.includes(c)||te.subcategory.toLowerCase().includes(c.toLowerCase())||te.referenceNumber.toLowerCase().includes(c.toLowerCase()),M=h==="ALL"||te.type===h,I=g==="ALL"||te.category===g,U=(!v.start||te.transactionDate>=v.start)&&(!v.end||te.transactionDate<=v.end);return H&&M&&I&&U}),j=async te=>{if(window.confirm(n==="en"?"Are you sure you want to delete this transaction?":"        ?"))try{await iB(te),s(t.filter(H=>H.id!==te))}catch(H){console.error("Error deleting transaction:",H),alert("Failed to delete transaction")}},E=te=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(te),L=te=>new Date(te).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),O=te=>{switch(te){case"INCOME":return"bg-green-100 text-green-800 border-green-300";case"EXPENSE":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},D=te=>{switch(te){case"TAX":return r.jsx(Vx,{size:16});case"GRANT":return r.jsx(RV,{size:16});case"SALARY":return r.jsx(F2,{size:16});case"INFRASTRUCTURE":return r.jsx(th,{size:16});case"UTILITIES":return r.jsx(Tg,{size:16});default:return r.jsx(mr,{size:16})}},ee=()=>{alert(n==="en"?"Export functionality will be implemented":"    ")};return a?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#ff6b00]"})}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n==="en"?"Financial Management":" "}),r.jsx("p",{className:"text-gray-600 mt-1",children:n==="en"?"Track income, expenses, and budgets":",     "})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:ee,className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-[#138808] text-[#138808] rounded-lg hover:bg-[#138808] hover:text-white transition-colors",children:[r.jsx(Go,{size:20}),n==="en"?"Export Report":"  "]}),r.jsxs(sn,{to:"/admin/financials/new",className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-[#ff6b00] to-[#ff8533] text-white rounded-lg hover:shadow-lg transition-all",children:[r.jsx(Rr,{size:20}),n==="en"?"Add Transaction":" "]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl border-2 border-green-300 shadow-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:r.jsx(th,{className:"text-white",size:24})}),r.jsx("span",{className:"text-green-700 font-semibold",children:n==="en"?"Income":""})]}),r.jsx("div",{className:"text-3xl font-bold text-green-800",children:E(A.totalIncome)}),r.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[t.filter(te=>te.type==="INCOME").length," ",n==="en"?"transactions":""]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-xl border-2 border-red-300 shadow-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"p-3 bg-red-500 rounded-lg",children:r.jsx(Tg,{className:"text-white",size:24})}),r.jsx("span",{className:"text-red-700 font-semibold",children:n==="en"?"Expense":""})]}),r.jsx("div",{className:"text-3xl font-bold text-red-800",children:E(A.totalExpense)}),r.jsxs("div",{className:"text-sm text-red-600 mt-1",children:[t.filter(te=>te.type==="EXPENSE").length," ",n==="en"?"transactions":""]})]}),r.jsxs("div",{className:`bg-gradient-to-br ${A.balance>=0?"from-blue-50 to-blue-100 border-blue-300":"from-orange-50 to-orange-100 border-orange-300"} p-6 rounded-xl border-2 shadow-md`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:`p-3 ${A.balance>=0?"bg-blue-500":"bg-orange-500"} rounded-lg`,children:r.jsx(F2,{className:"text-white",size:24})}),r.jsx("span",{className:`${A.balance>=0?"text-blue-700":"text-orange-700"} font-semibold`,children:n==="en"?"Balance":""})]}),r.jsx("div",{className:`text-3xl font-bold ${A.balance>=0?"text-blue-800":"text-orange-800"}`,children:E(A.balance)}),r.jsx("div",{className:`text-sm ${A.balance>=0?"text-blue-600":"text-orange-600"} mt-1`,children:A.balance>=0?n==="en"?"Surplus":"":n==="en"?"Deficit":""})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-xl border-2 border-purple-300 shadow-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:r.jsx(mr,{className:"text-white",size:24})}),r.jsx("span",{className:"text-purple-700 font-semibold",children:n==="en"?"Total":""})]}),r.jsx("div",{className:"text-3xl font-bold text-purple-800",children:A.transactionCount}),r.jsx("div",{className:"text-sm text-purple-600 mt-1",children:n==="en"?"Transactions":""})]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6 border-2 border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsxs("div",{className:"relative",children:[r.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:n==="en"?"Search transactions...":" ...",value:c,onChange:te=>d(te.target.value),className:"w-full pl-10 pr-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]})}),r.jsx("div",{children:r.jsxs("select",{value:h,onChange:te=>f(te.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:[r.jsx("option",{value:"ALL",children:n==="en"?"All Types":" "}),r.jsx("option",{value:"INCOME",children:n==="en"?"Income":""}),r.jsx("option",{value:"EXPENSE",children:n==="en"?"Expense":""})]})}),r.jsx("div",{children:r.jsxs("select",{value:g,onChange:te=>p(te.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:[r.jsx("option",{value:"ALL",children:n==="en"?"All Categories":" "}),r.jsx("option",{value:"TAX",children:n==="en"?"Tax":""}),r.jsx("option",{value:"GRANT",children:n==="en"?"Grant":""}),r.jsx("option",{value:"SALARY",children:n==="en"?"Salary":""}),r.jsx("option",{value:"INFRASTRUCTURE",children:n==="en"?"Infrastructure":" "}),r.jsx("option",{value:"UTILITIES",children:n==="en"?"Utilities":""}),r.jsx("option",{value:"OTHER",children:n==="en"?"Other":""})]})}),r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx("input",{type:"date",value:v.start,onChange:te=>b({...v,start:te.target.value}),className:"flex-1 px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00] text-sm"}),r.jsx("span",{className:"text-gray-500",children:"-"}),r.jsx("input",{type:"date",value:v.end,onChange:te=>b({...v,end:te.target.value}),className:"flex-1 px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00] text-sm"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-md border-2 border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gradient-to-r from-[#ff6b00] to-[#ff8533] text-white",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Date":""}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Type":""}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Category":""}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Description":""}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Party":""}),r.jsx("th",{className:"px-6 py-4 text-right font-semibold",children:n==="en"?"Amount":""}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:n==="en"?"Payment Mode":" "}),r.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:n==="en"?"Actions":""})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:S.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center text-gray-500",children:n==="en"?"No transactions found. Add your first transaction!":"   .    !"})}):S.map(te=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(ss,{size:16,className:"text-gray-400"}),L(te.transactionDate)]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold border ${O(te.type)}`,children:te.type==="INCOME"?r.jsxs(r.Fragment,{children:[r.jsx(th,{size:14}),n==="en"?"Income":""]}):r.jsxs(r.Fragment,{children:[r.jsx(Tg,{size:14}),n==="en"?"Expense":""]})})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[D(te.category),r.jsx("span",{className:"text-gray-700",children:n==="en"?te.subcategory:te.subcategoryMr})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"max-w-xs",children:[r.jsx("p",{className:"text-gray-700 line-clamp-2",children:n==="en"?te.description:te.descriptionMr}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:te.referenceNumber})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-gray-700",children:te.type==="INCOME"?n==="en"?te.receivedFrom:te.receivedFromMr:n==="en"?te.paidTo:te.paidToMr})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("span",{className:`font-bold text-lg ${te.type==="INCOME"?"text-green-600":"text-red-600"}`,children:[te.type==="INCOME"?"+":"-"," ",E(te.amount)]})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("span",{className:"text-sm text-gray-600",children:te.paymentMode.replace("_"," ")}),te.attachment&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600 mt-1",children:[r.jsx(mr,{size:12}),n==="en"?"Attachment":""]})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("button",{onClick:()=>e(`/admin/financials/edit/${te.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:n==="en"?"Edit":" ",children:r.jsx(lc,{size:18})}),r.jsx("button",{onClick:()=>j(te.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:n==="en"?"Delete":"",children:r.jsx(_a,{size:18})})]})})]},te.id))})]})})})]})},H4=()=>{const{language:n}=Vr(),e=gr(),{id:t}=bo(),s=!!t,[a,o]=G.useState(!1),[c,d]=G.useState({type:"INCOME",category:"TAX",subcategory:"",subcategoryMr:"",amount:"",description:"",descriptionMr:"",transactionDate:new Date().toISOString().split("T")[0],paymentMode:"CASH",referenceNumber:"",receivedFrom:"",receivedFromMr:"",paidTo:"",paidToMr:"",attachment:null,remarks:"",remarksMr:""}),[h,f]=G.useState({}),[g,p]=G.useState(null),v={TAX:{en:"Tax",mr:"",subcategories:[{en:"Property Tax",mr:" "},{en:"Water Tax",mr:" "},{en:"Trade License",mr:" "},{en:"Building Permission",mr:" "}]},GRANT:{en:"Grant",mr:"",subcategories:[{en:"Central Government Grant",mr:"  "},{en:"State Government Grant",mr:"  "},{en:"District Grant",mr:" "},{en:"Special Grant",mr:" "}]},FEES:{en:"Fees & Charges",mr:"  ",subcategories:[{en:"Birth/Death Certificate",mr:"/ "},{en:"Other Certificates",mr:" "},{en:"Rent Income",mr:" "},{en:"Advertisement Fees",mr:" "}]},DONATION:{en:"Donation",mr:"",subcategories:[{en:"CSR Donation",mr:"CSR "},{en:"Individual Donation",mr:" "},{en:"Organization Donation",mr:" "}]},OTHER:{en:"Other Income",mr:" ",subcategories:[{en:"Miscellaneous",mr:""}]}},b={SALARY:{en:"Salary & Wages",mr:"  ",subcategories:[{en:"Staff Salaries",mr:" "},{en:"Daily Wages",mr:" "},{en:"Honorarium",mr:""},{en:"Allowances",mr:""}]},INFRASTRUCTURE:{en:"Infrastructure",mr:" ",subcategories:[{en:"Road Construction",mr:" "},{en:"Road Repair",mr:" "},{en:"Drainage Work",mr:" "},{en:"Street Lights",mr:" "},{en:"Water Supply",mr:" "},{en:"Building Maintenance",mr:" "}]},UTILITIES:{en:"Utilities",mr:"",subcategories:[{en:"Electricity Bill",mr:" "},{en:"Water Bill",mr:" "},{en:"Telephone/Internet",mr:"/"},{en:"Fuel",mr:""}]},SUPPLIES:{en:"Supplies & Materials",mr:"  ",subcategories:[{en:"Stationery",mr:" "},{en:"Office Supplies",mr:" "},{en:"Cleaning Materials",mr:" "},{en:"Equipment",mr:""}]},PROGRAMS:{en:"Programs & Schemes",mr:"  ",subcategories:[{en:"Health Programs",mr:" "},{en:"Education Programs",mr:" "},{en:"Social Welfare",mr:" "},{en:"Agriculture Programs",mr:" "}]},ADMINISTRATIVE:{en:"Administrative",mr:"",subcategories:[{en:"Legal Fees",mr:" "},{en:"Audit Fees",mr:" "},{en:"Insurance",mr:""},{en:"Bank Charges",mr:" "},{en:"Travel Expenses",mr:" "}]},OTHER:{en:"Other Expenses",mr:" ",subcategories:[{en:"Miscellaneous",mr:""}]}},A=[{value:"CASH",en:"Cash",mr:""},{value:"CHEQUE",en:"Cheque",mr:""},{value:"ONLINE",en:"Online Payment",mr:" "},{value:"NEFT",en:"NEFT",mr:"NEFT"},{value:"RTGS",en:"RTGS",mr:"RTGS"},{value:"IMPS",en:"IMPS",mr:"IMPS"},{value:"UPI",en:"UPI",mr:"UPI"},{value:"BANK_TRANSFER",en:"Bank Transfer",mr:" "},{value:"DD",en:"Demand Draft",mr:" "}];G.useEffect(()=>{(async()=>{if(s)try{o(!0);const U=await rB(t);if(U){const k=U.transactionDate?new Date(U.transactionDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];d({...U,transactionDate:k}),U.attachment&&p(U.attachment)}else alert("Transaction not found"),e("/admin/financials")}catch(U){console.error("Error loading transaction:",U),alert("Failed to load transaction")}finally{o(!1)}})()},[t,s,e]);const S=()=>c.type==="INCOME"?v:b,j=()=>S()[c.category]?.subcategories||[],E=I=>{const{name:U,value:k}=I.target;d(P=>({...P,[U]:k})),h[U]&&f(P=>({...P,[U]:""}))},L=I=>{d(U=>({...U,type:I,category:I==="INCOME"?"TAX":"SALARY",subcategory:"",subcategoryMr:"",receivedFrom:"",receivedFromMr:"",paidTo:"",paidToMr:""}))},O=I=>{const U=I.target.value;d(k=>({...k,category:U,subcategory:"",subcategoryMr:""}))},D=I=>{const U=I.target.value;if(U!==""){const P=j()[parseInt(U)];d(z=>({...z,subcategory:P.en,subcategoryMr:P.mr}))}else d(k=>({...k,subcategory:"",subcategoryMr:""}))},ee=I=>{const U=I.target.files[0];if(U){if(U.size>5*1024*1024){f(P=>({...P,attachment:n==="en"?"File size should not exceed 5MB":"  5MB   "}));return}if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(U.type)){f(P=>({...P,attachment:n==="en"?"Only PDF and image files are allowed":" PDF     "}));return}d(P=>({...P,attachment:U})),p(U.name),f(P=>({...P,attachment:""}))}},te=()=>{const I={};return c.subcategory||(I.subcategory=n==="en"?"Subcategory is required":"  "),(!c.amount||parseFloat(c.amount)<=0)&&(I.amount=n==="en"?"Valid amount is required":"   "),c.description.trim()||(I.description=n==="en"?"Description is required":"  "),c.descriptionMr.trim()||(I.descriptionMr=n==="en"?"Marathi description is required":"   "),c.transactionDate||(I.transactionDate=n==="en"?"Transaction date is required":"   "),c.referenceNumber.trim()||(I.referenceNumber=n==="en"?"Reference number is required":"   "),c.type==="INCOME"?(c.receivedFrom.trim()||(I.receivedFrom=n==="en"?"Received from is required":"   "),c.receivedFromMr.trim()||(I.receivedFromMr=n==="en"?"Marathi received from is required":"   ")):(c.paidTo.trim()||(I.paidTo=n==="en"?"Paid to is required":"   "),c.paidToMr.trim()||(I.paidToMr=n==="en"?"Marathi paid to is required":"   ")),f(I),Object.keys(I).length===0},H=async I=>{if(I.preventDefault(),te())try{o(!0),s?(await aB(t,c),alert(n==="en"?"Transaction updated successfully!":"   !")):(await sB(c),alert(n==="en"?"Transaction added successfully!":"  !")),e("/admin/financials")}catch(U){console.error("Error saving transaction:",U),alert(n==="en"?`Failed to ${s?"update":"add"} transaction: ${U.message}`:` ${s?"":""} : ${U.message}`)}finally{o(!1)}},M=I=>I?new Intl.NumberFormat("en-IN").format(I):"";return r.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:s?n==="en"?"Edit Transaction":"  ":n==="en"?"Add New Transaction":"  "}),r.jsx("p",{className:"text-gray-600 mt-1",children:n==="en"?"Enter financial transaction details":"    "})]}),r.jsxs("form",{onSubmit:H,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(T4,{className:"text-[#ff6b00]"}),n==="en"?"Transaction Type":" "]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("button",{type:"button",onClick:()=>L("INCOME"),className:`flex-1 p-4 rounded-lg border-2 transition-all ${c.type==="INCOME"?"bg-green-50 border-green-500 text-green-700":"bg-white border-gray-300 text-gray-600 hover:border-green-300"}`,children:[r.jsx("div",{className:"text-2xl mb-2",children:""}),r.jsx("div",{className:"font-semibold",children:n==="en"?"Income":""}),r.jsx("div",{className:"text-sm",children:n==="en"?"Money Received":" "})]}),r.jsxs("button",{type:"button",onClick:()=>L("EXPENSE"),className:`flex-1 p-4 rounded-lg border-2 transition-all ${c.type==="EXPENSE"?"bg-red-50 border-red-500 text-red-700":"bg-white border-gray-300 text-gray-600 hover:border-red-300"}`,children:[r.jsx("div",{className:"text-2xl mb-2",children:""}),r.jsx("div",{className:"font-semibold",children:n==="en"?"Expense":""}),r.jsx("div",{className:"text-sm",children:n==="en"?"Money Paid":" "})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(mr,{className:"text-[#ff6b00]"}),n==="en"?"Transaction Details":" "]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Category":""," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"category",value:c.category,onChange:O,className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:Object.entries(S()).map(([I,U])=>r.jsx("option",{value:I,children:n==="en"?U.en:U.mr},I))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Subcategory":""," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{onChange:D,value:j().findIndex(I=>I.en===c.subcategory),className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.subcategory?"border-red-500":"border-gray-300"}`,children:[r.jsx("option",{value:"",children:n==="en"?"Select subcategory":" "}),j().map((I,U)=>r.jsx("option",{value:U,children:n==="en"?I.en:I.mr},U))]}),h.subcategory&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",h.subcategory]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Amount ()":" ()"," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Vx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"number",name:"amount",value:c.amount,onChange:E,placeholder:"0",className:`w-full pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.amount?"border-red-500":"border-gray-300"}`})]}),c.amount&&r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:M(c.amount)}),h.amount&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",h.amount]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Transaction Date":" "," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"date",name:"transactionDate",value:c.transactionDate,onChange:E,className:`w-full pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.transactionDate?"border-red-500":"border-gray-300"}`})]}),h.transactionDate&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",h.transactionDate]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Description (English)":" ()"," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{name:"description",value:c.description,onChange:E,rows:"3",placeholder:"Enter transaction description in English...",className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.description?"border-red-500":"border-gray-300"}`}),h.description&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",h.description]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Description (Marathi)":" ()"," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{name:"descriptionMr",value:c.descriptionMr,onChange:E,rows:"3",placeholder:"    ...",className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.descriptionMr?"border-red-500":"border-gray-300"}`}),h.descriptionMr&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",h.descriptionMr]})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(T4,{className:"text-[#ff6b00]"}),n==="en"?"Payment Information":" "]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Payment Mode":" "," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"paymentMode",value:c.paymentMode,onChange:E,className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]",children:A.map(I=>r.jsx("option",{value:I.value,children:n==="en"?I.en:I.mr},I.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Reference Number":" "," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(QU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",name:"referenceNumber",value:c.referenceNumber,onChange:E,placeholder:"REF/2025/001",className:`w-full pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${h.referenceNumber?"border-red-500":"border-gray-300"}`})]}),h.referenceNumber&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",h.referenceNumber]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[c.type==="INCOME"?n==="en"?"Received From (English)":"  ()":n==="en"?"Paid To (English)":"  ()",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(rm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",name:c.type==="INCOME"?"receivedFrom":"paidTo",value:c.type==="INCOME"?c.receivedFrom:c.paidTo,onChange:E,placeholder:c.type==="INCOME"?"Name of payer...":"Name of payee...",className:`w-full pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${(c.type==="INCOME"?h.receivedFrom:h.paidTo)?"border-red-500":"border-gray-300"}`})]}),(c.type==="INCOME"?h.receivedFrom:h.paidTo)&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",c.type==="INCOME"?h.receivedFrom:h.paidTo]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[c.type==="INCOME"?n==="en"?"Received From (Marathi)":"  ()":n==="en"?"Paid To (Marathi)":"  ()",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(rm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",name:c.type==="INCOME"?"receivedFromMr":"paidToMr",value:c.type==="INCOME"?c.receivedFromMr:c.paidToMr,onChange:E,placeholder:c.type==="INCOME"?" ...":" ...",className:`w-full pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${(c.type==="INCOME"?h.receivedFromMr:h.paidToMr)?"border-red-500":"border-gray-300"}`})]}),(c.type==="INCOME"?h.receivedFromMr:h.paidToMr)&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",c.type==="INCOME"?h.receivedFromMr:h.paidToMr]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Attachment (Invoice, Receipt, etc.)":" (, , .)"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"flex-1 cursor-pointer",children:[r.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 border-2 rounded-lg hover:border-[#ff6b00] transition-colors ${h.attachment?"border-red-500":"border-gray-300"}`,children:[r.jsx(cc,{size:20,className:"text-gray-400"}),r.jsx("span",{className:"text-gray-600",children:g||(n==="en"?"Choose file...":" ...")})]}),r.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:ee,className:"hidden"})]}),g&&r.jsx("button",{type:"button",onClick:()=>{d(I=>({...I,attachment:null})),p(null)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(Ss,{size:20})})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n==="en"?"PDF or Image files only. Max size: 5MB":" PDF   .  : 5MB"}),h.attachment&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(Qn,{size:14})," ",h.attachment]})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:n==="en"?"Additional Notes (Optional)":"  ()"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Remarks (English)":" ()"}),r.jsx("textarea",{name:"remarks",value:c.remarks,onChange:E,rows:"3",placeholder:"Any additional notes...",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Remarks (Marathi)":" ()"}),r.jsx("textarea",{name:"remarksMr",value:c.remarksMr,onChange:E,rows:"3",placeholder:"  ...",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-4",children:[r.jsxs("button",{type:"button",onClick:()=>e("/admin/financials"),className:"px-6 py-2 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",disabled:a,children:[r.jsx(Ss,{size:20}),n==="en"?"Cancel":" "]}),r.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-[#138808] to-[#1aa910] text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:a,children:[r.jsx(ks,{size:20}),a?n==="en"?"Saving...":"  ...":s?n==="en"?"Update Transaction":"  ":n==="en"?"Save Transaction":"  "]})]})]})]})},kB=()=>{const{language:n}=Vr(),e=gr(),[t,s]=G.useState({villageImage:"",description:{en:"Shivpur is a vibrant village located in the heart of Maharashtra. With a rich cultural heritage and a progressive outlook, our village has been at the forefront of rural development. The village is known for its agricultural productivity, community spirit, and commitment to education and social welfare.",mr:"        .             .    ,          ."},population:"5,000+",area:"15 sq km",households:"800+",history:{en:"Our village has a rich history spanning over 500 years. Founded during the Maratha Empire, Shivpur has witnessed significant historical events and has been home to many notable personalities. The village played an important role during the freedom struggle and continues to preserve its historical heritage.",mr:"        .                 .             ."},vision:{en:"To transform Shivpur into a model village that balances traditional values with modern development, ensuring prosperity, education, and well-being for all residents while preserving our cultural heritage and environment.",mr:"            ,          ,     ."},mission:{en:"Our mission is to provide quality infrastructure, promote sustainable agriculture, ensure access to education and healthcare, empower youth and women, and foster community participation in development initiatives.",mr:"      ,    ,       ,            ."},importantPlaces:[{id:1,name:{en:"Village Temple",mr:" "},description:{en:"Ancient temple dedicated to Lord Shiva, the spiritual center of our village",mr:"    ,    "},photoUrl:""},{id:2,name:{en:"Community Hall",mr:" "},description:{en:"Modern community hall for village meetings and cultural programs",mr:"       "},photoUrl:""},{id:3,name:{en:"Village Pond",mr:" "},description:{en:"Historic pond that serves as the main water source during summer",mr:"         "},photoUrl:""}]}),[a,o]=G.useState({}),[c,d]=G.useState(!1),[h,f]=G.useState(!0),[g,p]=G.useState(!1);G.useEffect(()=>{(async()=>{try{f(!0);const I=await FT();I&&s({...I,villageImage:I.villageImage||""})}catch(I){console.error("Error loading about content:",I)}finally{f(!1)}})()},[]);const v=(M,I)=>{s(U=>({...U,[M]:I})),a[M]&&o(U=>({...U,[M]:""}))},b=(M,I)=>{s(U=>({...U,[M]:I})),a[M]&&o(U=>({...U,[M]:""}))},A=(M,I,U)=>{const k=[...t.importantPlaces];k[M]={...k[M],[I]:U},s(P=>({...P,importantPlaces:k}))},S=(M,I)=>{const U=I.target.files[0];if(U){if(!U.type.startsWith("image/")){alert(n==="en"?"Please select an image file":"   ");return}if(U.size>5*1024*1024){alert(n==="en"?"Image size should be less than 5MB":"  5MB   ");return}const k=new FileReader;k.onloadend=()=>{const P=[...t.importantPlaces];P[M]={...P[M],photoUrl:k.result},s(z=>({...z,importantPlaces:P}))},k.readAsDataURL(U)}},j=M=>{const I=M.target.files[0];if(I){if(!I.type.startsWith("image/")){alert(n==="en"?"Please select an image file":"   ");return}if(I.size>5*1024*1024){alert(n==="en"?"Image size should be less than 5MB":"  5MB   ");return}const U=new FileReader;U.onloadend=()=>{s(k=>({...k,villageImage:U.result}))},U.readAsDataURL(I)}},E=()=>{s(M=>({...M,villageImage:""}))},L=M=>{const I=[...t.importantPlaces];I[M]={...I[M],photoUrl:""},s(U=>({...U,importantPlaces:I}))},O=()=>{const M={id:Date.now(),name:{en:"",mr:""},description:{en:"",mr:""},photoUrl:""};s(I=>({...I,importantPlaces:[...I.importantPlaces,M]}))},D=M=>{window.confirm(n==="en"?"Remove this place?":"  ?")&&s(I=>({...I,importantPlaces:I.importantPlaces.filter((U,k)=>k!==M)}))},ee=()=>{const M={};return t.description.en.trim()||(M.description_en=n==="en"?"English description is required":"   "),t.description.mr.trim()||(M.description_mr=n==="en"?"Marathi description is required":"   "),t.population.trim()||(M.population=n==="en"?"Population is required":"  "),t.area.trim()||(M.area=n==="en"?"Area is required":"  "),t.households.trim()||(M.households=n==="en"?"Households is required":"  "),o(M),Object.keys(M).length===0},te=async M=>{if(M.preventDefault(),ee())try{p(!0),await D4(t),d(!0),setTimeout(()=>d(!1),3e3),alert(n==="en"?"About page content updated successfully!":"About     !")}catch(I){console.error("Error saving about content:",I),alert(n==="en"?"Failed to save about content":"   ")}finally{p(!1)}},H=async()=>{try{await D4(t),window.open("/about","_blank")}catch(M){console.error("Error saving before preview:",M),alert("Failed to save content before preview")}};return r.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n==="en"?"About Page Management":"About  "}),r.jsx("p",{className:"text-gray-600 mt-1",children:n==="en"?"Edit village information, history, vision, and important places":" , ,      "})]}),r.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-[#138808] text-[#138808] rounded-lg hover:bg-[#138808] hover:text-white transition-colors",children:[r.jsx(ai,{size:20}),n==="en"?"Preview Page":" "]})]}),c&&r.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-500 rounded-lg flex items-center gap-2 text-green-700",children:[r.jsx(Qn,{size:20}),n==="en"?"Changes saved successfully!":"   !"]}),r.jsxs("form",{onSubmit:te,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(tV,{className:"text-[#ff6b00]"}),n==="en"?"Village Hero Image":"  "]}),t.villageImage&&r.jsxs("div",{className:"mb-4 relative inline-block",children:[r.jsx("img",{src:t.villageImage,alt:"Village",className:"h-48 w-auto rounded-lg border-2 border-gray-300 object-cover",onError:M=>{M.target.src="https://via.placeholder.com/800x400?text=Image+Not+Found"}}),r.jsx("button",{type:"button",onClick:E,className:"absolute -top-2 -right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:r.jsx(Ss,{size:20})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg cursor-pointer hover:from-blue-600 hover:to-blue-700 transition-all shadow-md hover:shadow-lg",children:[r.jsx(cc,{size:20}),r.jsx("span",{className:"font-medium",children:n==="en"?"Upload Village Photo":"   "})]}),r.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:n==="en"?"Recommended: 1200x600px, Max 5MB, JPG/PNG":": 1200x600px,  5MB, JPG/PNG"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"relative",children:[r.jsx(k4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:t.villageImage&&t.villageImage.startsWith("data:")?"":t.villageImage||"",onChange:M=>v("villageImage",M.target.value),placeholder:n==="en"?"Or paste image URL":"  URL  ",className:"w-full pl-10 pr-4 py-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"https://example.com/village-image.jpg"})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(mr,{className:"text-[#ff6b00]"}),n==="en"?"Village Description":" "]}),r.jsxs("div",{children:[r.jsx(_n,{label:"Village Description",name:"description",type:"textarea",rows:4,value:t.description,onChange:M=>b("description",M),required:!0,placeholder:"Enter village description"}),a.description&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.description})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(Cs,{className:"text-[#ff6b00]"}),n==="en"?"Village Statistics":" "]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Population":""," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:t.population,onChange:M=>v("population",M.target.value),placeholder:"5,000+",className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${a.population?"border-red-500":"border-gray-300"}`}),a.population&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.population})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Area":""," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:t.area,onChange:M=>v("area",M.target.value),placeholder:"15 sq km",className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${a.area?"border-red-500":"border-gray-300"}`}),a.area&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.area})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n==="en"?"Households":""," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:t.households,onChange:M=>v("households",M.target.value),placeholder:"800+",className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:border-[#ff6b00] ${a.households?"border-red-500":"border-gray-300"}`}),a.households&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.households})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(mr,{className:"text-[#ff6b00]"}),n==="en"?"History, Vision & Mission":",   "]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{children:r.jsx(_n,{label:"History",name:"history",type:"textarea",rows:3,value:t.history,onChange:M=>b("history",M),placeholder:"Enter village history"})}),r.jsx("div",{children:r.jsx(_n,{label:"Vision",name:"vision",type:"textarea",rows:3,value:t.vision,onChange:M=>b("vision",M),placeholder:"Enter village vision"})}),r.jsx("div",{children:r.jsx(_n,{label:"Mission",name:"mission",type:"textarea",rows:3,value:t.mission,onChange:M=>b("mission",M),placeholder:"Enter village mission"})})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(vl,{className:"text-[#ff6b00]"}),n==="en"?"Important Places":" "]}),r.jsxs("button",{type:"button",onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-[#138808] text-white rounded-lg hover:bg-[#0f6906] transition-colors",children:[r.jsx(Rr,{size:18}),n==="en"?"Add Place":" "]})]}),r.jsx("div",{className:"space-y-6",children:t.importantPlaces.map((M,I)=>r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border-2 border-gray-200 relative",children:[r.jsx("button",{type:"button",onClick:()=>D(I),className:"absolute top-2 right-2 p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(_a,{size:18})}),r.jsxs("div",{className:"space-y-4 pr-10",children:[r.jsx("div",{children:r.jsx(_n,{label:"Place Name",name:`place-name-${I}`,value:M.name,onChange:U=>A(I,"name",U),placeholder:"Enter place name"})}),r.jsx("div",{children:r.jsx(_n,{label:"Description",name:`place-description-${I}`,type:"textarea",rows:2,value:M.description,onChange:U=>A(I,"description",U),placeholder:"Enter place description"})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n==="en"?"Photo":""}),M.photoUrl&&r.jsxs("div",{className:"mb-3 relative inline-block",children:[r.jsx("img",{src:M.photoUrl,alt:M.name.en,className:"h-32 w-auto rounded-lg border-2 border-gray-300 object-cover",onError:U=>{U.target.src="https://via.placeholder.com/400x300?text=Image+Not+Found"}}),r.jsx("button",{type:"button",onClick:()=>L(I),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:r.jsx(Ss,{size:16})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg cursor-pointer hover:from-blue-600 hover:to-blue-700 transition-all shadow-md hover:shadow-lg",children:[r.jsx(cc,{size:18}),r.jsx("span",{className:"text-sm font-medium",children:n==="en"?"Upload Image":"  "})]}),r.jsx("input",{type:"file",accept:"image/*",onChange:U=>S(I,U),className:"hidden"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n==="en"?"Max 5MB, JPG/PNG":" 5MB, JPG/PNG"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"relative",children:[r.jsx(k4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",value:M.photoUrl&&M.photoUrl.startsWith("data:")?"":M.photoUrl||"",onChange:U=>A(I,"photoUrl",U.target.value),placeholder:n==="en"?"Or paste image URL":"  URL  ",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"https://example.com/image.jpg"})]})]})]})]})]},M.id))})]}),r.jsxs("div",{className:"flex justify-end gap-4",children:[r.jsx("button",{type:"button",onClick:()=>e("/admin/dashboard"),className:"px-6 py-2 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:g,children:n==="en"?"Cancel":" "}),r.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-[#138808] to-[#1aa910] text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:g,children:[r.jsx(ks,{size:20}),g?n==="en"?"Saving...":"  ...":n==="en"?"Save Changes":"  "]})]})]})]})},RB=()=>{const{language:n}=Vr(),e=gr(),[t,s]=G.useState({description:{en:"Education is the foundation of our village development. We are committed to providing quality education to all children and promoting literacy among adults. Our village has well-equipped schools and anganwadis that ensure holistic development of children.",mr:"      .            .             ."},schools:[{id:1,name:{en:"Government Primary School",mr:"  "},type:{en:"Primary",mr:""},classes:"1st to 7th",students:"250+",teachers:"12",facilities:{en:"Computer Lab, Library, Playground, Mid-day Meal",mr:" , ,  ,  "},description:{en:"Well-established primary school with modern facilities and dedicated teachers",mr:"       "}},{id:2,name:{en:"Zilla Parishad High School",mr:"  "},type:{en:"Secondary",mr:""},classes:"8th to 10th",students:"180+",teachers:"15",facilities:{en:"Science Lab, Computer Lab, Sports Room, Library",mr:" ,  ,  , "},description:{en:"Quality secondary education with focus on science and mathematics",mr:"        "}}],anganwadis:[{id:1,name:{en:"Anganwadi Center 1",mr:"  "},location:{en:"Main Village",mr:" "},children:"35",worker:{en:"Smt. Anita Patil",mr:"  "},helper:{en:"Smt. Sunita Bhosale",mr:"  "},services:{en:"Nutrition, Pre-school Education, Health Check-ups, Immunization",mr:", - ,  , "},description:{en:"Comprehensive child development center for children aged 0-6 years",mr:"-       "}},{id:2,name:{en:"Anganwadi Center 2",mr:"  "},location:{en:"East Hamlet",mr:" "},children:"30",worker:{en:"Smt. Rekha Kamble",mr:"  "},helper:{en:"Smt. Meera Jadhav",mr:"  "},services:{en:"Nutrition, Pre-school Education, Health Check-ups, Immunization",mr:", - ,  , "},description:{en:"Well-equipped anganwadi serving children from eastern part of village",mr:"       "}}],programs:[{id:1,name:{en:"Adult Literacy Program",mr:"  "},description:{en:"Evening classes for adults who missed formal education, focusing on basic reading, writing and numeracy skills",mr:"     ,  ,      "},timing:{en:"6 PM - 8 PM (Mon-Fri)",mr:"  -  (-)"},participants:"40+",coordinator:{en:"Mr. Suresh Deshmukh",mr:"  "}},{id:2,name:{en:"Computer Training for Youth",mr:"  "},description:{en:"Free computer training program for village youth covering basic computer skills, MS Office, and internet usage",mr:"  , MS Office           "},timing:{en:"4 PM - 6 PM (Tue-Sat)",mr:"  -  (-)"},participants:"25",coordinator:{en:"Mr. Rahul Patil",mr:"  "}},{id:3,name:{en:"Girl Child Education Support",mr:"  "},description:{en:"Scholarship and support program to encourage girl child education and reduce dropout rates",mr:"            "},beneficiaries:"50+ girls",coordinator:{en:"Mrs. Savita Shinde",mr:"  "}}],stats:{literacyRate:"78%",totalStudents:"500+",totalTeachers:"30+",schoolDropoutRate:"5%"}}),[a,o]=G.useState({}),[c,d]=G.useState(!1),[h,f]=G.useState(!0),[g,p]=G.useState(!1);G.useEffect(()=>{(async()=>{try{f(!0);const k=await UT();k&&s(k)}catch(k){console.error("Error loading education content:",k)}finally{f(!1)}})()},[]);const v=(U,k)=>{s(P=>({...P,[U]:k}))},b=(U,k)=>{s(P=>({...P,stats:{...P.stats,[U]:k}}))},A=(U,k,P)=>{const z=[...t.schools];z[U]={...z[U],[k]:P},s(le=>({...le,schools:z}))},S=()=>{const U={id:Date.now(),name:{en:"",mr:""},type:{en:"",mr:""},classes:"",students:"",teachers:"",facilities:{en:"",mr:""},description:{en:"",mr:""}};s(k=>({...k,schools:[...k.schools,U]}))},j=U=>{window.confirm(n==="en"?"Remove this school?":"  ?")&&s(k=>({...k,schools:k.schools.filter((P,z)=>z!==U)}))},E=(U,k,P)=>{const z=[...t.anganwadis];z[U]={...z[U],[k]:P},s(le=>({...le,anganwadis:z}))},L=()=>{const U={id:Date.now(),name:{en:"",mr:""},location:{en:"",mr:""},children:"",worker:{en:"",mr:""},helper:{en:"",mr:""},services:{en:"",mr:""},description:{en:"",mr:""}};s(k=>({...k,anganwadis:[...k.anganwadis,U]}))},O=U=>{window.confirm(n==="en"?"Remove this anganwadi?":"  ?")&&s(k=>({...k,anganwadis:k.anganwadis.filter((P,z)=>z!==U)}))},D=(U,k,P)=>{const z=[...t.programs];z[U]={...z[U],[k]:P},s(le=>({...le,programs:z}))},ee=()=>{const U={id:Date.now(),name:{en:"",mr:""},description:{en:"",mr:""},timing:{en:"",mr:""},participants:"",coordinator:{en:"",mr:""}};s(k=>({...k,programs:[...k.programs,U]}))},te=U=>{window.confirm(n==="en"?"Remove this program?":"  ?")&&s(k=>({...k,programs:k.programs.filter((P,z)=>z!==U)}))},H=()=>{const U={};return t.description.en.trim()||(U.description_en=n==="en"?"English description is required":"   "),t.description.mr.trim()||(U.description_mr=n==="en"?"Marathi description is required":"   "),o(U),Object.keys(U).length===0},M=async U=>{if(U.preventDefault(),H())try{p(!0),await M4(t),d(!0),setTimeout(()=>d(!1),3e3),alert(n==="en"?"Education page content updated successfully!":"Education     !")}catch(k){console.error("Error saving education content:",k),alert(n==="en"?"Failed to save education content":"   ")}finally{p(!1)}},I=async()=>{try{await M4(t),window.open("/education","_blank")}catch(U){console.error("Error saving before preview:",U),alert("Failed to save content before preview")}};return r.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n==="en"?"Education Page Management":"  "}),r.jsx("p",{className:"text-gray-600 mt-1",children:n==="en"?"Edit schools, anganwadis, and educational programs":",      "})]}),r.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-[#138808] text-[#138808] rounded-lg hover:bg-[#138808] hover:text-white transition-colors",children:[r.jsx(ai,{size:20}),n==="en"?"Preview Page":" "]})]}),c&&r.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-500 rounded-lg flex items-center gap-2 text-green-700",children:[r.jsx(Qn,{size:20}),n==="en"?"Changes saved successfully!":"   !"]}),r.jsxs("form",{onSubmit:M,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(Xg,{className:"text-[#ff6b00]"}),n==="en"?"Page Description":" "]}),r.jsxs("div",{children:[r.jsx(_n,{label:"Education Page Description",name:"description",type:"textarea",rows:4,value:t.description,onChange:U=>v("description",U),required:!0,placeholder:"Enter education page description"}),a.description&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.description})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(Cs,{className:"text-[#ff6b00]"}),n==="en"?"Education Statistics":" "]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Literacy Rate":" "}),r.jsx("input",{type:"text",value:t.stats.literacyRate,onChange:U=>b("literacyRate",U.target.value),placeholder:"78%",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Total Students":" "}),r.jsx("input",{type:"text",value:t.stats.totalStudents,onChange:U=>b("totalStudents",U.target.value),placeholder:"500+",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Total Teachers":" "}),r.jsx("input",{type:"text",value:t.stats.totalTeachers,onChange:U=>b("totalTeachers",U.target.value),placeholder:"30+",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Dropout Rate":"  "}),r.jsx("input",{type:"text",value:t.stats.schoolDropoutRate,onChange:U=>b("schoolDropoutRate",U.target.value),placeholder:"5%",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(D2,{className:"text-[#ff6b00]"}),n==="en"?"Schools":""]}),r.jsxs("button",{type:"button",onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-[#138808] text-white rounded-lg hover:bg-[#0f6906] transition-colors",children:[r.jsx(Rr,{size:18}),n==="en"?"Add School":" "]})]}),r.jsx("div",{className:"space-y-6",children:t.schools.map((U,k)=>r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border-2 border-gray-200 relative",children:[r.jsx("button",{type:"button",onClick:()=>j(k),className:"absolute top-2 right-2 p-2 text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(_a,{size:18})}),r.jsxs("div",{className:"space-y-4 pr-10",children:[r.jsx("div",{children:r.jsx(_n,{label:"School Name",name:`school-name-${k}`,value:U.name,onChange:P=>A(k,"name",P),placeholder:"Enter school name"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Classes":""}),r.jsx("input",{type:"text",value:U.classes,onChange:P=>A(k,"classes",P.target.value),placeholder:"1st to 7th",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Students":""}),r.jsx("input",{type:"text",value:U.students,onChange:P=>A(k,"students",P.target.value),placeholder:"250+",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Teachers":""}),r.jsx("input",{type:"text",value:U.teachers,onChange:P=>A(k,"teachers",P.target.value),placeholder:"12",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]}),r.jsx("div",{children:r.jsx(_n,{label:"School Type",name:`school-type-${k}`,value:U.type,onChange:P=>A(k,"type",P),placeholder:"Primary / Secondary"})})]}),r.jsx("div",{children:r.jsx(_n,{label:"Facilities",name:`school-facilities-${k}`,value:U.facilities,onChange:P=>A(k,"facilities",P),placeholder:"Enter school facilities"})}),r.jsx("div",{children:r.jsx(_n,{label:"Description",name:`school-description-${k}`,type:"textarea",rows:2,value:U.description,onChange:P=>A(k,"description",P),placeholder:"Enter school description"})})]})]},U.id))})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(I2,{className:"text-[#ff6b00]"}),n==="en"?"Anganwadis":""]}),r.jsxs("button",{type:"button",onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-[#138808] text-white rounded-lg hover:bg-[#0f6906] transition-colors",children:[r.jsx(Rr,{size:18}),n==="en"?"Add Anganwadi":" "]})]}),r.jsx("div",{className:"space-y-6",children:t.anganwadis.map((U,k)=>r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border-2 border-gray-200 relative",children:[r.jsx("button",{type:"button",onClick:()=>O(k),className:"absolute top-2 right-2 p-2 text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(_a,{size:18})}),r.jsxs("div",{className:"space-y-4 pr-10",children:[r.jsx("div",{children:r.jsx(_n,{label:"Anganwadi Name",name:`anganwadi-name-${k}`,value:U.name,onChange:P=>E(k,"name",P),placeholder:"Enter anganwadi name"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{children:r.jsx(_n,{label:"Location",name:`anganwadi-location-${k}`,value:U.location,onChange:P=>E(k,"location",P),placeholder:"Enter location"})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="en"?"Children":""}),r.jsx("input",{type:"text",value:U.children,onChange:P=>E(k,"children",P.target.value),placeholder:"35",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#ff6b00]"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("div",{children:r.jsx(_n,{label:"Worker",name:`anganwadi-worker-${k}`,value:U.worker,onChange:P=>E(k,"worker",P),placeholder:"Enter worker name"})}),r.jsx("div",{children:r.jsx(_n,{label:"Helper",name:`anganwadi-helper-${k}`,value:U.helper,onChange:P=>E(k,"helper",P),placeholder:"Enter helper name"})})]}),r.jsx("div",{children:r.jsx(_n,{label:"Services",name:`anganwadi-services-${k}`,value:U.services,onChange:P=>E(k,"services",P),placeholder:"Enter services provided"})}),r.jsx("div",{children:r.jsx(_n,{label:"Description",name:`anganwadi-description-${k}`,type:"textarea",rows:2,value:U.description,onChange:P=>E(k,"description",P),placeholder:"Enter anganwadi description"})})]})]},U.id))})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-2 border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(Xg,{className:"text-[#ff6b00]"}),n==="en"?"Educational Programs":" "]}),r.jsxs("button",{type:"button",onClick:ee,className:"flex items-center gap-2 px-4 py-2 bg-[#138808] text-white rounded-lg hover:bg-[#0f6906] transition-colors",children:[r.jsx(Rr,{size:18}),n==="en"?"Add Program":" "]})]}),r.jsx("div",{className:"space-y-6",children:t.programs.map((U,k)=>r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border-2 border-gray-200 relative",children:[r.jsx("button",{type:"button",onClick:()=>te(k),className:"absolute top-2 right-2 p-2 text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(_a,{size:18})}),r.jsxs("div",{className:"space-y-4 pr-10",children:[r.jsx("div",{children:r.jsx(_n,{label:"Program Name",name:`program-name-${k}`,value:U.name,onChange:P=>D(k,"name",P),placeholder:"Enter program name"})}),r.jsx("div",{children:r.jsx(_n,{label:"Description",name:`program-description-${k}`,type:"textarea",rows:2,value:U.description,onChange:P=>D(k,"description",P),placeholder:"Enter program description"})})]})]},U.id))})]}),r.jsxs("div",{className:"flex justify-end gap-4",children:[r.jsx("button",{type:"button",onClick:()=>e("/admin/dashboard"),className:"px-6 py-2 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:g,children:n==="en"?"Cancel":" "}),r.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-[#138808] to-[#1aa910] text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:g,children:[r.jsx(ks,{size:20}),g?n==="en"?"Saving...":"  ...":n==="en"?"Save Changes":"  "]})]})]})]})},as={VILLAGES:$t.villages(),DEMOGRAPHICS:$t.demographics(),POPULATION_BREAKDOWNS:$t.populationBreakdowns(),VILLAGE_GROUPS:$t.villageGroups(),INFRASTRUCTURE:$t.infrastructure(),STATISTICS_YEARS:$t.statisticsYears()};async function gm(){try{console.log("Fetching villages from Firebase server (bypassing cache)...");const e=(await WO(Et(Oe,as.VILLAGES))).docs.map(t=>{const s=t.data(),{id:a,...o}=s;return{id:t.id,...o}});return e.sort((t,s)=>{const a=t.createdAt?.toMillis?.()||0,o=s.createdAt?.toMillis?.()||0;return a-o}),console.log("Fetched from server:",e.length,"villages"),console.log("Village IDs:",e.map(t=>({docId:t.id,name:t.nameEn,createdAt:t.createdAt}))),e}catch(n){throw console.error("Error getting villages:",n),n}}async function PB(n){try{return{id:(await ns(Et(Oe,as.VILLAGES),{...n,gramPanchayatId:n.gramPanchayatId||"default",createdAt:Qt(),updatedAt:Qt()})).id,...n}}catch(e){throw console.error("Error creating village:",e),e}}async function LB(n,e){try{return await fu(ut(Oe,as.VILLAGES,n),{...e,updatedAt:Qt()},{merge:!0}),{id:n,...e}}catch(t){throw console.error("Error updating village:",t),t}}async function DB(n){try{console.log("Attempting to delete village from Firebase, ID:",n);const e=ut(Oe,as.VILLAGES,n);return console.log("Village reference created:",e.path),await $i(e),console.log("Firebase deleteDoc completed successfully for:",n),!0}catch(e){throw console.error("Error deleting village from Firebase:",e),console.error("Error code:",e.code),console.error("Error message:",e.message),e}}async function MB(n,e){try{const t=Ir(Et(Oe,as.DEMOGRAPHICS),si("villageId","==",n),si("year","==",e)),s=await sr(t);if(s.empty)return null;const a=s.docs[0];return{id:a.id,...a.data()}}catch(t){throw console.error("Error getting demographics:",t),t}}async function $T(n){try{const e=Ir(Et(Oe,as.DEMOGRAPHICS),si("year","==",n));return(await sr(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting demographics by year:",e),e}}async function WT(n){try{console.log("bulkUpsertDemographics: Starting batch operation for",n.length,"records");const e=Ay(Oe);let t=0,s=0;for(const a of n){const o=await MB(a.villageId,a.year);if(o){console.log(`Updating demographics for village ${a.villageId}, year ${a.year}`);const c=ut(Oe,as.DEMOGRAPHICS,o.id);e.update(c,{...a,updatedAt:Qt()}),t++}else{console.log(`Creating new demographics for village ${a.villageId}, year ${a.year}`);const c=ut(Et(Oe,as.DEMOGRAPHICS));e.set(c,{...a,createdAt:Qt(),updatedAt:Qt()}),s++}}return console.log(`Committing batch: ${s} creates, ${t} updates`),await e.commit(),console.log("Batch committed successfully to Firebase"),!0}catch(e){throw console.error("Error bulk upserting demographics:",e),e}}async function KT(n){try{const e=Ir(Et(Oe,as.POPULATION_BREAKDOWNS),si("year","==",n));return(await sr(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting breakdowns by year:",e),e}}async function OB(n){try{console.log("bulkUpsertPopulationBreakdowns: Starting batch operation for",n.length,"records");const e=Ay(Oe);let t=0,s=0;for(const a of n){const o=Ir(Et(Oe,as.POPULATION_BREAKDOWNS),si("villageId","==",a.villageId),si("year","==",a.year),si("category","==",a.category)),c=await sr(o),d=(a.maleCount||0)+(a.femaleCount||0);if(c.empty){const h=ut(Et(Oe,as.POPULATION_BREAKDOWNS));e.set(h,{...a,totalCount:d,createdAt:Qt(),updatedAt:Qt()}),s++}else{const h=c.docs[0],f=ut(Oe,as.POPULATION_BREAKDOWNS,h.id);e.update(f,{...a,totalCount:d,updatedAt:Qt()}),t++}}return console.log(`Committing batch: ${s} creates, ${t} updates`),await e.commit(),console.log("Population breakdowns batch committed successfully"),!0}catch(e){throw console.error("Error bulk upserting breakdowns:",e),e}}async function FB(n,e){try{const t=Ir(Et(Oe,as.VILLAGE_GROUPS),si("villageId","==",n),si("year","==",e)),s=await sr(t);if(s.empty)return null;const a=s.docs[0];return{id:a.id,...a.data()}}catch(t){throw console.error("Error getting groups:",t),t}}async function YT(n){try{const e=Ir(Et(Oe,as.VILLAGE_GROUPS),si("year","==",n));return(await sr(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting groups by year:",e),e}}async function UB(n){try{const e=Ay(Oe);for(const t of n){const s=await FB(t.villageId,t.year);if(s){const a=ut(Oe,as.VILLAGE_GROUPS,s.id);e.update(a,{...t,updatedAt:Qt()})}else{const a=ut(Et(Oe,as.VILLAGE_GROUPS));e.set(a,{...t,createdAt:Qt(),updatedAt:Qt()})}}return await e.commit(),!0}catch(e){throw console.error("Error bulk upserting groups:",e),e}}async function VB(n,e){try{const t=Ir(Et(Oe,as.INFRASTRUCTURE),si("villageId","==",n),si("year","==",e)),s=await sr(t);if(s.empty)return null;const a=s.docs[0];return{id:a.id,...a.data()}}catch(t){throw console.error("Error getting infrastructure:",t),t}}async function XT(n){try{const e=Ir(Et(Oe,as.INFRASTRUCTURE),si("year","==",n));return(await sr(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting infrastructure by year:",e),e}}async function zB(n){try{const e=Ay(Oe);for(const t of n){const s=await VB(t.villageId,t.year);if(s){const a=ut(Oe,as.INFRASTRUCTURE,s.id);e.update(a,{...t,updatedAt:Qt()})}else{const a=ut(Et(Oe,as.INFRASTRUCTURE));e.set(a,{...t,createdAt:Qt(),updatedAt:Qt()})}}return await e.commit(),!0}catch(e){throw console.error("Error bulk upserting infrastructure:",e),e}}async function qx(){try{const n=Ir(Et(Oe,as.STATISTICS_YEARS),Ki("year","desc"));return(await sr(n)).docs.map(t=>t.data().year)}catch(n){throw console.error("Error getting years:",n),n}}async function BB(n){try{const e=Ir(Et(Oe,as.STATISTICS_YEARS),si("year","==",n));if(!(await sr(e)).empty)throw new Error("Year already exists");return await ns(Et(Oe,as.STATISTICS_YEARS),{year:n,createdAt:Qt()}),n}catch(e){throw console.error("Error adding year:",e),e}}async function QT(){try{const n=await qx();return n.length>0?n[0]:new Date().getFullYear()}catch(n){return console.error("Error getting latest year:",n),new Date().getFullYear()}}async function JT(n){try{const[e,t,s,a,o]=await Promise.all([gm(),$T(n),KT(n),YT(n),XT(n)]);return{year:n,villages:e,demographics:t,breakdowns:s,groups:a,infrastructure:o}}catch(e){throw console.error("Error getting summary:",e),e}}const qB=()=>{const[n,e]=G.useState([]),[t,s]=G.useState(!1),[a,o]=G.useState(null),[c,d]=G.useState({type:"",text:""}),[h,f]=G.useState({nameEn:"",nameMr:"",code:""});G.useEffect(()=>{g()},[]),G.useEffect(()=>{if(c.type==="success"&&c.text){const L=setTimeout(()=>{d({type:"",text:""})},5e3);return()=>clearTimeout(L)}},[c]);const g=async()=>{try{console.log("Loading villages from Firebase...");const L=await gm();console.log("Loaded villages count:",L.length),console.log("Villages data:",JSON.stringify(L,null,2)),e(L)}catch(L){console.error("Error loading villages:",L),d({type:"error",text:"Failed to load villages"})}},p=()=>{f({nameEn:"",nameMr:"",code:""}),s(!1),o(null)},v=(L,O)=>{f(D=>({...D,[L]:O}))},b=async()=>{if(d({type:"",text:""}),!h.nameEn.trim()||!h.nameMr.trim()){d({type:"error",text:"Village name in both English and Marathi is required"});return}try{await PB(h),await g(),p(),d({type:"success",text:`Village "${h.nameEn}" added successfully!`})}catch(L){console.error("Error adding village:",L),d({type:"error",text:"Failed to add village. Please try again."})}},A=L=>{o(L.id),f({nameEn:L.nameEn,nameMr:L.nameMr,code:L.code||""}),d({type:"",text:""})},S=async()=>{if(d({type:"",text:""}),!h.nameEn.trim()||!h.nameMr.trim()){d({type:"error",text:"Village name in both English and Marathi is required"});return}try{await LB(a,h),await g(),p(),d({type:"success",text:`Village "${h.nameEn}" updated successfully!`})}catch(L){console.error("Error updating village:",L);const O=L.message||"Failed to update village. Please try again.";d({type:"error",text:`Error: ${O}. The village may not exist in the database.`})}},j=async L=>{if(confirm(`Are you sure you want to delete "${L.nameEn}"?

Warning: This will NOT delete associated statistics data. The data will remain but won't be visible unless you recreate the village.`))try{console.log("Deleting village with ID:",L.id),await DB(L.id),console.log("Delete successful, reloading villages..."),await g(),console.log("Villages reloaded, current count:",n.length-1),d({type:"success",text:`Village "${L.nameEn}" deleted successfully!`})}catch(O){console.error("Error deleting village:",O),d({type:"error",text:`Failed to delete village: ${O.message}`})}},E=()=>{p(),d({type:"",text:""})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Village Management"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Add, edit, or delete villages in your Gram Panchayat"})]}),!t&&!a&&r.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors shadow-md",children:[r.jsx(Rr,{className:"w-4 h-4"}),"Add Village"]})]}),c.text&&r.jsxs("div",{className:`flex items-center justify-between gap-2 p-4 rounded-lg ${c.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[c.type==="success"?r.jsx(Yi,{className:"w-5 h-5"}):r.jsx(Qn,{className:"w-5 h-5"}),r.jsx("span",{children:c.text})]}),r.jsx("button",{onClick:()=>d({type:"",text:""}),className:"text-gray-500 hover:text-gray-700 transition-colors",title:"Dismiss",children:r.jsx(Ss,{className:"w-4 h-4"})})]}),(t||a)&&r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-green-50 border border-orange-200 rounded-lg p-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:t?"Add New Village":"Edit Village"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Village Name (English) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:h.nameEn,onChange:L=>v("nameEn",L.target.value),placeholder:"e.g., Kothrud",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Village Name (Marathi) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:h.nameMr,onChange:L=>v("nameMr",L.target.value),placeholder:"e.g., ",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Village Code (Optional)"}),r.jsx("input",{type:"text",value:h.code,onChange:L=>v("code",L.target.value),placeholder:"e.g., V001",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:t?b:S,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(ks,{className:"w-4 h-4"}),t?"Add Village":"Update Village"]}),r.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:[r.jsx(Ss,{className:"w-4 h-4"}),"Cancel"]})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Qn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"No villages found"}),r.jsx("button",{onClick:()=>s(!0),className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Add Your First Village"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"#"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Village Name (English)"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Village Name (Marathi)"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Code"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((L,O)=>r.jsxs("tr",{className:O%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O+1}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.nameEn})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:L.nameMr})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-700",children:L.code||"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("button",{onClick:()=>A(L),disabled:t||a,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Edit",children:r.jsx(_p,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>j(L),disabled:t||a,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Delete",children:r.jsx(_a,{className:"w-4 h-4"})})]})})]},L.id))})]})})}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Qn,{className:"w-5 h-5 text-blue-600 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("p",{className:"font-semibold mb-2",children:"Important Notes:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Add all your villages here before entering statistics data"}),r.jsx("li",{children:"Deleting a village won't delete its statistics data (data remains orphaned)"}),r.jsx("li",{children:"Village names should be unique to avoid confusion"}),r.jsx("li",{children:"After adding villages, go to other tabs to enter their statistics"})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg border border-orange-200",children:[r.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"Total Villages"}),r.jsx("div",{className:"text-2xl font-bold text-orange-900 mt-1",children:n.length})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:[r.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Villages with Code"}),r.jsx("div",{className:"text-2xl font-bold text-green-900 mt-1",children:n.filter(L=>L.code).length})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Last Added"}),r.jsx("div",{className:"text-sm font-semibold text-blue-900 mt-1",children:n.length>0?n[n.length-1].nameEn:"None"})]})]})]})},GB=({selectedYear:n})=>{const[e,t]=G.useState([]),[s,a]=G.useState({}),[o,c]=G.useState(!0),[d,h]=G.useState(!1),[f,g]=G.useState({type:"",text:""});G.useEffect(()=>{p()},[n]);const p=async()=>{c(!0);try{const A=await gm(),S=await $T(n),j={};A.forEach(E=>{const L=S.find(ee=>ee.villageId===E.id),O=L?.malePopulation||0,D=L?.femalePopulation||0;j[E.id]={villageId:E.id,year:n,totalPopulation:O+D,malePopulation:O,femalePopulation:D,source:L?.source||""}}),t(A),a(j)}catch(A){console.error("Error loading demographics:",A),g({type:"error",text:"Failed to load demographics data"})}finally{c(!1)}},v=(A,S,j)=>{a(E=>{const L={...E,[A]:{...E[A],[S]:S==="source"?j:parseInt(j)||0}};if(S==="malePopulation"||S==="femalePopulation"){const O=S==="malePopulation"?parseInt(j)||0:L[A].malePopulation,D=S==="femalePopulation"?parseInt(j)||0:L[A].femalePopulation;L[A].totalPopulation=O+D}return L})},b=async()=>{h(!0),g({type:"",text:""});try{const A=Object.values(s);console.log("Saving demographics data:",A);for(const S of A)if(S.totalPopulation<0||S.malePopulation<0||S.femalePopulation<0){g({type:"error",text:"Population counts cannot be negative"}),h(!1);return}console.log("Calling bulkUpsertDemographics with",A.length,"records"),await WT(A),console.log("Demographics saved successfully to Firebase"),g({type:"success",text:`Demographics for year ${n} saved successfully!`})}catch(A){console.error("Error saving demographics:",A),g({type:"error",text:`Failed to save demographics: ${A.message}`})}finally{h(!1)}};return o?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Population Demographics - ",n]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage total, male, and female population for each village"})]}),r.jsxs("button",{onClick:b,disabled:d,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(ks,{className:"w-4 h-4"}),d?"Saving...":"Save All"]})]}),f.text&&r.jsxs("div",{className:`flex items-center gap-2 p-4 rounded-lg ${f.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[r.jsx(Qn,{className:"w-5 h-5"}),r.jsx("span",{children:f.text})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Village Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:r.jsxs("div",{className:"flex items-center gap-1",children:["Total Population",r.jsx("span",{className:"text-xs normal-case text-gray-500",children:"(Auto)"})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Male Population"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Female Population"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Data Source"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((A,S)=>r.jsxs("tr",{className:S%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.nameEn}),r.jsx("div",{className:"text-sm text-gray-500",children:A.nameMr})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"number",min:"0",value:s[A.id]?.totalPopulation||0,readOnly:!0,className:"w-32 px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-700 font-semibold cursor-not-allowed",title:"Auto-calculated: Male + Female"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"number",min:"0",value:s[A.id]?.malePopulation||0,onChange:j=>v(A.id,"malePopulation",j.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"number",min:"0",value:s[A.id]?.femalePopulation||0,onChange:j=>v(A.id,"femalePopulation",j.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"text",value:s[A.id]?.source||"",onChange:j=>v(A.id,"source",j.target.value),placeholder:"e.g., Census 2011",className:"w-48 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]},A.id))})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Total Population"}),r.jsx("div",{className:"text-2xl font-bold text-blue-900 mt-1",children:Object.values(s).reduce((A,S)=>A+(S.totalPopulation||0),0).toLocaleString()})]}),r.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-4 rounded-lg border border-indigo-200",children:[r.jsx("div",{className:"text-sm text-indigo-600 font-medium",children:"Male Population"}),r.jsx("div",{className:"text-2xl font-bold text-indigo-900 mt-1",children:Object.values(s).reduce((A,S)=>A+(S.malePopulation||0),0).toLocaleString()})]}),r.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 p-4 rounded-lg border border-pink-200",children:[r.jsx("div",{className:"text-sm text-pink-600 font-medium",children:"Female Population"}),r.jsx("div",{className:"text-2xl font-bold text-pink-900 mt-1",children:Object.values(s).reduce((A,S)=>A+(S.femalePopulation||0),0).toLocaleString()})]})]})]})},pf=["ST","SC","OBC","OTHER"],HB=({selectedYear:n})=>{const[e,t]=G.useState([]),[s,a]=G.useState({}),[o,c]=G.useState(!0),[d,h]=G.useState(!1),[f,g]=G.useState({type:"",text:""});G.useEffect(()=>{p()},[n]);const p=async()=>{c(!0);try{const j=await gm(),E=await KT(n),L={};j.forEach(O=>{L[O.id]={},pf.forEach(D=>{const ee=E.find(te=>te.villageId===O.id&&te.category===D);L[O.id][D]={maleCount:ee?.maleCount||0,femaleCount:ee?.femaleCount||0}})}),t(j),a(L)}catch(j){console.error("Error loading category data:",j),g({type:"error",text:"Failed to load category data"})}finally{c(!1)}},v=(j,E,L,O)=>{a(D=>({...D,[j]:{...D[j],[E]:{...D[j][E],[L]:parseInt(O)||0}}}))},b=async()=>{h(!0),g({type:"",text:""});try{const j=[];Object.entries(s).forEach(([L,O])=>{Object.entries(O).forEach(([D,ee])=>{if(ee.maleCount<0||ee.femaleCount<0)throw new Error("Population counts cannot be negative");j.push({villageId:L,year:n,category:D,maleCount:ee.maleCount,femaleCount:ee.femaleCount})})}),console.log("Saving category-wise data:",j.length,"records"),await OB(j),console.log("Category-wise data saved successfully");const E=[];Object.entries(s).forEach(([L,O])=>{let D=0,ee=0;Object.values(O).forEach(te=>{D+=te.maleCount||0,ee+=te.femaleCount||0}),E.push({villageId:L,year:n,totalPopulation:D+ee,malePopulation:D,femalePopulation:ee,source:"Auto-calculated from Category-wise data"})}),console.log("Auto-updating demographics from category data:",E.length,"villages"),await WT(E),console.log("Demographics auto-updated successfully"),g({type:"success",text:` Category-wise data saved! Demographics auto-updated for ${n}.`})}catch(j){console.error("Error saving category-wise data:",j),g({type:"error",text:j.message||"Failed to save data. Please try again."})}finally{h(!1)}},A=(j,E)=>{const L=s[j]?.[E];return(L?.maleCount||0)+(L?.femaleCount||0)},S=j=>e.reduce((E,L)=>E+A(L.id,j),0);return o?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Category-wise Population - ",n]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage ST/SC/OBC/Other population breakdown for each village"})]}),r.jsxs("button",{onClick:b,disabled:d,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(ks,{className:"w-4 h-4"}),d?"Saving...":"Save All"]})]}),f.text&&r.jsxs("div",{className:`flex items-center gap-2 p-4 rounded-lg ${f.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[r.jsx(Qn,{className:"w-5 h-5"}),r.jsx("span",{children:f.text})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsxs("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:[r.jsxs("tr",{children:[r.jsx("th",{rowSpan:"2",className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider border-r",children:"Village Name"}),pf.map(j=>r.jsx("th",{colSpan:"3",className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider border-r",children:j},j))]}),r.jsx("tr",{children:pf.map(j=>r.jsxs(F0.Fragment,{children:[r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-600",children:"Male"}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-600",children:"Female"}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-600 border-r",children:"Total"})]},j))})]}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((j,E)=>r.jsxs("tr",{className:E%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap border-r",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.nameEn}),r.jsx("div",{className:"text-sm text-gray-500",children:j.nameMr})]})}),pf.map(L=>r.jsxs(F0.Fragment,{children:[r.jsx("td",{className:"px-2 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[j.id]?.[L]?.maleCount||0,onChange:O=>v(j.id,L,"maleCount",O.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),r.jsx("td",{className:"px-2 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[j.id]?.[L]?.femaleCount||0,onChange:O=>v(j.id,L,"femaleCount",O.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),r.jsx("td",{className:"px-2 py-4 text-center border-r",children:r.jsx("span",{className:"font-semibold text-gray-700",children:A(j.id,L)})})]},L))]},j.id))}),r.jsx("tfoot",{className:"bg-gray-100",children:r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 font-bold text-gray-900 border-r",children:"Grand Total"}),pf.map(j=>r.jsxs(F0.Fragment,{children:[r.jsx("td",{className:"px-2 py-4 text-center font-semibold text-gray-700",children:e.reduce((E,L)=>E+(s[L.id]?.[j]?.maleCount||0),0)}),r.jsx("td",{className:"px-2 py-4 text-center font-semibold text-gray-700",children:e.reduce((E,L)=>E+(s[L.id]?.[j]?.femaleCount||0),0)}),r.jsx("td",{className:"px-2 py-4 text-center font-bold text-gray-900 border-r",children:S(j)})]},j))]})})]})})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:pf.map((j,E)=>{const L=[{from:"purple-50",to:"purple-100",border:"purple-200",text:"purple-600",value:"purple-900"},{from:"blue-50",to:"blue-100",border:"blue-200",text:"blue-600",value:"blue-900"},{from:"green-50",to:"green-100",border:"green-200",text:"green-600",value:"green-900"},{from:"amber-50",to:"amber-100",border:"amber-200",text:"amber-600",value:"amber-900"}][E];return r.jsxs("div",{className:`bg-gradient-to-br from-${L.from} to-${L.to} p-4 rounded-lg border border-${L.border}`,children:[r.jsxs("div",{className:`text-sm text-${L.text} font-medium`,children:[j," Population"]}),r.jsx("div",{className:`text-2xl font-bold text-${L.value} mt-1`,children:S(j).toLocaleString()})]},j)})})]})},$B=({selectedYear:n})=>{const[e,t]=G.useState([]),[s,a]=G.useState({}),[o,c]=G.useState(!0),[d,h]=G.useState(!1),[f,g]=G.useState({type:"",text:""});G.useEffect(()=>{p()},[n]);const p=async()=>{c(!0);try{const j=await gm(),E=await YT(n),L={};j.forEach(O=>{const D=E.find(ee=>ee.villageId===O.id);L[O.id]={villageId:O.id,year:n,mahilaBachatGatCount:D?.mahilaBachatGatCount||0,yuvakMandalCount:D?.yuvakMandalCount||0,kisanGatCount:D?.kisanGatCount||0,otherGroupCount:D?.otherGroupCount||0}}),t(j),a(L)}catch(j){console.error("Error loading groups data:",j),g({type:"error",text:"Failed to load groups data"})}finally{c(!1)}},v=(j,E,L)=>{a(O=>({...O,[j]:{...O[j],[E]:parseInt(L)||0}}))},b=async()=>{h(!0),g({type:"",text:""});try{const j=Object.values(s);for(const E of j)if(E.mahilaBachatGatCount<0||E.yuvakMandalCount<0||E.kisanGatCount<0||E.otherGroupCount<0)throw new Error("Group counts cannot be negative");console.log("Saving groups & committees data:",j.length,"records"),await UB(j),console.log("Groups & committees data saved successfully"),g({type:"success",text:`Groups & Committees data for ${n} saved successfully!`})}catch(j){console.error("Error saving groups data:",j),g({type:"error",text:j.message||"Failed to save data. Please try again."})}finally{h(!1)}},A=j=>{const E=s[j];return E?(E.mahilaBachatGatCount||0)+(E.yuvakMandalCount||0)+(E.kisanGatCount||0)+(E.otherGroupCount||0):0},S=j=>Object.values(s).reduce((E,L)=>E+(L[j]||0),0);return o?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Groups & Committees - ",n]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage community groups count for each village"})]}),r.jsxs("button",{onClick:b,disabled:d,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(ks,{className:"w-4 h-4"}),d?"Saving...":"Save All"]})]}),f.text&&r.jsxs("div",{className:`flex items-center gap-2 p-4 rounded-lg ${f.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[r.jsx(Qn,{className:"w-5 h-5"}),r.jsx("span",{children:f.text})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 p-4 rounded-lg border border-pink-200",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cs,{className:"w-5 h-5 text-pink-600"}),r.jsx("div",{className:"text-sm text-pink-600 font-medium",children:"Mahila Bachat Gat"})]}),r.jsx("div",{className:"text-sm text-pink-500 mt-1",children:"Women's Self-Help Groups"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cs,{className:"w-5 h-5 text-blue-600"}),r.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Yuvak Mandal"})]}),r.jsx("div",{className:"text-sm text-blue-500 mt-1",children:"Youth Organizations"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cs,{className:"w-5 h-5 text-green-600"}),r.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Kisan Gat"})]}),r.jsx("div",{className:"text-sm text-green-500 mt-1",children:"Farmers' Groups"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cs,{className:"w-5 h-5 text-purple-600"}),r.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Other Groups"})]}),r.jsx("div",{className:"text-sm text-purple-500 mt-1",children:"Other Community Groups"})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Village Name"}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Mahila Bachat Gat",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:"(  )"})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Yuvak Mandal",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:"( )"})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Kisan Gat",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:"( )"})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Other Groups",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:"( )"})]}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Total"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((j,E)=>r.jsxs("tr",{className:E%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.nameEn}),r.jsx("div",{className:"text-sm text-gray-500",children:j.nameMr})]})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[j.id]?.mahilaBachatGatCount||0,onChange:L=>v(j.id,"mahilaBachatGatCount",L.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[j.id]?.yuvakMandalCount||0,onChange:L=>v(j.id,"yuvakMandalCount",L.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[j.id]?.kisanGatCount||0,onChange:L=>v(j.id,"kisanGatCount",L.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[j.id]?.otherGroupCount||0,onChange:L=>v(j.id,"otherGroupCount",L.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("span",{className:"font-semibold text-gray-700",children:A(j.id)})})]},j.id))}),r.jsx("tfoot",{className:"bg-gray-100",children:r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 font-bold text-gray-900",children:"Grand Total"}),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:S("mahilaBachatGatCount")}),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:S("yuvakMandalCount")}),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:S("kisanGatCount")}),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:S("otherGroupCount")}),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:S("mahilaBachatGatCount")+S("yuvakMandalCount")+S("kisanGatCount")+S("otherGroupCount")})]})})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 p-4 rounded-lg border border-pink-200",children:[r.jsx("div",{className:"text-sm text-pink-600 font-medium",children:"Mahila Bachat Gat"}),r.jsx("div",{className:"text-2xl font-bold text-pink-900 mt-1",children:S("mahilaBachatGatCount")})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Yuvak Mandal"}),r.jsx("div",{className:"text-2xl font-bold text-blue-900 mt-1",children:S("yuvakMandalCount")})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:[r.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Kisan Gat"}),r.jsx("div",{className:"text-2xl font-bold text-green-900 mt-1",children:S("kisanGatCount")})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200",children:[r.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Other Groups"}),r.jsx("div",{className:"text-2xl font-bold text-purple-900 mt-1",children:S("otherGroupCount")})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg border border-orange-200",children:[r.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"Total Groups"}),r.jsx("div",{className:"text-2xl font-bold text-orange-900 mt-1",children:S("mahilaBachatGatCount")+S("yuvakMandalCount")+S("kisanGatCount")+S("otherGroupCount")})]})]})]})},WB=({selectedYear:n})=>{const[e,t]=G.useState([]),[s,a]=G.useState({}),[o,c]=G.useState(!0),[d,h]=G.useState(!1),[f,g]=G.useState({type:"",text:""});G.useEffect(()=>{p()},[n]);const p=async()=>{c(!0);try{const S=await gm(),j=await XT(n),E={};S.forEach(L=>{const O=j.find(D=>D.villageId===L.id);E[L.id]={villageId:L.id,year:n,privateWells:O?.privateWells||0,publicWells:O?.publicWells||0,nitScheme:O?.nitScheme||0,handpumps:O?.handpumps||0,waterTankCapacity:O?.waterTankCapacity||"",waterFilterPlant:O?.waterFilterPlant||0,privatePonds:O?.privatePonds||0,families:O?.families||0,oldTapConnections:O?.oldTapConnections||0,newTapConnections:O?.newTapConnections||0,totalTapConnections:O?.totalTapConnections||0,privateWellsForTap:O?.privateWellsForTap||0,pendingTapConnections:O?.pendingTapConnections||0,notes:O?.notes||""}}),t(S),a(E)}catch(S){console.error("Error loading infrastructure:",S),g({type:"error",text:"Failed to load infrastructure data"})}finally{c(!1)}},v=(S,j,E)=>{a(L=>{const O={...L,[S]:{...L[S],[j]:j==="notes"||j==="waterTankCapacity"?E:parseInt(E)||0}};if(j==="oldTapConnections"||j==="newTapConnections"){const D=j==="oldTapConnections"?parseInt(E)||0:O[S].oldTapConnections,ee=j==="newTapConnections"?parseInt(E)||0:O[S].newTapConnections;O[S].totalTapConnections=D+ee}return O})},b=async()=>{h(!0),g({type:"",text:""});try{const S=Object.values(s);console.log("Saving water & infrastructure data:",S.length,"records"),await zB(S),console.log("Water & infrastructure data saved successfully"),g({type:"success",text:`Water & Infrastructure data for ${n} saved successfully!`})}catch(S){console.error("Error saving infrastructure data:",S),g({type:"error",text:S.message||"Failed to save data. Please try again."})}finally{h(!1)}},A=S=>Object.values(s).reduce((j,E)=>j+(E[S]||0),0);return o?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Water Supply Information - ",n]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"  | Manage water resources and infrastructure"})]}),r.jsxs("button",{onClick:b,disabled:d,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(ks,{className:"w-4 h-4"}),d?"Saving...":"Save All"]})]}),f.text&&r.jsxs("div",{className:`flex items-center gap-2 p-4 rounded-lg ${f.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[r.jsx(Qn,{className:"w-5 h-5"}),r.jsx("span",{children:f.text})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 px-6 py-4",children:r.jsxs("h4",{className:"text-white font-semibold flex items-center gap-2",children:[r.jsx(Ux,{className:"w-5 h-5"}),"Table 1: Water Supply Sources |   "]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Sr. No.",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:".."})]}),r.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Water Source",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:" "})]}),e.map(S=>r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:[S.nameEn,r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:S.nameMr})]},S.id)),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider bg-blue-50",children:["Total",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:""})]})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"1"}),r.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Private Wells",r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-500",children:" "})]}),e.map(S=>r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[S.id]?.privateWells||0,onChange:j=>v(S.id,"privateWells",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},S.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:A("privateWells")})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"2"}),r.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Public Wells",r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-500",children:" "})]}),e.map(S=>r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[S.id]?.publicWells||0,onChange:j=>v(S.id,"publicWells",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},S.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:A("publicWells")})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"3"}),r.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["NIT Scheme",r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-500",children:" "})]}),e.map(S=>r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[S.id]?.nitScheme||0,onChange:j=>v(S.id,"nitScheme",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},S.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:A("nitScheme")})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"4"}),r.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Handpumps",r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-500",children:""})]}),e.map(S=>r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[S.id]?.handpumps||0,onChange:j=>v(S.id,"handpumps",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},S.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:A("handpumps")})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"5"}),r.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Water Tank Capacity",r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-500",children:"  "})]}),e.map(S=>r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"text",value:s[S.id]?.waterTankCapacity||"",onChange:j=>v(S.id,"waterTankCapacity",j.target.value),placeholder:"e.g., 8 lakh liters",className:"w-32 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})},S.id)),r.jsx("td",{className:"px-6 py-4 text-center text-gray-500 bg-blue-50",children:""})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"6"}),r.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Water Filter Plant",r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-500",children:"  "})]}),e.map(S=>r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[S.id]?.waterFilterPlant||0,onChange:j=>v(S.id,"waterFilterPlant",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},S.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:A("waterFilterPlant")})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"7"}),r.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["Private Ponds",r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-500",children:" "})]}),e.map(S=>r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[S.id]?.privatePonds||0,onChange:j=>v(S.id,"privatePonds",j.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},S.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:A("privatePonds")})]})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4",children:r.jsxs("h4",{className:"text-white font-semibold flex items-center gap-2",children:[r.jsx(Ux,{className:"w-5 h-5"}),"Table 2: Tap Connection Details |   "]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Sr. No.",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:".."})]}),r.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Village",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:""})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Families",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:""})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Old Tap Connections",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:" "})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["New Tap Connections",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:" "})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider bg-indigo-50",children:["Total Tap Connections",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:"(Auto)"})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Private Wells",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:" "})]}),r.jsxs("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:["Pending",r.jsx("br",{}),r.jsx("span",{className:"text-xs font-normal text-gray-500",children:""})]})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((S,j)=>r.jsxs("tr",{className:j%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:j+1}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.nameEn}),r.jsx("div",{className:"text-xs text-gray-500",children:S.nameMr})]}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[S.id]?.families||0,onChange:E=>v(S.id,"families",E.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[S.id]?.oldTapConnections||0,onChange:E=>v(S.id,"oldTapConnections",E.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[S.id]?.newTapConnections||0,onChange:E=>v(S.id,"newTapConnections",E.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 text-center bg-indigo-50",children:r.jsx("input",{type:"number",value:s[S.id]?.totalTapConnections||0,readOnly:!0,className:"w-24 px-3 py-2 text-center border border-gray-300 rounded bg-gray-100 font-semibold cursor-not-allowed",title:"Auto-calculated: Old + New"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[S.id]?.privateWellsForTap||0,onChange:E=>v(S.id,"privateWellsForTap",E.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:s[S.id]?.pendingTapConnections||0,onChange:E=>v(S.id,"pendingTapConnections",E.target.value),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})})]},S.id))}),r.jsx("tfoot",{className:"bg-indigo-50",children:r.jsxs("tr",{className:"font-bold",children:[r.jsx("td",{className:"px-6 py-4",colSpan:"2",children:"Total | "}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:A("families")}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:A("oldTapConnections")}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:A("newTapConnections")}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900 bg-indigo-100",children:A("totalTapConnections")}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:A("privateWellsForTap")}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:A("pendingTapConnections")})]})})]})})]})]})},KB="modulepreload",YB=function(n){return"/"+n},$4={},b1=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let h=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");a=h(t.map(f=>{if(f=YB(f),f in $4)return;$4[f]=!0;const g=f.endsWith(".css"),p=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":KB,g||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),g)return new Promise((b,A)=>{v.addEventListener("load",b),v.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};function ur(n){"@babel/helpers - typeof";return ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(n)}var wl=Uint8Array,xo=Uint16Array,Cw=Int32Array,Iw=new wl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kw=new wl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),W4=new wl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ZT=function(n,e){for(var t=new xo(31),s=0;s<31;++s)t[s]=e+=1<<n[s-1];for(var a=new Cw(t[30]),s=1;s<30;++s)for(var o=t[s];o<t[s+1];++o)a[o]=o-t[s]<<5|s;return{b:t,r:a}},eC=ZT(Iw,2),XB=eC.b,U2=eC.r;XB[28]=258,U2[258]=28;var QB=ZT(kw,0),K4=QB.r,V2=new xo(32768);for(var Fr=0;Fr<32768;++Fr){var qd=(Fr&43690)>>1|(Fr&21845)<<1;qd=(qd&52428)>>2|(qd&13107)<<2,qd=(qd&61680)>>4|(qd&3855)<<4,V2[Fr]=((qd&65280)>>8|(qd&255)<<8)>>1}var Cg=(function(n,e,t){for(var s=n.length,a=0,o=new xo(e);a<s;++a)n[a]&&++o[n[a]-1];var c=new xo(e);for(a=1;a<e;++a)c[a]=c[a-1]+o[a-1]<<1;var d;if(t){d=new xo(1<<e);var h=15-e;for(a=0;a<s;++a)if(n[a])for(var f=a<<4|n[a],g=e-n[a],p=c[n[a]-1]++<<g,v=p|(1<<g)-1;p<=v;++p)d[V2[p]>>h]=f}else for(d=new xo(s),a=0;a<s;++a)n[a]&&(d[a]=V2[c[n[a]-1]++]>>15-n[a]);return d}),xh=new wl(288);for(var Fr=0;Fr<144;++Fr)xh[Fr]=8;for(var Fr=144;Fr<256;++Fr)xh[Fr]=9;for(var Fr=256;Fr<280;++Fr)xh[Fr]=7;for(var Fr=280;Fr<288;++Fr)xh[Fr]=8;var Gx=new wl(32);for(var Fr=0;Fr<32;++Fr)Gx[Fr]=5;var JB=Cg(xh,9,0),ZB=Cg(Gx,5,0),tC=function(n){return(n+7)/8|0},eq=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new wl(n.subarray(e,t))},Uc=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8},ig=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8,n[s+2]|=t>>16},v1=function(n,e){for(var t=[],s=0;s<n.length;++s)n[s]&&t.push({s,f:n[s]});var a=t.length,o=t.slice();if(!a)return{t:rC,l:0};if(a==1){var c=new wl(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(ee,te){return ee.f-te.f}),t.push({s:-1,f:25001});var d=t[0],h=t[1],f=0,g=1,p=2;for(t[0]={s:-1,f:d.f+h.f,l:d,r:h};g!=a-1;)d=t[t[f].f<t[p].f?f++:p++],h=t[f!=g&&t[f].f<t[p].f?f++:p++],t[g++]={s:-1,f:d.f+h.f,l:d,r:h};for(var v=o[0].s,s=1;s<a;++s)o[s].s>v&&(v=o[s].s);var b=new xo(v+1),A=z2(t[g-1],b,0);if(A>e){var s=0,S=0,j=A-e,E=1<<j;for(o.sort(function(te,H){return b[H.s]-b[te.s]||te.f-H.f});s<a;++s){var L=o[s].s;if(b[L]>e)S+=E-(1<<A-b[L]),b[L]=e;else break}for(S>>=j;S>0;){var O=o[s].s;b[O]<e?S-=1<<e-b[O]++-1:++s}for(;s>=0&&S;--s){var D=o[s].s;b[D]==e&&(--b[D],++S)}A=e}return{t:new wl(b),l:A}},z2=function(n,e,t){return n.s==-1?Math.max(z2(n.l,e,t+1),z2(n.r,e,t+1)):e[n.s]=t},Y4=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new xo(++e),s=0,a=n[0],o=1,c=function(h){t[s++]=h},d=1;d<=e;++d)if(n[d]==a&&d!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(a),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(a);o=1,a=n[d]}return{c:t.subarray(0,s),n:e}},og=function(n,e){for(var t=0,s=0;s<e.length;++s)t+=n[s]*e[s];return t},nC=function(n,e,t){var s=t.length,a=tC(e+2);n[a]=s&255,n[a+1]=s>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<s;++o)n[a+o+4]=t[o];return(a+4+s)*8},X4=function(n,e,t,s,a,o,c,d,h,f,g){Uc(e,g++,t),++a[256];for(var p=v1(a,15),v=p.t,b=p.l,A=v1(o,15),S=A.t,j=A.l,E=Y4(v),L=E.c,O=E.n,D=Y4(S),ee=D.c,te=D.n,H=new xo(19),M=0;M<L.length;++M)++H[L[M]&31];for(var M=0;M<ee.length;++M)++H[ee[M]&31];for(var I=v1(H,7),U=I.t,k=I.l,P=19;P>4&&!U[W4[P-1]];--P);var z=f+5<<3,le=og(a,xh)+og(o,Gx)+c,Ne=og(a,v)+og(o,S)+c+14+3*P+og(H,U)+2*H[16]+3*H[17]+7*H[18];if(h>=0&&z<=le&&z<=Ne)return nC(e,g,n.subarray(h,h+f));var ie,ge,ue,je;if(Uc(e,g,1+(Ne<le)),g+=2,Ne<le){ie=Cg(v,b,0),ge=v,ue=Cg(S,j,0),je=S;var Be=Cg(U,k,0);Uc(e,g,O-257),Uc(e,g+5,te-1),Uc(e,g+10,P-4),g+=14;for(var M=0;M<P;++M)Uc(e,g+3*M,U[W4[M]]);g+=3*P;for(var se=[L,ee],q=0;q<2;++q)for(var J=se[q],M=0;M<J.length;++M){var ae=J[M]&31;Uc(e,g,Be[ae]),g+=U[ae],ae>15&&(Uc(e,g,J[M]>>5&127),g+=J[M]>>12)}}else ie=JB,ge=xh,ue=ZB,je=Gx;for(var M=0;M<d;++M){var he=s[M];if(he>255){var ae=he>>18&31;ig(e,g,ie[ae+257]),g+=ge[ae+257],ae>7&&(Uc(e,g,he>>23&31),g+=Iw[ae]);var fe=he&31;ig(e,g,ue[fe]),g+=je[fe],fe>3&&(ig(e,g,he>>5&8191),g+=kw[fe])}else ig(e,g,ie[he]),g+=ge[he]}return ig(e,g,ie[256]),g+ge[256]},tq=new Cw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),rC=new wl(0),nq=function(n,e,t,s,a,o){var c=o.z||n.length,d=new wl(s+c+5*(1+Math.ceil(c/7e3))+a),h=d.subarray(s,d.length-a),f=o.l,g=(o.r||0)&7;if(e){g&&(h[0]=o.r>>3);for(var p=tq[e-1],v=p>>13,b=p&8191,A=(1<<t)-1,S=o.p||new xo(32768),j=o.h||new xo(A+1),E=Math.ceil(t/3),L=2*E,O=function(ze){return(n[ze]^n[ze+1]<<E^n[ze+2]<<L)&A},D=new Cw(25e3),ee=new xo(288),te=new xo(32),H=0,M=0,I=o.i||0,U=0,k=o.w||0,P=0;I+2<c;++I){var z=O(I),le=I&32767,Ne=j[z];if(S[le]=Ne,j[z]=le,k<=I){var ie=c-I;if((H>7e3||U>24576)&&(ie>423||!f)){g=X4(n,h,0,D,ee,te,M,U,P,I-P,g),U=H=M=0,P=I;for(var ge=0;ge<286;++ge)ee[ge]=0;for(var ge=0;ge<30;++ge)te[ge]=0}var ue=2,je=0,Be=b,se=le-Ne&32767;if(ie>2&&z==O(I-se))for(var q=Math.min(v,ie)-1,J=Math.min(32767,I),ae=Math.min(258,ie);se<=J&&--Be&&le!=Ne;){if(n[I+ue]==n[I+ue-se]){for(var he=0;he<ae&&n[I+he]==n[I+he-se];++he);if(he>ue){if(ue=he,je=se,he>q)break;for(var fe=Math.min(se,he-2),be=0,ge=0;ge<fe;++ge){var Pe=I-se+ge&32767,ke=S[Pe],qe=Pe-ke&32767;qe>be&&(be=qe,Ne=Pe)}}}le=Ne,Ne=S[le],se+=le-Ne&32767}if(je){D[U++]=268435456|U2[ue]<<18|K4[je];var Ze=U2[ue]&31,ot=K4[je]&31;M+=Iw[Ze]+kw[ot],++ee[257+Ze],++te[ot],k=I+ue,++H}else D[U++]=n[I],++ee[n[I]]}}for(I=Math.max(I,k);I<c;++I)D[U++]=n[I],++ee[n[I]];g=X4(n,h,f,D,ee,te,M,U,P,I-P,g),f||(o.r=g&7|h[g/8|0]<<3,g-=7,o.h=j,o.p=S,o.i=I,o.w=k)}else{for(var I=o.w||0;I<c+f;I+=65535){var it=I+65535;it>=c&&(h[g/8|0]=f,it=c),g=nC(h,g+1,n.subarray(I,it))}o.i=c}return eq(d,0,s+tC(g)+a)},sC=function(){var n=1,e=0;return{p:function(t){for(var s=n,a=e,o=t.length|0,c=0;c!=o;){for(var d=Math.min(c+2655,o);c<d;++c)a+=s+=t[c];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}n=s,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},rq=function(n,e,t,s,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new wl(o.length+n.length);c.set(o),c.set(n,o.length),n=c,a.w=o.length}return nq(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,s,a)},aC=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},sq=function(n,e){var t=e.level,s=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=s<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=sC();a.p(e.dictionary),aC(n,2,a.d())}};function B2(n,e){e||(e={});var t=sC();t.p(n);var s=rq(n,e,e.dictionary?6:2,4);return sq(s,e),aC(s,s.length-4,t.d()),s}var aq=typeof TextDecoder<"u"&&new TextDecoder,iq=0;try{aq.decode(rC,{stream:!0}),iq=1}catch{}function oq(n){if(Array.isArray(n))return n}function lq(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var s,a,o,c,d=[],h=!0,f=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(h=(s=o.call(t)).done)&&(d.push(s.value),d.length!==e);h=!0);}catch(g){f=!0,a=g}finally{try{if(!h&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(f)throw a}}return d}}function Q4(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=Array(e);t<e;t++)s[t]=n[t];return s}function cq(n,e){if(n){if(typeof n=="string")return Q4(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Q4(n,e):void 0}}function dq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J4(n,e){return oq(n)||lq(n,e)||cq(n,e)||dq()}function Z4(n,e="utf8"){return new TextDecoder(e).decode(n)}const uq=new TextEncoder;function hq(n){return uq.encode(n)}const fq=1024*8,mq=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),w1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Rw{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=fq,t={}){let s=!1;typeof e=="number"?e=new ArrayBuffer(e):(s=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let c=a;(ArrayBuffer.isView(e)||e instanceof Rw)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+a),e=e.buffer),s?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const s=(this.offset+e)*2,a=new Uint8Array(s);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const s=w1[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+s);if(this.littleEndian===mq&&t!=="uint8"&&t!=="int8"){const d=new Uint8Array(this.buffer.slice(a,a+s));d.reverse();const h=new w1[t](d.buffer);return this.offset+=s,h.reverse(),h}const c=new w1[t](o);return this.offset+=s,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let s=0;s<e;s++)t+=this.readChar();return t}readUtf8(e=1){return Z4(this.readBytes(e))}decodeText(e=1,t="utf8"){return Z4(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(hq(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function pm(n){let e=n.length;for(;--e>=0;)n[e]=0}const gq=3,pq=258,iC=29,xq=256,yq=xq+1+iC,oC=30,bq=512,vq=new Array((yq+2)*2);pm(vq);const wq=new Array(oC*2);pm(wq);const Nq=new Array(bq);pm(Nq);const jq=new Array(pq-gq+1);pm(jq);const _q=new Array(iC);pm(_q);const Sq=new Array(oC);pm(Sq);const Eq=(n,e,t,s)=>{let a=n&65535|0,o=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do a=a+e[s++]|0,o=o+a|0;while(--c);a%=65521,o%=65521}return a|o<<16|0};var q2=Eq;const Aq=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},Tq=new Uint32Array(Aq()),Cq=(n,e,t,s)=>{const a=Tq,o=s+t;n^=-1;for(let c=s;c<o;c++)n=n>>>8^a[(n^e[c])&255];return n^-1};var Wl=Cq,G2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},lC={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Iq=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var kq=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const s in t)Iq(t,s)&&(n[s]=t[s])}}return n},Rq=n=>{let e=0;for(let s=0,a=n.length;s<a;s++)e+=n[s].length;const t=new Uint8Array(e);for(let s=0,a=0,o=n.length;s<o;s++){let c=n[s];t.set(c,a),a+=c.length}return t},cC={assign:kq,flattenChunks:Rq};let dC=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{dC=!1}const Zg=new Uint8Array(256);for(let n=0;n<256;n++)Zg[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Zg[254]=Zg[254]=1;var Pq=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,s,a,o,c=n.length,d=0;for(a=0;a<c;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(s=n.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),d+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(d),o=0,a=0;o<d;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(s=n.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const Lq=(n,e)=>{if(e<65534&&n.subarray&&dC)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let s=0;s<e;s++)t+=String.fromCharCode(n[s]);return t};var Dq=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let s,a;const o=new Array(t*2);for(a=0,s=0;s<t;){let c=n[s++];if(c<128){o[a++]=c;continue}let d=Zg[c];if(d>4){o[a++]=65533,s+=d-1;continue}for(c&=d===2?31:d===3?15:7;d>1&&s<t;)c=c<<6|n[s++]&63,d--;if(d>1){o[a++]=65533;continue}c<65536?o[a++]=c:(c-=65536,o[a++]=55296|c>>10&1023,o[a++]=56320|c&1023)}return Lq(o,a)},Mq=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Zg[n[t]]>e?t:e},H2={string2buf:Pq,buf2string:Dq,utf8border:Mq};function Oq(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Fq=Oq;const C0=16209,Uq=16191;var Vq=function(e,t){let s,a,o,c,d,h,f,g,p,v,b,A,S,j,E,L,O,D,ee,te,H,M,I,U;const k=e.state;s=e.next_in,I=e.input,a=s+(e.avail_in-5),o=e.next_out,U=e.output,c=o-(t-e.avail_out),d=o+(e.avail_out-257),h=k.dmax,f=k.wsize,g=k.whave,p=k.wnext,v=k.window,b=k.hold,A=k.bits,S=k.lencode,j=k.distcode,E=(1<<k.lenbits)-1,L=(1<<k.distbits)-1;e:do{A<15&&(b+=I[s++]<<A,A+=8,b+=I[s++]<<A,A+=8),O=S[b&E];t:for(;;){if(D=O>>>24,b>>>=D,A-=D,D=O>>>16&255,D===0)U[o++]=O&65535;else if(D&16){ee=O&65535,D&=15,D&&(A<D&&(b+=I[s++]<<A,A+=8),ee+=b&(1<<D)-1,b>>>=D,A-=D),A<15&&(b+=I[s++]<<A,A+=8,b+=I[s++]<<A,A+=8),O=j[b&L];n:for(;;){if(D=O>>>24,b>>>=D,A-=D,D=O>>>16&255,D&16){if(te=O&65535,D&=15,A<D&&(b+=I[s++]<<A,A+=8,A<D&&(b+=I[s++]<<A,A+=8)),te+=b&(1<<D)-1,te>h){e.msg="invalid distance too far back",k.mode=C0;break e}if(b>>>=D,A-=D,D=o-c,te>D){if(D=te-D,D>g&&k.sane){e.msg="invalid distance too far back",k.mode=C0;break e}if(H=0,M=v,p===0){if(H+=f-D,D<ee){ee-=D;do U[o++]=v[H++];while(--D);H=o-te,M=U}}else if(p<D){if(H+=f+p-D,D-=p,D<ee){ee-=D;do U[o++]=v[H++];while(--D);if(H=0,p<ee){D=p,ee-=D;do U[o++]=v[H++];while(--D);H=o-te,M=U}}}else if(H+=p-D,D<ee){ee-=D;do U[o++]=v[H++];while(--D);H=o-te,M=U}for(;ee>2;)U[o++]=M[H++],U[o++]=M[H++],U[o++]=M[H++],ee-=3;ee&&(U[o++]=M[H++],ee>1&&(U[o++]=M[H++]))}else{H=o-te;do U[o++]=U[H++],U[o++]=U[H++],U[o++]=U[H++],ee-=3;while(ee>2);ee&&(U[o++]=U[H++],ee>1&&(U[o++]=U[H++]))}}else if((D&64)===0){O=j[(O&65535)+(b&(1<<D)-1)];continue n}else{e.msg="invalid distance code",k.mode=C0;break e}break}}else if((D&64)===0){O=S[(O&65535)+(b&(1<<D)-1)];continue t}else if(D&32){k.mode=Uq;break e}else{e.msg="invalid literal/length code",k.mode=C0;break e}break}}while(s<a&&o<d);ee=A>>3,s-=ee,A-=ee<<3,b&=(1<<A)-1,e.next_in=s,e.next_out=o,e.avail_in=s<a?5+(a-s):5-(s-a),e.avail_out=o<d?257+(d-o):257-(o-d),k.hold=b,k.bits=A};const xf=15,e6=852,t6=592,n6=0,N1=1,r6=2,zq=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Bq=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),qq=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Gq=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Hq=(n,e,t,s,a,o,c,d)=>{const h=d.bits;let f=0,g=0,p=0,v=0,b=0,A=0,S=0,j=0,E=0,L=0,O,D,ee,te,H,M=null,I;const U=new Uint16Array(xf+1),k=new Uint16Array(xf+1);let P=null,z,le,Ne;for(f=0;f<=xf;f++)U[f]=0;for(g=0;g<s;g++)U[e[t+g]]++;for(b=h,v=xf;v>=1&&U[v]===0;v--);if(b>v&&(b=v),v===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,d.bits=1,0;for(p=1;p<v&&U[p]===0;p++);for(b<p&&(b=p),j=1,f=1;f<=xf;f++)if(j<<=1,j-=U[f],j<0)return-1;if(j>0&&(n===n6||v!==1))return-1;for(k[1]=0,f=1;f<xf;f++)k[f+1]=k[f]+U[f];for(g=0;g<s;g++)e[t+g]!==0&&(c[k[e[t+g]]++]=g);if(n===n6?(M=P=c,I=20):n===N1?(M=zq,P=Bq,I=257):(M=qq,P=Gq,I=0),L=0,g=0,f=p,H=o,A=b,S=0,ee=-1,E=1<<b,te=E-1,n===N1&&E>e6||n===r6&&E>t6)return 1;for(;;){z=f-S,c[g]+1<I?(le=0,Ne=c[g]):c[g]>=I?(le=P[c[g]-I],Ne=M[c[g]-I]):(le=96,Ne=0),O=1<<f-S,D=1<<A,p=D;do D-=O,a[H+(L>>S)+D]=z<<24|le<<16|Ne|0;while(D!==0);for(O=1<<f-1;L&O;)O>>=1;if(O!==0?(L&=O-1,L+=O):L=0,g++,--U[f]===0){if(f===v)break;f=e[t+c[g]]}if(f>b&&(L&te)!==ee){for(S===0&&(S=b),H+=p,A=f-S,j=1<<A;A+S<v&&(j-=U[A+S],!(j<=0));)A++,j<<=1;if(E+=1<<A,n===N1&&E>e6||n===r6&&E>t6)return 1;ee=L&te,a[ee]=b<<24|A<<16|H-o|0}}return L!==0&&(a[H+L]=f-S<<24|64<<16|0),d.bits=b,0};var Ig=Hq;const $q=0,uC=1,hC=2,{Z_FINISH:s6,Z_BLOCK:Wq,Z_TREES:I0,Z_OK:yh,Z_STREAM_END:Kq,Z_NEED_DICT:Yq,Z_STREAM_ERROR:Wo,Z_DATA_ERROR:fC,Z_MEM_ERROR:mC,Z_BUF_ERROR:Xq,Z_DEFLATED:a6}=lC,Py=16180,i6=16181,o6=16182,l6=16183,c6=16184,d6=16185,u6=16186,h6=16187,f6=16188,m6=16189,Hx=16190,Vc=16191,j1=16192,g6=16193,_1=16194,p6=16195,x6=16196,y6=16197,b6=16198,k0=16199,R0=16200,v6=16201,w6=16202,N6=16203,j6=16204,_6=16205,S1=16206,S6=16207,E6=16208,Wr=16209,gC=16210,pC=16211,Qq=852,Jq=592,Zq=15,eG=Zq,A6=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function tG(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Sh=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Py||e.mode>pC?1:0},xC=n=>{if(Sh(n))return Wo;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Py,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Qq),e.distcode=e.distdyn=new Int32Array(Jq),e.sane=1,e.back=-1,yh},yC=n=>{if(Sh(n))return Wo;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,xC(n)},bC=(n,e)=>{let t;if(Sh(n))return Wo;const s=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Wo:(s.window!==null&&s.wbits!==e&&(s.window=null),s.wrap=t,s.wbits=e,yC(n))},vC=(n,e)=>{if(!n)return Wo;const t=new tG;n.state=t,t.strm=n,t.window=null,t.mode=Py;const s=bC(n,e);return s!==yh&&(n.state=null),s},nG=n=>vC(n,eG);let T6=!0,E1,A1;const rG=n=>{if(T6){E1=new Int32Array(512),A1=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Ig(uC,n.lens,0,288,E1,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Ig(hC,n.lens,0,32,A1,0,n.work,{bits:5}),T6=!1}n.lencode=E1,n.lenbits=9,n.distcode=A1,n.distbits=5},wC=(n,e,t,s)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),s>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>s&&(a=s),o.window.set(e.subarray(t-s,t-s+a),o.wnext),s-=a,s?(o.window.set(e.subarray(t-s,t),0),o.wnext=s,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},sG=(n,e)=>{let t,s,a,o,c,d,h,f,g,p,v,b,A,S,j=0,E,L,O,D,ee,te,H,M;const I=new Uint8Array(4);let U,k;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Sh(n)||!n.output||!n.input&&n.avail_in!==0)return Wo;t=n.state,t.mode===Vc&&(t.mode=j1),c=n.next_out,a=n.output,h=n.avail_out,o=n.next_in,s=n.input,d=n.avail_in,f=t.hold,g=t.bits,p=d,v=h,M=yh;e:for(;;)switch(t.mode){case Py:if(t.wrap===0){t.mode=j1;break}for(;g<16;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,I[0]=f&255,I[1]=f>>>8&255,t.check=Wl(t.check,I,2,0),f=0,g=0,t.mode=i6;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=Wr;break}if((f&15)!==a6){n.msg="unknown compression method",t.mode=Wr;break}if(f>>>=4,g-=4,H=(f&15)+8,t.wbits===0&&(t.wbits=H),H>15||H>t.wbits){n.msg="invalid window size",t.mode=Wr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?m6:Vc,f=0,g=0;break;case i6:for(;g<16;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if(t.flags=f,(t.flags&255)!==a6){n.msg="unknown compression method",t.mode=Wr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Wr;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,t.check=Wl(t.check,I,2,0)),f=0,g=0,t.mode=o6;case o6:for(;g<32;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,I[2]=f>>>16&255,I[3]=f>>>24&255,t.check=Wl(t.check,I,4,0)),f=0,g=0,t.mode=l6;case l6:for(;g<16;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,t.check=Wl(t.check,I,2,0)),f=0,g=0,t.mode=c6;case c6:if(t.flags&1024){for(;g<16;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,t.check=Wl(t.check,I,2,0)),f=0,g=0}else t.head&&(t.head.extra=null);t.mode=d6;case d6:if(t.flags&1024&&(b=t.length,b>d&&(b=d),b&&(t.head&&(H=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(s.subarray(o,o+b),H)),t.flags&512&&t.wrap&4&&(t.check=Wl(t.check,s,b,o)),d-=b,o+=b,t.length-=b),t.length))break e;t.length=0,t.mode=u6;case u6:if(t.flags&2048){if(d===0)break e;b=0;do H=s[o+b++],t.head&&H&&t.length<65536&&(t.head.name+=String.fromCharCode(H));while(H&&b<d);if(t.flags&512&&t.wrap&4&&(t.check=Wl(t.check,s,b,o)),d-=b,o+=b,H)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=h6;case h6:if(t.flags&4096){if(d===0)break e;b=0;do H=s[o+b++],t.head&&H&&t.length<65536&&(t.head.comment+=String.fromCharCode(H));while(H&&b<d);if(t.flags&512&&t.wrap&4&&(t.check=Wl(t.check,s,b,o)),d-=b,o+=b,H)break e}else t.head&&(t.head.comment=null);t.mode=f6;case f6:if(t.flags&512){for(;g<16;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Wr;break}f=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Vc;break;case m6:for(;g<32;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}n.adler=t.check=A6(f),f=0,g=0,t.mode=Hx;case Hx:if(t.havedict===0)return n.next_out=c,n.avail_out=h,n.next_in=o,n.avail_in=d,t.hold=f,t.bits=g,Yq;n.adler=t.check=1,t.mode=Vc;case Vc:if(e===Wq||e===I0)break e;case j1:if(t.last){f>>>=g&7,g-=g&7,t.mode=S1;break}for(;g<3;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}switch(t.last=f&1,f>>>=1,g-=1,f&3){case 0:t.mode=g6;break;case 1:if(rG(t),t.mode=k0,e===I0){f>>>=2,g-=2;break e}break;case 2:t.mode=x6;break;case 3:n.msg="invalid block type",t.mode=Wr}f>>>=2,g-=2;break;case g6:for(f>>>=g&7,g-=g&7;g<32;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Wr;break}if(t.length=f&65535,f=0,g=0,t.mode=_1,e===I0)break e;case _1:t.mode=p6;case p6:if(b=t.length,b){if(b>d&&(b=d),b>h&&(b=h),b===0)break e;a.set(s.subarray(o,o+b),c),d-=b,o+=b,h-=b,c+=b,t.length-=b;break}t.mode=Vc;break;case x6:for(;g<14;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if(t.nlen=(f&31)+257,f>>>=5,g-=5,t.ndist=(f&31)+1,f>>>=5,g-=5,t.ncode=(f&15)+4,f>>>=4,g-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Wr;break}t.have=0,t.mode=y6;case y6:for(;t.have<t.ncode;){for(;g<3;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}t.lens[P[t.have++]]=f&7,f>>>=3,g-=3}for(;t.have<19;)t.lens[P[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,U={bits:t.lenbits},M=Ig($q,t.lens,0,19,t.lencode,0,t.work,U),t.lenbits=U.bits,M){n.msg="invalid code lengths set",t.mode=Wr;break}t.have=0,t.mode=b6;case b6:for(;t.have<t.nlen+t.ndist;){for(;j=t.lencode[f&(1<<t.lenbits)-1],E=j>>>24,L=j>>>16&255,O=j&65535,!(E<=g);){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if(O<16)f>>>=E,g-=E,t.lens[t.have++]=O;else{if(O===16){for(k=E+2;g<k;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if(f>>>=E,g-=E,t.have===0){n.msg="invalid bit length repeat",t.mode=Wr;break}H=t.lens[t.have-1],b=3+(f&3),f>>>=2,g-=2}else if(O===17){for(k=E+3;g<k;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}f>>>=E,g-=E,H=0,b=3+(f&7),f>>>=3,g-=3}else{for(k=E+7;g<k;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}f>>>=E,g-=E,H=0,b=11+(f&127),f>>>=7,g-=7}if(t.have+b>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Wr;break}for(;b--;)t.lens[t.have++]=H}}if(t.mode===Wr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Wr;break}if(t.lenbits=9,U={bits:t.lenbits},M=Ig(uC,t.lens,0,t.nlen,t.lencode,0,t.work,U),t.lenbits=U.bits,M){n.msg="invalid literal/lengths set",t.mode=Wr;break}if(t.distbits=6,t.distcode=t.distdyn,U={bits:t.distbits},M=Ig(hC,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,U),t.distbits=U.bits,M){n.msg="invalid distances set",t.mode=Wr;break}if(t.mode=k0,e===I0)break e;case k0:t.mode=R0;case R0:if(d>=6&&h>=258){n.next_out=c,n.avail_out=h,n.next_in=o,n.avail_in=d,t.hold=f,t.bits=g,Vq(n,v),c=n.next_out,a=n.output,h=n.avail_out,o=n.next_in,s=n.input,d=n.avail_in,f=t.hold,g=t.bits,t.mode===Vc&&(t.back=-1);break}for(t.back=0;j=t.lencode[f&(1<<t.lenbits)-1],E=j>>>24,L=j>>>16&255,O=j&65535,!(E<=g);){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if(L&&(L&240)===0){for(D=E,ee=L,te=O;j=t.lencode[te+((f&(1<<D+ee)-1)>>D)],E=j>>>24,L=j>>>16&255,O=j&65535,!(D+E<=g);){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}f>>>=D,g-=D,t.back+=D}if(f>>>=E,g-=E,t.back+=E,t.length=O,L===0){t.mode=_6;break}if(L&32){t.back=-1,t.mode=Vc;break}if(L&64){n.msg="invalid literal/length code",t.mode=Wr;break}t.extra=L&15,t.mode=v6;case v6:if(t.extra){for(k=t.extra;g<k;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=w6;case w6:for(;j=t.distcode[f&(1<<t.distbits)-1],E=j>>>24,L=j>>>16&255,O=j&65535,!(E<=g);){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if((L&240)===0){for(D=E,ee=L,te=O;j=t.distcode[te+((f&(1<<D+ee)-1)>>D)],E=j>>>24,L=j>>>16&255,O=j&65535,!(D+E<=g);){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}f>>>=D,g-=D,t.back+=D}if(f>>>=E,g-=E,t.back+=E,L&64){n.msg="invalid distance code",t.mode=Wr;break}t.offset=O,t.extra=L&15,t.mode=N6;case N6:if(t.extra){for(k=t.extra;g<k;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Wr;break}t.mode=j6;case j6:if(h===0)break e;if(b=v-h,t.offset>b){if(b=t.offset-b,b>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Wr;break}b>t.wnext?(b-=t.wnext,A=t.wsize-b):A=t.wnext-b,b>t.length&&(b=t.length),S=t.window}else S=a,A=c-t.offset,b=t.length;b>h&&(b=h),h-=b,t.length-=b;do a[c++]=S[A++];while(--b);t.length===0&&(t.mode=R0);break;case _6:if(h===0)break e;a[c++]=t.length,h--,t.mode=R0;break;case S1:if(t.wrap){for(;g<32;){if(d===0)break e;d--,f|=s[o++]<<g,g+=8}if(v-=h,n.total_out+=v,t.total+=v,t.wrap&4&&v&&(n.adler=t.check=t.flags?Wl(t.check,a,v,c-v):q2(t.check,a,v,c-v)),v=h,t.wrap&4&&(t.flags?f:A6(f))!==t.check){n.msg="incorrect data check",t.mode=Wr;break}f=0,g=0}t.mode=S6;case S6:if(t.wrap&&t.flags){for(;g<32;){if(d===0)break e;d--,f+=s[o++]<<g,g+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Wr;break}f=0,g=0}t.mode=E6;case E6:M=Kq;break e;case Wr:M=fC;break e;case gC:return mC;case pC:default:return Wo}return n.next_out=c,n.avail_out=h,n.next_in=o,n.avail_in=d,t.hold=f,t.bits=g,(t.wsize||v!==n.avail_out&&t.mode<Wr&&(t.mode<S1||e!==s6))&&wC(n,n.output,n.next_out,v-n.avail_out),p-=n.avail_in,v-=n.avail_out,n.total_in+=p,n.total_out+=v,t.total+=v,t.wrap&4&&v&&(n.adler=t.check=t.flags?Wl(t.check,a,v,n.next_out-v):q2(t.check,a,v,n.next_out-v)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Vc?128:0)+(t.mode===k0||t.mode===_1?256:0),(p===0&&v===0||e===s6)&&M===yh&&(M=Xq),M},aG=n=>{if(Sh(n))return Wo;let e=n.state;return e.window&&(e.window=null),n.state=null,yh},iG=(n,e)=>{if(Sh(n))return Wo;const t=n.state;return(t.wrap&2)===0?Wo:(t.head=e,e.done=!1,yh)},oG=(n,e)=>{const t=e.length;let s,a,o;return Sh(n)||(s=n.state,s.wrap!==0&&s.mode!==Hx)?Wo:s.mode===Hx&&(a=1,a=q2(a,e,t,0),a!==s.check)?fC:(o=wC(n,e,t,t),o?(s.mode=gC,mC):(s.havedict=1,yh))};var lG=yC,cG=bC,dG=xC,uG=nG,hG=vC,fG=sG,mG=aG,gG=iG,pG=oG,xG="pako inflate (from Nodeca project)",Gc={inflateReset:lG,inflateReset2:cG,inflateResetKeep:dG,inflateInit:uG,inflateInit2:hG,inflate:fG,inflateEnd:mG,inflateGetHeader:gG,inflateSetDictionary:pG,inflateInfo:xG};function yG(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var bG=yG;const NC=Object.prototype.toString,{Z_NO_FLUSH:vG,Z_FINISH:wG,Z_OK:ep,Z_STREAM_END:T1,Z_NEED_DICT:C1,Z_STREAM_ERROR:NG,Z_DATA_ERROR:C6,Z_MEM_ERROR:jG}=lC;function Sp(n){this.options=cC.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Fq,this.strm.avail_out=0;let t=Gc.inflateInit2(this.strm,e.windowBits);if(t!==ep)throw new Error(G2[t]);if(this.header=new bG,Gc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=H2.string2buf(e.dictionary):NC.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Gc.inflateSetDictionary(this.strm,e.dictionary),t!==ep)))throw new Error(G2[t])}Sp.prototype.push=function(n,e){const t=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let o,c,d;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?wG:vG,NC.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(s),t.next_out=0,t.avail_out=s),o=Gc.inflate(t,c),o===C1&&a&&(o=Gc.inflateSetDictionary(t,a),o===ep?o=Gc.inflate(t,c):o===C6&&(o=C1));t.avail_in>0&&o===T1&&t.state.wrap>0&&n[t.next_in]!==0;)Gc.inflateReset(t),o=Gc.inflate(t,c);switch(o){case NG:case C6:case C1:case jG:return this.onEnd(o),this.ended=!0,!1}if(d=t.avail_out,t.next_out&&(t.avail_out===0||o===T1))if(this.options.to==="string"){let h=H2.utf8border(t.output,t.next_out),f=t.next_out-h,g=H2.buf2string(t.output,h);t.next_out=f,t.avail_out=s-f,f&&t.output.set(t.output.subarray(h,h+f),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===ep&&d===0)){if(o===T1)return o=Gc.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Sp.prototype.onData=function(n){this.chunks.push(n)};Sp.prototype.onEnd=function(n){n===ep&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=cC.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function _G(n,e){const t=new Sp(e);if(t.push(n),t.err)throw t.msg||G2[t.err];return t.result}var SG=Sp,EG=_G,AG={Inflate:SG,inflate:EG};const{Inflate:TG,inflate:CG}=AG;var I6=TG,IG=CG;const jC=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;jC[n]=e}const k6=4294967295;function kG(n,e,t){let s=n;for(let a=0;a<t;a++)s=jC[(s^e[a])&255]^s>>>8;return s}function RG(n,e){return(kG(k6,n,e)^k6)>>>0}function R6(n,e,t){const s=n.readUint32(),a=RG(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==s)throw new Error(`CRC mismatch for chunk ${t}. Expected ${s}, found ${a}`)}function _C(n,e,t){for(let s=0;s<t;s++)e[s]=n[s]}function SC(n,e,t,s){let a=0;for(;a<s;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-s]&255}function EC(n,e,t,s){let a=0;if(t.length===0)for(;a<s;a++)e[a]=n[a];else for(;a<s;a++)e[a]=n[a]+t[a]&255}function AC(n,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<s;o++)e[o]=n[o]+(e[o-a]+t[o]>>1)&255}}function TC(n,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=n[o]+t[o]&255;for(;o<s;o++)e[o]=n[o]+PG(e[o-a],t[o],t[o-a])&255}}function PG(n,e,t){const s=n+e-t,a=Math.abs(s-n),o=Math.abs(s-e),c=Math.abs(s-t);return a<=o&&a<=c?n:o<=c?e:t}function LG(n,e,t,s,a,o){switch(n){case 0:_C(e,t,a);break;case 1:SC(e,t,a,o);break;case 2:EC(e,t,s,a);break;case 3:AC(e,t,s,a,o);break;case 4:TC(e,t,s,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const DG=new Uint16Array([255]),MG=new Uint8Array(DG.buffer),OG=MG[0]===255;function FG(n){const{data:e,width:t,height:s,channels:a,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(o/8)*a,h=new Uint8Array(s*t*d);let f=0;for(let g=0;g<7;g++){const p=c[g],v=Math.ceil((t-p.x)/p.xStep),b=Math.ceil((s-p.y)/p.yStep);if(v<=0||b<=0)continue;const A=v*d,S=new Uint8Array(A);for(let j=0;j<b;j++){const E=e[f++],L=e.subarray(f,f+A);f+=A;const O=new Uint8Array(A);LG(E,L,O,S,A,d),S.set(O);for(let D=0;D<v;D++){const ee=p.x+D*p.xStep,te=p.y+j*p.yStep;if(!(ee>=t||te>=s))for(let H=0;H<d;H++)h[(te*t+ee)*d+H]=O[D*d+H]}}}if(o===16){const g=new Uint16Array(h.buffer);if(OG)for(let p=0;p<g.length;p++)g[p]=UG(g[p]);return g}else return h}function UG(n){return(n&255)<<8|n>>8&255}const VG=new Uint16Array([255]),zG=new Uint8Array(VG.buffer),BG=zG[0]===255,qG=new Uint8Array(0);function P6(n){const{data:e,width:t,height:s,channels:a,depth:o}=n,c=Math.ceil(o/8)*a,d=Math.ceil(o/8*a*t),h=new Uint8Array(s*d);let f=qG,g=0,p,v;for(let b=0;b<s;b++){switch(p=e.subarray(g+1,g+1+d),v=h.subarray(b*d,(b+1)*d),e[g]){case 0:_C(p,v,d);break;case 1:SC(p,v,d,c);break;case 2:EC(p,v,f,d);break;case 3:AC(p,v,f,d,c);break;case 4:TC(p,v,f,d,c);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}f=v,g+=d+1}if(o===16){const b=new Uint16Array(h.buffer);if(BG)for(let A=0;A<b.length;A++)b[A]=GG(b[A]);return b}else return h}function GG(n){return(n&255)<<8|n>>8&255}const tx=Uint8Array.of(137,80,78,71,13,10,26,10);function L6(n){if(!HG(n.readBytes(tx.length)))throw new Error("wrong PNG signature")}function HG(n){if(n.length<tx.length)return!1;for(let e=0;e<tx.length;e++)if(n[e]!==tx[e])return!1;return!0}const $G="tEXt",WG=0,CC=new TextDecoder("latin1");function KG(n){if(XG(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const YG=/^[\u0000-\u00FF]*$/;function XG(n){if(!YG.test(n))throw new Error("invalid latin1 text")}function QG(n,e,t){const s=IC(e);n[s]=JG(e,t-s.length-1)}function IC(n){for(n.mark();n.readByte()!==WG;);const e=n.offset;n.reset();const t=CC.decode(n.readBytes(e-n.offset-1));return n.skip(1),KG(t),t}function JG(n,e){return CC.decode(n.readBytes(e))}const ho={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},I1={UNKNOWN:-1,DEFLATE:0},D6={UNKNOWN:-1,ADAPTIVE:0},k1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},P0={NONE:0,BACKGROUND:1,PREVIOUS:2},R1={SOURCE:0,OVER:1};class ZG extends Rw{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:s=!1}=t;this._checkCrc=s,this._inflator=new I6,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=I1.UNKNOWN,this._filterMethod=D6.UNKNOWN,this._interlaceMethod=k1.UNKNOWN,this._colorType=ho.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(L6(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(L6(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const s=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case $G:QG(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?R6(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const s=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=s+e;break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?R6(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=eH(this.readUint8());const t=this.readUint8();this._colorType=t;let s;switch(t){case ho.GREYSCALE:s=1;break;case ho.TRUECOLOUR:s=3;break;case ho.INDEXED_COLOUR:s=1;break;case ho.GREYSCALE_ALPHA:s=2;break;case ho.TRUECOLOUR_ALPHA:s=4;break;case ho.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==I1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const s=[];this._palette=s;for(let a=0;a<t;a++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,s=this.offset+this.byteOffset;if(s+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,s,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ho.GREYSCALE:case ho.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case ho.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const s=this.readByte();this._palette[t].push(s)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case ho.UNKNOWN:case ho.GREYSCALE_ALPHA:case ho.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=IC(this),s=this.readUint8();if(s!==I1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:IG(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),s=this.readByte();this._png.resolution={x:e,y:t,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(e);if(s){if(s.data=P6({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)t.data=s.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(s,a,t),this.addFrameDataToCanvas(t,s)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,s){switch(e.disposeOp){case P0.NONE:break;case P0.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const c=(a*e.width+o)*this._png.channels;for(let d=0;d<this._png.channels;d++)s.data[c+d]=0}break;case P0.PREVIOUS:s.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const s=1<<this._png.depth,a=(o,c)=>{const d=((o+t.yOffset)*this._png.width+t.xOffset+c)*this._png.channels,h=(o*t.width+c)*this._png.channels;return{index:d,frameIndex:h}};switch(t.blendOp){case R1.SOURCE:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:d,frameIndex:h}=a(o,c);for(let f=0;f<this._png.channels;f++)e.data[d+f]=t.data[h+f]}break;case R1.OVER:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:d,frameIndex:h}=a(o,c);for(let f=0;f<this._png.channels;f++){const g=t.data[h+this._png.channels-1]/s,p=f%(this._png.channels-1)===0?1:t.data[h+f],v=Math.floor(g*p+(1-g)*e.data[d+f]);e.data[d+f]+=v}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==D6.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===k1.NO_INTERLACE)this._png.data=P6({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===k1.ADAM7)this._png.data=FG({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:P0.NONE,blendOp:R1.SOURCE,data:e}),this._inflator=new I6,this._writingDataChunks=!1}}function eH(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var M6;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(M6||(M6={}));function tH(n,e){return new ZG(n,e).decode()}var rn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function P1(){rn.console&&typeof rn.console.log=="function"&&rn.console.log.apply(rn.console,arguments)}var Cr={log:P1,warn:function(n){rn.console&&(typeof rn.console.warn=="function"?rn.console.warn.apply(rn.console,arguments):P1.call(null,arguments))},error:function(n){rn.console&&(typeof rn.console.error=="function"?rn.console.error.apply(rn.console,arguments):P1(n))}};function L1(n,e,t){var s=new XMLHttpRequest;s.open("GET",n),s.responseType="blob",s.onload=function(){Bu(s.response,e,t)},s.onerror=function(){Cr.error("could not download file")},s.send()}function O6(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function L0(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Bu=rn.saveAs||((typeof window>"u"?"undefined":ur(window))!=="object"||window!==rn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var s=rn.URL||rn.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?O6(a.href)?L1(n,e,t):L0(a,a.target="_blank"):L0(a)):(a.href=s.createObjectURL(n),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){L0(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(O6(n))L1(n,e,t);else{var s=document.createElement("a");s.href=n,s.target="_blank",setTimeout(function(){L0(s)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:ur(o)!=="object"&&(Cr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof n=="string")return L1(n,e,t);var a=n.type==="application/octet-stream",o=/constructor/i.test(rn.HTMLElement)||rn.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&o)&&(typeof FileReader>"u"?"undefined":ur(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var g=d.result;g=c?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=g:location=g,s=null},d.readAsDataURL(n)}else{var h=rn.URL||rn.webkitURL,f=h.createObjectURL(n);s?s.location=f:location.href=f,s=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});function kC(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],s=0;s<t.length;s++){var a=t[s].re,o=t[s].process,c=a.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+d+h+f}}var nx=rn.atob.bind(rn),F6=rn.btoa.bind(rn);function D1(n,e){var t=n[0],s=n[1],a=n[2],o=n[3];t=Qa(t,s,a,o,e[0],7,-680876936),o=Qa(o,t,s,a,e[1],12,-389564586),a=Qa(a,o,t,s,e[2],17,606105819),s=Qa(s,a,o,t,e[3],22,-1044525330),t=Qa(t,s,a,o,e[4],7,-176418897),o=Qa(o,t,s,a,e[5],12,1200080426),a=Qa(a,o,t,s,e[6],17,-1473231341),s=Qa(s,a,o,t,e[7],22,-45705983),t=Qa(t,s,a,o,e[8],7,1770035416),o=Qa(o,t,s,a,e[9],12,-1958414417),a=Qa(a,o,t,s,e[10],17,-42063),s=Qa(s,a,o,t,e[11],22,-1990404162),t=Qa(t,s,a,o,e[12],7,1804603682),o=Qa(o,t,s,a,e[13],12,-40341101),a=Qa(a,o,t,s,e[14],17,-1502002290),t=Ja(t,s=Qa(s,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Ja(o,t,s,a,e[6],9,-1069501632),a=Ja(a,o,t,s,e[11],14,643717713),s=Ja(s,a,o,t,e[0],20,-373897302),t=Ja(t,s,a,o,e[5],5,-701558691),o=Ja(o,t,s,a,e[10],9,38016083),a=Ja(a,o,t,s,e[15],14,-660478335),s=Ja(s,a,o,t,e[4],20,-405537848),t=Ja(t,s,a,o,e[9],5,568446438),o=Ja(o,t,s,a,e[14],9,-1019803690),a=Ja(a,o,t,s,e[3],14,-187363961),s=Ja(s,a,o,t,e[8],20,1163531501),t=Ja(t,s,a,o,e[13],5,-1444681467),o=Ja(o,t,s,a,e[2],9,-51403784),a=Ja(a,o,t,s,e[7],14,1735328473),t=Za(t,s=Ja(s,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Za(o,t,s,a,e[8],11,-2022574463),a=Za(a,o,t,s,e[11],16,1839030562),s=Za(s,a,o,t,e[14],23,-35309556),t=Za(t,s,a,o,e[1],4,-1530992060),o=Za(o,t,s,a,e[4],11,1272893353),a=Za(a,o,t,s,e[7],16,-155497632),s=Za(s,a,o,t,e[10],23,-1094730640),t=Za(t,s,a,o,e[13],4,681279174),o=Za(o,t,s,a,e[0],11,-358537222),a=Za(a,o,t,s,e[3],16,-722521979),s=Za(s,a,o,t,e[6],23,76029189),t=Za(t,s,a,o,e[9],4,-640364487),o=Za(o,t,s,a,e[12],11,-421815835),a=Za(a,o,t,s,e[15],16,530742520),t=ei(t,s=Za(s,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=ei(o,t,s,a,e[7],10,1126891415),a=ei(a,o,t,s,e[14],15,-1416354905),s=ei(s,a,o,t,e[5],21,-57434055),t=ei(t,s,a,o,e[12],6,1700485571),o=ei(o,t,s,a,e[3],10,-1894986606),a=ei(a,o,t,s,e[10],15,-1051523),s=ei(s,a,o,t,e[1],21,-2054922799),t=ei(t,s,a,o,e[8],6,1873313359),o=ei(o,t,s,a,e[15],10,-30611744),a=ei(a,o,t,s,e[6],15,-1560198380),s=ei(s,a,o,t,e[13],21,1309151649),t=ei(t,s,a,o,e[4],6,-145523070),o=ei(o,t,s,a,e[11],10,-1120210379),a=ei(a,o,t,s,e[2],15,718787259),s=ei(s,a,o,t,e[9],21,-343485551),n[0]=Zd(t,n[0]),n[1]=Zd(s,n[1]),n[2]=Zd(a,n[2]),n[3]=Zd(o,n[3])}function Ly(n,e,t,s,a,o){return e=Zd(Zd(e,n),Zd(s,o)),Zd(e<<a|e>>>32-a,t)}function Qa(n,e,t,s,a,o,c){return Ly(e&t|~e&s,n,e,a,o,c)}function Ja(n,e,t,s,a,o,c){return Ly(e&s|t&~s,n,e,a,o,c)}function Za(n,e,t,s,a,o,c){return Ly(e^t^s,n,e,a,o,c)}function ei(n,e,t,s,a,o,c){return Ly(t^(e|~s),n,e,a,o,c)}function RC(n){var e,t=n.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)D1(s,nH(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(D1(s,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,D1(s,a),s}function nH(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var U6="0123456789abcdef".split("");function rH(n){for(var e="",t=0;t<4;t++)e+=U6[n>>8*t+4&15]+U6[n>>8*t&15];return e}function sH(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function $2(n){return RC(n).map(sH).join("")}var aH=(function(n){for(var e=0;e<n.length;e++)n[e]=rH(n[e]);return n.join("")})(RC("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zd(n,e){if(aH){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function W2(n,e){var t,s,a,o;if(n!==t){for(var c=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),d=[],h=0;h<256;h++)d[h]=h;var f=0;for(h=0;h<256;h++){var g=d[h];f=(f+g+c.charCodeAt(h))%256,d[h]=d[f],d[f]=g}t=n,s=d}else d=s;var p=e.length,v=0,b=0,A="";for(h=0;h<p;h++)b=(b+(g=d[v=(v+1)%256]))%256,d[v]=d[b],d[b]=g,c=d[(d[v]+d[b])%256],A+=String.fromCharCode(e.charCodeAt(h)^c);return A}var V6={print:4,modify:8,copy:16,"annot-forms":32};function Sf(n,e,t,s){this.v=1,this.r=2;var a=192;n.forEach(function(d){if(V6.perm!==void 0)throw new Error("Invalid permission: "+d);a+=V6[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^a)),this.encryptionKey=$2(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=W2(this.encryptionKey,this.padding)}function Ef(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,s=0;s<t;s++){var a=n.charCodeAt(s);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[s]}return e}function z6(n){if(ur(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,s,a){if(a=a||!1,typeof t!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[s,!!a],o},this.unsubscribe=function(t){for(var s in e)if(e[s][t])return delete e[s][t],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,s)}catch(d){rn.console&&Cr.error("jsPDF PubSub Error",d.message,d)}c[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function $x(n){if(!(this instanceof $x))return new $x(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function PC(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Wu(n,e,t,s,a){if(!(this instanceof Wu))return new Wu(n,e,t,s,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,PC.call(this,s,a)}function Tf(n,e,t,s,a){if(!(this instanceof Tf))return new Tf(n,e,t,s,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,PC.call(this,s,a)}function Dt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],o=arguments[3],c=[],d=1,h=16,f="S",g=null;ur(n=n||{})==="object"&&(t=n.orientation,s=n.unit||s,a=n.format||a,o=n.compress||n.compressPdf||o,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),d=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(h=n.floatPrecision),f=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),s=s||"mm",t=(""+(t||"P")).toLowerCase();var p=n.putOnlyUsedFonts||!1,v={},b={internal:{},__private__:{}};b.__private__.PubSub=z6;var A="1.3",S=b.__private__.getPdfVersion=function(){return A};b.__private__.setPdfVersion=function(T){A=T};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return j};var E=b.__private__.getPageFormat=function(T){return j[T]};a=a||"a4";var L="compat",O="advanced",D=L;function ee(){this.saveGraphicsState(),X(new Pt(tn,0,0,-tn,0,di()*tn).toString()+" cm"),this.setFontSize(this.getFontSize()/tn),f="n",D=O}function te(){this.restoreGraphicsState(),f="S",D=L}var H=b.__private__.combineFontStyleAndFontWeight=function(T,$){if(T=="bold"&&$=="normal"||T=="bold"&&$==400||T=="normal"&&$=="italic"||T=="bold"&&$=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return $&&(T=$==400||$==="normal"?T==="italic"?"italic":"normal":$!=700&&$!=="bold"||T!=="normal"?($==700?"bold":$)+""+T:"bold"),T};b.advancedAPI=function(T){var $=D===L;return $&&ee.call(this),typeof T!="function"||(T(this),$&&te.call(this)),this},b.compatAPI=function(T){var $=D===O;return $&&te.call(this),typeof T!="function"||(T(this),$&&ee.call(this)),this},b.isAdvancedAPI=function(){return D===O};var M,I=function(T){if(D!==O)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=b.roundToPrecision=b.__private__.roundToPrecision=function(T,$){var ce=e||$;if(isNaN(T)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(ce).replace(/0+$/,"")};M=b.hpf=b.__private__.hpf=typeof h=="number"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return U(T,h)}:h==="smart"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return U(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return U(T,16)};var k=b.f2=b.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return U(T,2)},P=b.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return U(T,3)},z=b.scale=b.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return D===L?T*tn:D===O?T:void 0},le=function(T){return z((function($){return D===L?di()-$:D===O?$:void 0})(T))};b.__private__.setPrecision=b.setPrecision=function(T){typeof parseInt(T,10)=="number"&&(e=parseInt(T,10))};var Ne,ie="00000000000000000000000000000000",ge=b.__private__.getFileId=function(){return ie},ue=b.__private__.setFileId=function(T){return ie=T!==void 0&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(Sr=new Sf(g.userPermissions,g.userPassword,g.ownerPassword,ie)),ie};b.setFileId=function(T){return ue(T),this},b.getFileId=function(){return ge()};var je=b.__private__.convertDateToPDFDate=function(T){var $=T.getTimezoneOffset(),ce=$<0?"+":"-",pe=Math.floor(Math.abs($/60)),we=Math.abs($%60),Ge=[ce,ae(pe),"'",ae(we),"'"].join("");return["D:",T.getFullYear(),ae(T.getMonth()+1),ae(T.getDate()),ae(T.getHours()),ae(T.getMinutes()),ae(T.getSeconds()),Ge].join("")},Be=b.__private__.convertPDFDateToDate=function(T){var $=parseInt(T.substr(2,4),10),ce=parseInt(T.substr(6,2),10)-1,pe=parseInt(T.substr(8,2),10),we=parseInt(T.substr(10,2),10),Ge=parseInt(T.substr(12,2),10),Je=parseInt(T.substr(14,2),10);return new Date($,ce,pe,we,Ge,Je,0)},se=b.__private__.setCreationDate=function(T){var $;if(T===void 0&&(T=new Date),T instanceof Date)$=je(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");$=T}return Ne=$},q=b.__private__.getCreationDate=function(T){var $=Ne;return T==="jsDate"&&($=Be(Ne)),$};b.setCreationDate=function(T){return se(T),this},b.getCreationDate=function(T){return q(T)};var J,ae=b.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},he=b.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},fe=0,be=[],Pe=[],ke=0,qe=[],Ze=[],ot=!1,it=Pe;b.__private__.setCustomOutputDestination=function(T){ot=!0,it=T};var ze=function(T){ot||(it=T)};b.__private__.resetCustomOutputDestination=function(){ot=!1,it=Pe};var X=b.__private__.out=function(T){return T=T.toString(),ke+=T.length+1,it.push(T),it},Ye=b.__private__.write=function(T){return X(arguments.length===1?T.toString():Array.prototype.join.call(arguments," "))},Wt=b.__private__.getArrayBuffer=function(T){for(var $=T.length,ce=new ArrayBuffer($),pe=new Uint8Array(ce);$--;)pe[$]=T.charCodeAt($);return ce},Ct=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Ct};var $e=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(T){return $e=D===O?T/tn:T,this};var dt,ct=b.__private__.getFontSize=b.getFontSize=function(){return D===L?$e:$e*tn},mt=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(T){return mt=T,this},b.__private__.getR2L=b.getR2L=function(){return mt};var It,an=b.__private__.setZoomMode=function(T){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))dt=T;else if(isNaN(T)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(T)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');dt=T}else dt=parseInt(T,10)};b.__private__.getZoomMode=function(){return dt};var hn,Jt=b.__private__.setPageMode=function(T){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');It=T};b.__private__.getPageMode=function(){return It};var xn=b.__private__.setLayoutMode=function(T){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');hn=T};b.__private__.getLayoutMode=function(){return hn},b.__private__.setDisplayMode=b.setDisplayMode=function(T,$,ce){return an(T),xn($),Jt(ce),this};var ln={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(T){if(Object.keys(ln).indexOf(T)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ln[T]},b.__private__.getDocumentProperties=function(){return ln},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(T){for(var $ in ln)ln.hasOwnProperty($)&&T[$]&&(ln[$]=T[$]);return this},b.__private__.setDocumentProperty=function(T,$){if(Object.keys(ln).indexOf(T)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ln[T]=$};var _t,tn,St,kr,cn,Ot={},Kt={},on=[],Rt={},Bn={},qt={},Gt={},Hn=null,kt=0,At=[],yn=new z6(b),Hs=n.hotfixes||[],Rs={},wi={},vs=[],Pt=function T($,ce,pe,we,Ge,Je){if(!(this instanceof T))return new T($,ce,pe,we,Ge,Je);isNaN($)&&($=1),isNaN(ce)&&(ce=0),isNaN(pe)&&(pe=0),isNaN(we)&&(we=1),isNaN(Ge)&&(Ge=0),isNaN(Je)&&(Je=0),this._matrix=[$,ce,pe,we,Ge,Je]};Object.defineProperty(Pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(Pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(Pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(Pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(Pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(Pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(Pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(Pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(Pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(Pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(Pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(Pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(Pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Pt.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(T)},Pt.prototype.multiply=function(T){var $=T.sx*this.sx+T.shy*this.shx,ce=T.sx*this.shy+T.shy*this.sy,pe=T.shx*this.sx+T.sy*this.shx,we=T.shx*this.shy+T.sy*this.sy,Ge=T.tx*this.sx+T.ty*this.shx+this.tx,Je=T.tx*this.shy+T.ty*this.sy+this.ty;return new Pt($,ce,pe,we,Ge,Je)},Pt.prototype.decompose=function(){var T=this.sx,$=this.shy,ce=this.shx,pe=this.sy,we=this.tx,Ge=this.ty,Je=Math.sqrt(T*T+$*$),gt=(T/=Je)*ce+($/=Je)*pe;ce-=T*gt,pe-=$*gt;var vt=Math.sqrt(ce*ce+pe*pe);return gt/=vt,T*(pe/=vt)<$*(ce/=vt)&&(T=-T,$=-$,gt=-gt,Je=-Je),{scale:new Pt(Je,0,0,vt,0,0),translate:new Pt(1,0,0,1,we,Ge),rotate:new Pt(T,$,-$,T,0,0),skew:new Pt(1,0,gt,1,0,0)}},Pt.prototype.toString=function(T){return this.join(" ")},Pt.prototype.inversed=function(){var T=this.sx,$=this.shy,ce=this.shx,pe=this.sy,we=this.tx,Ge=this.ty,Je=1/(T*pe-$*ce),gt=pe*Je,vt=-$*Je,Vt=-ce*Je,Lt=T*Je;return new Pt(gt,vt,Vt,Lt,-gt*we-Vt*Ge,-vt*we-Lt*Ge)},Pt.prototype.applyToPoint=function(T){var $=T.x*this.sx+T.y*this.shx+this.tx,ce=T.x*this.shy+T.y*this.sy+this.ty;return new Ds($,ce)},Pt.prototype.applyToRectangle=function(T){var $=this.applyToPoint(T),ce=this.applyToPoint(new Ds(T.x+T.w,T.y+T.h));return new ji($.x,$.y,ce.x-$.x,ce.y-$.y)},Pt.prototype.clone=function(){var T=this.sx,$=this.shy,ce=this.shx,pe=this.sy,we=this.tx,Ge=this.ty;return new Pt(T,$,ce,pe,we,Ge)},b.Matrix=Pt;var Qi=b.matrixMult=function(T,$){return $.multiply(T)},Sa=new Pt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Sa;var la=function(T,$){if(!Bn[T]){var ce=($ instanceof Wu?"Sh":"P")+(Object.keys(Rt).length+1).toString(10);$.id=ce,Bn[T]=ce,Rt[ce]=$,yn.publish("addPattern",$)}};b.ShadingPattern=Wu,b.TilingPattern=Tf,b.addShadingPattern=function(T,$){return I("addShadingPattern()"),la(T,$),this},b.beginTilingPattern=function(T){I("beginTilingPattern()"),_i(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},b.endTilingPattern=function(T,$){I("endTilingPattern()"),$.stream=Ze[J].join(`
`),la(T,$),yn.publish("endTilingPattern",$),vs.pop().restore()};var ca,nr=b.__private__.newObject=function(){var T=pr();return ls(T,!0),T},pr=b.__private__.newObjectDeferred=function(){return fe++,be[fe]=function(){return ke},fe},ls=function(T,$){return $=typeof $=="boolean"&&$,be[T]=ke,$&&X(T+" 0 obj"),T},$s=b.__private__.newAdditionalObject=function(){var T={objId:pr(),content:""};return qe.push(T),T},Ps=pr(),$n=pr(),ir=b.__private__.decodeColorString=function(T){var $=T.split(" ");if($.length!==2||$[1]!=="g"&&$[1]!=="G")$.length!==5||$[4]!=="k"&&$[4]!=="K"||($=[(1-$[0])*(1-$[3]),(1-$[1])*(1-$[3]),(1-$[2])*(1-$[3]),"r"]);else{var ce=parseFloat($[0]);$=[ce,ce,ce,"r"]}for(var pe="#",we=0;we<3;we++)pe+=("0"+Math.floor(255*parseFloat($[we])).toString(16)).slice(-2);return pe},cs=b.__private__.encodeColorString=function(T){var $;typeof T=="string"&&(T={ch1:T});var ce=T.ch1,pe=T.ch2,we=T.ch3,Ge=T.ch4,Je=T.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var gt=new kC(ce);if(gt.ok)ce=gt.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var vt=parseInt(ce.substr(1),16);ce=vt>>16&255,pe=vt>>8&255,we=255&vt}if(pe===void 0||Ge===void 0&&ce===pe&&pe===we)$=typeof ce=="string"?ce+" "+Je[0]:T.precision===2?k(ce/255)+" "+Je[0]:P(ce/255)+" "+Je[0];else if(Ge===void 0||ur(Ge)==="object"){if(Ge&&!isNaN(Ge.a)&&Ge.a===0)return["1.","1.","1.",Je[1]].join(" ");$=typeof ce=="string"?[ce,pe,we,Je[1]].join(" "):T.precision===2?[k(ce/255),k(pe/255),k(we/255),Je[1]].join(" "):[P(ce/255),P(pe/255),P(we/255),Je[1]].join(" ")}else $=typeof ce=="string"?[ce,pe,we,Ge,Je[2]].join(" "):T.precision===2?[k(ce),k(pe),k(we),k(Ge),Je[2]].join(" "):[P(ce),P(pe),P(we),P(Ge),Je[2]].join(" ");return $},da=b.__private__.getFilters=function(){return c},Ba=b.__private__.putStream=function(T){var $=(T=T||{}).data||"",ce=T.filters||da(),pe=T.alreadyAppliedFilters||[],we=T.addLength1||!1,Ge=$.length,Je=T.objectId,gt=function(R){return R};if(g!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(gt=Sr.encryptor(Je,0));var vt={};ce===!0&&(ce=["FlateEncode"]);var Vt=T.additionalKeyValues||[],Lt=(vt=Dt.API.processDataByFilters!==void 0?Dt.API.processDataByFilters($,ce):{data:$,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(vt.data.length!==0&&(Vt.push({key:"Length",value:vt.data.length}),we===!0&&Vt.push({key:"Length1",value:Ge})),Lt.length!=0)if(Lt.split("/").length-1==1)Vt.push({key:"Filter",value:Lt});else{Vt.push({key:"Filter",value:"["+Lt+"]"});for(var En=0;En<Vt.length;En+=1)if(Vt[En].key==="DecodeParms"){for(var xr=[],rr=0;rr<vt.reverseChain.split("/").length-1;rr+=1)xr.push("null");xr.push(Vt[En].value),Vt[En].value="["+xr.join(" ")+"]"}}X("<<");for(var y=0;y<Vt.length;y++)X("/"+Vt[y].key+" "+Vt[y].value);X(">>"),vt.data.length!==0&&(X("stream"),X(gt(vt.data)),X("endstream"))},vo=b.__private__.putPage=function(T){var $=T.number,ce=T.data,pe=T.objId,we=T.contentsObjId;ls(pe,!0),X("<</Type /Page"),X("/Parent "+T.rootDictionaryObjId+" 0 R"),X("/Resources "+T.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(M(T.mediaBox.bottomLeftX))+" "+parseFloat(M(T.mediaBox.bottomLeftY))+" "+M(T.mediaBox.topRightX)+" "+M(T.mediaBox.topRightY)+"]"),T.cropBox!==null&&X("/CropBox ["+M(T.cropBox.bottomLeftX)+" "+M(T.cropBox.bottomLeftY)+" "+M(T.cropBox.topRightX)+" "+M(T.cropBox.topRightY)+"]"),T.bleedBox!==null&&X("/BleedBox ["+M(T.bleedBox.bottomLeftX)+" "+M(T.bleedBox.bottomLeftY)+" "+M(T.bleedBox.topRightX)+" "+M(T.bleedBox.topRightY)+"]"),T.trimBox!==null&&X("/TrimBox ["+M(T.trimBox.bottomLeftX)+" "+M(T.trimBox.bottomLeftY)+" "+M(T.trimBox.topRightX)+" "+M(T.trimBox.topRightY)+"]"),T.artBox!==null&&X("/ArtBox ["+M(T.artBox.bottomLeftX)+" "+M(T.artBox.bottomLeftY)+" "+M(T.artBox.topRightX)+" "+M(T.artBox.topRightY)+"]"),typeof T.userUnit=="number"&&T.userUnit!==1&&X("/UserUnit "+T.userUnit),yn.publish("putPage",{objId:pe,pageContext:At[$],pageNumber:$,page:ce}),X("/Contents "+we+" 0 R"),X(">>"),X("endobj");var Ge=ce.join(`
`);return D===O&&(Ge+=`
Q`),ls(we,!0),Ba({data:Ge,filters:da(),objectId:we}),X("endobj"),pe},ii=b.__private__.putPages=function(){var T,$,ce=[];for(T=1;T<=kt;T++)At[T].objId=pr(),At[T].contentsObjId=pr();for(T=1;T<=kt;T++)ce.push(vo({number:T,data:Ze[T],objId:At[T].objId,contentsObjId:At[T].contentsObjId,mediaBox:At[T].mediaBox,cropBox:At[T].cropBox,bleedBox:At[T].bleedBox,trimBox:At[T].trimBox,artBox:At[T].artBox,userUnit:At[T].userUnit,rootDictionaryObjId:Ps,resourceDictionaryObjId:$n}));ls(Ps,!0),X("<</Type /Pages");var pe="/Kids [";for($=0;$<kt;$++)pe+=ce[$]+" 0 R ";X(pe+"]"),X("/Count "+kt),X(">>"),X("endobj"),yn.publish("postPutPages")},ua=function(T){yn.publish("putFont",{font:T,out:X,newObject:nr,putStream:Ba}),T.isAlreadyPutted!==!0&&(T.objectNumber=nr(),X("<<"),X("/Type /Font"),X("/BaseFont /"+Ef(T.postScriptName)),X("/Subtype /Type1"),typeof T.encoding=="string"&&X("/Encoding /"+T.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Ji=function(T){T.objectNumber=nr();var $=[];$.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Form"}),$.push({key:"BBox",value:"["+[M(T.x),M(T.y),M(T.x+T.width),M(T.y+T.height)].join(" ")+"]"}),$.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var ce=T.pages[1].join(`
`);Ba({data:ce,additionalKeyValues:$,objectId:T.objectNumber}),X("endobj")},Ea=function(T,$){$||($=21);var ce=nr(),pe=(function(Je,gt){var vt,Vt=[],Lt=1/(gt-1);for(vt=0;vt<1;vt+=Lt)Vt.push(vt);if(Vt.push(1),Je[0].offset!=0){var En={offset:0,color:Je[0].color};Je.unshift(En)}if(Je[Je.length-1].offset!=1){var xr={offset:1,color:Je[Je.length-1].color};Je.push(xr)}for(var rr="",y=0,R=0;R<Vt.length;R++){for(vt=Vt[R];vt>Je[y+1].offset;)y++;var B=Je[y].offset,ne=(vt-B)/(Je[y+1].offset-B),Se=Je[y].color,Le=Je[y+1].color;rr+=he(Math.round((1-ne)*Se[0]+ne*Le[0]).toString(16))+he(Math.round((1-ne)*Se[1]+ne*Le[1]).toString(16))+he(Math.round((1-ne)*Se[2]+ne*Le[2]).toString(16))}return rr.trim()})(T.colors,$),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+$+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ba({data:pe,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),X("endobj"),T.objectNumber=nr(),X("<< /ShadingType "+T.type),X("/ColorSpace /DeviceRGB");var Ge="/Coords ["+M(parseFloat(T.coords[0]))+" "+M(parseFloat(T.coords[1]))+" ";T.type===2?Ge+=M(parseFloat(T.coords[2]))+" "+M(parseFloat(T.coords[3])):Ge+=M(parseFloat(T.coords[2]))+" "+M(parseFloat(T.coords[3]))+" "+M(parseFloat(T.coords[4]))+" "+M(parseFloat(T.coords[5])),X(Ge+="]"),T.matrix&&X("/Matrix ["+T.matrix.toString()+"]"),X("/Function "+ce+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Ws=function(T,$){var ce=pr(),pe=nr();$.push({resourcesOid:ce,objectOid:pe}),T.objectNumber=pe;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+T.boundingBox.map(M).join(" ")+"]"}),we.push({key:"XStep",value:M(T.xStep)}),we.push({key:"YStep",value:M(T.yStep)}),we.push({key:"Resources",value:ce+" 0 R"}),T.matrix&&we.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),Ba({data:T.stream,additionalKeyValues:we,objectId:T.objectNumber}),X("endobj")},Aa=function(T){for(var $ in T.objectNumber=nr(),X("<<"),T)switch($){case"opacity":X("/ca "+k(T[$]));break;case"stroke-opacity":X("/CA "+k(T[$]))}X(">>"),X("endobj")},qa=function(T){ls(T.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var $ in X("/Font <<"),Ot)Ot.hasOwnProperty($)&&(p===!1||p===!0&&v.hasOwnProperty($))&&X("/"+$+" "+Ot[$].objectNumber+" 0 R");X(">>")})(),(function(){if(Object.keys(Rt).length>0){for(var $ in X("/Shading <<"),Rt)Rt.hasOwnProperty($)&&Rt[$]instanceof Wu&&Rt[$].objectNumber>=0&&X("/"+$+" "+Rt[$].objectNumber+" 0 R");yn.publish("putShadingPatternDict"),X(">>")}})(),(function($){if(Object.keys(Rt).length>0){for(var ce in X("/Pattern <<"),Rt)Rt.hasOwnProperty(ce)&&Rt[ce]instanceof b.TilingPattern&&Rt[ce].objectNumber>=0&&Rt[ce].objectNumber<$&&X("/"+ce+" "+Rt[ce].objectNumber+" 0 R");yn.publish("putTilingPatternDict"),X(">>")}})(T.objectOid),(function(){if(Object.keys(qt).length>0){var $;for($ in X("/ExtGState <<"),qt)qt.hasOwnProperty($)&&qt[$].objectNumber>=0&&X("/"+$+" "+qt[$].objectNumber+" 0 R");yn.publish("putGStateDict"),X(">>")}})(),(function(){for(var $ in X("/XObject <<"),Rs)Rs.hasOwnProperty($)&&Rs[$].objectNumber>=0&&X("/"+$+" "+Rs[$].objectNumber+" 0 R");yn.publish("putXobjectDict"),X(">>")})(),X(">>"),X("endobj")},Pr=function(T){Kt[T.fontName]=Kt[T.fontName]||{},Kt[T.fontName][T.fontStyle]=T.id},Sl=function(T,$,ce,pe,we){var Ge={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:T,fontName:$,fontStyle:ce,encoding:pe,isStandardFont:we||!1,metadata:{}};return yn.publish("addFont",{font:Ge,instance:this}),Ot[Ge.id]=Ge,Pr(Ge),Ge.id},ha=b.__private__.pdfEscape=b.pdfEscape=function(T,$){return(function(ce,pe){var we,Ge,Je,gt,vt,Vt,Lt,En,xr;if(Je=(pe=pe||{}).sourceEncoding||"Unicode",vt=pe.outputEncoding,(pe.autoencode||vt)&&Ot[_t].metadata&&Ot[_t].metadata[Je]&&Ot[_t].metadata[Je].encoding&&(gt=Ot[_t].metadata[Je].encoding,!vt&&Ot[_t].encoding&&(vt=Ot[_t].encoding),!vt&&gt.codePages&&(vt=gt.codePages[0]),typeof vt=="string"&&(vt=gt[vt]),vt)){for(Lt=!1,Vt=[],we=0,Ge=ce.length;we<Ge;we++)(En=vt[ce.charCodeAt(we)])?Vt.push(String.fromCharCode(En)):Vt.push(ce[we]),Vt[we].charCodeAt(0)>>8&&(Lt=!0);ce=Vt.join("")}for(we=ce.length;Lt===void 0&&we!==0;)ce.charCodeAt(we-1)>>8&&(Lt=!0),we--;if(!Lt)return ce;for(Vt=pe.noBOM?[]:[254,255],we=0,Ge=ce.length;we<Ge;we++){if((xr=(En=ce.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vt.push(xr),Vt.push(En-(xr<<8))}return String.fromCharCode.apply(void 0,Vt)})(T,$).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ga=b.__private__.beginPage=function(T){Ze[++kt]=[],At[kt]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},El(kt),ze(Ze[J])},oi=function(T,$){var ce,pe,we;switch(t=$||t,typeof T=="string"&&(ce=E(T.toLowerCase()),Array.isArray(ce)&&(pe=ce[0],we=ce[1])),Array.isArray(T)&&(pe=T[0]*tn,we=T[1]*tn),isNaN(pe)&&(pe=a[0],we=a[1]),(pe>14400||we>14400)&&(Cr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),we=Math.min(14400,we)),a=[pe,we],t.substr(0,1)){case"l":we>pe&&(a=[we,pe]);break;case"p":pe>we&&(a=[we,pe])}Ga(a),Ft(ma),X(Ca),ka!==0&&X(ka+" J"),Qr!==0&&X(Qr+" j"),yn.publish("addPage",{pageNumber:kt})},Ko=function(T){T>0&&T<=kt&&(Ze.splice(T,1),At.splice(T,1),kt--,J>kt&&(J=kt),this.setPage(J))},El=function(T){T>0&&T<=kt&&(J=T)},Al=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Ze.length-1},fc=function(T,$,ce){var pe,we=void 0;return ce=ce||{},T=T!==void 0?T:Ot[_t].fontName,$=$!==void 0?$:Ot[_t].fontStyle,pe=T.toLowerCase(),Kt[pe]!==void 0&&Kt[pe][$]!==void 0?we=Kt[pe][$]:Kt[T]!==void 0&&Kt[T][$]!==void 0?we=Kt[T][$]:ce.disableWarning===!1&&Cr.warn("Unable to look up font label for font '"+T+"', '"+$+"'. Refer to getFontList() for available fonts."),we||ce.noFallback||(we=Kt.times[$])==null&&(we=Kt.times.normal),we},Ta=b.__private__.putInfo=function(){var T=nr(),$=function(pe){return pe};for(var ce in g!==null&&($=Sr.encryptor(T,0)),X("<<"),X("/Producer ("+ha($("jsPDF "+Dt.version))+")"),ln)ln.hasOwnProperty(ce)&&ln[ce]&&X("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+ha($(ln[ce]))+")");X("/CreationDate ("+ha($(Ne))+")"),X(">>"),X("endobj")},Ls=b.__private__.putCatalog=function(T){var $=(T=T||{}).rootDictionaryObjId||Ps;switch(nr(),X("<<"),X("/Type /Catalog"),X("/Pages "+$+" 0 R"),dt||(dt="fullwidth"),dt){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+dt;ce.substr(ce.length-1)==="%"&&(dt=parseInt(dt)/100),typeof dt=="number"&&X("/OpenAction [3 0 R /XYZ null null "+k(dt)+"]")}switch(hn||(hn="continuous"),hn){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}It&&X("/PageMode /"+It),yn.publish("putCatalog"),X(">>"),X("endobj")},zr=b.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(fe+1)),X("/Root "+fe+" 0 R"),X("/Info "+(fe-1)+" 0 R"),g!==null&&X("/Encrypt "+Sr.oid+" 0 R"),X("/ID [ <"+ie+"> <"+ie+"> ]"),X(">>")},jn=b.__private__.putHeader=function(){X("%PDF-"+A),X("%")},Zi=b.__private__.putXRef=function(){var T="0000000000";X("xref"),X("0 "+(fe+1)),X("0000000000 65535 f ");for(var $=1;$<=fe;$++)typeof be[$]=="function"?X((T+be[$]()).slice(-10)+" 00000 n "):be[$]!==void 0?X((T+be[$]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},Ha=b.__private__.buildDocument=function(){var T;fe=0,ke=0,Pe=[],be=[],qe=[],Ps=pr(),$n=pr(),ze(Pe),yn.publish("buildDocument"),jn(),ii(),(function(){yn.publish("putAdditionalObjects");for(var ce=0;ce<qe.length;ce++){var pe=qe[ce];ls(pe.objId,!0),X(pe.content),X("endobj")}yn.publish("postPutAdditionalObjects")})(),T=[],(function(){for(var ce in Ot)Ot.hasOwnProperty(ce)&&(p===!1||p===!0&&v.hasOwnProperty(ce))&&ua(Ot[ce])})(),(function(){var ce;for(ce in qt)qt.hasOwnProperty(ce)&&Aa(qt[ce])})(),(function(){for(var ce in Rs)Rs.hasOwnProperty(ce)&&Ji(Rs[ce])})(),(function(ce){var pe;for(pe in Rt)Rt.hasOwnProperty(pe)&&(Rt[pe]instanceof Wu?Ea(Rt[pe]):Rt[pe]instanceof Tf&&Ws(Rt[pe],ce))})(T),yn.publish("putResources"),T.forEach(qa),qa({resourcesOid:$n,objectOid:Number.MAX_SAFE_INTEGER}),yn.publish("postPutResources"),g!==null&&(Sr.oid=nr(),X("<<"),X("/Filter /Standard"),X("/V "+Sr.v),X("/R "+Sr.r),X("/U <"+Sr.toHexString(Sr.U)+">"),X("/O <"+Sr.toHexString(Sr.O)+">"),X("/P "+Sr.P),X(">>"),X("endobj")),Ta(),Ls();var $=ke;return Zi(),zr(),X("startxref"),X(""+$),X("%%EOF"),ze(Ze[J]),Pe.join(`
`)},kn=b.__private__.getBlob=function(T){return new Blob([Wt(T)],{type:"application/pdf"})},wo=b.output=b.__private__.output=(ca=function(T,$){switch(typeof($=$||{})=="string"?$={filename:$}:$.filename=$.filename||"generated.pdf",T){case void 0:return Ha();case"save":b.save($.filename);break;case"arraybuffer":return Wt(Ha());case"blob":return kn(Ha());case"bloburi":case"bloburl":if(rn.URL!==void 0&&typeof rn.URL.createObjectURL=="function")return rn.URL&&rn.URL.createObjectURL(kn(Ha()))||void 0;Cr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",pe=Ha();try{ce=F6(pe)}catch{ce=F6(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+$.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rn)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';$.pdfObjectUrl&&(we=$.pdfObjectUrl,Ge="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify($)+");<\/script></body></html>",gt=rn.open();return gt!==null&&gt.document.write(Je),gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rn)==="[object Window]"){var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+($.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+$.filename+'" width="500px" height="400px" /></body></html>',Vt=rn.open();if(Vt!==null){Vt.document.write(vt);var Lt=this;Vt.document.documentElement.querySelector("#pdfViewer").onload=function(){Vt.document.title=$.filename,Vt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Lt.output("bloburl"))}}return Vt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var En='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",$)+'"></iframe></body></html>',xr=rn.open();if(xr!==null&&(xr.document.write(En),xr.document.title=$.filename),xr||typeof safari>"u")return xr;break;case"datauri":case"dataurl":return rn.document.location.href=this.output("datauristring",$);default:return null}},ca.foo=function(){try{return ca.apply(this,arguments)}catch(ce){var T=ce.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var $="Error in function "+T.split(`
`)[0].split("<")[0]+": "+ce.message;if(!rn.console)throw new Error($);rn.console.error($,ce),rn.alert&&alert($)}},ca.foo.bar=ca,ca.foo),Xr=function(T){return Array.isArray(Hs)===!0&&Hs.indexOf(T)>-1};switch(s){case"pt":tn=1;break;case"mm":tn=72/25.4;break;case"cm":tn=72/2.54;break;case"in":tn=72;break;case"px":tn=Xr("px_scaling")==1?.75:96/72;break;case"pc":case"em":tn=12;break;case"ex":tn=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);tn=s}var Sr=null;se(),ue();var Br=b.__private__.getPageInfo=b.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[T].objId,pageNumber:T,pageContext:At[T]}},Yo=b.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var $ in At)if(At[$].objId===T)break;return Br($)},dd=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:At[J].objId,pageNumber:J,pageContext:At[J]}};b.addPage=function(){return oi.apply(this,arguments),this},b.setPage=function(){return El.apply(this,arguments),ze.call(this,Ze[J]),this},b.insertPage=function(T){return this.addPage(),this.movePage(J,T),this},b.movePage=function(T,$){var ce,pe;if(T>$){ce=Ze[T],pe=At[T];for(var we=T;we>$;we--)Ze[we]=Ze[we-1],At[we]=At[we-1];Ze[$]=ce,At[$]=pe,this.setPage($)}else if(T<$){ce=Ze[T],pe=At[T];for(var Ge=T;Ge<$;Ge++)Ze[Ge]=Ze[Ge+1],At[Ge]=At[Ge+1];Ze[$]=ce,At[$]=pe,this.setPage($)}return this},b.deletePage=function(){return Ko.apply(this,arguments),this},b.__private__.text=b.text=function(T,$,ce,pe,we){var Ge,Je,gt,vt,Vt,Lt,En,xr,rr,y=(pe=pe||{}).scope||this;if(typeof T=="number"&&typeof $=="number"&&(typeof ce=="string"||Array.isArray(ce))){var R=ce;ce=$,$=T,T=R}if(arguments[3]instanceof Pt==0?(gt=arguments[4],vt=arguments[5],ur(En=arguments[3])==="object"&&En!==null||(typeof gt=="string"&&(vt=gt,gt=null),typeof En=="string"&&(vt=En,En=null),typeof En=="number"&&(gt=En,En=null),pe={flags:En,angle:gt,align:vt})):(I("The transform parameter of text() with a Matrix value"),rr=we),isNaN($)||isNaN(ce)||T==null)throw new Error("Invalid arguments passed to jsPDF.text");if(T.length===0)return y;var B,ne="",Se=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:no,Le=y.internal.scaleFactor;function nt(qn){return qn=qn.split("	").join(Array(pe.TabLen||9).join(" ")),ha(qn,En)}function en(qn){for(var Mn,br=qn.concat(),Zr=[],Po=br.length;Po--;)typeof(Mn=br.shift())=="string"?Zr.push(Mn):Array.isArray(qn)&&(Mn.length===1||Mn[1]===void 0&&Mn[2]===void 0)?Zr.push(Mn[0]):Zr.push([Mn[0],Mn[1],Mn[2]]);return Zr}function yr(qn,Mn){var br;if(typeof qn=="string")br=Mn(qn)[0];else if(Array.isArray(qn)){for(var Zr,Po,io=qn.concat(),wc=[],ju=io.length;ju--;)typeof(Zr=io.shift())=="string"?wc.push(Mn(Zr)[0]):Array.isArray(Zr)&&typeof Zr[0]=="string"&&(Po=Mn(Zr[0],Zr[1],Zr[2]),wc.push([Po[0],Po[1],Po[2]]));br=wc}return br}var vn=!1,Kn=!0;if(typeof T=="string")vn=!0;else if(Array.isArray(T)){var Ms=T.concat();Je=[];for(var Ys,or=Ms.length;or--;)(typeof(Ys=Ms.shift())!="string"||Array.isArray(Ys)&&typeof Ys[0]!="string")&&(Kn=!1);vn=Kn}if(vn===!1)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');typeof T=="string"&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var Xs=$e/y.internal.scaleFactor,ui=Xs*(Se-1);switch(pe.baseline){case"bottom":ce-=ui;break;case"top":ce+=Xs-ui;break;case"hanging":ce+=Xs-2*ui;break;case"middle":ce+=Xs/2-ui}if((Lt=pe.maxWidth||0)>0&&(typeof T=="string"?T=y.splitTextToSize(T,Lt):Object.prototype.toString.call(T)==="[object Array]"&&(T=T.reduce(function(qn,Mn){return qn.concat(y.splitTextToSize(Mn,Lt))},[]))),Ge={text:T,x:$,y:ce,options:pe,mutex:{pdfEscape:ha,activeFontKey:_t,fonts:Ot,activeFontSize:$e}},yn.publish("preProcessText",Ge),T=Ge.text,gt=(pe=Ge.options).angle,rr instanceof Pt==0&&gt&&typeof gt=="number"){gt*=Math.PI/180,pe.rotationDirection===0&&(gt=-gt),D===O&&(gt=-gt);var Eo=Math.cos(gt),Ao=Math.sin(gt);rr=new Pt(Eo,Ao,-Ao,Eo,0,0)}else gt&&gt instanceof Pt&&(rr=gt);D!==O||rr||(rr=Sa),(Vt=pe.charSpace||Ia)!==void 0&&(ne+=M(z(Vt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xr=pe.horizontalScale)!==void 0&&(ne+=M(100*xr)+` Tz
`),pe.lang;var Pa=-1,el=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,ud=y.internal.getCurrentPageInfo().pageContext;switch(el){case 0:case!1:case"fill":Pa=0;break;case 1:case!0:case"stroke":Pa=1;break;case 2:case"fillThenStroke":Pa=2;break;case 3:case"invisible":Pa=3;break;case 4:case"fillAndAddForClipping":Pa=4;break;case 5:case"strokeAndAddPathForClipping":Pa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Pa=6;break;case 7:case"addToPathForClipping":Pa=7}var wu=ud.usedRenderingMode!==void 0?ud.usedRenderingMode:-1;Pa!==-1?ne+=Pa+` Tr
`:wu!==-1&&(ne+=`0 Tr
`),Pa!==-1&&(ud.usedRenderingMode=Pa),vt=pe.align||"left";var hi,so=$e*Se,tl=y.internal.pageSize.getWidth(),Nu=Ot[_t];Vt=pe.charSpace||Ia,Lt=pe.maxWidth||0,En=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var ao=[],Pl=function(qn){return y.getStringUnitWidth(qn,{font:Nu,charSpace:Vt,fontSize:$e,doKerning:!1})*$e/Le};if(Object.prototype.toString.call(T)==="[object Array]"){var Wa;Je=en(T),vt!=="left"&&(hi=Je.map(Pl));var La,To=0;if(vt==="right"){$-=hi[0],T=[],or=Je.length;for(var Co=0;Co<or;Co++)Co===0?(La=Ns($),Wa=ds(ce)):(La=z(To-hi[Co]),Wa=-so),T.push([Je[Co],La,Wa]),To=hi[Co]}else if(vt==="center"){$-=hi[0]/2,T=[],or=Je.length;for(var nl=0;nl<or;nl++)nl===0?(La=Ns($),Wa=ds(ce)):(La=z((To-hi[nl])/2),Wa=-so),T.push([Je[nl],La,Wa]),To=hi[nl]}else if(vt==="left"){T=[],or=Je.length;for(var hd=0;hd<or;hd++)T.push(Je[hd])}else if(vt==="justify"&&Nu.encoding==="Identity-H"){T=[],or=Je.length,Lt=Lt!==0?Lt:tl;for(var fd=0,Jr=0;Jr<or;Jr++)if(Wa=Jr===0?ds(ce):-so,La=Jr===0?Ns($):fd,Jr<or-1){var Ah=z((Lt-hi[Jr])/(Je[Jr].split(" ").length-1)),Io=Je[Jr].split(" ");T.push([Io[0]+" ",La,Wa]),fd=0;for(var ko=1;ko<Io.length;ko++){var Qs=(Pl(Io[ko-1]+" "+Io[ko])-Pl(Io[ko]))*Le+Ah;ko==Io.length-1?T.push([Io[ko],Qs,0]):T.push([Io[ko]+" ",Qs,0]),fd-=Qs}}else T.push([Je[Jr],La,Wa]);T.push(["",fd,0])}else{if(vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],or=Je.length,Lt=Lt!==0?Lt:tl,Jr=0;Jr<or;Jr++){Wa=Jr===0?ds(ce):-so,La=Jr===0?Ns($):0;var rl=Je[Jr].split(" ").length-1,md=rl>0?(Lt-hi[Jr])/rl:0;Jr<or-1?ao.push(M(z(md))):ao.push(0),T.push([Je[Jr],La,Wa])}}}(typeof pe.R2L=="boolean"?pe.R2L:mt)===!0&&(T=yr(T,function(qn,Mn,br){return[qn.split("").reverse().join(""),Mn,br]})),Ge={text:T,x:$,y:ce,options:pe,mutex:{pdfEscape:ha,activeFontKey:_t,fonts:Ot,activeFontSize:$e}},yn.publish("postProcessText",Ge),T=Ge.text,B=Ge.mutex.isHex||!1;var gd=Ot[_t].encoding;gd!=="WinAnsiEncoding"&&gd!=="StandardEncoding"||(T=yr(T,function(qn,Mn,br){return[nt(qn),Mn,br]})),Je=en(T),T=[];for(var sl,al,Ro,vc=Array.isArray(Je[0])?1:0,fi="",il=function(qn,Mn,br){var Zr="";return br instanceof Pt?(br=typeof pe.angle=="number"?Qi(br,new Pt(1,0,0,1,qn,Mn)):Qi(new Pt(1,0,0,1,qn,Mn),br),D===O&&(br=Qi(new Pt(1,0,0,-1,0,0),br)),Zr=br.join(" ")+` Tm
`):Zr=M(qn)+" "+M(Mn)+` Td
`,Zr},ga=0;ga<Je.length;ga++){switch(fi="",vc){case 1:Ro=(B?"<":"(")+Je[ga][0]+(B?">":")"),sl=parseFloat(Je[ga][1]),al=parseFloat(Je[ga][2]);break;case 0:Ro=(B?"<":"(")+Je[ga]+(B?">":")"),sl=Ns($),al=ds(ce)}ao!==void 0&&ao[ga]!==void 0&&(fi=ao[ga]+` Tw
`),ga===0?T.push(fi+il(sl,al,rr)+Ro):vc===0?T.push(fi+Ro):vc===1&&T.push(fi+il(sl,al,rr)+Ro)}T=vc===0?T.join(` Tj
T* `):T.join(` Tj
`),T+=` Tj
`;var Ai=`BT
/`;return Ai+=_t+" "+$e+` Tf
`,Ai+=M($e*Se)+` TL
`,Ai+=ci+`
`,Ai+=ne,Ai+=T,X(Ai+="ET"),v[_t]=!0,y};var mc=b.__private__.clip=b.clip=function(T){return X(T==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return mc("evenodd")},b.__private__.discardPath=b.discardPath=function(){return X("n"),this};var Ks=b.__private__.isValidStyle=function(T){var $=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)!==-1&&($=!0),$};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(T){return Ks(T)&&(f=T),this};var gc=b.__private__.getStyle=b.getStyle=function(T){var $=f;switch(T){case"D":case"S":$="S";break;case"F":$="f";break;case"FD":case"DF":$="B";break;case"f":case"f*":case"B":case"B*":$=T}return $},eo=b.close=function(){return X("h"),this};b.stroke=function(){return X("S"),this},b.fill=function(T){return ws("f",T),this},b.fillEvenOdd=function(T){return ws("f*",T),this},b.fillStroke=function(T){return ws("B",T),this},b.fillStrokeEvenOdd=function(T){return ws("B*",T),this};var ws=function(T,$){ur($)==="object"?xc($,T):X(T)},No=function(T){T===null||D===O&&T===void 0||(T=gc(T),X(T))};function pc(T,$,ce,pe,we){var Ge=new Tf($||this.boundingBox,ce||this.xStep,pe||this.yStep,this.gState,we||this.matrix);Ge.stream=this.stream;var Je=T+"$$"+this.cloneIndex+++"$$";return la(Je,Ge),Ge}var xc=function(T,$){var ce=Bn[T.key],pe=Rt[ce];if(pe instanceof Wu)X("q"),X(Tl($)),pe.gState&&b.setGState(pe.gState),X(T.matrix.toString()+" cm"),X("/"+ce+" sh"),X("Q");else if(pe instanceof Tf){var we=new Pt(1,0,0,-1,0,di());T.matrix&&(we=we.multiply(T.matrix||Sa),ce=pc.call(pe,T.key,T.boundingBox,T.xStep,T.yStep,we).id),X("q"),X("/Pattern cs"),X("/"+ce+" scn"),pe.gState&&b.setGState(pe.gState),X($),X("Q")}},Tl=function(T){switch(T){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Cl=b.moveTo=function(T,$){return X(M(z(T))+" "+M(le($))+" m"),this},to=b.lineTo=function(T,$){return X(M(z(T))+" "+M(le($))+" l"),this},fa=b.curveTo=function(T,$,ce,pe,we,Ge){return X([M(z(T)),M(le($)),M(z(ce)),M(le(pe)),M(z(we)),M(le(Ge)),"c"].join(" ")),this};b.__private__.line=b.line=function(T,$,ce,pe,we){if(isNaN(T)||isNaN($)||isNaN(ce)||isNaN(pe)||!Ks(we))throw new Error("Invalid arguments passed to jsPDF.line");return D===L?this.lines([[ce-T,pe-$]],T,$,[1,1],we||"S"):this.lines([[ce-T,pe-$]],T,$,[1,1]).stroke()},b.__private__.lines=b.lines=function(T,$,ce,pe,we,Ge){var Je,gt,vt,Vt,Lt,En,xr,rr,y,R,B,ne;if(typeof T=="number"&&(ne=ce,ce=$,$=T,T=ne),pe=pe||[1,1],Ge=Ge||!1,isNaN($)||isNaN(ce)||!Array.isArray(T)||!Array.isArray(pe)||!Ks(we)||typeof Ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cl($,ce),Je=pe[0],gt=pe[1],Vt=T.length,R=$,B=ce,vt=0;vt<Vt;vt++)(Lt=T[vt]).length===2?(R=Lt[0]*Je+R,B=Lt[1]*gt+B,to(R,B)):(En=Lt[0]*Je+R,xr=Lt[1]*gt+B,rr=Lt[2]*Je+R,y=Lt[3]*gt+B,R=Lt[4]*Je+R,B=Lt[5]*gt+B,fa(En,xr,rr,y,R,B));return Ge&&eo(),No(we),this},b.path=function(T){for(var $=0;$<T.length;$++){var ce=T[$],pe=ce.c;switch(ce.op){case"m":Cl(pe[0],pe[1]);break;case"l":to(pe[0],pe[1]);break;case"c":fa.apply(this,pe);break;case"h":eo()}}return this},b.__private__.rect=b.rect=function(T,$,ce,pe,we){if(isNaN(T)||isNaN($)||isNaN(ce)||isNaN(pe)||!Ks(we))throw new Error("Invalid arguments passed to jsPDF.rect");return D===L&&(pe=-pe),X([M(z(T)),M(le($)),M(z(ce)),M(z(pe)),"re"].join(" ")),No(we),this},b.__private__.triangle=b.triangle=function(T,$,ce,pe,we,Ge,Je){if(isNaN(T)||isNaN($)||isNaN(ce)||isNaN(pe)||isNaN(we)||isNaN(Ge)||!Ks(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-T,pe-$],[we-ce,Ge-pe],[T-we,$-Ge]],T,$,[1,1],Je,!0),this},b.__private__.roundedRect=b.roundedRect=function(T,$,ce,pe,we,Ge,Je){if(isNaN(T)||isNaN($)||isNaN(ce)||isNaN(pe)||isNaN(we)||isNaN(Ge)||!Ks(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var gt=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*ce),Ge=Math.min(Ge,.5*pe),this.lines([[ce-2*we,0],[we*gt,0,we,Ge-Ge*gt,we,Ge],[0,pe-2*Ge],[0,Ge*gt,-we*gt,Ge,-we,Ge],[2*we-ce,0],[-we*gt,0,-we,-Ge*gt,-we,-Ge],[0,2*Ge-pe],[0,-Ge*gt,we*gt,-Ge,we,-Ge]],T+we,$,[1,1],Je,!0),this},b.__private__.ellipse=b.ellipse=function(T,$,ce,pe,we){if(isNaN(T)||isNaN($)||isNaN(ce)||isNaN(pe)||!Ks(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*ce,Je=4/3*(Math.SQRT2-1)*pe;return Cl(T+ce,$),fa(T+ce,$-Je,T+Ge,$-pe,T,$-pe),fa(T-Ge,$-pe,T-ce,$-Je,T-ce,$),fa(T-ce,$+Je,T-Ge,$+pe,T,$+pe),fa(T+Ge,$+pe,T+ce,$+Je,T+ce,$),No(we),this},b.__private__.circle=b.circle=function(T,$,ce,pe){if(isNaN(T)||isNaN($)||isNaN(ce)||!Ks(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,$,ce,ce,pe)},b.setFont=function(T,$,ce){return ce&&($=H($,ce)),_t=fc(T,$,{disableWarning:!1}),this};var li=b.__private__.getFont=b.getFont=function(){return Ot[fc.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var T,$,ce={};for(T in Kt)if(Kt.hasOwnProperty(T))for($ in ce[T]=[],Kt[T])Kt[T].hasOwnProperty($)&&ce[T].push($);return ce},b.addFont=function(T,$,ce,pe,we){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ge.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Ge.indexOf(arguments[3])==-1&&(ce=H(ce,pe)),Sl.call(this,T,$,ce,we=we||"Identity-H")};var no,ma=n.lineWidth||.200025,jo=b.__private__.getLineWidth=b.getLineWidth=function(){return ma},Ft=b.__private__.setLineWidth=b.setLineWidth=function(T){return ma=T,X(M(z(T))+" w"),this};b.__private__.setLineDash=Dt.API.setLineDash=Dt.API.setLineDashPattern=function(T,$){if(T=T||[],$=$||0,isNaN($)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(ce){return M(z(ce))}).join(" "),$=M(z($)),X("["+T+"] "+$+" d"),this};var Xo=b.__private__.getLineHeight=b.getLineHeight=function(){return $e*no};b.__private__.getLineHeight=b.getLineHeight=function(){return $e*no};var Il=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(T){return typeof(T=T||1.15)=="number"&&(no=T),this},_o=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return no};Il(n.lineHeight);var Ns=b.__private__.getHorizontalCoordinate=function(T){return z(T)},ds=b.__private__.getVerticalCoordinate=function(T){return D===O?T:At[J].mediaBox.topRightY-At[J].mediaBox.bottomLeftY-z(T)},Qo=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(T){return M(Ns(T))},Wn=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(T){return M(ds(T))},Ca=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return ir(Ca)},b.__private__.setStrokeColor=b.setDrawColor=function(T,$,ce,pe){return Ca=cs({ch1:T,ch2:$,ch3:ce,ch4:pe,pdfColorType:"draw",precision:2}),X(Ca),this};var Jo=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return ir(Jo)},b.__private__.setFillColor=b.setFillColor=function(T,$,ce,pe){return Jo=cs({ch1:T,ch2:$,ch3:ce,ch4:pe,pdfColorType:"fill",precision:2}),X(Jo),this};var ci=n.textColor||"0 g",yc=b.__private__.getTextColor=b.getTextColor=function(){return ir(ci)};b.__private__.setTextColor=b.setTextColor=function(T,$,ce,pe){return ci=cs({ch1:T,ch2:$,ch3:ce,ch4:pe,pdfColorType:"text",precision:3}),this};var Ia=n.charSpace,ro=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Ia||0)};b.__private__.setCharSpace=b.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ia=T,this};var ka=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(T){var $=b.CapJoinStyles[T];if($===void 0)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ka=$,X($+" J"),this};var Qr=0;b.__private__.setLineJoin=b.setLineJoin=function(T){var $=b.CapJoinStyles[T];if($===void 0)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qr=$,X($+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(M(z(T))+" M"),this},b.GState=$x,b.setGState=function(T){(T=typeof T=="string"?qt[Gt[T]]:Ni(null,T)).equals(Hn)||(X("/"+T.id+" gs"),Hn=T)};var Ni=function(T,$){if(!T||!Gt[T]){var ce=!1;for(var pe in qt)if(qt.hasOwnProperty(pe)&&qt[pe].equals($)){ce=!0;break}if(ce)$=qt[pe];else{var we="GS"+(Object.keys(qt).length+1).toString(10);qt[we]=$,$.id=we}return T&&(Gt[T]=$.id),yn.publish("addGState",$),$}};b.addGState=function(T,$){return Ni(T,$),this},b.saveGraphicsState=function(){return X("q"),on.push({key:_t,size:$e,color:ci}),this},b.restoreGraphicsState=function(){X("Q");var T=on.pop();return _t=T.key,$e=T.size,ci=T.color,Hn=null,this},b.setCurrentTransformationMatrix=function(T){return X(T.toString()+" cm"),this},b.comment=function(T){return X("#"+T),this};var Ds=function(T,$){var ce=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(Ge){isNaN(Ge)||(ce=parseFloat(Ge))}});var pe=$||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(Ge){isNaN(Ge)||(pe=parseFloat(Ge))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Ge){we=Ge.toString()}}),this},ji=function(T,$,ce,pe){Ds.call(this,T,$),this.type="rect";var we=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(Je){isNaN(Je)||(we=parseFloat(Je))}});var Ge=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(Je){isNaN(Je)||(Ge=parseFloat(Je))}}),this},So=function(){this.page=kt,this.currentPage=J,this.pages=Ze.slice(0),this.pagesContext=At.slice(0),this.x=St,this.y=kr,this.matrix=cn,this.width=$a(J),this.height=kl(J),this.outputDestination=it,this.id="",this.objectNumber=-1};So.prototype.restore=function(){kt=this.page,J=this.currentPage,At=this.pagesContext,Ze=this.pages,St=this.x,kr=this.y,cn=this.matrix,Zo(J,this.width),Ra(J,this.height),it=this.outputDestination};var _i=function(T,$,ce,pe,we){vs.push(new So),kt=J=0,Ze=[],St=T,kr=$,cn=we,Ga([ce,pe])};for(var Si in b.beginFormObject=function(T,$,ce,pe,we){return _i(T,$,ce,pe,we),this},b.endFormObject=function(T){return(function($){if(wi[$])vs.pop().restore();else{var ce=new So,pe="Xo"+(Object.keys(Rs).length+1).toString(10);ce.id=pe,wi[$]=pe,Rs[pe]=ce,yn.publish("addFormObject",ce),vs.pop().restore()}})(T),this},b.doFormObject=function(T,$){var ce=Rs[wi[T]];return X("q"),X($.toString()+" cm"),X("/"+ce.id+" Do"),X("Q"),this},b.getFormObject=function(T){var $=Rs[wi[T]];return{x:$.x,y:$.y,width:$.width,height:$.height,matrix:$.matrix}},b.save=function(T,$){return T=T||"generated.pdf",($=$||{}).returnPromise=$.returnPromise||!1,$.returnPromise===!1?(Bu(kn(Ha()),T),typeof Bu.unload=="function"&&rn.setTimeout&&setTimeout(Bu.unload,911),this):new Promise(function(ce,pe){try{var we=Bu(kn(Ha()),T);typeof Bu.unload=="function"&&rn.setTimeout&&setTimeout(Bu.unload,911),ce(we)}catch(Ge){pe(Ge.message)}})},Dt.API)Dt.API.hasOwnProperty(Si)&&(Si==="events"&&Dt.API.events.length?(function(T,$){var ce,pe,we;for(we=$.length-1;we!==-1;we--)ce=$[we][0],pe=$[we][1],T.subscribe.apply(T,[ce].concat(typeof pe=="function"?[pe]:pe))})(yn,Dt.API.events):b[Si]=Dt.API[Si]);function $a(T){return At[T].mediaBox.topRightX-At[T].mediaBox.bottomLeftX}function Zo(T,$){At[T].mediaBox.topRightX=$+At[T].mediaBox.bottomLeftX}function kl(T){return At[T].mediaBox.topRightY-At[T].mediaBox.bottomLeftY}function Ra(T,$){At[T].mediaBox.topRightY=$+At[T].mediaBox.bottomLeftY}var Ei=b.getPageWidth=function(T){return $a(T=T||J)/tn},bc=b.setPageWidth=function(T,$){Zo(T,$*tn)},di=b.getPageHeight=function(T){return kl(T=T||J)/tn},Rl=b.setPageHeight=function(T,$){Ra(T,$*tn)};return b.internal={pdfEscape:ha,getStyle:gc,getFont:li,getFontSize:ct,getCharSpace:ro,getTextColor:yc,getLineHeight:Xo,getLineHeightFactor:_o,getLineWidth:jo,write:Ye,getHorizontalCoordinate:Ns,getVerticalCoordinate:ds,getCoordinateString:Qo,getVerticalCoordinateString:Wn,collections:{},newObject:nr,newAdditionalObject:$s,newObjectDeferred:pr,newObjectDeferredBegin:ls,getFilters:da,putStream:Ba,events:yn,scaleFactor:tn,pageSize:{getWidth:function(){return Ei(J)},setWidth:function(T){bc(J,T)},getHeight:function(){return di(J)},setHeight:function(T){Rl(J,T)}},encryptionOptions:g,encryption:Sr,getEncryptor:function(T){return g!==null?Sr.encryptor(T,0):function($){return $}},output:wo,getNumberOfPages:Al,get pages(){return Ze},out:X,f2:k,f3:P,getPageInfo:Br,getPageInfoByObjId:Yo,getCurrentPageInfo:dd,getPDFVersion:S,Point:Ds,Rectangle:ji,Matrix:Pt,hasHotfix:Xr},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Ei(J)},set:function(T){bc(J,T)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return di(J)},set:function(T){Rl(J,T)},enumerable:!0,configurable:!0}),(function(T){for(var $=0,ce=Ct.length;$<ce;$++){var pe=Sl.call(this,T[$][0],T[$][1],T[$][2],Ct[$][3],!0);p===!1&&(v[pe]=!0);var we=T[$][0].split("-");Pr({id:pe,fontName:we[0],fontStyle:we[1]||""})}yn.publish("addFonts",{fonts:Ot,dictionary:Kt})}).call(b,Ct),_t="F1",oi(a,t),yn.publish("initialized"),b}Sf.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Sf.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Sf.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Sf.prototype.processOwnerPassword=function(n,e){return W2($2(e).substr(0,5),n)},Sf.prototype.encryptor=function(n,e){var t=$2(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return W2(t,s)}},$x.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||ur(n)!==ur(this))return!1;var s=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;s++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&s--;return s===0},Dt.API={events:[]},Dt.version="3.0.4";var xs=Dt.API,Pw=1,Eh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},gn=function(n){return n.toFixed(2)},Gd=function(n){return n.toFixed(5)};xs.__acroform__={};var Xi=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},B6=function(n){return n*Pw},Kl=function(n){var e=new DC,t=Nt.internal.getHeight(n)||0,s=Nt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(gn(s)),Number(gn(t))],e},iH=xs.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},oH=xs.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},lH=xs.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Es=xs.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return lH(n,e-1)},As=xs.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return iH(n,e-1)},Ts=xs.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return oH(n,e-1)},cH=xs.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,a=n[0],o=n[1],c=n[2],d=n[3],h={};return h.lowerLeft_X=t(a)||0,h.lowerLeft_Y=s(o+d)||0,h.upperRight_X=t(a+c)||0,h.upperRight_Y=s(o)||0,[Number(gn(h.lowerLeft_X)),Number(gn(h.lowerLeft_Y)),Number(gn(h.upperRight_X)),Number(gn(h.upperRight_Y))]},dH=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,s=K2(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+gn(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Kl(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},K2=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,s={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var o=t,c=Nt.internal.getHeight(n)||0;c=c<0?-c:c;var d=Nt.internal.getWidth(n)||0;d=d<0?-d:d;var h=function(k,P,z){if(k+1<a.length){var le=P+" "+a[k+1][0];return D0(le,n,z).width<=d-4}return!1};o++;e:for(;o>0;){e="",o--;var f,g,p=D0("3",n,o).height,v=n.multiline?c-o:(c-p)/2,b=v+=2,A=0,S=0,j=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+D0(e,n,o=12).width+", FieldWidth:"+d+`
`;break}for(var E="",L=0,O=0;O<a.length;O++)if(a.hasOwnProperty(O)){var D=!1;if(a[O].length!==1&&j!==a[O].length-1){if((p+2)*(L+2)+2>c)continue e;E+=a[O][j],D=!0,S=O,O--}else{E=(E+=a[O][j]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var ee=parseInt(O),te=h(ee,E,o),H=O>=a.length-1;if(te&&!H){E+=" ",j=0;continue}if(te||H){if(H)S=ee;else if(n.multiline&&(p+2)*(L+2)+2>c)continue e}else{if(!n.multiline||(p+2)*(L+2)+2>c)continue e;S=ee}}for(var M="",I=A;I<=S;I++){var U=a[I];if(n.multiline){if(I===S){M+=U[j]+" ",j=(j+1)%U.length;continue}if(I===A){M+=U[U.length-1]+" ";continue}}M+=U[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,g=D0(M,n,o).width,n.textAlign){case"right":f=d-g-2;break;case"center":f=(d-g)/2;break;default:f=2}e+=gn(f)+" "+gn(b)+` Td
`,e+="("+Eh(M)+`) Tj
`,e+=-gn(f)+` 0 Td
`,b=-(o+2),g=0,A=D?S:S+1,L++,E=""}break}return s.text=e,s.fontSize=o,s},D0=function(n,e,t){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},uH={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hH=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(s){return s.type===t.type&&s.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},fH=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(jl.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(uH)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Pw=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new MC,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];o.objId=void 0,o.hasAnnotation&&hH(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(s,a){var o=!s;for(var c in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(c)){var d=s[c],h=[],f=d.Rect;if(d.Rect&&(d.Rect=cH(d.Rect,a)),a.internal.newObjectDeferredBegin(d.objId,!0),d.DA=Nt.createDefaultAppearanceStream(d),ur(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(h=d.getKeyValueListForStream()),d.Rect=f,d.hasAppearanceStream&&!d.appearanceStreamContent){var g=dH(d);h.push({key:"AP",value:"<</N "+g+">>"}),a.internal.acroformPlugin.xForms.push(g)}if(d.appearanceStreamContent){var p="";for(var v in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(v)){var b=d.appearanceStreamContent[v];if(p+="/"+v+" ",p+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var c in b)if(b.hasOwnProperty(c)){var A=b[c];typeof A=="function"&&(A=A.call(a,d)),p+="/"+c+" "+A+" ",a.internal.acroformPlugin.xForms.indexOf(A)>=0||a.internal.acroformPlugin.xForms.push(A)}}else typeof(A=b)=="function"&&(A=A.call(a,d)),p+="/"+c+" "+A,a.internal.acroformPlugin.xForms.indexOf(A)>=0||a.internal.acroformPlugin.xForms.push(A);p+=">>"}h.push({key:"AP",value:`<<
`+p+">>"})}a.internal.putStream({additionalKeyValues:h,objectId:d.objId}),a.internal.out("endobj")}o&&(function(S,j){for(var E in S)if(S.hasOwnProperty(E)){var L=E,O=S[E];j.internal.newObjectDeferredBegin(O.objId,!0),ur(O)==="object"&&typeof O.putStream=="function"&&O.putStream(),delete S[L]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},LC=xs.__acroform__.arrayToPdfArray=function(n,e,t){var s=function(c){return c};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),ur(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(s=t.internal.getEncryptor(e)),a+="("+Eh(s(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},M1=function(n,e,t){var s=function(a){return a};return e!==void 0&&t&&(s=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Eh(s(n))+")"},ec=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ec.prototype.toString=function(){return this.objId+" 0 R"},ec.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},ec.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var s=e[t],a=this[s];a&&(Array.isArray(a)?n.push({key:s,value:LC(a,this.objId,this.scope)}):a instanceof ec?(a.scope=this.scope,n.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:s,value:a}))}return n};var DC=function(){ec.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Xi(DC,ec);var MC=function(){ec.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(s){return s};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Eh(t(n))+")"}},set:function(t){n=t}})};Xi(MC,ec);var jl=function n(){ec.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Es(e,3)},set:function(E){E?this.F=As(e,3):this.F=Ts(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');t=E}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(E){s=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(E){s[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(E){s[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(E){s[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(E){s[3]=E}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Wx)return;o="FieldObject"+n.FieldNum++}var E=function(L){return L};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+Eh(E(o))+")"},set:function(E){o=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(E){o=E}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(E){c=E}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(E){d=E}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(E){h=E}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/Pw:f},set:function(E){f=E}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(E){g=E}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Wx||this instanceof nh))return M1(p,this.objId,this.scope)},set:function(E){E=E.toString(),p=E}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Na==0?M1(v,this.objId,this.scope):v},set:function(E){E=E.toString(),v=this instanceof Na==0?E.substr(0,1)==="("?yf(E.substr(1,E.length-2)):yf(E):E}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Na==1?yf(v.substr(1,v.length-1)):v},set:function(E){E=E.toString(),v=this instanceof Na==1?"/"+E:E}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Na==0?M1(b,this.objId,this.scope):b},set:function(E){E=E.toString(),b=this instanceof Na==0?E.substr(0,1)==="("?yf(E.substr(1,E.length-2)):yf(E):E}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Na==1?yf(b.substr(1,b.length-1)):b},set:function(E){E=E.toString(),b=this instanceof Na==1?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(E){E=!!E,S=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(E){A=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,1)},set:function(E){E?this.Ff=As(this.Ff,1):this.Ff=Ts(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,2)},set:function(E){E?this.Ff=As(this.Ff,2):this.Ff=Ts(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,3)},set:function(E){E?this.Ff=As(this.Ff,3):this.Ff=Ts(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');j=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(j){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:j=2;break;case"center":case 1:j=1;break;default:j=0}}})};Xi(jl,ec);var Df=function(){jl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return LC(e,this.objId,this.scope)},set:function(t){var s,a;a=[],typeof(s=t)=="string"&&(a=(function(o,c,d){d||(d=1);for(var h,f=[];h=c.exec(o);)f.push(h[d]);return f})(s,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,s){for(s=s||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,18)},set:function(t){t?this.Ff=As(this.Ff,18):this.Ff=Ts(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=As(this.Ff,19):this.Ff=Ts(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,20)},set:function(t){t?(this.Ff=As(this.Ff,20),e.sort()):this.Ff=Ts(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,22)},set:function(t){t?this.Ff=As(this.Ff,22):this.Ff=Ts(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,23)},set:function(t){t?this.Ff=As(this.Ff,23):this.Ff=Ts(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,27)},set:function(t){t?this.Ff=As(this.Ff,27):this.Ff=Ts(this.Ff,27)}}),this.hasAppearanceStream=!1};Xi(Df,jl);var Mf=function(){Df.call(this),this.fontName="helvetica",this.combo=!1};Xi(Mf,Df);var Of=function(){Mf.call(this),this.combo=!0};Xi(Of,Mf);var rx=function(){Of.call(this),this.edit=!0};Xi(rx,Of);var Na=function(){jl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,15)},set:function(t){t?this.Ff=As(this.Ff,15):this.Ff=Ts(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,16)},set:function(t){t?this.Ff=As(this.Ff,16):this.Ff=Ts(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,17)},set:function(t){t?this.Ff=As(this.Ff,17):this.Ff=Ts(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,26)},set:function(t){t?this.Ff=As(this.Ff,26):this.Ff=Ts(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,a=[];for(s in a.push("<<"),e)a.push("/"+s+" ("+Eh(t(e[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){ur(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Xi(Na,jl);var sx=function(){Na.call(this),this.pushButton=!0};Xi(sx,Na);var Ff=function(){Na.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Xi(Ff,Na);var Wx=function(){var n,e;jl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(d){return d};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),s)c.push("/"+o+" ("+Eh(a(s[o]))+")");return c.push(">>"),c.join(`
`)},set:function(a){ur(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Xi(Wx,jl),Ff.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Ff.prototype.createOption=function(n){var e=new Wx;return e.Parent=this,e.optionName=n,this.Kids.push(e),mH.call(this.scope,e),e};var ax=function(){Na.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Nt.CheckBox.createAppearanceStream()};Xi(ax,Na);var nh=function(){jl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,13)},set:function(e){e?this.Ff=As(this.Ff,13):this.Ff=Ts(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,21)},set:function(e){e?this.Ff=As(this.Ff,21):this.Ff=Ts(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,23)},set:function(e){e?this.Ff=As(this.Ff,23):this.Ff=Ts(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,24)},set:function(e){e?this.Ff=As(this.Ff,24):this.Ff=Ts(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,25)},set:function(e){e?this.Ff=As(this.Ff,25):this.Ff=Ts(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,26)},set:function(e){e?this.Ff=As(this.Ff,26):this.Ff=Ts(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Xi(nh,jl);var ix=function(){nh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,14)},set:function(n){n?this.Ff=As(this.Ff,14):this.Ff=Ts(this.Ff,14)}}),this.password=!0};Xi(ix,nh);var Nt={CheckBox:{createAppearanceStream:function(){return{N:{On:Nt.CheckBox.YesNormal},D:{On:Nt.CheckBox.YesPushDown,Off:Nt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Kl(n);e.scope=n.scope;var t=[],s=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=K2(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+gn(Nt.internal.getWidth(n))+" "+gn(Nt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+s+" "+gn(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Kl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),a=[],o=Nt.internal.getHeight(n),c=Nt.internal.getWidth(n),d=K2(n,n.caption);return a.push("1 g"),a.push("0 0 "+gn(c)+" "+gn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+gn(c-1)+" "+gn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+gn(d.fontSize)+" Tf "+s),a.push(d.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=Kl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+gn(Nt.internal.getWidth(n))+" "+gn(Nt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Nt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Nt.RadioButton.Circle.YesNormal,e.D[n]=Nt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Kl(n);e.scope=n.scope;var t=[],s=Nt.internal.getWidth(n)<=Nt.internal.getHeight(n)?Nt.internal.getWidth(n)/4:Nt.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Nt.internal.Bezier_C,o=Number((s*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Gd(Nt.internal.getWidth(n)/2)+" "+Gd(Nt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Kl(n);e.scope=n.scope;var t=[],s=Nt.internal.getWidth(n)<=Nt.internal.getHeight(n)?Nt.internal.getWidth(n)/4:Nt.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*Nt.internal.Bezier_C).toFixed(5)),c=Number((s*Nt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Gd(Nt.internal.getWidth(n)/2)+" "+Gd(Nt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Gd(Nt.internal.getWidth(n)/2)+" "+Gd(Nt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+c+" "+c+" "+s+" 0 "+s+" c"),t.push("-"+c+" "+s+" -"+s+" "+c+" -"+s+" 0 c"),t.push("-"+s+" -"+c+" -"+c+" -"+s+" 0 -"+s+" c"),t.push(c+" -"+s+" "+s+" -"+c+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Kl(n);e.scope=n.scope;var t=[],s=Nt.internal.getWidth(n)<=Nt.internal.getHeight(n)?Nt.internal.getWidth(n)/4:Nt.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*Nt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Gd(Nt.internal.getWidth(n)/2)+" "+Gd(Nt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Nt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Nt.RadioButton.Cross.YesNormal,e.D[n]=Nt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Kl(n);e.scope=n.scope;var t=[],s=Nt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+gn(Nt.internal.getWidth(n)-2)+" "+gn(Nt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(gn(s.x1.x)+" "+gn(s.x1.y)+" m"),t.push(gn(s.x2.x)+" "+gn(s.x2.y)+" l"),t.push(gn(s.x4.x)+" "+gn(s.x4.y)+" m"),t.push(gn(s.x3.x)+" "+gn(s.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Kl(n);e.scope=n.scope;var t=Nt.internal.calculateCross(n),s=[];return s.push("0.749023 g"),s.push("0 0 "+gn(Nt.internal.getWidth(n))+" "+gn(Nt.internal.getHeight(n))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+gn(Nt.internal.getWidth(n)-2)+" "+gn(Nt.internal.getHeight(n)-2)+" re"),s.push("W"),s.push("n"),s.push(gn(t.x1.x)+" "+gn(t.x1.y)+" m"),s.push(gn(t.x2.x)+" "+gn(t.x2.y)+" l"),s.push(gn(t.x4.x)+" "+gn(t.x4.y)+" m"),s.push(gn(t.x3.x)+" "+gn(t.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Kl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+gn(Nt.internal.getWidth(n))+" "+gn(Nt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Nt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Nt.internal.getWidth(n),t=Nt.internal.getHeight(n),s=Math.min(e,t);return{x1:{x:(e-s)/2,y:(t-s)/2+s},x2:{x:(e-s)/2+s,y:(t-s)/2},x3:{x:(e-s)/2,y:(t-s)/2},x4:{x:(e-s)/2+s,y:(t-s)/2+s}}}},Nt.internal.getWidth=function(n){var e=0;return ur(n)==="object"&&(e=B6(n.Rect[2])),e},Nt.internal.getHeight=function(n){var e=0;return ur(n)==="object"&&(e=B6(n.Rect[3])),e};var mH=xs.addField=function(n){if(fH(this,n),!(n instanceof jl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};xs.AcroFormChoiceField=Df,xs.AcroFormListBox=Mf,xs.AcroFormComboBox=Of,xs.AcroFormEditBox=rx,xs.AcroFormButton=Na,xs.AcroFormPushButton=sx,xs.AcroFormRadioButton=Ff,xs.AcroFormCheckBox=ax,xs.AcroFormTextField=nh,xs.AcroFormPasswordField=ix,xs.AcroFormAppearance=Nt,xs.AcroForm={ChoiceField:Df,ListBox:Mf,ComboBox:Of,EditBox:rx,Button:Na,PushButton:sx,RadioButton:Ff,CheckBox:ax,TextField:nh,PasswordField:ix,Appearance:Nt},Dt.AcroForm={ChoiceField:Df,ListBox:Mf,ComboBox:Of,EditBox:rx,Button:Na,PushButton:sx,RadioButton:Ff,CheckBox:ax,TextField:nh,PasswordField:ix,Appearance:Nt};Dt.AcroForm;function OC(n){return n.reduce(function(e,t,s){return e[t]=s,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(k,P){var z,le,Ne,ie,ge,ue=t;if((P=P||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(te(k))for(ge in s)for(Ne=s[ge],z=0;z<Ne.length;z+=1){for(ie=!0,le=0;le<Ne[z].length;le+=1)if(Ne[z][le]!==void 0&&Ne[z][le]!==k[le]){ie=!1;break}if(ie===!0){ue=ge;break}}else for(ge in s)for(Ne=s[ge],z=0;z<Ne.length;z+=1){for(ie=!0,le=0;le<Ne[z].length;le+=1)if(Ne[z][le]!==void 0&&Ne[z][le]!==k.charCodeAt(le)){ie=!1;break}if(ie===!0){ue=ge;break}}return ue===t&&P!==t&&(ue=P),ue},o=function k(P){for(var z=this.internal.write,le=this.internal.putStream,Ne=(0,this.internal.getFilters)();Ne.indexOf("FlateEncode")!==-1;)Ne.splice(Ne.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:P.width}),ie.push({key:"Height",value:P.height}),P.colorSpace===E.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===E.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var ge="",ue=0,je=P.transparency.length;ue<je;ue++)ge+=P.transparency[ue]+" "+P.transparency[ue]+" ";ie.push({key:"Mask",value:"["+ge+"]"})}P.sMask!==void 0&&ie.push({key:"SMask",value:P.objectId+1+" 0 R"});var Be=P.filter!==void 0?["/"+P.filter]:void 0;if(le({data:P.data,additionalKeyValues:ie,alreadyAppliedFilters:Be,objectId:P.objectId}),z("endobj"),"sMask"in P&&P.sMask!==void 0){var se,q=(se=P.sMaskBitsPerComponent)!==null&&se!==void 0?se:P.bitsPerComponent,J={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:q,data:P.sMask};"filter"in P&&(J.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(q," /Columns ").concat(P.width),J.filter=P.filter),k.call(this,J)}if(P.colorSpace===E.INDEXED){var ae=this.internal.newObject();le({data:M(new Uint8Array(P.palette)),objectId:ae}),z("endobj")}},c=function(){var k=this.internal.collections[e+"images"];for(var P in k)o.call(this,k[P])},d=function(){var k,P=this.internal.collections[e+"images"],z=this.internal.write;for(var le in P)z("/I"+(k=P[le]).index,k.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",d))},f=function(){var k=this.internal.collections[e+"images"];return h.call(this),k},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(k){return typeof n["process"+k.toUpperCase()]=="function"},v=function(k){return ur(k)==="object"&&k.nodeType===1},b=function(k,P){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var z=""+k.getAttribute("src");if(z.indexOf("data:image/")===0)return nx(unescape(z).split("base64,").pop());var le=n.loadFile(z,!0);if(le!==void 0)return le}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var Ne;switch(P){case"PNG":Ne="image/png";break;case"WEBP":Ne="image/webp";break;default:Ne="image/jpeg"}return nx(k.toDataURL(Ne,1).split("base64,").pop())}},A=function(k){var P=this.internal.collections[e+"images"];if(P){for(var z in P)if(k===P[z].alias)return P[z]}},S=function(k,P,z){return k||P||(k=-96,P=-96),k<0&&(k=-1*z.width*72/k/this.internal.scaleFactor),P<0&&(P=-1*z.height*72/P/this.internal.scaleFactor),k===0&&(k=P*z.width/z.height),P===0&&(P=k*z.height/z.width),[k,P]},j=function(k,P,z,le,Ne,ie){var ge=S.call(this,z,le,Ne),ue=this.internal.getCoordinateString,je=this.internal.getVerticalCoordinateString,Be=f.call(this);if(z=ge[0],le=ge[1],Be[Ne.index]=Ne,ie){ie*=Math.PI/180;var se=Math.cos(ie),q=Math.sin(ie),J=function(he){return he.toFixed(4)},ae=[J(se),J(q),J(-1*q),J(se),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,ue(k),je(P+le),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([ue(z),"0","0",ue(le),"0","0","cm"].join(" "))):this.internal.write([ue(z),"0","0",ue(le),ue(k),je(P+le),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ne.index+" Do"),this.internal.write("Q")},E=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},O=n.__addimage__.sHashCode=function(k){var P,z,le=0;if(typeof k=="string")for(z=k.length,P=0;P<z;P++)le=(le<<5)-le+k.charCodeAt(P),le|=0;else if(te(k))for(z=k.byteLength/2,P=0;P<z;P++)le=(le<<5)-le+k[P],le|=0;return le},D=n.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var P=!0;return k.length===0&&(P=!1),k.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(P=!1),P},ee=n.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var P=k.indexOf(",");return P<0?null:k.substring(0,P).trim().endsWith("base64")?k.substring(P+1):null};n.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var te=n.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},H=n.__addimage__.binaryStringToUint8Array=function(k){for(var P=k.length,z=new Uint8Array(P),le=0;le<P;le++)z[le]=k.charCodeAt(le);return z},M=n.__addimage__.arrayBufferToBinaryString=function(k){for(var P="",z=te(k)?k:new Uint8Array(k),le=0;le<z.length;le+=8192)P+=String.fromCharCode.apply(null,z.subarray(le,le+8192));return P};n.addImage=function(){var k,P,z,le,Ne,ie,ge,ue,je;if(typeof arguments[1]=="number"?(P=t,z=arguments[1],le=arguments[2],Ne=arguments[3],ie=arguments[4],ge=arguments[5],ue=arguments[6],je=arguments[7]):(P=arguments[1],z=arguments[2],le=arguments[3],Ne=arguments[4],ie=arguments[5],ge=arguments[6],ue=arguments[7],je=arguments[8]),ur(k=arguments[0])==="object"&&!v(k)&&"imageData"in k){var Be=k;k=Be.imageData,P=Be.format||P||t,z=Be.x||z||0,le=Be.y||le||0,Ne=Be.w||Be.width||Ne,ie=Be.h||Be.height||ie,ge=Be.alias||ge,ue=Be.compression||ue,je=Be.rotation||Be.angle||je}var se=this.internal.getFilters();if(ue===void 0&&se.indexOf("FlateEncode")!==-1&&(ue="SLOW"),isNaN(z)||isNaN(le))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var q=I.call(this,k,P,ge,ue);return j.call(this,z,le,Ne,ie,q,je),this};var I=function(k,P,z,le){var Ne,ie,ge;if(typeof k=="string"&&a(k)===t){k=unescape(k);var ue=U(k,!1);(ue!==""||(ue=n.loadFile(k,!0))!==void 0)&&(k=ue)}if(v(k)&&(k=b(k,P)),P=a(k,P),!p(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((ge=z)==null||ge.length===0)&&(z=(function(je){return typeof je=="string"||te(je)?O(je):te(je.data)?O(je.data):null})(k)),(Ne=A.call(this,z))||(k instanceof Uint8Array||P==="RGBA"||(ie=k,k=H(k)),Ne=this["process"+P.toUpperCase()](k,g.call(this),z,(function(je){return je&&typeof je=="string"&&(je=je.toUpperCase()),je in n.image_compression?je:L.NONE})(le),ie)),!Ne)throw new Error("An unknown error occurred whilst processing the image.");return Ne},U=n.__addimage__.convertBase64ToBinaryString=function(k,P){P=typeof P!="boolean"||P;var z,le="";if(typeof k=="string"){var Ne;z=(Ne=ee(k))!==null&&Ne!==void 0?Ne:k;try{le=nx(z)}catch(ie){if(P)throw D(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return le};n.getImageProperties=function(k){var P,z,le="";if(v(k)&&(k=b(k)),typeof k=="string"&&a(k)===t&&((le=U(k,!1))===""&&(le=n.loadFile(k)||""),k=le),z=a(k),!p(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(k instanceof Uint8Array||(k=H(k)),!(P=this["process"+z.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=z,P}})(Dt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Dt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var s,a,o,c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,g=!1,p=0;p<f.length&&!g;p++)switch((s=f[p]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var v=0;v<f.length;v++){s=f[v];var b=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(S.objId),L=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(s.bounds.x)+" "+d(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w)+" "+d(s.bounds.y)+"] ")+"/Contents ("+b(E(s.contents))+")",o+=" /Popup "+j.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+b(E(L))+") >>",S.content=o;var O=S.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(s.bounds.x+30)+" "+d(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w+30)+" "+d(s.bounds.y)+"] ")+" /Parent "+O,s.open&&(o+=" /Open true"),o+=" >>",j.content=o,this.internal.write(S.objId,"0 R",j.objId,"0 R");break;case"freetext":a="/Rect ["+c(s.bounds.x)+" "+d(s.bounds.y)+" "+c(s.bounds.x+s.bounds.w)+" "+d(s.bounds.y+s.bounds.h)+"] ";var D=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+b(A(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var ee=this.annotations._nameMap[s.options.name];s.options.pageNumber=ee.page,s.options.top=ee.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+b(A(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;default:var te=d(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+te+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var s=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":s.pageContext.annotations.push(t)}},n.link=function(t,s,a,o,c){var d=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:h(t),y:f(s),w:h(t+a),h:f(s+o)},options:c,type:"link"})},n.textWithLink=function(t,s,a,o){var c,d,h=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){d=o.maxWidth;var g=this.splitTextToSize(t,d).length;c=Math.ceil(f*g)}else d=h,c=f;return this.text(t,s,a,o),a+=.2*f,o.align==="center"&&(s-=h/2),o.align==="right"&&(s-=h),this.link(s,a-f,d,c,o),h},n.getTextWidth=function(t){var s=this.internal.getFontSize();return this.getStringUnitWidth(t)*s/this.internal.scaleFactor}})(Dt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},d=n.__arabicParser__.isArabicEndLetter=function(S){return c(S)&&o(S)&&e[S.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(S){return c(S)&&a.indexOf(S.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return c(S)&&o(S)&&e[S.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(S){return c(S)&&o(S)&&e[S.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(S){return c(S)&&o(S)&&e[S.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(S){return c(S)&&o(S)&&e[S.charCodeAt(0)].length==4},p=n.__arabicParser__.resolveLigatures=function(S){var j=0,E=t,L="",O=0;for(j=0;j<S.length;j+=1)E[S.charCodeAt(j)]!==void 0?(O++,typeof(E=E[S.charCodeAt(j)])=="number"&&(L+=String.fromCharCode(E),E=t,O=0),j===S.length-1&&(E=t,L+=S.charAt(j-(O-1)),j-=O-1,O=0)):(E=t,L+=S.charAt(j-O),j-=O,O=0);return L};n.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&s[S.charCodeAt(0)]!==void 0};var v=n.__arabicParser__.getCorrectForm=function(S,j,E){return c(S)?o(S)===!1?-1:!f(S)||!c(j)&&!c(E)||!c(E)&&d(j)||d(S)&&!c(j)||d(S)&&h(j)||d(S)&&d(j)?0:g(S)&&c(j)&&!d(j)&&c(E)&&f(E)?3:d(S)||!c(E)?1:2:-1},b=function(S){var j=0,E=0,L=0,O="",D="",ee="",te=(S=S||"").split("\\s+"),H=[];for(j=0;j<te.length;j+=1){for(H.push(""),E=0;E<te[j].length;E+=1)O=te[j][E],D=te[j][E-1],ee=te[j][E+1],c(O)?(L=v(O,D,ee),H[j]+=L!==-1?String.fromCharCode(e[O.charCodeAt(0)][L]):O):H[j]+=O;H[j]=p(H[j])}return H.join(" ")},A=n.__arabicParser__.processArabic=n.processArabic=function(){var S,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(j)){var L=0;for(E=[],L=0;L<j.length;L+=1)Array.isArray(j[L])?E.push([b(j[L][0]),j[L][1],j[L][2]]):E.push([b(j[L])]);S=E}else S=b(j);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};n.events.push(["preProcessText",A])})(Dt.API),Dt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(d){t=d}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(d){s=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(d){a=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(d){o=d}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(d){c=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,s){var a;if((t=t||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Dt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(S){v=S}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(S){b=S}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(S){A=S}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return s.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},n.getTextDimensions=function(h,f){s.call(this);var g=(f=f||{}).fontSize||this.getFontSize(),p=f.font||this.getFont(),v=f.scaleFactor||this.internal.scaleFactor,b=0,A=0,S=0,j=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var E=f.maxWidth;E>0?typeof h=="string"?h=this.splitTextToSize(h,E):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(O,D){return O.concat(j.splitTextToSize(D,E))},[])):h=Array.isArray(h)?h:[h];for(var L=0;L<h.length;L++)b<(S=this.getStringUnitWidth(h[L],{font:p})*g)&&(b=S);return b!==0&&(A=h.length),{w:b/=v,h:Math.max((A*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/v,0)}},n.cellAddPage=function(){s.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),s.call(this);var f=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=p.top,b&&v&&(this.printHeaderRow(h.lineNumber,!0),h.y+=v[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-g,h.y+g,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+g,{align:"center",baseline:"top",maxWidth:h.width-g-g}):this.text(h.text,h.x+g,h.y+g,{align:"left",baseline:"top",maxWidth:h.width-g-g})),this.internal.__cell__.lastCell=h,this};n.table=function(h,f,g,p,v){if(s.call(this),!g)throw new Error("No data for PDF table.");var b,A,S,j,E=[],L=[],O=[],D={},ee={},te=[],H=[],M=(v=v||{}).autoSize||!1,I=v.printHeaders!==!1,U=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,k=v.margins||Object.assign({width:this.getPageWidth()},e),P=typeof v.padding=="number"?v.padding:3,z=v.headerBackgroundColor||"#c8c8c8",le=v.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=le,this.setFontSize(U),p==null)L=E=Object.keys(g[0]),O=E.map(function(){return"left"});else if(Array.isArray(p)&&ur(p[0])==="object")for(E=p.map(function(Be){return Be.name}),L=p.map(function(Be){return Be.prompt||Be.name||""}),O=p.map(function(Be){return Be.align||"left"}),b=0;b<p.length;b+=1)ee[p[b].name]=.7499990551181103*p[b].width;else Array.isArray(p)&&typeof p[0]=="string"&&(L=E=p,O=E.map(function(){return"left"}));if(M||Array.isArray(p)&&typeof p[0]=="string")for(b=0;b<E.length;b+=1){for(D[j=E[b]]=g.map(function(Be){return Be[j]}),this.setFont(void 0,"bold"),te.push(this.getTextDimensions(L[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=D[j],this.setFont(void 0,"normal"),S=0;S<A.length;S+=1)te.push(this.getTextDimensions(A[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ee[j]=Math.max.apply(null,te)+P+P,te=[]}if(I){var Ne={};for(b=0;b<E.length;b+=1)Ne[E[b]]={},Ne[E[b]].text=L[b],Ne[E[b]].align=O[b];var ie=d.call(this,Ne,ee);H=E.map(function(Be){return new o(h,f,ee[Be],ie,Ne[Be].text,void 0,Ne[Be].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var ge=p.reduce(function(Be,se){return Be[se.name]=se.align,Be},{});for(b=0;b<g.length;b+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:b,data:g[b]},this);var ue=d.call(this,g[b],ee);for(S=0;S<E.length;S+=1){var je=g[b][E[S]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:b,col:S,data:je},this),c.call(this,new o(h,f,ee[E[S]],ue,je,b+2,ge[E[S]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var d=function(h,f){var g=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(h).map(function(b){var A=h[b];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,f[b]-g-g)},this).map(function(b){return this.getLineHeightFactor()*b.length*p/v+g+g},this).reduce(function(b,A){return Math.max(b,A)},0)};n.setTableHeaderRow=function(h){s.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,f){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){g=this.internal.__cell__.tableHeaderRow[b].clone(),f&&(g.y=this.internal.__cell__.margins.top||0,v.push(g)),g.lineNumber=h;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,g),this.setTextColor(A)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),t=!1}})(Dt.API);var FC={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},UC=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Y2=OC(UC),VC=[100,200,300,400,500,600,700,800,900],gH=OC(VC);function O1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return FC[o=o||"normal"]?o:"normal"})(n.style),s=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof Y2[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:s,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,s].join(" ")}}}function q6(n,e,t,s){var a;for(a=t;a>=0&&a<e.length;a+=s)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=s)if(n[e[a]])return n[e[a]]}var pH={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},G6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function H6(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function $6(n){return n.trimLeft()}function xH(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function yH(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var M0,W6,K6,bf,O0,Y6,X6,Q6,F1=["times"];function J6(n,e,t,s,a){var o=4,c=e3;switch(a){case Dt.API.image_compression.FAST:o=1,c=Z6;break;case Dt.API.image_compression.MEDIUM:o=6,c=t3;break;case Dt.API.image_compression.SLOW:o=9,c=n3}n=(function(h,f,g,p){for(var v,b=h.length/f,A=new Uint8Array(h.length+b),S=[bH,Z6,e3,t3,n3],j=0;j<b;j+=1){var E=j*f,L=h.subarray(E,E+f);if(p)A.set(p(L,g,v),E+j);else{for(var O=S.length,D=[],ee=0;ee<O;ee+=1)D[ee]=S[ee](L,g,v);var te=wH(D.concat());A.set(D[te],E+j)}v=L}return A})(n,e,Math.ceil(t*s/8),c);var d=B2(n,{level:o});return Dt.API.__addimage__.arrayBufferToBinaryString(d)}function bH(n){var e=Array.apply([],n);return e.unshift(0),e}function Z6(n,e){var t=n.length,s=[];s[0]=1;for(var a=0;a<t;a+=1){var o=n[a-e]||0;s[a+1]=n[a]-o+256&255}return s}function e3(n,e,t){var s=n.length,a=[];a[0]=2;for(var o=0;o<s;o+=1){var c=t&&t[o]||0;a[o+1]=n[o]-c+256&255}return a}function t3(n,e,t){var s=n.length,a=[];a[0]=3;for(var o=0;o<s;o+=1){var c=n[o-e]||0,d=t&&t[o]||0;a[o+1]=n[o]+256-(c+d>>>1)&255}return a}function n3(n,e,t){var s=n.length,a=[];a[0]=4;for(var o=0;o<s;o+=1){var c=vH(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=n[o]-c+256&255}return a}function vH(n,e,t){if(n===e&&e===t)return n;var s=Math.abs(e-t),a=Math.abs(n-t),o=Math.abs(n+e-t-t);return s<=a&&s<=o?n:a<=o?e:t}function wH(n){var e=n.map(function(t){return t.reduce(function(s,a){return s+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function U1(n,e,t){var s=e*t,a=Math.floor(s/8),o=16-(s-8*a+t),c=(1<<t)-1;return zC(n,a)>>o&c}function r3(n,e,t,s){var a=t*s,o=Math.floor(a/8),c=16-(a-8*o+s),d=(1<<s)-1,h=(e&d)<<c;(function(f,g,p){if(g+1<f.byteLength)f.setUint16(g,p,!1);else{var v=p>>8&255;f.setUint8(g,v)}})(n,o,zC(n,o)&~(d<<c)&65535|h)}function zC(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function NH(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,s=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,c=1<<1+(7&a);n[e++],n[e++];var d=null,h=null;o&&(d=e,h=c,e+=3*c);var f=!0,g=[],p=0,v=null,b=0,A=null;for(this.width=t,this.height=s;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,A=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=n[e++];p=n[e++]|n[e++]<<8,v=n[e++],1&S||(v=null),b=S>>2&7,e++;break;case 254:for(;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var j=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,L=n[e++]|n[e++]<<8,O=n[e++]|n[e++]<<8,D=n[e++],ee=D>>6&1,te=1<<1+(7&D),H=d,M=h,I=!1;D>>7&&(I=!0,H=e,M=te,e+=3*te);var U=e;for(e++;;){var k;if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}g.push({x:j,y:E,width:L,height:O,has_local_palette:I,palette_offset:H,palette_size:M,data_offset:U,data_length:e-U,transparent_index:v,interlaced:!!ee,delay:p,disposal:b});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return A},this.frameInfo=function(P){if(P<0||P>=g.length)throw new Error("Frame index out of range.");return g[P]},this.decodeAndBlitFrameBGRA=function(P,z){var le=this.frameInfo(P),Ne=le.width*le.height,ie=new Uint8Array(Ne);s3(n,le.data_offset,ie,Ne);var ge=le.palette_offset,ue=le.transparent_index;ue===null&&(ue=256);var je=le.width,Be=t-je,se=je,q=4*(le.y*t+le.x),J=4*((le.y+le.height)*t+le.x),ae=q,he=4*Be;le.interlaced===!0&&(he+=4*t*7);for(var fe=8,be=0,Pe=ie.length;be<Pe;++be){var ke=ie[be];if(se===0&&(se=je,(ae+=he)>=J&&(he=4*Be+4*t*(fe-1),ae=q+(je+Be)*(fe<<1),fe>>=1)),ke===ue)ae+=4;else{var qe=n[ge+3*ke],Ze=n[ge+3*ke+1],ot=n[ge+3*ke+2];z[ae++]=ot,z[ae++]=Ze,z[ae++]=qe,z[ae++]=255}--se}},this.decodeAndBlitFrameRGBA=function(P,z){var le=this.frameInfo(P),Ne=le.width*le.height,ie=new Uint8Array(Ne);s3(n,le.data_offset,ie,Ne);var ge=le.palette_offset,ue=le.transparent_index;ue===null&&(ue=256);var je=le.width,Be=t-je,se=je,q=4*(le.y*t+le.x),J=4*((le.y+le.height)*t+le.x),ae=q,he=4*Be;le.interlaced===!0&&(he+=4*t*7);for(var fe=8,be=0,Pe=ie.length;be<Pe;++be){var ke=ie[be];if(se===0&&(se=je,(ae+=he)>=J&&(he=4*Be+4*t*(fe-1),ae=q+(je+Be)*(fe<<1),fe>>=1)),ke===ue)ae+=4;else{var qe=n[ge+3*ke],Ze=n[ge+3*ke+1],ot=n[ge+3*ke+2];z[ae++]=qe,z[ae++]=Ze,z[ae++]=ot,z[ae++]=255}--se}}}function s3(n,e,t,s){for(var a=n[e++],o=1<<a,c=o+1,d=c+1,h=a+1,f=(1<<h)-1,g=0,p=0,v=0,b=n[e++],A=new Int32Array(4096),S=null;;){for(;g<16&&b!==0;)p|=n[e++]<<g,g+=8,b===1?b=n[e++]:--b;if(g<h)break;var j=p&f;if(p>>=h,g-=h,j!==o){if(j===c)break;for(var E=j<d?j:S,L=0,O=E;O>o;)O=A[O]>>8,++L;var D=O;if(v+L+(E!==j?1:0)>s)return void Cr.log("Warning, gif stream longer than expected.");t[v++]=D;var ee=v+=L;for(E!==j&&(t[v++]=D),O=E;L--;)O=A[O],t[--ee]=255&O,O>>=8;S!==null&&d<4096&&(A[d++]=S<<8|D,d>=f+1&&h<12&&(++h,f=f<<1|1)),S=j}else d=c+1,f=(1<<(h=a+1))-1,S=null}return v!==s&&Cr.log("Warning, gif stream shorter than expected."),t}function V1(n){var e,t,s,a,o,c=Math.floor,d=new Array(64),h=new Array(64),f=new Array(64),g=new Array(64),p=new Array(65535),v=new Array(65535),b=new Array(64),A=new Array(64),S=[],j=0,E=7,L=new Array(64),O=new Array(64),D=new Array(64),ee=new Array(256),te=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(q,J){for(var ae=0,he=0,fe=new Array,be=1;be<=16;be++){for(var Pe=1;Pe<=q[be];Pe++)fe[J[he]]=[],fe[J[he]][0]=ae,fe[J[he]][1]=be,he++,ae++;ae*=2}return fe}function ge(q){for(var J=q[0],ae=q[1]-1;ae>=0;)J&1<<ae&&(j|=1<<E),ae--,--E<0&&(j==255?(ue(255),ue(0)):ue(j),E=7,j=0)}function ue(q){S.push(q)}function je(q){ue(q>>8&255),ue(255&q)}function Be(q,J,ae,he,fe){for(var be,Pe=fe[0],ke=fe[240],qe=(function($e,dt){var ct,mt,It,an,hn,Jt,xn,ln,_t,tn,St=0;for(_t=0;_t<8;++_t){ct=$e[St],mt=$e[St+1],It=$e[St+2],an=$e[St+3],hn=$e[St+4],Jt=$e[St+5],xn=$e[St+6];var kr=ct+(ln=$e[St+7]),cn=ct-ln,Ot=mt+xn,Kt=mt-xn,on=It+Jt,Rt=It-Jt,Bn=an+hn,qt=an-hn,Gt=kr+Bn,Hn=kr-Bn,kt=Ot+on,At=Ot-on;$e[St]=Gt+kt,$e[St+4]=Gt-kt;var yn=.707106781*(At+Hn);$e[St+2]=Hn+yn,$e[St+6]=Hn-yn;var Hs=.382683433*((Gt=qt+Rt)-(At=Kt+cn)),Rs=.5411961*Gt+Hs,wi=1.306562965*At+Hs,vs=.707106781*(kt=Rt+Kt),Pt=cn+vs,Qi=cn-vs;$e[St+5]=Qi+Rs,$e[St+3]=Qi-Rs,$e[St+1]=Pt+wi,$e[St+7]=Pt-wi,St+=8}for(St=0,_t=0;_t<8;++_t){ct=$e[St],mt=$e[St+8],It=$e[St+16],an=$e[St+24],hn=$e[St+32],Jt=$e[St+40],xn=$e[St+48];var Sa=ct+(ln=$e[St+56]),la=ct-ln,ca=mt+xn,nr=mt-xn,pr=It+Jt,ls=It-Jt,$s=an+hn,Ps=an-hn,$n=Sa+$s,ir=Sa-$s,cs=ca+pr,da=ca-pr;$e[St]=$n+cs,$e[St+32]=$n-cs;var Ba=.707106781*(da+ir);$e[St+16]=ir+Ba,$e[St+48]=ir-Ba;var vo=.382683433*(($n=Ps+ls)-(da=nr+la)),ii=.5411961*$n+vo,ua=1.306562965*da+vo,Ji=.707106781*(cs=ls+nr),Ea=la+Ji,Ws=la-Ji;$e[St+40]=Ws+ii,$e[St+24]=Ws-ii,$e[St+8]=Ea+ua,$e[St+56]=Ea-ua,St++}for(_t=0;_t<64;++_t)tn=$e[_t]*dt[_t],b[_t]=tn>0?tn+.5|0:tn-.5|0;return b})(q,J),Ze=0;Ze<64;++Ze)A[H[Ze]]=qe[Ze];var ot=A[0]-ae;ae=A[0],ot==0?ge(he[0]):(ge(he[v[be=32767+ot]]),ge(p[be]));for(var it=63;it>0&&A[it]==0;)it--;if(it==0)return ge(Pe),ae;for(var ze,X=1;X<=it;){for(var Ye=X;A[X]==0&&X<=it;)++X;var Wt=X-Ye;if(Wt>=16){ze=Wt>>4;for(var Ct=1;Ct<=ze;++Ct)ge(ke);Wt&=15}be=32767+A[X],ge(fe[(Wt<<4)+v[be]]),ge(p[be]),X++}return it!=63&&ge(Pe),ae}function se(q){q=Math.min(Math.max(q,1),100),o!=q&&((function(J){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],he=0;he<64;he++){var fe=c((ae[he]*J+50)/100);fe=Math.min(Math.max(fe,1),255),d[H[he]]=fe}for(var be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Pe=0;Pe<64;Pe++){var ke=c((be[Pe]*J+50)/100);ke=Math.min(Math.max(ke,1),255),h[H[Pe]]=ke}for(var qe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ze=0,ot=0;ot<8;ot++)for(var it=0;it<8;it++)f[Ze]=1/(d[H[Ze]]*qe[ot]*qe[it]*8),g[Ze]=1/(h[H[Ze]]*qe[ot]*qe[it]*8),Ze++})(q<50?Math.floor(5e3/q):Math.floor(200-2*q)),o=q)}this.encode=function(q,J){J&&se(J),S=new Array,j=0,E=7,je(65496),je(65504),je(16),ue(74),ue(70),ue(73),ue(70),ue(0),ue(1),ue(1),ue(0),je(1),je(1),ue(0),ue(0),(function(){je(65499),je(132),ue(0);for(var mt=0;mt<64;mt++)ue(d[mt]);ue(1);for(var It=0;It<64;It++)ue(h[It])})(),(function(mt,It){je(65472),je(17),ue(8),je(It),je(mt),ue(3),ue(1),ue(17),ue(0),ue(2),ue(17),ue(1),ue(3),ue(17),ue(1)})(q.width,q.height),(function(){je(65476),je(418),ue(0);for(var mt=0;mt<16;mt++)ue(M[mt+1]);for(var It=0;It<=11;It++)ue(I[It]);ue(16);for(var an=0;an<16;an++)ue(U[an+1]);for(var hn=0;hn<=161;hn++)ue(k[hn]);ue(1);for(var Jt=0;Jt<16;Jt++)ue(P[Jt+1]);for(var xn=0;xn<=11;xn++)ue(z[xn]);ue(17);for(var ln=0;ln<16;ln++)ue(le[ln+1]);for(var _t=0;_t<=161;_t++)ue(Ne[_t])})(),je(65498),je(12),ue(3),ue(1),ue(0),ue(2),ue(17),ue(3),ue(17),ue(0),ue(63),ue(0);var ae=0,he=0,fe=0;j=0,E=7,this.encode.displayName="_encode_";for(var be,Pe,ke,qe,Ze,ot,it,ze,X,Ye=q.data,Wt=q.width,Ct=q.height,$e=4*Wt,dt=0;dt<Ct;){for(be=0;be<$e;){for(Ze=$e*dt+be,it=-1,ze=0,X=0;X<64;X++)ot=Ze+(ze=X>>3)*$e+(it=4*(7&X)),dt+ze>=Ct&&(ot-=$e*(dt+1+ze-Ct)),be+it>=$e&&(ot-=be+it-$e+4),Pe=Ye[ot++],ke=Ye[ot++],qe=Ye[ot++],L[X]=(te[Pe]+te[ke+256|0]+te[qe+512|0]>>16)-128,O[X]=(te[Pe+768|0]+te[ke+1024|0]+te[qe+1280|0]>>16)-128,D[X]=(te[Pe+1280|0]+te[ke+1536|0]+te[qe+1792|0]>>16)-128;ae=Be(L,f,ae,e,s),he=Be(O,g,he,t,a),fe=Be(D,g,fe,t,a),be+=32}dt+=8}if(E>=0){var ct=[];ct[1]=E+1,ct[0]=(1<<E+1)-1,ge(ct)}return je(65497),new Uint8Array(S)},n=n||50,(function(){for(var q=String.fromCharCode,J=0;J<256;J++)ee[J]=q(J)})(),e=ie(M,I),t=ie(P,z),s=ie(U,k),a=ie(le,Ne),(function(){for(var q=1,J=2,ae=1;ae<=15;ae++){for(var he=q;he<J;he++)v[32767+he]=ae,p[32767+he]=[],p[32767+he][1]=ae,p[32767+he][0]=he;for(var fe=-(J-1);fe<=-q;fe++)v[32767+fe]=ae,p[32767+fe]=[],p[32767+fe][1]=ae,p[32767+fe][0]=J-1+fe;q<<=1,J<<=1}})(),(function(){for(var q=0;q<256;q++)te[q]=19595*q,te[q+256|0]=38470*q,te[q+512|0]=7471*q+32768,te[q+768|0]=-11059*q,te[q+1024|0]=-21709*q,te[q+1280|0]=32768*q+8421375,te[q+1536|0]=-27439*q,te[q+1792|0]=-5329*q})(),se(n)}function gl(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function a3(n){function e(I){if(!I)throw Error("assert :P")}function t(I,U,k){for(var P=0;4>P;P++)if(I[U+P]!=k.charCodeAt(P))return!0;return!1}function s(I,U,k,P,z){for(var le=0;le<z;le++)I[U+le]=k[P+le]}function a(I,U,k,P){for(var z=0;z<P;z++)I[U+z]=k}function o(I){return new Int32Array(I)}function c(I,U){for(var k=[],P=0;P<I;P++)k.push(new U);return k}function d(I,U){var k=[];return(function P(z,le,Ne){for(var ie=Ne[le],ge=0;ge<ie&&(z.push(Ne.length>le+1?[]:new U),!(Ne.length<le+1));ge++)P(z[ge],le+1,Ne)})(k,0,I),k}var h=function(){var I=this;function U(x,N){for(var C=1<<N-1>>>0;x&C;)C>>>=1;return C?(x&C-1)+C:x}function k(x,N,C,F,W){e(!(F%C));do x[N+(F-=C)]=W;while(0<F)}function P(x,N,C,F,W){if(e(2328>=W),512>=W)var K=o(512);else if((K=o(W))==null)return 0;return(function(Y,Z,re,de,xe,Ce){var oe,ve,Ee=Z,Ue=1<<re,Ae=o(16),Fe=o(16);for(e(xe!=0),e(de!=null),e(Y!=null),e(0<re),ve=0;ve<xe;++ve){if(15<de[ve])return 0;++Ae[de[ve]]}if(Ae[0]==xe)return 0;for(Fe[1]=0,oe=1;15>oe;++oe){if(Ae[oe]>1<<oe)return 0;Fe[oe+1]=Fe[oe]+Ae[oe]}for(ve=0;ve<xe;++ve)oe=de[ve],0<de[ve]&&(Ce[Fe[oe]++]=ve);if(Fe[15]==1)return(de=new z).g=0,de.value=Ce[0],k(Y,Ee,1,Ue,de),Ue;var We,et=-1,Qe=Ue-1,wt=0,ht=1,nn=1,pt=1<<re;for(ve=0,oe=1,xe=2;oe<=re;++oe,xe<<=1){if(ht+=nn<<=1,0>(nn-=Ae[oe]))return 0;for(;0<Ae[oe];--Ae[oe])(de=new z).g=oe,de.value=Ce[ve++],k(Y,Ee+wt,xe,pt,de),wt=U(wt,oe)}for(oe=re+1,xe=2;15>=oe;++oe,xe<<=1){if(ht+=nn<<=1,0>(nn-=Ae[oe]))return 0;for(;0<Ae[oe];--Ae[oe]){if(de=new z,(wt&Qe)!=et){for(Ee+=pt,We=1<<(et=oe)-re;15>et&&!(0>=(We-=Ae[et]));)++et,We<<=1;Ue+=pt=1<<(We=et-re),Y[Z+(et=wt&Qe)].g=We+re,Y[Z+et].value=Ee-Z-et}de.g=oe-re,de.value=Ce[ve++],k(Y,Ee+(wt>>re),xe,pt,de),wt=U(wt,oe)}}return ht!=2*Fe[15]-1?0:Ue})(x,N,C,F,W,K)}function z(){this.value=this.g=0}function le(){this.value=this.g=0}function Ne(){this.G=c(5,z),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Pl,le)}function ie(x,N,C,F){e(x!=null),e(N!=null),e(2147483648>F),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=N,x.pa=C,x.Jd=N,x.Yc=C+F,x.Zc=4<=F?C+F-4+1:C,Pe(x)}function ge(x,N){for(var C=0;0<N--;)C|=qe(x,128)<<N;return C}function ue(x,N){var C=ge(x,N);return ke(x)?-C:C}function je(x,N,C,F){var W,K=0;for(e(x!=null),e(N!=null),e(4294967288>F),x.Sb=F,x.Ra=0,x.u=0,x.h=0,4<F&&(F=4),W=0;W<F;++W)K+=N[C+W]<<8*W;x.Ra=K,x.bb=F,x.oa=N,x.pa=C}function Be(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<To-8>>>0,++x.bb,x.u-=8;he(x)&&(x.h=1,x.u=0)}function se(x,N){if(e(0<=N),!x.h&&N<=La){var C=ae(x)&Wa[N];return x.u+=N,Be(x),C}return x.h=1,x.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ae(x){return x.Ra>>>(x.u&To-1)>>>0}function he(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>To}function fe(x,N){x.u=N,x.h=he(x)}function be(x){x.u>=Co&&(e(x.u>=Co),Be(x))}function Pe(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function ke(x){return ge(x,1)}function qe(x,N){var C=x.Ca;0>x.b&&Pe(x);var F=x.b,W=C*N>>>8,K=(x.I>>>F>W)+0;for(K?(C-=W,x.I-=W+1<<F>>>0):C=W+1,F=C,W=0;256<=F;)W+=8,F>>=8;return F=7^W+nl[F],x.b-=F,x.Ca=(C<<F)-1,K}function Ze(x,N,C){x[N+0]=C>>24&255,x[N+1]=C>>16&255,x[N+2]=C>>8&255,x[N+3]=255&C}function ot(x,N){return x[N+0]|x[N+1]<<8}function it(x,N){return ot(x,N)|x[N+2]<<16}function ze(x,N){return ot(x,N)|ot(x,N+2)<<16}function X(x,N){var C=1<<N;return e(x!=null),e(0<N),x.X=o(C),x.X==null?0:(x.Mb=32-N,x.Xa=N,1)}function Ye(x,N){e(x!=null),e(N!=null),e(x.Xa==N.Xa),s(N.X,0,x.X,0,1<<N.Xa)}function Wt(){this.X=[],this.Xa=this.Mb=0}function Ct(x,N,C,F){e(C!=null),e(F!=null);var W=C[0],K=F[0];return W==0&&(W=(x*K+N/2)/N),K==0&&(K=(N*W+x/2)/x),0>=W||0>=K?0:(C[0]=W,F[0]=K,1)}function $e(x,N){return x+(1<<N)-1>>>N}function dt(x,N){return((4278255360&x)+(4278255360&N)>>>0&4278255360)+((16711935&x)+(16711935&N)>>>0&16711935)>>>0}function ct(x,N){I[N]=function(C,F,W,K,Y,Z,re){var de;for(de=0;de<Y;++de){var xe=I[x](Z[re+de-1],W,K+de);Z[re+de]=dt(C[F+de],xe)}}}function mt(){this.ud=this.hd=this.jd=0}function It(x,N){return((4278124286&(x^N))>>>1)+(x&N)>>>0}function an(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function hn(x,N){return an(x+(x-N+.5>>1))}function Jt(x,N,C){return Math.abs(N-C)-Math.abs(x-C)}function xn(x,N,C,F,W,K,Y){for(F=K[Y-1],C=0;C<W;++C)K[Y+C]=F=dt(x[N+C],F)}function ln(x,N,C,F,W){var K;for(K=0;K<C;++K){var Y=x[N+K],Z=Y>>8&255,re=16711935&(re=(re=16711935&Y)+((Z<<16)+Z));F[W+K]=(4278255360&Y)+re>>>0}}function _t(x,N){N.jd=255&x,N.hd=x>>8&255,N.ud=x>>16&255}function tn(x,N,C,F,W,K){var Y;for(Y=0;Y<F;++Y){var Z=N[C+Y],re=Z>>>8,de=Z,xe=255&(xe=(xe=Z>>>16)+((x.jd<<24>>24)*(re<<24>>24)>>>5));de=255&(de=(de+=(x.hd<<24>>24)*(re<<24>>24)>>>5)+((x.ud<<24>>24)*(xe<<24>>24)>>>5)),W[K+Y]=(4278255360&Z)+(xe<<16)+de}}function St(x,N,C,F,W){I[N]=function(K,Y,Z,re,de,xe,Ce,oe,ve){for(re=Ce;re<oe;++re)for(Ce=0;Ce<ve;++Ce)de[xe++]=W(Z[F(K[Y++])])},I[x]=function(K,Y,Z,re,de,xe,Ce){var oe=8>>K.b,ve=K.Ea,Ee=K.K[0],Ue=K.w;if(8>oe)for(K=(1<<K.b)-1,Ue=(1<<oe)-1;Y<Z;++Y){var Ae,Fe=0;for(Ae=0;Ae<ve;++Ae)Ae&K||(Fe=F(re[de++])),xe[Ce++]=W(Ee[Fe&Ue]),Fe>>=oe}else I["VP8LMapColor"+C](re,de,Ee,Ue,xe,Ce,Y,Z,ve)}}function kr(x,N,C,F,W){for(C=N+C;N<C;){var K=x[N++];F[W++]=K>>16&255,F[W++]=K>>8&255,F[W++]=255&K}}function cn(x,N,C,F,W){for(C=N+C;N<C;){var K=x[N++];F[W++]=K>>16&255,F[W++]=K>>8&255,F[W++]=255&K,F[W++]=K>>24&255}}function Ot(x,N,C,F,W){for(C=N+C;N<C;){var K=(Y=x[N++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;F[W++]=K,F[W++]=Y}}function Kt(x,N,C,F,W){for(C=N+C;N<C;){var K=(Y=x[N++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;F[W++]=K,F[W++]=Y}}function on(x,N,C,F,W){for(C=N+C;N<C;){var K=x[N++];F[W++]=255&K,F[W++]=K>>8&255,F[W++]=K>>16&255}}function Rt(x,N,C,F,W,K){if(K==0)for(C=N+C;N<C;)Ze(F,((K=x[N++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),W+=32;else s(F,W,x,N,C)}function Bn(x,N){I[N][0]=I[x+"0"],I[N][1]=I[x+"1"],I[N][2]=I[x+"2"],I[N][3]=I[x+"3"],I[N][4]=I[x+"4"],I[N][5]=I[x+"5"],I[N][6]=I[x+"6"],I[N][7]=I[x+"7"],I[N][8]=I[x+"8"],I[N][9]=I[x+"9"],I[N][10]=I[x+"10"],I[N][11]=I[x+"11"],I[N][12]=I[x+"12"],I[N][13]=I[x+"13"],I[N][14]=I[x+"0"],I[N][15]=I[x+"0"]}function qt(x){return x==Cu||x==Rh||x==xd||x==Ph}function Gt(){this.eb=[],this.size=this.A=this.fb=0}function Hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function kt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Gt,this.f.kb=new Hn,this.sd=null}function At(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function yn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Hs(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Rs(x,N){var C=x.T,F=N.ba.f.RGBA,W=F.eb,K=F.fb+x.ka*F.A,Y=ea[N.ba.S],Z=x.y,re=x.O,de=x.f,xe=x.N,Ce=x.ea,oe=x.W,ve=N.cc,Ee=N.dc,Ue=N.Mc,Ae=N.Nc,Fe=x.ka,We=x.ka+x.T,et=x.U,Qe=et+1>>1;for(Fe==0?Y(Z,re,null,null,de,xe,Ce,oe,de,xe,Ce,oe,W,K,null,null,et):(Y(N.ec,N.fc,Z,re,ve,Ee,Ue,Ae,de,xe,Ce,oe,W,K-F.A,W,K,et),++C);Fe+2<We;Fe+=2)ve=de,Ee=xe,Ue=Ce,Ae=oe,xe+=x.Rc,oe+=x.Rc,K+=2*F.A,Y(Z,(re+=2*x.fa)-x.fa,Z,re,ve,Ee,Ue,Ae,de,xe,Ce,oe,W,K-F.A,W,K,et);return re+=x.fa,x.j+We<x.o?(s(N.ec,N.fc,Z,re,et),s(N.cc,N.dc,de,xe,Qe),s(N.Mc,N.Nc,Ce,oe,Qe),C--):1&We||Y(Z,re,null,null,de,xe,Ce,oe,de,xe,Ce,oe,W,K+F.A,null,null,et),C}function wi(x,N,C){var F=x.F,W=[x.J];if(F!=null){var K=x.U,Y=N.ba.S,Z=Y==Tu||Y==xd;N=N.ba.f.RGBA;var re=[0],de=x.ka;re[0]=x.T,x.Kb&&(de==0?--re[0]:(--de,W[0]-=x.width),x.j+x.ka+x.T==x.o&&(re[0]=x.o-x.j-de));var xe=N.eb;de=N.fb+de*N.A,x=_u(F,W[0],x.width,K,re,xe,de+(Z?0:3),N.A),e(C==re),x&&qt(Y)&&Nc(xe,de,Z,K,re,N.A)}return 0}function vs(x){var N=x.ma,C=N.ba.S,F=11>C,W=C==xa||C==Ci||C==Tu||C==pd||C==12||qt(C);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!tl(N.Oa,x,W?11:12))return 0;if(W&&qt(C)&&en(),x.da)alert("todo:use_scaling");else{if(F){if(N.Ib=Hs,x.Kb){if(C=x.U+1>>1,N.memory=o(x.U+2*C),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+x.U,N.Mc=N.cc,N.Nc=N.dc+C,N.Ib=Rs,en()}}else alert("todo:EmitYUV");W&&(N.Jb=wi,F&&Le())}if(F&&!Vl){for(x=0;256>x;++x)ta[x]=89858*(x-128)+vd>>Di,My[x]=-22014*(x-128)+vd,kp[x]=-45773*(x-128),Fh[x]=113618*(x-128)+vd>>Di;for(x=Ec;x<Ul;++x)N=76283*(x-16)+vd>>Di,Oy[x-Ec]=Ta(N,255),Fy[x-Ec]=Ta(N+8>>4,15);Vl=1}return 1}function Pt(x){var N=x.ma,C=x.U,F=x.T;return e(!(1&x.ka)),0>=C||0>=F?0:(C=N.Ib(x,N),N.Jb!=null&&N.Jb(x,N,C),N.Dc+=C,1)}function Qi(x){x.ma.memory=null}function Sa(x,N,C,F){return se(x,8)!=47?0:(N[0]=se(x,14)+1,C[0]=se(x,14)+1,F[0]=se(x,1),se(x,3)!=0?0:!x.h)}function la(x,N){if(4>x)return x+1;var C=x-2>>1;return(2+(1&x)<<C)+se(N,C)+1}function ca(x,N){return 120<N?N-120:1<=(C=((C=ki[N-1])>>4)*x+(8-(15&C)))?C:1;var C}function nr(x,N,C){var F=ae(C),W=x[N+=255&F].g-8;return 0<W&&(fe(C,C.u+8),F=ae(C),N+=x[N].value,N+=F&(1<<W)-1),fe(C,C.u+x[N].g),x[N].value}function pr(x,N,C){return C.g+=x.g,C.value+=x.value<<N>>>0,e(8>=C.g),x.g}function ls(x,N,C){var F=x.xc;return e((N=F==0?0:x.vc[x.md*(C>>F)+(N>>F)])<x.Wb),x.Ya[N]}function $s(x,N,C,F){var W=x.ab,K=x.c*N,Y=x.C;N=Y+N;var Z=C,re=F;for(F=x.Ta,C=x.Ua;0<W--;){var de=x.gc[W],xe=Y,Ce=N,oe=Z,ve=re,Ee=(re=F,Z=C,de.Ea);switch(e(xe<Ce),e(Ce<=de.nc),de.hc){case 2:Jr(oe,ve,(Ce-xe)*Ee,re,Z);break;case 0:var Ue=xe,Ae=Ce,Fe=re,We=Z,et=(pt=de).Ea;Ue==0&&(hd(oe,ve,null,null,1,Fe,We),xn(oe,ve+1,0,0,et-1,Fe,We+1),ve+=et,We+=et,++Ue);for(var Qe=1<<pt.b,wt=Qe-1,ht=$e(et,pt.b),nn=pt.K,pt=pt.w+(Ue>>pt.b)*ht;Ue<Ae;){var An=nn,Ar=pt,fn=1;for(fd(oe,ve,Fe,We-et,1,Fe,We);fn<et;){var ft=(fn&~wt)+Qe;ft>et&&(ft=et),(0,rl[An[Ar++]>>8&15])(oe,ve+ +fn,Fe,We+fn-et,ft-fn,Fe,We+fn),fn=ft}ve+=et,We+=et,++Ue&wt||(pt+=ht)}Ce!=de.nc&&s(re,Z-Ee,re,Z+(Ce-xe-1)*Ee,Ee);break;case 1:for(Ee=oe,Ae=ve,et=(oe=de.Ea)-(We=oe&~(Fe=(ve=1<<de.b)-1)),Ue=$e(oe,de.b),Qe=de.K,de=de.w+(xe>>de.b)*Ue;xe<Ce;){for(wt=Qe,ht=de,nn=new mt,pt=Ae+We,An=Ae+oe;Ae<pt;)_t(wt[ht++],nn),md(nn,Ee,Ae,ve,re,Z),Ae+=ve,Z+=ve;Ae<An&&(_t(wt[ht++],nn),md(nn,Ee,Ae,et,re,Z),Ae+=et,Z+=et),++xe&Fe||(de+=Ue)}break;case 3:if(oe==re&&ve==Z&&0<de.b){for(Ae=re,oe=Ee=Z+(Ce-xe)*Ee-(We=(Ce-xe)*$e(de.Ea,de.b)),ve=re,Fe=Z,Ue=[],We=(et=We)-1;0<=We;--We)Ue[We]=ve[Fe+We];for(We=et-1;0<=We;--We)Ae[oe+We]=Ue[We];Ah(de,xe,Ce,re,Ee,re,Z)}else Ah(de,xe,Ce,oe,ve,re,Z)}Z=F,re=C}re!=C&&s(F,C,Z,re,K)}function Ps(x,N){var C=x.V,F=x.Ba+x.c*x.C,W=N-x.C;if(e(N<=x.l.o),e(16>=W),0<W){var K=x.l,Y=x.Ta,Z=x.Ua,re=K.width;if($s(x,W,C,F),W=Z=[Z],e((C=x.C)<(F=N)),e(K.v<K.va),F>K.o&&(F=K.o),C<K.j){var de=K.j-C;C=K.j,W[0]+=de*re}if(C>=F?C=0:(W[0]+=4*K.v,K.ka=C-K.j,K.U=K.va-K.v,K.T=F-C,C=1),C){if(Z=Z[0],11>(C=x.ca).S){var xe=C.f.RGBA,Ce=(F=C.S,W=K.U,K=K.T,de=xe.eb,xe.A),oe=K;for(xe=xe.fb+x.Ma*xe.A;0<oe--;){var ve=Y,Ee=Z,Ue=W,Ae=de,Fe=xe;switch(F){case Ih:gd(ve,Ee,Ue,Ae,Fe);break;case xa:sl(ve,Ee,Ue,Ae,Fe);break;case Cu:sl(ve,Ee,Ue,Ae,Fe),Nc(Ae,Fe,0,Ue,1,0);break;case kh:vc(ve,Ee,Ue,Ae,Fe);break;case Ci:Rt(ve,Ee,Ue,Ae,Fe,1);break;case Rh:Rt(ve,Ee,Ue,Ae,Fe,1),Nc(Ae,Fe,0,Ue,1,0);break;case Tu:Rt(ve,Ee,Ue,Ae,Fe,0);break;case xd:Rt(ve,Ee,Ue,Ae,Fe,0),Nc(Ae,Fe,1,Ue,1,0);break;case pd:al(ve,Ee,Ue,Ae,Fe);break;case Ph:al(ve,Ee,Ue,Ae,Fe),Ti(Ae,Fe,Ue,1,0);break;case Ll:Ro(ve,Ee,Ue,Ae,Fe);break;default:e(0)}Z+=re,xe+=Ce}x.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=C.height)}}x.C=N,e(x.C<=x.i)}function $n(x){var N;if(0<x.ua)return 0;for(N=0;N<x.Wb;++N){var C=x.Ya[N].G,F=x.Ya[N].H;if(0<C[1][F[1]+0].g||0<C[2][F[2]+0].g||0<C[3][F[3]+0].g)return 0}return 1}function ir(x,N,C,F,W,K){if(x.Z!=0){var Y=x.qd,Z=x.rd;for(e(ll[x.Z]!=null);N<C;++N)ll[x.Z](Y,Z,F,W,F,W,K),Y=F,Z=W,W+=K;x.qd=Y,x.rd=Z}}function cs(x,N){var C=x.l.ma,F=C.Z==0||C.Z==1?x.l.j:x.C;if(F=x.C<F?F:x.C,e(N<=x.l.o),N>F){var W=x.l.width,K=C.ca,Y=C.tb+W*F,Z=x.V,re=x.Ba+x.c*F,de=x.gc;e(x.ab==1),e(de[0].hc==3),ko(de[0],F,N,Z,re,K,Y),ir(C,F,N,K,Y,W)}x.C=x.Ma=N}function da(x,N,C,F,W,K,Y){var Z=x.$/F,re=x.$%F,de=x.m,xe=x.s,Ce=C+x.$,oe=Ce;W=C+F*W;var ve=C+F*K,Ee=280+xe.ua,Ue=x.Pb?Z:16777216,Ae=0<xe.ua?xe.Wa:null,Fe=xe.wc,We=Ce<ve?ls(xe,re,Z):null;e(x.C<K),e(ve<=W);var et=!1;e:for(;;){for(;et||Ce<ve;){var Qe=0;if(Z>=Ue){var wt=Ce-C;e((Ue=x).Pb),Ue.wd=Ue.m,Ue.xd=wt,0<Ue.s.ua&&Ye(Ue.s.Wa,Ue.s.vb),Ue=Z+Dl}if(re&Fe||(We=ls(xe,re,Z)),e(We!=null),We.Qb&&(N[Ce]=We.qb,et=!0),!et)if(be(de),We.jc){Qe=de,wt=N;var ht=Ce,nn=We.pd[ae(Qe)&Pl-1];e(We.jc),256>nn.g?(fe(Qe,Qe.u+nn.g),wt[ht]=nn.value,Qe=0):(fe(Qe,Qe.u+nn.g-256),e(256<=nn.value),Qe=nn.value),Qe==0&&(et=!0)}else Qe=nr(We.G[0],We.H[0],de);if(de.h)break;if(et||256>Qe){if(!et)if(We.nd)N[Ce]=(We.qb|Qe<<8)>>>0;else{if(be(de),et=nr(We.G[1],We.H[1],de),be(de),wt=nr(We.G[2],We.H[2],de),ht=nr(We.G[3],We.H[3],de),de.h)break;N[Ce]=(ht<<24|et<<16|Qe<<8|wt)>>>0}if(et=!1,++Ce,++re>=F&&(re=0,++Z,Y!=null&&Z<=K&&!(Z%16)&&Y(x,Z),Ae!=null))for(;oe<Ce;)Qe=N[oe++],Ae.X[(506832829*Qe&4294967295)>>>Ae.Mb]=Qe}else if(280>Qe){if(Qe=la(Qe-256,de),wt=nr(We.G[4],We.H[4],de),be(de),wt=ca(F,wt=la(wt,de)),de.h)break;if(Ce-C<wt||W-Ce<Qe)break e;for(ht=0;ht<Qe;++ht)N[Ce+ht]=N[Ce+ht-wt];for(Ce+=Qe,re+=Qe;re>=F;)re-=F,++Z,Y!=null&&Z<=K&&!(Z%16)&&Y(x,Z);if(e(Ce<=W),re&Fe&&(We=ls(xe,re,Z)),Ae!=null)for(;oe<Ce;)Qe=N[oe++],Ae.X[(506832829*Qe&4294967295)>>>Ae.Mb]=Qe}else{if(!(Qe<Ee))break e;for(et=Qe-280,e(Ae!=null);oe<Ce;)Qe=N[oe++],Ae.X[(506832829*Qe&4294967295)>>>Ae.Mb]=Qe;Qe=Ce,e(!(et>>>(wt=Ae).Xa)),N[Qe]=wt.X[et],et=!0}et||e(de.h==he(de))}if(x.Pb&&de.h&&Ce<W)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&Ye(x.s.vb,x.s.Wa);else{if(de.h)break e;Y?.(x,Z>K?K:Z),x.a=0,x.$=Ce-C}return 1}return x.a=3,0}function Ba(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var N=x.Wa;N!=null&&(N.X=null),x.vb=null,e(x!=null)}function vo(){var x=new Vt;return x==null?null:(x.a=0,x.xb=wm,Bn("Predictor","VP8LPredictors"),Bn("Predictor","VP8LPredictors_C"),Bn("PredictorAdd","VP8LPredictorsAdd"),Bn("PredictorAdd","VP8LPredictorsAdd_C"),Jr=ln,md=tn,gd=kr,sl=cn,al=Ot,Ro=Kt,vc=on,I.VP8LMapColor32b=Io,I.VP8LMapColor8b=Qs,x)}function ii(x,N,C,F,W){var K=1,Y=[x],Z=[N],re=F.m,de=F.s,xe=null,Ce=0;e:for(;;){if(C)for(;K&&se(re,1);){var oe=Y,ve=Z,Ee=F,Ue=1,Ae=Ee.m,Fe=Ee.gc[Ee.ab],We=se(Ae,2);if(Ee.Oc&1<<We)K=0;else{switch(Ee.Oc|=1<<We,Fe.hc=We,Fe.Ea=oe[0],Fe.nc=ve[0],Fe.K=[null],++Ee.ab,e(4>=Ee.ab),We){case 0:case 1:Fe.b=se(Ae,3)+2,Ue=ii($e(Fe.Ea,Fe.b),$e(Fe.nc,Fe.b),0,Ee,Fe.K),Fe.K=Fe.K[0];break;case 3:var et,Qe=se(Ae,8)+1,wt=16<Qe?0:4<Qe?1:2<Qe?2:3;if(oe[0]=$e(Fe.Ea,wt),Fe.b=wt,et=Ue=ii(Qe,1,0,Ee,Fe.K)){var ht,nn=Qe,pt=Fe,An=1<<(8>>pt.b),Ar=o(An);if(Ar==null)et=0;else{var fn=pt.K[0],ft=pt.w;for(Ar[0]=pt.K[0][0],ht=1;ht<1*nn;++ht)Ar[ht]=dt(fn[ft+ht],Ar[ht-1]);for(;ht<4*An;++ht)Ar[ht]=0;pt.K[0]=null,pt.K[0]=Ar,et=1}}Ue=et;break;case 2:break;default:e(0)}K=Ue}}if(Y=Y[0],Z=Z[0],K&&se(re,1)&&!(K=1<=(Ce=se(re,4))&&11>=Ce)){F.a=3;break e}var at;if(at=K)t:{var Lr,Yt,pn,Jn=F,js=Y,na=Z,vr=Ce,us=C,ya=Jn.m,hs=Jn.s,wn=[null],Fn=1,Dr=0,Gn=Ri[vr];n:for(;;){if(us&&se(ya,1)){var _s=se(ya,3)+2,Mr=$e(js,_s),Un=$e(na,_s),ts=Mr*Un;if(!ii(Mr,Un,0,Jn,wn))break n;for(wn=wn[0],hs.xc=_s,Lr=0;Lr<ts;++Lr){var Zn=wn[Lr]>>8&65535;wn[Lr]=Zn,Zn>=Fn&&(Fn=Zn+1)}}if(ya.h)break n;for(Yt=0;5>Yt;++Yt){var fs=_c[Yt];!Yt&&0<vr&&(fs+=1<<vr),Dr<fs&&(Dr=fs)}var ms=c(Fn*Gn,z),lr=Fn,On=c(lr,Ne);if(On==null)var ba=null;else e(65536>=lr),ba=On;var Gr=o(Dr);if(ba==null||Gr==null||ms==null){Jn.a=1;break n}var Ut=ms;for(Lr=pn=0;Lr<Fn;++Lr){var zt=ba[Lr],Vn=zt.G,Ka=zt.H,Mi=0,Ma=1,gs=0;for(Yt=0;5>Yt;++Yt){fs=_c[Yt],Vn[Yt]=Ut,Ka[Yt]=pn,!Yt&&0<vr&&(fs+=1<<vr);s:{var zl,Bl=fs,Vh=Jn,wr=Gr,jm=Ut,_m=pn,zh=0,cl=Vh.m,Uy=se(cl,1);if(a(wr,0,0,Bl),Uy){var Sm=se(cl,1)+1,Em=se(cl,1),Bh=se(cl,Em==0?1:8);wr[Bh]=1,Sm==2&&(wr[Bh=se(cl,8)]=1);var Os=1}else{var Hr=o(19),Pu=se(cl,4)+4;if(19<Pu){Vh.a=3;var ql=0;break s}for(zl=0;zl<Pu;++zl)Hr[Iu[zl]]=se(cl,3);var Nd=void 0,Ac=void 0,Do=Vh,qh=Hr,jd=Bl,Gh=wr,Hh=0,dl=Do.m,Am=8,Tm=c(128,z);r:for(;P(Tm,0,7,qh,19);){if(se(dl,1)){var Rp=2+2*se(dl,3);if((Nd=2+se(dl,Rp))>jd)break r}else Nd=jd;for(Ac=0;Ac<jd&&Nd--;){be(dl);var Cm=Tm[0+(127&ae(dl))];fe(dl,dl.u+Cm.g);var Gl=Cm.value;if(16>Gl)Gh[Ac++]=Gl,Gl!=0&&(Am=Gl);else{var Pp=Gl==16,Lp=Gl-16,Dp=yd[Lp],Im=se(dl,Ii[Lp])+Dp;if(Ac+Im>jd)break r;for(var Mp=Pp?Am:0;0<Im--;)Gh[Ac++]=Mp}}Hh=1;break r}Hh||(Do.a=3),Os=Hh}(Os=Os&&!cl.h)&&(zh=P(jm,_m,8,wr,Bl)),Os&&zh!=0?ql=zh:(Vh.a=3,ql=0)}if(ql==0)break n;if(Ma&&Lh[Yt]==1&&(Ma=Ut[pn].g==0),Mi+=Ut[pn].g,pn+=ql,3>=Yt){var Tc,$h=Gr[0];for(Tc=1;Tc<fs;++Tc)Gr[Tc]>$h&&($h=Gr[Tc]);gs+=$h}}if(zt.nd=Ma,zt.Qb=0,Ma&&(zt.qb=(Vn[3][Ka[3]+0].value<<24|Vn[1][Ka[1]+0].value<<16|Vn[2][Ka[2]+0].value)>>>0,Mi==0&&256>Vn[0][Ka[0]+0].value&&(zt.Qb=1,zt.qb+=Vn[0][Ka[0]+0].value<<8)),zt.jc=!zt.Qb&&6>gs,zt.jc){var Lu,Mo=zt;for(Lu=0;Lu<Pl;++Lu){var ul=Lu,hl=Mo.pd[ul],Wh=Mo.G[0][Mo.H[0]+ul];256<=Wh.value?(hl.g=Wh.g+256,hl.value=Wh.value):(hl.g=0,hl.value=0,ul>>=pr(Wh,8,hl),ul>>=pr(Mo.G[1][Mo.H[1]+ul],16,hl),ul>>=pr(Mo.G[2][Mo.H[2]+ul],0,hl),pr(Mo.G[3][Mo.H[3]+ul],24,hl))}}}hs.vc=wn,hs.Wb=Fn,hs.Ya=ba,hs.yc=ms,at=1;break t}at=0}if(!(K=at)){F.a=3;break e}if(0<Ce){if(de.ua=1<<Ce,!X(de.Wa,Ce)){F.a=1,K=0;break e}}else de.ua=0;var Kh=F,Cc=Y,Op=Z,_d=Kh.s,Sd=_d.xc;if(Kh.c=Cc,Kh.i=Op,_d.md=$e(Cc,Sd),_d.wc=Sd==0?-1:(1<<Sd)-1,C){F.xb=Ml;break e}if((xe=o(Y*Z))==null){F.a=1,K=0;break e}K=(K=da(F,xe,0,Y,Z,Z,null))&&!re.h;break e}return K?(W!=null?W[0]=xe:(e(xe==null),e(C)),F.$=0,C||Ba(de)):Ba(de),K}function ua(x,N){var C=x.c*x.i,F=C+N+16*N;return e(x.c<=N),x.V=o(F),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+C+N,1)}function Ji(x,N){var C=x.C,F=N-C,W=x.V,K=x.Ba+x.c*C;for(e(N<=x.l.o);0<F;){var Y=16<F?16:F,Z=x.l.ma,re=x.l.width,de=re*Y,xe=Z.ca,Ce=Z.tb+re*C,oe=x.Ta,ve=x.Ua;$s(x,Y,W,K),mi(oe,ve,xe,Ce,de),ir(Z,C,C+Y,xe,Ce,re),F-=Y,W+=Y*x.c,C+=Y}e(C==N),x.C=x.Ma=N}function Ea(){this.ub=this.yd=this.td=this.Rb=0}function Ws(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Aa(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function qa(){this.Yb=(function(){var x=[];return(function N(C,F,W){for(var K=W[F],Y=0;Y<K&&(C.push(W.length>F+1?[]:0),!(W.length<F+1));Y++)N(C[Y],F+1,W)})(x,0,[3,11]),x})()}function Pr(){this.jb=o(3),this.Wc=d([4,8],qa),this.Xc=d([4,17],qa)}function Sl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ha(){this.ld=this.La=this.dd=this.tc=0}function Ga(){this.Na=this.la=0}function oi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ko(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function El(){this.uc=this.M=this.Nb=0,this.wa=Array(new ha),this.Y=0,this.ya=Array(new Ko),this.aa=0,this.l=new Ls}function Al(){this.y=o(16),this.f=o(8),this.ea=o(8)}function fc(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new Ea,this.Kc=new Ws,this.ed=new Sl,this.Qa=new Aa,this.Ic=this.$c=this.Aa=0,this.D=new El,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,q),this.ia=0,this.pb=c(4,oi),this.Pa=new Pr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Al),this.Hd=0,this.rb=Array(new Ga),this.sb=0,this.wa=Array(new ha),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ko),this.L=this.aa=0,this.gd=d([4,2],ha),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ta(x,N){return 0>x?0:x>N?N:x}function Ls(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function zr(){var x=new fc;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,gi||(gi=kn)),x}function jn(x,N,C){return x.a==0&&(x.a=N,x.sc=C,x.cb=0),0}function Zi(x,N,C){return 3<=C&&x[N+0]==157&&x[N+1]==1&&x[N+2]==42}function Ha(x,N){if(x==null)return 0;if(x.a=0,x.sc="OK",N==null)return jn(x,2,"null VP8Io passed to VP8GetHeaders()");var C=N.data,F=N.w,W=N.ha;if(4>W)return jn(x,7,"Truncated header.");var K=C[F+0]|C[F+1]<<8|C[F+2]<<16,Y=x.Od;if(Y.Rb=!(1&K),Y.td=K>>1&7,Y.yd=K>>4&1,Y.ub=K>>5,3<Y.td)return jn(x,3,"Incorrect keyframe parameters.");if(!Y.yd)return jn(x,4,"Frame not displayable.");F+=3,W-=3;var Z=x.Kc;if(Y.Rb){if(7>W)return jn(x,7,"cannot parse picture header");if(!Zi(C,F,W))return jn(x,3,"Bad code word");Z.c=16383&(C[F+4]<<8|C[F+3]),Z.Td=C[F+4]>>6,Z.i=16383&(C[F+6]<<8|C[F+5]),Z.Ud=C[F+6]>>6,F+=7,W-=7,x.za=Z.c+15>>4,x.Ub=Z.i+15>>4,N.width=Z.c,N.height=Z.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,a((K=x.Pa).jb,0,255,K.jb.length),e((K=x.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,a(K.Zb,0,0,K.Zb.length),a(K.Lb,0,0,K.Lb)}if(Y.ub>W)return jn(x,7,"bad partition length");ie(K=x.m,C,F,Y.ub),F+=Y.ub,W-=Y.ub,Y.Rb&&(Z.Ld=ke(K),Z.Kd=ke(K)),Z=x.Qa;var re,de=x.Pa;if(e(K!=null),e(Z!=null),Z.Cb=ke(K),Z.Cb){if(Z.Bb=ke(K),ke(K)){for(Z.Fb=ke(K),re=0;4>re;++re)Z.Zb[re]=ke(K)?ue(K,7):0;for(re=0;4>re;++re)Z.Lb[re]=ke(K)?ue(K,6):0}if(Z.Bb)for(re=0;3>re;++re)de.jb[re]=ke(K)?ge(K,8):255}else Z.Bb=0;if(K.Ka)return jn(x,3,"cannot parse segment header");if((Z=x.ed).zd=ke(K),Z.Tb=ge(K,6),Z.wb=ge(K,3),Z.Pc=ke(K),Z.Pc&&ke(K)){for(de=0;4>de;++de)ke(K)&&(Z.vd[de]=ue(K,6));for(de=0;4>de;++de)ke(K)&&(Z.od[de]=ue(K,6))}if(x.L=Z.Tb==0?0:Z.zd?1:2,K.Ka)return jn(x,3,"cannot parse filter header");var xe=W;if(W=re=F,F=re+xe,Z=xe,x.Xb=(1<<ge(x.m,2))-1,xe<3*(de=x.Xb))C=7;else{for(re+=3*de,Z-=3*de,xe=0;xe<de;++xe){var Ce=C[W+0]|C[W+1]<<8|C[W+2]<<16;Ce>Z&&(Ce=Z),ie(x.Jc[+xe],C,re,Ce),re+=Ce,Z-=Ce,W+=3}ie(x.Jc[+de],C,re,Z),C=re<F?0:5}if(C!=0)return jn(x,C,"cannot parse partitions");for(C=ge(re=x.m,7),W=ke(re)?ue(re,4):0,F=ke(re)?ue(re,4):0,Z=ke(re)?ue(re,4):0,de=ke(re)?ue(re,4):0,re=ke(re)?ue(re,4):0,xe=x.Qa,Ce=0;4>Ce;++Ce){if(xe.Cb){var oe=xe.Zb[Ce];xe.Fb||(oe+=C)}else{if(0<Ce){x.pb[Ce]=x.pb[0];continue}oe=C}var ve=x.pb[Ce];ve.Sc[0]=Pi[Ta(oe+W,127)],ve.Sc[1]=Li[Ta(oe+0,127)],ve.Eb[0]=2*Pi[Ta(oe+F,127)],ve.Eb[1]=101581*Li[Ta(oe+Z,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=Pi[Ta(oe+de,117)],ve.Qc[1]=Li[Ta(oe+re,127)],ve.lc=oe+re}if(!Y.Rb)return jn(x,4,"Not a key frame.");for(ke(K),Y=x.Pa,C=0;4>C;++C){for(W=0;8>W;++W)for(F=0;3>F;++F)for(Z=0;11>Z;++Z)de=qe(K,Er[C][W][F][Z])?ge(K,8):Ip[C][W][F][Z],Y.Wc[C][W].Yb[F][Z]=de;for(W=0;17>W;++W)Y.Xc[C][W]=Y.Wc[C][Tn[W]]}return x.kc=ke(K),x.kc&&(x.Bd=ge(K,8)),x.cb=1}function kn(x,N,C,F,W,K,Y){var Z=N[W].Yb[C];for(C=0;16>W;++W){if(!qe(x,Z[C+0]))return W;for(;!qe(x,Z[C+1]);)if(Z=N[++W].Yb[0],C=0,W==16)return 16;var re=N[W+1].Yb;if(qe(x,Z[C+2])){var de=x,xe=0;if(qe(de,(oe=Z)[(Ce=C)+3]))if(qe(de,oe[Ce+6])){for(Z=0,Ce=2*(xe=qe(de,oe[Ce+8]))+(oe=qe(de,oe[Ce+9+xe])),xe=0,oe=Cp[Ce];oe[Z];++Z)xe+=xe+qe(de,oe[Z]);xe+=3+(8<<Ce)}else qe(de,oe[Ce+7])?(xe=7+2*qe(de,165),xe+=qe(de,145)):xe=5+qe(de,159);else xe=qe(de,oe[Ce+4])?3+qe(de,oe[Ce+5]):2;Z=re[2]}else xe=1,Z=re[1];re=Y+vm[W],0>(de=x).b&&Pe(de);var Ce,oe=de.b,ve=(Ce=de.Ca>>1)-(de.I>>oe)>>31;--de.b,de.Ca+=ve,de.Ca|=1,de.I-=(Ce+1&ve)<<oe,K[re]=((xe^ve)-ve)*F[(0<W)+0]}return 16}function wo(x){var N=x.rb[x.sb-1];N.la=0,N.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function Xr(x,N,C,F,W){W=x[N+C+32*F]+(W>>3),x[N+C+32*F]=-256&W?0>W?0:255:W}function Sr(x,N,C,F,W,K){Xr(x,N,0,C,F+W),Xr(x,N,1,C,F+K),Xr(x,N,2,C,F-K),Xr(x,N,3,C,F-W)}function Br(x){return(20091*x>>16)+x}function Yo(x,N,C,F){var W,K=0,Y=o(16);for(W=0;4>W;++W){var Z=x[N+0]+x[N+8],re=x[N+0]-x[N+8],de=(35468*x[N+4]>>16)-Br(x[N+12]),xe=Br(x[N+4])+(35468*x[N+12]>>16);Y[K+0]=Z+xe,Y[K+1]=re+de,Y[K+2]=re-de,Y[K+3]=Z-xe,K+=4,N++}for(W=K=0;4>W;++W)Z=(x=Y[K+0]+4)+Y[K+8],re=x-Y[K+8],de=(35468*Y[K+4]>>16)-Br(Y[K+12]),Xr(C,F,0,0,Z+(xe=Br(Y[K+4])+(35468*Y[K+12]>>16))),Xr(C,F,1,0,re+de),Xr(C,F,2,0,re-de),Xr(C,F,3,0,Z-xe),K++,F+=32}function dd(x,N,C,F){var W=x[N+0]+4,K=35468*x[N+4]>>16,Y=Br(x[N+4]),Z=35468*x[N+1]>>16;Sr(C,F,0,W+Y,x=Br(x[N+1]),Z),Sr(C,F,1,W+K,x,Z),Sr(C,F,2,W-K,x,Z),Sr(C,F,3,W-Y,x,Z)}function mc(x,N,C,F,W){Yo(x,N,C,F),W&&Yo(x,N+16,C,F+4)}function Ks(x,N,C,F){il(x,N+0,C,F,1),il(x,N+32,C,F+128,1)}function gc(x,N,C,F){var W;for(x=x[N+0]+4,W=0;4>W;++W)for(N=0;4>N;++N)Xr(C,F,N,W,x)}function eo(x,N,C,F){x[N+0]&&qn(x,N+0,C,F),x[N+16]&&qn(x,N+16,C,F+4),x[N+32]&&qn(x,N+32,C,F+128),x[N+48]&&qn(x,N+48,C,F+128+4)}function ws(x,N,C,F){var W,K=o(16);for(W=0;4>W;++W){var Y=x[N+0+W]+x[N+12+W],Z=x[N+4+W]+x[N+8+W],re=x[N+4+W]-x[N+8+W],de=x[N+0+W]-x[N+12+W];K[0+W]=Y+Z,K[8+W]=Y-Z,K[4+W]=de+re,K[12+W]=de-re}for(W=0;4>W;++W)Y=(x=K[0+4*W]+3)+K[3+4*W],Z=K[1+4*W]+K[2+4*W],re=K[1+4*W]-K[2+4*W],de=x-K[3+4*W],C[F+0]=Y+Z>>3,C[F+16]=de+re>>3,C[F+32]=Y-Z>>3,C[F+48]=de-re>>3,F+=64}function No(x,N,C){var F,W=N-32,K=pa,Y=255-x[W-1];for(F=0;F<C;++F){var Z,re=K,de=Y+x[N-1];for(Z=0;Z<C;++Z)x[N+Z]=re[de+x[W+Z]];N+=32}}function pc(x,N){No(x,N,4)}function xc(x,N){No(x,N,8)}function Tl(x,N){No(x,N,16)}function Cl(x,N){var C;for(C=0;16>C;++C)s(x,N+32*C,x,N-32,16)}function to(x,N){var C;for(C=16;0<C;--C)a(x,N,x[N-1],16),N+=32}function fa(x,N,C){var F;for(F=0;16>F;++F)a(N,C+32*F,x,16)}function li(x,N){var C,F=16;for(C=0;16>C;++C)F+=x[N-1+32*C]+x[N+C-32];fa(F>>5,x,N)}function no(x,N){var C,F=8;for(C=0;16>C;++C)F+=x[N-1+32*C];fa(F>>4,x,N)}function ma(x,N){var C,F=8;for(C=0;16>C;++C)F+=x[N+C-32];fa(F>>4,x,N)}function jo(x,N){fa(128,x,N)}function Ft(x,N,C){return x+2*N+C+2>>2}function Xo(x,N){var C,F=N-32;for(F=new Uint8Array([Ft(x[F-1],x[F+0],x[F+1]),Ft(x[F+0],x[F+1],x[F+2]),Ft(x[F+1],x[F+2],x[F+3]),Ft(x[F+2],x[F+3],x[F+4])]),C=0;4>C;++C)s(x,N+32*C,F,0,F.length)}function Il(x,N){var C=x[N-1],F=x[N-1+32],W=x[N-1+64],K=x[N-1+96];Ze(x,N+0,16843009*Ft(x[N-1-32],C,F)),Ze(x,N+32,16843009*Ft(C,F,W)),Ze(x,N+64,16843009*Ft(F,W,K)),Ze(x,N+96,16843009*Ft(W,K,K))}function _o(x,N){var C,F=4;for(C=0;4>C;++C)F+=x[N+C-32]+x[N-1+32*C];for(F>>=3,C=0;4>C;++C)a(x,N+32*C,F,4)}function Ns(x,N){var C=x[N-1+0],F=x[N-1+32],W=x[N-1+64],K=x[N-1-32],Y=x[N+0-32],Z=x[N+1-32],re=x[N+2-32],de=x[N+3-32];x[N+0+96]=Ft(F,W,x[N-1+96]),x[N+1+96]=x[N+0+64]=Ft(C,F,W),x[N+2+96]=x[N+1+64]=x[N+0+32]=Ft(K,C,F),x[N+3+96]=x[N+2+64]=x[N+1+32]=x[N+0+0]=Ft(Y,K,C),x[N+3+64]=x[N+2+32]=x[N+1+0]=Ft(Z,Y,K),x[N+3+32]=x[N+2+0]=Ft(re,Z,Y),x[N+3+0]=Ft(de,re,Z)}function ds(x,N){var C=x[N+1-32],F=x[N+2-32],W=x[N+3-32],K=x[N+4-32],Y=x[N+5-32],Z=x[N+6-32],re=x[N+7-32];x[N+0+0]=Ft(x[N+0-32],C,F),x[N+1+0]=x[N+0+32]=Ft(C,F,W),x[N+2+0]=x[N+1+32]=x[N+0+64]=Ft(F,W,K),x[N+3+0]=x[N+2+32]=x[N+1+64]=x[N+0+96]=Ft(W,K,Y),x[N+3+32]=x[N+2+64]=x[N+1+96]=Ft(K,Y,Z),x[N+3+64]=x[N+2+96]=Ft(Y,Z,re),x[N+3+96]=Ft(Z,re,re)}function Qo(x,N){var C=x[N-1+0],F=x[N-1+32],W=x[N-1+64],K=x[N-1-32],Y=x[N+0-32],Z=x[N+1-32],re=x[N+2-32],de=x[N+3-32];x[N+0+0]=x[N+1+64]=K+Y+1>>1,x[N+1+0]=x[N+2+64]=Y+Z+1>>1,x[N+2+0]=x[N+3+64]=Z+re+1>>1,x[N+3+0]=re+de+1>>1,x[N+0+96]=Ft(W,F,C),x[N+0+64]=Ft(F,C,K),x[N+0+32]=x[N+1+96]=Ft(C,K,Y),x[N+1+32]=x[N+2+96]=Ft(K,Y,Z),x[N+2+32]=x[N+3+96]=Ft(Y,Z,re),x[N+3+32]=Ft(Z,re,de)}function Wn(x,N){var C=x[N+0-32],F=x[N+1-32],W=x[N+2-32],K=x[N+3-32],Y=x[N+4-32],Z=x[N+5-32],re=x[N+6-32],de=x[N+7-32];x[N+0+0]=C+F+1>>1,x[N+1+0]=x[N+0+64]=F+W+1>>1,x[N+2+0]=x[N+1+64]=W+K+1>>1,x[N+3+0]=x[N+2+64]=K+Y+1>>1,x[N+0+32]=Ft(C,F,W),x[N+1+32]=x[N+0+96]=Ft(F,W,K),x[N+2+32]=x[N+1+96]=Ft(W,K,Y),x[N+3+32]=x[N+2+96]=Ft(K,Y,Z),x[N+3+64]=Ft(Y,Z,re),x[N+3+96]=Ft(Z,re,de)}function Ca(x,N){var C=x[N-1+0],F=x[N-1+32],W=x[N-1+64],K=x[N-1+96];x[N+0+0]=C+F+1>>1,x[N+2+0]=x[N+0+32]=F+W+1>>1,x[N+2+32]=x[N+0+64]=W+K+1>>1,x[N+1+0]=Ft(C,F,W),x[N+3+0]=x[N+1+32]=Ft(F,W,K),x[N+3+32]=x[N+1+64]=Ft(W,K,K),x[N+3+64]=x[N+2+64]=x[N+0+96]=x[N+1+96]=x[N+2+96]=x[N+3+96]=K}function Jo(x,N){var C=x[N-1+0],F=x[N-1+32],W=x[N-1+64],K=x[N-1+96],Y=x[N-1-32],Z=x[N+0-32],re=x[N+1-32],de=x[N+2-32];x[N+0+0]=x[N+2+32]=C+Y+1>>1,x[N+0+32]=x[N+2+64]=F+C+1>>1,x[N+0+64]=x[N+2+96]=W+F+1>>1,x[N+0+96]=K+W+1>>1,x[N+3+0]=Ft(Z,re,de),x[N+2+0]=Ft(Y,Z,re),x[N+1+0]=x[N+3+32]=Ft(C,Y,Z),x[N+1+32]=x[N+3+64]=Ft(F,C,Y),x[N+1+64]=x[N+3+96]=Ft(W,F,C),x[N+1+96]=Ft(K,W,F)}function ci(x,N){var C;for(C=0;8>C;++C)s(x,N+32*C,x,N-32,8)}function yc(x,N){var C;for(C=0;8>C;++C)a(x,N,x[N-1],8),N+=32}function Ia(x,N,C){var F;for(F=0;8>F;++F)a(N,C+32*F,x,8)}function ro(x,N){var C,F=8;for(C=0;8>C;++C)F+=x[N+C-32]+x[N-1+32*C];Ia(F>>4,x,N)}function ka(x,N){var C,F=4;for(C=0;8>C;++C)F+=x[N+C-32];Ia(F>>3,x,N)}function Qr(x,N){var C,F=4;for(C=0;8>C;++C)F+=x[N-1+32*C];Ia(F>>3,x,N)}function Ni(x,N){Ia(128,x,N)}function Ds(x,N,C){var F=x[N-C],W=x[N+0],K=3*(W-F)+ol[1020+x[N-2*C]-x[N+C]],Y=Au[112+(K+4>>3)];x[N-C]=pa[255+F+Au[112+(K+3>>3)]],x[N+0]=pa[255+W-Y]}function ji(x,N,C,F){var W=x[N+0],K=x[N+C];return Js[255+x[N-2*C]-x[N-C]]>F||Js[255+K-W]>F}function So(x,N,C,F){return 4*Js[255+x[N-C]-x[N+0]]+Js[255+x[N-2*C]-x[N+C]]<=F}function _i(x,N,C,F,W){var K=x[N-3*C],Y=x[N-2*C],Z=x[N-C],re=x[N+0],de=x[N+C],xe=x[N+2*C],Ce=x[N+3*C];return 4*Js[255+Z-re]+Js[255+Y-de]>F?0:Js[255+x[N-4*C]-K]<=W&&Js[255+K-Y]<=W&&Js[255+Y-Z]<=W&&Js[255+Ce-xe]<=W&&Js[255+xe-de]<=W&&Js[255+de-re]<=W}function Si(x,N,C,F){var W=2*F+1;for(F=0;16>F;++F)So(x,N+F,C,W)&&Ds(x,N+F,C)}function $a(x,N,C,F){var W=2*F+1;for(F=0;16>F;++F)So(x,N+F*C,1,W)&&Ds(x,N+F*C,1)}function Zo(x,N,C,F){var W;for(W=3;0<W;--W)Si(x,N+=4*C,C,F)}function kl(x,N,C,F){var W;for(W=3;0<W;--W)$a(x,N+=4,C,F)}function Ra(x,N,C,F,W,K,Y,Z){for(K=2*K+1;0<W--;){if(_i(x,N,C,K,Y))if(ji(x,N,C,Z))Ds(x,N,C);else{var re=x,de=N,xe=C,Ce=re[de-2*xe],oe=re[de-xe],ve=re[de+0],Ee=re[de+xe],Ue=re[de+2*xe],Ae=27*(We=ol[1020+3*(ve-oe)+ol[1020+Ce-Ee]])+63>>7,Fe=18*We+63>>7,We=9*We+63>>7;re[de-3*xe]=pa[255+re[de-3*xe]+We],re[de-2*xe]=pa[255+Ce+Fe],re[de-xe]=pa[255+oe+Ae],re[de+0]=pa[255+ve-Ae],re[de+xe]=pa[255+Ee-Fe],re[de+2*xe]=pa[255+Ue-We]}N+=F}}function Ei(x,N,C,F,W,K,Y,Z){for(K=2*K+1;0<W--;){if(_i(x,N,C,K,Y))if(ji(x,N,C,Z))Ds(x,N,C);else{var re=x,de=N,xe=C,Ce=re[de-xe],oe=re[de+0],ve=re[de+xe],Ee=Au[112+(4+(Ue=3*(oe-Ce))>>3)],Ue=Au[112+(Ue+3>>3)],Ae=Ee+1>>1;re[de-2*xe]=pa[255+re[de-2*xe]+Ae],re[de-xe]=pa[255+Ce+Ue],re[de+0]=pa[255+oe-Ee],re[de+xe]=pa[255+ve-Ae]}N+=F}}function bc(x,N,C,F,W,K){Ra(x,N,C,1,16,F,W,K)}function di(x,N,C,F,W,K){Ra(x,N,1,C,16,F,W,K)}function Rl(x,N,C,F,W,K){var Y;for(Y=3;0<Y;--Y)Ei(x,N+=4*C,C,1,16,F,W,K)}function T(x,N,C,F,W,K){var Y;for(Y=3;0<Y;--Y)Ei(x,N+=4,1,C,16,F,W,K)}function $(x,N,C,F,W,K,Y,Z){Ra(x,N,W,1,8,K,Y,Z),Ra(C,F,W,1,8,K,Y,Z)}function ce(x,N,C,F,W,K,Y,Z){Ra(x,N,1,W,8,K,Y,Z),Ra(C,F,1,W,8,K,Y,Z)}function pe(x,N,C,F,W,K,Y,Z){Ei(x,N+4*W,W,1,8,K,Y,Z),Ei(C,F+4*W,W,1,8,K,Y,Z)}function we(x,N,C,F,W,K,Y,Z){Ei(x,N+4,1,W,8,K,Y,Z),Ei(C,F+4,1,W,8,K,Y,Z)}function Ge(){this.ba=new kt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new yn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Je(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function gt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function vt(){this.ua=0,this.Wa=new Wt,this.vb=new Wt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ne,this.yc=new z}function Vt(){this.xb=this.a=0,this.l=new Ls,this.ca=new kt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new vt,this.ab=0,this.gc=c(4,gt),this.Oc=0}function Lt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ls,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function En(x,N,C,F,W,K,Y){for(x=x==null?0:x[N+0],N=0;N<Y;++N)W[K+N]=x+C[F+N]&255,x=W[K+N]}function xr(x,N,C,F,W,K,Y){var Z;if(x==null)En(null,null,C,F,W,K,Y);else for(Z=0;Z<Y;++Z)W[K+Z]=x[N+Z]+C[F+Z]&255}function rr(x,N,C,F,W,K,Y){if(x==null)En(null,null,C,F,W,K,Y);else{var Z,re=x[N+0],de=re,xe=re;for(Z=0;Z<Y;++Z)de=xe+(re=x[N+Z])-de,xe=C[F+Z]+(-256&de?0>de?0:255:de)&255,de=re,W[K+Z]=xe}}function y(x,N,C,F){var W=N.width,K=N.o;if(e(x!=null&&N!=null),0>C||0>=F||C+F>K)return null;if(!x.Cc){if(x.ga==null){var Y;if(x.ga=new Lt,(Y=x.ga==null)||(Y=N.width*N.o,e(x.Gb.length==0),x.Gb=o(Y),x.Uc=0,x.Gb==null?Y=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,Y=1),Y=!Y),!Y){Y=x.ga;var Z=x.Fa,re=x.P,de=x.qc,xe=x.mb,Ce=x.nb,oe=re+1,ve=de-1,Ee=Y.l;if(e(Z!=null&&xe!=null&&N!=null),ll[0]=null,ll[1]=En,ll[2]=xr,ll[3]=rr,Y.ca=xe,Y.tb=Ce,Y.c=N.width,Y.i=N.height,e(0<Y.c&&0<Y.i),1>=de)N=0;else if(Y.$a=3&Z[re+0],Y.Z=Z[re+0]>>2&3,Y.Lc=Z[re+0]>>4&3,re=Z[re+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||re)N=0;else if(Ee.put=Pt,Ee.ac=vs,Ee.bc=Qi,Ee.ma=Y,Ee.width=N.width,Ee.height=N.height,Ee.Da=N.Da,Ee.v=N.v,Ee.va=N.va,Ee.j=N.j,Ee.o=N.o,Y.$a)e:{e(Y.$a==1),N=vo();t:for(;;){if(N==null){N=0;break e}if(e(Y!=null),Y.mc=N,N.c=Y.c,N.i=Y.i,N.l=Y.l,N.l.ma=Y,N.l.width=Y.c,N.l.height=Y.i,N.a=0,je(N.m,Z,oe,ve),!ii(Y.c,Y.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&$n(N.s)?(Y.ic=1,Z=N.c*N.i,N.Ta=null,N.Ua=0,N.V=o(Z),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(Y.ic=0,N=ua(N,Y.c)),!N))break t;N=1;break e}Y.mc=null,N=0}else N=ve>=Y.c*Y.i;Y=!N}if(Y)return null;x.ga.Lc!=1?x.Ga=0:F=K-C}e(x.ga!=null),e(C+F<=K);e:{if(N=(Z=x.ga).c,K=Z.l.o,Z.$a==0){if(oe=x.rc,ve=x.Vc,Ee=x.Fa,re=x.P+1+C*N,de=x.mb,xe=x.nb+C*N,e(re<=x.P+x.qc),Z.Z!=0)for(e(ll[Z.Z]!=null),Y=0;Y<F;++Y)ll[Z.Z](oe,ve,Ee,re,de,xe,N),oe=de,ve=xe,xe+=N,re+=N;else for(Y=0;Y<F;++Y)s(de,xe,Ee,re,N),oe=de,ve=xe,xe+=N,re+=N;x.rc=oe,x.Vc=ve}else{if(e(Z.mc!=null),N=C+F,e((Y=Z.mc)!=null),e(N<=Y.i),Y.C>=N)N=1;else if(Z.ic||Le(),Z.ic){Z=Y.V,oe=Y.Ba,ve=Y.c;var Ue=Y.i,Ae=(Ee=1,re=Y.$/ve,de=Y.$%ve,xe=Y.m,Ce=Y.s,Y.$),Fe=ve*Ue,We=ve*N,et=Ce.wc,Qe=Ae<We?ls(Ce,de,re):null;e(Ae<=Fe),e(N<=Ue),e($n(Ce));t:for(;;){for(;!xe.h&&Ae<We;){if(de&et||(Qe=ls(Ce,de,re)),e(Qe!=null),be(xe),256>(Ue=nr(Qe.G[0],Qe.H[0],xe)))Z[oe+Ae]=Ue,++Ae,++de>=ve&&(de=0,++re<=N&&!(re%16)&&cs(Y,re));else{if(!(280>Ue)){Ee=0;break t}Ue=la(Ue-256,xe);var wt,ht=nr(Qe.G[4],Qe.H[4],xe);if(be(xe),!(Ae>=(ht=ca(ve,ht=la(ht,xe)))&&Fe-Ae>=Ue)){Ee=0;break t}for(wt=0;wt<Ue;++wt)Z[oe+Ae+wt]=Z[oe+Ae+wt-ht];for(Ae+=Ue,de+=Ue;de>=ve;)de-=ve,++re<=N&&!(re%16)&&cs(Y,re);Ae<We&&de&et&&(Qe=ls(Ce,de,re))}e(xe.h==he(xe))}cs(Y,re>N?N:re);break t}!Ee||xe.h&&Ae<Fe?(Ee=0,Y.a=xe.h?5:3):Y.$=Ae,N=Ee}else N=da(Y,Y.V,Y.Ba,Y.c,Y.i,N,Ji);if(!N){F=0;break e}}C+F>=K&&(x.Cc=1),F=1}if(!F)return null;if(x.Cc&&((F=x.ga)!=null&&(F.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+C*W}function R(x,N,C,F,W,K){for(;0<W--;){var Y,Z=x,re=N+(C?1:0),de=x,xe=N+(C?0:3);for(Y=0;Y<F;++Y){var Ce=de[xe+4*Y];Ce!=255&&(Ce*=32897,Z[re+4*Y+0]=Z[re+4*Y+0]*Ce>>23,Z[re+4*Y+1]=Z[re+4*Y+1]*Ce>>23,Z[re+4*Y+2]=Z[re+4*Y+2]*Ce>>23)}N+=K}}function B(x,N,C,F,W){for(;0<F--;){var K;for(K=0;K<C;++K){var Y=x[N+2*K+0],Z=15&(de=x[N+2*K+1]),re=4369*Z,de=(240&de|de>>4)*re>>16;x[N+2*K+0]=(240&Y|Y>>4)*re>>16&240|(15&Y|Y<<4)*re>>16>>4&15,x[N+2*K+1]=240&de|Z}N+=W}}function ne(x,N,C,F,W,K,Y,Z){var re,de,xe=255;for(de=0;de<W;++de){for(re=0;re<F;++re){var Ce=x[N+re];K[Y+4*re]=Ce,xe&=Ce}N+=C,Y+=Z}return xe!=255}function Se(x,N,C,F,W){var K;for(K=0;K<W;++K)C[F+K]=x[N+K]>>8}function Le(){Nc=R,Ti=B,_u=ne,mi=Se}function nt(x,N,C){I[x]=function(F,W,K,Y,Z,re,de,xe,Ce,oe,ve,Ee,Ue,Ae,Fe,We,et){var Qe,wt=et-1>>1,ht=Z[re+0]|de[xe+0]<<16,nn=Ce[oe+0]|ve[Ee+0]<<16;e(F!=null);var pt=3*ht+nn+131074>>2;for(N(F[W+0],255&pt,pt>>16,Ue,Ae),K!=null&&(pt=3*nn+ht+131074>>2,N(K[Y+0],255&pt,pt>>16,Fe,We)),Qe=1;Qe<=wt;++Qe){var An=Z[re+Qe]|de[xe+Qe]<<16,Ar=Ce[oe+Qe]|ve[Ee+Qe]<<16,fn=ht+An+nn+Ar+524296,ft=fn+2*(An+nn)>>3;pt=ft+ht>>1,ht=(fn=fn+2*(ht+Ar)>>3)+An>>1,N(F[W+2*Qe-1],255&pt,pt>>16,Ue,Ae+(2*Qe-1)*C),N(F[W+2*Qe-0],255&ht,ht>>16,Ue,Ae+(2*Qe-0)*C),K!=null&&(pt=fn+nn>>1,ht=ft+Ar>>1,N(K[Y+2*Qe-1],255&pt,pt>>16,Fe,We+(2*Qe-1)*C),N(K[Y+2*Qe+0],255&ht,ht>>16,Fe,We+(2*Qe+0)*C)),ht=An,nn=Ar}1&et||(pt=3*ht+nn+131074>>2,N(F[W+et-1],255&pt,pt>>16,Ue,Ae+(et-1)*C),K!=null&&(pt=3*nn+ht+131074>>2,N(K[Y+et-1],255&pt,pt>>16,Fe,We+(et-1)*C)))}}function en(){ea[Ih]=Sc,ea[xa]=bd,ea[kh]=Nm,ea[Ci]=Mh,ea[Tu]=Ol,ea[pd]=Lo,ea[Ll]=Fl,ea[Cu]=bd,ea[Rh]=Mh,ea[xd]=Ol,ea[Ph]=Lo}function yr(x){return x&-16384?0>x?0:255:x>>Oh}function vn(x,N){return yr((19077*x>>8)+(26149*N>>8)-14234)}function Kn(x,N,C){return yr((19077*x>>8)-(6419*N>>8)-(13320*C>>8)+8708)}function Ms(x,N){return yr((19077*x>>8)+(33050*N>>8)-17685)}function Ys(x,N,C,F,W){F[W+0]=vn(x,C),F[W+1]=Kn(x,N,C),F[W+2]=Ms(x,N)}function or(x,N,C,F,W){F[W+0]=Ms(x,N),F[W+1]=Kn(x,N,C),F[W+2]=vn(x,C)}function Xs(x,N,C,F,W){var K=Kn(x,N,C);N=K<<3&224|Ms(x,N)>>3,F[W+0]=248&vn(x,C)|K>>5,F[W+1]=N}function ui(x,N,C,F,W){var K=240&Ms(x,N)|15;F[W+0]=240&vn(x,C)|Kn(x,N,C)>>4,F[W+1]=K}function Eo(x,N,C,F,W){F[W+0]=255,Ys(x,N,C,F,W+1)}function Ao(x,N,C,F,W){or(x,N,C,F,W),F[W+3]=255}function Pa(x,N,C,F,W){Ys(x,N,C,F,W),F[W+3]=255}function el(x,N,C){I[x]=function(F,W,K,Y,Z,re,de,xe,Ce){for(var oe=xe+(-2&Ce)*C;xe!=oe;)N(F[W+0],K[Y+0],Z[re+0],de,xe),N(F[W+1],K[Y+0],Z[re+0],de,xe+C),W+=2,++Y,++re,xe+=2*C;1&Ce&&N(F[W+0],K[Y+0],Z[re+0],de,xe)}}function ud(x,N,C){return C==0?x==0?N==0?6:5:N==0?4:0:C}function wu(x,N,C,F,W){switch(x>>>30){case 3:il(N,C,F,W,0);break;case 2:ga(N,C,F,W);break;case 1:qn(N,C,F,W)}}function hi(x,N){var C,F,W=N.M,K=N.Nb,Y=x.oc,Z=x.pc+40,re=x.oc,de=x.pc+584,xe=x.oc,Ce=x.pc+600;for(C=0;16>C;++C)Y[Z+32*C-1]=129;for(C=0;8>C;++C)re[de+32*C-1]=129,xe[Ce+32*C-1]=129;for(0<W?Y[Z-1-32]=re[de-1-32]=xe[Ce-1-32]=129:(a(Y,Z-32-1,127,21),a(re,de-32-1,127,9),a(xe,Ce-32-1,127,9)),F=0;F<x.za;++F){var oe=N.ya[N.aa+F];if(0<F){for(C=-1;16>C;++C)s(Y,Z+32*C-4,Y,Z+32*C+12,4);for(C=-1;8>C;++C)s(re,de+32*C-4,re,de+32*C+4,4),s(xe,Ce+32*C-4,xe,Ce+32*C+4,4)}var ve=x.Gd,Ee=x.Hd+F,Ue=oe.ad,Ae=oe.Hc;if(0<W&&(s(Y,Z-32,ve[Ee].y,0,16),s(re,de-32,ve[Ee].f,0,8),s(xe,Ce-32,ve[Ee].ea,0,8)),oe.Za){var Fe=Y,We=Z-32+16;for(0<W&&(F>=x.za-1?a(Fe,We,ve[Ee].y[15],4):s(Fe,We,ve[Ee+1].y,0,4)),C=0;4>C;C++)Fe[We+128+C]=Fe[We+256+C]=Fe[We+384+C]=Fe[We+0+C];for(C=0;16>C;++C,Ae<<=2)Fe=Y,We=Z+es[C],qr[oe.Ob[C]](Fe,We),wu(Ae,Ue,16*+C,Fe,We)}else if(Fe=ud(F,W,oe.Ob[0]),Da[Fe](Y,Z),Ae!=0)for(C=0;16>C;++C,Ae<<=2)wu(Ae,Ue,16*+C,Y,Z+es[C]);for(C=oe.Gc,Fe=ud(F,W,oe.Dd),oo[Fe](re,de),oo[Fe](xe,Ce),Ae=Ue,Fe=re,We=de,255&(oe=0|C)&&(170&oe?Ai(Ae,256,Fe,We):Mn(Ae,256,Fe,We)),oe=xe,Ae=Ce,255&(C>>=8)&&(170&C?Ai(Ue,320,oe,Ae):Mn(Ue,320,oe,Ae)),W<x.Ub-1&&(s(ve[Ee].y,0,Y,Z+480,16),s(ve[Ee].f,0,re,de+224,8),s(ve[Ee].ea,0,xe,Ce+224,8)),C=8*K*x.B,ve=x.sa,Ee=x.ta+16*F+16*K*x.R,Ue=x.qa,oe=x.ra+8*F+C,Ae=x.Ha,Fe=x.Ia+8*F+C,C=0;16>C;++C)s(ve,Ee+C*x.R,Y,Z+32*C,16);for(C=0;8>C;++C)s(Ue,oe+C*x.B,re,de+32*C,8),s(Ae,Fe+C*x.B,xe,Ce+32*C,8)}}function so(x,N,C,F,W,K,Y,Z,re){var de=[0],xe=[0],Ce=0,oe=re!=null?re.kd:0,ve=re??new Je;if(x==null||12>C)return 7;ve.data=x,ve.w=N,ve.ha=C,N=[N],C=[C],ve.gb=[ve.gb];e:{var Ee=N,Ue=C,Ae=ve.gb;if(e(x!=null),e(Ue!=null),e(Ae!=null),Ae[0]=0,12<=Ue[0]&&!t(x,Ee[0],"RIFF")){if(t(x,Ee[0]+8,"WEBP")){Ae=3;break e}var Fe=ze(x,Ee[0]+4);if(12>Fe||4294967286<Fe){Ae=3;break e}if(oe&&Fe>Ue[0]-8){Ae=7;break e}Ae[0]=Fe,Ee[0]+=12,Ue[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Fe=0<ve.gb[0],C=C[0];;){e:{var We=x;Ue=N,Ae=C;var et=de,Qe=xe,wt=Ee=[0];if((pt=Ce=[Ce])[0]=0,8>Ae[0])Ae=7;else{if(!t(We,Ue[0],"VP8X")){if(ze(We,Ue[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var ht=ze(We,Ue[0]+8),nn=1+it(We,Ue[0]+12);if(2147483648<=nn*(We=1+it(We,Ue[0]+15))){Ae=3;break e}wt!=null&&(wt[0]=ht),et!=null&&(et[0]=nn),Qe!=null&&(Qe[0]=We),Ue[0]+=18,Ae[0]-=18,pt[0]=1}Ae=0}}if(Ce=Ce[0],Ee=Ee[0],Ae!=0)return Ae;if(Ue=!!(2&Ee),!Fe&&Ce)return 3;if(K!=null&&(K[0]=!!(16&Ee)),Y!=null&&(Y[0]=Ue),Z!=null&&(Z[0]=0),Y=de[0],Ee=xe[0],Ce&&Ue&&re==null){Ae=0;break}if(4>C){Ae=7;break}if(Fe&&Ce||!Fe&&!Ce&&!t(x,N[0],"ALPH")){C=[C],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{ht=x,Ae=N,Fe=C;var pt=ve.gb;et=ve.na,Qe=ve.P,wt=ve.Sa,nn=22,e(ht!=null),e(Fe!=null),We=Ae[0];var An=Fe[0];for(e(et!=null),e(wt!=null),et[0]=null,Qe[0]=null,wt[0]=0;;){if(Ae[0]=We,Fe[0]=An,8>An){Ae=7;break e}var Ar=ze(ht,We+4);if(4294967286<Ar){Ae=3;break e}var fn=8+Ar+1&-2;if(nn+=fn,0<pt&&nn>pt){Ae=3;break e}if(!t(ht,We,"VP8 ")||!t(ht,We,"VP8L")){Ae=0;break e}if(An[0]<fn){Ae=7;break e}t(ht,We,"ALPH")||(et[0]=ht,Qe[0]=We+8,wt[0]=Ar),We+=fn,An-=fn}}if(C=C[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Ae!=0)break}C=[C],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(pt=x,Ae=N,Fe=C,et=ve.gb[0],Qe=ve.Ja,wt=ve.xa,ht=Ae[0],We=!t(pt,ht,"VP8 "),nn=!t(pt,ht,"VP8L"),e(pt!=null),e(Fe!=null),e(Qe!=null),e(wt!=null),8>Fe[0])Ae=7;else{if(We||nn){if(pt=ze(pt,ht+4),12<=et&&pt>et-12){Ae=3;break e}if(oe&&pt>Fe[0]-8){Ae=7;break e}Qe[0]=pt,Ae[0]+=8,Fe[0]-=8,wt[0]=nn}else wt[0]=5<=Fe[0]&&pt[ht+0]==47&&!(pt[ht+4]>>5),Qe[0]=Fe[0];Ae=0}if(C=C[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],N=N[0],Ae!=0)break;if(4294967286<ve.Ja)return 3;if(Z==null||Ue||(Z[0]=ve.xa?2:1),Y=[Y],Ee=[Ee],ve.xa){if(5>C){Ae=7;break}Z=Y,oe=Ee,Ue=K,x==null||5>C?x=0:5<=C&&x[N+0]==47&&!(x[N+4]>>5)?(Fe=[0],pt=[0],et=[0],je(Qe=new J,x,N,C),Sa(Qe,Fe,pt,et)?(Z!=null&&(Z[0]=Fe[0]),oe!=null&&(oe[0]=pt[0]),Ue!=null&&(Ue[0]=et[0]),x=1):x=0):x=0}else{if(10>C){Ae=7;break}Z=Ee,x==null||10>C||!Zi(x,N+3,C-3)?x=0:(oe=x[N+0]|x[N+1]<<8|x[N+2]<<16,Ue=16383&(x[N+7]<<8|x[N+6]),x=16383&(x[N+9]<<8|x[N+8]),1&oe||3<(oe>>1&7)||!(oe>>4&1)||oe>>5>=ve.Ja||!Ue||!x?x=0:(Y&&(Y[0]=Ue),Z&&(Z[0]=x),x=1))}if(!x||(Y=Y[0],Ee=Ee[0],Ce&&(de[0]!=Y||xe[0]!=Ee)))return 3;re!=null&&(re[0]=ve,re.offset=N-re.w,e(4294967286>N-re.w),e(re.offset==re.ha-C));break}return Ae==0||Ae==7&&Ce&&re==null?(K!=null&&(K[0]|=ve.na!=null&&0<ve.na.length),F!=null&&(F[0]=Y),W!=null&&(W[0]=Ee),0):Ae}function tl(x,N,C){var F=N.width,W=N.height,K=0,Y=0,Z=F,re=W;if(N.Da=x!=null&&0<x.Da,N.Da&&(Z=x.cd,re=x.bd,K=x.v,Y=x.j,11>C||(K&=-2,Y&=-2),0>K||0>Y||0>=Z||0>=re||K+Z>F||Y+re>W))return 0;if(N.v=K,N.j=Y,N.va=K+Z,N.o=Y+re,N.U=Z,N.T=re,N.da=x!=null&&0<x.da,N.da){if(!Ct(Z,re,C=[x.ib],K=[x.hb]))return 0;N.ib=C[0],N.hb=K[0]}return N.ob=x!=null&&x.ob,N.Kb=x==null||!x.Sd,N.da&&(N.ob=N.ib<3*F/4&&N.hb<3*W/4,N.Kb=0),1}function Nu(x){if(x==null)return 2;if(11>x.S){var N=x.f.RGBA;N.fb+=(x.height-1)*N.A,N.A=-N.A}else N=x.f.kb,x=x.height,N.O+=(x-1)*N.fa,N.fa=-N.fa,N.N+=(x-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(x-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(x-1)*N.lb,N.lb=-N.lb);return 0}function ao(x,N,C,F){if(F==null||0>=x||0>=N)return 2;if(C!=null){if(C.Da){var W=C.cd,K=C.bd,Y=-2&C.v,Z=-2&C.j;if(0>Y||0>Z||0>=W||0>=K||Y+W>x||Z+K>N)return 2;x=W,N=K}if(C.da){if(!Ct(x,N,W=[C.ib],K=[C.hb]))return 2;x=W[0],N=K[0]}}F.width=x,F.height=N;e:{var re=F.width,de=F.height;if(x=F.S,0>=re||0>=de||!(x>=Ih&&13>x))x=2;else{if(0>=F.Rd&&F.sd==null){Y=K=W=N=0;var xe=(Z=re*Uh[x])*de;if(11>x||(K=(de+1)/2*(N=(re+1)/2),x==12&&(Y=(W=re)*de)),(de=o(xe+2*K+Y))==null){x=1;break e}F.sd=de,11>x?((re=F.f.RGBA).eb=de,re.fb=0,re.A=Z,re.size=xe):((re=F.f.kb).y=de,re.O=0,re.fa=Z,re.Fd=xe,re.f=de,re.N=0+xe,re.Ab=N,re.Cd=K,re.ea=de,re.W=0+xe+K,re.Db=N,re.Ed=K,x==12&&(re.F=de,re.J=0+xe+2*K),re.Tc=Y,re.lb=W)}if(N=1,W=F.S,K=F.width,Y=F.height,W>=Ih&&13>W)if(11>W)x=F.f.RGBA,N&=(Z=Math.abs(x.A))*(Y-1)+K<=x.size,N&=Z>=K*Uh[W],N&=x.eb!=null;else{x=F.f.kb,Z=(K+1)/2,xe=(Y+1)/2,re=Math.abs(x.fa),de=Math.abs(x.Ab);var Ce=Math.abs(x.Db),oe=Math.abs(x.lb),ve=oe*(Y-1)+K;N&=re*(Y-1)+K<=x.Fd,N&=de*(xe-1)+Z<=x.Cd,N=(N&=Ce*(xe-1)+Z<=x.Ed)&re>=K&de>=Z&Ce>=Z,N&=x.y!=null,N&=x.f!=null,N&=x.ea!=null,W==12&&(N&=oe>=K,N&=ve<=x.Tc,N&=x.F!=null)}else N=0;x=N?0:2}}return x!=0||C!=null&&C.fd&&(x=Nu(F)),x}var Pl=64,Wa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],La=24,To=32,Co=8,nl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ct("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(x){return x},I.Predictor2=function(x,N,C){return N[C+0]},I.Predictor3=function(x,N,C){return N[C+1]},I.Predictor4=function(x,N,C){return N[C-1]},I.Predictor5=function(x,N,C){return It(It(x,N[C+1]),N[C+0])},I.Predictor6=function(x,N,C){return It(x,N[C-1])},I.Predictor7=function(x,N,C){return It(x,N[C+0])},I.Predictor8=function(x,N,C){return It(N[C-1],N[C+0])},I.Predictor9=function(x,N,C){return It(N[C+0],N[C+1])},I.Predictor10=function(x,N,C){return It(It(x,N[C-1]),It(N[C+0],N[C+1]))},I.Predictor11=function(x,N,C){var F=N[C+0];return 0>=Jt(F>>24&255,x>>24&255,(N=N[C-1])>>24&255)+Jt(F>>16&255,x>>16&255,N>>16&255)+Jt(F>>8&255,x>>8&255,N>>8&255)+Jt(255&F,255&x,255&N)?F:x},I.Predictor12=function(x,N,C){var F=N[C+0];return(an((x>>24&255)+(F>>24&255)-((N=N[C-1])>>24&255))<<24|an((x>>16&255)+(F>>16&255)-(N>>16&255))<<16|an((x>>8&255)+(F>>8&255)-(N>>8&255))<<8|an((255&x)+(255&F)-(255&N)))>>>0},I.Predictor13=function(x,N,C){var F=N[C-1];return(hn((x=It(x,N[C+0]))>>24&255,F>>24&255)<<24|hn(x>>16&255,F>>16&255)<<16|hn(x>>8&255,F>>8&255)<<8|hn(255&x,255&F))>>>0};var hd=I.PredictorAdd0;I.PredictorAdd1=xn,ct("Predictor2","PredictorAdd2"),ct("Predictor3","PredictorAdd3"),ct("Predictor4","PredictorAdd4"),ct("Predictor5","PredictorAdd5"),ct("Predictor6","PredictorAdd6"),ct("Predictor7","PredictorAdd7"),ct("Predictor8","PredictorAdd8"),ct("Predictor9","PredictorAdd9"),ct("Predictor10","PredictorAdd10"),ct("Predictor11","PredictorAdd11"),ct("Predictor12","PredictorAdd12"),ct("Predictor13","PredictorAdd13");var fd=I.PredictorAdd2;St("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),St("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var Jr,Ah=I.ColorIndexInverseTransform,Io=I.MapARGB,ko=I.VP8LColorIndexInverseTransformAlpha,Qs=I.MapAlpha,rl=I.VP8LPredictorsAdd=[];rl.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var md,gd,sl,al,Ro,vc,fi,il,ga,Ai,qn,Mn,br,Zr,Po,io,wc,ju,xm,Ep,Ap,Tp,ym,bm,Nc,Ti,_u,mi,jc=o(511),Th=o(2041),Su=o(225),Eu=o(767),Ch=0,ol=Th,Au=Su,pa=Eu,Js=jc,Ih=0,xa=1,kh=2,Ci=3,Tu=4,pd=5,Ll=6,Cu=7,Rh=8,xd=9,Ph=10,Ii=[2,3,7],yd=[3,3,11],_c=[280,256,256,256,40],Lh=[0,1,1,1,0],Iu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ki=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ri=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Dl=8,Pi=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Li=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],gi=null,Cp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],vm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Dh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ip=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Zs=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Er=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Tn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Da=[],qr=[],oo=[],Ml=1,wm=2,ll=[],ea=[];nt("UpsampleRgbLinePair",Ys,3),nt("UpsampleBgrLinePair",or,3),nt("UpsampleRgbaLinePair",Pa,4),nt("UpsampleBgraLinePair",Ao,4),nt("UpsampleArgbLinePair",Eo,4),nt("UpsampleRgba4444LinePair",ui,2),nt("UpsampleRgb565LinePair",Xs,2);var Sc=I.UpsampleRgbLinePair,Nm=I.UpsampleBgrLinePair,bd=I.UpsampleRgbaLinePair,Mh=I.UpsampleBgraLinePair,Ol=I.UpsampleArgbLinePair,Lo=I.UpsampleRgba4444LinePair,Fl=I.UpsampleRgb565LinePair,Di=16,vd=1<<Di-1,Ec=-227,Ul=482,Oh=6,Vl=0,ta=o(256),Fh=o(256),kp=o(256),My=o(256),Oy=o(Ul-Ec),Fy=o(Ul-Ec);el("YuvToRgbRow",Ys,3),el("YuvToBgrRow",or,3),el("YuvToRgbaRow",Pa,4),el("YuvToBgraRow",Ao,4),el("YuvToArgbRow",Eo,4),el("YuvToRgba4444Row",ui,2),el("YuvToRgb565Row",Xs,2);var es=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],wd=[0,2,8],ku=[8,7,6,4,4,2,2,2,1,1,1,1],Ru=1;this.WebPDecodeRGBA=function(x,N,C,F,W){var K=xa,Y=new Ge,Z=new kt;Y.ba=Z,Z.S=K,Z.width=[Z.width],Z.height=[Z.height];var re=Z.width,de=Z.height,xe=new At;if(xe==null||x==null)var Ce=2;else e(xe!=null),Ce=so(x,N,C,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Ce!=0?re=0:(re!=null&&(re[0]=xe.width[0]),de!=null&&(de[0]=xe.height[0]),re=1),re){Z.width=Z.width[0],Z.height=Z.height[0],F!=null&&(F[0]=Z.width),W!=null&&(W[0]=Z.height);e:{if(F=new Ls,(W=new Je).data=x,W.w=N,W.ha=C,W.kd=1,N=[0],e(W!=null),((x=so(W.data,W.w,W.ha,null,null,null,N,null,W))==0||x==7)&&N[0]&&(x=4),(N=x)==0){if(e(Y!=null),F.data=W.data,F.w=W.w+W.offset,F.ha=W.ha-W.offset,F.put=Pt,F.ac=vs,F.bc=Qi,F.ma=Y,W.xa){if((x=vo())==null){Y=1;break e}if((function(oe,ve){var Ee=[0],Ue=[0],Ae=[0];t:for(;;){if(oe==null)return 0;if(ve==null)return oe.a=2,0;if(oe.l=ve,oe.a=0,je(oe.m,ve.data,ve.w,ve.ha),!Sa(oe.m,Ee,Ue,Ae)){oe.a=3;break t}if(oe.xb=wm,ve.width=Ee[0],ve.height=Ue[0],!ii(Ee[0],Ue[0],1,oe,null))break t;return 1}return e(oe.a!=0),0})(x,F)){if(F=(N=ao(F.width,F.height,Y.Oa,Y.ba))==0){t:{F=x;n:for(;;){if(F==null){F=0;break t}if(e(F.s.yc!=null),e(F.s.Ya!=null),e(0<F.s.Wb),e((C=F.l)!=null),e((W=C.ma)!=null),F.xb!=0){if(F.ca=W.ba,F.tb=W.tb,e(F.ca!=null),!tl(W.Oa,C,Ci)){F.a=2;break n}if(!ua(F,C.width)||C.da)break n;if((C.da||qt(F.ca.S))&&Le(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),F.ca.f.kb.F!=null&&Le()),F.Pb&&0<F.s.ua&&F.s.vb.X==null&&!X(F.s.vb,F.s.Wa.Xa)){F.a=1;break n}F.xb=0}if(!da(F,F.V,F.Ba,F.c,F.i,C.o,Ps))break n;W.Dc=F.Ma,F=1;break t}e(F.a!=0),F=0}F=!F}F&&(N=x.a)}else N=x.a}else{if((x=new zr)==null){Y=1;break e}if(x.Fa=W.na,x.P=W.P,x.qc=W.Sa,Ha(x,F)){if((N=ao(F.width,F.height,Y.Oa,Y.ba))==0){if(x.Aa=0,C=Y.Oa,e((W=x)!=null),C!=null){if(0<(re=0>(re=C.Md)?0:100<re?255:255*re/100)){for(de=xe=0;4>de;++de)12>(Ce=W.pb[de]).lc&&(Ce.ia=re*ku[0>Ce.lc?0:Ce.lc]>>3),xe|=Ce.ia;xe&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=C.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}(function(oe,ve){if(oe==null)return 0;if(ve==null)return jn(oe,2,"NULL VP8Io parameter in VP8Decode().");if(!oe.cb&&!Ha(oe,ve))return 0;if(e(oe.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(oe.L=0);var Ee=wd[oe.L];if(oe.L==2?(oe.yb=0,oe.zb=0):(oe.yb=ve.v-Ee>>4,oe.zb=ve.j-Ee>>4,0>oe.yb&&(oe.yb=0),0>oe.zb&&(oe.zb=0)),oe.Va=ve.o+15+Ee>>4,oe.Hb=ve.va+15+Ee>>4,oe.Hb>oe.za&&(oe.Hb=oe.za),oe.Va>oe.Ub&&(oe.Va=oe.Ub),0<oe.L){var Ue=oe.ed;for(Ee=0;4>Ee;++Ee){var Ae;if(oe.Qa.Cb){var Fe=oe.Qa.Lb[Ee];oe.Qa.Fb||(Fe+=Ue.Tb)}else Fe=Ue.Tb;for(Ae=0;1>=Ae;++Ae){var We=oe.gd[Ee][Ae],et=Fe;if(Ue.Pc&&(et+=Ue.vd[0],Ae&&(et+=Ue.od[0])),0<(et=0>et?0:63<et?63:et)){var Qe=et;0<Ue.wb&&(Qe=4<Ue.wb?Qe>>2:Qe>>1)>9-Ue.wb&&(Qe=9-Ue.wb),1>Qe&&(Qe=1),We.dd=Qe,We.tc=2*et+Qe,We.ld=40<=et?2:15<=et?1:0}else We.tc=0;We.La=Ae}}}Ee=0}else jn(oe,6,"Frame setup failed"),Ee=oe.a;if(Ee=Ee==0){if(Ee){oe.$c=0,0<oe.Aa||(oe.Ic=Ru);t:{Ee=oe.Ic,Ue=4*(Qe=oe.za);var wt=32*Qe,ht=Qe+1,nn=0<oe.L?Qe*(0<oe.Aa?2:1):0,pt=(oe.Aa==2?2:1)*Qe;if((We=Ue+832+(Ae=3*(16*Ee+wd[oe.L])/2*wt)+(Fe=oe.Fa!=null&&0<oe.Fa.length?oe.Kc.c*oe.Kc.i:0))!=We)Ee=0;else{if(We>oe.Vb){if(oe.Vb=0,oe.Ec=o(We),oe.Fc=0,oe.Ec==null){Ee=jn(oe,1,"no memory during frame initialization.");break t}oe.Vb=We}We=oe.Ec,et=oe.Fc,oe.Ac=We,oe.Bc=et,et+=Ue,oe.Gd=c(wt,Al),oe.Hd=0,oe.rb=c(ht+1,Ga),oe.sb=1,oe.wa=nn?c(nn,ha):null,oe.Y=0,oe.D.Nb=0,oe.D.wa=oe.wa,oe.D.Y=oe.Y,0<oe.Aa&&(oe.D.Y+=Qe),e(!0),oe.oc=We,oe.pc=et,et+=832,oe.ya=c(pt,Ko),oe.aa=0,oe.D.ya=oe.ya,oe.D.aa=oe.aa,oe.Aa==2&&(oe.D.aa+=Qe),oe.R=16*Qe,oe.B=8*Qe,Qe=(wt=wd[oe.L])*oe.R,wt=wt/2*oe.B,oe.sa=We,oe.ta=et+Qe,oe.qa=oe.sa,oe.ra=oe.ta+16*Ee*oe.R+wt,oe.Ha=oe.qa,oe.Ia=oe.ra+8*Ee*oe.B+wt,oe.$c=0,et+=Ae,oe.mb=Fe?We:null,oe.nb=Fe?et:null,e(et+Fe<=oe.Fc+oe.Vb),wo(oe),a(oe.Ac,oe.Bc,0,Ue),Ee=1}}if(Ee){if(ve.ka=0,ve.y=oe.sa,ve.O=oe.ta,ve.f=oe.qa,ve.N=oe.ra,ve.ea=oe.Ha,ve.Vd=oe.Ia,ve.fa=oe.R,ve.Rc=oe.B,ve.F=null,ve.J=0,!Ch){for(Ee=-255;255>=Ee;++Ee)jc[255+Ee]=0>Ee?-Ee:Ee;for(Ee=-1020;1020>=Ee;++Ee)Th[1020+Ee]=-128>Ee?-128:127<Ee?127:Ee;for(Ee=-112;112>=Ee;++Ee)Su[112+Ee]=-16>Ee?-16:15<Ee?15:Ee;for(Ee=-255;510>=Ee;++Ee)Eu[255+Ee]=0>Ee?0:255<Ee?255:Ee;Ch=1}fi=ws,il=mc,Ai=Ks,qn=gc,Mn=eo,ga=dd,br=bc,Zr=di,Po=$,io=ce,wc=Rl,ju=T,xm=pe,Ep=we,Ap=Si,Tp=$a,ym=Zo,bm=kl,qr[0]=_o,qr[1]=pc,qr[2]=Xo,qr[3]=Il,qr[4]=Ns,qr[5]=Qo,qr[6]=ds,qr[7]=Wn,qr[8]=Jo,qr[9]=Ca,Da[0]=li,Da[1]=Tl,Da[2]=Cl,Da[3]=to,Da[4]=no,Da[5]=ma,Da[6]=jo,oo[0]=ro,oo[1]=xc,oo[2]=ci,oo[3]=yc,oo[4]=Qr,oo[5]=ka,oo[6]=Ni,Ee=1}else Ee=0}Ee&&(Ee=(function(An,Ar){for(An.M=0;An.M<An.Va;++An.M){var fn,ft=An.Jc[An.M&An.Xb],at=An.m,Lr=An;for(fn=0;fn<Lr.za;++fn){var Yt=at,pn=Lr,Jn=pn.Ac,js=pn.Bc+4*fn,na=pn.zc,vr=pn.ya[pn.aa+fn];if(pn.Qa.Bb?vr.$b=qe(Yt,pn.Pa.jb[0])?2+qe(Yt,pn.Pa.jb[2]):qe(Yt,pn.Pa.jb[1]):vr.$b=0,pn.kc&&(vr.Ad=qe(Yt,pn.Bd)),vr.Za=!qe(Yt,145)+0,vr.Za){var us=vr.Ob,ya=0;for(pn=0;4>pn;++pn){var hs,wn=na[0+pn];for(hs=0;4>hs;++hs){wn=Zs[Jn[js+hs]][wn];for(var Fn=Dh[qe(Yt,wn[0])];0<Fn;)Fn=Dh[2*Fn+qe(Yt,wn[Fn])];wn=-Fn,Jn[js+hs]=wn}s(us,ya,Jn,js,4),ya+=4,na[0+pn]=wn}}else wn=qe(Yt,156)?qe(Yt,128)?1:3:qe(Yt,163)?2:0,vr.Ob[0]=wn,a(Jn,js,wn,4),a(na,0,wn,4);vr.Dd=qe(Yt,142)?qe(Yt,114)?qe(Yt,183)?1:3:2:0}if(Lr.m.Ka)return jn(An,7,"Premature end-of-partition0 encountered.");for(;An.ja<An.za;++An.ja){if(Lr=ft,Yt=(at=An).rb[at.sb-1],Jn=at.rb[at.sb+at.ja],fn=at.ya[at.aa+at.ja],js=at.kc?fn.Ad:0)Yt.la=Jn.la=0,fn.Za||(Yt.Na=Jn.Na=0),fn.Hc=0,fn.Gc=0,fn.ia=0;else{var Dr,Gn;if(Yt=Jn,Jn=Lr,js=at.Pa.Xc,na=at.ya[at.aa+at.ja],vr=at.pb[na.$b],pn=na.ad,us=0,ya=at.rb[at.sb-1],wn=hs=0,a(pn,us,0,384),na.Za)var _s=0,Mr=js[3];else{Fn=o(16);var Un=Yt.Na+ya.Na;if(Un=gi(Jn,js[1],Un,vr.Eb,0,Fn,0),Yt.Na=ya.Na=(0<Un)+0,1<Un)fi(Fn,0,pn,us);else{var ts=Fn[0]+3>>3;for(Fn=0;256>Fn;Fn+=16)pn[us+Fn]=ts}_s=1,Mr=js[0]}var Zn=15&Yt.la,fs=15&ya.la;for(Fn=0;4>Fn;++Fn){var ms=1&fs;for(ts=Gn=0;4>ts;++ts)Zn=Zn>>1|(ms=(Un=gi(Jn,Mr,Un=ms+(1&Zn),vr.Sc,_s,pn,us))>_s)<<7,Gn=Gn<<2|(3<Un?3:1<Un?2:pn[us+0]!=0),us+=16;Zn>>=4,fs=fs>>1|ms<<7,hs=(hs<<8|Gn)>>>0}for(Mr=Zn,_s=fs>>4,Dr=0;4>Dr;Dr+=2){for(Gn=0,Zn=Yt.la>>4+Dr,fs=ya.la>>4+Dr,Fn=0;2>Fn;++Fn){for(ms=1&fs,ts=0;2>ts;++ts)Un=ms+(1&Zn),Zn=Zn>>1|(ms=0<(Un=gi(Jn,js[2],Un,vr.Qc,0,pn,us)))<<3,Gn=Gn<<2|(3<Un?3:1<Un?2:pn[us+0]!=0),us+=16;Zn>>=2,fs=fs>>1|ms<<5}wn|=Gn<<4*Dr,Mr|=Zn<<4<<Dr,_s|=(240&fs)<<Dr}Yt.la=Mr,ya.la=_s,na.Hc=hs,na.Gc=wn,na.ia=43690&wn?0:vr.ia,js=!(hs|wn)}if(0<at.L&&(at.wa[at.Y+at.ja]=at.gd[fn.$b][fn.Za],at.wa[at.Y+at.ja].La|=!js),Lr.Ka)return jn(An,7,"Premature end-of-file encountered.")}if(wo(An),at=Ar,Lr=1,fn=(ft=An).D,Yt=0<ft.L&&ft.M>=ft.zb&&ft.M<=ft.Va,ft.Aa==0)t:{if(fn.M=ft.M,fn.uc=Yt,hi(ft,fn),Lr=1,fn=(Gn=ft.D).Nb,Yt=(wn=wd[ft.L])*ft.R,Jn=wn/2*ft.B,Fn=16*fn*ft.R,ts=8*fn*ft.B,js=ft.sa,na=ft.ta-Yt+Fn,vr=ft.qa,pn=ft.ra-Jn+ts,us=ft.Ha,ya=ft.Ia-Jn+ts,fs=(Zn=Gn.M)==0,hs=Zn>=ft.Va-1,ft.Aa==2&&hi(ft,Gn),Gn.uc)for(ms=(Un=ft).D.M,e(Un.D.uc),Gn=Un.yb;Gn<Un.Hb;++Gn){_s=Gn,Mr=ms;var lr=(On=(gs=Un).D).Nb;Dr=gs.R;var On=On.wa[On.Y+_s],ba=gs.sa,Gr=gs.ta+16*lr*Dr+16*_s,Ut=On.dd,zt=On.tc;if(zt!=0)if(e(3<=zt),gs.L==1)0<_s&&Tp(ba,Gr,Dr,zt+4),On.La&&bm(ba,Gr,Dr,zt),0<Mr&&Ap(ba,Gr,Dr,zt+4),On.La&&ym(ba,Gr,Dr,zt);else{var Vn=gs.B,Ka=gs.qa,Mi=gs.ra+8*lr*Vn+8*_s,Ma=gs.Ha,gs=gs.Ia+8*lr*Vn+8*_s;lr=On.ld,0<_s&&(Zr(ba,Gr,Dr,zt+4,Ut,lr),io(Ka,Mi,Ma,gs,Vn,zt+4,Ut,lr)),On.La&&(ju(ba,Gr,Dr,zt,Ut,lr),Ep(Ka,Mi,Ma,gs,Vn,zt,Ut,lr)),0<Mr&&(br(ba,Gr,Dr,zt+4,Ut,lr),Po(Ka,Mi,Ma,gs,Vn,zt+4,Ut,lr)),On.La&&(wc(ba,Gr,Dr,zt,Ut,lr),xm(Ka,Mi,Ma,gs,Vn,zt,Ut,lr))}}if(ft.ia&&alert("todo:DitherRow"),at.put!=null){if(Gn=16*Zn,Zn=16*(Zn+1),fs?(at.y=ft.sa,at.O=ft.ta+Fn,at.f=ft.qa,at.N=ft.ra+ts,at.ea=ft.Ha,at.W=ft.Ia+ts):(Gn-=wn,at.y=js,at.O=na,at.f=vr,at.N=pn,at.ea=us,at.W=ya),hs||(Zn-=wn),Zn>at.o&&(Zn=at.o),at.F=null,at.J=null,ft.Fa!=null&&0<ft.Fa.length&&Gn<Zn&&(at.J=y(ft,at,Gn,Zn-Gn),at.F=ft.mb,at.F==null&&at.F.length==0)){Lr=jn(ft,3,"Could not decode alpha data.");break t}Gn<at.j&&(wn=at.j-Gn,Gn=at.j,e(!(1&wn)),at.O+=ft.R*wn,at.N+=ft.B*(wn>>1),at.W+=ft.B*(wn>>1),at.F!=null&&(at.J+=at.width*wn)),Gn<Zn&&(at.O+=at.v,at.N+=at.v>>1,at.W+=at.v>>1,at.F!=null&&(at.J+=at.v),at.ka=Gn-at.j,at.U=at.va-at.v,at.T=Zn-Gn,Lr=at.put(at))}fn+1!=ft.Ic||hs||(s(ft.sa,ft.ta-Yt,js,na+16*ft.R,Yt),s(ft.qa,ft.ra-Jn,vr,pn+8*ft.B,Jn),s(ft.Ha,ft.Ia-Jn,us,ya+8*ft.B,Jn))}if(!Lr)return jn(An,6,"Output aborted.")}return 1})(oe,ve)),ve.bc!=null&&ve.bc(ve),Ee&=1}return Ee?(oe.cb=0,Ee):0})(x,F)||(N=x.a)}}else N=x.a}N==0&&Y.Oa!=null&&Y.Oa.fd&&(N=Nu(Y.ba))}Y=N}K=Y!=0?null:11>K?Z.f.RGBA.eb:Z.f.kb.y}else K=null;return K};var Uh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(I,U){for(var k="",P=0;P<4;P++)k+=String.fromCharCode(I[U++]);return k}function g(I,U){return I[U+0]|I[U+1]<<8}function p(I,U){return(I[U+0]|I[U+1]<<8|I[U+2]<<16)>>>0}function v(I,U){return(I[U+0]|I[U+1]<<8|I[U+2]<<16|I[U+3]<<24)>>>0}new h;var b=[0],A=[0],S=[],j=new h,E=n,L=(function(I,U){var k={},P=0,z=!1,le=0,Ne=0;if(k.frames=[],!(function(q,J){for(var ae=0;ae<4;ae++)if(q[J+ae]!="RIFF".charCodeAt(ae))return!0;return!1})(I,U)){for(v(I,U+=4),U+=8;U<I.length;){var ie=f(I,U),ge=v(I,U+=4);U+=4;var ue=ge+(1&ge);switch(ie){case"VP8 ":case"VP8L":k.frames[P]===void 0&&(k.frames[P]={}),(se=k.frames[P]).src_off=z?Ne:U-8,se.src_size=le+ge+8,P++,z&&(z=!1,le=0,Ne=0);break;case"VP8X":(se=k.header={}).feature_flags=I[U];var je=U+4;se.canvas_width=1+p(I,je),je+=3,se.canvas_height=1+p(I,je),je+=3;break;case"ALPH":z=!0,le=ue+8,Ne=U-8;break;case"ANIM":(se=k.header).bgcolor=v(I,U),je=U+4,se.loop_count=g(I,je),je+=2;break;case"ANMF":var Be,se;(se=k.frames[P]={}).offset_x=2*p(I,U),U+=3,se.offset_y=2*p(I,U),U+=3,se.width=1+p(I,U),U+=3,se.height=1+p(I,U),U+=3,se.duration=p(I,U),U+=3,Be=I[U++],se.dispose=1&Be,se.blend=Be>>1&1}ie!="ANMF"&&(U+=ue)}return k}})(E,0);L.response=E,L.rgbaoutput=!0,L.dataurl=!1;var O=L.header?L.header:null,D=L.frames?L.frames:null;if(O){O.loop_counter=O.loop_count,b=[O.canvas_height],A=[O.canvas_width];for(var ee=0;ee<D.length&&D[ee].blend!=0;ee++);}var te=D[0],H=j.WebPDecodeRGBA(E,te.src_off,te.src_size,A,b);te.rgba=H,te.imgwidth=A[0],te.imgheight=b[0];for(var M=0;M<A[0]*b[0]*4;M++)S[M]=H[M];return this.width=A,this.height=b,this.data=S,this}(function(n){var e,t,s,a,o,c,d,h,f,g=function(q){return q=q||{},this.isStrokeTransparent=q.isStrokeTransparent||!1,this.strokeOpacity=q.strokeOpacity||1,this.strokeStyle=q.strokeStyle||"#000000",this.fillStyle=q.fillStyle||"#000000",this.isFillTransparent=q.isFillTransparent||!1,this.fillOpacity=q.fillOpacity||1,this.font=q.font||"10px sans-serif",this.textBaseline=q.textBaseline||"alphabetic",this.textAlign=q.textAlign||"left",this.lineWidth=q.lineWidth||1,this.lineJoin=q.lineJoin||"miter",this.lineCap=q.lineCap||"butt",this.path=q.path||[],this.transform=q.transform!==void 0?q.transform.clone():new h,this.globalCompositeOperation=q.globalCompositeOperation||"normal",this.globalAlpha=q.globalAlpha||1,this.clip_path=q.clip_path||[],this.currentPoint=q.currentPoint||new c,this.miterLimit=q.miterLimit||10,this.lastPoint=q.lastPoint||new c,this.lineDashOffset=q.lineDashOffset||0,this.lineDash=q.lineDash||[],this.margin=q.margin||[0,0,0,0],this.prevPageLastElemOffset=q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof q.ignoreClearRect!="boolean"||q.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,t=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,d=this.internal.Rectangle,h=this.internal.Matrix,f=new g}]);var p=function(q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=q;Object.defineProperty(this,"pdf",{get:function(){return J}});var ae=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ae},set:function(X){ae=!!X}});var he=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return he},set:function(X){he=!!X}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(X){isNaN(X)||(fe=X)}});var be=0;Object.defineProperty(this,"posY",{get:function(){return be},set:function(X){isNaN(X)||(be=X)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(X){var Ye;typeof X=="number"?Ye=[X,X,X,X]:((Ye=new Array(4))[0]=X[0],Ye[1]=X.length>=2?X[1]:Ye[0],Ye[2]=X.length>=3?X[2]:Ye[0],Ye[3]=X.length>=4?X[3]:Ye[1]),f.margin=Ye}});var Pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Pe},set:function(X){Pe=X}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(X){ke=X}});var qe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return qe},set:function(X){qe=X}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(X){X instanceof g&&(f=X)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(X){f.path=X}});var Ze=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ze},set:function(X){Ze=X}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(X){var Ye;Ye=v(X),this.ctx.fillStyle=Ye.style,this.ctx.isFillTransparent=Ye.a===0,this.ctx.fillOpacity=Ye.a,this.pdf.setFillColor(Ye.r,Ye.g,Ye.b,{a:Ye.a}),this.pdf.setTextColor(Ye.r,Ye.g,Ye.b,{a:Ye.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(X){var Ye=v(X);this.ctx.strokeStyle=Ye.style,this.ctx.isStrokeTransparent=Ye.a===0,this.ctx.strokeOpacity=Ye.a,Ye.a===0?this.pdf.setDrawColor(255,255,255):(Ye.a,this.pdf.setDrawColor(Ye.r,Ye.g,Ye.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(X){["butt","round","square"].indexOf(X)!==-1&&(this.ctx.lineCap=X,this.pdf.setLineCap(X))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(X){isNaN(X)||(this.ctx.lineWidth=X,this.pdf.setLineWidth(X))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(X){["bevel","round","miter"].indexOf(X)!==-1&&(this.ctx.lineJoin=X,this.pdf.setLineJoin(X))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(X){isNaN(X)||(this.ctx.miterLimit=X,this.pdf.setMiterLimit(X))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(X){this.ctx.textBaseline=X}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(X){["right","end","center","left","start"].indexOf(X)!==-1&&(this.ctx.textAlign=X)}});var ot=null,it=null,ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function(X){ot=null,it=null,ze=X}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(X){var Ye;if(this.ctx.font=X,(Ye=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(X))!==null){var Wt=Ye[1];Ye[2];var Ct=Ye[3],$e=Ye[4];Ye[5];var dt=Ye[6],ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec($e)[2];$e=Math.floor(ct==="px"?parseFloat($e)*this.pdf.internal.scaleFactor:ct==="em"?parseFloat($e)*this.pdf.getFontSize():parseFloat($e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize($e);var mt=(function(St){var kr,cn,Ot=[],Kt=St.trim();if(Kt==="")return F1;if(Kt in G6)return[G6[Kt]];for(;Kt!=="";){switch(cn=null,kr=(Kt=$6(Kt)).charAt(0)){case'"':case"'":cn=xH(Kt.substring(1),kr);break;default:cn=yH(Kt)}if(cn===null||(Ot.push(cn[0]),(Kt=$6(cn[1]))!==""&&Kt.charAt(0)!==","))return F1;Kt=Kt.replace(/^,/,"")}return Ot})(dt);if(this.fontFaces){var It=(function(St,kr){var cn=St.getFontList(),Ot=JSON.stringify(cn);if(ot===null||it!==Ot){var Kt=(function(on){var Rt=[];return Object.keys(on).forEach(function(Bn){on[Bn].forEach(function(qt){var Gt=null;switch(qt){case"bold":Gt={family:Bn,weight:"bold"};break;case"italic":Gt={family:Bn,style:"italic"};break;case"bolditalic":Gt={family:Bn,weight:"bold",style:"italic"};break;case"":case"normal":Gt={family:Bn}}Gt!==null&&(Gt.ref={name:Bn,style:qt},Rt.push(Gt))})}),Rt})(cn);ot=(function(on){for(var Rt={},Bn=0;Bn<on.length;++Bn){var qt=O1(on[Bn]),Gt=qt.family,Hn=qt.stretch,kt=qt.style,At=qt.weight;Rt[Gt]=Rt[Gt]||{},Rt[Gt][Hn]=Rt[Gt][Hn]||{},Rt[Gt][Hn][kt]=Rt[Gt][Hn][kt]||{},Rt[Gt][Hn][kt][At]=qt}return Rt})(Kt.concat(kr)),it=Ot}return ot})(this.pdf,this.fontFaces),an=mt.map(function(St){return{family:St,stretch:"normal",weight:Ct,style:Wt}}),hn=(function(St,kr,cn){for(var Ot=(cn=cn||{}).defaultFontFamily||"times",Kt=Object.assign({},pH,cn.genericFontFamilies||{}),on=null,Rt=null,Bn=0;Bn<kr.length;++Bn)if(Kt[(on=O1(kr[Bn])).family]&&(on.family=Kt[on.family]),St.hasOwnProperty(on.family)){Rt=St[on.family];break}if(!(Rt=Rt||St[Ot]))throw new Error("Could not find a font-family for the rule '"+H6(on)+"' and default family '"+Ot+"'.");if(Rt=(function(qt,Gt){if(Gt[qt])return Gt[qt];var Hn=Y2[qt],kt=Hn<=Y2.normal?-1:1,At=q6(Gt,UC,Hn,kt);if(!At)throw new Error("Could not find a matching font-stretch value for "+qt);return At})(on.stretch,Rt),Rt=(function(qt,Gt){if(Gt[qt])return Gt[qt];for(var Hn=FC[qt],kt=0;kt<Hn.length;++kt)if(Gt[Hn[kt]])return Gt[Hn[kt]];throw new Error("Could not find a matching font-style for "+qt)})(on.style,Rt),!(Rt=(function(qt,Gt){if(Gt[qt])return Gt[qt];if(qt===400&&Gt[500])return Gt[500];if(qt===500&&Gt[400])return Gt[400];var Hn=gH[qt],kt=q6(Gt,VC,Hn,qt<400?-1:1);if(!kt)throw new Error("Could not find a matching font-weight for value "+qt);return kt})(on.weight,Rt)))throw new Error("Failed to resolve a font for the rule '"+H6(on)+"'.");return Rt})(It,an);this.pdf.setFont(hn.ref.name,hn.ref.style)}else{var Jt="";(Ct==="bold"||parseInt(Ct,10)>=700||Wt==="bold")&&(Jt="bold"),Wt==="italic"&&(Jt+="italic"),Jt.length===0&&(Jt="normal");for(var xn="",ln={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_t=0;_t<mt.length;_t++){if(this.pdf.internal.getFont(mt[_t],Jt,{noFallback:!0,disableWarning:!0})!==void 0){xn=mt[_t];break}if(Jt==="bolditalic"&&this.pdf.internal.getFont(mt[_t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)xn=mt[_t],Jt="bold";else if(this.pdf.internal.getFont(mt[_t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){xn=mt[_t],Jt="normal";break}}if(xn===""){for(var tn=0;tn<mt.length;tn++)if(ln[mt[tn]]){xn=ln[mt[tn]];break}}xn=xn===""?"Times":xn,this.pdf.setFont(xn,Jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(X){this.ctx.globalCompositeOperation=X}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(X){this.ctx.globalAlpha=X}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(X){this.ctx.lineDashOffset=X,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(X){this.ctx.lineDash=X,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(X){this.ctx.ignoreClearRect=!!X}})};p.prototype.setLineDash=function(q){this.lineDash=q},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){D.call(this,"fill",!1)},p.prototype.stroke=function(){D.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(q,J){if(isNaN(q)||isNaN(J))throw Cr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ae=this.ctx.transform.applyToPoint(new c(q,J));this.path.push({type:"mt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new c(q,J)},p.prototype.closePath=function(){var q=new c(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&ur(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){q=new c(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(q.x,q.y)},p.prototype.lineTo=function(q,J){if(isNaN(q)||isNaN(J))throw Cr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ae=this.ctx.transform.applyToPoint(new c(q,J));this.path.push({type:"lt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new c(ae.x,ae.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},p.prototype.quadraticCurveTo=function(q,J,ae,he){if(isNaN(ae)||isNaN(he)||isNaN(q)||isNaN(J))throw Cr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new c(ae,he)),be=this.ctx.transform.applyToPoint(new c(q,J));this.path.push({type:"qct",x1:be.x,y1:be.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new c(fe.x,fe.y)},p.prototype.bezierCurveTo=function(q,J,ae,he,fe,be){if(isNaN(fe)||isNaN(be)||isNaN(q)||isNaN(J)||isNaN(ae)||isNaN(he))throw Cr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Pe=this.ctx.transform.applyToPoint(new c(fe,be)),ke=this.ctx.transform.applyToPoint(new c(q,J)),qe=this.ctx.transform.applyToPoint(new c(ae,he));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:qe.x,y2:qe.y,x:Pe.x,y:Pe.y}),this.ctx.lastPoint=new c(Pe.x,Pe.y)},p.prototype.arc=function(q,J,ae,he,fe,be){if(isNaN(q)||isNaN(J)||isNaN(ae)||isNaN(he)||isNaN(fe))throw Cr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(be=!!be,!this.ctx.transform.isIdentity){var Pe=this.ctx.transform.applyToPoint(new c(q,J));q=Pe.x,J=Pe.y;var ke=this.ctx.transform.applyToPoint(new c(0,ae)),qe=this.ctx.transform.applyToPoint(new c(0,0));ae=Math.sqrt(Math.pow(ke.x-qe.x,2)+Math.pow(ke.y-qe.y,2))}Math.abs(fe-he)>=2*Math.PI&&(he=0,fe=2*Math.PI),this.path.push({type:"arc",x:q,y:J,radius:ae,startAngle:he,endAngle:fe,counterclockwise:be})},p.prototype.arcTo=function(q,J,ae,he,fe){throw new Error("arcTo not implemented.")},p.prototype.rect=function(q,J,ae,he){if(isNaN(q)||isNaN(J)||isNaN(ae)||isNaN(he))throw Cr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(q,J),this.lineTo(q+ae,J),this.lineTo(q+ae,J+he),this.lineTo(q,J+he),this.lineTo(q,J),this.lineTo(q+ae,J),this.lineTo(q,J)},p.prototype.fillRect=function(q,J,ae,he){if(isNaN(q)||isNaN(J)||isNaN(ae)||isNaN(he))throw Cr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(q,J,ae,he),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},p.prototype.strokeRect=function(q,J,ae,he){if(isNaN(q)||isNaN(J)||isNaN(ae)||isNaN(he))throw Cr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(q,J,ae,he),this.stroke())},p.prototype.clearRect=function(q,J,ae,he){if(isNaN(q)||isNaN(J)||isNaN(ae)||isNaN(he))throw Cr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(q,J,ae,he))},p.prototype.save=function(q){q=typeof q!="boolean"||q;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),q){this.ctx.fontSize=this.pdf.internal.getFontSize();var he=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=he}},p.prototype.restore=function(q){q=typeof q!="boolean"||q;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("Q");this.pdf.setPage(J),q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(q){var J,ae,he,fe;if(q.isCanvasGradient===!0&&(q=q.getColor()),!q)return{r:0,g:0,b:0,a:0,style:q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(q))J=0,ae=0,he=0,fe=0;else{var be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(q);if(be!==null)J=parseInt(be[1]),ae=parseInt(be[2]),he=parseInt(be[3]),fe=1;else if((be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(q))!==null)J=parseInt(be[1]),ae=parseInt(be[2]),he=parseInt(be[3]),fe=parseFloat(be[4]);else{if(fe=1,typeof q=="string"&&q.charAt(0)!=="#"){var Pe=new kC(q);q=Pe.ok?Pe.toHex():"#000000"}q.length===4?(J=q.substring(1,2),J+=J,ae=q.substring(2,3),ae+=ae,he=q.substring(3,4),he+=he):(J=q.substring(1,3),ae=q.substring(3,5),he=q.substring(5,7)),J=parseInt(J,16),ae=parseInt(ae,16),he=parseInt(he,16)}}return{r:J,g:ae,b:he,a:fe,style:q}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(q,J,ae,he){if(isNaN(J)||isNaN(ae)||typeof q!="string")throw Cr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(he=isNaN(he)?void 0:he,!b.call(this)){var fe=ue(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;P.call(this,{text:q,x:J,y:ae,scale:be,angle:fe,align:this.textAlign,maxWidth:he})}},p.prototype.strokeText=function(q,J,ae,he){if(isNaN(J)||isNaN(ae)||typeof q!="string")throw Cr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){he=isNaN(he)?void 0:he;var fe=ue(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;P.call(this,{text:q,x:J,y:ae,scale:be,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:he})}},p.prototype.measureText=function(q){if(typeof q!="string")throw Cr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,ae=this.pdf.internal.scaleFactor,he=J.internal.getFontSize(),fe=J.getStringUnitWidth(q)*he/J.internal.scaleFactor;return new function(be){var Pe=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Pe}}),this}({width:fe*=Math.round(96*ae/72*1e4)/1e4})},p.prototype.scale=function(q,J){if(isNaN(q)||isNaN(J))throw Cr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ae=new h(q,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},p.prototype.rotate=function(q){if(isNaN(q))throw Cr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new h(Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},p.prototype.translate=function(q,J){if(isNaN(q)||isNaN(J))throw Cr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ae=new h(1,0,0,1,q,J);this.ctx.transform=this.ctx.transform.multiply(ae)},p.prototype.transform=function(q,J,ae,he,fe,be){if(isNaN(q)||isNaN(J)||isNaN(ae)||isNaN(he)||isNaN(fe)||isNaN(be))throw Cr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Pe=new h(q,J,ae,he,fe,be);this.ctx.transform=this.ctx.transform.multiply(Pe)},p.prototype.setTransform=function(q,J,ae,he,fe,be){q=isNaN(q)?1:q,J=isNaN(J)?0:J,ae=isNaN(ae)?0:ae,he=isNaN(he)?1:he,fe=isNaN(fe)?0:fe,be=isNaN(be)?0:be,this.ctx.transform=new h(q,J,ae,he,fe,be)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(q,J,ae,he,fe,be,Pe,ke,qe){var Ze=this.pdf.getImageProperties(q),ot=1,it=1,ze=1,X=1;he!==void 0&&ke!==void 0&&(ze=ke/he,X=qe/fe,ot=Ze.width/he*ke/he,it=Ze.height/fe*qe/fe),be===void 0&&(be=J,Pe=ae,J=0,ae=0),he!==void 0&&ke===void 0&&(ke=he,qe=fe),he===void 0&&ke===void 0&&(ke=Ze.width,qe=Ze.height);var Ye=this.ctx.transform.decompose(),Wt=ue(Ye.rotate.shx),Ct=new h,$e=(Ct=(Ct=(Ct=Ct.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new d(be-J*ze,Pe-ae*X,he*ot,fe*it));if(this.autoPaging){for(var dt,ct=j.call(this,$e),mt=[],It=0;It<ct.length;It+=1)mt.indexOf(ct[It])===-1&&mt.push(ct[It]);O(mt);for(var an=mt[0],hn=mt[mt.length-1],Jt=an;Jt<hn+1;Jt++){this.pdf.setPage(Jt);var xn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ln=Jt===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=Jt===1?0:_t+(Jt-2)*tn;if(this.ctx.clip_path.length!==0){var kr=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(dt,this.posX+this.margin[3],-St+ln+this.ctx.prevPageLastElemOffset),ee.call(this,"fill",!0),this.path=kr}var cn=JSON.parse(JSON.stringify($e));cn=L([cn],this.posX+this.margin[3],-St+ln+this.ctx.prevPageLastElemOffset)[0];var Ot=(Jt>an||Jt<hn)&&S.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xn,tn,null).clip().discardPath()),this.pdf.addImage(q,"JPEG",cn.x,cn.y,cn.w,cn.h,null,null,Wt),Ot&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(q,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,Wt)};var j=function(q,J,ae){var he=[];J=J||this.pdf.internal.pageSize.width,ae=ae||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(q.type){default:case"mt":case"lt":he.push(Math.floor((q.y+fe)/ae)+1);break;case"arc":he.push(Math.floor((q.y+fe-q.radius)/ae)+1),he.push(Math.floor((q.y+fe+q.radius)/ae)+1);break;case"qct":var be=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x,q.y);he.push(Math.floor((be.y+fe)/ae)+1),he.push(Math.floor((be.y+be.h+fe)/ae)+1);break;case"bct":var Pe=Be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x2,q.y2,q.x,q.y);he.push(Math.floor((Pe.y+fe)/ae)+1),he.push(Math.floor((Pe.y+Pe.h+fe)/ae)+1);break;case"rect":he.push(Math.floor((q.y+fe)/ae)+1),he.push(Math.floor((q.y+q.h+fe)/ae)+1)}for(var ke=0;ke<he.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<he[ke];)E.call(this);return he},E=function(){var q=this.fillStyle,J=this.strokeStyle,ae=this.font,he=this.lineCap,fe=this.lineWidth,be=this.lineJoin;this.pdf.addPage(),this.fillStyle=q,this.strokeStyle=J,this.font=ae,this.lineCap=he,this.lineWidth=fe,this.lineJoin=be},L=function(q,J,ae){for(var he=0;he<q.length;he++)switch(q[he].type){case"bct":q[he].x2+=J,q[he].y2+=ae;case"qct":q[he].x1+=J,q[he].y1+=ae;default:q[he].x+=J,q[he].y+=ae}return q},O=function(q){return q.sort(function(J,ae){return J-ae})},D=function(q,J){var ae=this.fillStyle,he=this.strokeStyle,fe=this.lineCap,be=this.lineWidth,Pe=Math.abs(be*this.ctx.transform.scaleX),ke=this.lineJoin;if(this.autoPaging){for(var qe,Ze,ot=JSON.parse(JSON.stringify(this.path)),it=JSON.parse(JSON.stringify(this.path)),ze=[],X=0;X<it.length;X++)if(it[X].x!==void 0)for(var Ye=j.call(this,it[X]),Wt=0;Wt<Ye.length;Wt+=1)ze.indexOf(Ye[Wt])===-1&&ze.push(Ye[Wt]);for(var Ct=0;Ct<ze.length;Ct++)for(;this.pdf.internal.getNumberOfPages()<ze[Ct];)E.call(this);O(ze);for(var $e=ze[0],dt=ze[ze.length-1],ct=$e;ct<dt+1;ct++){this.pdf.setPage(ct),this.fillStyle=ae,this.strokeStyle=he,this.lineCap=fe,this.lineWidth=Pe,this.lineJoin=ke;var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=ct===1?this.posY+this.margin[0]:this.margin[0],an=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],hn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=ct===1?0:an+(ct-2)*hn;if(this.ctx.clip_path.length!==0){var xn=this.path;qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(qe,this.posX+this.margin[3],-Jt+It+this.ctx.prevPageLastElemOffset),ee.call(this,q,!0),this.path=xn}if(Ze=JSON.parse(JSON.stringify(ot)),this.path=L(Ze,this.posX+this.margin[3],-Jt+It+this.ctx.prevPageLastElemOffset),J===!1||ct===0){var ln=(ct>$e||ct<dt)&&S.call(this);ln&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,hn,null).clip().discardPath()),ee.call(this,q,J),ln&&this.pdf.restoreGraphicsState()}this.lineWidth=be}this.path=ot}else this.lineWidth=Pe,ee.call(this,q,J),this.lineWidth=be},ee=function(q,J){if((q!=="stroke"||J||!A.call(this))&&(q==="stroke"||J||!b.call(this))){for(var ae,he,fe=[],be=this.path,Pe=0;Pe<be.length;Pe++){var ke=be[Pe];switch(ke.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:ke,deltas:[],abs:[]});break;case"lt":var qe=fe.length;if(be[Pe-1]&&!isNaN(be[Pe-1].x)&&(ae=[ke.x-be[Pe-1].x,ke.y-be[Pe-1].y],qe>0)){for(;qe>=0;qe--)if(fe[qe-1].close!==!0&&fe[qe-1].begin!==!0){fe[qe-1].deltas.push(ae),fe[qe-1].abs.push(ke);break}}break;case"bct":ae=[ke.x1-be[Pe-1].x,ke.y1-be[Pe-1].y,ke.x2-be[Pe-1].x,ke.y2-be[Pe-1].y,ke.x-be[Pe-1].x,ke.y-be[Pe-1].y],fe[fe.length-1].deltas.push(ae);break;case"qct":var Ze=be[Pe-1].x+2/3*(ke.x1-be[Pe-1].x),ot=be[Pe-1].y+2/3*(ke.y1-be[Pe-1].y),it=ke.x+2/3*(ke.x1-ke.x),ze=ke.y+2/3*(ke.y1-ke.y),X=ke.x,Ye=ke.y;ae=[Ze-be[Pe-1].x,ot-be[Pe-1].y,it-be[Pe-1].x,ze-be[Pe-1].y,X-be[Pe-1].x,Ye-be[Pe-1].y],fe[fe.length-1].deltas.push(ae);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(ke)}}he=J?null:q==="stroke"?"stroke":"fill";for(var Wt=!1,Ct=0;Ct<fe.length;Ct++)if(fe[Ct].arc)for(var $e=fe[Ct].abs,dt=0;dt<$e.length;dt++){var ct=$e[dt];ct.type==="arc"?M.call(this,ct.x,ct.y,ct.radius,ct.startAngle,ct.endAngle,ct.counterclockwise,void 0,J,!Wt):z.call(this,ct.x,ct.y),Wt=!0}else if(fe[Ct].close===!0)this.pdf.internal.out("h"),Wt=!1;else if(fe[Ct].begin!==!0){var mt=fe[Ct].start.x,It=fe[Ct].start.y;le.call(this,fe[Ct].deltas,mt,It),Wt=!0}he&&I.call(this,he),J&&U.call(this)}},te=function(q){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ae=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return q-ae;case"top":return q+J-ae;case"hanging":return q+J-2*ae;case"middle":return q+J/2-ae;default:return q}},H=function(q){return q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var q=function(){};return q.colorStops=[],q.addColorStop=function(J,ae){this.colorStops.push([J,ae])},q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},q.isCanvasGradient=!0,q},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(q,J,ae,he,fe,be,Pe,ke,qe){for(var Ze=ie.call(this,ae,he,fe,be),ot=0;ot<Ze.length;ot++){var it=Ze[ot];ot===0&&(qe?k.call(this,it.x1+q,it.y1+J):z.call(this,it.x1+q,it.y1+J)),Ne.call(this,q,J,it.x2,it.y2,it.x3,it.y3,it.x4,it.y4)}ke?U.call(this):I.call(this,Pe)},I=function(q){switch(q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(q,J){this.pdf.internal.out(t(q)+" "+s(J)+" m")},P=function(q){var J;switch(q.align){case"right":case"end":J="right";break;case"center":J="center";break;default:J="left"}var ae,he,fe,be=this.pdf.getTextDimensions(q.text),Pe=te.call(this,q.y),ke=H.call(this,Pe)-be.h,qe=this.ctx.transform.applyToPoint(new c(q.x,Pe));if(this.autoPaging){var Ze=this.ctx.transform.decompose(),ot=new h;ot=(ot=(ot=ot.multiply(Ze.translate)).multiply(Ze.skew)).multiply(Ze.scale);for(var it=this.ctx.transform.applyToRectangle(new d(q.x,Pe,be.w,be.h)),ze=ot.applyToRectangle(new d(q.x,ke,be.w,be.h)),X=j.call(this,ze),Ye=[],Wt=0;Wt<X.length;Wt+=1)Ye.indexOf(X[Wt])===-1&&Ye.push(X[Wt]);O(Ye);for(var Ct=Ye[0],$e=Ye[Ye.length-1],dt=Ct;dt<$e+1;dt++){this.pdf.setPage(dt);var ct=dt===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[2],an=It-this.margin[0],hn=this.pdf.internal.pageSize.width-this.margin[1],Jt=hn-this.margin[3],xn=dt===1?0:mt+(dt-2)*an;if(this.ctx.clip_path.length!==0){var ln=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(ae,this.posX+this.margin[3],-1*xn+ct),ee.call(this,"fill",!0),this.path=ln}var _t=L([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-xn+ct+this.ctx.prevPageLastElemOffset)[0];q.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*q.scale),fe=this.lineWidth,this.lineWidth=fe*q.scale);var tn=this.autoPaging!=="text";if(tn||_t.y+_t.h<=It){if(tn||_t.y>=ct&&_t.x<=hn){var St=tn?q.text:this.pdf.splitTextToSize(q.text,q.maxWidth||hn-_t.x)[0],kr=L([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-xn+ct+this.ctx.prevPageLastElemOffset)[0],cn=tn&&(dt>Ct||dt<$e)&&S.call(this);cn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,an,null).clip().discardPath()),this.pdf.text(St,kr.x,kr.y,{angle:q.angle,align:J,renderingMode:q.renderingMode}),cn&&this.pdf.restoreGraphicsState()}}else _t.y<It&&(this.ctx.prevPageLastElemOffset+=It-_t.y);q.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=fe)}}else q.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*q.scale),fe=this.lineWidth,this.lineWidth=fe*q.scale),this.pdf.text(q.text,qe.x+this.posX,qe.y+this.posY,{angle:q.angle,align:J,renderingMode:q.renderingMode,maxWidth:q.maxWidth}),q.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=fe)},z=function(q,J,ae,he){ae=ae||0,he=he||0,this.pdf.internal.out(t(q+ae)+" "+s(J+he)+" l")},le=function(q,J,ae){return this.pdf.lines(q,J,ae,null,null)},Ne=function(q,J,ae,he,fe,be,Pe,ke){this.pdf.internal.out([e(a(ae+q)),e(o(he+J)),e(a(fe+q)),e(o(be+J)),e(a(Pe+q)),e(o(ke+J)),"c"].join(" "))},ie=function(q,J,ae,he){for(var fe=2*Math.PI,be=Math.PI/2;J>ae;)J-=fe;var Pe=Math.abs(ae-J);Pe<fe&&he&&(Pe=fe-Pe);for(var ke=[],qe=he?-1:1,Ze=J;Pe>1e-5;){var ot=Ze+qe*Math.min(Pe,be);ke.push(ge.call(this,q,Ze,ot)),Pe-=Math.abs(ot-Ze),Ze=ot}return ke},ge=function(q,J,ae){var he=(ae-J)/2,fe=q*Math.cos(he),be=q*Math.sin(he),Pe=fe,ke=-be,qe=Pe*Pe+ke*ke,Ze=qe+Pe*fe+ke*be,ot=4/3*(Math.sqrt(2*qe*Ze)-Ze)/(Pe*be-ke*fe),it=Pe-ot*ke,ze=ke+ot*Pe,X=it,Ye=-ze,Wt=he+J,Ct=Math.cos(Wt),$e=Math.sin(Wt);return{x1:q*Math.cos(J),y1:q*Math.sin(J),x2:it*Ct-ze*$e,y2:it*$e+ze*Ct,x3:X*Ct-Ye*$e,y3:X*$e+Ye*Ct,x4:q*Math.cos(ae),y4:q*Math.sin(ae)}},ue=function(q){return 180*q/Math.PI},je=function(q,J,ae,he,fe,be){var Pe=q+.5*(ae-q),ke=J+.5*(he-J),qe=fe+.5*(ae-fe),Ze=be+.5*(he-be),ot=Math.min(q,fe,Pe,qe),it=Math.max(q,fe,Pe,qe),ze=Math.min(J,be,ke,Ze),X=Math.max(J,be,ke,Ze);return new d(ot,ze,it-ot,X-ze)},Be=function(q,J,ae,he,fe,be,Pe,ke){var qe,Ze,ot,it,ze,X,Ye,Wt,Ct,$e,dt,ct,mt,It,an=ae-q,hn=he-J,Jt=fe-ae,xn=be-he,ln=Pe-fe,_t=ke-be;for(Ze=0;Ze<41;Ze++)Ct=(Ye=(ot=q+(qe=Ze/40)*an)+qe*((ze=ae+qe*Jt)-ot))+qe*(ze+qe*(fe+qe*ln-ze)-Ye),$e=(Wt=(it=J+qe*hn)+qe*((X=he+qe*xn)-it))+qe*(X+qe*(be+qe*_t-X)-Wt),Ze==0?(dt=Ct,ct=$e,mt=Ct,It=$e):(dt=Math.min(dt,Ct),ct=Math.min(ct,$e),mt=Math.max(mt,Ct),It=Math.max(It,$e));return new d(Math.round(dt),Math.round(ct),Math.round(mt-dt),Math.round(It-ct))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var q,J,ae=(q=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:q,lineDashOffset:J}));this.prevLineDash!==ae&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ae)}}})(Dt.API),(function(n){var e=function(c){var d,h,f,g,p,v,b,A,S,j;for(h=[],f=0,g=(c+=d="\0\0\0\0".slice(c.length%4||4)).length;g>f;f+=4)(p=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(v=(p=((p=((p=((p=(p-(j=p%85))/85)-(S=p%85))/85)-(A=p%85))/85)-(b=p%85))/85)%85,h.push(v+33,b+33,A+33,S+33,j+33)):h.push(122);return(function(E,L){for(var O=L;O>0;O--)E.pop()})(h,d.length),String.fromCharCode.apply(String,h)+"~>"},t=function(c){var d,h,f,g,p,v=String,b="length",A=255,S="charCodeAt",j="slice",E="replace";for(c[j](-2),c=c[j](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),f=[],g=0,p=(c+=d="uuuuu"[j](c[b]%5||5))[b];p>g;g+=5)h=52200625*(c[S](g)-33)+614125*(c[S](g+1)-33)+7225*(c[S](g+2)-33)+85*(c[S](g+3)-33)+(c[S](g+4)-33),f.push(A&h>>24,A&h>>16,A&h>>8,A&h);return(function(L,O){for(var D=O;D>0;D--)L.pop()})(f,d[b]),v.fromCharCode.apply(v,f)},s=function(c){return c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),d.test(c)===!1)return"";for(var h="",f=0;f<c.length;f+=2)h+=String.fromCharCode("0x"+(c[f]+c[f+1]));return h},o=function(c){for(var d=new Uint8Array(c.length),h=c.length;h--;)d[h]=c.charCodeAt(h);return(d=B2(d)).reduce(function(f,g){return f+String.fromCharCode(g)},"")};n.processDataByFilters=function(c,d){var h=0,f=c||"",g=[];for(typeof(d=d||[])=="string"&&(d=[d]),h=0;h<d.length;h+=1)switch(d[h]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=s(f),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[h]+'" is not implemented')}return{data:f,reverseChain:g.reverse().join(" ")}}})(Dt.API),(function(n){n.loadFile=function(e,t,s){return(function(a,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var d=void 0;try{d=(function(h,f,g){var p=new XMLHttpRequest,v=0,b=function(A){var S=A.length,j=[],E=String.fromCharCode;for(v=0;v<S;v+=1)j.push(E(255&A.charCodeAt(v)));return j.join("")};if(p.open("GET",h,!f),p.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(p.onload=function(){p.status===200?g(b(this.responseText)):g(void 0)}),p.send(null),f&&p.status===200)return b(p.responseText)})(a,o,c)}catch{}return d})(e,t,s)},n.loadImageFile=n.loadFile})(Dt.API),(function(n){function e(){return(rn.html2canvas?Promise.resolve(rn.html2canvas):b1(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function t(){return(rn.DOMPurify?Promise.resolve(rn.DOMPurify):b1(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var s=function(d){var h=ur(d);return h==="undefined"?"undefined":h==="string"||d instanceof String?"string":h==="number"||d instanceof Number?"number":h==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":h==="object"?"object":"unknown"},a=function(d,h){var f=document.createElement(d);for(var g in h.className&&(f.className=h.className),h.innerHTML&&h.dompurify&&(f.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)f.style[g]=h.style[g];return f},o=function d(h,f){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),p=h.firstChild;p;p=p.nextSibling)f!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||g.appendChild(d(p,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g},c=function d(h){var f=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),g=d.convert(Promise.resolve(),f);return(g=g.setProgress(1,d,1,[d])).set(h)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(d,h){return d.__proto__=h||c.prototype,d},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(d,h){return this.then(function(){switch(h=h||(function(f){switch(s(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(d),h){case"string":return this.then(t).then(function(f){return this.set({src:a("div",{innerHTML:d,dompurify:f})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},c.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(h){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,h(this.prop.container,f)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(h){var f=this.opt.jsPDF,g=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=g,g)for(var b=0;b<g.length;++b){var A=g[b],S=A.src.find(function(j){return j.format==="truetype"});S&&f.addFont(S.url,A.ref.name,A.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,f.context2d.save(!0),h(this.prop.container,v)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(d,h,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(d,h):this.outputPdf(d,h)},c.prototype.outputPdf=function(d,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,h)})},c.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},c.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(d){if(s(d)!=="object")return this;var h=Object.keys(d||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=d[f]};switch(f){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[f]=d[f]}}},this);return this.then(function(){return this.thenList(h)})},c.prototype.get=function(d,h){return this.then(function(){var f=d in c.template.prop?this.prop[d]:this.opt[d];return h?h(f):f})},c.prototype.setMargin=function(d){return this.then(function(){switch(s(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},c.prototype.setPageSize=function(d){function h(f,g){return Math.floor(f*g/72*96)}return this.then(function(){(d=d||Dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:h(d.inner.width,d.k),height:h(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},c.prototype.setProgress=function(d,h,f,g){return d!=null&&(this.progress.val=d),h!=null&&(this.progress.state=h),f!=null&&(this.progress.n=f),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(d,h,f,g){return this.setProgress(d?this.progress.val+d:null,h||null,f?this.progress.n+f:null,g?this.progress.stack.concat(g):null)},c.prototype.then=function(d,h){var f=this;return this.thenCore(d,h,function(g,p){return f.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(v){return f.updateProgress(null,g),v}).then(g,p).then(function(v){return f.updateProgress(1),v})})},c.prototype.thenCore=function(d,h,f){f=f||Promise.prototype.then;var g=this;d&&(d=d.bind(g)),h&&(h=h.bind(g));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:c.convert(Object.assign({},g),Promise.prototype),v=f.call(p,d,h);return c.convert(v,g.__proto__)},c.prototype.thenExternal=function(d,h){return Promise.prototype.then.call(this,d,h)},c.prototype.thenList=function(d){var h=this;return d.forEach(function(f){h=h.thenCore(f)}),h},c.prototype.catch=function(d){d&&(d=d.bind(this));var h=Promise.prototype.catch.call(this,d);return c.convert(h,this)},c.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},c.prototype.error=function(d){return this.then(function(){throw new Error(d)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Dt.getPageSize=function(d,h,f){if(ur(d)==="object"){var g=d;d=g.orientation,h=g.unit||h,f=g.format||f}h=h||"mm",f=f||"a4",d=(""+(d||"P")).toLowerCase();var p,v=(""+f).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+h}var A,S=0,j=0;if(b.hasOwnProperty(v))S=b[v][1]/p,j=b[v][0]/p;else try{S=f[1],j=f[0]}catch{throw new Error("Invalid format: "+f)}if(d==="p"||d==="portrait")d="p",j>S&&(A=j,j=S,S=A);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",S>j&&(A=j,j=S,S=A)}return{width:j,height:S,unit:h,k:p,orientation:d}},n.html=function(d,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(O1):null;var f=new c(h);return h.worker?f:f.from(d).doCallback()}})(Dt.API),Dt.API.addJS=function(n){return K6=n,this.internal.events.subscribe("postPutResources",function(){M0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(M0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),W6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+K6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){M0!==void 0&&W6!==void 0&&this.internal.out("/Names <</JavaScript "+M0+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var c=a[o],d=s.exec(c);if(d!=null){var h=d[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,g=[];for(o=0;o<f;o++){var p=t.internal.newObject();g.push(p);var v=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<g.length;o++)t.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(s,a,o){var c={title:a,options:o,children:[]};return s==null&&(s=this.root),s.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(s){s.id=t.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},t.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},t.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var c=s.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var d=this.count=this.count_r({count:0},c);if(d>0&&this.line("/Count "+d),c.options&&c.options.pageNumber){var h=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<s.children.length;f++)this.renderItems(s.children[f])},t.outline.line=function(s){this.ctx.val+=s+`\r
`},t.outline.makeRef=function(s){return s.id+" 0 R"},t.outline.makeString=function(s){return"("+t.internal.pdfEscape(s)+")"},t.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(s,a){for(var o=0;o<a.children.length;o++)s.count++,this.count_r(s,a.children[o]);return s.count}}])})(Dt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,s,a,o,c,d){var h,f=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,h=(function(p){for(var v,b=256*p.charCodeAt(4)+p.charCodeAt(5),A=p.length,S={width:0,height:0,numcomponents:1},j=4;j<A;j+=2){if(j+=b,e.indexOf(p.charCodeAt(j+1))!==-1){v=256*p.charCodeAt(j+5)+p.charCodeAt(j+6),S={width:256*p.charCodeAt(j+7)+p.charCodeAt(j+8),height:v,numcomponents:p.charCodeAt(j+9)};break}b=256*p.charCodeAt(j+2)+p.charCodeAt(j+3)}return S})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),h.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}g={data:t,width:h.width,height:h.height,colorSpace:d,bitsPerComponent:8,filter:f,index:s,alias:a}}return g}})(Dt.API),Dt.API.processPNG=function(n,e,t,s){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=tH(n,{checkCrc:!0}),c=o.width,d=o.height,h=o.channels,f=o.palette,g=o.depth;a=f&&h===1?(function(M){for(var I=M.width,U=M.height,k=M.data,P=M.palette,z=M.depth,le=!1,Ne=[],ie=[],ge=void 0,ue=!1,je=0,Be=0;Be<P.length;Be++){var se=J4(P[Be],4),q=se[0],J=se[1],ae=se[2],he=se[3];Ne.push(q,J,ae),he!=null&&(he===0?(je++,ie.length<1&&ie.push(Be)):he<255&&(ue=!0))}if(ue||je>1){le=!0,ie=void 0;var fe=I*U;ge=new Uint8Array(fe);for(var be=new DataView(k.buffer),Pe=0;Pe<fe;Pe++){var ke=U1(be,Pe,z),qe=J4(P[ke],4)[3];ge[Pe]=qe}}else je===0&&(ie=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:le?8:void 0,colorBytes:k,alphaBytes:ge,needSMask:le,palette:Ne,mask:ie}})(o):h===2||h===4?(function(M){for(var I=M.data,U=M.width,k=M.height,P=M.channels,z=M.depth,le=P===2?"DeviceGray":"DeviceRGB",Ne=P-1,ie=U*k,ge=Ne,ue=ie*ge,je=1*ie,Be=Math.ceil(ue*z/8),se=Math.ceil(je*z/8),q=new Uint8Array(Be),J=new Uint8Array(se),ae=new DataView(I.buffer),he=new DataView(q.buffer),fe=new DataView(J.buffer),be=!1,Pe=0;Pe<ie;Pe++){for(var ke=Pe*P,qe=0;qe<ge;qe++)r3(he,U1(ae,ke+qe,z),Pe*ge+qe,z);var Ze=U1(ae,ke+ge,z);Ze<(1<<z)-1&&(be=!0),r3(fe,Ze,1*Pe,z)}return{colorSpace:le,colorsPerPixel:Ne,sMaskBitsPerComponent:be?z:void 0,colorBytes:q,alphaBytes:J,needSMask:be}})(o):(function(M){var I=M.data,U=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:U,colorsPerPixel:U==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?(function(k){for(var P=k.length,z=new Uint8Array(2*P),le=new DataView(z.buffer,z.byteOffset,z.byteLength),Ne=0;Ne<P;Ne++)le.setUint16(2*Ne,k[Ne],!1);return z})(I):I,needSMask:!1}})(o);var p,v,b,A=a,S=A.colorSpace,j=A.colorsPerPixel,E=A.sMaskBitsPerComponent,L=A.colorBytes,O=A.alphaBytes,D=A.needSMask,ee=A.palette,te=A.mask,H=null;return s!==Dt.API.image_compression.NONE&&typeof B2=="function"?(H=(function(M){var I;switch(M){case Dt.API.image_compression.FAST:I=11;break;case Dt.API.image_compression.MEDIUM:I=13;break;case Dt.API.image_compression.SLOW:I=14;break;default:I=12}return I})(s),p=this.decode.FLATE_DECODE,v="/Predictor ".concat(H," /Colors ").concat(j," /BitsPerComponent ").concat(g," /Columns ").concat(c),n=J6(L,Math.ceil(c*j*g/8),j,g,s),D&&(b=J6(O,Math.ceil(c*E/8),1,E,s))):(p=void 0,v=void 0,n=L,D&&(b=O)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:t,data:n,index:e,filter:p,decodeParameters:v,transparency:te,palette:ee,sMask:b,predictor:H,width:c,height:d,bitsPerComponent:g,sMaskBitsPerComponent:E,colorSpace:S}}},(function(n){n.processGIF89A=function(e,t,s,a){var o=new NH(e),c=o.width,d=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:c,height:d},g=new V1(100).encode(f,100);return n.processJPEG.call(this,g,t,s,a)},n.processGIF87A=n.processGIF89A})(Dt.API),gl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:s,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gl.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Cr.log("bit decode error:"+t)}},gl.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+8*a*4,d=0;d<8&&8*a+d<this.width;d++){var h=this.palette[o>>7-d&1];this.data[c+4*d]=h.blue,this.data[c+4*d+1]=h.green,this.data[c+4*d+2]=h.red,this.data[c+4*d+3]=255}t!==0&&(this.pos+=4-t)}},gl.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+2*a*4,d=o>>4,h=15&o,f=this.palette[d];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*a+1>=this.width)break;f=this.palette[h],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},gl.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;if(a<this.palette.length){var c=this.palette[a];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},gl.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,d=(o>>5&e)/e*255|0,h=(o>>10&e)/e*255|0,f=o>>15?255:0,g=s*this.width*4+4*a;this.data[g]=h,this.data[g+1]=d,this.data[g+2]=c,this.data[g+3]=f}this.pos+=n}},gl.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&e)/e*255|0,h=(c>>5&t)/t*255|0,f=(c>>11)/e*255|0,g=a*this.width*4+4*o;this.data[g]=f,this.data[g+1]=h,this.data[g+2]=d,this.data[g+3]=255}this.pos+=n}},gl.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=255}this.pos+=this.width%4}},gl.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*t;this.data[d]=o,this.data[d+1]=a,this.data[d+2]=s,this.data[d+3]=c}},gl.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,s,a){var o=new gl(e,!1),c=o.width,d=o.height,h={data:o.getData(),width:c,height:d},f=new V1(100).encode(h,100);return n.processJPEG.call(this,f,t,s,a)}})(Dt.API),a3.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,s,a){var o=new a3(e),c=o.width,d=o.height,h={data:o.getData(),width:c,height:d},f=new V1(100).encode(h,100);return n.processJPEG.call(this,f,t,s,a)}})(Dt.API),Dt.API.processRGBA=function(n,e,t){for(var s=n.data,a=s.length,o=new Uint8Array(a/4*3),c=new Uint8Array(a/4),d=0,h=0,f=0;f<a;f+=4){var g=s[f],p=s[f+1],v=s[f+2],b=s[f+3];o[d++]=g,o[d++]=p,o[d++]=v,c[h++]=b}var A=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:A,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Dt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},bf=Dt.API,O0=bf.getCharWidthsArray=function(n,e){var t,s,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:a.metadata.Unicode.widths,h=d.fof?d.fof:1,f=e.kerning?e.kerning:a.metadata.Unicode.kerning,g=f.fof?f.fof:1,p=e.doKerning!==!1,v=0,b=n.length,A=0,S=d[0]||h,j=[];for(t=0;t<b;t++)s=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?j.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+c*(1e3/o)||0)/1e3):(v=p&&ur(f[s])==="object"&&!isNaN(parseInt(f[s][A],10))?f[s][A]/g:0,j.push((d[s]||S)/h+v)),A=s;return j},Y6=bf.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return bf.processArabic&&(n=bf.processArabic(n)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(n,t,a)/t:O0.apply(this,arguments).reduce(function(o,c){return o+c},0)},X6=function(n,e,t,s){for(var a=[],o=0,c=n.length,d=0;o!==c&&d+e[o]<t;)d+=e[o],o++;a.push(n.slice(0,o));var h=o;for(d=0;o!==c;)d+e[o]>s&&(a.push(n.slice(h,o)),d=0,h=o),d+=e[o],o++;return h!==o&&a.push(n.slice(h,o)),a},Q6=function(n,e,t){t||(t={});var s,a,o,c,d,h,f,g=[],p=[g],v=t.textIndent||0,b=0,A=0,S=n.split(" "),j=O0.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?S[0].length+2:t.lineIndent||0){var E=Array(h).join(" "),L=[];S.map(function(D){(D=D.split(/\s*\n/)).length>1?L=L.concat(D.map(function(ee,te){return(te&&ee.length?`
`:"")+ee})):L.push(D[0])}),S=L,h=Y6.apply(this,[E,t])}for(o=0,c=S.length;o<c;o++){var O=0;if(s=S[o],h&&s[0]==`
`&&(s=s.substr(1),O=1),v+b+(A=(a=O0.apply(this,[s,t])).reduce(function(D,ee){return D+ee},0))>e||O){if(A>e){for(d=X6.apply(this,[s,a,e-(v+b),e]),g.push(d.shift()),g=[d.pop()];d.length;)p.push([d.shift()]);A=a.slice(s.length-(g[0]?g[0].length:0)).reduce(function(D,ee){return D+ee},0)}else g=[s];p.push(g),v=A+h,b=j}else g.push(s),v+=b+A,b=j}return f=h?function(D,ee){return(ee?E:"")+D.join(" ")}:function(D){return D.join(" ")},p.map(f)},bf.splitTextToSize=function(n,e,t){var s,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var p=this.internal.getFont(g.fontName,g.fontStyle),v="Unicode";return p.metadata[v]?{widths:p.metadata[v].widths||{0:1},kerning:p.metadata[v].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);s=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var d,h,f=[];for(d=0,h=s.length;d<h;d++)f=f.concat(Q6.apply(this,[s[d],c,o]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",s={},a={},o=0;o<16;o++)s[t[o]]=e[o],a[e[o]]=t[o];var c=function(v){return"0x"+parseInt(v,10).toString(16)},d=n.__fontmetrics__.compress=function(v){var b,A,S,j,E=["{"];for(var L in v){if(b=v[L],isNaN(parseInt(L,10))?A="'"+L+"'":(L=parseInt(L,10),A=(A=c(L).slice(2)).slice(0,-1)+a[A.slice(-1)]),typeof b=="number")b<0?(S=c(b).slice(3),j="-"):(S=c(b).slice(2),j=""),S=j+S.slice(0,-1)+a[S.slice(-1)];else{if(ur(b)!=="object")throw new Error("Don't know what to do with value type "+ur(b)+".");S=d(b)}E.push(A+S)}return E.push("}"),E.join("")},h=n.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,A,S,j,E={},L=1,O=E,D=[],ee="",te="",H=v.length-1,M=1;M<H;M+=1)(j=v[M])=="'"?b?(S=b.join(""),b=void 0):b=[]:b?b.push(j):j=="{"?(D.push([O,S]),O={},S=void 0):j=="}"?((A=D.pop())[0][A[1]]=O,S=void 0,O=A[0]):j=="-"?L=-1:S===void 0?s.hasOwnProperty(j)?(ee+=s[j],S=parseInt(ee,16)*L,L=1,ee=""):ee+=j:s.hasOwnProperty(j)?(te+=s[j],O[S]=parseInt(te,16)*L,L=1,S=void 0,te=""):te+=j;return E},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},p={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(v){var b=v.font,A=p.Unicode[b.postScriptName];A&&(b.metadata.Unicode={},b.metadata.Unicode.widths=A.widths,b.metadata.Unicode.kerning=A.kerning);var S=g.Unicode[b.postScriptName];S&&(b.metadata.Unicode.encoding=S,b.encoding=S.codePages[0])}])})(Dt.API),(function(n){var e=function(t){for(var s=t.length,a=new Uint8Array(s),o=0;o<s;o++)a[o]=t.charCodeAt(o);return a};n.API.events.push(["addFont",function(t){var s=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e(nx(d)),c.metadata=n.API.TTFFont.open(d),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,s)}}])})(Dt),Dt.API.addSvgAsImage=function(n,e,t,s,a,o,c,d){if(isNaN(e)||isNaN(t))throw Cr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Cr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=a;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(rn.canvg?Promise.resolve(rn.canvg):b1(()=>import("./index.es-BSXCJl6Y.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(f,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(g)}).then(function(){p.addImage(h.toDataURL("image/jpeg",1),e,t,s,a,c,d)})},Dt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(e,t);return this},Dt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var s,a,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(c),h=[],f=0,g=0,p=0;function v(A,S){var j,E=!1;for(j=0;j<A.length;j+=1)A[j]===S&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var b=d.length;for(p=0;p<b;p+=1)t[d[p]].value=t[d[p]].defaultValue,t[d[p]].explicitSet=!1}if(ur(n)==="object"){for(a in n)if(o=n[a],v(d,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&v(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(f=0;f<o.length;f+=1)if(s=!0,o[f].length===1&&typeof o[f][0]=="number")h.push(String(o[f]-1));else if(o[f].length>1){for(g=0;g<o[f].length;g+=1)typeof o[f][g]!="number"&&(s=!1);s===!0&&h.push([o[f][0]-1,o[f][1]-1].join(" "))}t[a].value="["+h.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,S=[];for(A in t)t[A].explicitSet===!0&&(t[A].type==="name"?S.push("/"+A+" /"+t[A].value):S.push("/"+A+" "+t[A].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(s)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+c.length+d.length+a.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+o+c+d+h),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Dt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var d,h=c.metadata.Unicode.widths,f=["","0","00","000","0000"],g=[""],p=0,v=o.length;p<v;++p){if(d=c.metadata.characterToGlyph(o.charCodeAt(p)),c.metadata.glyIdsUsed.push(d),c.metadata.toUnicode[d]=o.charCodeAt(p),h.indexOf(d)==-1&&(h.push(d),h.push([parseInt(c.metadata.widthOfGlyph(d),10)])),d=="0")return g.join("");d=d.toString(16),g.push(f[4-d.length],d)}return g.join("")},s=function(o){var c,d,h,f,g,p,v;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],p=0,v=(d=Object.keys(o).sort(function(b,A){return b-A})).length;p<v;p++)c=d[p],h.length>=100&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(f=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),h.push("<"+c+"><"+f+">"));return h.length&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var d=c.font,h=c.out,f=c.newObject,g=c.putStream;if(d.metadata instanceof n.API.TTFFont&&d.encoding==="Identity-H"){for(var p=d.metadata.Unicode.widths,v=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),b="",A=0;A<v.length;A++)b+=String.fromCharCode(v[A]);var S=f();g({data:b,addLength1:!0,objectId:S}),h("endobj");var j=f();g({data:s(d.metadata.toUnicode),addLength1:!0,objectId:j}),h("endobj");var E=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Ef(d.fontName)),h("/FontFile2 "+S+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(d.metadata.bbox)),h("/Flags "+d.metadata.flags),h("/StemV "+d.metadata.stemV),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h(">>"),h("endobj");var L=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+Ef(d.fontName)),h("/FontDescriptor "+E+" 0 R"),h("/W "+n.API.PDFObject.convert(p)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+d.encoding+")"),h(">>"),h(">>"),h("endobj"),d.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+j+" 0 R"),h("/BaseFont /"+Ef(d.fontName)),h("/Encoding /"+d.encoding),h("/DescendantFonts ["+L+" 0 R]"),h(">>"),h("endobj"),d.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var d=c.font,h=c.out,f=c.newObject,g=c.putStream;if(d.metadata instanceof n.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var p=d.metadata.rawData,v="",b=0;b<p.length;b++)v+=String.fromCharCode(p[b]);var A=f();g({data:v,addLength1:!0,objectId:A}),h("endobj");var S=f();g({data:s(d.metadata.toUnicode),addLength1:!0,objectId:S}),h("endobj");var j=f();h("<<"),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h("/StemV "+d.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+A+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(d.metadata.bbox)),h("/FontName /"+Ef(d.fontName)),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h(">>"),h("endobj"),d.objectNumber=f();for(var E=0;E<d.metadata.hmtx.widths.length;E++)d.metadata.hmtx.widths[E]=parseInt(d.metadata.hmtx.widths[E]*(1e3/d.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Ef(d.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),h("endobj"),d.isAlreadyPutted=!0}})(o)}]);var a=function(o){var c,d=o.text||"",h=o.x,f=o.y,g=o.options||{},p=o.mutex||{},v=p.pdfEscape,b=p.activeFontKey,A=p.fonts,S=b,j="",E=0,L="",O=A[S].encoding;if(A[S].encoding!=="Identity-H")return{text:d,x:h,y:f,options:g,mutex:p};for(L=d,S=b,Array.isArray(d)&&(L=d[0]),E=0;E<L.length;E+=1)A[S].metadata.hasOwnProperty("cmap")&&(c=A[S].metadata.cmap.unicode.codeMap[L[E].charCodeAt(0)]),c||L[E].charCodeAt(0)<256&&A[S].metadata.hasOwnProperty("Unicode")?j+=L[E]:j+="";var D="";return parseInt(S.slice(1))<14||O==="WinAnsiEncoding"?D=v(j,S).split("").map(function(ee){return ee.charCodeAt(0).toString(16)}).join(""):O==="Identity-H"&&(D=t(j,A[S])),p.isHex=!0,{text:D,x:h,y:f,options:g,mutex:p}};e.events.push(["postProcessText",function(o){var c=o.text||"",d=[],h={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?d.push([a(Object.assign({},h,{text:c[f][0]})).text,c[f][1],c[f][2]]):d.push(a(Object.assign({},h,{text:c[f]})).text);o.text=d}else o.text=a(Object.assign({},h,{text:c})).text}])})(Dt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,s){return e.call(this),this.internal.vFS[t]=s,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Dt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(s){var a,o,c,d,h,f,g,p=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,O=0;this.__bidiEngine__={};var D=function(k){var P=k.charCodeAt(),z=P>>8,le=S[z];return le!==void 0?p[256*le+(255&P)]:z===252||z===253?"AL":E.test(z)?"L":z===8?"R":"N"},ee=function(k){for(var P,z=0;z<k.length;z++){if((P=D(k.charAt(z)))==="L")return!1;if(P==="R")return!0}return!1},te=function(k,P,z,le){var Ne,ie,ge,ue,je=P[le];switch(je){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"N":case"AN":break;case"EN":L&&(je="AN");break;case"AL":L=!0,je="R";break;case"WS":case"BN":je="N";break;case"CS":le<1||le+1>=P.length||(Ne=z[le-1])!=="EN"&&Ne!=="AN"||(ie=P[le+1])!=="EN"&&ie!=="AN"?je="N":L&&(ie="AN"),je=ie===Ne?ie:"N";break;case"ES":je=(Ne=le>0?z[le-1]:"B")==="EN"&&le+1<P.length&&P[le+1]==="EN"?"EN":"N";break;case"ET":if(le>0&&z[le-1]==="EN"){je="EN";break}if(L){je="N";break}for(ge=le+1,ue=P.length;ge<ue&&P[ge]==="ET";)ge++;je=ge<ue&&P[ge]==="EN"?"EN":"N";break;case"NSM":if(c&&!d){for(ue=P.length,ge=le+1;ge<ue&&P[ge]==="NSM";)ge++;if(ge<ue){var Be=k[le],se=Be>=1425&&Be<=2303||Be===64286;if(Ne=P[ge],se&&(Ne==="R"||Ne==="AL")){je="R";break}}}je=le<1||(Ne=P[le-1])==="B"?"N":z[le-1];break;case"B":L=!1,a=!0,je=O;break;case"S":o=!0,je="N"}return je},H=function(k,P,z){var le=k.split("");return z&&M(le,z,{hiLevel:O}),le.reverse(),P&&P.reverse(),le.join("")},M=function(k,P,z){var le,Ne,ie,ge,ue,je=-1,Be=k.length,se=0,q=[],J=O?b:v,ae=[];for(L=!1,a=!1,o=!1,Ne=0;Ne<Be;Ne++)ae[Ne]=D(k[Ne]);for(ie=0;ie<Be;ie++){if(ue=se,q[ie]=te(k,ae,q,ie),le=240&(se=J[ue][A[q[ie]]]),se&=15,P[ie]=ge=J[se][5],le>0)if(le===16){for(Ne=je;Ne<ie;Ne++)P[Ne]=1;je=-1}else je=-1;if(J[se][6])je===-1&&(je=ie);else if(je>-1){for(Ne=je;Ne<ie;Ne++)P[Ne]=ge;je=-1}ae[ie]==="B"&&(P[ie]=0),z.hiLevel|=ge}o&&(function(he,fe,be){for(var Pe=0;Pe<be;Pe++)if(he[Pe]==="S"){fe[Pe]=O;for(var ke=Pe-1;ke>=0&&he[ke]==="WS";ke--)fe[ke]=O}})(ae,P,Be)},I=function(k,P,z,le,Ne){if(!(Ne.hiLevel<k)){if(k===1&&O===1&&!a)return P.reverse(),void(z&&z.reverse());for(var ie,ge,ue,je,Be=P.length,se=0;se<Be;){if(le[se]>=k){for(ue=se+1;ue<Be&&le[ue]>=k;)ue++;for(je=se,ge=ue-1;je<ge;je++,ge--)ie=P[je],P[je]=P[ge],P[ge]=ie,z&&(ie=z[je],z[je]=z[ge],z[ge]=ie);se=ue}se++}}},U=function(k,P,z){var le=k.split(""),Ne={hiLevel:O};return z||(z=[]),M(le,z,Ne),(function(ie,ge,ue){if(ue.hiLevel!==0&&g)for(var je,Be=0;Be<ie.length;Be++)ge[Be]===1&&(je=j.indexOf(ie[Be]))>=0&&(ie[Be]=j[je+1])})(le,z,Ne),I(2,le,P,z,Ne),I(1,le,P,z,Ne),le.join("")};return this.__bidiEngine__.doBidiReorder=function(k,P,z){if((function(Ne,ie){if(ie)for(var ge=0;ge<Ne.length;ge++)ie[ge]=ge;d===void 0&&(d=ee(Ne)),f===void 0&&(f=ee(Ne))})(k,P),c||!h||f)if(c&&h&&d^f)O=d?1:0,k=H(k,P,z);else if(!c&&h&&f)O=d?1:0,k=U(k,P,z),k=H(k,P);else if(!c||d||h||f){if(c&&!h&&d^f)k=H(k,P),d?(O=0,k=U(k,P,z)):(O=1,k=U(k,P,z),k=H(k,P));else if(c&&d&&!h&&f)O=1,k=U(k,P,z),k=H(k,P);else if(!c&&!h&&d^f){var le=g;d?(O=1,k=U(k,P,z),O=0,g=!1,k=U(k,P,z),g=le):(O=0,k=U(k,P,z),k=H(k,P),O=1,g=!1,k=U(k,P,z),g=le,k=H(k,P))}}else O=0,k=U(k,P,z);else O=d?1:0,k=U(k,P,z);return k},this.__bidiEngine__.setOptions=function(k){k&&(c=k.isInputVisual,h=k.isOutputVisual,d=k.isInputRtl,f=k.isOutputRtl,g=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var o=s.options||{};s.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var d=0;for(c=[],d=0;d<a.length;d+=1)Object.prototype.toString.call(a[d])==="[object Array]"?c.push([t.doBidiReorder(a[d][0]),a[d][1],a[d][2]]):c.push([t.doBidiReorder(a[d])]);s.text=c}else s.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Dt),Dt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new mu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new OH(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new jH(this.contents),this.head=new SH(this),this.name=new IH(this),this.cmap=new BC(this),this.toUnicode={},this.hhea=new EH(this),this.maxp=new kH(this),this.hmtx=new RH(this),this.post=new TH(this),this.os2=new AH(this),this.loca=new MH(this),this.glyf=new PH(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,s,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,d,h,f;for(f=[],c=0,d=(h=this.bbox).length;c<d;c++)e=h[c],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,s){var a,o,c,d;for(c=0,o=0,d=(e=""+e).length;0<=d?o<d:o>d;o=0<=d?++o:--o)a=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var s;return t==null&&(t=!1),s=t?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},n})();var _l,mu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,s;for(s=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)s[t]=String.fromCharCode(this.readByte());return s.join("")},n.prototype.writeString=function(e){var t,s,a;for(a=[],t=0,s=e.length;0<=s?t<s:t>s;t=0<=s?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,s,a,o,c,d,h;return e=this.readByte(),t=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),d=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^o)+65536*(255^c)+256*(255^d)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*s+4294967296*a+16777216*o+65536*c+256*d+h},n.prototype.writeLongLong=function(e){var t,s;return t=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,s;for(t=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)t.push(this.readByte());return t},n.prototype.write=function(e){var t,s,a,o;for(o=[],s=0,a=e.length;s<a;s++)t=e[s],o.push(this.writeByte(t));return o},n})(),jH=(function(){var n;function e(t){var s,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)s={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(t){var s,a,o,c,d,h,f,g,p,v,b,A,S;for(S in b=Object.keys(t).length,h=Math.log(2),p=16*Math.floor(Math.log(b)/h),c=Math.floor(p/h),g=16*b-p,(a=new mu).writeInt(this.scalarType),a.writeShort(b),a.writeShort(p),a.writeShort(c),a.writeShort(g),o=16*b,f=a.pos+o,d=null,A=[],t)for(v=t[S],a.writeString(S),a.writeInt(n(v)),a.writeInt(f),a.writeInt(v.length),A=A.concat(v),S==="head"&&(d=f),f+=v.length;f%4;)A.push(0),f++;return a.write(A),s=2981146554-n(a.data),a.pos=d+8,a.writeUInt32(s),a.data},n=function(t){var s,a,o,c;for(t=qC.call(t);t.length%4;)t.push(0);for(o=new mu(t),a=0,s=0,c=t.length;s<c;s=s+=4)a+=o.readUInt32();return 4294967295&a},e})(),_H={}.hasOwnProperty,hc=function(n,e){for(var t in e)_H.call(e,t)&&(n[t]=e[t]);function s(){this.constructor=n}return s.prototype=e.prototype,n.prototype=new s,n.__super__=e.prototype,n};_l=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var SH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return hc(n,_l),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new mu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),i3=(function(){function n(e,t){var s,a,o,c,d,h,f,g,p,v,b,A,S,j,E,L,O;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(b=e.readUInt16(),v=b/2,e.pos+=6,o=(function(){var D,ee;for(ee=[],h=D=0;0<=v?D<v:D>v;h=0<=v?++D:--D)ee.push(e.readUInt16());return ee})(),e.pos+=2,S=(function(){var D,ee;for(ee=[],h=D=0;0<=v?D<v:D>v;h=0<=v?++D:--D)ee.push(e.readUInt16());return ee})(),f=(function(){var D,ee;for(ee=[],h=D=0;0<=v?D<v:D>v;h=0<=v?++D:--D)ee.push(e.readUInt16());return ee})(),g=(function(){var D,ee;for(ee=[],h=D=0;0<=v?D<v:D>v;h=0<=v?++D:--D)ee.push(e.readUInt16());return ee})(),a=(this.length-e.pos+this.offset)/2,d=(function(){var D,ee;for(ee=[],h=D=0;0<=a?D<a:D>a;h=0<=a?++D:--D)ee.push(e.readUInt16());return ee})(),h=E=0,O=o.length;E<O;h=++E)for(j=o[h],s=L=A=S[h];A<=j?L<=j:L>=j;s=A<=j?++L:--L)g[h]===0?c=s+f[h]:(c=d[g[h]/2+(s-A)-(v-h)]||0)!==0&&(c+=f[h]),this.codeMap[s]=65535&c}e.pos=p}return n.encode=function(e,t){var s,a,o,c,d,h,f,g,p,v,b,A,S,j,E,L,O,D,ee,te,H,M,I,U,k,P,z,le,Ne,ie,ge,ue,je,Be,se,q,J,ae,he,fe,be,Pe,ke,qe,Ze,ot;switch(le=new mu,c=Object.keys(e).sort(function(it,ze){return it-ze}),t){case"macroman":for(S=0,j=(function(){var it=[];for(A=0;A<256;++A)it.push(0);return it})(),L={0:0},o={},Ne=0,je=c.length;Ne<je;Ne++)L[ke=e[a=c[Ne]]]==null&&(L[ke]=++S),o[a]={old:e[a],new:L[e[a]]},j[a]=L[e[a]];return le.writeUInt16(1),le.writeUInt16(0),le.writeUInt32(12),le.writeUInt16(0),le.writeUInt16(262),le.writeUInt16(0),le.write(j),{charMap:o,subtable:le.data,maxGlyphID:S+1};case"unicode":for(P=[],p=[],O=0,L={},s={},E=f=null,ie=0,Be=c.length;ie<Be;ie++)L[ee=e[a=c[ie]]]==null&&(L[ee]=++O),s[a]={old:ee,new:L[ee]},d=L[ee]-a,E!=null&&d===f||(E&&p.push(E),P.push(a),f=d),E=a;for(E&&p.push(E),p.push(65535),P.push(65535),U=2*(I=P.length),M=2*Math.pow(Math.log(I)/Math.LN2,2),v=Math.log(M/2)/Math.LN2,H=2*I-M,h=[],te=[],b=[],A=ge=0,se=P.length;ge<se;A=++ge){if(k=P[A],g=p[A],k===65535){h.push(0),te.push(0);break}if(k-(z=s[k].new)>=32768)for(h.push(0),te.push(2*(b.length+I-A)),a=ue=k;k<=g?ue<=g:ue>=g;a=k<=g?++ue:--ue)b.push(s[a].new);else h.push(z-k),te.push(0)}for(le.writeUInt16(3),le.writeUInt16(1),le.writeUInt32(12),le.writeUInt16(4),le.writeUInt16(16+8*I+2*b.length),le.writeUInt16(0),le.writeUInt16(U),le.writeUInt16(M),le.writeUInt16(v),le.writeUInt16(H),be=0,q=p.length;be<q;be++)a=p[be],le.writeUInt16(a);for(le.writeUInt16(0),Pe=0,J=P.length;Pe<J;Pe++)a=P[Pe],le.writeUInt16(a);for(qe=0,ae=h.length;qe<ae;qe++)d=h[qe],le.writeUInt16(d);for(Ze=0,he=te.length;Ze<he;Ze++)D=te[Ze],le.writeUInt16(D);for(ot=0,fe=b.length;ot<fe;ot++)S=b[ot],le.writeUInt16(S);return{charMap:s,subtable:le.data,maxGlyphID:O+1}}},n})(),BC=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return hc(n,_l),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,s,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)t=new i3(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var s,a;return t==null&&(t="macroman"),s=i3.encode(e,t),(a=new mu).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},n})(),EH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return hc(n,_l),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),AH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return hc(n,_l),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,s;for(s=[],t=0;t<10;++t)s.push(e.readByte());return s})(),this.charRange=(function(){var t,s;for(s=[],t=0;t<4;++t)s.push(e.readInt());return s})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,s;for(s=[],t=0;t<2;t=++t)s.push(e.readInt());return s})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),TH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return hc(n,_l),n.prototype.tag="post",n.prototype.parse=function(e){var t,s,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(s=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 262144:return this.map=(function(){var c,d,h;for(h=[],o=c=0,d=this.file.maxp.numGlyphs;0<=d?c<d:c>d;o=0<=d?++c:--c)h.push(e.readUInt32());return h}).call(this)}},n})(),CH=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},IH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return hc(n,_l),n.prototype.tag="name",n.prototype.parse=function(e){var t,s,a,o,c,d,h,f,g,p,v;for(e.pos=this.offset,e.readShort(),t=e.readShort(),d=e.readShort(),s=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+d+e.readShort()});for(h={},o=g=0,p=s.length;g<p;o=++g)a=s[o],e.pos=a.offset,f=e.readString(a.length),c=new CH(f,a),h[v=a.nameID]==null&&(h[v]=[]),h[a.nameID].push(c);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},n})(),kH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return hc(n,_l),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),RH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return hc(n,_l),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,s,a,o,c,d,h;for(e.pos=this.offset,this.metrics=[],t=0,d=this.file.hhea.numberOfMetrics;0<=d?t<d:t>d;t=0<=d?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,g;for(g=[],t=f=0;0<=a?f<a:f>a;t=0<=a?++f:--f)g.push(e.readInt16());return g})(),this.widths=(function(){var f,g,p,v;for(v=[],f=0,g=(p=this.metrics).length;f<g;f++)o=p[f],v.push(o.advance);return v}).call(this),s=this.widths[this.widths.length-1],h=[],t=c=0;0<=a?c<a:c>a;t=0<=a?++c:--c)h.push(this.widths.push(s));return h},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),qC=[].slice,PH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return hc(n,_l),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,s,a,o,c,d,h,f,g,p;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,s=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+s,c=(d=new mu(t.read(a))).readShort(),f=d.readShort(),p=d.readShort(),h=d.readShort(),g=d.readShort(),this.cache[e]=c===-1?new DH(d,f,p,h,g):new LH(d,c,f,p,h,g),this.cache[e]))},n.prototype.encode=function(e,t,s){var a,o,c,d,h;for(c=[],o=[],d=0,h=t.length;d<h;d++)a=e[t[d]],o.push(c.length),a&&(c=c.concat(a.encode(s)));return o.push(c.length),{table:c,offsets:o}},n})(),LH=(function(){function n(e,t,s,a,o,c){this.raw=e,this.numberOfContours=t,this.xMin=s,this.yMin=a,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),DH=(function(){function n(e,t,s,a,o){var c,d;for(this.raw=e,this.xMin=t,this.yMin=s,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;d=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&d;)c.pos+=1&d?4:2,128&d?c.pos+=8:64&d?c.pos+=4:8&d&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,s;for(t=new mu(qC.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),MH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return hc(n,_l),n.prototype.tag="loca",n.prototype.parse=function(e){var t,s;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var s=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<s.length;++c)if(s[c]=a,o<t.length&&t[o]==c){++o,s[c]=a;var d=this.offsets[c],h=this.offsets[c+1]-d;h>0&&(a+=h)}for(var f=new Array(4*s.length),g=0;g<s.length;++g)f[4*g+3]=255&s[g],f[4*g+2]=(65280&s[g])>>8,f[4*g+1]=(16711680&s[g])>>16,f[4*g]=(4278190080&s[g])>>24;return f},n})(),OH=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,s,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)s=o[t],e[t]=a[s];return e},n.prototype.glyphsFor=function(e){var t,s,a,o,c,d,h;for(a={},c=0,d=e.length;c<d;c++)a[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(s=a[o])!=null&&s.compound&&t.push.apply(t,s.glyphIDs);if(t.length>0)for(o in h=this.glyphsFor(t))s=h[o],a[o]=s;return a},n.prototype.encode=function(e,t){var s,a,o,c,d,h,f,g,p,v,b,A,S,j,E;for(a in s=BC.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),b={0:0},E=s.charMap)b[(h=E[a]).old]=h.new;for(A in v=s.maxGlyphID,c)A in b||(b[A]=v++);return g=(function(L){var O,D;for(O in D={},L)D[L[O]]=O;return D})(b),p=Object.keys(g).sort(function(L,O){return L-O}),S=(function(){var L,O,D;for(D=[],L=0,O=p.length;L<O;L++)d=p[L],D.push(g[d]);return D})(),o=this.font.glyf.encode(c,S,b),f=this.font.loca.encode(o.offsets,S),j={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},n})();Dt.API.PDFObject=(function(){var n;function e(){}return n=function(t,s){return(Array(s+1).join("0")+t).slice(-s)},e.convert=function(t){var s,a,o,c;if(Array.isArray(t))return"["+(function(){var d,h,f;for(f=[],d=0,h=t.length;d<h;d++)s=t[d],f.push(e.convert(s));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)c=t[a],o.push("/"+a+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();function GC(n,e,t,s,a){s=s||{};var o=1.15,c=a.internal.scaleFactor,d=a.internal.getFontSize()/c,h=a.getLineHeightFactor?a.getLineHeightFactor():o,f=d*h,g=/\r\n|\r|\n/g,p="",v=1;if((s.valign==="middle"||s.valign==="bottom"||s.halign==="center"||s.halign==="right")&&(p=typeof n=="string"?n.split(g):n,v=p.length||1),t+=d*(2-o),s.valign==="middle"?t-=v/2*f:s.valign==="bottom"&&(t-=v*f),s.halign==="center"||s.halign==="right"){var b=d;if(s.halign==="center"&&(b*=.5),p&&v>=1){for(var A=0;A<p.length;A++)a.text(p[A],e-a.getStringUnitWidth(p[A])*b,t),t+=f;return a}e-=a.getStringUnitWidth(n)*b}return s.halign==="justify"?a.text(n,e,t,{maxWidth:s.maxWidth||100,align:"justify"}):a.text(n,e,t),a}var o3={},Uf=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:o3=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var s,a,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var c=this.jsPDFDocument.internal.getFont(),d=c.fontStyle,h=c.fontName;if(e.font&&(h=e.font),e.fontStyle){d=e.fontStyle;var f=this.getFontList()[h];f&&f.indexOf(d)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),d=f[0])}if(this.jsPDFDocument.setFont(h,d),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var g=n.unifyColor(e.fillColor);g&&(s=this.jsPDFDocument).setFillColor.apply(s,g),g=n.unifyColor(e.textColor),g&&(a=this.jsPDFDocument).setTextColor.apply(a,g),g=n.unifyColor(e.lineColor),g&&(o=this.jsPDFDocument).setDrawColor.apply(o,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,s){return this.jsPDFDocument.splitTextToSize(e,t,s)},n.prototype.rect=function(e,t,s,a,o){return this.jsPDFDocument.rect(e,t,s,a,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return o3||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),X2=function(n,e){return X2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])},X2(n,e)};function HC(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");X2(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var $C=(function(n){HC(e,n);function e(t){var s=n.call(this)||this;return s._element=t,s}return e})(Array);function FH(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function UH(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Kx(n,e,t){t.applyStyles(e,!0);var s=Array.isArray(n)?n:[n],a=s.map(function(o){return t.getTextWidth(o)}).reduce(function(o,c){return Math.max(o,c)},0);return a}function WC(n,e,t,s){var a=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:a,lineColor:o});var c=KC(a,!1);c&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),s.y-t.y,c)}function KC(n,e){var t=n>0,s=e||e===0;return t&&s?"DF":t?"S":s?"F":null}function Dy(n,e){var t,s,a,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(s=n.top)!==null&&s!==void 0?s:e,right:(a=n.right)!==null&&a!==void 0?a:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function YC(n,e){var t=Dy(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function VH(n,e,t,s,a){var o={},c=1.3333333333333333,d=z1(e,function(O){return a.getComputedStyle(O).backgroundColor});d!=null&&(o.fillColor=d);var h=z1(e,function(O){return a.getComputedStyle(O).color});h!=null&&(o.textColor=h);var f=BH(s,t);f&&(o.cellPadding=f);var g="borderTopColor",p=c*t,v=s.borderTopWidth;if(s.borderBottomWidth===v&&s.borderRightWidth===v&&s.borderLeftWidth===v){var b=(parseFloat(v)||0)/p;b&&(o.lineWidth=b)}else o.lineWidth={top:(parseFloat(s.borderTopWidth)||0)/p,right:(parseFloat(s.borderRightWidth)||0)/p,bottom:(parseFloat(s.borderBottomWidth)||0)/p,left:(parseFloat(s.borderLeftWidth)||0)/p},o.lineWidth.top||(o.lineWidth.right?g="borderRightColor":o.lineWidth.bottom?g="borderBottomColor":o.lineWidth.left&&(g="borderLeftColor"));var A=z1(e,function(O){return a.getComputedStyle(O)[g]});A!=null&&(o.lineColor=A);var S=["left","right","center","justify"];S.indexOf(s.textAlign)!==-1&&(o.halign=s.textAlign),S=["middle","bottom","top"],S.indexOf(s.verticalAlign)!==-1&&(o.valign=s.verticalAlign);var j=parseInt(s.fontSize||"");isNaN(j)||(o.fontSize=j/c);var E=zH(s);E&&(o.fontStyle=E);var L=(s.fontFamily||"").toLowerCase();return n.indexOf(L)!==-1&&(o.font=L),o}function zH(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function z1(n,e){var t=XC(n,e);if(!t)return null;var s=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!s||!Array.isArray(s))return null;var a=[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])],o=parseInt(s[4]);return o===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function XC(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:XC(n.parentElement,e):t}function BH(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],s=96/(72/e),a=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(d){return parseInt(d||"0")/s}),c=Dy(o,0);return a>c.top&&(c.top=a),a>c.bottom&&(c.bottom=a),c}function QC(n,e,t,s,a){var o,c;s===void 0&&(s=!1),a===void 0&&(a=!1);var d;typeof e=="string"?d=t.document.querySelector(e):d=e;var h=Object.keys(n.getFontList()),f=n.scaleFactor(),g=[],p=[],v=[];if(!d)return console.error("Html table could not be found with input: ",e),{head:g,body:p,foot:v};for(var b=0;b<d.rows.length;b++){var A=d.rows[b],S=(c=(o=A?.parentElement)===null||o===void 0?void 0:o.tagName)===null||c===void 0?void 0:c.toLowerCase(),j=qH(h,f,t,A,s,a);j&&(S==="thead"?g.push(j):S==="tfoot"?v.push(j):p.push(j))}return{head:g,body:p,foot:v}}function qH(n,e,t,s,a,o){for(var c=new $C(s),d=0;d<s.cells.length;d++){var h=s.cells[d],f=t.getComputedStyle(h);if(a||f.display!=="none"){var g=void 0;o&&(g=VH(n,h,e,f,t)),c.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:g,_element:h,content:GH(h)})}}var p=t.getComputedStyle(s);if(c.length>0&&(a||p.display!=="none"))return c}function GH(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function HH(n,e,t){for(var s=0,a=[n,e,t];s<a.length;s++){var o=a[s];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Yc(n,e,t,s,a){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),c=1;c<arguments.length;c++){var d=arguments[c];if(d!=null)for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(o[h]=d[h])}return o}function $H(n,e){var t=new Uf(n),s=t.getDocumentOptions(),a=t.getGlobalOptions();HH(a,s,e);var o=Yc({},a,s,e),c;typeof window<"u"&&(c=window);var d=WH(a,s,e),h=KH(a,s,e),f=YH(t,o),g=QH(t,o,c);return{id:e.tableId,content:g,hooks:h,styles:d,settings:f}}function WH(n,e,t){for(var s={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(h){if(h==="columnStyles"){var f=n[h],g=e[h],p=t[h];s.columnStyles=Yc({},f,g,p)}else{var v=[n,e,t],b=v.map(function(A){return A[h]||{}});s[h]=Yc({},b[0],b[1],b[2])}},o=0,c=Object.keys(s);o<c.length;o++){var d=c[o];a(d)}return s}function KH(n,e,t){for(var s=[n,e,t],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,c=s;o<c.length;o++){var d=c[o];d.didParseCell&&a.didParseCell.push(d.didParseCell),d.willDrawCell&&a.willDrawCell.push(d.willDrawCell),d.didDrawCell&&a.didDrawCell.push(d.didDrawCell),d.willDrawPage&&a.willDrawPage.push(d.willDrawPage),d.didDrawPage&&a.didDrawPage.push(d.didDrawPage)}return a}function YH(n,e){var t,s,a,o,c,d,h,f,g,p,v,b,A=Dy(e.margin,40/n.scaleFactor()),S=(t=XH(n,e.startY))!==null&&t!==void 0?t:A.top,j;e.showFoot===!0?j="everyPage":e.showFoot===!1?j="never":j=(s=e.showFoot)!==null&&s!==void 0?s:"everyPage";var E;e.showHead===!0?E="everyPage":e.showHead===!1?E="never":E=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var L=(o=e.useCss)!==null&&o!==void 0?o:!1,O=e.theme||(L?"plain":"striped"),D=!!e.horizontalPageBreak,ee=(c=e.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(d=e.includeHiddenHtml)!==null&&d!==void 0?d:!1,useCss:L,theme:O,startY:S,margin:A,pageBreak:(h=e.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:E,showFoot:j,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(v=e.tableLineColor)!==null&&v!==void 0?v:200,horizontalPageBreak:D,horizontalPageBreakRepeat:ee,horizontalPageBreakBehaviour:(b=e.horizontalPageBreakBehaviour)!==null&&b!==void 0?b:"afterAllRows"}}function XH(n,e){var t=n.getLastAutoTable(),s=n.scaleFactor(),a=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var c=t.startPageNumber+t.pageNumber-1;o=c===a}return typeof e=="number"?e:(e==null||e===!1)&&o&&t?.finalY!=null?t.finalY+20/s:null}function QH(n,e,t){var s=e.head||[],a=e.body||[],o=e.foot||[];if(e.html){var c=e.includeHiddenHtml;if(t){var d=QC(n,e.html,t,c,e.useCss)||{};s=d.head||s,a=d.body||s,o=d.foot||s}else console.error("Cannot parse html in non browser environment")}var h=e.columns||JH(s,a,o);return{columns:h,head:s,body:a,foot:o}}function JH(n,e,t){var s=n[0]||e[0]||t[0]||[],a=[];return Object.keys(s).filter(function(o){return o!=="_element"}).forEach(function(o){var c=1,d;Array.isArray(s)?d=s[parseInt(o)]:d=s[o],typeof d=="object"&&!Array.isArray(d)&&(c=d?.colSpan||1);for(var h=0;h<c;h++){var f=void 0;Array.isArray(s)?f=a.length:f=o+(h>0?"_".concat(h):"");var g={dataKey:f};a.push(g)}}),a}var Q2=(function(){function n(e,t,s){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=s,this.doc=e.getDocument()}return n})(),ZH=(function(n){HC(e,n);function e(t,s,a,o,c,d){var h=n.call(this,t,s,d)||this;return h.cell=a,h.row=o,h.column=c,h.section=o.section,h}return e})(Q2),e$=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,s){return t+s.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,s){return t+s.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,s,a,o,c){for(var d=0,h=t;d<h.length;d++){var f=h[d],g=new ZH(e,this,s,a,o,c),p=f(g)===!1;if(s.text=Array.isArray(s.text)?s.text:[s.text],p)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var s=0,a=this.hooks.didDrawPage;s<a.length;s++){var o=a[s];o(new Q2(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var s=0,a=this.hooks.willDrawPage;s<a.length;s++){var o=a[s];o(new Q2(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(a,o){return a+o.wrappedWidth},0);return t}else{var s=this.settings.margin;return e-s.left-s.right}},n})(),JC=(function(){function n(e,t,s,a,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof $C&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=s,this.cells=a,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(s,a){var o;return Math.max(s,((o=t.cells[a.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(s){var a=t.cells[s.index];return a?a.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var s=this;return e.reduce(function(a,o){var c=s.cells[o.index];if(!c)return 0;var d=t.getLineHeight(c.styles.fontSize),h=c.padding("vertical"),f=h+d;return f>a?f:a},0)},n})(),ZC=(function(){function n(e,t,s){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=s,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var c=o!=null?""+o:"",d=/\r\n|\r|\n/g;this.text=c.split(d)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var s;if(this.styles.halign==="right")s=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");s=this.x+a/2+this.padding("left")}else s=this.x+this.padding("left");return{x:s,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var s=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*t,o=s*a+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=Dy(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),t$=(function(){function n(e,t,s){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=s}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,s=0,a=e.allRows();s<a.length;s++){var o=a[s],c=o.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(t=Math.max(t,c.styles.cellWidth))}return t},n})();function n$(n,e){r$(n,e);var t=[],s=0;e.columns.forEach(function(o){var c=o.getMaxCustomCellWidth(e);c?o.width=c:(o.width=o.wrappedWidth,t.push(o)),s+=o.width});var a=e.getWidth(n.pageSize().width)-s;a&&(a=J2(t,a,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),a&&(a=J2(t,a,function(o){return o.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/n.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),a$(e),i$(e,n),s$(e)}function r$(n,e){var t=n.scaleFactor(),s=e.settings.horizontalPageBreak,a=YC(n,e);e.allRows().forEach(function(o){for(var c=0,d=e.columns;c<d.length;c++){var h=d[c],f=o.cells[h.index];if(f){var g=e.hooks.didParseCell;e.callCellHooks(n,g,f,o,h,null);var p=f.padding("horizontal");f.contentWidth=Kx(f.text,f.styles,n)+p;var v=Kx(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=v+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||s===!0)f.contentWidth>a?(f.minWidth=a,f.wrappedWidth=a):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var b=10/t;f.minWidth=f.styles.minCellWidth||b,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(o){for(var c=0,d=e.columns;c<d.length;c++){var h=d[c],f=o.cells[h.index];if(f&&f.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,f.wrappedWidth),h.minWidth=Math.max(h.minWidth,f.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,f.minReadableWidth);else{var g=e.styles.columnStyles[h.dataKey]||e.styles.columnStyles[h.index]||{},p=g.cellWidth||g.minCellWidth;p&&typeof p=="number"&&(h.minWidth=p,h.wrappedWidth=p)}f&&(f.colSpan>1&&!h.minWidth&&(h.minWidth=f.minWidth),f.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=f.minWidth))}})}function J2(n,e,t){for(var s=e,a=n.reduce(function(b,A){return b+A.wrappedWidth},0),o=0;o<n.length;o++){var c=n[o],d=c.wrappedWidth/a,h=s*d,f=c.width+h,g=t(c),p=f<g?g:f;e-=p-c.width,c.width=p}if(e=Math.round(e*1e10)/1e10,e){var v=n.filter(function(b){return e<0?b.width>t(b):!0});v.length&&(e=J2(v,e,t))}return e}function s$(n){for(var e={},t=1,s=n.allRows(),a=0;a<s.length;a++)for(var o=s[a],c=0,d=n.columns;c<d.length;c++){var h=d[c],f=e[h.index];if(t>1)t--,delete o.cells[h.index];else if(f)f.cell.height+=o.height,t=f.cell.colSpan,delete o.cells[h.index],f.left--,f.left<=1&&delete e[h.index];else{var g=o.cells[h.index];if(!g)continue;if(g.height=o.height,g.rowSpan>1){var p=s.length-a,v=g.rowSpan>p?p:g.rowSpan;e[h.index]={cell:g,left:v,row:o}}}}}function a$(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var s=e[t],a=null,o=0,c=0,d=0;d<n.columns.length;d++){var h=n.columns[d];if(c-=1,c>1&&n.columns[d+1])o+=h.width,delete s.cells[h.index];else if(a){var f=a;delete s.cells[h.index],a=null,f.width=h.width+o}else{var f=s.cells[h.index];if(!f)continue;if(c=f.colSpan,o=0,f.colSpan>1){a=f,o+=h.width;continue}f.width=h.width+o}}}function i$(n,e){for(var t={count:0,height:0},s=0,a=n.allRows();s<a.length;s++){for(var o=a[s],c=0,d=n.columns;c<d.length;c++){var h=d[c],f=o.cells[h.index];if(f){e.applyStyles(f.styles,!0);var g=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,g+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=l3(f.text,g,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=l3(f.text,g,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var p=f.styles.overflow(f.text,g);typeof p=="string"?f.text=[p]:f.text=p}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var v=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<v*f.rowSpan?t={height:v,count:f.rowSpan}:t&&t.count>0&&t.height>v&&(v=t.height),v>o.height&&(o.height=v)}}t.count--}}function l3(n,e,t,s,a){return n.map(function(o){return o$(o,e,t,s,a)})}function o$(n,e,t,s,a){var o=1e4*s.scaleFactor();if(e=Math.ceil(e*o)/o,e>=Kx(n,t,s))return n;for(;e<Kx(n+a,t,s)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+a}function l$(n,e){var t=new Uf(n),s=c$(e,t.scaleFactor()),a=new e$(e,s);return n$(t,a),t.applyStyles(t.userStyles),a}function c$(n,e){var t=n.content,s=u$(t.columns);if(t.head.length===0){var a=c3(s,"head");a&&t.head.push(a)}if(t.foot.length===0){var a=c3(s,"foot");a&&t.foot.push(a)}var o=n.settings.theme,c=n.styles;return{columns:s,head:B1("head",t.head,s,c,o,e),body:B1("body",t.body,s,c,o,e),foot:B1("foot",t.foot,s,c,o,e)}}function B1(n,e,t,s,a,o){var c={},d=e.map(function(h,f){for(var g=0,p={},v=0,b=0,A=0,S=t;A<S.length;A++){var j=S[A];if(c[j.index]==null||c[j.index].left===0)if(b===0){var E=void 0;Array.isArray(h)?E=h[j.index-v-g]:E=h[j.dataKey];var L={};typeof E=="object"&&!Array.isArray(E)&&(L=E?.styles||{});var O=h$(n,j,f,a,s,o,L),D=new ZC(E,O,n);p[j.dataKey]=D,p[j.index]=D,b=D.colSpan-1,c[j.index]={left:D.rowSpan-1,times:b}}else b--,v++;else c[j.index].left--,b=c[j.index].times,g++}return new JC(h,f,n,p)});return d}function c3(n,e){var t={};return n.forEach(function(s){if(s.raw!=null){var a=d$(e,s.raw);a!=null&&(t[s.dataKey]=a)}}),Object.keys(t).length>0?t:null}function d$(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function u$(n){return n.map(function(e,t){var s,a;return typeof e=="object"?a=(s=e.dataKey)!==null&&s!==void 0?s:t:a=t,new t$(a,e,t)})}function h$(n,e,t,s,a,o,c){var d=UH(s),h;n==="head"?h=a.headStyles:n==="body"?h=a.bodyStyles:n==="foot"&&(h=a.footStyles);var f=Yc({},d.table,d[n],a.styles,h),g=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},p=n==="body"?g:{},v=n==="body"&&t%2===0?Yc({},d.alternateRow,a.alternateRowStyles):{},b=FH(o),A=Yc({},b,f,v,p);return Yc(A,c)}function f$(n,e,t){var s;t===void 0&&(t={});var a=YC(n,e),o=new Map,c=[],d=[],h=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?h=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(h=[e.settings.horizontalPageBreakRepeat]),h.forEach(function(v){var b=e.columns.find(function(A){return A.dataKey===v||A.index===v});b&&!o.has(b.index)&&(o.set(b.index,!0),c.push(b.index),d.push(e.columns[b.index]),a-=b.wrappedWidth)});for(var f=!0,g=(s=t?.start)!==null&&s!==void 0?s:0;g<e.columns.length;){if(o.has(g)){g++;continue}var p=e.columns[g].wrappedWidth;if(f||a>=p)f=!1,c.push(g),d.push(e.columns[g]),a-=p;else break;g++}return{colIndexes:c,columns:d,lastIndex:g-1}}function m$(n,e){for(var t=[],s=0;s<e.columns.length;s++){var a=f$(n,e,{start:s});a.columns.length&&(t.push(a),s=a.lastIndex)}return t}function g$(n,e){var t=e.settings,s=t.startY,a=t.margin,o={x:a.left,y:s},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),d=s+a.bottom+c;if(t.pageBreak==="avoid"){var h=e.body,f=h.reduce(function(v,b){return v+b.height},0);d+=f}var g=new Uf(n);(t.pageBreak==="always"||t.startY!=null&&d>g.pageSize().height)&&(tI(g),o.y=a.top),e.callWillDrawPageHooks(g,o);var p=Yc({},o);e.startPageNumber=g.pageNumber(),t.horizontalPageBreak?p$(g,e,p,o):(g.applyStyles(g.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(v){return sd(g,e,v,o,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(v,b){var A=b===e.body.length-1;Yx(g,e,v,A,p,o,e.columns)}),g.applyStyles(g.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(v){return sd(g,e,v,o,e.columns)})),WC(g,e,p,o),e.callEndPageHooks(g,o),e.finalY=o.y,n.lastAutoTable=e,g.applyStyles(g.userStyles)}function p$(n,e,t,s){var a=m$(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(f,g){n.applyStyles(n.userStyles),g>0?kg(n,e,t,s,f.columns,!0):d3(n,e,s,f.columns),x$(n,e,t,s,f.columns),q1(n,e,s,f.columns)});else for(var c=-1,d=a[0],h=function(){var f=c;if(d){n.applyStyles(n.userStyles);var g=d.columns;c>=0?kg(n,e,t,s,g,!0):d3(n,e,s,g),f=u3(n,e,c+1,s,g),q1(n,e,s,g)}var p=f-c;a.slice(1).forEach(function(v){n.applyStyles(n.userStyles),kg(n,e,t,s,v.columns,!0),u3(n,e,c+1,s,v.columns,p),q1(n,e,s,v.columns)}),c=f};c<e.body.length-1;)h()}function d3(n,e,t,s){var a=e.settings;n.applyStyles(n.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(o){return sd(n,e,o,t,s)})}function x$(n,e,t,s,a){n.applyStyles(n.userStyles),e.body.forEach(function(o,c){var d=c===e.body.length-1;Yx(n,e,o,d,t,s,a)})}function u3(n,e,t,s,a,o){n.applyStyles(n.userStyles),o=o??e.body.length;var c=Math.min(t+o,e.body.length),d=-1;return e.body.slice(t,c).forEach(function(h,f){var g=t+f===e.body.length-1,p=eI(n,e,g,s);h.canEntireRowFit(p,a)&&(sd(n,e,h,s,a),d=t+f)}),d}function q1(n,e,t,s){var a=e.settings;n.applyStyles(n.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(o){return sd(n,e,o,t,s)})}function y$(n,e,t){var s=t.getLineHeight(n.styles.fontSize),a=n.padding("vertical"),o=Math.floor((e-a)/s);return Math.max(0,o)}function b$(n,e,t,s){var a={};n.spansMultiplePages=!0,n.height=0;for(var o=0,c=0,d=t.columns;c<d.length;c++){var h=d[c],f=n.cells[h.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var g=new ZC(f.raw,f.styles,f.section);g=Yc(g,f),g.text=[];var p=y$(f,e,s);f.text.length>p&&(g.text=f.text.splice(p,f.text.length));var v=s.scaleFactor(),b=s.getLineHeightFactor();f.contentHeight=f.getContentHeight(v,b),f.contentHeight>=e&&(f.contentHeight=e,g.styles.minCellHeight-=e),f.contentHeight>n.height&&(n.height=f.contentHeight),g.contentHeight=g.getContentHeight(v,b),g.contentHeight>o&&(o=g.contentHeight),a[h.index]=g}}var A=new JC(n.raw,-1,n.section,a,!0);A.height=o;for(var S=0,j=t.columns;S<j.length;S++){var h=j[S],g=A.cells[h.index];g&&(g.height=A.height);var f=n.cells[h.index];f&&(f.height=n.height)}return A}function v$(n,e,t,s){var a=n.pageSize().height,o=s.settings.margin,c=o.top+o.bottom,d=a-c;e.section==="body"&&(d-=s.getHeadHeight(s.columns)+s.getFootHeight(s.columns));var h=e.getMinimumRowHeight(s.columns,n),f=h<t;if(h>d)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var g=e.hasRowSpan(s.columns),p=e.getMaxCellHeight(s.columns)>d;return p?(g&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||s.settings.rowPageBreak==="avoid")}function Yx(n,e,t,s,a,o,c){var d=eI(n,e,s,o);if(t.canEntireRowFit(d,c))sd(n,e,t,o,c);else if(v$(n,t,d,e)){var h=b$(t,d,e,n);sd(n,e,t,o,c),kg(n,e,a,o,c),Yx(n,e,h,s,a,o,c)}else kg(n,e,a,o,c),Yx(n,e,t,s,a,o,c)}function sd(n,e,t,s,a){s.x=e.settings.margin.left;for(var o=0,c=a;o<c.length;o++){var d=c[o],h=t.cells[d.index];if(!h){s.x+=d.width;continue}n.applyStyles(h.styles),h.x=s.x,h.y=s.y;var f=e.callCellHooks(n,e.hooks.willDrawCell,h,t,d,s);if(f===!1){s.x+=d.width;continue}w$(n,h,s);var g=h.getTextPos();GC(h.text,g.x,g.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,h,t,d,s),s.x+=d.width}s.y+=t.height}function w$(n,e,t){var s=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof s.lineWidth=="number"){var a=KC(s.lineWidth,s.fillColor);a&&n.rect(e.x,t.y,e.width,e.height,a)}else typeof s.lineWidth=="object"&&(s.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),N$(n,e,t,s.lineWidth))}function N$(n,e,t,s){var a,o,c,d;s.top&&(a=t.x,o=t.y,c=t.x+e.width,d=t.y,s.right&&(c+=.5*s.right),s.left&&(a-=.5*s.left),h(s.top,a,o,c,d)),s.bottom&&(a=t.x,o=t.y+e.height,c=t.x+e.width,d=t.y+e.height,s.right&&(c+=.5*s.right),s.left&&(a-=.5*s.left),h(s.bottom,a,o,c,d)),s.left&&(a=t.x,o=t.y,c=t.x,d=t.y+e.height,s.top&&(o-=.5*s.top),s.bottom&&(d+=.5*s.bottom),h(s.left,a,o,c,d)),s.right&&(a=t.x+e.width,o=t.y,c=t.x+e.width,d=t.y+e.height,s.top&&(o-=.5*s.top),s.bottom&&(d+=.5*s.bottom),h(s.right,a,o,c,d));function h(f,g,p,v,b){n.getDocument().setLineWidth(f),n.getDocument().line(g,p,v,b,"S")}}function eI(n,e,t,s){var a=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(a+=e.getFootHeight(e.columns)),n.pageSize().height-s.y-a}function kg(n,e,t,s,a,o){a===void 0&&(a=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(d){return sd(n,e,d,s,a)}),e.callEndPageHooks(n,s);var c=e.settings.margin;WC(n,e,t,s),tI(n),e.pageNumber++,s.x=c.left,s.y=c.top,t.y=c.top,e.callWillDrawPageHooks(n,s),e.settings.showHead==="everyPage"&&(e.head.forEach(function(d){return sd(n,e,d,s,a)}),n.applyStyles(n.userStyles))}function tI(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function j$(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var s=e[0],a=$H(this,s),o=l$(this,a);return g$(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,s,a){GC(e,t,s,a,this)},n.API.autoTableSetDefaults=function(e){return Uf.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Uf.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var s;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Uf(this),o=QC(a,e,window,t,!1),c=o.head,d=o.body,h=((s=c[0])===null||s===void 0?void 0:s.map(function(f){return f.content}))||[];return{columns:h,rows:d,data:d}}}var G1;try{if(typeof window<"u"&&window){var h3=window,f3=h3.jsPDF||((G1=h3.jspdf)===null||G1===void 0?void 0:G1.jsPDF);f3&&j$(f3)}}catch(n){console.error("Could not apply autoTable plugin",n)}const nI=async(n,e={})=>{const{orientation:t="landscape",title:s="Village Statistics Report",gramPanchayatName:a="Gram Panchayat"}=e,o=await JT(n);if(o.length===0)throw new Error(`No data available for year ${n}`);const c=new Dt({orientation:t,unit:"mm",format:"a4"}),d=c.internal.pageSize.getWidth(),h=c.internal.pageSize.getHeight();let f=20;const g=()=>(c.setFillColor(255,107,0),c.rect(0,0,d,3,"F"),c.setFillColor(255,255,255),c.rect(0,3,d,3,"F"),c.setFillColor(19,136,8),c.rect(0,6,d,3,"F"),c.setFontSize(18),c.setTextColor(0,0,0),c.setFont("helvetica","bold"),c.text(s,d/2,18,{align:"center"}),c.setFontSize(12),c.setFont("helvetica","normal"),c.text(a,d/2,25,{align:"center"}),c.setFontSize(10),c.text(`Year: ${n}`,d/2,31,{align:"center"}),38);f=g(),c.setFontSize(14),c.setFont("helvetica","bold"),c.setTextColor(255,107,0),c.text("1. Population Demographics",14,f),f+=8;const p=o.map(I=>[I.village.nameEn||"-",(I.demographics.totalPopulation||0).toLocaleString(),(I.demographics.malePopulation||0).toLocaleString(),(I.demographics.femalePopulation||0).toLocaleString(),I.demographics.source||"-"]),v=o.reduce((I,U)=>I+(U.demographics.totalPopulation||0),0),b=o.reduce((I,U)=>I+(U.demographics.malePopulation||0),0),A=o.reduce((I,U)=>I+(U.demographics.femalePopulation||0),0);p.push(["TOTAL",v.toLocaleString(),b.toLocaleString(),A.toLocaleString(),""]),c.autoTable({startY:f,head:[["Village","Total Population","Male","Female","Source"]],body:p,theme:"grid",headStyles:{fillColor:[255,107,0],textColor:255,fontStyle:"bold"},footStyles:{fillColor:[240,240,240],fontStyle:"bold"},alternateRowStyles:{fillColor:[252,248,245]},styles:{fontSize:9,cellPadding:3}}),f=c.lastAutoTable.finalY+10,f>h-60&&(c.addPage(),f=g()),c.setFontSize(14),c.setFont("helvetica","bold"),c.setTextColor(255,107,0),c.text("2. Category-wise Population Breakdown",14,f),f+=8;const S=[];o.forEach(I=>{const U=I.breakdowns.find(le=>le.category==="ST")||{},k=I.breakdowns.find(le=>le.category==="SC")||{},P=I.breakdowns.find(le=>le.category==="OBC")||{},z=I.breakdowns.find(le=>le.category==="OTHER")||{};S.push([I.village.nameEn||"-",(U.maleCount||0).toLocaleString(),(U.femaleCount||0).toLocaleString(),((U.maleCount||0)+(U.femaleCount||0)).toLocaleString(),(k.maleCount||0).toLocaleString(),(k.femaleCount||0).toLocaleString(),((k.maleCount||0)+(k.femaleCount||0)).toLocaleString(),(P.maleCount||0).toLocaleString(),(P.femaleCount||0).toLocaleString(),((P.maleCount||0)+(P.femaleCount||0)).toLocaleString(),(z.maleCount||0).toLocaleString(),(z.femaleCount||0).toLocaleString(),((z.maleCount||0)+(z.femaleCount||0)).toLocaleString()])});const j={male:0,female:0},E={male:0,female:0},L={male:0,female:0},O={male:0,female:0};o.forEach(I=>{I.breakdowns.forEach(U=>{U.category==="ST"?(j.male+=U.maleCount||0,j.female+=U.femaleCount||0):U.category==="SC"?(E.male+=U.maleCount||0,E.female+=U.femaleCount||0):U.category==="OBC"?(L.male+=U.maleCount||0,L.female+=U.femaleCount||0):U.category==="OTHER"&&(O.male+=U.maleCount||0,O.female+=U.femaleCount||0)})}),S.push(["TOTAL",j.male.toLocaleString(),j.female.toLocaleString(),(j.male+j.female).toLocaleString(),E.male.toLocaleString(),E.female.toLocaleString(),(E.male+E.female).toLocaleString(),L.male.toLocaleString(),L.female.toLocaleString(),(L.male+L.female).toLocaleString(),O.male.toLocaleString(),O.female.toLocaleString(),(O.male+O.female).toLocaleString()]),c.autoTable({startY:f,head:[["Village",{content:"ST",colSpan:3},{content:"SC",colSpan:3},{content:"OBC",colSpan:3},{content:"OTHER",colSpan:3}],["","M","F","T","M","F","T","M","F","T","M","F","T"]],body:S,theme:"grid",headStyles:{fillColor:[255,107,0],textColor:255,fontStyle:"bold",fontSize:8},footStyles:{fillColor:[240,240,240],fontStyle:"bold"},alternateRowStyles:{fillColor:[252,248,245]},styles:{fontSize:7,cellPadding:2}}),f=c.lastAutoTable.finalY+10,f>h-60&&(c.addPage(),f=g()),c.setFontSize(14),c.setFont("helvetica","bold"),c.setTextColor(255,107,0),c.text("3. Groups & Committees",14,f),f+=8;const D=o.map(I=>[I.village.nameEn||"-",(I.groups.mahilaBachatGatCount||0).toString(),(I.groups.yuvakMandalCount||0).toString(),(I.groups.kisanGatCount||0).toString(),(I.groups.otherGroupCount||0).toString(),((I.groups.mahilaBachatGatCount||0)+(I.groups.yuvakMandalCount||0)+(I.groups.kisanGatCount||0)+(I.groups.otherGroupCount||0)).toString()]),ee=o.reduce((I,U)=>({mbg:I.mbg+(U.groups.mahilaBachatGatCount||0),ym:I.ym+(U.groups.yuvakMandalCount||0),kg:I.kg+(U.groups.kisanGatCount||0),og:I.og+(U.groups.otherGroupCount||0)}),{mbg:0,ym:0,kg:0,og:0});D.push(["TOTAL",ee.mbg.toString(),ee.ym.toString(),ee.kg.toString(),ee.og.toString(),(ee.mbg+ee.ym+ee.kg+ee.og).toString()]),c.autoTable({startY:f,head:[["Village","Mahila Bachat Gat","Yuvak Mandal","Kisan Gat","Other Groups","Total"]],body:D,theme:"grid",headStyles:{fillColor:[255,107,0],textColor:255,fontStyle:"bold"},footStyles:{fillColor:[240,240,240],fontStyle:"bold"},alternateRowStyles:{fillColor:[252,248,245]},styles:{fontSize:9,cellPadding:3}}),f=c.lastAutoTable.finalY+10,f>h-60&&(c.addPage(),f=g()),c.setFontSize(14),c.setFont("helvetica","bold"),c.setTextColor(255,107,0),c.text("4. Water & Infrastructure",14,f),f+=8;const te=o.map(I=>[I.village.nameEn||"-",(I.infrastructure.wellsCount||0).toString(),(I.infrastructure.borewellsCount||0).toString(),(I.infrastructure.handpumpsCount||0).toString(),(I.infrastructure.tapConnectionsCount||0).toString(),((I.infrastructure.wellsCount||0)+(I.infrastructure.borewellsCount||0)+(I.infrastructure.handpumpsCount||0)+(I.infrastructure.tapConnectionsCount||0)).toString()]),H=o.reduce((I,U)=>({wells:I.wells+(U.infrastructure.wellsCount||0),bore:I.bore+(U.infrastructure.borewellsCount||0),hand:I.hand+(U.infrastructure.handpumpsCount||0),tap:I.tap+(U.infrastructure.tapConnectionsCount||0)}),{wells:0,bore:0,hand:0,tap:0});te.push(["TOTAL",H.wells.toString(),H.bore.toString(),H.hand.toString(),H.tap.toString(),(H.wells+H.bore+H.hand+H.tap).toString()]),c.autoTable({startY:f,head:[["Village","Wells","Borewells","Handpumps","Tap Connections","Total"]],body:te,theme:"grid",headStyles:{fillColor:[255,107,0],textColor:255,fontStyle:"bold"},footStyles:{fillColor:[240,240,240],fontStyle:"bold"},alternateRowStyles:{fillColor:[252,248,245]},styles:{fontSize:9,cellPadding:3}});const M=new Date().toLocaleDateString("en-IN");return c.setFontSize(8),c.setTextColor(100,100,100),c.text(`Generated on: ${M}`,14,h-10),c.text(`Page ${c.internal.getNumberOfPages()}`,d-30,h-10),c},_$=async(n,e={})=>{const s=(await nI(n,e)).output("blob"),a=URL.createObjectURL(s);window.open(a,"_blank")},rI=async(n,e={})=>{const t=await nI(n,e),s=`Village_Statistics_${n}_${Date.now()}.pdf`;t.save(s)},S$=({selectedYear:n})=>{const{settings:e}=vu(),[t,s]=G.useState(!1),[a,o]=G.useState({type:"",text:""}),c=async()=>{s(!0),o({type:"",text:""});try{const h={title:"Village Statistics Report",gramPanchayatName:e?.title?.en||"Gram Panchayat",orientation:"landscape"};await _$(n,h),o({type:"success",text:"PDF opened in new tab successfully!"})}catch(h){o({type:"error",text:h.message||"Failed to generate PDF. Please ensure data is available for the selected year."})}finally{s(!1)}},d=async()=>{s(!0),o({type:"",text:""});try{const h={title:"Village Statistics Report",gramPanchayatName:e?.title?.en||"Gram Panchayat",orientation:"landscape"};await rI(n,h),o({type:"success",text:`PDF for year ${n} downloaded successfully!`})}catch(h){o({type:"error",text:h.message||"Failed to generate PDF. Please ensure data is available for the selected year."})}finally{s(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["PDF Reports & Downloads - ",n]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Generate comprehensive PDF reports with all village statistics"})]}),a.text&&r.jsxs("div",{className:`flex items-center gap-2 p-4 rounded-lg ${a.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[a.type==="success"?r.jsx(Yi,{className:"w-5 h-5"}):r.jsx(Qn,{className:"w-5 h-5"}),r.jsx("span",{children:a.text})]}),r.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-green-50 border border-orange-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:r.jsx(mr,{className:"w-8 h-8 text-orange-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Comprehensive Village Statistics Report"}),r.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["This PDF report includes all village statistics data for year ",r.jsx("strong",{children:n}),":"]}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Population Demographics:"})," Total, Male, Female population per village"]})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Category-wise Breakdown:"})," ST, SC, OBC, Other population distribution"]})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Groups & Committees:"})," Mahila Bachat Gat, Yuvak Mandal, Kisan Gat counts"]})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Water & Infrastructure:"})," Wells, Borewells, Handpumps, Tap Connections"]})]})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("button",{onClick:c,disabled:t,className:"flex items-center justify-center gap-3 px-6 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg",children:[r.jsx(ai,{className:"w-5 h-5"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-semibold",children:"Preview PDF"}),r.jsx("div",{className:"text-xs text-blue-100",children:"Open in new tab"})]})]}),r.jsxs("button",{onClick:d,disabled:t,className:"flex items-center justify-center gap-3 px-6 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg",children:[r.jsx(Go,{className:"w-5 h-5"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-semibold",children:"Download PDF"}),r.jsx("div",{className:"text-xs text-green-100",children:"Save to computer"})]})]})]}),t&&r.jsxs("div",{className:"flex items-center justify-center gap-3 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-blue-700 font-medium",children:"Generating PDF report..."})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[r.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[r.jsx(Qn,{className:"w-5 h-5 text-gray-600"}),"Instructions"]}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-orange-600 font-bold",children:"1."}),r.jsxs("span",{children:["Ensure all data tabs (Demographics, Category-wise, Groups, Infrastructure) are filled with accurate data for year ",n,"."]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-orange-600 font-bold",children:"2."}),r.jsxs("span",{children:["Click ",r.jsx("strong",{children:'"Preview PDF"'})," to review the report in a new browser tab before downloading."]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-orange-600 font-bold",children:"3."}),r.jsxs("span",{children:["Click ",r.jsx("strong",{children:'"Download PDF"'})," to save the report to your computer."]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-orange-600 font-bold",children:"4."}),r.jsx("span",{children:"The PDF will include all villages with their complete statistics in a government-standard format."})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-orange-600 font-bold",children:"5."}),r.jsx("span",{children:"If no data is available for the selected year, you'll receive an error message. Please add data first."})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("h5",{className:"font-semibold text-gray-800",children:"Professional Format"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Government-standard layout with Indian flag colors and proper tables"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("h5",{className:"font-semibold text-gray-800",children:"Comprehensive Data"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"All statistics sections included with totals and subtotals"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsx("h5",{className:"font-semibold text-gray-800",children:"Easy Sharing"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Download and share with officials, stakeholders, or publish online"})]})]})]})},E$=[{id:"villages",label:"Manage Villages",labelMr:"  "},{id:"demographics",label:"Demographics",labelMr:""},{id:"categories",label:"Category-wise",labelMr:""},{id:"groups",label:"Groups & Committees",labelMr:"  "},{id:"infrastructure",label:"Water & Infrastructure",labelMr:"   "},{id:"reports",label:"PDF / Reports",labelMr:"PDF / "}],A$=()=>{const[n,e]=G.useState("villages"),[t,s]=G.useState([]),[a,o]=G.useState(null),[c,d]=G.useState(!1),[h,f]=G.useState(""),[g,p]=G.useState(!0);G.useEffect(()=>{v()},[]);const v=async()=>{p(!0);try{const j=await qx();s(j);const E=await QT();E?o(E):j.length>0&&o(j[0])}catch(j){console.error("Error loading data:",j)}finally{p(!1)}},b=async()=>{const j=parseInt(h);if(!j||j<1900||j>2100){alert("Please enter a valid year between 1900 and 2100");return}try{await BB(j);const E=await qx();s(E),o(j),f(""),d(!1)}catch(E){alert(E.message||"Failed to add year")}},A=j=>{o(parseInt(j.target.value))},S=()=>{if(n==="villages")return r.jsx(qB,{});if(!a)return r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ss,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No year selected. Please add a year to get started."})]});switch(n){case"demographics":return r.jsx(GB,{selectedYear:a});case"categories":return r.jsx(HB,{selectedYear:a});case"groups":return r.jsx($B,{selectedYear:a});case"infrastructure":return r.jsx(WB,{selectedYear:a});case"reports":return r.jsx(S$,{selectedYear:a});default:return null}};return g?r.jsx("div",{className:"flex justify-center items-center h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600"})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 text-white",children:r.jsxs("div",{className:"container mx-auto px-4 py-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(TT,{className:"w-8 h-8"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Village Statistics"}),r.jsx("p",{className:"text-sm text-orange-100",children:" "})]})]}),r.jsx("p",{className:"text-sm text-white/90 mt-2",children:"Manage census data, population breakdowns, groups, and infrastructure year-wise"})]})}),r.jsxs("div",{className:"container mx-auto px-4 py-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Year /  "}),r.jsx("select",{value:a||"",onChange:A,className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:t.length===0?r.jsx("option",{value:"",children:"No years available"}):t.map(j=>r.jsx("option",{value:j,children:j},j))})]}),r.jsx("div",{children:c?r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"number",value:h,onChange:j=>f(j.target.value),placeholder:"Enter year (e.g., 2025)",className:"w-48 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",onKeyPress:j=>j.key==="Enter"&&b()}),r.jsx("button",{onClick:b,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Add"}),r.jsx("button",{onClick:()=>{d(!1),f("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]}):r.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[r.jsx(Rr,{className:"w-4 h-4"}),"Add Year"]})})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-6",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("div",{className:"flex overflow-x-auto",children:E$.map(j=>r.jsx("button",{onClick:()=>e(j.id),className:`flex-shrink-0 px-6 py-4 text-sm font-medium transition-colors border-b-2 ${n===j.id?"border-orange-600 text-orange-600":"border-transparent text-gray-600 hover:text-gray-800 hover:border-gray-300"}`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{children:j.label}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:j.labelMr})]})},j.id))})}),r.jsx("div",{className:"p-6",children:S()})]})]})]})},T$=()=>{const{language:n}=Vr(),{settings:e}=vu(),[t,s]=G.useState([]),[a,o]=G.useState(null),[c,d]=G.useState([]),[h,f]=G.useState(!0),[g,p]=G.useState(!1);G.useEffect(()=>{v()},[]),G.useEffect(()=>{a&&b()},[a]);const v=async()=>{try{const j=await qx();s(j);const E=await QT();E?o(E):j.length>0&&o(j[0])}catch(j){console.error("Error loading initial data:",j)}finally{f(!1)}},b=async()=>{try{const j=await JT(a);if(console.log("Raw data from Firebase:",j),j&&j.villages&&Array.isArray(j.villages)){const E=j.villages.map(L=>{const O=j.demographics?.find(H=>H.villageId===L.id)||{},D=j.breakdowns?.filter(H=>H.villageId===L.id)||[],ee=j.groups?.find(H=>H.villageId===L.id)||{},te=j.infrastructure?.find(H=>H.villageId===L.id)||{};return{village:L,demographics:O,breakdowns:D,groups:ee,infrastructure:te}});console.log("Transformed summary array:",E),d(E)}else console.log("No villages found in data"),d([])}catch(j){console.error("Error loading statistics:",j),d([])}},A=async()=>{p(!0);try{const j={title:"Village Statistics Report",gramPanchayatName:e?.title?.en||"Gram Panchayat",orientation:"landscape"};await rI(a,j)}catch{alert("Failed to generate PDF. Please try again.")}finally{p(!1)}};if(h)return r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600"})});if(t.length===0)return r.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ss,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:n==="en"?"No Data Available":"  "}),r.jsx("p",{className:"text-gray-600",children:n==="en"?"Village statistics data has not been added yet.":"      ."})]})})});const S=["ST","SC","OBC","OTHER"];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-green-600 text-white py-12",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx(TT,{className:"w-12 h-12"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:n==="en"?"Village Statistics":" "}),r.jsx("p",{className:"text-orange-100 mt-1",children:n==="en"?"Census & Infrastructure Data":"    "})]})]})})}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n==="en"?"Select Year":" "}),r.jsx("select",{value:a||"",onChange:j=>o(parseInt(j.target.value)),className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:t.map(j=>r.jsx("option",{value:j,children:j},j))})]}),r.jsxs("button",{onClick:A,disabled:g,className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-md",children:[r.jsx(Go,{className:"w-5 h-5"}),g?n==="en"?"Generating...":"  ...":n==="en"?"Download Full Report (PDF)":"    (PDF)"]})]})}),c.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[r.jsx(ss,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:n==="en"?`No data available for year ${a}`:`${a}    `})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(Cs,{className:"w-6 h-6 text-orange-600"}),r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n==="en"?"Population Overview":" "})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Village":""}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Total Population":" "}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Male":""}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Female":""})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((j,E)=>r.jsxs("tr",{className:E%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:n==="en"?j.village.nameEn:j.village.nameMr})}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-900 font-semibold",children:(j.demographics.totalPopulation||0).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:(j.demographics.malePopulation||0).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:(j.demographics.femalePopulation||0).toLocaleString()})]},j.village.id))}),r.jsx("tfoot",{className:"bg-gray-100",children:r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 font-bold text-gray-900",children:n==="en"?"TOTAL":""}),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:c.reduce((j,E)=>j+(E.demographics.totalPopulation||0),0).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:c.reduce((j,E)=>j+(E.demographics.malePopulation||0),0).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-gray-900",children:c.reduce((j,E)=>j+(E.demographics.femalePopulation||0),0).toLocaleString()})]})})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:n==="en"?"Category-wise Population":" "}),c.map((j,E)=>r.jsxs("div",{className:`mb-6 ${E!==c.length-1?"pb-6 border-b border-gray-200":""}`,children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:n==="en"?j.village.nameEn:j.village.nameMr}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-700 uppercase",children:n==="en"?"Category":""}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-700 uppercase",children:n==="en"?"Male":""}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-700 uppercase",children:n==="en"?"Female":""}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-700 uppercase",children:n==="en"?"Total":""})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(L=>{const O=j.breakdowns.find(D=>D.category===L)||{};return r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:L}),r.jsx("td",{className:"px-4 py-2 text-center text-sm text-gray-700",children:(O.maleCount||0).toLocaleString()}),r.jsx("td",{className:"px-4 py-2 text-center text-sm text-gray-700",children:(O.femaleCount||0).toLocaleString()}),r.jsx("td",{className:"px-4 py-2 text-center text-sm font-semibold text-gray-900",children:((O.maleCount||0)+(O.femaleCount||0)).toLocaleString()})]},L)})})]})})]},j.village.id))]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:n==="en"?"Groups & Committees":"  "}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Village":""}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Mahila Bachat Gat":"  "}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Yuvak Mandal":" "}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Kisan Gat":" "}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Other Groups":" "})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((j,E)=>r.jsxs("tr",{className:E%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:n==="en"?j.village.nameEn:j.village.nameMr}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.groups.mahilaBachatGatCount||0}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.groups.yuvakMandalCount||0}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.groups.kisanGatCount||0}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.groups.otherGroupCount||0})]},j.village.id))})]})})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 px-6 py-4",children:r.jsxs("h2",{className:"text-white font-semibold flex items-center gap-2",children:[r.jsx(Ux,{className:"w-5 h-5"}),n==="en"?"Water Supply Sources":"  "]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Sr. No.":".."}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Water Source":" "}),c.map(j=>r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?j.village.nameEn:j.village.nameMr},j.village.id)),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider bg-blue-50",children:n==="en"?"Total":""})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"1"}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Private Wells":" "}),c.map(j=>r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.privateWells||0},j.village.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,E)=>j+(E.infrastructure.privateWells||0),0)})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"2"}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Public Wells":" "}),c.map(j=>r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.publicWells||0},j.village.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,E)=>j+(E.infrastructure.publicWells||0),0)})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"3"}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"NIT Scheme":" "}),c.map(j=>r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.nitScheme||0},j.village.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,E)=>j+(E.infrastructure.nitScheme||0),0)})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"4"}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Handpumps":""}),c.map(j=>r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.handpumps||0},j.village.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,E)=>j+(E.infrastructure.handpumps||0),0)})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"5"}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Water Tank Capacity":"  "}),c.map(j=>r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.waterTankCapacity||""},j.village.id)),r.jsx("td",{className:"px-6 py-4 text-center text-gray-500 bg-blue-50",children:""})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"6"}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Water Filter Plant":"  "}),c.map(j=>r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.waterFilterPlant||0},j.village.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,E)=>j+(E.infrastructure.waterFilterPlant||0),0)})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"7"}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?"Private Ponds":" "}),c.map(j=>r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.privatePonds||0},j.village.id)),r.jsx("td",{className:"px-6 py-4 text-center font-bold text-blue-900 bg-blue-50",children:c.reduce((j,E)=>j+(E.infrastructure.privatePonds||0),0)})]})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4",children:r.jsxs("h2",{className:"text-white font-semibold flex items-center gap-2",children:[r.jsx(Ux,{className:"w-5 h-5"}),n==="en"?"Tap Connection Details":"  "]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-green-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Sr. No.":".."}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Village":""}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Families":""}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Old Connections":" "}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"New Connections":" "}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider bg-indigo-50",children:n==="en"?"Total Connections":" "}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Private Wells":" "}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",children:n==="en"?"Pending":""})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((j,E)=>r.jsxs("tr",{className:E%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:E+1}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:n==="en"?j.village.nameEn:j.village.nameMr}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.families||0}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.oldTapConnections||0}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.newTapConnections||0}),r.jsx("td",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 bg-indigo-50",children:j.infrastructure.totalTapConnections||0}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.privateWellsForTap||0}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:j.infrastructure.pendingTapConnections||0})]},j.village.id))}),r.jsx("tfoot",{className:"bg-indigo-50",children:r.jsxs("tr",{className:"font-bold",children:[r.jsx("td",{className:"px-6 py-4",colSpan:"2",children:n==="en"?"Total":""}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:c.reduce((j,E)=>j+(E.infrastructure.families||0),0)}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:c.reduce((j,E)=>j+(E.infrastructure.oldTapConnections||0),0)}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:c.reduce((j,E)=>j+(E.infrastructure.newTapConnections||0),0)}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900 bg-indigo-100",children:c.reduce((j,E)=>j+(E.infrastructure.totalTapConnections||0),0)}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:c.reduce((j,E)=>j+(E.infrastructure.privateWellsForTap||0),0)}),r.jsx("td",{className:"px-6 py-4 text-center text-indigo-900",children:c.reduce((j,E)=>j+(E.infrastructure.pendingTapConnections||0),0)})]})})]})})]})]})]})]})]})};function C$(){const[n,e]=G.useState([]),[t,s]=G.useState(!0),[a,o]=G.useState(""),[c,d]=G.useState("all"),{getContent:h}=Vr();G.useEffect(()=>{f()},[]);const f=async()=>{try{s(!0);const S=await fz();e(S)}catch(S){console.error("Error loading announcements:",S),alert("Failed to load announcements")}finally{s(!1)}},g=async S=>{if(window.confirm("Are you sure you want to delete this announcement?"))try{await xz(S),e(n.filter(j=>j.id!==S)),alert("Announcement deleted successfully")}catch(j){console.error("Error deleting announcement:",j),alert("Failed to delete announcement")}},p=async(S,j)=>{try{await yz(S,!j),e(n.map(E=>E.id===S?{...E,isActive:!j}:E))}catch(E){console.error("Error toggling status:",E),alert("Failed to update status")}},v=n.filter(S=>{const j=h(S.title).toLowerCase().includes(a.toLowerCase())||h(S.message).toLowerCase().includes(a.toLowerCase()),E=c==="all"||c==="active"&&S.isActive||c==="inactive"&&!S.isActive||c===S.type;return j&&E}),b={info:"bg-blue-100 text-blue-800",warning:"bg-yellow-100 text-yellow-800",alert:"bg-red-100 text-red-800",success:"bg-green-100 text-green-800"},A={high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-gray-100 text-gray-800"};return t?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(Wi,{className:"text-orange-600"}),"Announcements Management"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage scrolling announcements for homepage"})]}),r.jsxs(sn,{to:"/admin/announcements/new",className:"inline-flex items-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[r.jsx(Rr,{size:20}),"Add Announcement"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-xl shadow-lg",children:[r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Total"}),r.jsx("p",{className:"text-3xl font-bold",children:n.length})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 text-white p-6 rounded-xl shadow-lg",children:[r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Active"}),r.jsx("p",{className:"text-3xl font-bold",children:n.filter(S=>S.isActive).length})]}),r.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white p-6 rounded-xl shadow-lg",children:[r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Inactive"}),r.jsx("p",{className:"text-3xl font-bold",children:n.filter(S=>!S.isActive).length})]}),r.jsxs("div",{className:"bg-gradient-to-br from-red-500 to-red-600 text-white p-6 rounded-xl shadow-lg",children:[r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"High Priority"}),r.jsx("p",{className:"text-3xl font-bold",children:n.filter(S=>S.priority==="high").length})]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search announcements...",value:a,onChange:S=>o(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),r.jsxs("select",{value:c,onChange:S=>d(S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"active",children:"Active Only"}),r.jsx("option",{value:"inactive",children:"Inactive Only"}),r.jsx("option",{value:"info",children:"Info"}),r.jsx("option",{value:"warning",children:"Warning"}),r.jsx("option",{value:"alert",children:"Alert"}),r.jsx("option",{value:"success",children:"Success"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:v.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Wi,{className:"mx-auto text-gray-400 mb-4",size:48}),r.jsx("p",{className:"text-gray-500 text-lg",children:"No announcements found"}),r.jsx(sn,{to:"/admin/announcements/new",className:"inline-block mt-4 text-orange-600 hover:text-orange-700 font-semibold",children:"Create your first announcement"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Title & Message"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:v.map(S=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:h(S.title)}),r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-1",children:h(S.message)})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold ${b[S.type]||b.info}`,children:[S.type==="alert"&&r.jsx(Qn,{size:14}),S.type]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${A[S.priority]||A.low}`,children:S.priority})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("button",{onClick:()=>p(S.id,S.isActive),className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold transition-colors ${S.isActive?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:S.isActive?r.jsxs(r.Fragment,{children:[r.jsx(ai,{size:14}),"Active"]}):r.jsxs(r.Fragment,{children:[r.jsx(_h,{size:14}),"Inactive"]})})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(sn,{to:`/admin/announcements/edit/${S.id}`,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:r.jsx(lc,{size:18})}),r.jsx("button",{onClick:()=>g(S.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:r.jsx(_a,{size:18})})]})})]},S.id))})]})})})]})}function m3(){const{id:n}=bo(),e=gr(),[t,s]=G.useState(!1),[a,o]=G.useState({title:{en:"",mr:""},message:{en:"",mr:""},type:"info",priority:"medium",link:"",isActive:!0});G.useEffect(()=>{n&&c()},[n]);const c=async()=>{try{s(!0);const f=await gz(n);f&&o({title:f.title||{en:"",mr:""},message:f.message||{en:"",mr:""},type:f.type||"info",priority:f.priority||"medium",link:f.link||"",isActive:f.isActive!==void 0?f.isActive:!0})}catch(f){console.error("Error loading announcement:",f),alert("Failed to load announcement")}finally{s(!1)}},d=async f=>{if(f.preventDefault(),!a.title.en.trim()||!a.message.en.trim()){alert("Please fill in required fields (English title and message)");return}try{s(!0),n?(await DT(n,a),alert("Announcement updated successfully!")):(await pz(a),alert("Announcement created successfully!")),e("/admin/announcements")}catch(g){console.error("Error saving announcement:",g),alert("Failed to save announcement")}finally{s(!1)}},h=(f,g)=>{o(p=>({...p,[f]:g}))};return t&&n?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>e("/admin/announcements"),className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[r.jsx(vi,{size:20}),"Back to Announcements"]}),r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(Wi,{className:"text-orange-600"}),n?"Edit Announcement":"Create New Announcement"]})]}),r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Announcement Title"}),r.jsx(_n,{label:"Title",value:a.title,onChange:f=>h("title",f),placeholder:{en:"Enter title in English",mr:"   "},required:!0})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Announcement Message"}),r.jsx(_n,{label:"Message",value:a.message,onChange:f=>h("message",f),placeholder:{en:"Enter message in English",mr:"   "},rows:4,required:!0})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Type *"}),r.jsxs("select",{value:a.type,onChange:f=>h("type",f.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"info",children:"Info"}),r.jsx("option",{value:"warning",children:"Warning"}),r.jsx("option",{value:"alert",children:"Alert"}),r.jsx("option",{value:"success",children:"Success"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Determines the color scheme"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Priority *"}),r.jsxs("select",{value:a.priority,onChange:f=>h("priority",f.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Higher priority shows first"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),r.jsxs("label",{className:"flex items-center gap-3 px-4 py-2.5 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[r.jsx("input",{type:"checkbox",checked:a.isActive,onChange:f=>h("isActive",f.target.checked),className:"w-5 h-5 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"Show on Homepage"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enable to display in banner"})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Link (Optional)"}),r.jsx("input",{type:"url",value:a.link,onChange:f=>h("link",f.target.value),placeholder:"https://example.com/details",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Optional: Add a link for "Read More" button'})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-blue-50 rounded-xl shadow-md p-6 border-2 border-dashed border-orange-200",children:[r.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Wi,{size:20,className:"text-orange-600"}),"Preview (English)"]}),r.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${a.type==="info"?"bg-blue-50 border-blue-500":a.type==="warning"?"bg-yellow-50 border-yellow-500":a.type==="alert"?"bg-red-50 border-red-500":"bg-green-50 border-green-500"}`,children:[r.jsx("p",{className:"font-bold text-gray-900",children:a.title.en||"Title will appear here"}),r.jsx("p",{className:"text-gray-700 text-sm mt-1",children:a.message.en||"Message will appear here"}),a.link&&r.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm mt-2 inline-block hover:underline",children:"Read More "})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("button",{type:"submit",disabled:t,className:"flex-1 inline-flex items-center justify-center gap-2 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-8 py-4 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(ks,{size:20}),t?"Saving...":n?"Update Announcement":"Create Announcement"]}),r.jsx("button",{type:"button",onClick:()=>e("/admin/announcements"),className:"px-8 py-4 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})}const I$=()=>{const[n,e]=G.useState([]),[t,s]=G.useState(!0),[a,o]=G.useState("");G.useEffect(()=>{const h=Et(Oe,"officials"),f=Ir(h,Ki("order","asc")),g=em(f,p=>{const v=p.docs.map(b=>({id:b.id,...b.data()}));e(v),s(!1)},p=>{console.error("Error fetching officials:",p),o("Failed to load officials"),s(!1)});return()=>g()},[]);const c=async h=>{if(window.confirm("Are you sure you want to delete this official?"))try{await $i(ut(Oe,"officials",h))}catch(f){console.error("Error deleting official:",f),alert("Failed to delete official")}},d=async(h,f)=>{const g=[...n],p=f==="up"?h-1:h+1;if(p<0||p>=g.length)return;const v=g[h].order,b=g[p].order;try{await Promise.all([ia(ut(Oe,"officials",g[h].id),{order:b}),ia(ut(Oe,"officials",g[p].id),{order:v})])}catch(A){console.error("Error updating order:",A),alert("Failed to update order")}};return t?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading officials..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Officials Showcase"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage officials displayed on homepage"})]}),r.jsxs(sn,{to:"/admin/officials/new",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[r.jsx(Rr,{size:20}),"Add Official"]})]}),a&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:a}),n.length===0?r.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[r.jsx(_r,{size:48,className:"mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No officials yet"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by adding your first official"}),r.jsxs(sn,{to:"/admin/officials/new",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[r.jsx(Rr,{size:20}),"Add Official"]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((h,f)=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"aspect-square bg-gray-100 flex items-center justify-center",children:h.photo?r.jsx("img",{src:h.photo,alt:h.name?.en||"Official",className:"w-full h-full object-cover"}):r.jsxs("div",{className:"text-gray-400 text-center p-4",children:[r.jsx(_r,{size:48,className:"mx-auto mb-2"}),r.jsx("p",{className:"text-sm",children:"No photo"})]})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:h.designation?.en||"No designation"}),r.jsx("p",{className:"font-semibold text-gray-900",children:h.name?.en||"No name"}),h.additionalInfo?.en&&r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.additionalInfo.en})]}),r.jsx("div",{className:"flex items-center gap-2 mb-3",children:r.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:["Order: ",h.order]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>d(f,"up"),disabled:f===0,className:"p-2 text-gray-600 hover:bg-gray-100 rounded disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:r.jsx(AT,{size:18})}),r.jsx("button",{onClick:()=>d(f,"down"),disabled:f===n.length-1,className:"p-2 text-gray-600 hover:bg-gray-100 rounded disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:r.jsx(ET,{size:18})}),r.jsx("div",{className:"flex-1"}),r.jsx(sn,{to:`/admin/officials/edit/${h.id}`,className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit",children:r.jsx(lc,{size:18})}),r.jsx("button",{onClick:()=>c(h.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:r.jsx(_a,{size:18})})]})]})]},h.id))})]})},g3=()=>{const{id:n}=bo(),e=gr(),t=!!n,[s,a]=G.useState({nameEn:"",nameMr:"",designationEn:"",designationMr:"",additionalInfoEn:"",additionalInfoMr:"",honorificEn:"",honorificMr:"",photo:"",order:1}),[o,c]=G.useState(null),[d,h]=G.useState(""),[f,g]=G.useState(!1),[p,v]=G.useState(!1),[b,A]=G.useState("");G.useEffect(()=>{t?S():j()},[n]);const S=async()=>{g(!0);try{const D=ut(Oe,"officials",n),ee=await is(D);if(ee.exists()){const te=ee.data();a({nameEn:te.name?.en||"",nameMr:te.name?.mr||"",designationEn:te.designation?.en||"",designationMr:te.designation?.mr||"",additionalInfoEn:te.additionalInfo?.en||"",additionalInfoMr:te.additionalInfo?.mr||"",honorificEn:te.honorific?.en||"",honorificMr:te.honorific?.mr||"",photo:te.photo||"",order:te.order||1}),h(te.photo||"")}else A("Official not found")}catch(D){console.error("Error loading official:",D),A("Failed to load official")}finally{g(!1)}},j=async()=>{try{const D=Ir(Et(Oe,"officials")),te=(await sr(D)).docs.reduce((H,M)=>{const I=M.data().order||0;return I>H?I:H},0);a(H=>({...H,order:te+1}))}catch(D){console.error("Error loading order:",D)}},E=D=>{const ee=D.target.files[0];if(ee){if(ee.size>5*1024*1024){alert("Image size should be less than 5MB");return}c(ee),h(URL.createObjectURL(ee))}},L=async()=>{if(!o)return s.photo;try{const D=`officials/${Date.now()}_${o.name}`,ee=fm(mm,D);return await pw(ee,o),await Cy(ee)}catch(D){throw console.error("Error uploading photo:",D),new Error("Failed to upload photo")}},O=async D=>{if(D.preventDefault(),!s.nameEn||!s.designationEn){A("Name and Designation (English) are required");return}v(!0),A("");try{const ee=await L(),te={name:{en:s.nameEn,mr:s.nameMr||s.nameEn},designation:{en:s.designationEn,mr:s.designationMr||s.designationEn},additionalInfo:{en:s.additionalInfoEn,mr:s.additionalInfoMr||s.additionalInfoEn},honorific:{en:s.honorificEn,mr:s.honorificMr},photo:ee,order:parseInt(s.order),updatedAt:new Date().toISOString()};t?await ia(ut(Oe,"officials",n),te):(te.createdAt=new Date().toISOString(),await ns(Et(Oe,"officials"),te)),e("/admin/officials")}catch(ee){console.error("Error saving official:",ee),A(ee.message||"Failed to save official")}finally{v(!1)}};return f?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>e("/admin/officials"),className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx(vi,{size:20}),"Back to Officials"]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"Edit Official":"Add New Official"})]}),b&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:b}),r.jsxs("form",{onSubmit:O,className:"bg-white rounded-lg border border-gray-200 p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photo *"}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-40 h-40 rounded-full border-2 border-dashed border-gray-300 flex items-center justify-center bg-gray-50 overflow-hidden",children:d?r.jsx("img",{src:d,alt:"Preview",className:"w-full h-full object-cover"}):r.jsx(cc,{size:32,className:"text-gray-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"hidden",id:"photo-upload"}),r.jsxs("label",{htmlFor:"photo-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[r.jsx(cc,{size:18}),"Choose Photo"]}),d&&r.jsxs("button",{type:"button",onClick:()=>{c(null),h(""),a(D=>({...D,photo:""}))},className:"ml-2 inline-flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[r.jsx(Ss,{size:18}),"Remove"]}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Recommended: Square image, at least 300300px, max 5MB"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name (English) *"}),r.jsx("input",{type:"text",value:s.nameEn,onChange:D=>a({...s,nameEn:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name (Marathi)"}),r.jsx("input",{type:"text",value:s.nameMr,onChange:D=>a({...s,nameMr:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Designation (English) *"}),r.jsx("input",{type:"text",value:s.designationEn,onChange:D=>a({...s,designationEn:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g., Sarpanch",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Designation (Marathi)"}),r.jsx("input",{type:"text",value:s.designationMr,onChange:D=>a({...s,designationMr:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g., "})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Honorific (English)"}),r.jsx("input",{type:"text",value:s.honorificEn,onChange:D=>a({...s,honorificEn:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g., Shri, Smt."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Honorific (Marathi)"}),r.jsx("input",{type:"text",value:s.honorificMr,onChange:D=>a({...s,honorificMr:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g., , "})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Info (English)"}),r.jsx("input",{type:"text",value:s.additionalInfoEn,onChange:D=>a({...s,additionalInfoEn:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g., Panchayat Leadership"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Info (Marathi)"}),r.jsx("input",{type:"text",value:s.additionalInfoMr,onChange:D=>a({...s,additionalInfoMr:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g.,  "})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),r.jsx("input",{type:"number",min:"1",value:s.order,onChange:D=>a({...s,order:D.target.value}),className:"w-32 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Lower numbers appear first"})]}),r.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t",children:[r.jsx("button",{type:"submit",disabled:p,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:p?"Saving...":t?"Update Official":"Add Official"}),r.jsx("button",{type:"button",onClick:()=>e("/admin/officials"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})},k$=()=>{const[n,e]=G.useState([]),[t,s]=G.useState(!0),[a,o]=G.useState("");G.useEffect(()=>{const h=Et(Oe,"sliders"),f=Ir(h,Ki("order","asc")),g=em(f,p=>{const v=p.docs.map(b=>({id:b.id,...b.data()}));e(v),s(!1)},p=>{console.error("Error fetching sliders:",p),o("Failed to load sliders"),s(!1)});return()=>g()},[]);const c=async h=>{if(window.confirm("Are you sure you want to delete this slider?"))try{await $i(ut(Oe,"sliders",h))}catch(f){console.error("Error deleting slider:",f),alert("Failed to delete slider")}},d=async(h,f)=>{const g=[...n],p=f==="up"?h-1:h+1;if(p<0||p>=g.length)return;const v=g[h].order,b=g[p].order;try{await Promise.all([ia(ut(Oe,"sliders",g[h].id),{order:b}),ia(ut(Oe,"sliders",g[p].id),{order:v})])}catch(A){console.error("Error updating order:",A),alert("Failed to update order")}};return t?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading sliders..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Home Slider Management"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage rotating banner images on the home page"})]}),r.jsxs(sn,{to:"/admin/sliders/new",className:"inline-flex items-center gap-2 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg transition-colors font-medium",children:[r.jsx(Rr,{size:20}),"Add Slider"]})]}),a&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:a}),n.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[r.jsx(_r,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No sliders yet"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first slider to display on the home page"}),r.jsxs(sn,{to:"/admin/sliders/new",className:"inline-flex items-center gap-2 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg transition-colors",children:[r.jsx(Rr,{size:20}),"Create First Slider"]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((h,f)=>r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"relative h-40 bg-gray-200 overflow-hidden",children:h.image?r.jsx("img",{src:h.image,alt:h.title?.en||"Slider",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-300",children:r.jsx(_r,{className:"h-8 w-8 text-gray-400"})})}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:h.title?.en||"Untitled"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:h.description?.en||"No description"}),r.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-4",children:r.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded",children:["Order: ",h.order]})}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(sn,{to:`/admin/sliders/edit/${h.id}`,className:"flex-1 flex items-center justify-center gap-2 bg-blue-50 hover:bg-blue-100 text-blue-600 px-3 py-2 rounded transition-colors text-sm font-medium",children:[r.jsx(lc,{size:16}),"Edit"]}),r.jsxs("button",{onClick:()=>c(h.id),className:"flex-1 flex items-center justify-center gap-2 bg-red-50 hover:bg-red-100 text-red-600 px-3 py-2 rounded transition-colors text-sm font-medium",children:[r.jsx(_a,{size:16}),"Delete"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>d(f,"up"),disabled:f===0,className:"flex-1 flex items-center justify-center gap-1 bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed text-gray-700 px-3 py-2 rounded transition-colors text-sm font-medium",title:"Move up",children:r.jsx(AT,{size:16})}),r.jsx("button",{onClick:()=>d(f,"down"),disabled:f===n.length-1,className:"flex-1 flex items-center justify-center gap-1 bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed text-gray-700 px-3 py-2 rounded transition-colors text-sm font-medium",title:"Move down",children:r.jsx(ET,{size:16})})]})]})]})]},h.id))})]})},p3=()=>{const{id:n}=bo(),e=gr(),t=!!n,[s,a]=G.useState({titleEn:"",titleMr:"",descriptionEn:"",descriptionMr:"",image:"",order:1}),[o,c]=G.useState(null),[d,h]=G.useState(""),[f,g]=G.useState(!1),[p,v]=G.useState(!1),[b,A]=G.useState("");G.useEffect(()=>{t?S():j()},[n]);const S=async()=>{g(!0);try{const D=ut(Oe,"sliders",n),ee=await is(D);if(ee.exists()){const te=ee.data();a({titleEn:te.title?.en||"",titleMr:te.title?.mr||"",descriptionEn:te.description?.en||"",descriptionMr:te.description?.mr||"",image:te.image||"",order:te.order||1}),h(te.image||"")}else A("Slider not found")}catch(D){console.error("Error loading slider:",D),A("Failed to load slider")}finally{g(!1)}},j=async()=>{try{const D=Ir(Et(Oe,"sliders")),te=(await sr(D)).docs.reduce((H,M)=>{const I=M.data().order||0;return I>H?I:H},0);a(H=>({...H,order:te+1}))}catch(D){console.error("Error loading order:",D)}},E=D=>{const ee=D.target.files[0];if(!ee)return;if(!ee.type.startsWith("image/")){A("Please select an image file");return}if(ee.size>5*1024*1024){A("Image size must be less than 5MB");return}c(ee);const te=new FileReader;te.onloadend=()=>{h(te.result)},te.readAsDataURL(ee),A("")},L=async()=>{if(!o)return s.image;try{const D=`sliders/${Date.now()}_${o.name}`,ee=fm(mm,D);return await pw(ee,o),await Cy(ee)}catch(D){throw console.error("Error uploading image:",D),new Error("Failed to upload image")}},O=async D=>{if(D.preventDefault(),!d){A("Image is required");return}if(!s.titleEn){A("Title (English) is required");return}v(!0),A("");try{const ee=await L(),te={title:{en:s.titleEn,mr:s.titleMr||s.titleEn},description:{en:s.descriptionEn,mr:s.descriptionMr||s.descriptionEn},image:ee,order:parseInt(s.order),updatedAt:new Date().toISOString()};t?await ia(ut(Oe,"sliders",n),te):(te.createdAt=new Date().toISOString(),await ns(Et(Oe,"sliders"),te)),e("/admin/sliders")}catch(ee){console.error("Error saving slider:",ee),A(ee.message||"Failed to save slider")}finally{v(!1)}};return f?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>e("/admin/sliders"),className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx(vi,{size:20}),"Back to Sliders"]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"Edit Slider":"Add New Slider"})]}),b&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:b}),r.jsxs("form",{onSubmit:O,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-4",children:"Slider Image * (Recommended: 1920500px)"}),d?r.jsxs("div",{className:"relative group mb-4",children:[r.jsx("img",{src:d,alt:"Preview",className:"w-full h-64 object-cover rounded-lg border border-gray-200"}),r.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:r.jsxs("label",{className:"px-4 py-2 bg-white text-gray-800 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors font-medium",children:["Change Image",r.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"hidden"})]})})]}):r.jsxs("label",{className:"flex flex-col items-center justify-center h-64 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-primary-600 hover:bg-primary-50 transition-colors mb-4",children:[r.jsx(cc,{className:"h-12 w-12 text-gray-400 mb-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Click to upload image"}),r.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF up to 5MB"}),r.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"hidden"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (English) *"}),r.jsx("input",{type:"text",value:s.titleEn,onChange:D=>a({...s,titleEn:D.target.value}),placeholder:"Enter title in English",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent outline-none transition-colors"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (Marathi)"}),r.jsx("input",{type:"text",value:s.titleMr,onChange:D=>a({...s,titleMr:D.target.value}),placeholder:" ",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent outline-none transition-colors"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (English)"}),r.jsx("textarea",{value:s.descriptionEn,onChange:D=>a({...s,descriptionEn:D.target.value}),placeholder:"Enter description in English",rows:"4",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent outline-none transition-colors resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Marathi)"}),r.jsx("textarea",{value:s.descriptionMr,onChange:D=>a({...s,descriptionMr:D.target.value}),placeholder:" ",rows:"4",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent outline-none transition-colors resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),r.jsx("input",{type:"number",value:s.order,onChange:D=>a({...s,order:parseInt(D.target.value)||1}),min:"1",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent outline-none transition-colors"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first"})]})]}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx("button",{type:"button",onClick:()=>e("/admin/sliders"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:p,className:"px-6 py-2 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors font-medium flex items-center gap-2",children:p?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(cc,{size:18}),t?"Update Slider":"Create Slider"]})})]})]})]})},R$=()=>{const[n,e]=G.useState({marathi:"",english:"",subtext:""}),[t,s]=G.useState(!0),[a,o]=G.useState(!1),[c,d]=G.useState({type:"",text:""});G.useEffect(()=>{h()},[]);const h=async()=>{try{s(!0);const p=ut(Oe,"headerConfig","main"),v=await is(p);if(v.exists()){const b=v.data();e({marathi:b.marathi||"",english:b.english||"",subtext:b.subtext||""})}}catch(p){console.error("Error loading header settings:",p),d({type:"error",text:"Failed to load header settings"})}finally{s(!1)}},f=(p,v)=>{e(b=>({...b,[p]:v}))},g=async p=>{if(p.preventDefault(),!n.marathi.trim()||!n.english.trim()){d({type:"error",text:"Marathi and English text are required"});return}try{o(!0),d({type:"",text:""});const v=ut(Oe,"headerConfig","main");await fu(v,{marathi:n.marathi.trim(),english:n.english.trim(),subtext:n.subtext.trim(),updatedAt:new Date().toISOString()}),d({type:"success",text:"Header settings saved successfully!"}),setTimeout(()=>d({type:"",text:""}),3e3)}catch(v){console.error("Error saving header settings:",v),d({type:"error",text:"Failed to save header settings"})}finally{o(!1)}};return t?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading header settings..."})]})}):r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Header Settings"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage the main header text and branding information displayed on every page"})]}),c.text&&r.jsx("div",{className:`mb-6 p-4 rounded-lg ${c.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:c.text}),r.jsxs("form",{onSubmit:g,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Department Name (Marathi) *"}),r.jsx("textarea",{value:n.marathi,onChange:p=>f("marathi",p.target.value),placeholder:":      ",rows:"2",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent outline-none transition-colors resize-none"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"This will be displayed in Marathi"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Department Name (English) *"}),r.jsx("textarea",{value:n.english,onChange:p=>f("english",p.target.value),placeholder:"Example: Rural Development & Panchayat Raj Department",rows:"2",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent outline-none transition-colors resize-none"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"This will be displayed in English"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Subtext (English)"}),r.jsx("input",{type:"text",value:n.subtext,onChange:p=>f("subtext",p.target.value),placeholder:"Example: Government Of Maharashtra",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent outline-none transition-colors"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Optional: Additional subtitle text"})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg shadow-md p-6",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(ai,{size:18}),"Preview"]}),r.jsxs("div",{className:"bg-white rounded p-4 space-y-2",children:[r.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:"#000"},children:n.marathi||"(Marathi text will appear here)"}),r.jsx("div",{style:{fontSize:"18px",fontWeight:700,color:"#000"},children:n.english||"(English text will appear here)"}),r.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#000"},children:n.subtext||"(Subtext will appear here)"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"reset",onClick:h,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Reset"}),r.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors font-medium flex items-center gap-2",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ks,{size:18}),"Save Header Settings"]})})]})]})]})};async function P$(){console.log(" Starting data migration from localStorage to Firebase..."),console.log("====================================================");const n={villages:0,demographics:0,breakdowns:0,groups:0,infrastructure:0,years:0,news:0,schemes:0,achievements:0,complaints:0,errors:[]};try{console.log(`
 Migrating Villages...`);const e=JSON.parse(localStorage.getItem("VILLAGES")||"[]");for(const p of e)try{await ns(Et(Oe,"villages"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.villages++}catch(v){n.errors.push({type:"village",data:p,error:v.message})}console.log(` Migrated ${n.villages} villages`),console.log(`
 Migrating Demographics...`);const t=JSON.parse(localStorage.getItem("VILLAGE_DEMOGRAPHICS")||"[]");for(const p of t)try{await ns(Et(Oe,"demographics"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.demographics++}catch(v){n.errors.push({type:"demographics",data:p,error:v.message})}console.log(` Migrated ${n.demographics} demographics records`),console.log(`
 Migrating Population Breakdowns...`);const s=JSON.parse(localStorage.getItem("VILLAGE_POPULATION_BREAKDOWNS")||"[]");for(const p of s)try{await ns(Et(Oe,"populationBreakdowns"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.breakdowns++}catch(v){n.errors.push({type:"breakdown",data:p,error:v.message})}console.log(` Migrated ${n.breakdowns} population breakdowns`),console.log(`
 Migrating Village Groups...`);const a=JSON.parse(localStorage.getItem("VILLAGE_GROUPS")||"[]");for(const p of a)try{await ns(Et(Oe,"villageGroups"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.groups++}catch(v){n.errors.push({type:"groups",data:p,error:v.message})}console.log(` Migrated ${n.groups} village groups`),console.log(`
  Migrating Infrastructure...`);const o=JSON.parse(localStorage.getItem("VILLAGE_INFRASTRUCTURE")||"[]");for(const p of o)try{await ns(Et(Oe,"infrastructure"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.infrastructure++}catch(v){n.errors.push({type:"infrastructure",data:p,error:v.message})}console.log(` Migrated ${n.infrastructure} infrastructure records`),console.log(`
 Migrating Years...`);const c=JSON.parse(localStorage.getItem("STATISTICS_YEARS")||"[]");for(const p of c)try{await ns(Et(Oe,"statisticsYears"),{year:p,createdAt:Qt()}),n.years++}catch(v){n.errors.push({type:"year",data:p,error:v.message})}console.log(` Migrated ${n.years} years`),console.log(`
 Migrating News...`);const d=JSON.parse(localStorage.getItem("NEWS")||"[]");for(const p of d)try{await ns(Et(Oe,"news"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.news++}catch(v){n.errors.push({type:"news",data:p,error:v.message})}console.log(` Migrated ${n.news} news items`),console.log(`
 Migrating Schemes...`);const h=JSON.parse(localStorage.getItem("SCHEMES")||"[]");for(const p of h)try{await ns(Et(Oe,"schemes"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.schemes++}catch(v){n.errors.push({type:"scheme",data:p,error:v.message})}console.log(` Migrated ${n.schemes} schemes`),console.log(`
 Migrating Achievements...`);const f=JSON.parse(localStorage.getItem("ACHIEVEMENTS")||"[]");for(const p of f)try{await ns(Et(Oe,"achievements"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.achievements++}catch(v){n.errors.push({type:"achievement",data:p,error:v.message})}console.log(` Migrated ${n.achievements} achievements`),console.log(`
 Migrating Complaints...`);const g=JSON.parse(localStorage.getItem("COMPLAINTS")||"[]");for(const p of g)try{await ns(Et(Oe,"complaints"),{...p,createdAt:Qt(),updatedAt:Qt()}),n.complaints++}catch(v){n.errors.push({type:"complaint",data:p,error:v.message})}return console.log(` Migrated ${n.complaints} complaints`),console.log(`
====================================================`),console.log(" MIGRATION SUMMARY:"),console.log("===================================================="),console.log(`Villages:            ${n.villages}`),console.log(`Demographics:        ${n.demographics}`),console.log(`Breakdowns:          ${n.breakdowns}`),console.log(`Groups:              ${n.groups}`),console.log(`Infrastructure:      ${n.infrastructure}`),console.log(`Years:               ${n.years}`),console.log(`News:                ${n.news}`),console.log(`Schemes:             ${n.schemes}`),console.log(`Achievements:        ${n.achievements}`),console.log(`Complaints:          ${n.complaints}`),console.log("===================================================="),console.log(`Total migrated:      ${Object.values(n).reduce((p,v)=>typeof v=="number"?p+v:p,0)}`),console.log(`Errors:              ${n.errors.length}`),console.log("===================================================="),n.errors.length>0&&(console.log(`
 Errors encountered:`),n.errors.forEach((p,v)=>{console.log(`${v+1}. ${p.type}:`,p.error)})),console.log(`
 Migration complete!`),console.log("  IMPORTANT: After verifying data in Firebase Console,"),console.log("    you can safely clear localStorage."),n}catch(e){throw console.error(" Migration failed:",e),e}}function L$(){return confirm(" WARNING: This will clear all localStorage data. Have you verified data in Firebase? This cannot be undone!")?(localStorage.removeItem("VILLAGES"),localStorage.removeItem("VILLAGE_DEMOGRAPHICS"),localStorage.removeItem("VILLAGE_POPULATION_BREAKDOWNS"),localStorage.removeItem("VILLAGE_GROUPS"),localStorage.removeItem("VILLAGE_INFRASTRUCTURE"),localStorage.removeItem("STATISTICS_YEARS"),localStorage.removeItem("NEWS"),localStorage.removeItem("SCHEMES"),localStorage.removeItem("ACHIEVEMENTS"),localStorage.removeItem("COMPLAINTS"),localStorage.removeItem("ADMIN_USER"),localStorage.removeItem("SITE_SETTINGS"),console.log(" localStorage cleared"),!0):!1}async function D$(){try{console.log(" Testing Firebase connection...");const n=await ns(Et(Oe,"test"),{message:"Firebase connection test",timestamp:Qt()});return console.log(" Firebase connected successfully!"),console.log("   Test document ID:",n.id),!0}catch(n){return console.error(" Firebase connection failed:",n),console.error("   Check your .env file and Firebase configuration"),!1}}const M$=()=>{const[n,e]=G.useState(""),[t,s]=G.useState(!1),[a,o]=G.useState("admin@grampanchayat.com"),[c,d]=G.useState(""),h=async()=>{s(!0),e(" Testing Firebase connection...");try{const v=await D$();e(v?" Firebase connected successfully! Check console for details.":" Connection failed. Check console for errors.")}catch(v){e(` Error: ${v.message}`)}finally{s(!1)}},f=async()=>{if(confirm(" This will migrate all localStorage data to Firebase. Continue?")){s(!0),e(" Migrating data to Firebase... Check console for progress.");try{const v=await P$();e(` Migration complete! Migrated ${JSON.stringify(v)} records. Check console for details.`)}catch(v){e(` Migration failed: ${v.message}`)}finally{s(!1)}}},g=async()=>{if(!a||!c){e(" Please enter email and password");return}if(c.length<6){e(" Password must be at least 6 characters");return}s(!0),e(" Creating admin user...");try{await xF(a,c,{name:"Admin",role:"admin"}),e(` Admin user created successfully! Email: ${a}`),d("")}catch(v){v.code==="auth/email-already-in-use"?e(" Email already in use. Admin user already exists."):e(` Error: ${v.message}`)}finally{s(!1)}},p=()=>{L$()&&e(" localStorage cleared successfully!")};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-green-50 p-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:" Firebase Setup & Migration"}),r.jsx("p",{className:"text-gray-600",children:"Configure Firebase and migrate your data from localStorage"})]}),n&&r.jsx("div",{className:"bg-white rounded-lg shadow-lg p-4 mb-6",children:r.jsx("p",{className:"text-sm font-mono whitespace-pre-wrap",children:n})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Step 1: Test Firebase Connection"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Verify that Firebase is configured correctly."}),r.jsx("button",{onClick:h,disabled:t,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Testing...":" Test Connection"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Step 2: Create Admin User"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Create an admin account for Firebase Authentication."}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),r.jsx("input",{type:"email",value:a,onChange:v=>o(v.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"admin@grampanchayat.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Password (min 6 characters)"}),r.jsx("input",{type:"password",value:c,onChange:v=>d(v.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Enter secure password"})]}),r.jsx("button",{onClick:g,disabled:t,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Creating...":" Create Admin User"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Step 3: Migrate Data from localStorage"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Transfer all existing data from localStorage to Firebase Firestore."}),r.jsx("button",{onClick:f,disabled:t,className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Migrating...":" Migrate Data to Firebase"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Step 4: Clear localStorage (Optional)"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"After verifying data in Firebase Console, you can clear localStorage."}),r.jsx("button",{onClick:p,disabled:t,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:" Clear localStorage"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-100 to-green-100 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:" Setup Instructions"}),r.jsxs("ol",{className:"space-y-2 text-gray-700",children:[r.jsxs("li",{children:["1. Enable ",r.jsx("b",{children:"Firestore Database"})," in Firebase Console (Test mode)"]}),r.jsxs("li",{children:["2. Enable ",r.jsx("b",{children:"Authentication"}),"  Email/Password"]}),r.jsxs("li",{children:["3. Enable ",r.jsx("b",{children:"Storage"})," (Test mode)"]}),r.jsx("li",{children:'4. Click "Test Connection" above'}),r.jsx("li",{children:"5. Create admin user with email and password"}),r.jsx("li",{children:"6. Migrate your data (if you have existing data)"}),r.jsx("li",{children:"7. Verify data in Firebase Console"}),r.jsxs("li",{children:["8. Deploy security rules from ",r.jsx("code",{children:"firestore.rules"})," and ",r.jsx("code",{children:"storage.rules"})]})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-300",children:r.jsxs("p",{className:"text-sm text-gray-600",children:[" Firebase Console: ",r.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"https://console.firebase.google.com/"})]})})]})]})})};function O$(){const n=gr(),[e,t]=G.useState({email:"",password:""}),[s,a]=G.useState(!1),[o,c]=G.useState(""),[d,h]=G.useState(!1),f=async p=>{p.preventDefault(),a(!0),c("");try{const v=await xS(oc,e.email,e.password);await yT(v.user.uid)?n("/superadmin/dashboard"):(await oc.signOut(),c("Unauthorized. You do not have super admin access."))}catch(v){console.error("Login error:",v);let b="Login failed. Please try again.";v.code==="auth/user-not-found"?b="No account found with this email.":v.code==="auth/wrong-password"?b="Incorrect password.":v.code==="auth/invalid-email"?b="Invalid email address.":v.code==="auth/too-many-requests"&&(b="Too many failed attempts. Please try again later."),c(b)}finally{a(!1)}},g=p=>{t({...e,[p.target.name]:p.target.value}),c("")};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),r.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/10 backdrop-blur-md rounded-full mb-4 border border-white/20",children:r.jsx(Zl,{className:"w-10 h-10 text-white"})}),r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Super Admin Panel"}),r.jsx("p",{className:"text-indigo-200",children:"Gram Panchayat Multi-Tenant Management"})]}),r.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20",children:r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o&&r.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(Qn,{className:"w-5 h-5 text-red-200 flex-shrink-0 mt-0.5"}),r.jsx("p",{className:"text-sm text-red-100",children:o})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx($o,{className:"h-5 w-5 text-indigo-300"})}),r.jsx("input",{type:"email",name:"email",value:e.email,onChange:g,required:!0,placeholder:"superadmin@grampanchayat.in",className:"block w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent transition",disabled:s})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(L2,{className:"h-5 w-5 text-indigo-300"})}),r.jsx("input",{type:d?"text":"password",name:"password",value:e.password,onChange:g,required:!0,placeholder:"Enter your password",className:"block w-full pl-10 pr-12 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent transition",disabled:s}),r.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-indigo-300 hover:text-white transition",children:d?r.jsx(_h,{className:"h-5 w-5"}):r.jsx(ai,{className:"h-5 w-5"})})]})]}),r.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold py-3 px-4 rounded-lg hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg",children:s?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Signing in..."]}):"Sign In"}),r.jsx("p",{className:"text-xs text-center text-indigo-200",children:"Super Admin access only. Unauthorized access is prohibited."})]})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx("button",{onClick:()=>n("/"),className:"text-sm text-indigo-200 hover:text-white transition",children:" Back to Main Site"})}),r.jsx("div",{className:"mt-8 bg-yellow-500/20 border border-yellow-500/50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Zl,{className:"w-5 h-5 text-yellow-200 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-yellow-100 mb-1",children:"Security Notice"}),r.jsx("p",{className:"text-xs text-yellow-200",children:"All login attempts are logged and monitored. Only authorized personnel should access this panel."})]})]})})]})]})}function F$(){const n=gr(),{superAdmin:e}=_T(),[t,s]=G.useState(null),[a,o]=G.useState([]),[c,d]=G.useState(!0),[h,f]=G.useState("overview");G.useEffect(()=>{g()},[]);const g=async()=>{try{d(!0);const[v,b]=await Promise.all([eU(),Iy()]);s(v),o(b)}catch(v){console.error("Error loading dashboard:",v)}finally{d(!1)}},p=async()=>{confirm("Are you sure you want to logout?")&&(await oc.signOut(),n("/superadmin/login"))};return c?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[r.jsx(Jg,{className:"w-6 h-6 animate-spin"}),r.jsx("p",{children:"Loading dashboard..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-indigo-600 rounded-lg",children:r.jsx(Zl,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Super Admin Panel"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Multi-Tenant Management"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:e?.displayName||"Super Admin"}),r.jsx("p",{className:"text-xs text-gray-500",children:e?.email})]}),r.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition",children:[r.jsx(IT,{className:"w-4 h-4"}),"Logout"]})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Welcome back, ",e?.displayName?.split(" ")[0]||"Admin","! "]}),r.jsx("p",{className:"text-gray-600",children:"Manage all Gram Panchayats from this central dashboard."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:r.jsx(yl,{className:"w-6 h-6 text-indigo-600"})})}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Gram Panchayats"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t?.totalGPs||0})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Yi,{className:"w-6 h-6 text-green-600"})})}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active GPs"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t?.activeGPs||0})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Cs,{className:"w-6 h-6 text-purple-600"})})}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Admin Users"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t?.totalUsers||0})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(ph,{className:"w-6 h-6 text-orange-600"})})}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Custom Domains"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t?.customDomains||0})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("button",{onClick:()=>n("/superadmin/gram-panchayats/add"),className:"flex items-center gap-3 p-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg hover:from-indigo-600 hover:to-purple-700 transition shadow-md",children:[r.jsx(Rr,{className:"w-5 h-5"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-semibold",children:"Add New GP"}),r.jsx("p",{className:"text-sm text-indigo-100",children:"Create a new Gram Panchayat"})]})]}),r.jsxs("button",{onClick:()=>n("/superadmin/gram-panchayats"),className:"flex items-center gap-3 p-4 bg-white border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition",children:[r.jsx(yl,{className:"w-5 h-5 text-gray-600"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Manage GPs"}),r.jsx("p",{className:"text-sm text-gray-600",children:"View and edit all GPs"})]})]}),r.jsxs("button",{onClick:()=>n("/superadmin/users"),className:"flex items-center gap-3 p-4 bg-white border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition",children:[r.jsx(Cs,{className:"w-5 h-5 text-gray-600"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Manage Users"}),r.jsx("p",{className:"text-sm text-gray-600",children:"View all admin users"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Gram Panchayats"}),r.jsx("button",{onClick:()=>n("/superadmin/gram-panchayats"),className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:"View All "})]}),a.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(yl,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"No Gram Panchayats yet"}),r.jsx("button",{onClick:()=>n("/superadmin/gram-panchayats/add"),className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Add your first Gram Panchayat "})]}):r.jsx("div",{className:"space-y-3",children:a.slice(0,5).map(v=>r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition cursor-pointer",onClick:()=>n(`/superadmin/gram-panchayats/${v.id}`),children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold",children:v.name?.charAt(0)||v.id?.charAt(0)||"G"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:v.name||v.id||"Unnamed GP"}),r.jsxs("p",{className:"text-sm text-gray-500",children:[v.district||"N/A",", ",v.state||"N/A"]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[v.customDomain&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(ph,{className:"w-4 h-4"}),v.customDomain]}),r.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${v.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:v.active?r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Yi,{className:"w-3 h-3"}),"Active"]}):r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(gh,{className:"w-3 h-3"}),"Inactive"]})})]})]},v.id))})]})]})]})}function U$(){const n=gr(),[e,t]=G.useState(!1),[s,a]=G.useState(!1),[o,c]=G.useState(""),[d,h]=G.useState(!1),[f,g]=G.useState(null),[p,v]=G.useState({name:"",nameMarathi:"",district:"",state:"Maharashtra",email:"",phone:"",address:"",pincode:"",customDomain:"",subdomain:"",adminEmail:"",adminPassword:"",adminName:"",active:!0}),b=O=>{const{name:D,value:ee,type:te,checked:H}=O.target;v({...p,[D]:te==="checkbox"?H:ee}),c("")},A=()=>{const O=NT(12);v({...p,adminPassword:O})},S=()=>{const D=`gp-${p.name.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,20)}`;v({...p,subdomain:D})},j=()=>p.name.trim()?p.district.trim()?!p.customDomain&&!p.subdomain?(c("Either custom domain or subdomain is required"),!1):!p.adminEmail.trim()||!p.adminEmail.includes("@")?(c("Valid admin email is required"),!1):!p.adminPassword||p.adminPassword.length<6?(c("Admin password must be at least 6 characters"),!1):p.adminName.trim()?!0:(c("Admin name is required"),!1):(c("District is required"),!1):(c("GP name is required"),!1),E=async O=>{if(O.preventDefault(),!!j()){t(!0),c("");try{const D=p.name.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,20);let te=`gp-${D}`;if(p.subdomain){const U=p.subdomain.toLowerCase().trim();/^-?[a-z0-9-]+-gpmulti$/.test(U)?te=`${U.replace(/-gpmulti$/,"").replace(/-/g,"").replace(/[^a-z0-9]/g,"").substring(0,20)}-gpmulti`:/^gp-[a-z0-9-]+$/.test(U)?te=`gp-${U.replace(/^gp-/,"").replace(/[^a-z0-9]/g,"").substring(0,20)}`:te=`gp-${U.replace(/-/g,"").replace(/[^a-z0-9]/g,"").substring(0,20)}`}const H=p.customDomain||`${te}.web.app`,M={...p,id:D,subdomain:te,domain:H},I=await YF(M);g({gpName:p.name,adminEmail:p.adminEmail,adminPassword:p.adminPassword,gpId:I.gpId}),a(!0),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{n(`/superadmin/gram-panchayats/${I.gpId}`)},5e3)}catch(D){console.error("Error creating GP:",D);let ee="Failed to create Gram Panchayat. ";D.code==="permission-denied"?ee+="Permission denied. Please ensure you are logged in as a Super Admin and Firestore rules are deployed.":D.message?ee+=D.message:ee+="Please try again or contact support.",D.message&&D.message.includes("already exists")&&(ee="A Gram Panchayat with a similar name already exists. Please choose a different name."),c(ee),window.scrollTo({top:0,behavior:"smooth"})}finally{t(!1)}}},L=()=>{a(!1),g(null),v({name:"",nameMarathi:"",district:"",state:"Maharashtra",email:"",phone:"",address:"",pincode:"",customDomain:"",subdomain:"",adminEmail:"",adminPassword:"",adminName:"",active:!0})};return s&&f?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Add Gram Panchayat"}),r.jsx("button",{onClick:()=>n("/superadmin/dashboard"),className:"text-gray-600 hover:text-gray-900",children:"Close"})]})})}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:r.jsx(Yi,{className:"w-8 h-8 text-green-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Gram Panchayat Created Successfully! "}),r.jsxs("p",{className:"text-gray-600",children:[f.gpName," has been added to the system."]})]}),r.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-6 mb-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Qn,{className:"w-5 h-5 text-indigo-600"}),"Admin Credentials (Save These!)"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Admin Email"}),r.jsx("p",{className:"font-mono font-semibold text-gray-900",children:f.adminEmail})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Admin Password"}),r.jsx("p",{className:"font-mono font-semibold text-gray-900",children:f.adminPassword})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"GP ID"}),r.jsx("p",{className:"font-mono font-semibold text-gray-900",children:f.gpId})]})]}),r.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",r.jsx("strong",{children:"Important:"})," Save these credentials securely. The admin will need them to login."]})})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:" What's Happening Next:"}),r.jsxs("ol",{className:"space-y-2 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-semibold text-indigo-600",children:"1."}),r.jsx("span",{children:"GitHub Actions is deploying the GP site (takes ~2-3 minutes)"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-semibold text-indigo-600",children:"2."}),r.jsx("span",{children:"The actual domain URL will be updated automatically in Firestore"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-semibold text-indigo-600",children:"3."}),r.jsx("span",{children:"You'll be redirected to the GP page where you can see the live domain"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-semibold text-indigo-600",children:"4."}),r.jsx("span",{children:"Share the admin credentials with the GP administrator"})]})]}),r.jsxs("div",{className:"mt-4 p-3 bg-indigo-50 border border-indigo-200 rounded-lg flex items-start gap-2",children:[r.jsx(Jg,{className:"w-4 h-4 text-indigo-600 animate-spin mt-0.5 flex-shrink-0"}),r.jsxs("p",{className:"text-sm text-indigo-800",children:[r.jsx("strong",{children:"Auto-redirecting in 5 seconds..."})," You'll see the deployment progress on the GP details page."]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("button",{onClick:()=>n(`/superadmin/gram-panchayats/${f.gpId}`),className:"flex-1 bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition font-semibold flex items-center justify-center gap-2",children:[r.jsx(ai,{className:"w-5 h-5"}),"View GP Details"]}),r.jsx("button",{onClick:L,className:"flex-1 bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-50 transition font-semibold",children:"Add Another GP"})]})]})})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/superadmin/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:r.jsx(vi,{className:"w-5 h-5 text-gray-600"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Add New Gram Panchayat"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(yl,{className:"w-4 h-4"}),"Create GP"]})]})})}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("form",{onSubmit:E,className:"space-y-6",children:[o&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(Qn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Error"}),r.jsx("p",{className:"text-sm text-red-700",children:o})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(yl,{className:"w-5 h-5 text-indigo-600"}),"Basic Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Gram Panchayat Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"name",value:p.name,onChange:b,onBlur:S,placeholder:"e.g., Pindkepar Lodha",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name in Marathi (Optional)"}),r.jsx("input",{type:"text",name:"nameMarathi",value:p.nameMarathi,onChange:b,placeholder:" ",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["District ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"district",value:p.district,onChange:b,placeholder:"e.g., Gondia",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["State ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"state",value:p.state,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"Maharashtra",children:"Maharashtra"}),r.jsx("option",{value:"Andhra Pradesh",children:"Andhra Pradesh"}),r.jsx("option",{value:"Gujarat",children:"Gujarat"}),r.jsx("option",{value:"Karnataka",children:"Karnataka"}),r.jsx("option",{value:"Madhya Pradesh",children:"Madhya Pradesh"}),r.jsx("option",{value:"Rajasthan",children:"Rajasthan"}),r.jsx("option",{value:"Tamil Nadu",children:"Tamil Nadu"}),r.jsx("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx($o,{className:"w-5 h-5 text-indigo-600"}),"Contact Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsx("input",{type:"email",name:"email",value:p.email,onChange:b,placeholder:"gp@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),r.jsx("input",{type:"tel",name:"phone",value:p.phone,onChange:b,placeholder:"+91 1234567890",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),r.jsx("textarea",{name:"address",value:p.address,onChange:b,placeholder:"Full address",rows:"2",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),r.jsx("input",{type:"text",name:"pincode",value:p.pincode,onChange:b,placeholder:"441614",maxLength:"6",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(ph,{className:"w-5 h-5 text-indigo-600"}),"Domain Configuration"]}),r.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:" Tip:"})," We'll try to create a clean FREE Firebase URL like ",r.jsxs("code",{children:["gp-",r.jsx("em",{children:"gpname"}),".web.app"]}),"to avoid random suffix collisions. If unavailable, a variant will be used. Custom domains can be added later!"]})}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Subdomain ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",name:"subdomain",value:p.subdomain,onChange:b,placeholder:"gp-pindkeparlodha",required:!0,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),r.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition",title:"Auto-generate from GP name",children:r.jsx(Bx,{className:"w-5 h-5"})})]}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[" ",r.jsx("strong",{children:"Suggested FREE URL:"})," ",r.jsxs("code",{className:"bg-gray-100 px-2 py-1 rounded",children:[p.subdomain||"gp-gpname",".web.app"]})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This will be your GP's website address. You can create a Firebase hosting site for this later."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Domain (Optional - Can add later)"}),r.jsx("input",{type:"text",name:"customDomain",value:p.customDomain,onChange:b,placeholder:"grampanchyatpindkepaarlodha.in",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:" Requires purchasing domain. Can be configured in Firebase Hosting console later."})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(rm,{className:"w-5 h-5 text-indigo-600"}),"Admin User"]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Admin Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"adminName",value:p.adminName,onChange:b,placeholder:"Full name of the administrator",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Admin Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",name:"adminEmail",value:p.adminEmail,onChange:b,placeholder:"admin@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This email will be used to login to the admin panel"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Admin Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("input",{type:d?"text":"password",name:"adminPassword",value:p.adminPassword,onChange:b,placeholder:"Minimum 6 characters",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,minLength:"6"}),r.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?r.jsx(_h,{className:"w-5 h-5"}):r.jsx(ai,{className:"w-5 h-5"})})]}),r.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 transition font-semibold",children:"Generate"})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Use a strong password. Click "Generate" for a secure random password.'})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",name:"active",id:"active",checked:p.active,onChange:b,className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),r.jsx("label",{htmlFor:"active",className:"text-sm text-gray-700",children:"Activate this Gram Panchayat immediately"})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{type:"button",onClick:()=>n("/superadmin/dashboard"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition font-semibold",disabled:e,children:"Cancel"}),r.jsx("button",{type:"submit",disabled:e,className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-indigo-700 hover:to-purple-700 transition font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:e?r.jsxs(r.Fragment,{children:[r.jsx(Jg,{className:"w-5 h-5 animate-spin"}),"Creating Gram Panchayat..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ks,{className:"w-5 h-5"}),"Create Gram Panchayat"]})})]})]})})]})}function V$(){const n=gr(),[e,t]=G.useState([]),[s,a]=G.useState([]),[o,c]=G.useState(!0),[d,h]=G.useState(""),[f,g]=G.useState("all"),[p,v]=G.useState("");G.useEffect(()=>{b()},[]),G.useEffect(()=>{A()},[d,f,e]);const b=async()=>{try{c(!0);const E=await Iy();t(E),a(E)}catch(E){console.error("Error loading GPs:",E),v("Failed to load Gram Panchayats")}finally{c(!1)}},A=()=>{let E=e;d.trim()&&(E=E.filter(L=>L.name.toLowerCase().includes(d.toLowerCase())||L.district.toLowerCase().includes(d.toLowerCase())||L.state.toLowerCase().includes(d.toLowerCase())||L.customDomain&&L.customDomain.toLowerCase().includes(d.toLowerCase()))),f==="active"?E=E.filter(L=>L.active):f==="inactive"&&(E=E.filter(L=>!L.active)),a(E)},S=async(E,L)=>{if(confirm(`Are you sure you want to ${L?"deactivate":"activate"} this Gram Panchayat?`))try{await bT(E,!L),await b()}catch(D){console.error("Error toggling GP status:",D),alert("Failed to update GP status")}},j=async(E,L)=>{const O=L||E||"this Gram Panchayat",D=E;if(!confirm(`Are you sure you want to delete "${O}"?

This will remove the GP from the system but preserve its data.`))return;if(prompt(`Type "${D}" to confirm deletion:`)!==D){alert("ID did not match. Deletion cancelled.");return}try{await vT(E),await b()}catch(te){console.error("Error deleting GP:",te),alert("Failed to delete GP")}};return o?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[r.jsx(Jg,{className:"w-6 h-6 animate-spin"}),r.jsx("p",{children:"Loading Gram Panchayats..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/superadmin/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:r.jsx(vi,{className:"w-5 h-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Manage Gram Panchayats"}),r.jsxs("p",{className:"text-sm text-gray-500",children:[e.length," total GPs"]})]})]}),r.jsxs("button",{onClick:()=>n("/superadmin/gram-panchayats/add"),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition",children:[r.jsx(Rr,{className:"w-5 h-5"}),"Add New GP"]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by name, district, state, or domain...",value:d,onChange:E=>h(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-lg font-medium transition ${f==="all"?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["All (",e.length,")"]}),r.jsxs("button",{onClick:()=>g("active"),className:`px-4 py-2 rounded-lg font-medium transition ${f==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Active (",e.filter(E=>E.active).length,")"]}),r.jsxs("button",{onClick:()=>g("inactive"),className:`px-4 py-2 rounded-lg font-medium transition ${f==="inactive"?"bg-gray-200 text-gray-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Inactive (",e.filter(E=>!E.active).length,")"]})]})]})}),p&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-center gap-3",children:[r.jsx(Qn,{className:"w-5 h-5 text-red-600"}),r.jsx("p",{className:"text-red-700",children:p})]}),s.length===0?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[r.jsx(yl,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:d||f!=="all"?"No GPs Found":"No Gram Panchayats Yet"}),r.jsx("p",{className:"text-gray-600 mb-6",children:d||f!=="all"?"Try adjusting your filters":"Add your first Gram Panchayat to get started"}),!d&&f==="all"&&r.jsxs("button",{onClick:()=>n("/superadmin/gram-panchayats/add"),className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition font-semibold",children:[r.jsx(Rr,{className:"w-5 h-5"}),"Add First GP"]})]}):r.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.map(E=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-2xl flex-shrink-0",children:E.name?.charAt(0)||E.id?.charAt(0)||"G"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.name||"Unnamed GP"}),E.nameMarathi&&r.jsx("p",{className:"text-sm text-gray-500",children:E.nameMarathi})]}),r.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${E.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:E.active?r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Yi,{className:"w-3 h-3"}),"Active"]}):r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(gh,{className:"w-3 h-3"}),"Inactive"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vl,{className:"w-4 h-4"}),E.district,", ",E.state]}),E.email&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($o,{className:"w-4 h-4"}),E.email]}),E.phone&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vo,{className:"w-4 h-4"}),E.phone]}),E.customDomain&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ph,{className:"w-4 h-4"}),E.customDomain]})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",E.createdAt?.seconds?new Date(E.createdAt.seconds*1e3).toLocaleDateString("en-IN"):"N/A",E.updatedAt?.seconds&&r.jsxs("span",{className:"ml-4",children:["Updated: ",new Date(E.updatedAt.seconds*1e3).toLocaleDateString("en-IN")]})]})]})]})})}),r.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-200",children:[r.jsxs("button",{onClick:()=>n(`/superadmin/gram-panchayats/edit/${E.id}`),className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 text-indigo-700 rounded-lg hover:bg-indigo-100 transition font-medium",children:[r.jsx(lc,{className:"w-4 h-4"}),"Edit"]}),r.jsxs("button",{onClick:()=>S(E.id,E.active),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition ${E.active?"bg-yellow-50 text-yellow-700 hover:bg-yellow-100":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:[r.jsx(RT,{className:"w-4 h-4"}),E.active?"Deactivate":"Activate"]}),r.jsxs("button",{onClick:()=>j(E.id,E.name||E.id),className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition font-medium ml-auto",children:[r.jsx(_a,{className:"w-4 h-4"}),"Delete"]})]})]},E.id))})]})]})}const z$=()=>{const{id:n}=bo(),e=gr(),[t,s]=G.useState(null),[a,o]=G.useState([]),[c,d]=G.useState(null),[h,f]=G.useState(!0),[g,p]=G.useState(""),[v,b]=G.useState({}),[A,S]=G.useState(!1),[j,E]=G.useState(!1);G.useEffect(()=>{if(!n)return;const M=KF(n,I=>{I&&s(U=>(U&&U.domain!==I.domain&&(E(!1),console.log(" Domain updated:",I.domain)),I))});return()=>{M&&M()}},[n]),G.useEffect(()=>{L()},[n]);const L=async()=>{try{f(!0),p("");const M=await vw(n);if(!M){p("Gram Panchayat not found");return}s(M);try{const I=await tU(n);o(I||[])}catch(I){console.error("Error loading users:",I),o([])}try{const I=await nU(n);d(I)}catch(I){console.error("Error loading stats:",I),d(null)}}catch(M){console.error("Error loading GP:",M),p(M.message||"Failed to load Gram Panchayat details")}finally{f(!1)}},O=async()=>{if(confirm(`Are you sure you want to ${t.active?"deactivate":"activate"} this Gram Panchayat?`))try{S(!0),await bT(n,!t.active),s({...t,active:!t.active})}catch(M){alert("Failed to update status: "+M.message)}finally{S(!1)}},D=async()=>{if(!confirm(" WARNING: This will permanently delete the Gram Panchayat and all its data. This action cannot be undone. Are you sure?"))return;if(prompt('Type "DELETE" to confirm deletion:')!=="DELETE"){alert("Deletion cancelled");return}try{S(!0);const I=await vT(n);alert(I.message+`

`+(I.note||"")),e("/superadmin/gram-panchayats")}catch(I){alert("Failed to delete: "+I.message),S(!1)}},ee=M=>{b(I=>({...I,[M]:!I[M]}))},te=(M,I)=>{navigator.clipboard.writeText(M),alert(`${I} copied to clipboard!`)},H=M=>{try{return atob(M)}catch{return"****"}};return h?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Bx,{className:"w-12 h-12 text-indigo-600 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading Gram Panchayat details..."})]})}):g||!t?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(gh,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error"}),r.jsx("p",{className:"text-gray-600 mb-6",children:g||"Gram Panchayat not found"}),r.jsx("button",{onClick:()=>e("/superadmin/gram-panchayats"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Back to List"})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>e("/superadmin/gram-panchayats"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx(vi,{className:"w-5 h-5"}),"Back to Gram Panchayats"]}),r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.name}),t.active?r.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium flex items-center gap-1",children:[r.jsx(Yi,{className:"w-4 h-4"}),"Active"]}):r.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium flex items-center gap-1",children:[r.jsx(gh,{className:"w-4 h-4"}),"Inactive"]})]}),t.nameMarathi&&r.jsx("p",{className:"text-xl text-gray-600",children:t.nameMarathi}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["ID: ",t.id]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:O,disabled:A,className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${t.active?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[r.jsx(RT,{className:"w-4 h-4"}),t.active?"Deactivate":"Activate"]}),r.jsxs("button",{onClick:()=>e(`/superadmin/gram-panchayats/edit/${n}`),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium flex items-center gap-2",children:[r.jsx(lc,{className:"w-4 h-4"}),"Edit"]}),r.jsxs("button",{onClick:D,disabled:A,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium flex items-center gap-2",children:[r.jsx(_a,{className:"w-4 h-4"}),"Delete"]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ph,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Firebase Hosting URL"}),r.jsx("div",{className:"flex items-center gap-2",children:t.url?r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-gray-900 font-medium break-all",children:t.url}),r.jsx("button",{onClick:()=>window.open(t.url,"_blank"),className:"text-indigo-600 hover:text-indigo-800 flex-shrink-0",title:"Open site in new tab",children:r.jsx(Ag,{className:"w-4 h-4"})})]}):r.jsx("p",{className:"text-amber-600 font-medium",children:"Not configured"})})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ph,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Custom Domain"}),r.jsx("div",{className:"flex items-center gap-2",children:t.customDomain?r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-gray-900 font-medium break-all",children:t.customDomain}),r.jsx("button",{onClick:()=>window.open(`https://${t.customDomain}`,"_blank"),className:"text-indigo-600 hover:text-indigo-800 flex-shrink-0",title:"Open custom domain in new tab",children:r.jsx(Ag,{className:"w-4 h-4"})})]}):r.jsx("p",{className:"text-gray-500 font-medium",children:"Not configured"})})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(vl,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Location"}),r.jsx("p",{className:"text-gray-900 font-medium",children:[t.district,t.state].filter(Boolean).join(", ")||"Not specified"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx($o,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Admin Email"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"text-gray-900 font-medium",children:t.adminEmail}),r.jsx("button",{onClick:()=>te(t.adminEmail,"Email"),className:"text-gray-400 hover:text-gray-600",children:r.jsx(k2,{className:"w-4 h-4"})})]})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ss,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Created"}),r.jsx("p",{className:"text-gray-900 font-medium",children:t.createdAt?.toDate?.().toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})||"Unknown"})]})]})]}),(t.pincode||t.contactNumber||t.address)&&r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Additional Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.pincode&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Pincode"}),r.jsx("p",{className:"text-gray-900",children:t.pincode})]}),t.contactNumber&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Contact Number"}),r.jsx("p",{className:"text-gray-900",children:t.contactNumber})]}),t.address&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),r.jsx("p",{className:"text-gray-900",children:t.address})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Cs,{className:"w-5 h-5"}),"Admin Users (",a.length,")"]}),a.length===0?r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No users found"}):r.jsx("div",{className:"space-y-4",children:a.map(M=>r.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 transition",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("p",{className:"font-medium text-gray-900",children:M.email}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${M.role==="admin"?"bg-purple-100 text-purple-700":M.role==="superAdmin"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:M.role}),M.active===!1&&r.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-700",children:"Inactive"})]}),M.initialPassword&&r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Password:"}),r.jsx("code",{className:"px-2 py-1 bg-gray-100 rounded text-sm font-mono",children:v[M.id]?H(M.initialPassword):""}),r.jsx("button",{onClick:()=>ee(M.id),className:"text-gray-400 hover:text-gray-600",children:v[M.id]?r.jsx(_h,{className:"w-4 h-4"}):r.jsx(ai,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>te(H(M.initialPassword),"Password"),className:"text-gray-400 hover:text-gray-600",children:r.jsx(k2,{className:"w-4 h-4"})})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Created: ",M.createdAt?.toDate?.().toLocaleDateString("en-IN")||"Unknown"]})]})})},M.id))})]})]}),r.jsxs("div",{className:"space-y-6",children:[c&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Users"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalUsers||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Notices"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalNotices||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Grievances"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalGrievances||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Storage Used"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.storageUsed?`${(c.storageUsed/1024/1024).toFixed(2)} MB`:"0 MB"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>e(`/superadmin/gram-panchayats/edit/${n}`),className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center justify-center gap-2",children:[r.jsx(lc,{className:"w-4 h-4"}),"Edit Details"]}),r.jsxs("button",{onClick:()=>e(`/superadmin/users?gp=${n}`),className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center justify-center gap-2",children:[r.jsx(Cs,{className:"w-4 h-4"}),"Manage Users"]}),t.domain&&r.jsxs("button",{onClick:()=>window.open(`https://${t.domain}`,"_blank"),className:"w-full px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 font-medium flex items-center justify-center gap-2",children:[r.jsx(Ag,{className:"w-4 h-4"}),"Visit Website"]}),r.jsxs("button",{onClick:L,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center justify-center gap-2",children:[r.jsx(Bx,{className:"w-4 h-4"}),"Refresh Data"]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Metadata"}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Created At"}),r.jsx("p",{className:"text-gray-900",children:t.createdAt?.toDate?.().toLocaleString("en-IN")||"Unknown"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Last Updated"}),r.jsx("p",{className:"text-gray-900",children:t.updatedAt?.toDate?.().toLocaleString("en-IN")||"Never"})]}),t.createdBy&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Created By"}),r.jsx("p",{className:"text-gray-900",children:t.createdBy})]})]})]})]})]})]})})};function B$(){const{id:n}=bo(),e=gr(),[t,s]=G.useState(!0),[a,o]=G.useState(!1),[c,d]=G.useState(""),[h,f]=G.useState(""),[g,p]=G.useState(!1),[v,b]=G.useState({name:"",nameMarathi:"",district:"",state:"Maharashtra",email:"",phone:"",address:"",pincode:"",contactNumber:"",adminEmail:"",adminPassword:"",adminName:"",url:"",customDomain:"",active:!0});G.useEffect(()=>{A()},[n]);const A=async()=>{try{s(!0);const E=await vw(n);if(!E){d("Gram Panchayat not found");return}b({name:E.name||"",nameMarathi:E.nameMarathi||"",district:E.district||"",state:E.state||"Maharashtra",email:E.email||"",phone:E.phone||"",address:E.address||"",pincode:E.pincode||"",contactNumber:E.contactNumber||"",adminEmail:E.adminEmail||"",adminPassword:E.adminPassword||"",adminName:E.adminName||"",url:E.url||"",customDomain:E.customDomain||"",active:E.active!==!1})}catch(E){console.error("Error loading GP:",E),d("Failed to load Gram Panchayat details")}finally{s(!1)}},S=E=>{const{name:L,value:O,type:D,checked:ee}=E.target;b(te=>({...te,[L]:D==="checkbox"?ee:O}))},j=async E=>{E.preventDefault();try{o(!0),d(""),f(""),await XF(n,v),f("Gram Panchayat updated successfully!"),setTimeout(()=>{e(`/superadmin/gram-panchayats/${n}`)},2e3)}catch(L){console.error("Error updating GP:",L),d(L.message||"Failed to update Gram Panchayat")}finally{o(!1)}};return t?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Gram Panchayat..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>e(`/superadmin/gram-panchayats/${n}`),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx(vi,{className:"h-5 w-5 mr-2"}),"Back to GP Details"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Gram Panchayat"}),r.jsxs("p",{className:"mt-2 text-gray-600",children:["Update details for ",v.name]})]}),c&&r.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[r.jsx(Ss,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:c})]}),h&&r.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-start",children:[r.jsx(ks,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:h})]}),r.jsxs("form",{onSubmit:j,className:"bg-white shadow-md rounded-lg p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GP Name (English) *"}),r.jsx("input",{type:"text",name:"name",value:v.name,onChange:S,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GP Name (Marathi)"}),r.jsx("input",{type:"text",name:"nameMarathi",value:v.nameMarathi,onChange:S,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"District *"}),r.jsx("input",{type:"text",name:"district",value:v.district,onChange:S,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),r.jsx("input",{type:"text",name:"state",value:v.state,onChange:S,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsx("input",{type:"email",name:"email",value:v.email,onChange:S,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),r.jsx("input",{type:"tel",name:"phone",value:v.phone,onChange:S,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Number"}),r.jsx("input",{type:"tel",name:"contactNumber",value:v.contactNumber,onChange:S,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),r.jsx("input",{type:"text",name:"pincode",value:v.pincode,onChange:S,pattern:"[0-9]{6}",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),r.jsx("textarea",{name:"address",value:v.address,onChange:S,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Hosting & Domain"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Firebase Hosting URL *"}),r.jsx("input",{type:"url",name:"url",value:v.url,onChange:S,required:!0,placeholder:"https://gp-nawargaon.web.app",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The primary Firebase hosting URL (e.g., https://gp-nawargaon.web.app)"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Domain"}),r.jsx("input",{type:"text",name:"customDomain",value:v.customDomain,onChange:S,placeholder:"www.grampanchayatnawargaon.in",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optional custom domain (e.g., www.grampanchayatnawargaon.in)"})]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Admin Credentials"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Name"}),r.jsx("input",{type:"text",name:"adminName",value:v.adminName,onChange:S,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),r.jsx("input",{type:"email",name:"adminEmail",value:v.adminEmail,onChange:S,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Password (Plain Text)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:g?"text":"password",name:"adminPassword",value:v.adminPassword,onChange:S,className:"w-full px-4 py-2 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{type:"button",onClick:()=>p(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:g?r.jsx(_h,{className:"h-5 w-5"}):r.jsx(ai,{className:"h-5 w-5"})})]}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Password is stored in plain text for easy access"})]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Status"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"active",id:"active",checked:v.active,onChange:S,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"active",className:"ml-2 block text-sm text-gray-700",children:"Active (GP is accessible to users)"})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[r.jsx("button",{type:"button",onClick:()=>e(`/superadmin/gram-panchayats/${n}`),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:a,children:"Cancel"}),r.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ks,{className:"h-5 w-5 mr-2"}),"Save Changes"]})})]})]})]})})}function q$(){const n=gr(),[e,t]=G.useState([]),[s,a]=G.useState(!0),[o,c]=G.useState(""),[d,h]=G.useState(""),[f,g]=G.useState("all"),[p,v]=G.useState({}),[b,A]=G.useState(""),[S,j]=G.useState(!1),[E,L]=G.useState(null),[O,D]=G.useState(null),[ee,te]=G.useState(!1),[H,M]=G.useState(!1),I=[...new Set(e.map(ue=>ue.gpName))].sort();G.useEffect(()=>{U()},[]);const U=async()=>{try{a(!0),c("");const ue=await wT();t(ue)}catch(ue){console.error("Error fetching users:",ue),c("Failed to load users. Please try again.")}finally{a(!1)}},k=async(ue,je)=>{if(confirm(`Send password reset email to ${ue}?`))try{v({...p,[je]:!0}),await QF(ue),A(`Password reset email sent to ${ue}`),setTimeout(()=>A(""),5e3)}catch(Be){console.error("Error resetting password:",Be),alert("Failed to send password reset email. Please try again.")}finally{v({...p,[je]:!1})}},P=async ue=>{try{L(ue),j(!0),te(!0),M(!1);const je=await JF(ue.gpId,ue.id);D(je)}catch(je){console.error("Error fetching password:",je),alert("Failed to fetch password. It may not be available."),j(!1)}finally{te(!1)}},z=async()=>{if(confirm("Generate a new password for this user? This will update the stored password."))try{te(!0);const ue=await ZF(E.gpId,E.id,E.email);D({password:ue.password,passwordLastChanged:new Date,isNew:!0}),A(`New password generated for ${E.email}`),setTimeout(()=>A(""),5e3)}catch(ue){console.error("Error generating password:",ue),alert("Failed to generate new password. Please try again.")}finally{te(!1)}},le=ue=>{navigator.clipboard.writeText(ue),A("Password copied to clipboard!"),setTimeout(()=>A(""),3e3)},Ne=()=>{j(!1),L(null),D(null),M(!1)},ie=()=>{const ue=ge.map(he=>({Name:he.displayName||"N/A",Email:he.email,"Gram Panchayat":he.gpName,Role:he.role,"Created At":new Date(he.createdAt?.toDate()).toLocaleDateString("en-IN"),"Last Login":he.lastLogin?new Date(he.lastLogin.toDate()).toLocaleDateString("en-IN"):"Never"})),je=Object.keys(ue[0]).join(","),Be=ue.map(he=>Object.values(he).join(",")),se=[je,...Be].join(`
`),q=new Blob([se],{type:"text/csv"}),J=window.URL.createObjectURL(q),ae=document.createElement("a");ae.href=J,ae.download=`admin-users-${new Date().toISOString().split("T")[0]}.csv`,ae.click()},ge=e.filter(ue=>{const je=ue.displayName?.toLowerCase().includes(d.toLowerCase())||ue.email?.toLowerCase().includes(d.toLowerCase())||ue.gpName?.toLowerCase().includes(d.toLowerCase()),Be=f==="all"||ue.gpName===f;return je&&Be});return s?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading users..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>n("/superadmin/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(vi,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manage Admin Users"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[ge.length," of ",e.length," users"]})]})]}),r.jsxs("button",{onClick:ie,disabled:ge.length===0,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(Go,{className:"w-4 h-4"}),"Export CSV"]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b&&r.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[r.jsx(Yi,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),r.jsx("p",{className:"text-green-800",children:b})]}),o&&r.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[r.jsx(Qn,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),r.jsx("p",{className:"text-red-800",children:o})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by name, email, or GP...",value:d,onChange:ue=>h(ue.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(ky,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsxs("select",{value:f,onChange:ue=>g(ue.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent appearance-none bg-white",children:[r.jsx("option",{value:"all",children:"All Gram Panchayats"}),I.map(ue=>r.jsx("option",{value:ue,children:ue},ue))]})]})]})}),ge.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[r.jsx(rm,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No users found"}),r.jsx("p",{className:"text-gray-600",children:d||f!=="all"?"Try adjusting your search or filters":"No admin users have been created yet"})]}):r.jsx("div",{className:"space-y-4",children:ge.map(ue=>r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center",children:r.jsx(rm,{className:"w-6 h-6 text-indigo-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:ue.displayName||"No Name"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx($o,{className:"w-4 h-4"}),ue.email]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yl,{className:"w-4 h-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Gram Panchayat"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:ue.gpName})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zl,{className:"w-4 h-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Role"}),r.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:ue.role})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ss,{className:"w-4 h-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Created"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:ue.createdAt?new Date(ue.createdAt.toDate()).toLocaleDateString("en-IN"):"N/A"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[ue.lastLogin?r.jsx(Yi,{className:"w-4 h-4 text-green-500"}):r.jsx(gh,{className:"w-4 h-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Last Login"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:ue.lastLogin?new Date(ue.lastLogin.toDate()).toLocaleDateString("en-IN"):"Never"})]})]})]})]}),r.jsxs("div",{className:"ml-4 flex flex-col gap-2",children:[r.jsxs("button",{onClick:()=>P(ue),className:"flex items-center gap-2 px-4 py-2 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(ai,{className:"w-4 h-4"}),"View Password"]}),r.jsxs("button",{onClick:()=>k(ue.email,ue.id),disabled:p[ue.id],className:"flex items-center gap-2 px-4 py-2 text-sm bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(lV,{className:"w-4 h-4"}),p[ue.id]?"Sending...":"Reset Password"]})]})]})},ue.id))})]}),S&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"User Password"}),r.jsx("button",{onClick:Ne,className:"text-gray-400 hover:text-gray-600",children:r.jsx(gh,{className:"w-6 h-6"})})]}),E&&r.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"User"}),r.jsx("p",{className:"font-semibold text-gray-900",children:E.displayName||"No Name"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:E.email}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["GP: ",E.gpName]})]}),ee?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Loading password..."})]}):O?r.jsxs("div",{children:[O.isNew&&r.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-yellow-800",children:" New password generated. A password reset email has been sent."})}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:H?"text":"password",value:O.password||"Not available",readOnly:!0,className:"w-full px-4 py-2 pr-20 border border-gray-300 rounded-lg bg-gray-50 font-mono"}),r.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-1",children:[r.jsx("button",{onClick:()=>M(!H),className:"p-1.5 hover:bg-gray-200 rounded transition-colors",title:H?"Hide":"Show",children:H?r.jsx(_h,{className:"w-4 h-4 text-gray-600"}):r.jsx(ai,{className:"w-4 h-4 text-gray-600"})}),O.password&&r.jsx("button",{onClick:()=>le(O.password),className:"p-1.5 hover:bg-gray-200 rounded transition-colors",title:"Copy",children:r.jsx(k2,{className:"w-4 h-4 text-gray-600"})})]})]})]}),O.passwordLastChanged&&r.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Last changed: ",new Date(O.passwordLastChanged.toDate?.()||O.passwordLastChanged).toLocaleString("en-IN")]}),r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-4",children:r.jsxs("p",{className:"text-xs text-amber-800",children:[" ",r.jsx("strong",{children:"Security Notice:"})," This password is stored in encoded format (not encrypted). Users should change their password after first login for security."]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:z,disabled:ee,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-colors",children:[r.jsx(Bx,{className:"w-4 h-4"}),"Generate New"]}),r.jsx("button",{onClick:Ne,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Close"})]})]}):r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-gray-600",children:"Password not available"})})]})})]})}function G$(){const n=window.location.hostname.includes("superadmin-grampanchayat");return r.jsx(j8,{children:r.jsx(HF,{children:r.jsx(zF,{children:r.jsx(qF,{children:r.jsx(T8,{children:r.jsxs(rU,{children:[r.jsxs(p8,{children:[n&&r.jsx(bt,{path:"/",element:r.jsx(lx,{to:"/superadmin/login",replace:!0})}),r.jsx(bt,{path:"/superadmin/login",element:r.jsx(O$,{})}),r.jsx(bt,{path:"/superadmin/dashboard",element:r.jsx(gf,{children:r.jsx(F$,{})})}),r.jsx(bt,{path:"/superadmin/gram-panchayats",element:r.jsx(gf,{children:r.jsx(V$,{})})}),r.jsx(bt,{path:"/superadmin/gram-panchayats/add",element:r.jsx(gf,{children:r.jsx(U$,{})})}),r.jsx(bt,{path:"/superadmin/gram-panchayats/edit/:id",element:r.jsx(gf,{children:r.jsx(B$,{})})}),r.jsx(bt,{path:"/superadmin/gram-panchayats/:id",element:r.jsx(gf,{children:r.jsx(z$,{})})}),r.jsx(bt,{path:"/superadmin/users",element:r.jsx(gf,{children:r.jsx(q$,{})})}),r.jsxs(bt,{path:"/",element:r.jsx(vz,{}),children:[r.jsx(bt,{index:!0,element:r.jsx(Ez,{})}),r.jsx(bt,{path:"about",element:r.jsx(Az,{})}),r.jsx(bt,{path:"panchayat",element:r.jsx(Pz,{})}),r.jsx(bt,{path:"services",element:r.jsx(Fz,{})}),r.jsx(bt,{path:"schemes",element:r.jsx(qz,{})}),r.jsx(bt,{path:"downloads",element:r.jsx(Yz,{})}),r.jsx(bt,{path:"education",element:r.jsx(Xz,{})}),r.jsx(bt,{path:"gallery",element:r.jsx(nB,{})}),r.jsx(bt,{path:"financials",element:r.jsx(oB,{})}),r.jsx(bt,{path:"notices",element:r.jsx(fB,{})}),r.jsx(bt,{path:"contact",element:r.jsx(mB,{})}),r.jsx(bt,{path:"village-statistics",element:r.jsx(T$,{})})]}),r.jsx(bt,{path:"/firebase-setup",element:r.jsx(M$,{})}),r.jsx(bt,{path:"/admin/login",element:r.jsx(gB,{})}),r.jsx(bt,{path:"/admin/slider",element:r.jsx(lx,{to:"/admin/sliders",replace:!0})}),r.jsxs(bt,{path:"/admin",element:r.jsx(wz,{children:r.jsx(Nz,{})}),children:[r.jsx(bt,{path:"dashboard",element:r.jsx(pB,{})}),r.jsx(bt,{path:"members",element:r.jsx(xB,{})}),r.jsx(bt,{path:"members/new",element:r.jsx(F4,{})}),r.jsx(bt,{path:"members/edit/:id",element:r.jsx(F4,{})}),r.jsx(bt,{path:"services",element:r.jsx(bB,{})}),r.jsx(bt,{path:"services/new",element:r.jsx(U4,{})}),r.jsx(bt,{path:"services/edit/:id",element:r.jsx(U4,{})}),r.jsx(bt,{path:"schemes",element:r.jsx(vB,{})}),r.jsx(bt,{path:"schemes/new",element:r.jsx(V4,{})}),r.jsx(bt,{path:"schemes/edit/:id",element:r.jsx(V4,{})}),r.jsx(bt,{path:"notices",element:r.jsx(wB,{})}),r.jsx(bt,{path:"notices/new",element:r.jsx(z4,{})}),r.jsx(bt,{path:"notices/edit/:id",element:r.jsx(z4,{})}),r.jsx(bt,{path:"announcements",element:r.jsx(C$,{})}),r.jsx(bt,{path:"announcements/new",element:r.jsx(m3,{})}),r.jsx(bt,{path:"announcements/edit/:id",element:r.jsx(m3,{})}),r.jsx(bt,{path:"gallery",element:r.jsx(NB,{})}),r.jsx(bt,{path:"gallery/new",element:r.jsx(B4,{})}),r.jsx(bt,{path:"gallery/edit/:id",element:r.jsx(B4,{})}),r.jsx(bt,{path:"forms",element:r.jsx(SB,{})}),r.jsx(bt,{path:"forms/new",element:r.jsx(q4,{})}),r.jsx(bt,{path:"forms/edit/:id",element:r.jsx(q4,{})}),r.jsx(bt,{path:"settings",element:r.jsx(AB,{})}),r.jsx(bt,{path:"grievances",element:r.jsx(CB,{})}),r.jsx(bt,{path:"grievances/new",element:r.jsx(G4,{})}),r.jsx(bt,{path:"grievances/edit/:id",element:r.jsx(G4,{})}),r.jsx(bt,{path:"financials",element:r.jsx(IB,{})}),r.jsx(bt,{path:"financials/new",element:r.jsx(H4,{})}),r.jsx(bt,{path:"financials/edit/:id",element:r.jsx(H4,{})}),r.jsx(bt,{path:"officials",element:r.jsx(I$,{})}),r.jsx(bt,{path:"officials/new",element:r.jsx(g3,{})}),r.jsx(bt,{path:"officials/edit/:id",element:r.jsx(g3,{})}),r.jsx(bt,{path:"sliders",element:r.jsx(k$,{})}),r.jsx(bt,{path:"sliders/new",element:r.jsx(p3,{})}),r.jsx(bt,{path:"sliders/edit/:id",element:r.jsx(p3,{})}),r.jsx(bt,{path:"settings/header",element:r.jsx(R$,{})}),r.jsx(bt,{path:"content/about",element:r.jsx(kB,{})}),r.jsx(bt,{path:"content/education",element:r.jsx(RB,{})}),r.jsx(bt,{path:"village-statistics",element:r.jsx(A$,{})})]})]}),r.jsx(jz,{})]})})})})})})}Nk.createRoot(document.getElementById("root")).render(r.jsx(G.StrictMode,{children:r.jsx(G$,{})}));export{ur as _,H$ as c,hk as g};
